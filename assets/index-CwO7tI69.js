(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function I0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nd={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function fT(){if(t_)return Wl;t_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Wl.Fragment=e,Wl.jsx=i,Wl.jsxs=i,Wl}var e_;function dT(){return e_||(e_=1,nd.exports=fT()),nd.exports}var S=dT(),id={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function mT(){if(n_)return Rt;n_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,Y={};function q(D,nt,ot){this.props=D,this.context=nt,this.refs=Y,this.updater=ot||I}q.prototype.isReactComponent={},q.prototype.setState=function(D,nt){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,nt,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function X(){}X.prototype=q.prototype;function W(D,nt,ot){this.props=D,this.context=nt,this.refs=Y,this.updater=ot||I}var at=W.prototype=new X;at.constructor=W,k(at,q.prototype),at.isPureReactComponent=!0;var bt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function O(D,nt,ot,rt,gt,Nt){return ot=Nt.ref,{$$typeof:r,type:D,key:nt,ref:ot!==void 0?ot:null,props:Nt}}function R(D,nt){return O(D.type,nt,void 0,void 0,void 0,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var nt={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ot){return nt[ot]})}var j=/\/+/g;function U(D,nt){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):nt.toString(36)}function C(){}function Ae(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(nt){D.status==="pending"&&(D.status="fulfilled",D.value=nt)},function(nt){D.status==="pending"&&(D.status="rejected",D.reason=nt)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,nt,ot,rt,gt){var Nt=typeof D;(Nt==="undefined"||Nt==="boolean")&&(D=null);var Tt=!1;if(D===null)Tt=!0;else switch(Nt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(D.$$typeof){case r:case e:Tt=!0;break;case E:return Tt=D._init,ie(Tt(D._payload),nt,ot,rt,gt)}}if(Tt)return gt=gt(D),Tt=rt===""?"."+U(D,0):rt,bt(gt)?(ot="",Tt!=null&&(ot=Tt.replace(j,"$&/")+"/"),ie(gt,nt,ot,"",function(Hn){return Hn})):gt!=null&&(x(gt)&&(gt=R(gt,ot+(gt.key==null||D&&D.key===gt.key?"":(""+gt.key).replace(j,"$&/")+"/")+Tt)),nt.push(gt)),1;Tt=0;var Ie=rt===""?".":rt+":";if(bt(D))for(var Jt=0;Jt<D.length;Jt++)rt=D[Jt],Nt=Ie+U(rt,Jt),Tt+=ie(rt,nt,ot,Nt,gt);else if(Jt=w(D),typeof Jt=="function")for(D=Jt.call(D),Jt=0;!(rt=D.next()).done;)rt=rt.value,Nt=Ie+U(rt,Jt++),Tt+=ie(rt,nt,ot,Nt,gt);else if(Nt==="object"){if(typeof D.then=="function")return ie(Ae(D),nt,ot,rt,gt);throw nt=String(D),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function K(D,nt,ot){if(D==null)return D;var rt=[],gt=0;return ie(D,rt,"","",function(Nt){return nt.call(ot,Nt,gt++)}),rt}function lt(D){if(D._status===-1){var nt=D._result;nt=nt(),nt.then(function(ot){(D._status===0||D._status===-1)&&(D._status=1,D._result=ot)},function(ot){(D._status===0||D._status===-1)&&(D._status=2,D._result=ot)}),D._status===-1&&(D._status=0,D._result=nt)}if(D._status===1)return D._result.default;throw D._result}var it=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function wt(){}return Rt.Children={map:K,forEach:function(D,nt,ot){K(D,function(){nt.apply(this,arguments)},ot)},count:function(D){var nt=0;return K(D,function(){nt++}),nt},toArray:function(D){return K(D,function(nt){return nt})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=q,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=W,Rt.StrictMode=s,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ht.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,nt,ot){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=k({},D.props),gt=D.key,Nt=void 0;if(nt!=null)for(Tt in nt.ref!==void 0&&(Nt=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!_t.call(nt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&nt.ref===void 0||(rt[Tt]=nt[Tt]);var Tt=arguments.length-2;if(Tt===1)rt.children=ot;else if(1<Tt){for(var Ie=Array(Tt),Jt=0;Jt<Tt;Jt++)Ie[Jt]=arguments[Jt+2];rt.children=Ie}return O(D.type,gt,void 0,void 0,Nt,rt)},Rt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Rt.createElement=function(D,nt,ot){var rt,gt={},Nt=null;if(nt!=null)for(rt in nt.key!==void 0&&(Nt=""+nt.key),nt)_t.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=nt[rt]);var Tt=arguments.length-2;if(Tt===1)gt.children=ot;else if(1<Tt){for(var Ie=Array(Tt),Jt=0;Jt<Tt;Jt++)Ie[Jt]=arguments[Jt+2];gt.children=Ie}if(D&&D.defaultProps)for(rt in Tt=D.defaultProps,Tt)gt[rt]===void 0&&(gt[rt]=Tt[rt]);return O(D,Nt,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:g,render:D}},Rt.isValidElement=x,Rt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:lt}},Rt.memo=function(D,nt){return{$$typeof:p,type:D,compare:nt===void 0?null:nt}},Rt.startTransition=function(D){var nt=ht.T,ot={};ht.T=ot;try{var rt=D(),gt=ht.S;gt!==null&&gt(ot,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(wt,it)}catch(Nt){it(Nt)}finally{ht.T=nt}},Rt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Rt.use=function(D){return ht.H.use(D)},Rt.useActionState=function(D,nt,ot){return ht.H.useActionState(D,nt,ot)},Rt.useCallback=function(D,nt){return ht.H.useCallback(D,nt)},Rt.useContext=function(D){return ht.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,nt){return ht.H.useDeferredValue(D,nt)},Rt.useEffect=function(D,nt,ot){var rt=ht.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(D,nt)},Rt.useId=function(){return ht.H.useId()},Rt.useImperativeHandle=function(D,nt,ot){return ht.H.useImperativeHandle(D,nt,ot)},Rt.useInsertionEffect=function(D,nt){return ht.H.useInsertionEffect(D,nt)},Rt.useLayoutEffect=function(D,nt){return ht.H.useLayoutEffect(D,nt)},Rt.useMemo=function(D,nt){return ht.H.useMemo(D,nt)},Rt.useOptimistic=function(D,nt){return ht.H.useOptimistic(D,nt)},Rt.useReducer=function(D,nt,ot){return ht.H.useReducer(D,nt,ot)},Rt.useRef=function(D){return ht.H.useRef(D)},Rt.useState=function(D){return ht.H.useState(D)},Rt.useSyncExternalStore=function(D,nt,ot){return ht.H.useSyncExternalStore(D,nt,ot)},Rt.useTransition=function(){return ht.H.useTransition()},Rt.version="19.1.1",Rt}var i_;function $d(){return i_||(i_=1,id.exports=mT()),id.exports}var G=$d();const gT=I0(G);var rd={exports:{}},to={},ad={exports:{}},sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function pT(){return r_||(r_=1,(function(r){function e(K,lt){var it=K.length;K.push(lt);t:for(;0<it;){var wt=it-1>>>1,D=K[wt];if(0<o(D,lt))K[wt]=lt,K[it]=D,it=wt;else break t}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var lt=K[0],it=K.pop();if(it!==lt){K[0]=it;t:for(var wt=0,D=K.length,nt=D>>>1;wt<nt;){var ot=2*(wt+1)-1,rt=K[ot],gt=ot+1,Nt=K[gt];if(0>o(rt,it))gt<D&&0>o(Nt,rt)?(K[wt]=Nt,K[gt]=it,wt=gt):(K[wt]=rt,K[ot]=it,wt=ot);else if(gt<D&&0>o(Nt,it))K[wt]=Nt,K[gt]=it,wt=gt;else break t}}return lt}function o(K,lt){var it=K.sortIndex-lt.sortIndex;return it!==0?it:K.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,A=null,w=3,I=!1,k=!1,Y=!1,q=!1,X=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function bt(K){for(var lt=i(p);lt!==null;){if(lt.callback===null)s(p);else if(lt.startTime<=K)s(p),lt.sortIndex=lt.expirationTime,e(y,lt);else break;lt=i(p)}}function ht(K){if(Y=!1,bt(K),!k)if(i(y)!==null)k=!0,_t||(_t=!0,U());else{var lt=i(p);lt!==null&&ie(ht,lt.startTime-K)}}var _t=!1,O=-1,R=5,x=-1;function M(){return q?!0:!(r.unstable_now()-x<R)}function j(){if(q=!1,_t){var K=r.unstable_now();x=K;var lt=!0;try{t:{k=!1,Y&&(Y=!1,W(O),O=-1),I=!0;var it=w;try{e:{for(bt(K),A=i(y);A!==null&&!(A.expirationTime>K&&M());){var wt=A.callback;if(typeof wt=="function"){A.callback=null,w=A.priorityLevel;var D=wt(A.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){A.callback=D,bt(K),lt=!0;break e}A===i(y)&&s(y),bt(K)}else s(y);A=i(y)}if(A!==null)lt=!0;else{var nt=i(p);nt!==null&&ie(ht,nt.startTime-K),lt=!1}}break t}finally{A=null,w=it,I=!1}lt=void 0}}finally{lt?U():_t=!1}}}var U;if(typeof at=="function")U=function(){at(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ae=C.port2;C.port1.onmessage=j,U=function(){Ae.postMessage(null)}}else U=function(){X(j,0)};function ie(K,lt){O=X(function(){K(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var lt=3;break;default:lt=w}var it=w;w=lt;try{return K()}finally{w=it}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(K,lt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var it=w;w=K;try{return lt()}finally{w=it}},r.unstable_scheduleCallback=function(K,lt,it){var wt=r.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?wt+it:wt):it=wt,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=it+D,K={id:E++,callback:lt,priorityLevel:K,startTime:it,expirationTime:D,sortIndex:-1},it>wt?(K.sortIndex=it,e(p,K),i(y)===null&&K===i(p)&&(Y?(W(O),O=-1):Y=!0,ie(ht,it-wt))):(K.sortIndex=D,e(y,K),k||I||(k=!0,_t||(_t=!0,U()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var lt=w;return function(){var it=w;w=lt;try{return K.apply(this,arguments)}finally{w=it}}}})(sd)),sd}var a_;function yT(){return a_||(a_=1,ad.exports=pT()),ad.exports}var ld={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function _T(){if(s_)return Ke;s_=1;var r=$d();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:p,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(y,p,null,E)},Ke.flushSync=function(y){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=E,s.d.f()}},Ke.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Ke.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ke.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,A=g(E,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:I}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:w,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ke.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Ke.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,A=g(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ke.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Ke.requestFormReset=function(y){s.d.r(y)},Ke.unstable_batchedUpdates=function(y,p){return y(p)},Ke.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.1.1",Ke}var l_;function vT(){if(l_)return ld.exports;l_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ld.exports=_T(),ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function ET(){if(o_)return to;o_=1;var r=yT(),e=$d(),i=vT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),at=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case q:return"Profiler";case Y:return"StrictMode";case ht:return"Suspense";case _t:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case at:return(t.displayName||"Context")+".Provider";case W:return(t._context.displayName||"Context")+".Consumer";case bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ae(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Ae(t(n))}catch{}}return null}var ie=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},wt=[],D=-1;function nt(t){return{current:t}}function ot(t){0>D||(t.current=wt[D],wt[D]=null,D--)}function rt(t,n){D++,wt[D]=t.current,t.current=n}var gt=nt(null),Nt=nt(null),Tt=nt(null),Ie=nt(null);function Jt(t,n){switch(rt(Tt,n),rt(Nt,t),rt(gt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ny(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ny(n),t=Cy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ot(gt),rt(gt,t)}function Hn(){ot(gt),ot(Nt),ot(Tt)}function Fi(t){t.memoizedState!==null&&rt(Ie,t);var n=gt.current,a=Cy(n,t.type);n!==a&&(rt(Nt,t),rt(gt,a))}function mi(t){Nt.current===t&&(ot(gt),ot(Nt)),Ie.current===t&&(ot(Ie),Kl._currentValue=it)}var kr=Object.prototype.hasOwnProperty,zr=r.unstable_scheduleCallback,Br=r.unstable_cancelCallback,Fs=r.unstable_shouldYield,Io=r.unstable_requestPaint,vn=r.unstable_now,eh=r.unstable_getCurrentPriorityLevel,Qs=r.unstable_ImmediatePriority,Oa=r.unstable_UserBlockingPriority,qr=r.unstable_NormalPriority,nh=r.unstable_LowPriority,ja=r.unstable_IdlePriority,Ys=r.log,Vo=r.unstable_setDisableYieldValue,ue=null,Gt=null;function on(t){if(typeof Ys=="function"&&Vo(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ue,t)}catch{}}var Qe=Math.clz32?Math.clz32:Hr,Mo=Math.log,ih=Math.LN2;function Hr(t){return t>>>=0,t===0?32:31-(Mo(t)/ih|0)|0}var Gr=256,Fr=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function La(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=On(l):(v&=T,v!==0?h=On(v):a||(a=T&~t,a!==0&&(h=On(a))))):(T=l&~f,T!==0?h=On(T):v!==0?h=On(v):a||(a=l&~t,a!==0&&(h=On(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Qr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ks(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xs(){var t=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),t}function $s(){var t=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),t}function gi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function pi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zs(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Qe(a),tt=1<<$;T[$]=0,N[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var F=H[$];F!==null&&(F.lane&=-536870913)}a&=~tt}l!==0&&Gn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Gn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Js(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Qe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Qi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ua(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Yi(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:Ky(t.type))}function Oo(t,n){var a=lt.p;try{return lt.p=t,n()}finally{lt.p=a}}var re=Math.random().toString(36).slice(2),we="__reactFiber$"+re,pe="__reactProps$"+re,En="__reactContainer$"+re,Ws="__reactEvents$"+re,rh="__reactListeners$"+re,Ki="__reactHandles$"+re,jo="__reactResources$"+re,Yr="__reactMarker$"+re;function Xi(t){delete t[we],delete t[pe],delete t[Ws],delete t[rh],delete t[Ki]}function yi(t){var n=t[we];if(n)return n;for(var a=t.parentNode;a;){if(n=a[En]||a[we]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=My(t);t!==null;){if(a=t[we])return a;t=My(t)}return n}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[we]||t[En]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Je(t){var n=t[jo];return n||(n=t[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(t){t[Yr]=!0}var tl=new Set,Pa={};function jn(t,n){_i(t,n),_i(t+"Capture",n)}function _i(t,n){for(Pa[t]=n,t=0;t<n.length;t++)tl.add(n[t])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Kr={};function Po(t){return kr.call(Kr,t)?!0:kr.call(Uo,t)?!1:Lo.test(t)?Kr[t]=!0:(Uo[t]=!0,!1)}function $i(t,n,a){if(Po(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Yn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Pe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Xr,ko;function vi(t){if(Xr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",ko=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+t+ko}var ka=!1;function za(t,n){if(!t||ka)return"";ka=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var H=F}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(F){H=F}t.call(tt.prototype)}}else{try{throw Error()}catch(F){H=F}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var N=v.split(`
`),B=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{ka=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vi(a):""}function el(t){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return za(t.type,!1);case 11:return za(t.type.render,!1);case 1:return za(t.type,!0);case 31:return vi("Activity");default:return""}}function Ba(t){try{var n="";do n+=el(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ah(t){var n=nl(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function qa(t){t._valueTracker||(t._valueTracker=ah(t))}function il(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=nl(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function $r(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sh=/[\n"\\]/g;function ye(t){return t.replace(sh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function un(t,n,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+We(n)):t.value!==""+We(n)&&(t.value=""+We(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Zi(t,v,We(n)):a!=null?Zi(t,v,We(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+We(T):t.removeAttribute("name")}function Zr(t,n,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+We(a):"",n=n!=null?""+We(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Zi(t,n,a){n==="number"&&$r(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ei(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+We(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Yt(t,n,a){if(n!=null&&(n=""+We(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+We(a):""}function Jr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=We(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Wr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function rl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&zo(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&zo(t,f,n[f])}function al(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return oh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ti=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bi=null,Si=null;function sl(t){var n=Fn(t);if(n&&(t=n.stateNode)){var a=t[pe]||null;t:switch(t=n.stateNode,n.type){case"input":if(un(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[pe]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&il(l)}break t;case"textarea":Yt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ei(t,!!a.multiple,n,!1)}}}var Kn=!1;function Bo(t,n,a){if(Kn)return t(n,a);Kn=!0;try{var l=t(n);return l}finally{if(Kn=!1,(bi!==null||Si!==null)&&(Ou(),bi&&(n=bi,t=Si,Si=bi=null,sl(n),t)))for(n=0;n<t.length;n++)sl(t[n])}}function ta(t,n){var a=t.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Ln)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{Sn=!1}var Xn=null,Ji=null,Ai=null;function ll(){if(Ai)return Ai;var t,n=Ji,a=n.length,l,h="value"in Xn?Xn.value:Xn.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return Ai=h.slice(t,1<l?1-l:void 0)}function $n(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function ol(){return!1}function Ve(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zn:ol,this.isPropagationStopped=ol,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Ve(qt),na=E({},qt,{view:0,detail:0}),qo=Ve(na),Fa,Qa,Jn,ia=E({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(Fa=t.screenX-Jn.screenX,Qa=t.screenY-Jn.screenY):Qa=Fa=0,Jn=t),Fa)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),An=Ve(ia),Ho=E({},ia,{dataTransfer:0}),uh=Ve(Ho),ra=E({},na,{relatedTarget:0}),Ya=Ve(ra),ul=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=Ve(ul),Go=E({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xa=Ve(Go),ch=E({},qt,{data:0}),cl=Ve(ch),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Qo[t])?!!n[t]:!1}function sa(){return hl}var Yo=E({},na,{key:function(t){if(t.key){var n=aa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$n(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(t){return t.type==="keypress"?$n(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$n(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$a=Ve(Yo),Ko=E({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ve(Ko),wi=E({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),Xo=Ve(wi),$o=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zo=Ve($o),Jo=E({},ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=Ve(Jo),tn=E({},qt,{newState:0,oldState:0}),Wo=Ve(tn),tu=[9,13,27,32],Wn=Ln&&"CompositionEvent"in window,u=null;Ln&&"documentMode"in document&&(u=document.documentMode);var m=Ln&&"TextEvent"in window&&!u,_=Ln&&(!Wn||u&&8<u&&11>=u),b=" ",P=!1;function Q(t,n){switch(t){case"keyup":return tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Re(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(P=!0,b);case"textInput":return t=n.data,t===b&&P?null:t;default:return null}}function jt(t,n){if(Ot)return t==="compositionend"||!Wn&&Q(t,n)?(t=ll(),Ai=Ji=Xn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Me[t.type]:n==="textarea"}function Ri(t,n,a,l){bi?Si?Si.push(l):Si=[l]:bi=l,n=zu(n,"onChange"),0<n.length&&(a=new Ga("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ke=null,ti=null;function dl(t){Sy(t,0)}function eu(t){var n=Qn(t);if(il(n))return t}function Gm(t,n){if(t==="change")return n}var Fm=!1;if(Ln){var hh;if(Ln){var fh="oninput"in document;if(!fh){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),fh=typeof Qm.oninput=="function"}hh=fh}else hh=!1;Fm=hh&&(!document.documentMode||9<document.documentMode)}function Ym(){ke&&(ke.detachEvent("onpropertychange",Km),ti=ke=null)}function Km(t){if(t.propertyName==="value"&&eu(ti)){var n=[];Ri(n,ti,t,bn(t)),Bo(dl,n)}}function q1(t,n,a){t==="focusin"?(Ym(),ke=n,ti=a,ke.attachEvent("onpropertychange",Km)):t==="focusout"&&Ym()}function H1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(ti)}function G1(t,n){if(t==="click")return eu(n)}function F1(t,n){if(t==="input"||t==="change")return eu(n)}function Q1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:Q1;function ml(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!kr.call(n,h)||!cn(t[h],n[h]))return!1}return!0}function Xm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $m(t,n){var a=Xm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xm(a)}}function Zm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Jm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=$r(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=$r(t.document)}return n}function dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Y1=Ln&&"documentMode"in document&&11>=document.documentMode,Ja=null,mh=null,gl=null,gh=!1;function Wm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gh||Ja==null||Ja!==$r(l)||(l=Ja,"selectionStart"in l&&dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=zu(mh,"onSelect"),0<l.length&&(n=new Ga("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ja)))}function la(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Wa={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},ph={},tg={};Ln&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function oa(t){if(ph[t])return ph[t];if(!Wa[t])return t;var n=Wa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in tg)return ph[t]=n[a];return t}var eg=oa("animationend"),ng=oa("animationiteration"),ig=oa("animationstart"),K1=oa("transitionrun"),X1=oa("transitionstart"),$1=oa("transitioncancel"),rg=oa("transitionend"),ag=new Map,yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yh.push("scrollEnd");function Un(t,n){ag.set(t,n),jn(n,[t])}var sg=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var a=sg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ba(n)},sg.set(t,n),n)}return{value:t,source:n,stack:Ba(n)}}var Rn=[],ts=0,_h=0;function nu(){for(var t=ts,n=_h=ts=0;n<t;){var a=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&lg(a,h,f)}}function iu(t,n,a,l){Rn[ts++]=t,Rn[ts++]=n,Rn[ts++]=a,Rn[ts++]=l,_h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vh(t,n,a,l){return iu(t,n,a,l),ru(t)}function es(t,n){return iu(t,null,null,n),ru(t)}function lg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Qe(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function ru(t){if(50<zl)throw zl=0,Rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ns={};function Z1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,n,a,l){return new Z1(t,n,a,l)}function Eh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,n){var a=t.alternate;return a===null?(a=hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function og(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function au(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")Eh(t)&&(v=1);else if(typeof t=="string")v=WE(t,a,gt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case x:return t=hn(31,a,n,h),t.elementType=x,t.lanes=f,t;case k:return ua(a.children,h,f,n);case Y:v=8,h|=24;break;case q:return t=hn(12,a,n,h|2),t.elementType=q,t.lanes=f,t;case ht:return t=hn(13,a,n,h),t.elementType=ht,t.lanes=f,t;case _t:return t=hn(19,a,n,h),t.elementType=_t,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case at:v=10;break t;case W:v=9;break t;case bt:v=11;break t;case O:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=hn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ua(t,n,a,l){return t=hn(7,t,l,n),t.lanes=a,t}function Th(t,n,a){return t=hn(6,t,null,n),t.lanes=a,t}function bh(t,n,a){return n=hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var is=[],rs=0,su=null,lu=0,xn=[],Nn=0,ca=null,Ni=1,Ci="";function ha(t,n){is[rs++]=lu,is[rs++]=su,su=t,lu=n}function ug(t,n,a){xn[Nn++]=Ni,xn[Nn++]=Ci,xn[Nn++]=ca,ca=t;var l=Ni;t=Ci;var h=32-Qe(l)-1;l&=~(1<<h),a+=1;var f=32-Qe(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ni=1<<32-Qe(n)+h|a<<h|l,Ci=f+t}else Ni=1<<f|a<<h|l,Ci=t}function Sh(t){t.return!==null&&(ha(t,1),ug(t,1,0))}function Ah(t){for(;t===su;)su=is[--rs],is[rs]=null,lu=is[--rs],is[rs]=null;for(;t===ca;)ca=xn[--Nn],xn[Nn]=null,Ci=xn[--Nn],xn[Nn]=null,Ni=xn[--Nn],xn[Nn]=null}var en=null,ce=null,Bt=!1,fa=null,ei=!1,wh=Error(s(519));function da(t){var n=Error(s(418,""));throw _l(wn(n,t)),wh}function cg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[we]=t,n[pe]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<ql.length;a++)It(ql[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),qa(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Jr(n,l.value,l.defaultValue,l.children),qa(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||xy(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Bu),n=!0):n=!1,n||da(t)}function hg(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:en=en.return}}function pl(t){if(t!==en)return!1;if(!Bt)return hg(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qf(t.type,t.memoizedProps)),a=!a),a&&ce&&da(t),hg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ce=kn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ce=null}}else n===27?(n=ce,mr(t.type)?(t=Qf,Qf=null,ce=t):ce=n):ce=en?kn(t.stateNode.nextSibling):null;return!0}function yl(){ce=en=null,Bt=!1}function fg(){var t=fa;return t!==null&&(an===null?an=t:an.push.apply(an,t),fa=null),t}function _l(t){fa===null?fa=[t]:fa.push(t)}var Rh=nt(null),ma=null,Di=null;function Wi(t,n,a){rt(Rh,n._currentValue),n._currentValue=a}function Ii(t){t._currentValue=Rh.current,ot(Rh)}function xh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Nh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var N=0;N<n.length;N++)if(T.context===n[N]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),xh(f.return,a,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),xh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function vl(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;cn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}h=h.return}t!==null&&Nh(n,t,a,l),n.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ga(t){ma=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return dg(ma,t)}function uu(t,n){return ma===null&&ga(t),dg(t,n)}function dg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var J1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},W1=r.unstable_scheduleCallback,tE=r.unstable_NormalPriority,Ne={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new J1,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&W1(tE,function(){t.controller.abort()})}var Tl=null,Dh=0,as=0,ss=null;function eE(t,n){if(Tl===null){var a=Tl=[];Dh=0,as=Mf(),ss={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dh++,n.then(mg,mg),n}function mg(){if(--Dh===0&&Tl!==null){ss!==null&&(ss.status="fulfilled");var t=Tl;Tl=null,as=0,ss=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function nE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var gg=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&eE(t,n),gg!==null&&gg(t,n)};var pa=nt(null);function Ih(){var t=pa.current;return t!==null?t:Wt.pooledCache}function cu(t,n){n===null?rt(pa,pa.current):rt(pa,n.pool)}function pg(){var t=Ih();return t===null?null:{parent:Ne._currentValue,pool:t}}var bl=Error(s(460)),yg=Error(s(474)),hu=Error(s(542)),Vh={then:function(){}};function _g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fu(){}function vg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(fu,fu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Tg(t),t;default:if(typeof n.status=="string")n.then(fu,fu);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Tg(t),t}throw Sl=n,bl}}var Sl=null;function Eg(){if(Sl===null)throw Error(s(459));var t=Sl;return Sl=null,t}function Tg(t){if(t===bl||t===hu)throw Error(s(483))}var tr=!1;function Mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ru(t),lg(t,null,a),n}return iu(t,l,n,a),ru(t)}function Al(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}function jh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Lh=!1;function wl(){if(Lh){var t=ss;if(t!==null)throw t}}function Rl(t,n,a,l){Lh=!1;var h=t.updateQueue;tr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,B=N.next;N.next=null,v===null?f=B:v.next=B,v=N;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=B:T.next=B,$.lastBaseUpdate=N))}if(f!==null){var tt=h.baseState;v=0,$=B=N=null,T=f;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Lt&H)===H:(l&H)===H){H!==0&&H===as&&(Lh=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=t,pt=T;H=n;var $t=a;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){tt=Et.call($t,tt,H);break t}tt=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,H=typeof Et=="function"?Et.call($t,tt,H):Et,H==null)break t;tt=E({},tt,H);break t;case 2:tr=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(B=$=F,N=tt):$=$.next=F,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);$===null&&(N=tt),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),cr|=v,t.lanes=v,t.memoizedState=tt}}function bg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Sg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bg(a[t],n)}var ls=nt(null),du=nt(0);function Ag(t,n){t=Pi,rt(du,t),rt(ls,n),Pi=t|n.baseLanes}function Uh(){rt(du,Pi),rt(ls,ls.current)}function Ph(){Pi=du.current,ot(ls),ot(du)}var ir=0,xt=null,Kt=null,_e=null,mu=!1,os=!1,ya=!1,gu=0,xl=0,us=null,iE=0;function de(){throw Error(s(321))}function kh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!cn(t[a],n[a]))return!1;return!0}function zh(t,n,a,l,h,f){return ir=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?lp:op,ya=!1,f=a(l,h),ya=!1,os&&(f=Rg(n,a,l,h)),wg(t),f}function wg(t){K.H=Tu;var n=Kt!==null&&Kt.next!==null;if(ir=0,_e=Kt=xt=null,mu=!1,xl=0,us=null,n)throw Error(s(300));t===null||Oe||(t=t.dependencies,t!==null&&ou(t)&&(Oe=!0))}function Rg(t,n,a,l){xt=t;var h=0;do{if(os&&(us=null),xl=0,os=!1,25<=h)throw Error(s(301));if(h+=1,_e=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=cE,f=n(a,l)}while(os);return f}function rE(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Nl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(xt.flags|=1024),n}function Bh(){var t=gu!==0;return gu=0,t}function qh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Hh(t){if(mu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}mu=!1}ir=0,_e=Kt=xt=null,os=!1,xl=gu=0,us=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?xt.memoizedState=_e=t:_e=_e.next=t,_e}function ve(){if(Kt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=_e===null?xt.memoizedState:_e.next;if(n!==null)_e=n,Kt=t;else{if(t===null)throw xt.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},_e===null?xt.memoizedState=_e=t:_e=_e.next=t}return _e}function Gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var n=xl;return xl+=1,us===null&&(us=[]),t=vg(us,t,n),n=xt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?lp:op),t}function pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===at)return Ye(t)}throw Error(s(438,String(t)))}function Fh(t){var n=null,a=xt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gh(),xt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Vi(t,n){return typeof n=="function"?n(t):n}function yu(t){var n=ve();return Qh(n,Kt,t)}function Qh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,N=null,B=n,$=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(Lt&tt)===tt:(ir&tt)===tt){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===as&&($=!0);else if((ir&H)===H){B=B.next,H===as&&($=!0);continue}else tt={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=tt,v=f):N=N.next=tt,xt.lanes|=H,cr|=H;tt=B.action,ya&&a(f,tt),f=B.hasEagerState?B.eagerState:a(f,tt)}else H={lane:tt,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=H,v=f):N=N.next=H,xt.lanes|=tt,cr|=tt;B=B.next}while(B!==null&&B!==n);if(N===null?v=f:N.next=T,!cn(f,t.memoizedState)&&(Oe=!0,$&&(a=ss,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yh(t){var n=ve(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);cn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function xg(t,n,a){var l=xt,h=ve(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!cn((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var T=Dg.bind(null,l,h,t);if(Cl(2048,8,T,[t]),h.getSnapshot!==n||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,cs(9,_u(),Cg.bind(null,l,h,a,n),null),Wt===null)throw Error(s(349));f||(ir&124)!==0||Ng(l,n,a)}return a}function Ng(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=xt.updateQueue,n===null?(n=Gh(),xt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Cg(t,n,a,l){n.value=a,n.getSnapshot=l,Ig(n)&&Vg(t)}function Dg(t,n,a){return a(function(){Ig(n)&&Vg(t)})}function Ig(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!cn(t,a)}catch{return!0}}function Vg(t){var n=es(t,2);n!==null&&pn(n,t,2)}function Kh(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),ya){on(!0);try{a()}finally{on(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n}function Mg(t,n,a,l){return t.baseState=a,Qh(t,Kt,typeof l=="function"?l:Vi)}function aE(t,n,a,l,h){if(Eu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};K.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Og(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Og(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=K.T,v={};K.T=v;try{var T=a(h,l),N=K.S;N!==null&&N(v,T),jg(t,n,T)}catch(B){Xh(t,n,B)}finally{K.T=f}}else try{f=a(h,l),jg(t,n,f)}catch(B){Xh(t,n,B)}}function jg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Lg(t,n,l)},function(l){return Xh(t,n,l)}):Lg(t,n,a)}function Lg(t,n,a){n.status="fulfilled",n.value=a,Ug(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Og(t,a)))}function Xh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ug(n),n=n.next;while(n!==l)}t.action=null}function Ug(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Pg(t,n){return n}function kg(t,n){if(Bt){var a=Wt.formState;if(a!==null){t:{var l=xt;if(Bt){if(ce){e:{for(var h=ce,f=ei;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=kn(h.nextSibling),l=h.data==="F!";break t}}da(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:n},a.queue=l,a=rp.bind(null,xt,l),l.dispatch=a,l=Kh(!1),f=tf.bind(null,xt,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=aE.bind(null,xt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function zg(t){var n=ve();return Bg(n,Kt,t)}function Bg(t,n,a){if(n=Qh(t,n,Pg)[0],t=yu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Nl(n)}catch(v){throw v===bl?hu:v}else l=n;n=ve();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(xt.flags|=2048,cs(9,_u(),sE.bind(null,h,a),null)),[l,f,t]}function sE(t,n){t.action=n}function qg(t){var n=ve(),a=Kt;if(a!==null)return Bg(n,a,t);ve(),n=n.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function cs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=Gh(),xt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function _u(){return{destroy:void 0,resource:void 0}}function Hg(){return ve().memoizedState}function vu(t,n,a,l){var h=nn();l=l===void 0?null:l,xt.flags|=t,h.memoizedState=cs(1|n,_u(),a,l)}function Cl(t,n,a,l){var h=ve();l=l===void 0?null:l;var f=h.memoizedState.inst;Kt!==null&&l!==null&&kh(l,Kt.memoizedState.deps)?h.memoizedState=cs(n,f,a,l):(xt.flags|=t,h.memoizedState=cs(1|n,f,a,l))}function Gg(t,n){vu(8390656,8,t,n)}function Fg(t,n){Cl(2048,8,t,n)}function Qg(t,n){return Cl(4,2,t,n)}function Yg(t,n){return Cl(4,4,t,n)}function Kg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xg(t,n,a){a=a!=null?a.concat([t]):null,Cl(4,4,Kg.bind(null,n,t),a)}function $h(){}function $g(t,n){var a=ve();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&kh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Zg(t,n){var a=ve();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&kh(n,l[1]))return l[0];if(l=t(),ya){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[l,n],l}function Zh(t,n,a){return a===void 0||(ir&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=ty(),xt.lanes|=t,cr|=t,a)}function Jg(t,n,a,l){return cn(a,n)?a:ls.current!==null?(t=Zh(t,a,l),cn(t,n)||(Oe=!0),t):(ir&42)===0?(Oe=!0,t.memoizedState=a):(t=ty(),xt.lanes|=t,cr|=t,n)}function Wg(t,n,a,l,h){var f=lt.p;lt.p=f!==0&&8>f?f:8;var v=K.T,T={};K.T=T,tf(t,!1,n,a);try{var N=h(),B=K.S;if(B!==null&&B(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=nE(N,l);Dl(t,n,$,gn(t))}else Dl(t,n,l,gn(t))}catch(tt){Dl(t,n,{then:function(){},status:"rejected",reason:tt},gn())}finally{lt.p=f,K.T=v}}function lE(){}function Jh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=tp(t).queue;Wg(t,h,n,it,a===null?lE:function(){return ep(t),a(l)})}function tp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:it},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ep(t){var n=tp(t).next.queue;Dl(t,n,{},gn())}function Wh(){return Ye(Kl)}function np(){return ve().memoizedState}function ip(){return ve().memoizedState}function oE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=gn();t=er(a);var l=nr(n,t,a);l!==null&&(pn(l,n,a),Al(l,n,a)),n={cache:Ch()},t.payload=n;return}n=n.return}}function uE(t,n,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Eu(t)?ap(n,a):(a=vh(t,n,a,l),a!==null&&(pn(a,t,l),sp(a,n,l)))}function rp(t,n,a){var l=gn();Dl(t,n,a,l)}function Dl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Eu(t))ap(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,cn(T,v))return iu(t,n,h,0),Wt===null&&nu(),!1}catch{}finally{}if(a=vh(t,n,h,l),a!==null)return pn(a,t,l),sp(a,n,l),!0}return!1}function tf(t,n,a,l){if(l={lane:2,revertLane:Mf(),action:l,hasEagerState:!1,eagerState:null,next:null},Eu(t)){if(n)throw Error(s(479))}else n=vh(t,a,l,2),n!==null&&pn(n,t,2)}function Eu(t){var n=t.alternate;return t===xt||n!==null&&n===xt}function ap(t,n){os=mu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function sp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}var Tu={readContext:Ye,use:pu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},lp={readContext:Ye,use:pu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Ye,useEffect:Gg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,vu(4194308,4,Kg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return vu(4194308,4,t,n)},useInsertionEffect:function(t,n){vu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(ya){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(ya){on(!0);try{a(n)}finally{on(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=uE.bind(null,xt,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Kh(t);var n=t.queue,a=rp.bind(null,xt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:$h,useDeferredValue:function(t,n){var a=nn();return Zh(a,t,n)},useTransition:function(){var t=Kh(!1);return t=Wg.bind(null,xt,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=xt,h=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Lt&124)!==0||Ng(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Gg(Dg.bind(null,l,f,t),[t]),l.flags|=2048,cs(9,_u(),Cg.bind(null,l,f,a,n),null),a},useId:function(){var t=nn(),n=Wt.identifierPrefix;if(Bt){var a=Ci,l=Ni;a=(l&~(1<<32-Qe(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=gu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=iE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Wh,useFormState:kg,useActionState:kg,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=tf.bind(null,xt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Fh,useCacheRefresh:function(){return nn().memoizedState=oE.bind(null,xt)}},op={readContext:Ye,use:pu,useCallback:$g,useContext:Ye,useEffect:Fg,useImperativeHandle:Xg,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Zg,useReducer:yu,useRef:Hg,useState:function(){return yu(Vi)},useDebugValue:$h,useDeferredValue:function(t,n){var a=ve();return Jg(a,Kt.memoizedState,t,n)},useTransition:function(){var t=yu(Vi)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:xg,useId:np,useHostTransitionStatus:Wh,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var a=ve();return Mg(a,Kt,t,n)},useMemoCache:Fh,useCacheRefresh:ip},cE={readContext:Ye,use:pu,useCallback:$g,useContext:Ye,useEffect:Fg,useImperativeHandle:Xg,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Yh,useRef:Hg,useState:function(){return Yh(Vi)},useDebugValue:$h,useDeferredValue:function(t,n){var a=ve();return Kt===null?Zh(a,t,n):Jg(a,Kt.memoizedState,t,n)},useTransition:function(){var t=Yh(Vi)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:xg,useId:np,useHostTransitionStatus:Wh,useFormState:qg,useActionState:qg,useOptimistic:function(t,n){var a=ve();return Kt!==null?Mg(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:ip},hs=null,Il=0;function bu(t){var n=Il;return Il+=1,hs===null&&(hs=[]),vg(hs,t,n)}function Vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Su(t,n){throw n.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function up(t){var n=t._init;return n(t._payload)}function cp(t){function n(L,V){if(t){var z=L.deletions;z===null?(L.deletions=[V],L.flags|=16):z.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)n(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=xi(L,V),L.index=0,L.sibling=null,L}function f(L,V,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<V?(L.flags|=67108866,V):z):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,z,Z){return V===null||V.tag!==6?(V=Th(z,L.mode,Z),V.return=L,V):(V=h(V,z),V.return=L,V)}function N(L,V,z,Z){var ft=z.type;return ft===k?$(L,V,z.props.children,Z,z.key):V!==null&&(V.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&up(ft)===V.type)?(V=h(V,z.props),Vl(V,z),V.return=L,V):(V=au(z.type,z.key,z.props,null,L.mode,Z),Vl(V,z),V.return=L,V)}function B(L,V,z,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=bh(z,L.mode,Z),V.return=L,V):(V=h(V,z.children||[]),V.return=L,V)}function $(L,V,z,Z,ft){return V===null||V.tag!==7?(V=ua(z,L.mode,Z,ft),V.return=L,V):(V=h(V,z),V.return=L,V)}function tt(L,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Th(""+V,L.mode,z),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return z=au(V.type,V.key,V.props,null,L.mode,z),Vl(z,V),z.return=L,z;case I:return V=bh(V,L.mode,z),V.return=L,V;case R:var Z=V._init;return V=Z(V._payload),tt(L,V,z)}if(ie(V)||U(V))return V=ua(V,L.mode,z,null),V.return=L,V;if(typeof V.then=="function")return tt(L,bu(V),z);if(V.$$typeof===at)return tt(L,uu(L,V),z);Su(L,V)}return null}function H(L,V,z,Z){var ft=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:T(L,V,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===ft?N(L,V,z,Z):null;case I:return z.key===ft?B(L,V,z,Z):null;case R:return ft=z._init,z=ft(z._payload),H(L,V,z,Z)}if(ie(z)||U(z))return ft!==null?null:$(L,V,z,Z,null);if(typeof z.then=="function")return H(L,V,bu(z),Z);if(z.$$typeof===at)return H(L,V,uu(L,z),Z);Su(L,z)}return null}function F(L,V,z,Z,ft){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(z)||null,T(V,L,""+Z,ft);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return L=L.get(Z.key===null?z:Z.key)||null,N(V,L,Z,ft);case I:return L=L.get(Z.key===null?z:Z.key)||null,B(V,L,Z,ft);case R:var Ct=Z._init;return Z=Ct(Z._payload),F(L,V,z,Z,ft)}if(ie(Z)||U(Z))return L=L.get(z)||null,$(V,L,Z,ft,null);if(typeof Z.then=="function")return F(L,V,z,bu(Z),ft);if(Z.$$typeof===at)return F(L,V,z,uu(V,Z),ft);Su(V,Z)}return null}function Et(L,V,z,Z){for(var ft=null,Ct=null,dt=V,yt=V=0,Le=null;dt!==null&&yt<z.length;yt++){dt.index>yt?(Le=dt,dt=null):Le=dt.sibling;var kt=H(L,dt,z[yt],Z);if(kt===null){dt===null&&(dt=Le);break}t&&dt&&kt.alternate===null&&n(L,dt),V=f(kt,V,yt),Ct===null?ft=kt:Ct.sibling=kt,Ct=kt,dt=Le}if(yt===z.length)return a(L,dt),Bt&&ha(L,yt),ft;if(dt===null){for(;yt<z.length;yt++)dt=tt(L,z[yt],Z),dt!==null&&(V=f(dt,V,yt),Ct===null?ft=dt:Ct.sibling=dt,Ct=dt);return Bt&&ha(L,yt),ft}for(dt=l(dt);yt<z.length;yt++)Le=F(dt,L,yt,z[yt],Z),Le!==null&&(t&&Le.alternate!==null&&dt.delete(Le.key===null?yt:Le.key),V=f(Le,V,yt),Ct===null?ft=Le:Ct.sibling=Le,Ct=Le);return t&&dt.forEach(function(vr){return n(L,vr)}),Bt&&ha(L,yt),ft}function pt(L,V,z,Z){if(z==null)throw Error(s(151));for(var ft=null,Ct=null,dt=V,yt=V=0,Le=null,kt=z.next();dt!==null&&!kt.done;yt++,kt=z.next()){dt.index>yt?(Le=dt,dt=null):Le=dt.sibling;var vr=H(L,dt,kt.value,Z);if(vr===null){dt===null&&(dt=Le);break}t&&dt&&vr.alternate===null&&n(L,dt),V=f(vr,V,yt),Ct===null?ft=vr:Ct.sibling=vr,Ct=vr,dt=Le}if(kt.done)return a(L,dt),Bt&&ha(L,yt),ft;if(dt===null){for(;!kt.done;yt++,kt=z.next())kt=tt(L,kt.value,Z),kt!==null&&(V=f(kt,V,yt),Ct===null?ft=kt:Ct.sibling=kt,Ct=kt);return Bt&&ha(L,yt),ft}for(dt=l(dt);!kt.done;yt++,kt=z.next())kt=F(dt,L,yt,kt.value,Z),kt!==null&&(t&&kt.alternate!==null&&dt.delete(kt.key===null?yt:kt.key),V=f(kt,V,yt),Ct===null?ft=kt:Ct.sibling=kt,Ct=kt);return t&&dt.forEach(function(hT){return n(L,hT)}),Bt&&ha(L,yt),ft}function $t(L,V,z,Z){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:t:{for(var ft=z.key;V!==null;){if(V.key===ft){if(ft=z.type,ft===k){if(V.tag===7){a(L,V.sibling),Z=h(V,z.props.children),Z.return=L,L=Z;break t}}else if(V.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&up(ft)===V.type){a(L,V.sibling),Z=h(V,z.props),Vl(Z,z),Z.return=L,L=Z;break t}a(L,V);break}else n(L,V);V=V.sibling}z.type===k?(Z=ua(z.props.children,L.mode,Z,z.key),Z.return=L,L=Z):(Z=au(z.type,z.key,z.props,null,L.mode,Z),Vl(Z,z),Z.return=L,L=Z)}return v(L);case I:t:{for(ft=z.key;V!==null;){if(V.key===ft)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(L,V.sibling),Z=h(V,z.children||[]),Z.return=L,L=Z;break t}else{a(L,V);break}else n(L,V);V=V.sibling}Z=bh(z,L.mode,Z),Z.return=L,L=Z}return v(L);case R:return ft=z._init,z=ft(z._payload),$t(L,V,z,Z)}if(ie(z))return Et(L,V,z,Z);if(U(z)){if(ft=U(z),typeof ft!="function")throw Error(s(150));return z=ft.call(z),pt(L,V,z,Z)}if(typeof z.then=="function")return $t(L,V,bu(z),Z);if(z.$$typeof===at)return $t(L,V,uu(L,z),Z);Su(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(L,V.sibling),Z=h(V,z),Z.return=L,L=Z):(a(L,V),Z=Th(z,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,V)}return function(L,V,z,Z){try{Il=0;var ft=$t(L,V,z,Z);return hs=null,ft}catch(dt){if(dt===bl||dt===hu)throw dt;var Ct=hn(29,dt,null,L.mode);return Ct.lanes=Z,Ct.return=L,Ct}finally{}}}var fs=cp(!0),hp=cp(!1),Cn=nt(null),ni=null;function rr(t){var n=t.alternate;rt(Ce,Ce.current&1),rt(Cn,t),ni===null&&(n===null||ls.current!==null||n.memoizedState!==null)&&(ni=t)}function fp(t){if(t.tag===22){if(rt(Ce,Ce.current),rt(Cn,t),ni===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ni=t)}}else ar()}function ar(){rt(Ce,Ce.current),rt(Cn,Cn.current)}function Mi(t){ot(Cn),ni===t&&(ni=null),ot(Ce)}var Ce=nt(0);function Au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ff(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ef(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=gn(),h=er(l);h.payload=n,a!=null&&(h.callback=a),n=nr(t,h,l),n!==null&&(pn(n,t,l),Al(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=gn(),h=er(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=nr(t,h,l),n!==null&&(pn(n,t,l),Al(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=gn(),l=er(a);l.tag=2,n!=null&&(l.callback=n),n=nr(t,l,a),n!==null&&(pn(n,t,a),Al(n,t,a))}};function dp(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!ml(a,l)||!ml(h,f):!0}function mp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&nf.enqueueReplaceState(n,n.state,null)}function _a(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function gp(t){wu(t)}function pp(t){console.error(t)}function yp(t){wu(t)}function Ru(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function _p(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(t,n,a){return a=er(a),a.tag=3,a.payload={element:null},a.callback=function(){Ru(t,n)},a}function vp(t){return t=er(t),t.tag=3,t}function Ep(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){_p(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){_p(n,a,l),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function hE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&vl(n,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ni===null?Nf():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Vh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Df(t,l,h)),!1;case 22:return a.flags|=65536,l===Vh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Df(t,l,h)),!1}throw Error(s(435,a.tag))}return Df(t,l,h),Nf(),!1}if(Bt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==wh&&(t=Error(s(422),{cause:l}),_l(wn(t,a)))):(l!==wh&&(n=Error(s(423),{cause:l}),_l(wn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=wn(l,a),h=rf(t.stateNode,l,h),jh(t,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:l});if(f=wn(f,a),kl===null?kl=[f]:kl.push(f),he!==4&&(he=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rf(a.stateNode,l,t),jh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vp(h),Ep(h,t,a,l),jh(a,h),!1}a=a.return}while(a!==null);return!1}var Tp=Error(s(461)),Oe=!1;function ze(t,n,a,l){n.child=t===null?hp(n,null,a,l):fs(n,t.child,a,l)}function bp(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ga(n),l=zh(t,n,a,v,f,h),T=Bh(),t!==null&&!Oe?(qh(t,n,h),Oi(t,n,h)):(Bt&&T&&Sh(n),n.flags|=1,ze(t,n,l,h),n.child)}function Sp(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Eh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ap(t,n,f,l,h)):(t=au(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ff(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(v,l)&&t.ref===n.ref)return Oi(t,n,h)}return n.flags|=1,t=xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ap(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(ml(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,ff(t,h))(t.flags&131072)!==0&&(Oe=!0);else return n.lanes=t.lanes,Oi(t,n,h)}return af(t,n,a,l,h)}function wp(t,n,a){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Rp(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(n,f!==null?f.cachePool:null),f!==null?Ag(n,f):Uh(),fp(n);else return n.lanes=n.childLanes=536870912,Rp(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(cu(n,f.cachePool),Ag(n,f),ar(),n.memoizedState=null):(t!==null&&cu(n,null),Uh(),ar());return ze(t,n,h,a),n.child}function Rp(t,n,a,l){var h=Ih();return h=h===null?null:{parent:Ne._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&cu(n,null),Uh(),fp(n),t!==null&&vl(t,n,l,!0),null}function xu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function af(t,n,a,l,h){return ga(n),a=zh(t,n,a,l,void 0,h),l=Bh(),t!==null&&!Oe?(qh(t,n,h),Oi(t,n,h)):(Bt&&l&&Sh(n),n.flags|=1,ze(t,n,a,h),n.child)}function xp(t,n,a,l,h,f){return ga(n),n.updateQueue=null,a=Rg(n,l,a,h),wg(t),l=Bh(),t!==null&&!Oe?(qh(t,n,f),Oi(t,n,f)):(Bt&&l&&Sh(n),n.flags|=1,ze(t,n,a,f),n.child)}function Np(t,n,a,l,h){if(ga(n),n.stateNode===null){var f=ns,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ye(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Mh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ye(v):ns,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ef(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&nf.enqueueReplaceState(f,f.state,null),Rl(n,l,f,h),wl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,N=_a(a,T);f.props=N;var B=f.context,$=a.contextType;v=ns,typeof $=="object"&&$!==null&&(v=Ye($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==v)&&mp(n,f,l,v),tr=!1;var H=n.memoizedState;f.state=H,Rl(n,l,f,h),wl(),B=n.memoizedState,T||H!==B||tr?(typeof tt=="function"&&(ef(n,a,tt,l),B=n.memoizedState),(N=tr||dp(n,a,N,l,H,B,v))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Oh(t,n),v=n.memoizedProps,$=_a(a,v),f.props=$,tt=n.pendingProps,H=f.context,B=a.contextType,N=ns,typeof B=="object"&&B!==null&&(N=Ye(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==tt||H!==N)&&mp(n,f,l,N),tr=!1,H=n.memoizedState,f.state=H,Rl(n,l,f,h),wl();var F=n.memoizedState;v!==tt||H!==F||tr||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof T=="function"&&(ef(n,a,T,l),F=n.memoizedState),($=tr||dp(n,a,$,l,H,F,N)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=N,l=$):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,xu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=fs(n,t.child,null,h),n.child=fs(n,null,a,h)):ze(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Oi(t,n,h),t}function Cp(t,n,a,l){return yl(),n.flags|=256,ze(t,n,a,l),n.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(t){return{baseLanes:t,cachePool:pg()}}function of(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Dn),t}function Dp(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ce.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?rr(n):ar(),Bt){var T=ce,N;if(N=T){t:{for(N=T,T=ei;N.nodeType!==8;){if(!T){T=null;break t}if(N=kn(N.nextSibling),N===null){T=null;break t}}T=N}T!==null?(n.memoizedState={dehydrated:T,treeContext:ca!==null?{id:Ni,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},N=hn(18,null,null,0),N.stateNode=T,N.return=n,n.child=N,en=n,ce=null,N=!0):N=!1}N||da(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ff(T)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return T=l.children,l=l.fallback,h?(ar(),h=n.mode,T=Nu({mode:"hidden",children:T},h),l=ua(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=lf(a),h.childLanes=of(t,v,a),n.memoizedState=sf,l):(rr(n),uf(n,T))}if(N=t.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(f)n.flags&256?(rr(n),n.flags&=-257,n=cf(t,n,a)):n.memoizedState!==null?(ar(),n.child=t.child,n.flags|=128,n=null):(ar(),h=l.fallback,T=n.mode,l=Nu({mode:"visible",children:l.children},T),h=ua(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,fs(n,t.child,null,a),l=n.child,l.memoizedState=lf(a),l.childLanes=of(t,v,a),n.memoizedState=sf,n=h);else if(rr(n),Ff(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,_l({value:l,source:null,stack:null}),n=cf(t,n,a)}else if(Oe||vl(t,n,a,!1),v=(a&t.childLanes)!==0,Oe||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Qi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,es(t,l),pn(v,t,l),Tp;T.data==="$?"||Nf(),n=cf(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ce=kn(T.nextSibling),en=n,Bt=!0,fa=null,ei=!1,t!==null&&(xn[Nn++]=Ni,xn[Nn++]=Ci,xn[Nn++]=ca,Ni=t.id,Ci=t.overflow,ca=n),n=uf(n,l.children),n.flags|=4096);return n}return h?(ar(),h=l.fallback,T=n.mode,N=t.child,B=N.sibling,l=xi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?h=xi(B,h):(h=ua(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=lf(a):(N=T.cachePool,N!==null?(B=Ne._currentValue,N=N.parent!==B?{parent:B,pool:B}:N):N=pg(),T={baseLanes:T.baseLanes|a,cachePool:N}),h.memoizedState=T,h.childLanes=of(t,v,a),n.memoizedState=sf,l):(rr(n),a=t.child,t=a.sibling,a=xi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function uf(t,n){return n=Nu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Nu(t,n){return t=hn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cf(t,n,a){return fs(n,t.child,null,a),t=uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ip(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),xh(t.return,n,a)}function hf(t,n,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function Vp(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(ze(t,n,l.children,a),l=Ce.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ip(t,a,n);else if(t.tag===19)Ip(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(rt(Ce,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Au(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),hf(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Au(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}hf(n,!0,a,null,f);break;case"together":hf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),cr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(vl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=xi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=xi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function fE(t,n,a){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),Wi(n,Ne,t.memoizedState.cache),yl();break;case 27:case 5:Fi(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:Wi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(rr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Dp(t,n,a):(rr(n),t=Oi(t,n,a),t!==null?t.sibling:null);rr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(vl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Vp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(Ce,Ce.current),l)break;return null;case 22:case 23:return n.lanes=0,wp(t,n,a);case 24:Wi(n,Ne,t.memoizedState.cache)}return Oi(t,n,a)}function Mp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!ff(t,a)&&(n.flags&128)===0)return Oe=!1,fE(t,n,a);Oe=(t.flags&131072)!==0}else Oe=!1,Bt&&(n.flags&1048576)!==0&&ug(n,lu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Eh(l)?(t=_a(l,t),n.tag=1,n=Np(null,n,l,t,a)):(n.tag=0,n=af(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===bt){n.tag=11,n=bp(null,n,l,t,a);break t}else if(h===O){n.tag=14,n=Sp(null,n,l,t,a);break t}}throw n=Ae(l)||l,Error(s(306,n,""))}}return n;case 0:return af(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=_a(l,n.pendingProps),Np(t,n,l,h,a);case 3:t:{if(Jt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Oh(t,n),Rl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Wi(n,Ne,l),l!==f.cache&&Nh(n,[Ne],a,!0),wl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cp(t,n,l,a);break t}else if(l!==h){h=wn(Error(s(424)),n),_l(h),n=Cp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ce=kn(t.firstChild),en=n,Bt=!0,fa=null,ei=!0,a=hp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===h){n=Oi(t,n,a);break t}ze(t,n,l,a)}n=n.child}return n;case 26:return xu(t,n),t===null?(a=Uy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=qu(Tt.current).createElement(a),l[we]=n,l[pe]=t,qe(l,a,t),fe(l),n.stateNode=l):n.memoizedState=Uy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Fi(n),t===null&&Bt&&(l=n.stateNode=Oy(n.type,n.pendingProps,Tt.current),en=n,ei=!0,h=ce,mr(n.type)?(Qf=h,ce=kn(l.firstChild)):ce=h),ze(t,n,n.pendingProps.children,a),xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((h=l=ce)&&(l=zE(l,n.type,n.pendingProps,ei),l!==null?(n.stateNode=l,en=n,ce=kn(l.firstChild),ei=!1,h=!0):h=!1),h||da(n)),Fi(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,qf(h,f)?l=null:v!==null&&qf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=zh(t,n,rE,null,null,a),Kl._currentValue=h),xu(t,n),ze(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=ce)&&(a=BE(a,n.pendingProps,ei),a!==null?(n.stateNode=a,en=n,ce=null,t=!0):t=!1),t||da(n)),null;case 13:return Dp(t,n,a);case 4:return Jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=fs(n,null,l,a):ze(t,n,l,a),n.child;case 11:return bp(t,n,n.type,n.pendingProps,a);case 7:return ze(t,n,n.pendingProps,a),n.child;case 8:return ze(t,n,n.pendingProps.children,a),n.child;case 12:return ze(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Wi(n,n.type,l.value),ze(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ga(n),h=Ye(h),l=l(h),n.flags|=1,ze(t,n,l,a),n.child;case 14:return Sp(t,n,n.type,n.pendingProps,a);case 15:return Ap(t,n,n.type,n.pendingProps,a);case 19:return Vp(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Nu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=xi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return wp(t,n,a);case 24:return ga(n),l=Ye(Ne),t===null?(h=Ih(),h===null&&(h=Wt,f=Ch(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Mh(n),Wi(n,Ne,h)):((t.lanes&a)!==0&&(Oh(t,n),Rl(n,null,null,a),wl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Wi(n,Ne,l)):(l=f.cache,Wi(n,Ne,l),l!==h.cache&&Nh(n,[Ne],a,!0))),ze(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ji(t){t.flags|=4}function Op(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qy(n)){if(n=Cn.current,n!==null&&((Lt&4194048)===Lt?ni!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==ni))throw Sl=Vh,yg;t.flags|=8192}}function Cu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$s():536870912,t.lanes|=n,ps|=n)}function Ml(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function le(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function dE(t,n,a){var l=n.pendingProps;switch(Ah(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(Ne),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(pl(n)?ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fg())),le(n),null;case 26:return a=n.memoizedState,t===null?(ji(n),a!==null?(le(n),Op(n,a)):(le(n),n.flags&=-16777217)):a?a!==t.memoizedState?(ji(n),le(n),Op(n,a)):(le(n),n.flags&=-16777217):(t.memoizedProps!==l&&ji(n),le(n),n.flags&=-16777217),null;case 27:mi(n),a=Tt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return le(n),null}t=gt.current,pl(n)?cg(n):(t=Oy(h,l,a),n.stateNode=t,ji(n))}return le(n),null;case 5:if(mi(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return le(n),null}if(t=gt.current,pl(n))cg(n);else{switch(h=qu(Tt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[we]=n,t[pe]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(qe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ji(n)}}return le(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,pl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[we]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||xy(t.nodeValue,a)),t||da(n)}else t=qu(t).createTextNode(l),t[we]=n,n.stateNode=t}return le(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[we]=n}else yl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=fg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Cu(n,n.updateQueue),le(n),null;case 4:return Hn(),t===null&&Uf(n.stateNode.containerInfo),le(n),null;case 10:return Ii(n.type),le(n),null;case 19:if(ot(Ce),h=n.memoizedState,h===null)return le(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Ml(h,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Au(t),f!==null){for(n.flags|=128,Ml(h,!1),t=f.updateQueue,n.updateQueue=t,Cu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)og(a,t),a=a.sibling;return rt(Ce,Ce.current&1|2),n.child}t=t.sibling}h.tail!==null&&vn()>Vu&&(n.flags|=128,l=!0,Ml(h,!1),n.lanes=4194304)}else{if(!l)if(t=Au(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Cu(n,t),Ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return le(n),null}else 2*vn()-h.renderingStartTime>Vu&&a!==536870912&&(n.flags|=128,l=!0,Ml(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=vn(),n.sibling=null,t=Ce.current,rt(Ce,l?t&1|2:t&1),n):(le(n),null);case 22:case 23:return Mi(n),Ph(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),a=n.updateQueue,a!==null&&Cu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ot(pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ii(Ne),le(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function mE(t,n){switch(Ah(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(Ne),Hn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return mi(n),null;case 13:if(Mi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));yl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ot(Ce),null;case 4:return Hn(),null;case 10:return Ii(n.type),null;case 22:case 23:return Mi(n),Ph(),t!==null&&ot(pa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(Ne),null;case 25:return null;default:return null}}function jp(t,n){switch(Ah(n),n.tag){case 3:Ii(Ne),Hn();break;case 26:case 27:case 5:mi(n);break;case 4:Hn();break;case 13:Mi(n);break;case 19:ot(Ce);break;case 10:Ii(n.type);break;case 22:case 23:Mi(n),Ph(),t!==null&&ot(pa);break;case 24:Ii(Ne)}}function Ol(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Zt(n,n.return,T)}}function sr(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var N=a,B=T;try{B()}catch($){Zt(h,N,$)}}}l=l.next}while(l!==f)}}catch($){Zt(n,n.return,$)}}function Lp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Sg(n,a)}catch(l){Zt(t,t.return,l)}}}function Up(t,n,a){a.props=_a(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(t,n,l)}}function jl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Zt(t,n,h)}}function ii(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(t,n,h)}else a.current=null}function Pp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(t,t.return,h)}}function df(t,n,a){try{var l=t.stateNode;jE(l,t.type,a,n),l[pe]=n}catch(h){Zt(t,t.return,h)}}function kp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mr(t.type)||t.tag===4}function mf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||kp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Bu));else if(l!==4&&(l===27&&mr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(gf(t,n,a),t=t.sibling;t!==null;)gf(t,n,a),t=t.sibling}function Du(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&mr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Du(t,n,a),t=t.sibling;t!==null;)Du(t,n,a),t=t.sibling}function zp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qe(n,l,a),n[we]=t,n[pe]=a}catch(f){Zt(t,t.return,f)}}var Li=!1,me=!1,pf=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,je=null;function gE(t,n){if(t=t.containerInfo,zf=Ku,t=Jm(t),dh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,N=-1,B=0,$=0,tt=t,H=null;e:for(;;){for(var F;tt!==a||h!==0&&tt.nodeType!==3||(T=v+h),tt!==f||l!==0&&tt.nodeType!==3||(N=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),(F=tt.firstChild)!==null;)H=tt,tt=F;for(;;){if(tt===t)break e;if(H===a&&++B===h&&(T=v),H===f&&++$===l&&(N=v),(F=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=F}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bf={focusedElem:t,selectionRange:a},Ku=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Et=_a(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Zt(a,a.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function qp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:lr(t,a),l&4&&Ol(5,a);break;case 1:if(lr(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var h=_a(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}l&64&&Lp(a),l&512&&jl(a,a.return);break;case 3:if(lr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Sg(t,n)}catch(v){Zt(a,a.return,v)}}break;case 27:n===null&&l&4&&zp(a);case 26:case 5:lr(t,a),n===null&&l&4&&Pp(a),l&512&&jl(a,a.return);break;case 12:lr(t,a);break;case 13:lr(t,a),l&4&&Fp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=AE.bind(null,a),qE(t,a))));break;case 22:if(l=a.memoizedState!==null||Li,!l){n=n!==null&&n.memoizedState!==null||me,h=Li;var f=me;Li=l,(me=n)&&!f?or(t,a,(a.subtreeFlags&8772)!==0):lr(t,a),Li=h,me=f}break;case 30:break;default:lr(t,a)}}function Hp(t){var n=t.alternate;n!==null&&(t.alternate=null,Hp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Xi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,rn=!1;function Ui(t,n,a){for(a=a.child;a!==null;)Gp(t,n,a),a=a.sibling}function Gp(t,n,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:me||ii(a,n),Ui(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||ii(a,n);var l=ae,h=rn;mr(a.type)&&(ae=a.stateNode,rn=!1),Ui(t,n,a),Gl(a.stateNode),ae=l,rn=h;break;case 5:me||ii(a,n);case 6:if(l=ae,h=rn,ae=null,Ui(t,n,a),ae=l,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(f){Zt(a,n,f)}else try{ae.removeChild(a.stateNode)}catch(f){Zt(a,n,f)}break;case 18:ae!==null&&(rn?(t=ae,Vy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Jl(t)):Vy(ae,a.stateNode));break;case 4:l=ae,h=rn,ae=a.stateNode.containerInfo,rn=!0,Ui(t,n,a),ae=l,rn=h;break;case 0:case 11:case 14:case 15:me||sr(2,a,n),me||sr(4,a,n),Ui(t,n,a);break;case 1:me||(ii(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Up(a,n,l)),Ui(t,n,a);break;case 21:Ui(t,n,a);break;case 22:me=(l=me)||a.memoizedState!==null,Ui(t,n,a),me=l;break;default:Ui(t,n,a)}}function Fp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jl(t)}catch(a){Zt(n,n.return,a)}}function pE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Bp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Bp),n;default:throw Error(s(435,t.tag))}}function yf(t,n){var a=pE(t);n.forEach(function(l){var h=wE.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(mr(T.type)){ae=T.stateNode,rn=!1;break t}break;case 5:ae=T.stateNode,rn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ae===null)throw Error(s(160));Gp(f,v,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qp(n,t),n=n.sibling}var Pn=null;function Qp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),dn(t),l&4&&(sr(3,t,t.return),Ol(3,t),sr(5,t,t.return));break;case 1:fn(n,t),dn(t),l&512&&(me||a===null||ii(a,a.return)),l&64&&Li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pn;if(fn(n,t),dn(t),l&512&&(me||a===null||ii(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Yr]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),qe(f,l,a),f[we]=t,fe(f),l=f;break t;case"link":var v=zy("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),qe(f,l,a),h.head.appendChild(f);break;case"meta":if(v=zy("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(l),qe(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[we]=t,fe(f),l=f}t.stateNode=l}else By(h,t.type,t.stateNode);else t.stateNode=ky(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?By(h,t.type,t.stateNode):ky(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&df(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(n,t),dn(t),l&512&&(me||a===null||ii(a,a.return)),a!==null&&l&4&&df(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,t),dn(t),l&512&&(me||a===null||ii(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(F){Zt(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,df(t,h,a!==null?a.memoizedProps:h)),l&1024&&(pf=!0);break;case 6:if(fn(n,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Zt(t,t.return,F)}}break;case 3:if(Fu=null,h=Pn,Pn=Hu(n.containerInfo),fn(n,t),Pn=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(n.containerInfo)}catch(F){Zt(t,t.return,F)}pf&&(pf=!1,Yp(t));break;case 4:l=Pn,Pn=Hu(t.stateNode.containerInfo),fn(n,t),dn(t),Pn=l;break;case 12:fn(n,t),dn(t);break;case 13:fn(n,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sf=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yf(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Li,$=me;if(Li=B||h,me=$||N,fn(n,t),me=$,Li=B,dn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||Li||me||va(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var tt=N.memoizedProps.style,H=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Zt(N,N.return,F)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(F){Zt(N,N.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yf(t,a))));break;case 19:fn(n,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yf(t,l)));break;case 30:break;case 21:break;default:fn(n,t),dn(t)}}function dn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(kp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=mf(t);Du(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=mf(t);Du(t,T,v);break;case 3:case 4:var N=a.stateNode.containerInfo,B=mf(t);gf(t,B,N);break;default:throw Error(s(161))}}catch($){Zt(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Yp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Yp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function lr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qp(t,n.alternate,n),n=n.sibling}function va(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sr(4,n,n.return),va(n);break;case 1:ii(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Up(n,n.return,a),va(n);break;case 27:Gl(n.stateNode);case 26:case 5:ii(n,n.return),va(n);break;case 22:n.memoizedState===null&&va(n);break;case 30:va(n);break;default:va(n)}t=t.sibling}}function or(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:or(h,f,a),Ol(4,f);break;case 1:if(or(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Zt(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)bg(N[h],T)}catch(B){Zt(l,l.return,B)}}a&&v&64&&Lp(f),jl(f,f.return);break;case 27:zp(f);case 26:case 5:or(h,f,a),a&&l===null&&v&4&&Pp(f),jl(f,f.return);break;case 12:or(h,f,a);break;case 13:or(h,f,a),a&&v&4&&Fp(h,f);break;case 22:f.memoizedState===null&&or(h,f,a),jl(f,f.return);break;case 30:break;default:or(h,f,a)}n=n.sibling}}function _f(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function vf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function ri(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kp(t,n,a,l),n=n.sibling}function Kp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(t,n,a,l),h&2048&&Ol(9,n);break;case 1:ri(t,n,a,l);break;case 3:ri(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(h&2048){ri(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Zt(n,n.return,N)}}else ri(t,n,a,l);break;case 13:ri(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ri(t,n,a,l):Ll(t,n):f._visibility&2?ri(t,n,a,l):(f._visibility|=2,ds(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&_f(v,n);break;case 24:ri(t,n,a,l),h&2048&&vf(n.alternate,n);break;default:ri(t,n,a,l)}}function ds(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=a,N=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:ds(f,v,T,N,h),Ol(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?ds(f,v,T,N,h):Ll(f,v):($._visibility|=2,ds(f,v,T,N,h)),h&&B&2048&&_f(v.alternate,v);break;case 24:ds(f,v,T,N,h),h&&B&2048&&vf(v.alternate,v);break;default:ds(f,v,T,N,h)}n=n.sibling}}function Ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Ll(a,l),h&2048&&_f(l.alternate,l);break;case 24:Ll(a,l),h&2048&&vf(l.alternate,l);break;default:Ll(a,l)}n=n.sibling}}var Ul=8192;function ms(t){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)Xp(t),t=t.sibling}function Xp(t){switch(t.tag){case 26:ms(t),t.flags&Ul&&t.memoizedState!==null&&eT(Pn,t.memoizedState,t.memoizedProps);break;case 5:ms(t);break;case 3:case 4:var n=Pn;Pn=Hu(t.stateNode.containerInfo),ms(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ul,Ul=16777216,ms(t),Ul=n):ms(t));break;default:ms(t)}}function $p(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,Jp(l,t)}$p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zp(t),t=t.sibling}function Zp(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&sr(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Iu(t)):Pl(t);break;default:Pl(t)}}function Iu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,Jp(l,t)}$p(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:sr(8,n,n.return),Iu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Iu(n));break;default:Iu(n)}t=t.sibling}}function Jp(t,n){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:sr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=t;je!==null;){l=je;var h=l.sibling,f=l.return;if(Hp(l),l===a){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var yE={getCacheForType:function(t){var n=Ye(Ne),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},_E=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Dt=null,Lt=0,Qt=0,mn=null,ur=!1,gs=!1,Ef=!1,Pi=0,he=0,cr=0,Ea=0,Tf=0,Dn=0,ps=0,kl=null,an=null,bf=!1,Sf=0,Vu=1/0,Mu=null,hr=null,Be=0,fr=null,ys=null,_s=0,Af=0,wf=null,Wp=null,zl=0,Rf=null;function gn(){if((Ft&2)!==0&&Lt!==0)return Lt&-Lt;if(K.T!==null){var t=as;return t!==0?t:Mf()}return Yi()}function ty(){Dn===0&&(Dn=(Lt&536870912)===0||Bt?Xs():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Dn}function pn(t,n,a){(t===Wt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(vs(t,0),dr(t,Lt,Dn,!1)),pi(t,a),((Ft&2)===0||t!==Wt)&&(t===Wt&&((Ft&2)===0&&(Ea|=a),he===4&&dr(t,Lt,Dn,!1)),ai(t))}function ey(t,n,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Qr(t,n),h=l?TE(t,n):Cf(t,n,!0),f=l;do{if(h===0){gs&&!l&&dr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!vE(a)){h=Cf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=kl;var N=T.current.memoizedState.isDehydrated;if(N&&(vs(T,v).flags|=256),v=Cf(T,v,!1),v!==2){if(Ef&&!N){T.errorRecoveryDisabledLanes|=f,Ea|=f,h=4;break t}f=an,an=h,f!==null&&(an===null?an=f:an.push.apply(an,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){vs(t,0),dr(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:dr(l,n,Dn,!ur);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Sf+300-vn(),10<h)){if(dr(l,n,Dn,!ur),La(l,0,!0)!==0)break t;l.timeoutHandle=Dy(ny.bind(null,l,a,an,Mu,bf,n,Dn,Ea,ps,ur,f,2,-0,0),h);break t}ny(l,a,an,Mu,bf,n,Dn,Ea,ps,ur,f,0,-0,0)}}break}while(!0);ai(t)}function ny(t,n,a,l,h,f,v,T,N,B,$,tt,H,F){if(t.timeoutHandle=-1,tt=n.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:tT},Xp(n),tt=nT(),tt!==null)){t.cancelPendingCommit=tt(uy.bind(null,t,n,f,a,l,h,v,T,N,$,1,H,F)),dr(t,f,v,!B);return}uy(t,n,f,a,l,h,v,T,N)}function vE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!cn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dr(t,n,a,l){n&=~Tf,n&=~Ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Qe(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&Gn(t,a,n)}function Ou(){return(Ft&6)===0?(Bl(0),!1):!0}function xf(){if(Dt!==null){if(Qt===0)var t=Dt.return;else t=Dt,Di=ma=null,Hh(t),hs=null,Il=0,t=Dt;for(;t!==null;)jp(t.alternate,t),t=t.return;Dt=null}}function vs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,UE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xf(),Wt=t,Dt=a=xi(t.current,null),Lt=n,Qt=0,mn=null,ur=!1,gs=Qr(t,n),Ef=!1,ps=Dn=Tf=Ea=cr=he=0,an=kl=null,bf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Qe(l),f=1<<h;n|=t[h],l&=~f}return Pi=n,nu(),a}function iy(t,n){xt=null,K.H=Tu,n===bl||n===hu?(n=Eg(),Qt=3):n===yg?(n=Eg(),Qt=4):Qt=n===Tp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,Dt===null&&(he=1,Ru(t,wn(n,t.current)))}function ry(){var t=K.H;return K.H=Tu,t===null?Tu:t}function ay(){var t=K.A;return K.A=yE,t}function Nf(){he=4,ur||(Lt&4194048)!==Lt&&Cn.current!==null||(gs=!0),(cr&134217727)===0&&(Ea&134217727)===0||Wt===null||dr(Wt,Lt,Dn,!1)}function Cf(t,n,a){var l=Ft;Ft|=2;var h=ry(),f=ay();(Wt!==t||Lt!==n)&&(Mu=null,vs(t,n)),n=!1;var v=he;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,N=mn;switch(Qt){case 8:xf(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var B=Qt;if(Qt=0,mn=null,Es(t,T,N,B),a&&gs){v=0;break t}break;default:B=Qt,Qt=0,mn=null,Es(t,T,N,B)}}EE(),v=he;break}catch($){iy(t,$)}while(!0);return n&&t.shellSuspendCounter++,Di=ma=null,Ft=l,K.H=h,K.A=f,Dt===null&&(Wt=null,Lt=0,nu()),v}function EE(){for(;Dt!==null;)sy(Dt)}function TE(t,n){var a=Ft;Ft|=2;var l=ry(),h=ay();Wt!==t||Lt!==n?(Mu=null,Vu=vn()+500,vs(t,n)):gs=Qr(t,n);t:do try{if(Qt!==0&&Dt!==null){n=Dt;var f=mn;e:switch(Qt){case 1:Qt=0,mn=null,Es(t,n,f,1);break;case 2:case 9:if(_g(f)){Qt=0,mn=null,ly(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==t||(Qt=7),ai(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:_g(f)?(Qt=0,mn=null,ly(n)):(Qt=0,mn=null,Es(t,n,f,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var T=Dt;if(!v||qy(v)){Qt=0,mn=null;var N=T.sibling;if(N!==null)Dt=N;else{var B=T.return;B!==null?(Dt=B,ju(B)):Dt=null}break e}}Qt=0,mn=null,Es(t,n,f,5);break;case 6:Qt=0,mn=null,Es(t,n,f,6);break;case 8:xf(),he=6;break t;default:throw Error(s(462))}}bE();break}catch($){iy(t,$)}while(!0);return Di=ma=null,K.H=l,K.A=h,Ft=a,Dt!==null?0:(Wt=null,Lt=0,nu(),he)}function bE(){for(;Dt!==null&&!Fs();)sy(Dt)}function sy(t){var n=Mp(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?ju(t):Dt=n}function ly(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=xp(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=xp(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Hh(n);default:jp(a,n),n=Dt=og(n,Pi),n=Mp(a,n,Pi)}t.memoizedProps=t.pendingProps,n===null?ju(t):Dt=n}function Es(t,n,a,l){Di=ma=null,Hh(n),hs=null,Il=0;var h=n.return;try{if(hE(t,h,n,a,Lt)){he=1,Ru(t,wn(a,t.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;he=1,Ru(t,wn(a,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:gs||(Lt&536870912)!==0?t=!1:(ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),oy(n,t)):ju(n)}function ju(t){var n=t;do{if((n.flags&32768)!==0){oy(n,ur);return}t=n.return;var a=dE(n.alternate,n,Pi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);he===0&&(he=5)}function oy(t,n){do{var a=mE(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);he=6,Dt=null}function uy(t,n,a,l,h,f,v,T,N){t.cancelPendingCommit=null;do Lu();while(Be!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=_h,Zs(t,a,f,v,T,N),t===Wt&&(Dt=Wt=null,Lt=0),ys=n,fr=t,_s=a,Af=f,wf=h,Wp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RE(qr,function(){return my(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=lt.p,lt.p=2,v=Ft,Ft|=4;try{gE(t,n,a)}finally{Ft=v,lt.p=h,K.T=l}}Be=1,cy(),hy(),fy()}}function cy(){if(Be===1){Be=0;var t=fr,n=ys,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=lt.p;lt.p=2;var h=Ft;Ft|=4;try{Qp(n,t);var f=Bf,v=Jm(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Zm(T.ownerDocument.documentElement,T)){if(N!==null&&dh(T)){var B=N.start,$=N.end;if($===void 0&&($=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min($,T.value.length);else{var tt=T.ownerDocument||document,H=tt&&tt.defaultView||window;if(H.getSelection){var F=H.getSelection(),Et=T.textContent.length,pt=Math.min(N.start,Et),$t=N.end===void 0?pt:Math.min(N.end,Et);!F.extend&&pt>$t&&(v=$t,$t=pt,pt=v);var L=$m(T,pt),V=$m(T,$t);if(L&&V&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var z=tt.createRange();z.setStart(L.node,L.offset),F.removeAllRanges(),pt>$t?(F.addRange(z),F.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),F.addRange(z))}}}}for(tt=[],F=T;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var Z=tt[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ku=!!zf,Bf=zf=null}finally{Ft=h,lt.p=l,K.T=a}}t.current=n,Be=2}}function hy(){if(Be===2){Be=0;var t=fr,n=ys,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=lt.p;lt.p=2;var h=Ft;Ft|=4;try{qp(t,n.alternate,n)}finally{Ft=h,lt.p=l,K.T=a}}Be=3}}function fy(){if(Be===4||Be===3){Be=0,Io();var t=fr,n=ys,a=_s,l=Wp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,ys=fr=null,dy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(hr=null),Ua(a),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ue,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=lt.p,lt.p=2,K.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{K.T=n,lt.p=h}}(_s&3)!==0&&Lu(),ai(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Rf?zl++:(zl=0,Rf=t):zl=0,Bl(0)}}function dy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function Lu(t){return cy(),hy(),fy(),my()}function my(){if(Be!==5)return!1;var t=fr,n=Af;Af=0;var a=Ua(_s),l=K.T,h=lt.p;try{lt.p=32>a?32:a,K.T=null,a=wf,wf=null;var f=fr,v=_s;if(Be=0,ys=fr=null,_s=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,Zp(f.current),Kp(f,f.current,v,a),Ft=T,Bl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ue,f)}catch{}return!0}finally{lt.p=h,K.T=l,dy(t,n)}}function gy(t,n,a){n=wn(a,n),n=rf(t.stateNode,n,2),t=nr(t,n,2),t!==null&&(pi(t,2),ai(t))}function Zt(t,n,a){if(t.tag===3)gy(t,t,a);else for(;n!==null;){if(n.tag===3){gy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){t=wn(a,t),a=vp(2),l=nr(n,a,2),l!==null&&(Ep(a,l,n,t),pi(l,2),ai(l));break}}n=n.return}}function Df(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new _E;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Ef=!0,h.add(a),t=SE.bind(null,t,n,a),n.then(t,t))}function SE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Lt&a)===a&&(he===4||he===3&&(Lt&62914560)===Lt&&300>vn()-Sf?(Ft&2)===0&&vs(t,0):Tf|=a,ps===Lt&&(ps=0)),ai(t)}function py(t,n){n===0&&(n=$s()),t=es(t,n),t!==null&&(pi(t,n),ai(t))}function AE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),py(t,a)}function wE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),py(t,a)}function RE(t,n){return zr(t,n)}var Uu=null,Ts=null,If=!1,Pu=!1,Vf=!1,Ta=0;function ai(t){t!==Ts&&t.next===null&&(Ts===null?Uu=Ts=t:Ts=Ts.next=t),Pu=!0,If||(If=!0,NE())}function Bl(t,n){if(!Vf&&Pu){Vf=!0;do for(var a=!1,l=Uu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Qe(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ey(l,f))}else f=Lt,f=La(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Qr(l,f)||(a=!0,Ey(l,f));l=l.next}while(a);Vf=!1}}function xE(){yy()}function yy(){Pu=If=!1;var t=0;Ta!==0&&(LE()&&(t=Ta),Ta=0);for(var n=vn(),a=null,l=Uu;l!==null;){var h=l.next,f=_y(l,n);f===0?(l.next=null,a===null?Uu=h:a.next=h,h===null&&(Ts=a)):(a=l,(t!==0||(f&3)!==0)&&(Pu=!0)),l=h}Bl(t)}function _y(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Qe(f),T=1<<v,N=h[v];N===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Ks(T,n)):N<=n&&(t.expiredLanes|=T),f&=~T}if(n=Wt,a=Lt,a=La(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Br(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Br(l),Ua(a)){case 2:case 8:a=Oa;break;case 32:a=qr;break;case 268435456:a=ja;break;default:a=qr}return l=vy.bind(null,t),a=zr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Br(l),t.callbackPriority=2,t.callbackNode=null,2}function vy(t,n){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lu()&&t.callbackNode!==a)return null;var l=Lt;return l=La(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ey(t,l,n),_y(t,vn()),t.callbackNode!=null&&t.callbackNode===a?vy.bind(null,t):null)}function Ey(t,n){if(Lu())return null;ey(t,n,!0)}function NE(){PE(function(){(Ft&6)!==0?zr(Qs,xE):yy()})}function Mf(){return Ta===0&&(Ta=Xs()),Ta}function Ty(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function by(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function CE(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Ty((h[pe]||null).action),v=l.submitter;v&&(n=(n=v[pe]||null)?Ty(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Ga("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ta!==0){var N=v?by(h,v):new FormData(h);Jh(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=v?by(h,v):new FormData(h),Jh(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Of=0;Of<yh.length;Of++){var jf=yh[Of],DE=jf.toLowerCase(),IE=jf[0].toUpperCase()+jf.slice(1);Un(DE,"on"+IE)}Un(eg,"onAnimationEnd"),Un(ng,"onAnimationIteration"),Un(ig,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(K1,"onTransitionRun"),Un(X1,"onTransitionStart"),Un($1,"onTransitionCancel"),Un(rg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Sy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,B=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch($){wu($)}h.currentTarget=null,f=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,B=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch($){wu($)}h.currentTarget=null,f=N}}}}function It(t,n){var a=n[Ws];a===void 0&&(a=n[Ws]=new Set);var l=t+"__bubble";a.has(l)||(Ay(n,t,2,!1),a.add(l))}function Lf(t,n,a){var l=0;n&&(l|=4),Ay(a,t,l,n)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Uf(t){if(!t[ku]){t[ku]=!0,tl.forEach(function(a){a!=="selectionchange"&&(VE.has(a)||Lf(a,!1,t),Lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ku]||(n[ku]=!0,Lf("selectionchange",!1,n))}}function Ay(t,n,a,l){switch(Ky(n)){case 2:var h=aT;break;case 8:h=sT;break;default:h=Zf}a=h.bind(null,n,a,t),h=void 0,!Sn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Pf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=yi(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Bo(function(){var B=f,$=bn(a),tt=[];t:{var H=ag.get(t);if(H!==void 0){var F=Ga,Et=t;switch(t){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":F=$a;break;case"focusin":Et="focus",F=Ya;break;case"focusout":Et="blur",F=Ya;break;case"beforeblur":case"afterblur":F=Ya;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Xo;break;case eg:case ng:case ig:F=Ka;break;case rg:F=Zo;break;case"scroll":case"scrollend":F=qo;break;case"wheel":F=Za;break;case"copy":case"cut":case"paste":F=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=fl;break;case"toggle":case"beforetoggle":F=Wo}var pt=(n&4)!==0,$t=!pt&&(t==="scroll"||t==="scrollend"),L=pt?H!==null?H+"Capture":null:H;pt=[];for(var V=B,z;V!==null;){var Z=V;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||L===null||(Z=ta(V,L),Z!=null&&pt.push(Hl(V,Z,z))),$t)break;V=V.return}0<pt.length&&(H=new F(H,Et,null,a,$),tt.push({event:H,listeners:pt}))}}if((n&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Ti&&(Et=a.relatedTarget||a.fromElement)&&(yi(Et)||Et[En]))break t;if((F||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Et=a.relatedTarget||a.toElement,F=B,Et=Et?yi(Et):null,Et!==null&&($t=c(Et),pt=Et.tag,Et!==$t||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(F=null,Et=B),F!==Et)){if(pt=An,Z="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(pt=fl,Z="onPointerLeave",L="onPointerEnter",V="pointer"),$t=F==null?H:Qn(F),z=Et==null?H:Qn(Et),H=new pt(Z,V+"leave",F,a,$),H.target=$t,H.relatedTarget=z,Z=null,yi($)===B&&(pt=new pt(L,V+"enter",Et,a,$),pt.target=z,pt.relatedTarget=$t,Z=pt),$t=Z,F&&Et)e:{for(pt=F,L=Et,V=0,z=pt;z;z=bs(z))V++;for(z=0,Z=L;Z;Z=bs(Z))z++;for(;0<V-z;)pt=bs(pt),V--;for(;0<z-V;)L=bs(L),z--;for(;V--;){if(pt===L||L!==null&&pt===L.alternate)break e;pt=bs(pt),L=bs(L)}pt=null}else pt=null;F!==null&&wy(tt,H,F,pt,!1),Et!==null&&$t!==null&&wy(tt,$t,Et,pt,!0)}}t:{if(H=B?Qn(B):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var ft=Gm;else if(xe(H))if(Fm)ft=F1;else{ft=H1;var Ct=q1}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&al(B.elementType)&&(ft=Gm):ft=G1;if(ft&&(ft=ft(t,B))){Ri(tt,ft,a,$);break t}Ct&&Ct(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Zi(H,"number",H.value)}switch(Ct=B?Qn(B):window,t){case"focusin":(xe(Ct)||Ct.contentEditable==="true")&&(Ja=Ct,mh=B,gl=null);break;case"focusout":gl=mh=Ja=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,Wm(tt,a,$);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":Wm(tt,a,$)}var dt;if(Wn)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ot?Q(t,a)&&(yt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(_&&a.locale!=="ko"&&(Ot||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ot&&(dt=ll()):(Xn=$,Ji="value"in Xn?Xn.value:Xn.textContent,Ot=!0)),Ct=zu(B,yt),0<Ct.length&&(yt=new cl(yt,t,null,a,$),tt.push({event:yt,listeners:Ct}),dt?yt.data=dt:(dt=st(a),dt!==null&&(yt.data=dt)))),(dt=m?Re(t,a):jt(t,a))&&(yt=zu(B,"onBeforeInput"),0<yt.length&&(Ct=new cl("onBeforeInput","beforeinput",null,a,$),tt.push({event:Ct,listeners:yt}),Ct.data=dt)),CE(tt,t,B,a,$)}Sy(tt,n)})}function Hl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function zu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ta(t,a),h!=null&&l.unshift(Hl(t,h,f)),h=ta(t,n),h!=null&&l.push(Hl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wy(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,N=T.alternate,B=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||B===null||(N=B,h?(B=ta(a,f),B!=null&&v.unshift(Hl(a,B,N))):h||(B=ta(a,f),B!=null&&v.push(Hl(a,B,N)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var ME=/\r\n?/g,OE=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(ME,`
`).replace(OE,"")}function xy(t,n){return n=Ry(n),Ry(t)===n}function Bu(){}function Xt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":rl(t,l,f);break;case"data":if(n!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",h.name,h,null),Xt(t,n,"formEncType",h.formEncType,h,null),Xt(t,n,"formMethod",h.formMethod,h,null),Xt(t,n,"formTarget",h.formTarget,h,null)):(Xt(t,n,"encType",h.encType,h,null),Xt(t,n,"method",h.method,h,null),Xt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Bu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":It("beforetoggle",t),It("toggle",t),$i(t,"popover",l);break;case"xlinkActuate":Pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lh.get(a)||a,$i(t,a,l))}}function kf(t,n,a,l,h,f){switch(a){case"style":rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$i(t,a,l)}}}function qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,v,a,null)}}h&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":It("invalid",t);var T=f=v=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":N=$;break;case"defaultChecked":B=$;break;case"value":f=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:Xt(t,n,l,$,a,null)}}Zr(t,f,T,N,B,v,h,!1),qa(t);return;case"select":It("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(t,n,h,T,a,null)}n=f,a=v,t.multiple=!!l,n!=null?Ei(t,!!l,n,!1):a!=null&&Ei(t,!!l,a,!0);return;case"textarea":It("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(t,n,v,T,a,null)}Jr(t,l,h,f),qa(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,N,l,a,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<ql.length;l++)It(ql[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,B,l,a,null)}return;default:if(al(n)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&kf(t,n,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(t,n,T,l,a,null))}function jE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,N=null,B=null,$=null;for(F in a){var tt=a[F];if(a.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=tt;default:l.hasOwnProperty(F)||Xt(t,n,F,null,l,tt)}}for(var H in l){var F=l[H];if(tt=a[H],l.hasOwnProperty(H)&&(F!=null||tt!=null))switch(H){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":$=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==tt&&Xt(t,n,H,F,l,tt)}}un(t,v,T,N,B,$,f,h);return;case"select":F=v=T=H=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":H=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==N&&Xt(t,n,h,f,l,N)}n=T,a=v,l=F,H!=null?Ei(t,!!a,H,!1):!!l!=!!a&&(n!=null?Ei(t,!!a,n,!0):Ei(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(t,n,v,h,l,f)}Yt(t,H,F);return;case"option":for(var Et in a)if(H=a[Et],a.hasOwnProperty(Et)&&H!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Xt(t,n,Et,null,l,H)}for(N in l)if(H=l[N],F=a[N],l.hasOwnProperty(N)&&H!==F&&(H!=null||F!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xt(t,n,N,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)H=a[pt],a.hasOwnProperty(pt)&&H!=null&&!l.hasOwnProperty(pt)&&Xt(t,n,pt,null,l,H);for(B in l)if(H=l[B],F=a[B],l.hasOwnProperty(B)&&H!==F&&(H!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Xt(t,n,B,H,l,F)}return;default:if(al(n)){for(var $t in a)H=a[$t],a.hasOwnProperty($t)&&H!==void 0&&!l.hasOwnProperty($t)&&kf(t,n,$t,void 0,l,H);for($ in l)H=l[$],F=a[$],!l.hasOwnProperty($)||H===F||H===void 0&&F===void 0||kf(t,n,$,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Xt(t,n,L,null,l,H);for(tt in l)H=l[tt],F=a[tt],!l.hasOwnProperty(tt)||H===F||H==null&&F==null||Xt(t,n,tt,H,l,F)}var zf=null,Bf=null;function qu(t){return t.nodeType===9?t:t.ownerDocument}function Ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function qf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hf=null;function LE(){var t=window.event;return t&&t.type==="popstate"?t===Hf?!1:(Hf=t,!0):(Hf=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,UE=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,PE=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(t){return Iy.resolve(null).then(t).catch(kE)}:Dy;function kE(t){setTimeout(function(){throw t})}function mr(t){return t==="head"}function Vy(t,n){var a=n,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Gl(v.documentElement),a&2&&Gl(v.body),a&4)for(a=v.head,Gl(a),v=a.firstChild;v;){var T=v.nextSibling,N=v.nodeName;v[Yr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(f),Jl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Jl(n)}function Gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gf(a),Xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zE(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Yr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function BE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function Ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function qE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Qf=null;function My(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Oy(t,n,a){switch(n=qu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Gl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Xi(t)}var In=new Map,jy=new Set;function Hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=lt.d;lt.d={f:HE,r:GE,D:FE,C:QE,L:YE,m:KE,X:$E,S:XE,M:ZE};function HE(){var t=ki.f(),n=Ou();return t||n}function GE(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?ep(n):ki.r(t)}var Ss=typeof document>"u"?null:document;function Ly(t,n,a){var l=Ss;if(l&&typeof n=="string"&&n){var h=ye(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),jy.has(h)||(jy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),qe(n,"link",t),fe(n),l.head.appendChild(n)))}}function FE(t){ki.D(t),Ly("dns-prefetch",t,null)}function QE(t,n){ki.C(t,n),Ly("preconnect",t,n)}function YE(t,n,a){ki.L(t,n,a);var l=Ss;if(l&&t&&n){var h='link[rel="preload"][as="'+ye(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(t)+'"]';var f=h;switch(n){case"style":f=As(t);break;case"script":f=ws(t)}In.has(f)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Fl(f))||n==="script"&&l.querySelector(Ql(f))||(n=l.createElement("link"),qe(n,"link",t),fe(n),l.head.appendChild(n)))}}function KE(t,n){ki.m(t,n);var a=Ss;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ws(t)}if(!In.has(f)&&(t=E({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(f)))return}l=a.createElement("link"),qe(l,"link",t),fe(l),a.head.appendChild(l)}}}function XE(t,n,a){ki.S(t,n,a);var l=Ss;if(l&&t){var h=Je(l).hoistableStyles,f=As(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Fl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&Yf(t,a);var N=v=l.createElement("link");fe(N),qe(N,"link",t),N._p=new Promise(function(B,$){N.onload=B,N.onerror=$}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function $E(t,n){ki.X(t,n);var a=Ss;if(a&&t){var l=Je(a).hoistableScripts,h=ws(t),f=l.get(h);f||(f=a.querySelector(Ql(h)),f||(t=E({src:t,async:!0},n),(n=In.get(h))&&Kf(t,n),f=a.createElement("script"),fe(f),qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ZE(t,n){ki.M(t,n);var a=Ss;if(a&&t){var l=Je(a).hoistableScripts,h=ws(t),f=l.get(h);f||(f=a.querySelector(Ql(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=In.get(h))&&Kf(t,n),f=a.createElement("script"),fe(f),qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Uy(t,n,a,l){var h=(h=Tt.current)?Hu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=As(a.href),a=Je(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=As(a.href);var f=Je(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Fl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||JE(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ws(a),a=Je(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function As(t){return'href="'+ye(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function JE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",a),fe(n),t.head.appendChild(n))}function ws(t){return'[src="'+ye(t)+'"]'}function Ql(t){return"script[async]"+t}function ky(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ye(a.href)+'"]');if(l)return n.instance=l,fe(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),fe(l),qe(l,"style",h),Gu(l,a.precedence,t),n.instance=l;case"stylesheet":h=As(a.href);var f=t.querySelector(Fl(h));if(f)return n.state.loading|=4,n.instance=f,fe(f),f;l=Py(a),(h=In.get(h))&&Yf(l,h),f=(t.ownerDocument||t).createElement("link"),fe(f);var v=f;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),qe(f,"link",l),n.state.loading|=4,Gu(f,a.precedence,t),n.instance=f;case"script":return f=ws(a.src),(h=t.querySelector(Ql(f)))?(n.instance=h,fe(h),h):(l=a,(h=In.get(f))&&(l=E({},a),Kf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),fe(h),qe(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Gu(l,a.precedence,t));return n.instance}function Gu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Fu=null;function zy(t,n,a){if(Fu===null){var l=new Map,h=Fu=new Map;h.set(a,l)}else h=Fu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Yr]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function By(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function WE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Yl=null;function tT(){}function eT(t,n,a){if(Yl===null)throw Error(s(475));var l=Yl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=As(a.href),f=t.querySelector(Fl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Qu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,fe(f);return}f=t.ownerDocument||t,a=Py(a),(h=In.get(h))&&Yf(a,h),f=f.createElement("link"),fe(f);var v=f;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),qe(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Qu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function nT(){if(Yl===null)throw Error(s(475));var t=Yl;return t.stylesheets&&t.count===0&&Xf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Xf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Qu(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yu=null;function Xf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yu=new Map,n.forEach(iT,t),Yu=null,Qu.call(t))}function iT(t,n){if(!(n.state.loading&4)){var a=Yu.get(t);if(a)var l=a.get(null);else{a=new Map,Yu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Qu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Kl={$$typeof:at,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function rT(t,n,a,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Hy(t,n,a,l,h,f,v,T,N,B,$,tt){return t=new rT(t,n,a,v,T,N,B,tt),n=1,f===!0&&(n|=24),f=hn(3,null,null,n),t.current=f,f.stateNode=t,n=Ch(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Mh(f),t}function Gy(t){return t?(t=ns,t):ns}function Fy(t,n,a,l,h,f){h=Gy(h),l.context===null?l.context=h:l.pendingContext=h,l=er(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=nr(t,l,n),a!==null&&(pn(a,t,n),Al(a,t,n))}function Qy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function $f(t,n){Qy(t,n),(t=t.alternate)&&Qy(t,n)}function Yy(t){if(t.tag===13){var n=es(t,67108864);n!==null&&pn(n,t,67108864),$f(t,67108864)}}var Ku=!0;function aT(t,n,a,l){var h=K.T;K.T=null;var f=lt.p;try{lt.p=2,Zf(t,n,a,l)}finally{lt.p=f,K.T=h}}function sT(t,n,a,l){var h=K.T;K.T=null;var f=lt.p;try{lt.p=8,Zf(t,n,a,l)}finally{lt.p=f,K.T=h}}function Zf(t,n,a,l){if(Ku){var h=Jf(l);if(h===null)Pf(t,n,l,Xu,a),Xy(t,l);else if(oT(h,t,n,a,l))l.stopPropagation();else if(Xy(t,l),n&4&&-1<lT.indexOf(t)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=On(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-Qe(v);T.entanglements[1]|=N,v&=~N}ai(f),(Ft&6)===0&&(Vu=vn()+500,Bl(0))}}break;case 13:T=es(f,2),T!==null&&pn(T,f,2),Ou(),$f(f,2)}if(f=Jf(l),f===null&&Pf(t,n,l,Xu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Pf(t,n,l,null,a)}}function Jf(t){return t=bn(t),Wf(t)}var Xu=null;function Wf(t){if(Xu=null,t=yi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Xu=t,null}function Ky(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eh()){case Qs:return 2;case Oa:return 8;case qr:case nh:return 32;case ja:return 268435456;default:return 32}default:return 32}}var td=!1,gr=null,pr=null,yr=null,Xl=new Map,$l=new Map,_r=[],lT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(t,n){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Zl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&Yy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function oT(t,n,a,l,h){switch(n){case"focusin":return gr=Zl(gr,t,n,a,l,h),!0;case"dragenter":return pr=Zl(pr,t,n,a,l,h),!0;case"mouseover":return yr=Zl(yr,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Xl.set(f,Zl(Xl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,$l.set(f,Zl($l.get(f)||null,t,n,a,l,h)),!0}return!1}function $y(t){var n=yi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Oo(t.priority,function(){if(a.tag===13){var l=gn();l=Qi(l);var h=es(a,l);h!==null&&pn(h,a,l),$f(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Jf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ti=l,a.target.dispatchEvent(l),Ti=null}else return n=Fn(a),n!==null&&Yy(n),t.blockedOn=a,!1;n.shift()}return!0}function Zy(t,n,a){$u(t)&&a.delete(n)}function uT(){td=!1,gr!==null&&$u(gr)&&(gr=null),pr!==null&&$u(pr)&&(pr=null),yr!==null&&$u(yr)&&(yr=null),Xl.forEach(Zy),$l.forEach(Zy)}function Zu(t,n){t.blockedOn===n&&(t.blockedOn=null,td||(td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uT)))}var Ju=null;function Jy(t){Ju!==t&&(Ju=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ju===t&&(Ju=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Wf(l||a)===null)continue;break}var f=Fn(a);f!==null&&(t.splice(n,3),n-=3,Jh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Jl(t){function n(N){return Zu(N,t)}gr!==null&&Zu(gr,t),pr!==null&&Zu(pr,t),yr!==null&&Zu(yr,t),Xl.forEach(n),$l.forEach(n);for(var a=0;a<_r.length;a++){var l=_r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)$y(a),a.blockedOn===null&&_r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[pe]||null;if(typeof f=="function")v||Jy(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[pe]||null)T=v.formAction;else if(Wf(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Jy(a)}}}function ed(t){this._internalRoot=t}Wu.prototype.render=ed.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=gn();Fy(a,l,t,n,null,null)},Wu.prototype.unmount=ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Fy(t.current,2,null,t,null,null),Ou(),n[En]=null}};function Wu(t){this._internalRoot=t}Wu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Yi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<_r.length&&n!==0&&n<_r[a].priority;a++);_r.splice(a,0,t),a===0&&$y(t)}};var Wy=e.version;if(Wy!=="19.1.1")throw Error(s(527,Wy,"19.1.1"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var cT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{ue=tc.inject(cT),Gt=tc}catch{}}return to.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=gp,f=pp,v=yp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Hy(t,1,!1,null,null,a,l,h,f,v,T,null),t[En]=n.current,Uf(t),new ed(n)},to.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=gp,v=pp,T=yp,N=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=Hy(t,1,!0,n,a??null,l,h,f,v,T,N,B),n.context=Gy(null),a=n.current,l=gn(),l=Qi(l),h=er(l),h.callback=null,nr(a,h,l),a=l,n.current.lanes=a,pi(n,a),ai(n),t[En]=n.current,Uf(t),new Wu(n)},to.version="19.1.1",to}var u_;function TT(){if(u_)return rd.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rd.exports=ET(),rd.exports}var bT=TT();const ST=I0(bT);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c_="popstate";function AT(r={}){function e(o,c){let{pathname:d="/",search:g="",hash:y=""}=Da(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Td("",{pathname:d,search:g,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let y=o.location.href,p=y.indexOf("#");g=p===-1?y:y.slice(0,p)}return g+"#"+(typeof c=="string"?c:ho(c))}function s(o,c){Mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return RT(e,i,s,r)}function se(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Mn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substring(2,10)}function h_(r,e){return{usr:r.state,key:r.key,idx:e}}function Td(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Da(e):e,state:i,key:e&&e.key||s||wT()}}function ho({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Da(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function RT(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",y=null,p=E();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function E(){return(d.state||{idx:null}).idx}function A(){g="POP";let q=E(),X=q==null?null:q-p;p=q,y&&y({action:g,location:Y.location,delta:X})}function w(q,X){g="PUSH";let W=Td(Y.location,q,X);i&&i(W,q),p=E()+1;let at=h_(W,p),bt=Y.createHref(W);try{d.pushState(at,"",bt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(bt)}c&&y&&y({action:g,location:Y.location,delta:1})}function I(q,X){g="REPLACE";let W=Td(Y.location,q,X);i&&i(W,q),p=E();let at=h_(W,p),bt=Y.createHref(W);d.replaceState(at,"",bt),c&&y&&y({action:g,location:Y.location,delta:0})}function k(q){return xT(q)}let Y={get action(){return g},get location(){return r(o,d)},listen(q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(c_,A),y=q,()=>{o.removeEventListener(c_,A),y=null}},createHref(q){return e(o,q)},createURL:k,encodeLocation(q){let X=k(q);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:I,go(q){return d.go(q)}};return Y}function xT(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),se(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ho(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function V0(r,e,i="/"){return NT(r,e,i,!1)}function NT(r,e,i,s){let o=typeof e=="string"?Da(e):e,c=Bi(o.pathname||"/",i);if(c==null)return null;let d=M0(r);CT(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=zT(c);g=PT(d[y],p,s)}return g}function M0(r,e=[],i=[],s="",o=!1){let c=(d,g,y=o,p)=>{let E={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;se(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=zi([s,E.relativePath]),w=i.concat(E);d.children&&d.children.length>0&&(se(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),M0(d.children,e,w,A,y)),!(d.path==null&&!d.index)&&e.push({path:A,score:LT(A,d.index),routesMeta:w})};return r.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let y of O0(d.path))c(d,g,!0,y)}),e}function O0(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=O0(s.join("/")),g=[];return g.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...d),g.map(y=>r.startsWith("/")&&y===""?"/":y)}function CT(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:UT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var DT=/^:[\w-]+$/,IT=3,VT=2,MT=1,OT=10,jT=-2,f_=r=>r==="*";function LT(r,e){let i=r.split("/"),s=i.length;return i.some(f_)&&(s+=jT),e&&(s+=VT),i.filter(o=>!f_(o)).reduce((o,c)=>o+(DT.test(c)?IT:c===""?MT:OT),s)}function UT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function PT(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",A=pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),w=y.route;if(!A&&p&&i&&!s[s.length-1].route.index&&(A=pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:zi([c,A.pathname]),pathnameBase:GT(zi([c,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(c=zi([c,A.pathnameBase]))}return d}function pc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=kT(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:A},w)=>{if(E==="*"){let k=g[w]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const I=g[w];return A&&!I?p[E]=void 0:p[E]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function kT(r,e=!1,i=!0){Mn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function zT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Bi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function BT(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Da(r):r;return{pathname:i?i.startsWith("/")?i:qT(i,e):e,search:FT(s),hash:QT(o)}}function qT(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function od(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HT(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Zd(r){let e=HT(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Jd(r,e,i,s=!1){let o;typeof r=="string"?o=Da(r):(o={...r},se(!o.pathname||!o.pathname.includes("?"),od("?","pathname","search",o)),se(!o.pathname||!o.pathname.includes("#"),od("#","pathname","hash",o)),se(!o.search||!o.search.includes("#"),od("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let A=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}g=A>=0?e[A]:"/"}let y=BT(o,g),p=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var zi=r=>r.join("/").replace(/\/\/+/g,"/"),GT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),FT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,QT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function YT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var j0=["POST","PUT","PATCH","DELETE"];new Set(j0);var KT=["GET",...j0];new Set(KT);var Ps=G.createContext(null);Ps.displayName="DataRouter";var Oc=G.createContext(null);Oc.displayName="DataRouterState";G.createContext(!1);var L0=G.createContext({isTransitioning:!1});L0.displayName="ViewTransition";var XT=G.createContext(new Map);XT.displayName="Fetchers";var $T=G.createContext(null);$T.displayName="Await";var qn=G.createContext(null);qn.displayName="Navigation";var bo=G.createContext(null);bo.displayName="Location";var di=G.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Wd=G.createContext(null);Wd.displayName="RouteError";function ZT(r,{relative:e}={}){se(ks(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(qn),{hash:o,pathname:c,search:d}=So(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:zi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function ks(){return G.useContext(bo)!=null}function Lr(){return se(ks(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(bo).location}var U0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P0(r){G.useContext(qn).static||G.useLayoutEffect(r)}function tm(){let{isDataRoute:r}=G.useContext(di);return r?cb():JT()}function JT(){se(ks(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Ps),{basename:e,navigator:i}=G.useContext(qn),{matches:s}=G.useContext(di),{pathname:o}=Lr(),c=JSON.stringify(Zd(s)),d=G.useRef(!1);return P0(()=>{d.current=!0}),G.useCallback((y,p={})=>{if(Mn(d.current,U0),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=Jd(y,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:zi([e,E.pathname])),(p.replace?i.replace:i.push)(E,p.state,p)},[e,i,c,o,r])}G.createContext(null);function So(r,{relative:e}={}){let{matches:i}=G.useContext(di),{pathname:s}=Lr(),o=JSON.stringify(Zd(i));return G.useMemo(()=>Jd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function WT(r,e){return k0(r,e)}function k0(r,e,i,s,o){se(ks(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=G.useContext(qn),{matches:d}=G.useContext(di),g=d[d.length-1],y=g?g.params:{},p=g?g.pathname:"/",E=g?g.pathnameBase:"/",A=g&&g.route;{let W=A&&A.path||"";z0(p,!A||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Lr(),I;if(e){let W=typeof e=="string"?Da(e):e;se(E==="/"||W.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),I=W}else I=w;let k=I.pathname||"/",Y=k;if(E!=="/"){let W=E.replace(/^\//,"").split("/");Y="/"+k.replace(/^\//,"").split("/").slice(W.length).join("/")}let q=V0(r,{pathname:Y});Mn(A||q!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Mn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=rb(q&&q.map(W=>Object.assign({},W,{params:Object.assign({},y,W.params),pathname:zi([E,c.encodeLocation?c.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:zi([E,c.encodeLocation?c.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),d,i,s,o);return e&&X?G.createElement(bo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},X):X}function tb(){let r=ub(),e=YT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:c},"ErrorBoundary")," or"," ",G.createElement("code",{style:c},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),i?G.createElement("pre",{style:o},i):null,d)}var eb=G.createElement(tb,null),nb=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?G.createElement(di.Provider,{value:this.props.routeContext},G.createElement(Wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ib({routeContext:r,match:e,children:i}){let s=G.useContext(Ps);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(di.Provider,{value:r},i)}function rb(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let p=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);se(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let g=!1,y=-1;if(i)for(let p=0;p<c.length;p++){let E=c[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=p),E.route.id){let{loaderData:A,errors:w}=i,I=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||I){g=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((p,E,A)=>{let w,I=!1,k=null,Y=null;i&&(w=d&&E.route.id?d[E.route.id]:void 0,k=E.route.errorElement||eb,g&&(y<0&&A===0?(z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,Y=null):y===A&&(I=!0,Y=E.route.hydrateFallbackElement||null)));let q=e.concat(c.slice(0,A+1)),X=()=>{let W;return w?W=k:I?W=Y:E.route.Component?W=G.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=p,G.createElement(ib,{match:E,routeContext:{outlet:p,matches:q,isDataRoute:i!=null},children:W})};return i&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?G.createElement(nb,{location:i.location,revalidation:i.revalidation,component:k,error:w,children:X(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):X()},null)}function em(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ab(r){let e=G.useContext(Ps);return se(e,em(r)),e}function sb(r){let e=G.useContext(Oc);return se(e,em(r)),e}function lb(r){let e=G.useContext(di);return se(e,em(r)),e}function nm(r){let e=lb(r),i=e.matches[e.matches.length-1];return se(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function ob(){return nm("useRouteId")}function ub(){let r=G.useContext(Wd),e=sb("useRouteError"),i=nm("useRouteError");return r!==void 0?r:e.errors?.[i]}function cb(){let{router:r}=ab("useNavigate"),e=nm("useNavigate"),i=G.useRef(!1);return P0(()=>{i.current=!0}),G.useCallback(async(o,c={})=>{Mn(i.current,U0),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var d_={};function z0(r,e,i){!e&&!d_[r]&&(d_[r]=!0,Mn(!1,i))}G.memo(hb);function hb({routes:r,future:e,state:i,unstable_onError:s}){return k0(r,void 0,i,s,e)}function ud({to:r,replace:e,state:i,relative:s}){se(ks(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(qn);Mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=G.useContext(di),{pathname:d}=Lr(),g=tm(),y=Jd(r,Zd(c),d,s==="path"),p=JSON.stringify(y);return G.useEffect(()=>{g(JSON.parse(p),{replace:e,state:i,relative:s})},[g,p,s,e,i]),null}function Er(r){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fb({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){se(!ks(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Da(i));let{pathname:y="/",search:p="",hash:E="",state:A=null,key:w="default"}=i,I=G.useMemo(()=>{let k=Bi(y,d);return k==null?null:{location:{pathname:k,search:p,hash:E,state:A,key:w},navigationType:s}},[d,y,p,E,A,w,s]);return Mn(I!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:G.createElement(qn.Provider,{value:g},G.createElement(bo.Provider,{children:e,value:I}))}function m_({children:r,location:e}){return WT(bd(r),e)}function bd(r,e=[]){let i=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let c=[...e,o];if(s.type===G.Fragment){i.push.apply(i,bd(s.props.children,c));return}se(s.type===Er,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=bd(s.props.children,c)),i.push(d)}),i}var lc="get",oc="application/x-www-form-urlencoded";function jc(r){return r!=null&&typeof r.tagName=="string"}function db(r){return jc(r)&&r.tagName.toLowerCase()==="button"}function mb(r){return jc(r)&&r.tagName.toLowerCase()==="form"}function gb(r){return jc(r)&&r.tagName.toLowerCase()==="input"}function pb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yb(r,e){return r.button===0&&(!e||e==="_self")&&!pb(r)}var ec=null;function _b(){if(ec===null)try{new FormData(document.createElement("form"),0),ec=!1}catch{ec=!0}return ec}var vb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cd(r){return r!=null&&!vb.has(r)?(Mn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):r}function Eb(r,e){let i,s,o,c,d;if(mb(r)){let g=r.getAttribute("action");s=g?Bi(g,e):null,i=r.getAttribute("method")||lc,o=cd(r.getAttribute("enctype"))||oc,c=new FormData(r)}else if(db(r)||gb(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||g.getAttribute("action");if(s=y?Bi(y,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||lc,o=cd(r.getAttribute("formenctype"))||cd(g.getAttribute("enctype"))||oc,c=new FormData(g,r),!_b()){let{name:p,type:E,value:A}=r;if(E==="image"){let w=p?`${p}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else p&&c.append(p,A)}}else{if(jc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=lc,s=null,o=oc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function im(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Tb(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Bi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function bb(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ab(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await bb(c,i);return d.links?d.links():[]}return[]}));return Nb(s.flat(1).filter(Sb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function g_(r,e,i,s,o,c){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):c==="data"?e.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function wb(r,e,{includeHydrateFallback:i}={}){return Rb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Rb(r){return[...new Set(r)]}function xb(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function Nb(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(xb(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function B0(){let r=G.useContext(Ps);return im(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Cb(){let r=G.useContext(Oc);return im(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rm=G.createContext(void 0);rm.displayName="FrameworkContext";function q0(){let r=G.useContext(rm);return im(r,"You must render this element inside a <HydratedRouter> element"),r}function Db(r,e){let i=G.useContext(rm),[s,o]=G.useState(!1),[c,d]=G.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:A}=e,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let Y=X=>{X.forEach(W=>{d(W.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Y=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let I=()=>{o(!0)},k=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,w,{}]:[c,w,{onFocus:eo(g,I),onBlur:eo(y,k),onMouseEnter:eo(p,I),onMouseLeave:eo(E,k),onTouchStart:eo(A,I)}]:[!1,w,{}]}function eo(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function Ib({page:r,...e}){let{router:i}=B0(),s=G.useMemo(()=>V0(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?G.createElement(Mb,{page:r,matches:s,...e}):null}function Vb(r){let{manifest:e,routeModules:i}=q0(),[s,o]=G.useState([]);return G.useEffect(()=>{let c=!1;return Ab(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function Mb({page:r,matches:e,...i}){let s=Lr(),{manifest:o,routeModules:c}=q0(),{basename:d}=B0(),{loaderData:g,matches:y}=Cb(),p=G.useMemo(()=>g_(r,e,y,o,s,"data"),[r,e,y,o,s]),E=G.useMemo(()=>g_(r,e,y,o,s,"assets"),[r,e,y,o,s]),A=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,Y=!1;if(e.forEach(X=>{let W=o.routes[X.route.id];!W||!W.hasLoader||(!p.some(at=>at.route.id===X.route.id)&&X.route.id in g&&c[X.route.id]?.shouldRevalidate||W.hasClientLoader?Y=!0:k.add(X.route.id))}),k.size===0)return[];let q=Tb(r,d,"data");return Y&&k.size>0&&q.searchParams.set("_routes",e.filter(X=>k.has(X.route.id)).map(X=>X.route.id).join(",")),[q.pathname+q.search]},[d,g,s,o,p,e,r,c]),w=G.useMemo(()=>wb(E,o),[E,o]),I=Vb(E);return G.createElement(G.Fragment,null,A.map(k=>G.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),w.map(k=>G.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),I.map(({key:k,link:Y})=>G.createElement("link",{key:k,nonce:i.nonce,...Y})))}function Ob(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var H0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H0&&(window.__reactRouterVersion="7.8.2")}catch{}function jb({basename:r,children:e,window:i}){let s=G.useRef();s.current==null&&(s.current=AT({window:i,v5Compat:!0}));let o=s.current,[c,d]=G.useState({action:o.action,location:o.location}),g=G.useCallback(y=>{G.startTransition(()=>d(y))},[d]);return G.useLayoutEffect(()=>o.listen(g),[o,g]),G.createElement(fb,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F0=G.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:y,to:p,preventScrollReset:E,viewTransition:A,...w},I){let{basename:k}=G.useContext(qn),Y=typeof p=="string"&&G0.test(p),q,X=!1;if(typeof p=="string"&&Y&&(q=p,H0))try{let x=new URL(window.location.href),M=p.startsWith("//")?new URL(x.protocol+p):new URL(p),j=Bi(M.pathname,k);M.origin===x.origin&&j!=null?p=j+M.search+M.hash:X=!0}catch{Mn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=ZT(p,{relative:o}),[at,bt,ht]=Db(s,w),_t=kb(p,{replace:d,state:g,target:y,preventScrollReset:E,relative:o,viewTransition:A});function O(x){e&&e(x),x.defaultPrevented||_t(x)}let R=G.createElement("a",{...w,...ht,href:q||W,onClick:X||c?e:O,ref:Ob(I,bt),target:y,"data-discover":!Y&&i==="render"?"true":void 0});return at&&!Y?G.createElement(G.Fragment,null,R,G.createElement(Ib,{page:W})):R});F0.displayName="Link";var Lb=G.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:y,...p},E){let A=So(d,{relative:p.relative}),w=Lr(),I=G.useContext(Oc),{navigator:k,basename:Y}=G.useContext(qn),q=I!=null&&Gb(A)&&g===!0,X=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,W=w.pathname,at=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;i||(W=W.toLowerCase(),at=at?at.toLowerCase():null,X=X.toLowerCase()),at&&Y&&(at=Bi(at,Y)||at);const bt=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ht=W===X||!o&&W.startsWith(X)&&W.charAt(bt)==="/",_t=at!=null&&(at===X||!o&&at.startsWith(X)&&at.charAt(X.length)==="/"),O={isActive:ht,isPending:_t,isTransitioning:q},R=ht?e:void 0,x;typeof s=="function"?x=s(O):x=[s,ht?"active":null,_t?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(O):c;return G.createElement(F0,{...p,"aria-current":R,className:x,ref:E,style:M,to:d,viewTransition:g},typeof y=="function"?y(O):y)});Lb.displayName="NavLink";var Ub=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=lc,action:g,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:A,...w},I)=>{let k=qb(),Y=Hb(g,{relative:p}),q=d.toLowerCase()==="get"?"get":"post",X=typeof g=="string"&&G0.test(g),W=at=>{if(y&&y(at),at.defaultPrevented)return;at.preventDefault();let bt=at.nativeEvent.submitter,ht=bt?.getAttribute("formmethod")||d;k(bt||at.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:o,state:c,relative:p,preventScrollReset:E,viewTransition:A})};return G.createElement("form",{ref:I,method:q,action:Y,onSubmit:s?y:W,...w,"data-discover":!X&&r==="render"?"true":void 0})});Ub.displayName="Form";function Pb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q0(r){let e=G.useContext(Ps);return se(e,Pb(r)),e}function kb(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=tm(),y=Lr(),p=So(r,{relative:c});return G.useCallback(E=>{if(yb(E,e)){E.preventDefault();let A=i!==void 0?i:ho(y)===ho(p);g(r,{replace:A,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[y,g,p,i,s,e,r,o,c,d])}var zb=0,Bb=()=>`__${String(++zb)}__`;function qb(){let{router:r}=Q0("useSubmit"),{basename:e}=G.useContext(qn),i=ob();return G.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:y,body:p}=Eb(s,e);if(o.navigate===!1){let E=o.fetcherKey||Bb();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function Hb(r,{relative:e}={}){let{basename:i}=G.useContext(qn),s=G.useContext(di);se(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...So(r||".",{relative:e})},d=Lr();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(E=>E==="")){g.delete("index"),y.filter(A=>A).forEach(A=>g.append("index",A));let E=g.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:zi([i,c.pathname])),ho(c)}function Gb(r,{relative:e}={}){let i=G.useContext(L0);se(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Q0("useViewTransitionState"),o=So(r,{relative:e});if(!i.isTransitioning)return!1;let c=Bi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Bi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return pc(o.pathname,d)!=null||pc(o.pathname,c)!=null}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),p_=r=>{const e=Qb(r);return e.charAt(0).toUpperCase()+e.slice(1)},Y0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),Yb=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=G.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...g},y)=>G.createElement("svg",{ref:y,...Kb,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:Y0("lucide",o),...!c&&!Yb(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,E])=>G.createElement(p,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(r,e)=>{const i=G.forwardRef(({className:s,...o},c)=>G.createElement(Xb,{ref:c,iconNode:e,className:Y0(`lucide-${Fb(p_(r))}`,`lucide-${r}`,s),...o}));return i.displayName=p_(r),i};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Zb=ne("award",$b);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],K0=ne("book-open",Jb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],tS=ne("calculator",Wb);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nS=ne("calendar",eS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rS=ne("chevron-right",iS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sS=ne("circle-check-big",aS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],y_=ne("circle-check",lS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uS=ne("circle",oS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],hS=ne("cloud-off",cS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],dS=ne("cloud",fS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],br=ne("crown",mS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],X0=ne("flask-conical",gS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Sd=ne("graduation-cap",pS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sa=ne("loader-circle",yS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yc=ne("lock",_S);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],__=ne("plus",vS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$0=ne("search",ES);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bS=ne("settings",TS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],AS=ne("star",SS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],RS=ne("target",wS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],NS=ne("trash-2",xS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],DS=ne("trophy",CS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],am=ne("user",IS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_c=ne("users",VS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z0=ne("x",MS),Sr={1:{theory:["Mathematics-I","Physics","Programming Fundamentals","English"],practical:["Physics Lab","Programming Lab"]},2:{theory:["Mathematics-II","Chemistry","Data Structures","Digital Logic"],practical:["Chemistry Lab","DS Lab"]},3:{theory:["OOP","Discrete Math","Computer Architecture","Statistics"],practical:["OOP Lab","Hardware Lab"]},4:{theory:["DBMS","Operating Systems","Computer Networks","Software Engineering"],practical:["DBMS Lab","Networks Lab"]},5:{theory:["Artificial Intelligence","Design & Analysis of Algorithms","Database Management","Embedded Systems","Machine Learning","Mobile Development","Open Elective-4"],practical:["AI Lab","Algorithms Lab","Database Lab","ML Lab"]},6:{theory:["Advanced AI","Compiler Design","Internet of Things","Cloud Computing"],practical:["Compiler Lab","IoT Lab"]},7:{theory:["Deep Learning","Big Data Analytics","Cybersecurity","Project Management"],practical:["ML Lab","Security Lab"]},8:{theory:["Major Project","Technical Seminar","Industry Training"],practical:["Project Implementation"]}},OS=["Assignment","Certificate","Quiz","Presentation","Test","Project","Custom"],zt={rollNo:"2405225",name:"Shaikh Mujahid"};function jS({students:r,onStudentSelect:e,isLoading:i}){const[s,o]=G.useState(""),[c,d]=G.useState(!1),[g,y]=G.useState(""),[p,E]=G.useState(!1),A="admin123",w=G.useMemo(()=>{if(!s.trim())return r;const X=s.toLowerCase();return r.filter(W=>W.name.toLowerCase().includes(X)||W.rollNo.toLowerCase().includes(X))},[r,s]),I=X=>{if(X.rollNo===zt.rollNo){d(!0);return}e(X)},k=X=>{if(X.preventDefault(),!g.trim()){alert("Please enter admin password");return}E(!0),setTimeout(()=>{if(g===A){const W=r.find(at=>at.rollNo===zt.rollNo);e(W)}else alert("❌ Incorrect admin password. Please try again."),y("");E(!1)},800)},Y=()=>{d(!1),y("")},q=()=>{o("")};return i?S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx(Sd,{className:"w-16 h-16 mx-auto text-blue-600 mb-4"}),S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx(Sa,{className:"w-6 h-6 animate-spin text-blue-600"}),S.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loading Academic Tracker..."})]}),S.jsx("p",{className:"text-gray-600",children:"Setting up your student data"})]})}):c?S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:S.jsx("div",{className:"max-w-md w-full",children:S.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:S.jsx(br,{className:"w-8 h-8 text-white"})}),S.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),S.jsxs("p",{className:"text-gray-600",children:["Enter admin password to continue as ",zt.name]})]}),S.jsxs("form",{onSubmit:k,className:"space-y-4",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:S.jsx(yc,{className:"w-5 h-5 text-gray-400"})}),S.jsx("input",{type:"password",placeholder:"Admin password",value:g,onChange:X=>y(X.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:p})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{type:"submit",disabled:p||!g.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:p?S.jsxs(S.Fragment,{children:[S.jsx(Sa,{className:"w-4 h-4 animate-spin"}),S.jsx("span",{children:"Authenticating..."})]}):S.jsxs(S.Fragment,{children:[S.jsx(br,{className:"w-4 h-4"}),S.jsx("span",{children:"Login as Admin"})]})}),S.jsx("button",{type:"button",onClick:Y,disabled:p,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]}),S.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:S.jsxs("p",{className:"text-sm text-yellow-700 text-center",children:[S.jsx("strong",{children:"Admin privileges include:"}),S.jsx("br",{}),"Creating and deleting student accounts, managing all student data"]})})]})})}):S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:S.jsxs("div",{className:"max-w-2xl w-full",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:S.jsx(Sd,{className:"w-10 h-10 text-white"})}),S.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Academic Progress Tracker"}),S.jsx("p",{className:"text-gray-600",children:"Select your student profile to continue"})]}),S.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx(_c,{className:"w-6 h-6 text-blue-600"}),S.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Select Student Profile"}),S.jsxs("span",{className:"text-sm text-gray-500",children:["(",r.length," total)"]})]}),S.jsxs("div",{className:"relative mb-6",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:S.jsx($0,{className:"w-5 h-5 text-gray-400"})}),S.jsx("input",{type:"text",placeholder:"Search by name or roll number...",value:s,onChange:X=>o(X.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s&&S.jsx("button",{onClick:q,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:S.jsx(Z0,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),S.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:w.length>0?w.map(X=>S.jsx("button",{onClick:()=>I(X),className:`
                    w-full flex items-center p-4 rounded-2xl border-2 transition-all text-left
                    ${X.rollNo===zt.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300 hover:bg-yellow-100":"border-gray-200 bg-gray-50 hover:border-blue-300 hover:bg-blue-50"}
                  `,children:S.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[S.jsx("div",{className:`
                      w-12 h-12 rounded-2xl flex items-center justify-center
                      ${X.rollNo===zt.rollNo?"bg-yellow-200":"bg-blue-100"}
                    `,children:X.rollNo===zt.rollNo?S.jsx(br,{className:"w-6 h-6 text-yellow-600"}):S.jsx(am,{className:"w-6 h-6 text-blue-600"})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("h3",{className:"font-bold text-gray-900",children:X.name}),X.rollNo===zt.rollNo&&S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(yc,{className:"w-3 h-3 text-yellow-600"}),S.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Protected"})]})]}),S.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",X.rollNo]}),X.rollNo===zt.rollNo&&S.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:"Administrator Account"})]})]})},X.rollNo)):S.jsxs("div",{className:"text-center py-8 text-gray-500",children:[S.jsx(_c,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),S.jsxs("p",{children:['No students found matching "',s,'"']})]})}),S.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-2xl border border-gray-200",children:S.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[S.jsx("strong",{children:"Note:"})," Regular students can access immediately. Admin account requires password for security."]})})]})]})})}function LS({semester:r,syncStatus:e,selectedStudent:i,onStudentSwitch:s}){const{isOnline:o,isSyncing:c,lastSynced:d}=e;return S.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:S.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center",children:S.jsx(Sd,{className:"w-7 h-7 text-white"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Progress Tracker"}),S.jsxs("p",{className:"text-sm text-gray-600",children:["Semester ",r," • Track your academic journey"]})]})]}),S.jsxs("div",{className:"flex items-center gap-6",children:[i&&S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.name}),i.rollNo==="2405225"&&S.jsx(br,{className:"w-4 h-4 text-yellow-500"})]}),S.jsxs("span",{className:"text-xs text-gray-600",children:["Roll: ",i.rollNo]})]}),S.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",title:"Switch Student",children:S.jsx(am,{className:"w-5 h-5 text-gray-600"})})]}),S.jsxs("div",{className:"flex flex-col items-end gap-1",children:[S.jsx("div",{className:"flex items-center gap-2",children:c?S.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[S.jsx(Sa,{className:"w-4 h-4 animate-spin"}),S.jsx("span",{className:"text-sm",children:"Syncing..."})]}):o?S.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[S.jsx(dS,{className:"w-4 h-4"}),S.jsx("span",{className:"text-sm",children:"Online"}),d&&S.jsx(sS,{className:"w-3 h-3"})]}):S.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[S.jsx(hS,{className:"w-4 h-4"}),S.jsx("span",{className:"text-sm",children:"Offline"})]})}),d&&S.jsxs("div",{className:"text-xs text-gray-500",children:["Last synced: ",d.toLocaleTimeString()]})]}),S.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[S.jsx(nS,{className:"w-4 h-4"}),S.jsx("span",{children:"Academic Year 2024-25"})]})]})]})})})}const US=[{id:0,label:"Theory Subjects",icon:K0},{id:1,label:"Practicals",icon:X0},{id:2,label:"Student & Settings",icon:bS}];function PS({activeTab:r,onTabChange:e}){return S.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-10",children:S.jsx("div",{className:"max-w-7xl mx-auto px-6",children:S.jsx("div",{className:"flex space-x-1",children:US.map(i=>S.jsxs("button",{onClick:()=>e(i.id),className:`
                flex items-center gap-2 px-6 py-4 font-medium transition-all duration-200 border-b-2 relative
                ${r===i.id?"text-blue-600 border-blue-600 bg-blue-50":"text-gray-600 border-transparent hover:text-gray-900 hover:bg-gray-50"}
              `,children:[S.jsx(i.icon,{className:"w-5 h-5"}),S.jsx("span",{children:i.label}),r===i.id&&S.jsx(rS,{className:"w-4 h-4 ml-1"})]},i.id))})})})}const kS=G.memo(function({subject:e,onDataChange:i,initialData:s}){const[o,c]=G.useState({ca1:{type:"",date:"",marks:""},ca2:{type:"",date:"",marks:""},ca3:{type:"",date:"",marks:""},ca4:{type:"",date:"",marks:""},midSem:{date:"",marks:""}});G.useEffect(()=>{s&&c(s)},[s]);const d=(A,w,I)=>{if(w==="marks"&&I!==""){const Y=parseFloat(I),q=A==="midSem"?20:10;if(Y<0||Y>q)return}const k={...o,[A]:{...o[A],[w]:I}};c(k),i&&i(e,k)},g=()=>{let w=0;return["ca1","ca2","ca3","ca4"].forEach(I=>{o[I].type&&w++,o[I].date&&w++,o[I].marks&&w++}),o.midSem.date&&w++,o.midSem.marks&&w++,Math.round(w/14*100)},y=()=>{let A=0;["ca1","ca2","ca3","ca4"].forEach(I=>{const k=parseFloat(o[I].marks);isNaN(k)||(A+=k)});const w=parseFloat(o.midSem.marks);return isNaN(w)||(A+=w),A},p=g(),E=y();return S.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[S.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(K0,{className:"w-6 h-6"}),S.jsx("h3",{className:"text-lg font-bold",children:e})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("div",{className:"text-sm opacity-90",children:[p,"%"]}),S.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${p}%`}})})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[S.jsx(tS,{className:"w-4 h-4"}),S.jsx("span",{children:"Internal Assessment"})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:"text-lg font-bold",children:[E,"/60"]}),S.jsx("div",{className:"text-xs opacity-75",children:E>0?`${(E/60*100).toFixed(1)}%`:"0%"})]})]})]}),S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[S.jsx(RS,{className:"w-4 h-4"}),"Continuous Assessment (4 × 10 = 40 marks)"]}),[1,2,3,4].map(A=>S.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3 border border-gray-100 hover:border-blue-200 transition-colors",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("span",{className:"font-medium text-gray-800",children:["CA-",A]}),o[`ca${A}`].marks&&S.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:[o[`ca${A}`].marks,"/10"]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[S.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",value:o[`ca${A}`].type,onChange:w=>d(`ca${A}`,"type",w.target.value),children:[S.jsx("option",{value:"",children:"Select Type"}),OS.map(w=>S.jsx("option",{value:w,children:w},w))]}),S.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o[`ca${A}`].date,onChange:w=>d(`ca${A}`,"date",w.target.value)}),S.jsx("input",{type:"number",min:"0",max:"10",step:"0.5",placeholder:"Marks (0-10)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o[`ca${A}`].marks,onChange:w=>d(`ca${A}`,"marks",w.target.value),onKeyDown:w=>{(w.key==="-"||w.key==="+")&&w.preventDefault()}})]})]},A))]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[S.jsx(Zb,{className:"w-4 h-4"}),"Mid Semester Exam (20 marks)"]}),S.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-4 border border-orange-200",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("span",{className:"font-medium text-gray-800",children:"Mid-Sem Exam"}),o.midSem.marks&&S.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium",children:[o.midSem.marks,"/20"]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[S.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:o.midSem.date,onChange:A=>d("midSem","date",A.target.value)}),S.jsx("input",{type:"number",min:"0",max:"20",step:"0.5",placeholder:"Marks (0-20)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:o.midSem.marks,onChange:A=>d("midSem","marks",A.target.value),onKeyDown:A=>{(A.key==="-"||A.key==="+")&&A.preventDefault()}})]})]})]})]})]})});function zS({semester:r,allData:e,handleDataChange:i}){return S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"mb-8",children:[S.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Theory Subjects"}),S.jsxs("p",{className:"text-gray-600",children:["Semester ",r," • ",Sr[r].theory.length," subjects"]})]}),S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Sr[r].theory.map(s=>S.jsx(kS,{subject:s,onDataChange:(o,c)=>i(o,c,"theory"),initialData:e[`${r}-${s}`]?.data},`${r}-${s}`))})]})}const BS=G.memo(function({subject:e,onDataChange:i,initialData:s}){const[o,c]=G.useState(new Set);G.useEffect(()=>{s&&Array.isArray(s)&&c(new Set(s))},[s]);const d=y=>{const p=new Set(o);p.has(y)?p.delete(y):p.add(y),c(p),i&&i(e,Array.from(p))},g=o.size/10*100;return S.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[S.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 p-4 text-white",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(X0,{className:"w-6 h-6"}),S.jsx("h3",{className:"text-lg font-bold",children:e}),S.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Practical"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("div",{className:"text-sm opacity-90",children:[o.size,"/10"]}),S.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${g}%`}})})]})]})}),S.jsxs("div",{className:"p-6",children:[S.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-4 flex items-center gap-2",children:[S.jsx(y_,{className:"w-4 h-4"}),"Lab Experiments (",o.size,"/10 completed)"]}),S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Array.from({length:10},(y,p)=>p+1).map(y=>S.jsx("button",{onClick:()=>d(y),className:`
                flex items-center justify-center p-4 rounded-2xl border-2 transition-all duration-200 font-medium
                ${o.has(y)?"bg-green-100 border-green-500 text-green-700 shadow-md":"bg-gray-50 border-gray-200 text-gray-600 hover:border-green-300 hover:bg-green-50"}
              `,children:S.jsxs("div",{className:"flex items-center gap-2",children:[o.has(y)?S.jsx(y_,{className:"w-4 h-4"}):S.jsx(uS,{className:"w-4 h-4"}),S.jsxs("span",{children:["Lab ",y]})]})},y))}),g===100&&S.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:S.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[S.jsx(DS,{className:"w-5 h-5"}),S.jsx("span",{className:"font-medium",children:"All labs completed! Great work! 🎉"})]})})]})]})});function qS({semester:r,allData:e,handleDataChange:i}){return S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"mb-8",children:[S.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practical Subjects"}),S.jsxs("p",{className:"text-gray-600",children:["Semester ",r," • ",Sr[r].practical.length," labs"]})]}),S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Sr[r].practical.map(s=>S.jsx(BS,{subject:s,onDataChange:(o,c)=>i(o,c,"practical"),initialData:e[`${r}-${s}`]?.data},`${r}-${s}`))})]})}function HS({semester:r,setSemester:e,studentManagement:i}){const{students:s,selectedStudent:o,isAdmin:c,isLoading:d,createStudent:g,deleteStudent:y,selectStudent:p}=i,[E,A]=G.useState(!1),[w,I]=G.useState({rollNo:"",name:""}),[k,Y]=G.useState(!1),[q,X]=G.useState(null),[W,at]=G.useState(""),[bt,ht]=G.useState(!1),[_t,O]=G.useState(""),[R,x]=G.useState(!1),M="admin123",j=G.useMemo(()=>{if(!W.trim())return s;const it=W.toLowerCase();return s.filter(wt=>wt.name.toLowerCase().includes(it)||wt.rollNo.toLowerCase().includes(it))},[s,W]),U=it=>{if(it.rollNo===zt.rollNo&&o?.rollNo!==zt.rollNo){ht(!0);return}p(it)},C=it=>{if(it.preventDefault(),!_t.trim()){alert("Please enter admin password");return}x(!0),setTimeout(()=>{if(_t===M){const wt=s.find(D=>D.rollNo===zt.rollNo);p(wt),ht(!1),O("")}else alert("❌ Incorrect admin password. Please try again."),O("");x(!1)},800)},Ae=()=>{ht(!1),O("")},ie=async it=>{if(it.preventDefault(),!w.rollNo.trim()||!w.name.trim()){alert("Please fill in both roll number and name");return}try{Y(!0),await g(w.rollNo.trim(),w.name.trim()),I({rollNo:"",name:""}),A(!1),alert("✅ Student created successfully!")}catch(wt){alert(`❌ Error creating student: ${wt.message}`)}finally{Y(!1)}},K=async(it,wt)=>{if(it===zt.rollNo){alert("Cannot delete admin student");return}if(window.confirm(`⚠️ Are you sure you want to delete student "${wt}" (${it})?

This will permanently delete all their academic data and cannot be undone.`))try{X(it),await y(it),alert("✅ Student deleted successfully!")}catch(nt){alert(`❌ Error deleting student: ${nt.message}`)}finally{X(null)}},lt=()=>{at("")};return d?S.jsx("div",{className:"flex items-center justify-center py-12",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(Sa,{className:"w-6 h-6 animate-spin text-blue-600"}),S.jsx("span",{className:"text-lg text-gray-600",children:"Loading students..."})]})}):S.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[bt&&S.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:S.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:S.jsx(br,{className:"w-8 h-8 text-white"})}),S.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),S.jsxs("p",{className:"text-gray-600",children:["Enter admin password to switch to ",zt.name]})]}),S.jsxs("form",{onSubmit:C,className:"space-y-4",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:S.jsx(yc,{className:"w-5 h-5 text-gray-400"})}),S.jsx("input",{type:"password",placeholder:"Admin password",value:_t,onChange:it=>O(it.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:R,autoFocus:!0})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{type:"submit",disabled:R||!_t.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:R?S.jsxs(S.Fragment,{children:[S.jsx(Sa,{className:"w-4 h-4 animate-spin"}),S.jsx("span",{children:"Authenticating..."})]}):S.jsxs(S.Fragment,{children:[S.jsx(br,{className:"w-4 h-4"}),S.jsx("span",{children:"Switch to Admin"})]})}),S.jsx("button",{type:"button",onClick:Ae,disabled:R,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]}),S.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:S.jsxs("p",{className:"text-sm text-yellow-700 text-center",children:[S.jsx("strong",{children:"Admin privileges include:"}),S.jsx("br",{}),"Creating and deleting student accounts, managing all student data"]})})]})}),S.jsxs("div",{className:"text-center",children:[S.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Student & Semester Management"}),S.jsx("p",{className:"text-gray-600",children:"Manage students and select current semester"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[S.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[S.jsx(am,{className:"w-5 h-5"}),"Current Student",o?.rollNo===zt.rollNo&&S.jsx(br,{className:"w-4 h-4 text-yellow-500"})]}),o&&S.jsx("div",{className:`rounded-2xl p-4 border ${o.rollNo===zt.rollNo?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:S.jsx("div",{className:"flex items-center justify-between",children:S.jsxs("div",{children:[S.jsx("p",{className:`font-bold ${o.rollNo===zt.rollNo?"text-yellow-900":"text-blue-900"}`,children:o.name}),S.jsxs("p",{className:`text-sm ${o.rollNo===zt.rollNo?"text-yellow-700":"text-blue-700"}`,children:["Roll No: ",o.rollNo]}),o.rollNo===zt.rollNo&&S.jsx("p",{className:"text-xs text-yellow-600 font-medium mt-1",children:"Administrator"})]})})})]}),S.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[S.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Semester"}),S.jsx("select",{className:"w-full p-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-lg font-medium bg-white",value:r,onChange:it=>e(Number(it.target.value)),children:[1,2,3,4,5,6,7,8].map(it=>S.jsxs("option",{value:it,children:["Semester ",it," (",Sr[it].theory.length," theory + ",Sr[it].practical.length," practical)"]},it))}),S.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(AS,{className:"w-4 h-4 text-blue-600 mt-1"}),S.jsxs("div",{children:[S.jsxs("h4",{className:"font-medium text-blue-900 text-sm",children:["Semester ",r," Overview"]}),S.jsxs("p",{className:"text-xs text-blue-700",children:[Sr[r].theory.length," theory subjects and ",Sr[r].practical.length," practical labs"]})]})]})})]})]}),S.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[S.jsx(_c,{className:"w-5 h-5"}),"Select Student (",s.length," total)"]}),c&&S.jsxs("button",{onClick:()=>A(!E),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:[S.jsx(__,{className:"w-4 h-4"}),"Add Student"]})]}),S.jsxs("div",{className:"relative mb-6",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:S.jsx($0,{className:"w-5 h-5 text-gray-400"})}),S.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:W,onChange:it=>at(it.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),W&&S.jsx("button",{onClick:lt,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:S.jsx(Z0,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),E&&c&&S.jsxs("form",{onSubmit:ie,className:"mb-6 p-4 bg-green-50 rounded-2xl border border-green-200",children:[S.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Create New Student"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[S.jsx("input",{type:"text",placeholder:"Roll Number (e.g., 2405226)",value:w.rollNo,onChange:it=>I({...w,rollNo:it.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),S.jsx("input",{type:"text",placeholder:"Full Name",value:w.name,onChange:it=>I({...w,name:it.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{type:"submit",disabled:k,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all disabled:opacity-50",children:[k?S.jsx(Sa,{className:"w-4 h-4 animate-spin"}):S.jsx(__,{className:"w-4 h-4"}),k?"Creating...":"Create Student"]}),S.jsx("button",{type:"button",onClick:()=>A(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:j.length>0?j.map(it=>S.jsxs("div",{className:`
                  p-4 rounded-2xl border-2 transition-all cursor-pointer relative
                  ${o?.rollNo===it.rollNo?it.rollNo===zt.rollNo?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50":it.rollNo===zt.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300":"border-gray-200 bg-gray-50 hover:border-blue-300"}
                `,onClick:()=>U(it),children:[it.rollNo===zt.rollNo&&o?.rollNo!==zt.rollNo&&S.jsx("div",{className:"absolute top-2 right-2",children:S.jsx(yc,{className:"w-4 h-4 text-yellow-600"})}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("h4",{className:"font-bold text-gray-900",children:it.name}),it.rollNo===zt.rollNo&&S.jsx(br,{className:"w-4 h-4 text-yellow-500"})]}),S.jsxs("p",{className:"text-sm text-gray-600",children:["Roll: ",it.rollNo]}),o?.rollNo===it.rollNo?S.jsx("p",{className:"text-xs text-blue-600 font-medium mt-1",children:"Currently Selected"}):it.rollNo===zt.rollNo?S.jsx("p",{className:"text-xs text-yellow-600 font-medium mt-1",children:"Admin - Password Required"}):null]}),c&&it.rollNo!==zt.rollNo&&S.jsx("button",{onClick:wt=>{wt.stopPropagation(),K(it.rollNo,it.name)},disabled:q===it.rollNo,className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-all disabled:opacity-50",title:"Delete Student",children:q===it.rollNo?S.jsx(Sa,{className:"w-4 h-4 animate-spin"}):S.jsx(NS,{className:"w-4 h-4"})})]})]},it.rollNo)):S.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[S.jsx(_c,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),S.jsxs("p",{children:['No students found matching "',W,'"']})]})})]})]})}const GS=()=>{};var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},FS=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},W0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let w=(g&15)<<2|p>>6,I=p&63;y||(I=64,d||(w=64)),s.push(i[E],i[A],i[w],i[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(J0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):FS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||p==null||A==null)throw new QS;const w=c<<2|g>>4;if(s.push(w),p!==64){const I=g<<4&240|p>>2;if(s.push(I),A!==64){const k=p<<6&192|A;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YS=function(r){const e=J0(r);return W0.encodeByteArray(e,!0)},vc=function(r){return YS(r).replace(/\./g,"")},KS=function(r){try{return W0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=()=>XS().__FIREBASE_DEFAULTS__,ZS=()=>{if(typeof process>"u"||typeof v_>"u")return;const r=v_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},JS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&KS(r[1]);return e&&JSON.parse(e)},sm=()=>{try{return GS()||$S()||ZS()||JS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},WS=r=>sm()?.emulatorHosts?.[r],tA=r=>{const e=WS(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},tv=()=>sm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vc(JSON.stringify(i)),vc(JSON.stringify(d)),""].join(".")}const so={};function rA(){const r={prod:[],emulator:[]};for(const e of Object.keys(so))so[e]?r.emulator.push(e):r.prod.push(e);return r}function aA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let E_=!1;function sA(r,e){if(typeof window>"u"||typeof document>"u"||!lm(window.location.host)||so[r]===e||so[r]||E_)return;so[r]=e;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=rA().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{E_=!0,d()},w}function E(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=aA(s),I=i("text"),k=document.getElementById(I)||document.createElement("span"),Y=i("learnmore"),q=document.getElementById(Y)||document.createElement("a"),X=i("preprendIcon"),W=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const at=w.element;g(at),E(q,Y);const bt=p();y(W,X),at.append(W,k,q,bt),document.body.appendChild(at)}c?(k.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oA(){const r=sm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uA(){return!oA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cA(){try{return typeof indexedDB=="object"}catch{return!1}}function hA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="FirebaseError";class zs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=fA,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ev.prototype.create)}}class ev{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?dA(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new zs(o,g,s)}}function dA(r,e){return r.replace(mA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mA=/\{\$([^}]+)}/g;function Ec(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(T_(c)&&T_(d)){if(!Ec(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function T_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(r){return r&&r._delegate?r._delegate:r}class fo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new eA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yA(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pA(r){return r===ba?void 0:r}function yA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new gA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const vA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},EA=Pt.INFO,TA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},bA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=TA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nv{constructor(e){this.name=e,this._logLevel=EA,this._logHandler=bA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const SA=(r,e)=>e.some(i=>r instanceof i);let b_,S_;function AA(){return b_||(b_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wA(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iv=new WeakMap,Ad=new WeakMap,rv=new WeakMap,hd=new WeakMap,om=new WeakMap;function RA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(wr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&iv.set(i,r)}).catch(()=>{}),om.set(e,r),e}function xA(r){if(Ad.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ad.set(r,e)}let wd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Ad.get(r);if(e==="objectStoreNames")return r.objectStoreNames||rv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NA(r){wd=r(wd)}function CA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(fd(this),e,...i);return rv.set(s,e.sort?e.sort():[e]),wr(s)}:wA().includes(r)?function(...e){return r.apply(fd(this),e),wr(iv.get(this))}:function(...e){return wr(r.apply(fd(this),e))}}function DA(r){return typeof r=="function"?CA(r):(r instanceof IDBTransaction&&xA(r),SA(r,AA())?new Proxy(r,wd):r)}function wr(r){if(r instanceof IDBRequest)return RA(r);if(hd.has(r))return hd.get(r);const e=DA(r);return e!==r&&(hd.set(r,e),om.set(e,r)),e}const fd=r=>om.get(r);function IA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=wr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(wr(d.result),y.oldVersion,y.newVersion,wr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const VA=["get","getKey","getAll","getAllKeys","count"],MA=["put","add","delete","clear"],dd=new Map;function A_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(dd.get(e))return dd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=MA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return dd.set(e,c),c}NA(r=>({...r,get:(e,i,s)=>A_(e,i)||r.get(e,i,s),has:(e,i)=>!!A_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function jA(r){return r.getComponent()?.type==="VERSION"}const Rd="@firebase/app",w_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new nv("@firebase/app"),LA="@firebase/app-compat",UA="@firebase/analytics-compat",PA="@firebase/analytics",kA="@firebase/app-check-compat",zA="@firebase/app-check",BA="@firebase/auth",qA="@firebase/auth-compat",HA="@firebase/database",GA="@firebase/data-connect",FA="@firebase/database-compat",QA="@firebase/functions",YA="@firebase/functions-compat",KA="@firebase/installations",XA="@firebase/installations-compat",$A="@firebase/messaging",ZA="@firebase/messaging-compat",JA="@firebase/performance",WA="@firebase/performance-compat",t2="@firebase/remote-config",e2="@firebase/remote-config-compat",n2="@firebase/storage",i2="@firebase/storage-compat",r2="@firebase/firestore",a2="@firebase/ai",s2="@firebase/firestore-compat",l2="firebase",o2="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",u2={[Rd]:"fire-core",[LA]:"fire-core-compat",[PA]:"fire-analytics",[UA]:"fire-analytics-compat",[zA]:"fire-app-check",[kA]:"fire-app-check-compat",[BA]:"fire-auth",[qA]:"fire-auth-compat",[HA]:"fire-rtdb",[GA]:"fire-data-connect",[FA]:"fire-rtdb-compat",[QA]:"fire-fn",[YA]:"fire-fn-compat",[KA]:"fire-iid",[XA]:"fire-iid-compat",[$A]:"fire-fcm",[ZA]:"fire-fcm-compat",[JA]:"fire-perf",[WA]:"fire-perf-compat",[t2]:"fire-rc",[e2]:"fire-rc-compat",[n2]:"fire-gcs",[i2]:"fire-gcs-compat",[r2]:"fire-fst",[s2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,c2=new Map,Nd=new Map;function R_(r,e){try{r.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function bc(r){const e=r.name;if(Nd.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Nd.set(e,r);for(const i of Tc.values())R_(i,r);for(const i of c2.values())R_(i,r);return!0}function h2(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function f2(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new ev("app","Firebase",d2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=o2;function av(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:xd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Rr.create("bad-app-name",{appName:String(o)});if(i||(i=tv()),!i)throw Rr.create("no-options");const c=Tc.get(o);if(c){if(Ec(i,c.options)&&Ec(s,c.config))return c;throw Rr.create("duplicate-app",{appName:o})}const d=new _A(o);for(const y of Nd.values())d.addComponent(y);const g=new m2(i,s,d);return Tc.set(o,g),g}function p2(r=xd){const e=Tc.get(r);if(!e&&r===xd&&tv())return av();if(!e)throw Rr.create("no-app",{appName:r});return e}function Ds(r,e,i){let s=u2[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}bc(new fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="firebase-heartbeat-database",_2=1,mo="firebase-heartbeat-store";let md=null;function sv(){return md||(md=IA(y2,_2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(mo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Rr.create("idb-open",{originalErrorMessage:r.message})})),md}async function v2(r){try{const i=(await sv()).transaction(mo),s=await i.objectStore(mo).get(lv(r));return await i.done,s}catch(e){if(e instanceof zs)qi.warn(e.message);else{const i=Rr.create("idb-get",{originalErrorMessage:e?.message});qi.warn(i.message)}}}async function x_(r,e){try{const s=(await sv()).transaction(mo,"readwrite");await s.objectStore(mo).put(e,lv(r)),await s.done}catch(i){if(i instanceof zs)qi.warn(i.message);else{const s=Rr.create("idb-set",{originalErrorMessage:i?.message});qi.warn(s.message)}}}function lv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1024,T2=30;class b2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new A2(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=N_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>T2){const o=w2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N_(),{heartbeatsToSend:i,unsentEntries:s}=S2(this._heartbeatsCache.heartbeats),o=vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qi.warn(e),""}}}function N_(){return new Date().toISOString().substring(0,10)}function S2(r,e=E2){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),C_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),C_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class A2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cA()?hA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await v2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return x_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return x_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function C_(r){return vc(JSON.stringify({version:2,heartbeats:r})).length}function w2(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r){bc(new fo("platform-logger",e=>new OA(e),"PRIVATE")),bc(new fo("heartbeat",e=>new b2(e),"PRIVATE")),Ds(Rd,w_,r),Ds(Rd,w_,"esm2020"),Ds("fire-js","")}R2("");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,ov;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function x(){}x.prototype=R.prototype,O.D=R.prototype,O.prototype=new x,O.prototype.constructor=O,O.C=function(M,j,U){for(var C=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)C[Ae-2]=arguments[Ae];return R.prototype[j].apply(M,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,x){x||(x=0);var M=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)M[j]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(j=0;16>j;++j)M[j]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=O.g[0],x=O.g[1],j=O.g[2];var U=O.g[3],C=R+(U^x&(j^U))+M[0]+3614090360&4294967295;R=x+(C<<7&4294967295|C>>>25),C=U+(j^R&(x^j))+M[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=j+(x^U&(R^x))+M[2]+606105819&4294967295,j=U+(C<<17&4294967295|C>>>15),C=x+(R^j&(U^R))+M[3]+3250441966&4294967295,x=j+(C<<22&4294967295|C>>>10),C=R+(U^x&(j^U))+M[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(j^R&(x^j))+M[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=j+(x^U&(R^x))+M[6]+2821735955&4294967295,j=U+(C<<17&4294967295|C>>>15),C=x+(R^j&(U^R))+M[7]+4249261313&4294967295,x=j+(C<<22&4294967295|C>>>10),C=R+(U^x&(j^U))+M[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(j^R&(x^j))+M[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=j+(x^U&(R^x))+M[10]+4294925233&4294967295,j=U+(C<<17&4294967295|C>>>15),C=x+(R^j&(U^R))+M[11]+2304563134&4294967295,x=j+(C<<22&4294967295|C>>>10),C=R+(U^x&(j^U))+M[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(j^R&(x^j))+M[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=j+(x^U&(R^x))+M[14]+2792965006&4294967295,j=U+(C<<17&4294967295|C>>>15),C=x+(R^j&(U^R))+M[15]+1236535329&4294967295,x=j+(C<<22&4294967295|C>>>10),C=R+(j^U&(x^j))+M[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^j&(R^x))+M[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=j+(R^x&(U^R))+M[11]+643717713&4294967295,j=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(j^U))+M[0]+3921069994&4294967295,x=j+(C<<20&4294967295|C>>>12),C=R+(j^U&(x^j))+M[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^j&(R^x))+M[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=j+(R^x&(U^R))+M[15]+3634488961&4294967295,j=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(j^U))+M[4]+3889429448&4294967295,x=j+(C<<20&4294967295|C>>>12),C=R+(j^U&(x^j))+M[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^j&(R^x))+M[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=j+(R^x&(U^R))+M[3]+4107603335&4294967295,j=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(j^U))+M[8]+1163531501&4294967295,x=j+(C<<20&4294967295|C>>>12),C=R+(j^U&(x^j))+M[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^j&(R^x))+M[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=j+(R^x&(U^R))+M[7]+1735328473&4294967295,j=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(j^U))+M[12]+2368359562&4294967295,x=j+(C<<20&4294967295|C>>>12),C=R+(x^j^U)+M[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^j)+M[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=j+(U^R^x)+M[11]+1839030562&4294967295,j=U+(C<<16&4294967295|C>>>16),C=x+(j^U^R)+M[14]+4259657740&4294967295,x=j+(C<<23&4294967295|C>>>9),C=R+(x^j^U)+M[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^j)+M[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=j+(U^R^x)+M[7]+4139469664&4294967295,j=U+(C<<16&4294967295|C>>>16),C=x+(j^U^R)+M[10]+3200236656&4294967295,x=j+(C<<23&4294967295|C>>>9),C=R+(x^j^U)+M[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^j)+M[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=j+(U^R^x)+M[3]+3572445317&4294967295,j=U+(C<<16&4294967295|C>>>16),C=x+(j^U^R)+M[6]+76029189&4294967295,x=j+(C<<23&4294967295|C>>>9),C=R+(x^j^U)+M[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^j)+M[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=j+(U^R^x)+M[15]+530742520&4294967295,j=U+(C<<16&4294967295|C>>>16),C=x+(j^U^R)+M[2]+3299628645&4294967295,x=j+(C<<23&4294967295|C>>>9),C=R+(j^(x|~U))+M[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~j))+M[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=j+(R^(U|~x))+M[14]+2878612391&4294967295,j=U+(C<<15&4294967295|C>>>17),C=x+(U^(j|~R))+M[5]+4237533241&4294967295,x=j+(C<<21&4294967295|C>>>11),C=R+(j^(x|~U))+M[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~j))+M[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=j+(R^(U|~x))+M[10]+4293915773&4294967295,j=U+(C<<15&4294967295|C>>>17),C=x+(U^(j|~R))+M[1]+2240044497&4294967295,x=j+(C<<21&4294967295|C>>>11),C=R+(j^(x|~U))+M[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~j))+M[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=j+(R^(U|~x))+M[6]+2734768916&4294967295,j=U+(C<<15&4294967295|C>>>17),C=x+(U^(j|~R))+M[13]+1309151649&4294967295,x=j+(C<<21&4294967295|C>>>11),C=R+(j^(x|~U))+M[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~j))+M[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=j+(R^(U|~x))+M[2]+718787259&4294967295,j=U+(C<<15&4294967295|C>>>17),C=x+(U^(j|~R))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var x=R-this.blockSize,M=this.B,j=this.h,U=0;U<R;){if(j==0)for(;U<=x;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<R;)if(M[j++]=O.charCodeAt(U++),j==this.blockSize){o(this,M),j=0;break}}else for(;U<R;)if(M[j++]=O[U++],j==this.blockSize){o(this,M),j=0;break}}this.h=j,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var x=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=x&255,x/=256;for(this.u(O),O=Array(16),R=x=0;4>R;++R)for(var M=0;32>M;M+=8)O[x++]=this.g[R]>>>M&255;return O};function c(O,R){var x=g;return Object.prototype.hasOwnProperty.call(x,O)?x[O]:x[O]=R(O)}function d(O,R){this.h=R;for(var x=[],M=!0,j=O.length-1;0<=j;j--){var U=O[j]|0;M&&U==R||(x[j]=U,M=!1)}this.g=x}var g={};function y(O){return-128<=O&&128>O?c(O,function(R){return new d([R|0],0>R?-1:0)}):new d([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return q(p(-O));for(var R=[],x=1,M=0;O>=x;M++)R[M]=O/x|0,x*=4294967296;return new d(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return q(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(R,8)),M=A,j=0;j<O.length;j+=8){var U=Math.min(8,O.length-j),C=parseInt(O.substring(j,j+U),R);8>U?(U=p(Math.pow(R,U)),M=M.j(U).add(p(C))):(M=M.j(x),M=M.add(p(C)))}return M}var A=y(0),w=y(1),I=y(16777216);r=d.prototype,r.m=function(){if(Y(this))return-q(this).m();for(var O=0,R=1,x=0;x<this.g.length;x++){var M=this.i(x);O+=(0<=M?M:4294967296+M)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(Y(this))return"-"+q(this).toString(O);for(var R=p(Math.pow(O,6)),x=this,M="";;){var j=bt(x,R).g;x=X(x,j.j(R));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(O);if(x=j,k(x))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function Y(O){return O.h==-1}r.l=function(O){return O=X(this,O),Y(O)?-1:k(O)?0:1};function q(O){for(var R=O.g.length,x=[],M=0;M<R;M++)x[M]=~O.g[M];return new d(x,~O.h).add(w)}r.abs=function(){return Y(this)?q(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),x=[],M=0,j=0;j<=R;j++){var U=M+(this.i(j)&65535)+(O.i(j)&65535),C=(U>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);M=C>>>16,U&=65535,C&=65535,x[j]=C<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function X(O,R){return O.add(q(R))}r.j=function(O){if(k(this)||k(O))return A;if(Y(this))return Y(O)?q(this).j(q(O)):q(q(this).j(O));if(Y(O))return q(this.j(q(O)));if(0>this.l(I)&&0>O.l(I))return p(this.m()*O.m());for(var R=this.g.length+O.g.length,x=[],M=0;M<2*R;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(var j=0;j<O.g.length;j++){var U=this.i(M)>>>16,C=this.i(M)&65535,Ae=O.i(j)>>>16,ie=O.i(j)&65535;x[2*M+2*j]+=C*ie,W(x,2*M+2*j),x[2*M+2*j+1]+=U*ie,W(x,2*M+2*j+1),x[2*M+2*j+1]+=C*Ae,W(x,2*M+2*j+1),x[2*M+2*j+2]+=U*Ae,W(x,2*M+2*j+2)}for(M=0;M<R;M++)x[M]=x[2*M+1]<<16|x[2*M];for(M=R;M<2*R;M++)x[M]=0;return new d(x,0)};function W(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function at(O,R){this.g=O,this.h=R}function bt(O,R){if(k(R))throw Error("division by zero");if(k(O))return new at(A,A);if(Y(O))return R=bt(q(O),R),new at(q(R.g),q(R.h));if(Y(R))return R=bt(O,q(R)),new at(q(R.g),R.h);if(30<O.g.length){if(Y(O)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var x=w,M=R;0>=M.l(O);)x=ht(x),M=ht(M);var j=_t(x,1),U=_t(M,1);for(M=_t(M,2),x=_t(x,2);!k(M);){var C=U.add(M);0>=C.l(O)&&(j=j.add(x),U=C),M=_t(M,1),x=_t(x,1)}return R=X(O,j.j(R)),new at(j,R)}for(j=A;0<=O.l(R);){for(x=Math.max(1,Math.floor(O.m()/R.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=p(x),C=U.j(R);Y(C)||0<C.l(O);)x-=M,U=p(x),C=U.j(R);k(U)&&(U=w),j=j.add(U),O=X(O,C)}return new at(j,O)}r.A=function(O){return bt(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)&O.i(M);return new d(x,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)|O.i(M);return new d(x,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)^O.i(M);return new d(x,this.h^O.h)};function ht(O){for(var R=O.g.length+1,x=[],M=0;M<R;M++)x[M]=O.i(M)<<1|O.i(M-1)>>>31;return new d(x,O.h)}function _t(O,R){var x=R>>5;R%=32;for(var M=O.g.length-x,j=[],U=0;U<M;U++)j[U]=0<R?O.i(U+x)>>>R|O.i(U+x+1)<<32-R:O.i(U+x);return new d(j,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ov=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,xr=d}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uv,no,cv,uc,Cd,hv,fv,dv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in _))break t;_=_[P]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,b=!1,P={next:function(){if(!b&&_<u.length){var Q=_++;return{value:m(Q,u[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function A(u,m,_){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,b),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function w(u,m,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function I(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function k(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(b,P,Q){for(var st=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)st[Ot-2]=arguments[Ot];return m.prototype[P].apply(b,st)}}function Y(u){const m=u.length;if(0<m){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function q(u,m){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(y(b)){const P=u.length||0,Q=b.length||0;u.length=P+Q;for(let st=0;st<Q;st++)u[P+st]=b[st]}else u.push(b)}}class X{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){return/^[\s\xa0]*$/.test(u)}function at(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function bt(u){return bt[" "](u),u}bt[" "]=function(){};var ht=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function _t(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function R(u){const m={};for(const _ in u)m[_]=u[_];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let _,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(_ in b)u[_]=b[_];for(let Q=0;Q<x.length;Q++)_=x[Q],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function j(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function C(){var u=wt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,_){const b=ie.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ie=new X(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,it=!1,wt=new Ae,D=()=>{const u=g.Promise.resolve(void 0);lt=()=>{u.then(nt)}};var nt=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){U(_)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}it=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var gt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u})();function Nt(u,m){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ht){t:{try{bt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Nt.aa.h.call(this)}}k(Nt,rt);var Tt={2:"touch",3:"pen",4:"mouse"};Nt.prototype.h=function(){Nt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Hn(u,m,_,b,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=P,this.key=++Jt,this.da=this.fa=!1}function Fi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mi(u){this.src=u,this.g={},this.h=0}mi.prototype.add=function(u,m,_,b,P){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var st=zr(u,m,b,P);return-1<st?(m=u[st],_||(m.fa=!1)):(m=new Hn(m,this.src,Q,!!b,P),m.fa=_,u.push(m)),m};function kr(u,m){var _=m.type;if(_ in u.g){var b=u.g[_],P=Array.prototype.indexOf.call(b,m,void 0),Q;(Q=0<=P)&&Array.prototype.splice.call(b,P,1),Q&&(Fi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function zr(u,m,_,b){for(var P=0;P<u.length;++P){var Q=u[P];if(!Q.da&&Q.listener==m&&Q.capture==!!_&&Q.ha==b)return P}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),Fs={};function Io(u,m,_,b,P){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Io(u,m[Q],_,b,P);return null}return _=Vo(_),u&&u[Ie]?u.K(m,_,p(b)?!!b.capture:!1,P):vn(u,m,_,!1,b,P)}function vn(u,m,_,b,P,Q){if(!m)throw Error("Invalid event type");var st=p(P)?!!P.capture:!!P,Ot=ja(u);if(Ot||(u[Br]=Ot=new mi(u)),_=Ot.add(m,_,b,st,Q),_.proxy)return _;if(b=eh(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)gt||(P=st),P===void 0&&(P=!1),u.addEventListener(m.toString(),b,P);else if(u.attachEvent)u.attachEvent(qr(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function eh(){function u(_){return m.call(u.src,u.listener,_)}const m=nh;return u}function Qs(u,m,_,b,P){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Qs(u,m[Q],_,b,P);else b=p(b)?!!b.capture:!!b,_=Vo(_),u&&u[Ie]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],_=zr(Q,_,b,P),-1<_&&(Fi(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ja(u))&&(m=u.g[m.toString()],u=-1,m&&(u=zr(m,_,b,P)),(_=-1<u?m[u]:null)&&Oa(_))}function Oa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])kr(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(qr(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=ja(m))?(kr(_,u),_.h==0&&(_.src=null,m[Br]=null)):Fi(u)}}}function qr(u){return u in Fs?Fs[u]:Fs[u]="on"+u}function nh(u,m){if(u.da)u=!0;else{m=new Nt(m,this);var _=u.listener,b=u.ha||u.src;u.fa&&Oa(u),u=_.call(b,m)}return u}function ja(u){return u=u[Br],u instanceof mi?u:null}var Ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vo(u){return typeof u=="function"?u:(u[Ys]||(u[Ys]=function(m){return u.handleEvent(m)}),u[Ys])}function ue(){ot.call(this),this.i=new mi(this),this.M=this,this.F=null}k(ue,ot),ue.prototype[Ie]=!0,ue.prototype.removeEventListener=function(u,m,_,b){Qs(this,u,m,_,b)};function Gt(u,m){var _,b=u.F;if(b)for(_=[];b;b=b.F)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new rt(m,u);else if(m instanceof rt)m.target=m.target||u;else{var P=m;m=new rt(b,u),M(m,P)}if(P=!0,_)for(var Q=_.length-1;0<=Q;Q--){var st=m.g=_[Q];P=on(st,b,!0,m)&&P}if(st=m.g=u,P=on(st,b,!0,m)&&P,P=on(st,b,!1,m)&&P,_)for(Q=0;Q<_.length;Q++)st=m.g=_[Q],P=on(st,b,!1,m)&&P}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],b=0;b<_.length;b++)Fi(_[b]);delete u.g[m],u.h--}}this.F=null},ue.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},ue.prototype.L=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function on(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,Q=0;Q<m.length;++Q){var st=m[Q];if(st&&!st.da&&st.capture==_){var Ot=st.listener,Re=st.ha||st.src;st.fa&&kr(u.i,st),P=Ot.call(Re,b)!==!1&&P}}return P&&!b.defaultPrevented}function Qe(u,m,_){if(typeof u=="function")_&&(u=w(u,_));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Mo(u){u.g=Qe(()=>{u.g=null,u.i&&(u.i=!1,Mo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ih extends ot{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){ot.call(this),this.h=u,this.g={}}k(Hr,ot);var Gr=[];function Fr(u){_t(u.g,function(m,_){this.g.hasOwnProperty(_)&&Oa(m)},u),u.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),Fr(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,La=g.JSON.parse,Qr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ks(){}Ks.prototype.h=null;function Xs(u){return u.h||(u.h=u.i())}function $s(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){rt.call(this,"d")}k(pi,rt);function Zs(){rt.call(this,"c")}k(Zs,rt);var Gn={},Js=null;function Qi(){return Js=Js||new ue}Gn.La="serverreachability";function Ua(u){rt.call(this,Gn.La,u)}k(Ua,rt);function Yi(u){const m=Qi();Gt(m,new Ua(m))}Gn.STAT_EVENT="statevent";function Oo(u,m){rt.call(this,Gn.STAT_EVENT,u),this.stat=m}k(Oo,rt);function re(u){const m=Qi();Gt(m,new Oo(m,u))}Gn.Ma="timingevent";function we(u,m){rt.call(this,Gn.Ma,u),this.size=m}k(we,rt);function pe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Ws(u,m,_,b,P,Q){u.info(function(){if(u.g)if(Q)for(var st="",Ot=Q.split("&"),Re=0;Re<Ot.length;Re++){var jt=Ot[Re].split("=");if(1<jt.length){var Me=jt[0];jt=jt[1];var xe=Me.split("_");st=2<=xe.length&&xe[1]=="type"?st+(Me+"="+jt+"&"):st+(Me+"=redacted&")}}else st=null;else st=Q;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+_+`
`+st})}function rh(u,m,_,b,P,Q,st){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+_+`
`+Q+" "+st})}function Ki(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yr(u,_)+(b?" "+b:"")})}function jo(u,m){u.info(function(){return"TIMEOUT: "+m})}En.prototype.info=function(){};function Yr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var b=_[u];if(!(2>b.length)){var P=b[1];if(Array.isArray(P)&&!(1>P.length)){var Q=P[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var st=1;st<P.length;st++)P[st]=""}}}}return On(_)}catch{return m}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Qn(){}k(Qn,Ks),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Fn=new Qn;function Je(u,m,_,b){this.j=u,this.i=m,this.l=_,this.R=b||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var tl={},Pa={};function jn(u,m,_){u.L=1,u.v=Jr(un(m)),u.m=_,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),Kr(u),u.A=un(u.v);var _=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),sl(_.i,"t",b),u.C=0,_=u.j.J,u.h=new fe,u.g=Zo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ih(w(u.Y,u,u.g),u.O)),m=u.U,_=u.g,b=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Gr[0]=P.toString()),P=Gr);for(var Q=0;Q<P.length;Q++){var st=Io(_,P[Q],b||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Yi(),Ws(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const xe=An(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||Ho(this.g)))){this.J||xe!=4||m==7||(m==8||0>=Ri?Yi(3):Yi(2)),$i(this);var _=this.g.Z();this.X=_;e:if(Lo(this)){var b=Ho(this.g);u="";var P=b.length,Q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Yn(this);var st="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(Q&&m==P-1)});b.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,rh(this.i,this.u,this.A,this.l,this.R,xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Re=this.g;if((Ot=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ot)){var jt=Ot;break e}}jt=null}if(_=jt)Ki(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xr(this,_);else{this.o=!1,this.s=3,re(12),Pe(this),Yn(this);break t}}if(this.P){_=!0;let ke;for(;!this.J&&this.C<st.length;)if(ke=Uo(this,st),ke==Pa){xe==4&&(this.s=4,re(14),_=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==tl){this.s=4,re(15),Ki(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else Ki(this.i,this.l,ke,null),Xr(this,ke);if(Lo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||st.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)Ki(this.i,this.l,st,"[Invalid Chunked Response]"),Pe(this),Yn(this);else if(0<st.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),sa(Me),Me.M=!0,re(11))}}else Ki(this.i,this.l,st,null),Xr(this,st);xe==4&&Pe(this),this.o&&!this.J&&(xe==4?Ko(this.j,this):(this.o=!1,Kr(this)))}else uh(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Pe(this),Yn(this)}}}catch{}finally{}};function Lo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Uo(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?Pa:(_=Number(m.substring(_,b)),isNaN(_)?tl:(b+=1,b+_>m.length?Pa:(m=m.slice(b,b+_),u.C=b+_,m)))}Je.prototype.cancel=function(){this.J=!0,Pe(this)};function Kr(u){u.S=Date.now()+u.I,Po(u,u.I)}function Po(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(w(u.ba,u),m)}function $i(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jo(this.i,this.A),this.L!=2&&(Yi(),re(17)),Pe(this),this.s=2,Yn(this)):Po(this,this.S-u)};function Yn(u){u.j.G==0||u.J||Ko(u.j,u)}function Pe(u){$i(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Fr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Xr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||el(_.h,u))){if(!u.K&&el(_.h,u)&&_.G==3){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)$a(_),Ka(_);else break t;hl(_),re(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(w(_.Za,_),6e3));if(1>=za(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wi(_,11)}else if((u.K||_.g==u)&&$a(_),!W(m))for(P=_.Da.g.parse(m),m=0;m<P.length;m++){let jt=P[m];if(_.T=jt[0],jt=jt[1],_.G==2)if(jt[0]=="c"){_.K=jt[1],_.ia=jt[2];const Me=jt[3];Me!=null&&(_.la=Me,_.j.info("VER="+_.la));const xe=jt[4];xe!=null&&(_.Aa=xe,_.j.info("SVER="+_.Aa));const Ri=jt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(b=1.5*Ri,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const ke=u.g;if(ke){const ti=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var Q=b.h;Q.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ba(Q,Q.h),Q.h=null))}if(b.D){const dl=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(b.ya=dl,Yt(b.I,b.D,dl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var st=u;if(b.qa=$o(b,b.J?b.ia:null,b.W),st.K){We(b.h,st);var Ot=st,Re=b.L;Re&&(Ot.I=Re),Ot.B&&($i(Ot),Kr(Ot)),b.g=st}else Qo(b);0<_.i.length&&Xa(_)}else jt[0]!="stop"&&jt[0]!="close"||wi(_,7);else _.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?wi(_,7):ul(_):jt[0]!="noop"&&_.l&&_.l.ta(jt),_.v=0)}}Yi(4)}catch{}}var ko=class{constructor(u,m){this.g=u,this.map=m}};function vi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function za(u){return u.h?1:u.g?u.g.size:0}function el(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ba(u,m){u.g?u.g.add(m):u.h=m}function We(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vi.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return Y(u.i)}function ah(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,b=0;b<_;b++)m.push(u[b]);return m}m=[],_=0;for(b in u)m[_++]=u[b];return m}function qa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const b in u)m[_++]=b;return m}}}function il(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=qa(u),b=ah(u),P=b.length,Q=0;Q<P;Q++)m.call(void 0,b[Q],_&&_[Q],u)}var $r=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var b=u[_].indexOf("="),P=null;if(0<=b){var Q=u[_].substring(0,b);P=u[_].substring(b+1)}else Q=u[_];m(Q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ye(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ye){this.h=u.h,Zr(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.s),this.l=u.l;var m=u.i,_=new Ti;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ei(this,_),this.m=u.m}else u&&(m=String(u).match($r))?(this.h=!1,Zr(this,m[1]||"",!0),this.o=Tn(m[2]||""),this.g=Tn(m[3]||"",!0),Zi(this,m[4]),this.l=Tn(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=Tn(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}ye.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Wr(m,rl,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Wr(m,rl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Wr(_,_.charAt(0)=="/"?lh:al,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Wr(_,Ha)),u.join("")};function un(u){return new ye(u)}function Zr(u,m,_){u.j=_?Tn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ei(u,m,_){m instanceof Ti?(u.i=m,Bo(u.i,u.h)):(_||(m=Wr(m,oh)),u.i=new Ti(m,u.h))}function Yt(u,m,_){u.i.set(m,_)}function Jr(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Tn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,zo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rl=/[#\/\?@]/g,al=/[#\?:]/g,lh=/[#\?]/g,oh=/[#\?@]/g,Ha=/#/g;function Ti(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&sh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ti.prototype,r.add=function(u,m){bn(this),this.i=null,u=Kn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function bi(u,m){bn(u),m=Kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Si(u,m){return bn(u),m=Kn(u,m),u.g.has(m)}r.forEach=function(u,m){bn(this),this.g.forEach(function(_,b){_.forEach(function(P){u.call(m,P,b,this)},this)},this)},r.na=function(){bn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){const P=u[b];for(let Q=0;Q<P.length;Q++)_.push(m[b])}return _},r.V=function(u){bn(this);let m=[];if(typeof u=="string")Si(this,u)&&(m=m.concat(this.g.get(Kn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return bn(this),this.i=null,u=Kn(this,u),Si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function sl(u,m,_){bi(u,m),0<_.length&&(u.i=null,u.g.set(Kn(u,m),Y(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];const Q=encodeURIComponent(String(b)),st=this.V(b);for(b=0;b<st.length;b++){var P=Q;st[b]!==""&&(P+="="+encodeURIComponent(String(st[b]))),u.push(P)}}return this.i=u.join("&")};function Kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Bo(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(_,b){var P=b.toLowerCase();b!=P&&(bi(this,b),sl(this,P,_))},u)),u.j=m}function ta(u,m){const _=new En;if(g.Image){const b=new Image;b.onload=I(Sn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=I(Sn,_,"TestLoadImage: error",!1,m,b),b.onabort=I(Sn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=I(Sn,_,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Ln(u,m){const _=new En,b=new AbortController,P=setTimeout(()=>{b.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(Q=>{clearTimeout(P),Q.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(_)}catch{}}function ea(){this.g=new Qr}function Xn(u,m,_){const b=_||"";try{il(u,function(P,Q){let st=P;p(P)&&(st=On(P)),m.push(b+Q+"="+encodeURIComponent(st))})}catch(P){throw m.push(b+"type="+encodeURIComponent("_badmap")),P}}function Ji(u){this.l=u.Ub||null,this.j=u.eb||!1}k(Ji,Ks),Ji.prototype.g=function(){return new Ai(this.l,this.j)},Ji.prototype.i=(function(u){return function(){return u}})({});function Ai(u,m){ue.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ai,ue),r=Ai.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Zn(this),this.readyState==3&&ll(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ol(u){let m="";return _t(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function Ve(u,m,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=ol(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Yt(u,m,_))}function qt(u){ue.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(qt,ue);var Ga=/^https?$/i,na=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Xs(this.o):Xs(Fn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){qo(this,Q);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)_.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(na,m,void 0))||b||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,st]of _)this.g.setRequestHeader(Q,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){qo(this,Q)}};function qo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Fa(u),Jn(u)}function Fa(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},r.bb=function(){Qa(this)};function Qa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)Qe(u.Ea,0,u);else if(Gt(u,"readystatechange"),An(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var b;if(b=st===0){var P=String(u.D).match($r)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),b=!Ga.test(P?P.toLowerCase():"")}_=b}if(_)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var Q=2<An(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Fa(u)}}finally{Jn(u)}}}}function Jn(u,m){if(u.g){ia(u);const _=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Gt(u,"ready");try{_.onreadystatechange=b}catch{}}}function ia(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),La(m)}};function Ho(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uh(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(W(u[b]))continue;var _=j(u[b]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=m[P]||[];m[P]=Q,Q.push(_)}O(m,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ya(u){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,u),this.cb=ra("retryDelaySeedMs",1e4,u),this.Wa=ra("forwardChannelMaxRetries",2,u),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(u&&u.concurrentRequestLimit),this.Da=new ea,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ya.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,b){re(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=$o(this,null,this.W),Xa(this)};function ul(u){if(Go(u),u.G==3){var m=u.U++,_=un(u.I);if(Yt(_,"SID",u.K),Yt(_,"RID",m),Yt(_,"TYPE","terminate"),aa(u,_),m=new Je(u,u.j,m),m.L=2,m.v=Jr(un(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Zo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Kr(m)}Xo(u)}function Ka(u){u.g&&(sa(u),u.g.cancel(),u.g=null)}function Go(u){Ka(u),u.u&&(g.clearTimeout(u.u),u.u=null),$a(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Xa(u){if(!ka(u.h)&&!u.s){u.s=!0;var m=u.Ga;lt||D(),it||(lt(),it=!0),wt.add(m,u),u.B=0}}function ch(u,m){return za(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(w(u.Ga,u,m),fl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Je(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=R(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(P.H=Q,Q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Fo(this,P,m),_=un(this.I),Yt(_,"RID",u),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),aa(this,_),Q&&(this.O?m="headers="+encodeURIComponent(String(ol(Q)))+"&"+m:this.m&&Ve(_,this.m,Q)),Ba(this.h,P),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",m),Yt(_,"SID","null"),P.T=!0,jn(P,_,null)):jn(P,_,m),this.G=2}}else this.G==3&&(u?cl(this,u):this.i.length==0||ka(this.h)||cl(this))};function cl(u,m){var _;m?_=m.l:_=u.U++;const b=un(u.I);Yt(b,"SID",u.K),Yt(b,"RID",_),Yt(b,"AID",u.T),aa(u,b),u.m&&u.o&&Ve(b,u.m,u.o),_=new Je(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Fo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ba(u.h,_),jn(_,b,m)}function aa(u,m){u.H&&_t(u.H,function(_,b){Yt(m,b,_)}),u.l&&il({},function(_,b){Yt(m,b,_)})}function Fo(u,m,_){_=Math.min(u.i.length,_);var b=u.l?w(u.l.Na,u.l,u):null;t:{var P=u.i;let Q=-1;for(;;){const st=["count="+_];Q==-1?0<_?(Q=P[0].g,st.push("ofs="+Q)):Q=0:st.push("ofs="+Q);let Ot=!0;for(let Re=0;Re<_;Re++){let jt=P[Re].g;const Me=P[Re].map;if(jt-=Q,0>jt)Q=Math.max(0,P[Re].g-100),Ot=!1;else try{Xn(Me,st,"req"+jt+"_")}catch{b&&b(Me)}}if(Ot){b=st.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,b}function Qo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;lt||D(),it||(lt(),it=!0),wt.add(m,u),u.v=0}}function hl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(w(u.Fa,u),fl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Yo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(w(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),Ka(this),Yo(this))};function sa(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Yo(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),aa(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Jr(un(m)),_.m=null,_.P=!0,_i(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Ka(this),hl(this),re(19))};function $a(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Ko(u,m){var _=null;if(u.g==m){$a(u),sa(u),u.g=null;var b=2}else if(el(u.h,m))_=m.D,We(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;b=Qi(),Gt(b,new we(b,_)),Xa(u)}else Qo(u);else if(P=m.s,P==3||P==0&&0<m.X||!(b==1&&ch(u,m)||b==2&&hl(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),P){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function fl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var _=w(u.fb,u),b=u.Xa;const P=!b;b=new ye(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Zr(b,"https"),Jr(b),P?ta(b.toString(),_):Ln(b.toString(),_)}else re(2);u.G=0,u.l&&u.l.sa(m),Xo(u),Go(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Xo(u){if(u.G=0,u.ka=[],u.l){const m=nl(u.h);(m.length!=0||u.i.length!=0)&&(q(u.ka,m),q(u.ka,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.ra()}}function $o(u,m,_){var b=_ instanceof ye?un(_):new ye(_);if(b.g!="")m&&(b.g=m+"."+b.g),Zi(b,b.s);else{var P=g.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var Q=new ye(null);b&&Zr(Q,b),m&&(Q.g=m),P&&Zi(Q,P),_&&(Q.l=_),b=Q}return _=u.D,m=u.ya,_&&m&&Yt(b,_,m),Yt(b,"VER",u.la),aa(u,b),b}function Zo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Ji({eb:_})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jo(){}r=Jo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Za(){}Za.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ue.call(this),this.g=new Ya(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!W(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!W(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wn(this)}k(tn,ue),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){ul(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=On(u),u=_);m.i.push(new ko(m.Ya++,u)),m.G==3&&Xa(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,tn.aa.N.call(this)};function Wo(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}k(Wo,pi);function tu(){Zs.call(this),this.status=1}k(tu,Zs);function Wn(u){this.g=u}k(Wn,Jo),Wn.prototype.ua=function(){Gt(this.g,"a")},Wn.prototype.ta=function(u){Gt(this.g,new Wo(u))},Wn.prototype.sa=function(u){Gt(this.g,new tu)},Wn.prototype.ra=function(){Gt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,dv=function(){return new Za},fv=function(){return Qi()},hv=Gn,Cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,uc=Xi,yi.COMPLETE="complete",cv=yi,$s.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",ue.prototype.listen=ue.prototype.K,no=$s,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,uv=qt}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",V_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new nv("@firebase/firestore");function Rs(){return xa.logLevel}function ct(r,...e){if(xa.logLevel<=Pt.DEBUG){const i=e.map(um);xa.debug(`Firestore (${Bs}): ${r}`,...i)}}function Hi(r,...e){if(xa.logLevel<=Pt.ERROR){const i=e.map(um);xa.error(`Firestore (${Bs}): ${r}`,...i)}}function Vs(r,...e){if(xa.logLevel<=Pt.WARN){const i=e.map(um);xa.warn(`Firestore (${Bs}): ${r}`,...i)}}function um(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,mv(r,s,i)}function mv(r,e,i){let s=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Hi(s),new Error(s)}function Ht(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||mv(e,o,s)}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends zs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class N2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class C2{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Nr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Nr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new gv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class D2{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I2{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new D2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,f2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=M2(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Vt(r,e){return r<e?-1:r>e?1:0}function Dd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return gd(o)===gd(c)?Vt(o,c):gd(o)?1:-1}return Vt(r.length,e.length)}const O2=55296,j2=57343;function gd(r){const e=r.charCodeAt(0);return e>=O2&&e<=j2}function Ms(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="__name__";class si{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=si.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Vt(e.length,i.length)}static compareSegments(e,i){const s=si.isNumericId(e),o=si.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?si.extractNumericId(e).compare(si.extractNumericId(i)):Dd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}}class te extends si{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const L2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends si{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return L2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O_}static keyField(){return new Ge([O_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(te.fromString(e))}static fromName(e){return new mt(te.fromString(e).popFirst(5))}static empty(){return new mt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(r,e,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function U2(r,e,i,s){if(e===!0&&s===!0)throw new ut(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function j_(r){if(!mt.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function L_(r){if(mt.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function yv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lc(r);throw new ut(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e){const i={typeString:r};return e&&(i.value=e),i}function Ao(r,e){if(!yv(r))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=-62135596800,P_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*P_);return new ee(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U_)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ao(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:be("string",ee._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new ee(0,0))}static max(){return new St(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=-1;function P2(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Dr(o,mt.empty(),e)}function k2(r){return new Dr(r.readTime,r.key,go)}class Dr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Dr(St.min(),mt.empty(),go)}static max(){return new Dr(St.max(),mt.empty(),go)}}function z2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==B2)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new et(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):et.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):et.reject(i)}static resolve(e){return new et(((i,s)=>{i(e)}))}static reject(e){return new et(((i,s)=>{s(e)}))}static waitFor(e){return new et(((i,s)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>s(y)))})),d=!0,c===o&&i()}))}static or(e){let i=et.resolve(!1);for(const s of e)i=i.next((o=>o?et.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new et(((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const p=y;i(e[p]).next((E=>{d[p]=E,++g,g===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new et(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function H2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function Pc(r){return r==null}function Sc(r){return r===0&&1/r==-1/0}function G2(r){return typeof r=="number"&&Number.isInteger(r)&&!Sc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="";function F2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=k_(e)),e=Q2(r.get(i),e);return k_(e)}function Q2(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case _v:i+="";break;default:i+=c}}return i}function k_(r){return r+_v+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ur(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function vv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ic(this.root,e,this.comparator,!0)}}class ic{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new He(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new De(this.comparator);return i.data=e,i}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new yn([])}unionWith(e){let i=new De(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ev("Invalid base64 string: "+c):c}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const Y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const i=Y2.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="server_timestamp",bv="__type__",Sv="__previous_value__",Av="__local_write_time__";function fm(r){return(r?.mapValue?.fields||{})[bv]?.stringValue===Tv}function kc(r){const e=r.mapValue.fields[Sv];return fm(e)?kc(e):e}function po(r){const e=Ir(r.mapValue.fields[Av].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,i,s,o,c,d,g,y,p,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const Ac="(default)";class yo{constructor(e,i){this.projectId=e,this.database=i||Ac}static empty(){return new yo("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="__type__",X2="__max__",rc={mapValue:{}},Rv="__vector__",wc="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fm(r)?4:Z2(r)?9007199254740991:$2(r)?10:11:vt(28295,{value:r})}function fi(r,e){if(r===e)return!0;const i=Mr(r);if(i!==Mr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return po(r).isEqual(po(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ir(o.timestampValue),g=Ir(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Vr(o.bytesValue).isEqual(Vr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ge(o.doubleValue),g=ge(c.doubleValue);return d===g?Sc(d)===Sc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Ms(r.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(z_(d)!==z_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!fi(d[y],g[y])))return!1;return!0})(r,e);default:return vt(52216,{left:r})}}function _o(r,e){return(r.values||[]).find((i=>fi(i,e)))!==void 0}function Os(r,e){if(r===e)return 0;const i=Mr(r),s=Mr(e);if(i!==s)return Vt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return q_(r.timestampValue,e.timestampValue);case 4:return q_(po(r),po(e));case 5:return Dd(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=Vr(c),y=Vr(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=Vt(g[p],y[p]);if(E!==0)return E}return Vt(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Vt(ge(c.latitude),ge(d.latitude));return g!==0?g:Vt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return H_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},p=g[wc]?.arrayValue,E=y[wc]?.arrayValue,A=Vt(p?.values?.length||0,E?.values?.length||0);return A!==0?A:H_(p,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===rc.mapValue&&d===rc.mapValue)return 0;if(c===rc.mapValue)return 1;if(d===rc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const w=Dd(y[A],E[A]);if(w!==0)return w;const I=Os(g[y[A]],p[E[A]]);if(I!==0)return I}return Vt(y.length,E.length)})(r.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function q_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const i=Ir(r),s=Ir(e),o=Vt(i.seconds,s.seconds);return o!==0?o:Vt(i.nanos,s.nanos)}function H_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Os(i[o],s[o]);if(c)return c}return Vt(i.length,s.length)}function js(r){return Id(r)}function Id(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ir(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Vr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Id(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Id(i.fields[d])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function cc(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(r);return e?16+cc(e):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+cc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ur(s.fields,((c,d)=>{o+=c.length+cc(d)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function G_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vd(r){return!!r&&"integerValue"in r}function dm(r){return!!r&&"arrayValue"in r}function F_(r){return!!r&&"nullValue"in r}function Q_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hc(r){return!!r&&"mapValue"in r}function $2(r){return(r?.mapValue?.fields||{})[wv]?.stringValue===Rv}function lo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ur(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=lo(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=lo(r.arrayValue.values[i]);return e}return{...r}}function Z2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===X2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!hc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=lo(i)}setAll(e){let i=Ge.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=lo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ur(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new ln(lo(this.value))}}function xv(r){const e=[];return Ur(r.fields,((i,s)=>{const o=new Ge([i]);if(hc(s)){const c=xv(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ze(e,0,St.min(),St.min(),St.min(),ln.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,St.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,St.min(),St.min(),ln.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,St.min(),St.min(),ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i){this.position=e,this.inclusive=i}}function Y_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=Os(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function K_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!fi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i="asc"){this.field=e,this.dir=i}}function J2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{}class Te extends Nv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new tw(e,i,s):i==="array-contains"?new iw(e,s):i==="in"?new rw(e,s):i==="not-in"?new aw(e,s):i==="array-contains-any"?new sw(e,s):new Te(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new ew(e,s):new nw(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Os(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(Os(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends Nv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bn(e,i)}matches(e){return Cv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cv(r){return r.op==="and"}function Dv(r){return W2(r)&&Cv(r)}function W2(r){for(const e of r.filters)if(e instanceof Bn)return!1;return!0}function Md(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+js(r.value);if(Dv(r))return r.filters.map((e=>Md(e))).join(",");{const e=r.filters.map((i=>Md(i))).join(",");return`${r.op}(${e})`}}function Iv(r,e){return r instanceof Te?(function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&fi(s.value,o.value)})(r,e):r instanceof Bn?(function(s,o){return o instanceof Bn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,g)=>c&&Iv(d,o.filters[g])),!0):!1})(r,e):void vt(19439)}function Vv(r){return r instanceof Te?(function(i){return`${i.field.canonicalString()} ${i.op} ${js(i.value)}`})(r):r instanceof Bn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Vv).join(" ,")+"}"})(r):"Filter"}class tw extends Te{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class ew extends Te{constructor(e,i){super(e,"in",i),this.keys=Mv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class nw extends Te{constructor(e,i){super(e,"not-in",i),this.keys=Mv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Mv(r,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class iw extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return dm(i)&&_o(i.arrayValue,this.value)}}class rw extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&_o(this.value.arrayValue,i)}}class aw extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_o(this.value.arrayValue,i)}}class sw extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>_o(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function X_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new lw(r,e,i,s,o,c,d)}function mm(r){const e=At(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Md(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>js(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>js(s))).join(",")),e.Te=i}return e.Te}function gm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!J2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Iv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!K_(r.startAt,e.startAt)&&K_(r.endAt,e.endAt)}function Od(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ow(r,e,i,s,o,c,d,g){return new wo(r,e,i,s,o,c,d,g)}function pm(r){return new wo(r)}function $_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ov(r){return r.collectionGroup!==null}function oo(r){const e=At(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new De(Ge.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new xc(c,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new xc(Ge.keyField(),s))}return e.Ie}function oi(r){const e=At(r);return e.Ee||(e.Ee=uw(e,oo(r))),e.Ee}function uw(r,e){if(r.limitType==="F")return X_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new xc(o.field,c)}));const i=r.endAt?new Rc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Rc(r.startAt.position,r.startAt.inclusive):null;return X_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function jd(r,e){const i=r.filters.concat([e]);return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Ld(r,e,i){return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function zc(r,e){return gm(oi(r),oi(e))&&r.limitType===e.limitType}function jv(r){return`${mm(oi(r))}|lt:${r.limitType}`}function xs(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Vv(o))).join(", ")}]`),Pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>js(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>js(o))).join(",")),`Target(${s})`})(oi(r))}; limitType=${r.limitType})`}function Bc(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):mt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of oo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,y){const p=Y_(d,g,y);return d.inclusive?p<=0:p<0})(s.startAt,oo(s),o)||s.endAt&&!(function(d,g,y){const p=Y_(d,g,y);return d.inclusive?p>=0:p>0})(s.endAt,oo(s),o))})(r,e)}function cw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Lv(r){return(e,i)=>{let s=!1;for(const o of oo(r)){const c=hw(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function hw(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),p=g.data.field(c);return y!==null&&p!==null?Os(y,p):vt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return vv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new oe(mt.comparator);function Gi(){return fw}const Uv=new oe(mt.comparator);function io(...r){let e=Uv;for(const i of r)e=e.insert(i.key,i);return e}function Pv(r){let e=Uv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Aa(){return uo()}function kv(){return uo()}function uo(){return new Ia((r=>r.toString()),((r,e)=>r.isEqual(e)))}const dw=new oe(mt.comparator),mw=new De(mt.comparator);function Mt(...r){let e=mw;for(const i of r)e=e.add(i);return e}const gw=new De(Vt);function pw(){return gw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function zv(r){return{integerValue:""+r}}function yw(r,e){return G2(e)?zv(e):ym(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function _w(r,e,i){return r instanceof vo?(function(o,c){const d={fields:{[bv]:{stringValue:Tv},[Av]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&fm(c)&&(c=kc(c)),c&&(d.fields[Sv]=c),{mapValue:d}})(i,e):r instanceof Eo?qv(r,e):r instanceof To?Hv(r,e):(function(o,c){const d=Bv(o,c),g=Z_(d)+Z_(o.Ae);return Vd(d)&&Vd(o.Ae)?zv(g):ym(o.serializer,g)})(r,e)}function vw(r,e,i){return r instanceof Eo?qv(r,e):r instanceof To?Hv(r,e):i}function Bv(r,e){return r instanceof Nc?(function(s){return Vd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class vo extends qc{}class Eo extends qc{constructor(e){super(),this.elements=e}}function qv(r,e){const i=Gv(e);for(const s of r.elements)i.some((o=>fi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class To extends qc{constructor(e){super(),this.elements=e}}function Hv(r,e){let i=Gv(e);for(const s of r.elements)i=i.filter((o=>!fi(o,s)));return{arrayValue:{values:i}}}class Nc extends qc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Z_(r){return ge(r.integerValue||r.doubleValue)}function Gv(r){return dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,i){this.field=e,this.transform=i}}function Tw(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof To&&o instanceof To?Ms(s.elements,o.elements,fi):s instanceof Nc&&o instanceof Nc?fi(s.Ae,o.Ae):s instanceof vo&&o instanceof vo})(r.transform,e.transform)}class bw{constructor(e,i){this.version=e,this.transformResults=i}}class _n{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hc{}function Fv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gc(r.key,_n.none()):new Ro(r.key,r.data,_n.none());{const i=r.data,s=ln.empty();let o=new De(Ge.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Pr(r.key,s,new yn(o.toArray()),_n.none())}}function Sw(r,e,i){r instanceof Ro?(function(o,c,d){const g=o.value.clone(),y=W_(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Pr?(function(o,c,d){if(!fc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=W_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Qv(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function co(r,e,i,s){return r instanceof Ro?(function(c,d,g,y){if(!fc(c.precondition,d))return g;const p=c.value.clone(),E=t0(c.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,i,s):r instanceof Pr?(function(c,d,g,y){if(!fc(c.precondition,d))return g;const p=t0(c.fieldTransforms,y,d),E=d.data;return E.setAll(Qv(c)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(c,d,g){return fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function Aw(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=Bv(s.transform,o||null);c!=null&&(i===null&&(i=ln.empty()),i.set(s.field,c))}return i||null}function J_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ms(s,o,((c,d)=>Tw(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ro extends Hc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pr extends Hc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Qv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function W_(r,e,i){const s=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,vw(d,g,i[o]))}return s}function t0(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,_w(c,d,e))}return s}class Gc extends Hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ww extends Hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Sw(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=co(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=co(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=kv();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=Fv(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,((i,s)=>J_(i,s)))&&Ms(this.baseMutations,e.baseMutations,((i,s)=>J_(i,s)))}}class _m{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return dw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new _m(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Ut;function Cw(r){switch(r){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function Yv(r){if(r===void 0)return Hi("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ee.OK:return J.OK;case Ee.CANCELLED:return J.CANCELLED;case Ee.UNKNOWN:return J.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return J.INTERNAL;case Ee.UNAVAILABLE:return J.UNAVAILABLE;case Ee.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ee.NOT_FOUND:return J.NOT_FOUND;case Ee.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ee.ABORTED:return J.ABORTED;case Ee.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ee.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:r})}}(Ut=Ee||(Ee={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new xr([4294967295,4294967295],0);function e0(r){const e=Dw().encode(r),i=new ov;return i.update(e),new Uint8Array(i.digest())}function n0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xr([i,s],0),new xr([o,c],0)]}class vm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(s<0)throw new ro(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=xr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(xr.fromNumber(s)));return o.compare(Iw)===1&&(o=new xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=e0(e),[s,o]=n0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new vm(c,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=e0(e),[s,o]=n0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,xo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Fc(St.min(),o,new oe(Vt),Gi(),Mt())}}class xo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new xo(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Kv{constructor(e,i){this.targetId=e,this.Ce=i}}class Xv{constructor(e,i,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class i0{constructor(){this.ve=0,this.Fe=r0(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:c})}})),new xo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=r0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Vw{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gi(),this.Je=ac(),this.He=ac(),this.Ye=new oe(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Od(c))if(s===0){const d=new mt(c.path);this.et(i,d,Ze.newNoDocument(d,St.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Vr(s).toUint8Array()}catch(y){if(y instanceof Ev)return Vs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new vm(d,o,c)}catch(y){return Vs(y instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Od(g.target)){const y=new mt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Mt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Fc(e,i,this.Ye,this.je,s);return this.je=Gi(),this.Je=ac(),this.He=ac(),this.Ye=new oe(Vt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new i0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new De(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new De(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ac(){return new oe(mt.comparator)}function r0(){return new oe(mt.comparator)}const Mw={asc:"ASCENDING",desc:"DESCENDING"},Ow={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jw={and:"AND",or:"OR"};class Lw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ud(r,e){return r.useProto3Json||Pc(e)?e:{value:e}}function Cc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $v(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Uw(r,e){return Cc(r,e.toTimestamp())}function ui(r){return Ht(!!r,49232),St.fromTimestamp((function(i){const s=Ir(i);return new ee(s.seconds,s.nanos)})(r))}function Em(r,e){return Pd(r,e).canonicalString()}function Pd(r,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Zv(r){const e=te.fromString(r);return Ht(n1(e),10190,{key:e.toString()}),e}function kd(r,e){return Em(r.databaseId,e.path)}function pd(r,e){const i=Zv(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(Wv(i))}function Jv(r,e){return Em(r.databaseId,e)}function Pw(r){const e=Zv(r);return e.length===4?te.emptyPath():Wv(e)}function zd(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Wv(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function a0(r,e,i){return{name:kd(r,e),fields:i.value.mapValue.fields}}function kw(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:vt(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,E){return p.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const E=p.code===void 0?J.UNKNOWN:Yv(p.code);return new ut(E,p.message||"")})(d);i=new Xv(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=pd(r,s.document.name),c=ui(s.document.updateTime),d=s.document.createTime?ui(s.document.createTime):St.min(),g=new ln({mapValue:{fields:s.document.fields}}),y=Ze.newFoundDocument(o,c,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];i=new dc(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=pd(r,s.document),c=s.readTime?ui(s.readTime):St.min(),d=Ze.newNoDocument(o,c),g=s.removedTargetIds||[];i=new dc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=pd(r,s.document),c=s.removedTargetIds||[];i=new dc([],c,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new Nw(o,c),g=s.targetId;i=new Kv(g,d)}}return i}function zw(r,e){let i;if(e instanceof Ro)i={update:a0(r,e.key,e.value)};else if(e instanceof Gc)i={delete:kd(r,e.key)};else if(e instanceof Pr)i={update:a0(r,e.key,e.data),updateMask:Xw(e.fieldMask)};else{if(!(e instanceof ww))return vt(16599,{Vt:e.type});i={verify:kd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof vo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof To)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Nc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Uw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,e.precondition)),i}function Bw(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?ui(o.updateTime):ui(c);return d.isEqual(St.min())&&(d=ui(c)),new bw(d,o.transformResults||[])})(i,e)))):[]}function qw(r,e){return{documents:[Jv(r,e.path)]}}function Hw(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Jv(r,o);const c=(function(p){if(p.length!==0)return e1(Bn.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((E=>(function(w){return{field:Ns(w.field),direction:Qw(w.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Ud(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:o}}function Gw(r){let e=Pw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const w=t1(A);return w instanceof Bn&&Dv(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((w=>(function(k){return new xc(Cs(k.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let w;return w=typeof A=="object"?A.value:A,Pc(w)?null:w})(i.limit));let y=null;i.startAt&&(y=(function(A){const w=!!A.before,I=A.values||[];return new Rc(I,w)})(i.startAt));let p=null;return i.endAt&&(p=(function(A){const w=!A.before,I=A.values||[];return new Rc(I,w)})(i.endAt)),ow(e,o,d,c,g,"F",y,p)}function Fw(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function t1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Cs(i.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Cs(i.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Cs(i.unaryFilter.field);return Te.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Cs(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Te.create(Cs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bn.create(i.compositeFilter.filters.map((s=>t1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function Qw(r){return Mw[r]}function Yw(r){return Ow[r]}function Kw(r){return jw[r]}function Ns(r){return{fieldPath:r.canonicalString()}}function Cs(r){return Ge.fromServerFormat(r.fieldPath)}function e1(r){return r instanceof Te?(function(i){if(i.op==="=="){if(Q_(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q_(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(i.field),op:Yw(i.op),value:i.value}}})(r):r instanceof Bn?(function(i){const s=i.getFilters().map((o=>e1(o)));return s.length===1?s[0]:{compositeFilter:{op:Kw(i.op),filters:s}}})(r):vt(54877,{filter:r})}function Xw(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function n1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,i,s,o,c=St.min(),d=St.min(),g=Fe.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.yt=e}}function Zw(r){const e=Gw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.Cn=new Ww}addToCollectionParentIndex(e,i){return this.Cn.add(i),et.resolve()}getCollectionParents(e,i){return et.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return et.resolve()}deleteFieldIndex(e,i){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,i){return et.resolve()}getDocumentsMatchingTarget(e,i){return et.resolve(null)}getIndexType(e,i){return et.resolve(0)}getFieldIndexes(e,i){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,i){return et.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,i){return et.resolve(Dr.min())}updateCollectionGroup(e,i,s){return et.resolve()}updateIndexEntries(e,i){return et.resolve()}}class Ww{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new De(te.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new De(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i1=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(i1,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ls(0)}static cr(){return new Ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="LruGarbageCollector",tR=1048576;function o0([r,e],[i,s]){const o=Vt(r,i);return o===0?Vt(e,s):o}class eR{constructor(e){this.Ir=e,this.buffer=new De(o0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();o0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class nR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ct(l0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hs(i)?ct(l0,"Ignoring IndexedDB error during garbage collection: ",i):await qs(i)}await this.Vr(3e5)}))}}class iR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return et.resolve(Uc.ce);const s=new eR(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(s0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,d,g,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,g=Date.now(),this.removeTargets(e,s,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(p=Date.now(),Rs()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function rR(r,e){return new iR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.changes=new Ia((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?et.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&co(s.mutation,o,yn.empty(),ee.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Mt()){const o=Aa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=io();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Aa();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Mt())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let c=Gi();const d=uo(),g=(function(){return uo()})();return i.forEach(((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Pr)?c=c.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),co(E.mutation,p,E.mutation.getFieldMask(),ee.now())):d.set(p.key,yn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((p,E)=>d.set(p,E))),i.forEach(((p,E)=>g.set(p,new sR(E,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=uo();let o=new oe(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=i.get(y);if(p===null)return;let E=s.get(y)||yn.empty();E=g.applyToLocalView(p,E),s.set(y,E);const A=(o.get(g.batchId)||Mt()).add(y);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,A=kv();E.forEach((w=>{if(!c.has(w)){const I=Fv(i.get(w),s.get(w));I!==null&&A.set(w,I),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,A))}return et.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Ov(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):et.resolve(Aa());let g=go,y=c;return d.next((p=>et.forEach(p,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?et.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{y=y.insert(E,w)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,y,p,Mt()))).next((E=>({batchId:g,changes:Pv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let o=io();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=io();return this.indexManager.getCollectionParents(e,c).next((g=>et.forEach(g,(y=>{const p=(function(A,w){return new wo(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((A,w)=>{d=d.insert(A,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Ze.newInvalidDocument(E)))}));let g=io();return d.forEach(((y,p)=>{const E=c.get(y);E!==void 0&&co(E.mutation,p,yn.empty(),ee.now()),Bc(i,p)&&(g=g.insert(y,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return et.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ui(o.createTime)}})(i)),et.resolve()}getNamedQuery(e,i){return et.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Zw(o.bundledQuery),readTime:ui(o.readTime)}})(i)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.overlays=new oe(mt.comparator),this.qr=new Map}getOverlay(e,i){return et.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Aa();return et.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),et.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(e,i,s){const o=Aa(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return et.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new oe(((p,E)=>p-E));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let E=c.get(p.largestBatchId);E===null&&(E=Aa(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=Aa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>g.set(p,E))),!(g.size()>=o)););return et.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new xw(i,s));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.Qr=new De(Ue.$r),this.Ur=new De(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ue(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new te([])),s=new Ue(i,e),o=new Ue(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new te([])),s=new Ue(i,e),o=new Ue(i,e+1);let c=Mt();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ue(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new De(Ue.$r)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Rw(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ue(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return et.resolve(d)}lookupMutationBatch(e,i){return et.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?hm:this.tr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new De(Vt);return i.forEach((o=>{const c=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;mt.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new mt(c),0);let g=new De(Vt);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Yr)),!0)}),d),et.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(i.mutations,(o=>{const c=new Ue(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ue(i,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.ri=e,this.docs=(function(){return new oe(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return et.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=Gi();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Gi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||z2(k2(E),s)<=0||(o.has(E.key)||Bc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(e,i,s,o){vt(9500)}ii(e,i){return et.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new dR(this)}getSize(e){return et.resolve(this.size)}}class dR extends aR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),et.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.persistence=e,this.si=new Ia((i=>mm(i)),gm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Tm,this.targetCount=0,this.ai=Ls.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),et.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ls(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,et.resolve()}updateTargetData(e,i){return this.Pr(i),et.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),et.waitFor(c).next((()=>o))}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return et.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),et.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),et.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),et.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return et.resolve(s)}containsKey(e,i){return et.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,i){this.ui={},this.overlays={},this.ci=new Uc(0),this.li=!1,this.li=!0,this.hi=new cR,this.referenceDelegate=e(this),this.Pi=new mR(this),this.indexManager=new Jw,this.remoteDocumentCache=(function(o){return new fR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new $w(i),this.Ii=new oR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new uR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new hR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ct("MemoryPersistence","Starting transaction:",e);const o=new gR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class gR extends q2{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.Ri=new Tm,this.Vi=null}static mi(e){return new bm(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),et.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),et.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return et.or([()=>et.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Dc{constructor(e,i){this.persistence=e,this.pi=new Ia((s=>F2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=rR(this,i)}static mi(e,i){return new Dc(e,i)}Ei(){}di(e){return et.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return et.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?et.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),et.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),et.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),et.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),et.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=cc(e.data.value)),i}br(e,i,s){return et.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Sm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uA()?8:H2(lA())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new pR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Rs()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",xs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(Rs()<=Pt.DEBUG&&ct("QueryEngine","Query:",xs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Rs()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",xs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(i))):et.resolve())}ys(e,i){if($_(i))return et.resolve(null);let s=oi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Ld(i,null,"F"),s=oi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Mt(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(i,g);return this.Cs(i,p,d,y.readTime)?this.ys(e,Ld(i,null,"F")):this.vs(e,p,i,y)}))))})))))}ws(e,i,s,o){return $_(i)||o.isEqual(St.min())?et.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?et.resolve(null):(Rs()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xs(i)),this.vs(e,d,i,P2(o,go)).next((g=>g)))}))}Ds(e,i){let s=new De(Lv(e));return i.forEach(((o,c)=>{Bc(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return Rs()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",xs(i)),this.ps.getDocumentsMatchingQuery(e,i,Dr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="LocalStore",_R=3e8;class vR{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Vt),this.xs=new Ia((c=>mm(c)),gm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function ER(r,e,i,s){return new vR(r,e,i,s)}async function a1(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=Mt();for(const p of o){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of c){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function TR(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,E){const A=p.batch,w=A.keys();let I=et.resolve();return w.forEach((k=>{I=I.next((()=>E.getEntry(y,k))).next((Y=>{const q=p.docVersions.get(k);Ht(q!==null,48541),Y.version.compareTo(q)<0&&(A.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),E.addEntry(Y)))}))})),I.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Mt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function s1(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function bR(r,e){const i=At(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,A)=>{const w=o.get(A);if(!w)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let I=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?I=I.withResumeToken(Fe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,s)),o=o.insert(A,I),(function(Y,q,X){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=_R?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(w,I,E)&&g.push(i.Pi.updateTargetData(c,I))}));let y=Gi(),p=Mt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(SR(c,d,e.documentUpdates).next((E=>{y=E.ks,p=E.qs}))),!s.isEqual(St.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return et.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,p))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function SR(r,e,i){let s=Mt(),o=Mt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=Gi();return i.forEach(((g,y)=>{const p=c.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(St.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ct(Am,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function AR(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=hm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function wR(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,et.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Ar(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Bd(r,e,i){const s=At(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Hs(d))throw d;ct(Am,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function u0(r,e,i){const s=At(r);let o=St.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,E){const A=At(y),w=A.xs.get(E);return w!==void 0?et.resolve(A.Ms.get(w)):A.Pi.getTargetData(p,E)})(s,d,oi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?c:Mt()))).next((g=>(RR(s,cw(e),g),{documents:g,Qs:c})))))}function RR(r,e,i){let s=r.Os.get(e)||St.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class c0{constructor(){this.activeTargetIds=pw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xR{constructor(){this.Mo=new c0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new c0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="ConnectivityMonitor";class f0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(h0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ct(h0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function qd(){return sc===null?sc=(function(){return 268435456+Math.round(2147483648*Math.random())})():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",CR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ac?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const d=qd(),g=this.zo(e,i.toUriEncodedString());ct(yd,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:p}=new URL(g),E=lm(p);return this.Jo(e,g,y,s,E).then((A=>(ct(yd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Vs(yd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",s),A}))}Ho(e,i,s,o,c,d){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=CR[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class VR extends DR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const d=qd();return new Promise(((g,y)=>{const p=new uv;p.setWithCredentials(!0),p.listenOnce(cv.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case uc.NO_ERROR:const A=p.getResponseJson();ct(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case uc.TIMEOUT:ct(Xe,`RPC '${e}' ${d} timed out`),y(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const w=p.getStatus();if(ct(Xe,`RPC '${e}' ${d} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const k=I?.error;if(k&&k.status&&k.message){const Y=(function(X){const W=X.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN})(k.status);y(new ut(Y,k.message))}else y(new ut(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ut(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ct(Xe,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ct(Xe,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=qd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=dv(),g=fv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=c.join("");ct(Xe,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let w=!1,I=!1;const k=new IR({Yo:q=>{I?ct(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(w||(ct(Xe,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),ct(Xe,`RPC '${e}' stream ${o} sending:`,q),A.send(q))},Zo:()=>A.close()}),Y=(q,X,W)=>{q.listen(X,(at=>{try{W(at)}catch(bt){setTimeout((()=>{throw bt}),0)}}))};return Y(A,no.EventType.OPEN,(()=>{I||(ct(Xe,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),Y(A,no.EventType.CLOSE,(()=>{I||(I=!0,ct(Xe,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(A))})),Y(A,no.EventType.ERROR,(q=>{I||(I=!0,Vs(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),k.a_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),Y(A,no.EventType.MESSAGE,(q=>{if(!I){const X=q.data[0];Ht(!!X,16349);const W=X,at=W?.error||W[0]?.error;if(at){ct(Xe,`RPC '${e}' stream ${o} received error:`,at);const bt=at.status;let ht=(function(R){const x=Ee[R];if(x!==void 0)return Yv(x)})(bt),_t=at.message;ht===void 0&&(ht=J.INTERNAL,_t="Unknown error status: "+bt+" with message "+at.message),I=!0,k.a_(new ut(ht,_t)),A.close()}else ct(Xe,`RPC '${e}' stream ${o} received:`,X),k.u_(X)}})),Y(g,hv.STAT_EVENT,(q=>{q.stat===Cd.PROXY?ct(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Cd.NOPROXY&&ct(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r){return new Lw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="PersistentStream";class o1{constructor(e,i,s,o,c,d,g,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ut(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ct(d0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ct(d0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MR extends o1{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=kw(this.serializer,e),s=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?ui(d.readTime):St.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=zd(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=Od(y)?{documents:qw(c,y)}:{query:Hw(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=$v(c,d.resumeToken);const p=Ud(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=Cc(c,d.snapshotVersion.toTimestamp());const p=Ud(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=Fw(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=zd(this.serializer),i.removeTarget=e,this.q_(i)}}class OR extends o1{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Bw(e.writeResults,e.commitTime),s=ui(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=zd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>zw(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{}class LR extends jR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Pd(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Pd(i,s),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hi(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class PR{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Va(this)&&(ct(Na,"Restarting streams for network reachability change."),await(async function(y){const p=At(y);p.Ea.add(4),await No(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Yc(p)})(this))}))})),this.Ra=new UR(s,o)}}async function Yc(r){if(Va(r))for(const e of r.da)await e(!0)}async function No(r){for(const e of r.da)await e(!1)}function u1(r,e){const i=At(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Nm(i)?xm(i):Gs(i).O_()&&Rm(i,e))}function wm(r,e){const i=At(r),s=Gs(i);i.Ia.delete(e),s.O_()&&c1(i,e),i.Ia.size===0&&(s.O_()?s.L_():Va(i)&&i.Ra.set("Unknown"))}function Rm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Gs(r).Y_(e)}function c1(r,e){r.Va.Ue(e),Gs(r).Z_(e)}function xm(r){r.Va=new Vw({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Gs(r).start(),r.Ra.ua()}function Nm(r){return Va(r)&&!Gs(r).x_()&&r.Ia.size>0}function Va(r){return At(r).Ea.size===0}function h1(r){r.Va=void 0}async function kR(r){r.Ra.set("Online")}async function zR(r){r.Ia.forEach(((e,i)=>{Rm(r,e)}))}async function BR(r,e){h1(r),Nm(r)?(r.Ra.ha(e),xm(r)):r.Ra.set("Unknown")}async function qR(r,e,i){if(r.Ra.set("Online"),e instanceof Xv&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){ct(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ic(r,s)}else if(e instanceof dc?r.Va.Ze(e):e instanceof Kv?r.Va.st(e):r.Va.tt(e),!i.isEqual(St.min()))try{const s=await s1(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(p);E&&c.Ia.set(p,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),c1(c,y);const A=new Ar(E.target,y,p,E.sequenceNumber);Rm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ct(Na,"Failed to raise snapshot:",s),await Ic(r,s)}}async function Ic(r,e,i){if(!Hs(e))throw e;r.Ea.add(1),await No(r),r.Ra.set("Offline"),i||(i=()=>s1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(Na,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Yc(r)}))}function f1(r,e){return e().catch((i=>Ic(r,i,e)))}async function Kc(r){const e=At(r),i=Or(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hm;for(;HR(e);)try{const o=await AR(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,GR(e,o)}catch(o){await Ic(e,o)}d1(e)&&m1(e)}function HR(r){return Va(r)&&r.Ta.length<10}function GR(r,e){r.Ta.push(e);const i=Or(r);i.O_()&&i.X_&&i.ea(e.mutations)}function d1(r){return Va(r)&&!Or(r).x_()&&r.Ta.length>0}function m1(r){Or(r).start()}async function FR(r){Or(r).ra()}async function QR(r){const e=Or(r);for(const i of r.Ta)e.ea(i.mutations)}async function YR(r,e,i){const s=r.Ta.shift(),o=_m.from(s,e,i);await f1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Kc(r)}async function KR(r,e){e&&Or(r).X_&&await(async function(s,o){if((function(d){return Cw(d)&&d!==J.ABORTED})(o.code)){const c=s.Ta.shift();Or(s).B_(),await f1(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Kc(s)}})(r,e),d1(r)&&m1(r)}async function m0(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),ct(Na,"RemoteStore received new credentials");const s=Va(i);i.Ea.add(3),await No(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Yc(i)}async function XR(r,e){const i=At(r);e?(i.Ea.delete(2),await Yc(i)):e||(i.Ea.add(2),await No(i),i.Ra.set("Unknown"))}function Gs(r){return r.ma||(r.ma=(function(i,s,o){const c=At(i);return c.sa(),new MR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:kR.bind(null,r),t_:zR.bind(null,r),r_:BR.bind(null,r),H_:qR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Nm(r)?xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),h1(r))}))),r.ma}function Or(r){return r.fa||(r.fa=(function(i,s,o){const c=At(i);return c.sa(),new OR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:FR.bind(null,r),r_:KR.bind(null,r),ta:QR.bind(null,r),na:YR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Kc(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(Na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new Cm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(r,e){if(Hi("AsyncQueue",`${e}: ${r}`),Hs(r))return new ut(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(e){return new Is(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=io(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Is;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.ga=new oe(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Us{constructor(e,i,s,o,c,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Us(e,i,Is.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZR{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=p0(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function p0(){return new Ia((r=>jv(r)),zc)}async function g1(r,e){const i=At(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new $R,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Dm(d,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Im(i)}async function p1(r,e){const i=At(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function JR(r,e){const i=At(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&Im(i)}function WR(r,e,i){const s=At(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function Im(r){r.Ca.forEach((e=>{e.next()}))}var Hd,y0;(y0=Hd||(Hd={})).Ma="default",y0.Cache="cache";class y1{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Us(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.key=e}}class v1{constructor(e){this.key=e}}class tx{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=Lv(e),this.tu=new Is(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new g0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const w=o.get(E),I=Bc(this.query,A)?A:null,k=!!w&&this.mutatedKeys.has(w.key),Y=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let q=!1;w&&I?w.data.isEqual(I.data)?k!==Y&&(s.track({type:3,doc:I}),q=!0):this.su(w,I)||(s.track({type:2,doc:I}),q=!0,(y&&this.eu(I,y)>0||p&&this.eu(I,p)<0)&&(g=!0)):!w&&I?(s.track({type:0,doc:I}),q=!0):w&&!I&&(s.track({type:1,doc:w}),q=!0,(y||p)&&(g=!0)),q&&(I?(d=d.add(I),c=Y?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(I,k){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:q})}};return Y(I)-Y(k)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new Us(this.query,e.tu,c,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new v1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new _1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Us.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vm="SyncEngine";class ex{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class nx{constructor(e){this.key=e,this.hu=!1}}class ix{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ia((g=>jv(g)),zc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(mt.comparator),this.Au=new Map,this.Ru=new Tm,this.Vu={},this.mu=new Map,this.fu=Ls.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rx(r,e,i=!0){const s=w1(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await E1(s,e,i,!0),o}async function ax(r,e){const i=w1(r);await E1(i,e,!0,!1)}async function E1(r,e,i,s){const o=await wR(r.localStore,oi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await sx(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&u1(r.remoteStore,o),g}async function sx(r,e,i,s,o){r.pu=(A,w,I)=>(async function(Y,q,X,W){let at=q.view.ru(X);at.Cs&&(at=await u0(Y.localStore,q.query,!1).then((({documents:O})=>q.view.ru(O,at))));const bt=W&&W.targetChanges.get(q.targetId),ht=W&&W.targetMismatches.get(q.targetId)!=null,_t=q.view.applyChanges(at,Y.isPrimaryClient,bt,ht);return v0(Y,q.targetId,_t.au),_t.snapshot})(r,A,w,I);const c=await u0(r.localStore,e,!0),d=new tx(e,c.Qs),g=d.ru(c.documents),y=xo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),p=d.applyChanges(g,r.isPrimaryClient,y);v0(r,i,p.au);const E=new ex(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),p.snapshot}async function lx(r,e,i){const s=At(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!zc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&wm(s.remoteStore,o.targetId),Gd(s,o.targetId)})).catch(qs)):(Gd(s,o.targetId),await Bd(s.localStore,o.targetId,!0))}async function ox(r,e){const i=At(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),wm(i.remoteStore,s.targetId))}async function ux(r,e,i){const s=px(r);try{const o=await(function(d,g){const y=At(d),p=ee.now(),E=g.reduce(((I,k)=>I.add(k.key)),Mt());let A,w;return y.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let k=Gi(),Y=Mt();return y.Ns.getEntries(I,E).next((q=>{k=q,k.forEach(((X,W)=>{W.isValidDocument()||(Y=Y.add(X))}))})).next((()=>y.localDocuments.getOverlayedDocuments(I,k))).next((q=>{A=q;const X=[];for(const W of g){const at=Aw(W,A.get(W.key).overlayedDocument);at!=null&&X.push(new Pr(W.key,at,xv(at.value.mapValue),_n.exists(!0)))}return y.mutationQueue.addMutationBatch(I,p,X,g)})).next((q=>{w=q;const X=q.applyToLocalDocumentSet(A,Y);return y.documentOverlayCache.saveOverlays(I,q.batchId,X)}))})).then((()=>({batchId:w.batchId,changes:Pv(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new oe(Vt)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(s,o.batchId,i),await Co(s,o.changes),await Kc(s.remoteStore)}catch(o){const c=Dm(o,"Failed to persist write");i.reject(c)}}async function T1(r,e){const i=At(r);try{const s=await bR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Co(i,s,e)}catch(s){await qs(s)}}function _0(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=At(d);y.onlineState=g;let p=!1;y.queries.forEach(((E,A)=>{for(const w of A.Sa)w.va(g)&&(p=!0)})),p&&Im(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cx(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new oe(mt.comparator);d=d.insert(c,Ze.newNoDocument(c,St.min()));const g=Mt().add(c),y=new Fc(St.min(),new Map,new oe(Vt),d,g);await T1(s,y),s.du=s.du.remove(c),s.Au.delete(e),Mm(s)}else await Bd(s.localStore,e,!1).then((()=>Gd(s,e,i))).catch(qs)}async function hx(r,e){const i=At(r),s=e.batch.batchId;try{const o=await TR(i.localStore,e);S1(i,s,null),b1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Co(i,o)}catch(o){await qs(o)}}async function fx(r,e,i){const s=At(r);try{const o=await(function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next((A=>(Ht(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(p,A)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);S1(s,e,i),b1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Co(s,o)}catch(o){await qs(o)}}function b1(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function S1(r,e,i){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Gd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||A1(r,s)}))}function A1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(wm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Mm(r))}function v0(r,e,i){for(const s of i)s instanceof _1?(r.Ru.addReference(s.key,e),dx(r,s)):s instanceof v1?(ct(Vm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||A1(r,s.key)):vt(19791,{wu:s})}function dx(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ct(Vm,"New document in limbo: "+i),r.Eu.add(s),Mm(r))}function Mm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(te.fromString(e)),s=r.fu.next();r.Au.set(s,new nx(i)),r.du=r.du.insert(i,s),u1(r.remoteStore,new Ar(oi(pm(i.path)),s,"TargetPurposeLimboResolution",Uc.ce))}}async function Co(r,e,i){const s=At(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,e,i).then((p=>{if((p||i)&&s.isPrimaryClient){const E=p?!p.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Sm.As(y.targetId,p);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(y,p){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>et.forEach(p,(w=>et.forEach(w.Es,(I=>E.persistence.referenceDelegate.addReference(A,w.targetId,I))).next((()=>et.forEach(w.ds,(I=>E.persistence.referenceDelegate.removeReference(A,w.targetId,I)))))))))}catch(A){if(!Hs(A))throw A;ct(Am,"Failed to update sequence numbers: "+A)}for(const A of p){const w=A.targetId;if(!A.fromCache){const I=E.Ms.get(w),k=I.snapshotVersion,Y=I.withLastLimboFreeSnapshotVersion(k);E.Ms=E.Ms.insert(w,Y)}}})(s.localStore,c))}async function mx(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){ct(Vm,"User change. New user:",e.toKey());const s=await a1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ut(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Co(i,s.Ls)}}function gx(r,e){const i=At(r),s=i.Au.get(e);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function w1(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cx.bind(null,e),e.Pu.H_=JR.bind(null,e.eventManager),e.Pu.yu=WR.bind(null,e.eventManager),e}function px(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fx.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return ER(this.persistence,new yR,e.initialUser,this.serializer)}Cu(e){return new r1(bm.mi,this.serializer)}Du(e){return new xR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class yx extends Vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof Dc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new r1((s=>Dc.mi(s,i)),this.serializer)}}class Fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mx.bind(null,this.syncEngine),await XR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZR})()}createDatastore(e){const i=Qc(e.databaseInfo.databaseId),s=(function(c){return new VR(c)})(e.databaseInfo);return(function(c,d,g,y){return new LR(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,g){return new PR(s,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>_0(this.syncEngine,i,0)),(function(){return f0.v()?new f0:new NR})())}createSyncEngine(e,i){return(function(o,c,d,g,y,p,E){const A=new ix(o,c,d,g,y,p);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=At(i);ct(Na,"RemoteStore shutting down."),s.Ea.add(5),await No(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class _x{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ct(jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ct(jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Dm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function vd(r,e){r.asyncQueue.verifyOperationInProgress(),ct(jr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await a1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function E0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await vx(r);ct(jr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>m0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>m0(e.remoteStore,o))),r._onlineComponents=e}async function vx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(jr,"Using user provided OfflineComponentProvider");try{await vd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Vs("Error using user provided cache. Falling back to memory cache: "+i),await vd(r,new Vc)}}else ct(jr,"Using default OfflineComponentProvider"),await vd(r,new yx(void 0));return r._offlineComponents}async function x1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(jr,"Using user provided OnlineComponentProvider"),await E0(r,r._uninitializedComponentsProvider._online)):(ct(jr,"Using default OnlineComponentProvider"),await E0(r,new Fd))),r._onlineComponents}function Ex(r){return x1(r).then((e=>e.syncEngine))}async function Qd(r){const e=await x1(r),i=e.eventManager;return i.onListen=rx.bind(null,e.syncEngine),i.onUnlisten=lx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ax.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ox.bind(null,e.syncEngine),i}function Tx(r,e,i={}){const s=new Nr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,p){const E=new R1({next:w=>{E.Nu(),d.enqueueAndForget((()=>p1(c,A))),w.fromCache&&y.source==="server"?p.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),A=new y1(g,E,{includeMetadataChanges:!0,qa:!0});return g1(c,A)})(await Qd(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="firestore.googleapis.com",b0=!0;class S0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C1,this.ssl=b0}else this.host=e.host,this.ssl=e.ssl??b0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tR)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new x2;switch(s.type){case"firstParty":return new I2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=T0.get(i);s&&(ct("ComponentProvider","Removing Datastore"),T0.delete(i),s.terminate())})(this),Promise.resolve()}}function bx(r,e,i,s={}){r=li(r,Xc);const o=lm(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(nA(`https://${g}`),sA("Firestore",!0)),c.host!==C1&&c.host!==g&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:s};if(!Ec(y,d)&&(r._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=$e.MOCK_USER;else{p=iA(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(A)}r._authCredentials=new N2(new gv(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class Se{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Se(this.firestore,e,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Ao(i,Se._jsonSchema))return new Se(e,s||null,new mt(te.fromString(i.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:be("string",Se._jsonSchemaVersion),referencePath:be("string")};class Cr extends Ma{constructor(e,i,s){super(e,i,pm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Se(this.firestore,null,new mt(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function Yd(r,e,...i){if(r=zn(r),pv("collection","path",e),r instanceof Xc){const s=te.fromString(e,...i);return L_(s),new Cr(r,null,s)}{if(!(r instanceof Se||r instanceof Cr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return L_(s),new Cr(r.firestore,null,s)}}function mc(r,e,...i){if(r=zn(r),arguments.length===1&&(e=cm.newId()),pv("doc","path",e),r instanceof Xc){const s=te.fromString(e,...i);return j_(s),new Se(r,null,new mt(s))}{if(!(r instanceof Se||r instanceof Cr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return j_(s),new Se(r.firestore,r instanceof Cr?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="AsyncQueue";class w0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l1(this,"async_queue_retry"),this._c=()=>{const s=_d();s&&ct(A0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hs(e))throw e;ct(A0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Hi("INTERNAL UNHANDLED ERROR: ",R0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Cm.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:R0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function R0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Ca extends Xc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new w0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w0(e),this._firestoreClient=void 0,await e}}}function Sx(r,e){const i=typeof r=="object"?r:p2(),s=typeof r=="string"?r:Ac,o=h2(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=tA("firestore");c&&bx(o,...c)}return o}function $c(r){if(r._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Ax(r),r._firestoreClient}function Ax(r){const e=r._freezeSettings(),i=(function(o,c,d,g){return new K2(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,N1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _x(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Fe.fromBase64String(e))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ao(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:be("string",Vn._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(e){if(Ao(e,ci._jsonSchema))return new ci(e.latitude,e.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:be("string",ci._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ao(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new hi(e.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:be("string",hi._jsonSchemaVersion),vectorValues:be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=/^__.*__$/;class Rx{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(e,this.data,i,this.fieldTransforms)}}class D1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Pr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function I1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Om{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Om({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(I1(this.Ac)&&wx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xx{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Qc(e)}Cc(e,i,s,o=!1){return new Om({Ac:e,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jm(r){const e=r._freezeSettings(),i=Qc(r._databaseId);return new xx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function V1(r,e,i,s,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);Um("Data must be an object, but it was:",d,s);const g=M1(s,d);let y,p;if(c.merge)y=new yn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const w=Kd(e,A,i);if(!d.contains(w))throw new ut(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);j1(E,w)||E.push(w)}y=new yn(E),p=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,p=d.fieldTransforms;return new Rx(new ln(g),y,p)}class Wc extends Jc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wc}}class Lm extends Jc{_toFieldTransform(e){return new Ew(e.path,new vo)}isEqual(e){return e instanceof Lm}}function Nx(r,e,i,s){const o=r.Cc(1,e,i);Um("Data must be an object, but it was:",o,s);const c=[],d=ln.empty();Ur(s,((y,p)=>{const E=Pm(e,y,i);p=zn(p);const A=o.yc(E);if(p instanceof Wc)c.push(E);else{const w=Do(p,A);w!=null&&(c.push(E),d.set(E,w))}}));const g=new yn(c);return new D1(d,g,o.fieldTransforms)}function Cx(r,e,i,s,o,c){const d=r.Cc(1,e,i),g=[Kd(e,s,i)],y=[o];if(c.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(Kd(e,c[w])),y.push(c[w+1]);const p=[],E=ln.empty();for(let w=g.length-1;w>=0;--w)if(!j1(p,g[w])){const I=g[w];let k=y[w];k=zn(k);const Y=d.yc(I);if(k instanceof Wc)p.push(I);else{const q=Do(k,Y);q!=null&&(p.push(I),E.set(I,q))}}const A=new yn(p);return new D1(E,A,d.fieldTransforms)}function Dx(r,e,i,s=!1){return Do(i,r.Cc(s?4:3,e))}function Do(r,e){if(O1(r=zn(r)))return Um("Unsupported field value:",e,r),M1(r,e);if(r instanceof Jc)return(function(s,o){if(!I1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const g of s){let y=Do(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=zn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ee.fromDate(s);return{timestampValue:Cc(o.serializer,c)}}if(s instanceof ee){const c=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,c)}}if(s instanceof ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:$v(o.serializer,s._byteString)};if(s instanceof Se){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Em(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hi)return(function(d,g){return{mapValue:{fields:{[wv]:{stringValue:Rv},[wc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return ym(g.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Lc(s)}`)})(r,e)}function M1(r,e){const i={};return vv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(r,((s,o)=>{const c=Do(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function O1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof ci||r instanceof Vn||r instanceof Se||r instanceof Jc||r instanceof hi)}function Um(r,e,i){if(!O1(i)||!yv(i)){const s=Lc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Kd(r,e,i){if((e=zn(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return Pm(r,e);throw Mc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Ix=new RegExp("[~\\*/\\[\\]]");function Pm(r,e,i){if(e.search(Ix)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Zc(...e.split("."))._internalPath}catch{throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Mc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ut(J.INVALID_ARGUMENT,g+r+y)}function j1(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(km("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Vx extends L1{data(){return super.data()}}function km(r,e){return typeof e=="string"?Pm(r,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zm{}class Mx extends zm{}function P1(r,e,...i){let s=[];e instanceof zm&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof Bm)).length,g=c.filter((y=>y instanceof th)).length;if(d>1||d>0&&g>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class th extends Mx{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new th(e,i,s)}_apply(e){const i=this._parse(e);return z1(e._query,i),new Ma(e.firestore,e.converter,jd(e._query,i))}_parse(e){const i=jm(e.firestore);return(function(c,d,g,y,p,E,A){let w;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){C0(A,E);const k=[];for(const Y of A)k.push(N0(y,c,Y));w={arrayValue:{values:k}}}else w=N0(y,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||C0(A,E),w=Dx(g,d,A,E==="in"||E==="not-in");return Te.create(p,E,w)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function k1(r,e,i){const s=e,o=km("where",r);return th._create(o,s,i)}class Bm extends zm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Bm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Bn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const y of g)z1(d,y),d=jd(d,y)})(e._query,i),new Ma(e.firestore,e.converter,jd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N0(r,e,i){if(typeof(i=zn(i))=="string"){if(i==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ov(e)&&i.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(te.fromString(i));if(!mt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G_(r,new mt(s))}if(i instanceof Se)return G_(r,i._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lc(i)}.`)}function C0(r,e){if(!Array.isArray(r)||r.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z1(r,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Ox{convertValue(e,i="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ur(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[wc].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new hi(i)}convertGeoPoint(e){return new ci(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=kc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(po(e));default:return null}}convertTimestamp(e){const i=Ir(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);Ht(n1(s),9688,{name:e});const o=new yo(s.get(1),s.get(3)),c=new mt(s.popFirst(5));return o.isEqual(i)||Hi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class ao{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wa extends L1{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(km("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=wa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:be("string",wa._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class gc extends wa{data(e={}){return super.data(e)}}class Ra{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ao(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new gc(this._firestore,this._userDataWriter,s.key,s,new ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ao(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ao(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:jx(g.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Ra._jsonSchemaVersion="firestore/querySnapshot/1.0",Ra._jsonSchema={type:be("string",Ra._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class qm extends Ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Se(this.firestore,null,i)}}function D0(r){r=li(r,Ma);const e=li(r.firestore,Ca),i=$c(e),s=new qm(e);return U1(r._query),Tx(i,r._query).then((o=>new Ra(e,s,r,o)))}function Xd(r,e,i){r=li(r,Se);const s=li(r.firestore,Ca),o=B1(r.converter,e,i);return Hm(s,[V1(jm(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,_n.none())])}function Lx(r){return Hm(li(r.firestore,Ca),[new Gc(r._key,_n.none())])}function Ux(r,...e){r=zn(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||x0(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(x0(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Se)d=li(r.firestore,Ca),g=pm(r._key.path),c={next:y=>{e[s]&&e[s](Px(d,r,y))},error:e[s+1],complete:e[s+2]};else{const y=li(r,Ma);d=li(y.firestore,Ca),g=y._query;const p=new qm(d);c={next:E=>{e[s]&&e[s](new Ra(d,p,y,E))},error:e[s+1],complete:e[s+2]},U1(r._query)}return(function(p,E,A,w){const I=new R1(w),k=new y1(E,I,A);return p.asyncQueue.enqueueAndForget((async()=>g1(await Qd(p),k))),()=>{I.Nu(),p.asyncQueue.enqueueAndForget((async()=>p1(await Qd(p),k)))}})($c(d),g,o,c)}function Hm(r,e){return(function(s,o){const c=new Nr;return s.asyncQueue.enqueueAndForget((async()=>ux(await Ex(s),o,c))),c.promise})($c(r),e)}function Px(r,e,i){const s=i.docs.get(e._key),o=new qm(r);return new wa(r,o,e._key,s,new ao(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=jm(e)}set(e,i,s){this._verifyNotCommitted();const o=Ed(e,this._firestore),c=B1(o.converter,i,s),d=V1(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,_n.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const c=Ed(e,this._firestore);let d;return d=typeof(i=zn(i))=="string"||i instanceof Zc?Cx(this._dataReader,"WriteBatch.update",c._key,i,s,o):Nx(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,_n.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Ed(e,this._firestore);return this._mutations=this._mutations.concat(new Gc(i._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ed(r,e){if((r=zn(r)).firestore!==e)throw new ut(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function zx(){return new Lm("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(r){return $c(r=li(r,Ca)),new kx(r,(e=>Hm(r,e)))}(function(e,i=!0){(function(o){Bs=o})(g2),bc(new fo("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Ca(new C2(s.getProvider("auth-internal")),new V2(d,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(p.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ds(I_,V_,e),Ds(I_,V_,"esm2020")})();var qx="firebase",Hx="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(qx,Hx,"app");const Gx={apiKey:"AIzaSyC2RM2HldOB3ScxGRpGxkSj9wvuDqAwWm4",authDomain:"academic-progress-tracke-4774a.firebaseapp.com",projectId:"academic-progress-tracke-4774a",storageBucket:"academic-progress-tracke-4774a.firebasestorage.app",messagingSenderId:"660250554925",appId:"1:660250554925:web:55db1dfd08215d6e493ea4"},Fx=av(Gx),Tr=Sx(Fx);function Qx(r){const[e,i]=G.useState(navigator.onLine),[s,o]=G.useState(!1),[c,d]=G.useState(null);return G.useEffect(()=>{const p=()=>i(!0),E=()=>i(!1);return window.addEventListener("online",p),window.addEventListener("offline",E),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",E)}},[]),{isOnline:e,isSyncing:s,lastSynced:c,saveToFirestore:async(p,E,A,w)=>{if(!r)return!1;try{o(!0);const I=mc(Tr,"academic-data",`${r}-${p}-${E}`);return await Xd(I,{studentId:r,semester:p,subject:E,type:w,data:A,timestamp:zx(),lastModified:new Date().toISOString()}),d(new Date),!0}catch(I){return console.error("Error saving to Firestore:",I),!1}finally{o(!1)}},loadAllData:async()=>{if(!r)return{};try{o(!0);const p=P1(Yd(Tr,"academic-data"),k1("studentId","==",r));return new Promise((E,A)=>Ux(p,I=>{const k={};I.forEach(Y=>{const q=Y.data(),X=`${q.semester}-${q.subject}`;k[X]=q}),d(new Date),E(k)},I=>{console.error("Error loading all data:",I),A(I)}))}catch(p){return console.error("Error setting up real-time listener:",p),{}}finally{o(!1)}}}}function Yx(){const[r,e]=G.useState([]),[i,s]=G.useState(null),[o,c]=G.useState(!0),[d,g]=G.useState(!1),y=i&&i.rollNo===zt.rollNo,p=async()=>{try{c(!0);const I=await D0(Yd(Tr,"students")),k=[];I.forEach(q=>{k.push(q.data())}),k.some(q=>q.rollNo===zt.rollNo)||(k.push(zt),await Xd(mc(Tr,"students",zt.rollNo),zt)),e(k),g(!0)}catch(I){console.error("Error loading students:",I),e([zt]),g(!0)}finally{c(!1)}},E=async(I,k)=>{try{const Y={rollNo:I,name:k};if(r.some(X=>X.rollNo===I))throw new Error("Student with this roll number already exists");return await Xd(mc(Tr,"students",I),Y),e([...r,Y]),!0}catch(Y){throw console.error("Error creating student:",Y),Y}},A=async I=>{try{if(I===zt.rollNo)throw new Error("Cannot delete admin student");await Lx(mc(Tr,"students",I));const k=Bx(Tr),Y=P1(Yd(Tr,"academic-data"),k1("studentId","==",I));return(await D0(Y)).forEach(X=>{k.delete(X.ref)}),await k.commit(),e(r.filter(X=>X.rollNo!==I)),i&&i.rollNo===I&&(s(null),localStorage.removeItem("selected-student")),!0}catch(k){throw console.error("Error deleting student:",k),k}},w=I=>{const k=i;if(k&&k.rollNo!==I.rollNo){const Y=`academic-data-${k.rollNo}`;localStorage.removeItem(Y)}s(I),localStorage.setItem("selected-student",JSON.stringify(I))};return G.useEffect(()=>{p()},[]),{students:r,selectedStudent:i,isAdmin:y,isLoading:o,hasInitialized:d,createStudent:E,deleteStudent:A,selectStudent:w,loadStudents:p}}function Kx(r,e){const[i,s]=G.useState(()=>{try{const d=window.localStorage.getItem(r);return d?JSON.parse(d):e}catch(d){return console.error(`Error loading localStorage key "${r}":`,d),e}});return[i,d=>{try{s(d),window.localStorage.setItem(r,JSON.stringify(d))}catch(g){console.error(`Error setting localStorage key "${r}":`,g)}},()=>{try{s(e),window.localStorage.removeItem(r)}catch(d){console.error(`Error clearing localStorage key "${r}":`,d)}}]}function Xx(){const[r,e]=G.useState(5),i=Yx(),{students:s,selectedStudent:o,isLoading:c,hasInitialized:d,selectStudent:g}=i,y=o?`academic-data-${o.rollNo}`:"academic-temp",[p,E]=Kx(y,{}),A=o?.rollNo,{isOnline:w,isSyncing:I,lastSynced:k,saveToFirestore:Y,loadAllData:q}=Qx(A),X=tm();G.useEffect(()=>{if(!o){E({}),X("/select-student",{replace:!0});return}async function ht(){if(E({}),!!o&&w)try{const _t=await q();_t&&Object.keys(_t).length>0?E(_t):E({})}catch(_t){E({}),console.error("Error loading student data:",_t)}}ht()},[o,w]);async function W(ht,_t,O="theory"){if(!o)return;const R=`${r}-${ht}`,x={data:_t,type:O,semester:r,subject:ht},M={...p,[R]:x};if(E(M),w)try{await Y(r,ht,_t,O)}catch(j){console.warn("Firestore sync failed, stored locally:",j)}}function at(ht){E({}),g(ht),X("/",{replace:!0})}function bt(){g(null),localStorage.removeItem("selected-student"),X("/select-student",{replace:!0})}return S.jsx(S.Fragment,{children:S.jsxs(m_,{children:[S.jsx(Er,{path:"/select-student",element:S.jsx(jS,{students:s,onStudentSelect:at,isLoading:c})}),S.jsx(Er,{path:"/*",element:o?S.jsxs(S.Fragment,{children:[S.jsx(LS,{semester:r,syncStatus:{isOnline:w,isSyncing:I,lastSynced:k},selectedStudent:o,onStudentSwitch:bt}),S.jsx(PS,{activeTab:r,onTabChange:()=>{}}),S.jsx("main",{className:"max-w-7xl mx-auto p-6",children:S.jsxs(m_,{children:[S.jsx(Er,{path:"/",element:S.jsx(ud,{to:"/theory",replace:!0})}),S.jsx(Er,{path:"/theory",element:S.jsx(zS,{semester:r,allData:p,handleDataChange:W})}),S.jsx(Er,{path:"/practical",element:S.jsx(qS,{semester:r,allData:p,handleDataChange:W})}),S.jsx(Er,{path:"/settings",element:S.jsx(HS,{semester:r,setSemester:e,studentManagement:i})}),S.jsx(Er,{path:"*",element:S.jsx(ud,{to:"/theory",replace:!0})})]})})]}):S.jsx(ud,{to:"/select-student",replace:!0})})]})})}ST.createRoot(document.getElementById("root")).render(S.jsx(gT.StrictMode,{children:S.jsx(jb,{children:S.jsx(Xx,{})})}));
