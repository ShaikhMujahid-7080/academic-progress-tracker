(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function pd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qm={exports:{}},dc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function qN(){if(D1)return dc;D1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:o}}return dc.Fragment=e,dc.jsx=n,dc.jsxs=n,dc}var I1;function FN(){return I1||(I1=1,qm.exports=qN()),qm.exports}var u=FN(),Fm={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function HN(){if(M1)return He;M1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,L={};function z(E,se,W){this.props=E,this.context=se,this.refs=L,this.updater=W||_}z.prototype.isReactComponent={},z.prototype.setState=function(E,se){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,se,"setState")},z.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function F(){}F.prototype=z.prototype;function q(E,se,W){this.props=E,this.context=se,this.refs=L,this.updater=W||_}var V=q.prototype=new F;V.constructor=q,S(V,z.prototype),V.isPureReactComponent=!0;var H=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function j(E,se,W,k,oe,ve){return W=ve.ref,{$$typeof:t,type:E,key:se,ref:W!==void 0?W:null,props:ve}}function C(E,se){return j(E.type,se,void 0,void 0,void 0,E.props)}function I(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function A(E){var se={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(W){return se[W]})}var M=/\/+/g;function O(E,se){return typeof E=="object"&&E!==null&&E.key!=null?A(""+E.key):se.toString(36)}function R(){}function ae(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(R,R):(E.status="pending",E.then(function(se){E.status==="pending"&&(E.status="fulfilled",E.value=se)},function(se){E.status==="pending"&&(E.status="rejected",E.reason=se)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function xe(E,se,W,k,oe){var ve=typeof E;(ve==="undefined"||ve==="boolean")&&(E=null);var le=!1;if(E===null)le=!0;else switch(ve){case"bigint":case"string":case"number":le=!0;break;case"object":switch(E.$$typeof){case t:case e:le=!0;break;case x:return le=E._init,xe(le(E._payload),se,W,k,oe)}}if(le)return oe=oe(E),le=k===""?"."+O(E,0):k,H(oe)?(W="",le!=null&&(W=le.replace(M,"$&/")+"/"),xe(oe,se,W,"",function(xt){return xt})):oe!=null&&(I(oe)&&(oe=C(oe,W+(oe.key==null||E&&E.key===oe.key?"":(""+oe.key).replace(M,"$&/")+"/")+le)),se.push(oe)),1;le=0;var _e=k===""?".":k+":";if(H(E))for(var Se=0;Se<E.length;Se++)k=E[Se],ve=_e+O(k,Se),le+=xe(k,se,W,ve,oe);else if(Se=w(E),typeof Se=="function")for(E=Se.call(E),Se=0;!(k=E.next()).done;)k=k.value,ve=_e+O(k,Se++),le+=xe(k,se,W,ve,oe);else if(ve==="object"){if(typeof E.then=="function")return xe(ae(E),se,W,k,oe);throw se=String(E),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return le}function Q(E,se,W){if(E==null)return E;var k=[],oe=0;return xe(E,k,"","",function(ve){return se.call(W,ve,oe++)}),k}function fe(E){if(E._status===-1){var se=E._result;se=se(),se.then(function(W){(E._status===0||E._status===-1)&&(E._status=1,E._result=W)},function(W){(E._status===0||E._status===-1)&&(E._status=2,E._result=W)}),E._status===-1&&(E._status=0,E._result=se)}if(E._status===1)return E._result.default;throw E._result}var re=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function ye(){}return He.Children={map:Q,forEach:function(E,se,W){Q(E,function(){se.apply(this,arguments)},W)},count:function(E){var se=0;return Q(E,function(){se++}),se},toArray:function(E){return Q(E,function(se){return se})||[]},only:function(E){if(!I(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},He.Component=z,He.Fragment=n,He.Profiler=a,He.PureComponent=q,He.StrictMode=s,He.Suspense=p,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,He.__COMPILER_RUNTIME={__proto__:null,c:function(E){return B.H.useMemoCache(E)}},He.cache=function(E){return function(){return E.apply(null,arguments)}},He.cloneElement=function(E,se,W){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var k=S({},E.props),oe=E.key,ve=void 0;if(se!=null)for(le in se.ref!==void 0&&(ve=void 0),se.key!==void 0&&(oe=""+se.key),se)!U.call(se,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&se.ref===void 0||(k[le]=se[le]);var le=arguments.length-2;if(le===1)k.children=W;else if(1<le){for(var _e=Array(le),Se=0;Se<le;Se++)_e[Se]=arguments[Se+2];k.children=_e}return j(E.type,oe,void 0,void 0,ve,k)},He.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:o,_context:E},E},He.createElement=function(E,se,W){var k,oe={},ve=null;if(se!=null)for(k in se.key!==void 0&&(ve=""+se.key),se)U.call(se,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(oe[k]=se[k]);var le=arguments.length-2;if(le===1)oe.children=W;else if(1<le){for(var _e=Array(le),Se=0;Se<le;Se++)_e[Se]=arguments[Se+2];oe.children=_e}if(E&&E.defaultProps)for(k in le=E.defaultProps,le)oe[k]===void 0&&(oe[k]=le[k]);return j(E,ve,void 0,void 0,null,oe)},He.createRef=function(){return{current:null}},He.forwardRef=function(E){return{$$typeof:d,render:E}},He.isValidElement=I,He.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:fe}},He.memo=function(E,se){return{$$typeof:m,type:E,compare:se===void 0?null:se}},He.startTransition=function(E){var se=B.T,W={};B.T=W;try{var k=E(),oe=B.S;oe!==null&&oe(W,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(ye,re)}catch(ve){re(ve)}finally{B.T=se}},He.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},He.use=function(E){return B.H.use(E)},He.useActionState=function(E,se,W){return B.H.useActionState(E,se,W)},He.useCallback=function(E,se){return B.H.useCallback(E,se)},He.useContext=function(E){return B.H.useContext(E)},He.useDebugValue=function(){},He.useDeferredValue=function(E,se){return B.H.useDeferredValue(E,se)},He.useEffect=function(E,se,W){var k=B.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return k.useEffect(E,se)},He.useId=function(){return B.H.useId()},He.useImperativeHandle=function(E,se,W){return B.H.useImperativeHandle(E,se,W)},He.useInsertionEffect=function(E,se){return B.H.useInsertionEffect(E,se)},He.useLayoutEffect=function(E,se){return B.H.useLayoutEffect(E,se)},He.useMemo=function(E,se){return B.H.useMemo(E,se)},He.useOptimistic=function(E,se){return B.H.useOptimistic(E,se)},He.useReducer=function(E,se,W){return B.H.useReducer(E,se,W)},He.useRef=function(E){return B.H.useRef(E)},He.useState=function(E){return B.H.useState(E)},He.useSyncExternalStore=function(E,se,W){return B.H.useSyncExternalStore(E,se,W)},He.useTransition=function(){return B.H.useTransition()},He.version="19.1.1",He}var O1;function op(){return O1||(O1=1,Fm.exports=HN()),Fm.exports}var X=op();const gt=pd(X);var Hm={exports:{}},hc={},$m={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function $N(){return V1||(V1=1,(function(t){function e(Q,fe){var re=Q.length;Q.push(fe);e:for(;0<re;){var ye=re-1>>>1,E=Q[ye];if(0<a(E,fe))Q[ye]=fe,Q[re]=E,re=ye;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var fe=Q[0],re=Q.pop();if(re!==fe){Q[0]=re;e:for(var ye=0,E=Q.length,se=E>>>1;ye<se;){var W=2*(ye+1)-1,k=Q[W],oe=W+1,ve=Q[oe];if(0>a(k,re))oe<E&&0>a(ve,k)?(Q[ye]=ve,Q[oe]=re,ye=oe):(Q[ye]=k,Q[W]=re,ye=W);else if(oe<E&&0>a(ve,re))Q[ye]=ve,Q[oe]=re,ye=oe;else break e}}return fe}function a(Q,fe){var re=Q.sortIndex-fe.sortIndex;return re!==0?re:Q.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],m=[],x=1,b=null,w=3,_=!1,S=!1,L=!1,z=!1,F=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function H(Q){for(var fe=n(m);fe!==null;){if(fe.callback===null)s(m);else if(fe.startTime<=Q)s(m),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=n(m)}}function B(Q){if(L=!1,H(Q),!S)if(n(p)!==null)S=!0,U||(U=!0,O());else{var fe=n(m);fe!==null&&xe(B,fe.startTime-Q)}}var U=!1,j=-1,C=5,I=-1;function A(){return z?!0:!(t.unstable_now()-I<C)}function M(){if(z=!1,U){var Q=t.unstable_now();I=Q;var fe=!0;try{e:{S=!1,L&&(L=!1,q(j),j=-1),_=!0;var re=w;try{t:{for(H(Q),b=n(p);b!==null&&!(b.expirationTime>Q&&A());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,w=b.priorityLevel;var E=ye(b.expirationTime<=Q);if(Q=t.unstable_now(),typeof E=="function"){b.callback=E,H(Q),fe=!0;break t}b===n(p)&&s(p),H(Q)}else s(p);b=n(p)}if(b!==null)fe=!0;else{var se=n(m);se!==null&&xe(B,se.startTime-Q),fe=!1}}break e}finally{b=null,w=re,_=!1}fe=void 0}}finally{fe?O():U=!1}}}var O;if(typeof V=="function")O=function(){V(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ae=R.port2;R.port1.onmessage=M,O=function(){ae.postMessage(null)}}else O=function(){F(M,0)};function xe(Q,fe){j=F(function(){Q(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var re=w;w=fe;try{return Q()}finally{w=re}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(Q,fe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var re=w;w=Q;try{return fe()}finally{w=re}},t.unstable_scheduleCallback=function(Q,fe,re){var ye=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ye+re:ye):re=ye,Q){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=re+E,Q={id:x++,callback:fe,priorityLevel:Q,startTime:re,expirationTime:E,sortIndex:-1},re>ye?(Q.sortIndex=re,e(m,Q),n(p)===null&&Q===n(m)&&(L?(q(j),j=-1):L=!0,xe(B,re-ye))):(Q.sortIndex=E,e(p,Q),S||_||(S=!0,U||(U=!0,O()))),Q},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Q){var fe=w;return function(){var re=w;w=fe;try{return Q.apply(this,arguments)}finally{w=re}}}})(Gm)),Gm}var P1;function GN(){return P1||(P1=1,$m.exports=$N()),$m.exports}var Ym={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function YN(){if(L1)return jn;L1=1;var t=op();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(p,m,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:m,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,jn.createPortal=function(p,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(p,m,null,x)},jn.flushSync=function(p){var m=c.T,x=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=m,s.p=x,s.d.f()}},jn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},jn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},jn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var x=m.as,b=d(x,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:_}):x==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},jn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=d(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},jn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,b=d(x,m.crossOrigin);s.d.L(p,x,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},jn.preloadModule=function(p,m){if(typeof p=="string")if(m){var x=d(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},jn.requestFormReset=function(p){s.d.r(p)},jn.unstable_batchedUpdates=function(p,m){return p(m)},jn.useFormState=function(p,m,x){return c.H.useFormState(p,m,x)},jn.useFormStatus=function(){return c.H.useHostTransitionStatus()},jn.version="19.1.1",jn}var z1;function QN(){if(z1)return Ym.exports;z1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ym.exports=YN(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function XN(){if(U1)return hc;U1=1;var t=GN(),e=op(),n=QN();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function p(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var l=r,f=i;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return d(g),r;if(y===f)return d(g),i;y=y.sibling}throw Error(s(188))}if(l.return!==f.return)l=g,f=y;else{for(var T=!1,D=g.child;D;){if(D===l){T=!0,l=g,f=y;break}if(D===f){T=!0,f=g,l=y;break}D=D.sibling}if(!T){for(D=y.child;D;){if(D===l){T=!0,l=y,f=g;break}if(D===f){T=!0,f=y,l=g;break}D=D.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==f)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:i}function m(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=m(r),i!==null)return i;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),V=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function O(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var R=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===R?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case B:return"Suspense";case U:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case V:return(r.displayName||"Context")+".Provider";case q:return(r._context.displayName||"Context")+".Consumer";case H:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return i=r.displayName||null,i!==null?i:ae(r.type)||"Memo";case C:i=r._payload,r=r._init;try{return ae(r(i))}catch{}}return null}var xe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ye=[],E=-1;function se(r){return{current:r}}function W(r){0>E||(r.current=ye[E],ye[E]=null,E--)}function k(r,i){E++,ye[E]=r.current,r.current=i}var oe=se(null),ve=se(null),le=se(null),_e=se(null);function Se(r,i){switch(k(le,i),k(ve,r),k(oe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?a1(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=a1(i),r=l1(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}W(oe),k(oe,r)}function xt(){W(oe),W(ve),W(le)}function Ne(r){r.memoizedState!==null&&k(_e,r);var i=oe.current,l=l1(i,r.type);i!==l&&(k(ve,r),k(oe,l))}function Fe(r){ve.current===r&&(W(oe),W(ve)),_e.current===r&&(W(_e),lc._currentValue=re)}var Tt=Object.prototype.hasOwnProperty,Kt=t.unstable_scheduleCallback,dn=t.unstable_cancelCallback,Fn=t.unstable_shouldYield,Br=t.unstable_requestPaint,Dt=t.unstable_now,qr=t.unstable_getCurrentPriorityLevel,fr=t.unstable_ImmediatePriority,Hn=t.unstable_UserBlockingPriority,dr=t.unstable_NormalPriority,Yi=t.unstable_LowPriority,hr=t.unstable_IdlePriority,$n=t.log,xs=t.unstable_setDisableYieldValue,te=null,me=null;function ke(r){if(typeof $n=="function"&&xs(r),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(te,r)}catch{}}var De=Math.clz32?Math.clz32:rn,Ge=Math.log,hn=Math.LN2;function rn(r){return r>>>=0,r===0?32:31-(Ge(r)/hn|0)|0}var Zt=256,Tn=4194304;function Bt(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function jt(r,i,l){var f=r.pendingLanes;if(f===0)return 0;var g=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var D=f&134217727;return D!==0?(f=D&~y,f!==0?g=Bt(f):(T&=D,T!==0?g=Bt(T):l||(l=D&~r,l!==0&&(g=Bt(l))))):(D=f&~y,D!==0?g=Bt(D):T!==0?g=Bt(T):l||(l=f&~r,l!==0&&(g=Bt(l)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:g}function Sn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function mn(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(){var r=Zt;return Zt<<=1,(Zt&4194048)===0&&(Zt=256),r}function Xi(){var r=Tn;return Tn<<=1,(Tn&62914560)===0&&(Tn=4194304),r}function Cr(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function kr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ki(r,i,l,f,g,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var D=r.entanglements,$=r.expirationTimes,J=r.hiddenUpdates;for(l=T&~l;0<l;){var ue=31-De(l),pe=1<<ue;D[ue]=0,$[ue]=-1;var ee=J[ue];if(ee!==null)for(J[ue]=null,ue=0;ue<ee.length;ue++){var ne=ee[ue];ne!==null&&(ne.lane&=-536870913)}l&=~pe}f!==0&&mr(r,f,0),y!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~i))}function mr(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var f=31-De(i);r.entangledLanes|=i,r.entanglements[f]=r.entanglements[f]|1073741824|l&4194090}function Zi(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var f=31-De(l),g=1<<f;g&i|r[f]&i&&(r[f]|=i),l&=~g}}function Rr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ys(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Fr(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:S1(r.type))}function Ga(r,i){var l=fe.p;try{return fe.p=r,i()}finally{fe.p=l}}var vt=Math.random().toString(36).slice(2),_t="__reactFiber$"+vt,ce="__reactProps$"+vt,Ue="__reactContainer$"+vt,St="__reactEvents$"+vt,Ji="__reactListeners$"+vt,Zs="__reactHandles$"+vt,uu="__reactResources$"+vt,Wi="__reactMarker$"+vt;function Js(r){delete r[_t],delete r[ce],delete r[St],delete r[Ji],delete r[Zs]}function bs(r){var i=r[_t];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Ue]||l[_t]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=f1(r);r!==null;){if(l=r[_t])return l;r=f1(r)}return i}r=l,l=r.parentNode}return null}function Hr(r){if(r=r[_t]||r[Ue]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function $r(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function On(r){var i=r[uu];return i||(i=r[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Pt(r){r[Wi]=!0}var ho=new Set,Ya={};function Dr(r,i){vs(r,i),vs(r+"Capture",i)}function vs(r,i){for(Ya[r]=i,r=0;r<i.length;r++)ho.add(i[r])}var fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),du={},ea={};function hu(r){return Tt.call(ea,r)?!0:Tt.call(du,r)?!1:fu.test(r)?ea[r]=!0:(du[r]=!0,!1)}function Ws(r,i,l){if(hu(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function Gr(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function pn(r,i,l,f){if(f===null)r.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+f)}}var ta,mu;function _s(r){if(ta===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);ta=i&&i[1]||"",mu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+r+mu}var Qa=!1;function Xa(r,i){if(!r||Qa)return"";Qa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ne){var ee=ne}Reflect.construct(r,[],pe)}else{try{pe.call()}catch(ne){ee=ne}r.call(pe.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(pe=r())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),T=y[0],D=y[1];if(T&&D){var $=T.split(`
`),J=D.split(`
`);for(g=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(f===$.length||g===J.length)for(f=$.length-1,g=J.length-1;1<=f&&0<=g&&$[f]!==J[g];)g--;for(;1<=f&&0<=g;f--,g--)if($[f]!==J[g]){if(f!==1||g!==1)do if(f--,g--,0>g||$[f]!==J[g]){var ue=`
`+$[f].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=f&&0<=g);break}}}finally{Qa=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?_s(l):""}function mo(r){switch(r.tag){case 26:case 27:case 5:return _s(r.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 15:return Xa(r.type,!1);case 11:return Xa(r.type.render,!1);case 1:return Xa(r.type,!0);case 31:return _s("Activity");default:return""}}function Ka(r){try{var i="";do i+=mo(r),r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function po(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gd(r){var i=po(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,y.call(this,T)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Za(r){r._valueTracker||(r._valueTracker=Gd(r))}function go(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),f="";return r&&(f=po(r)?r.checked?"true":"false":r.value),r=f,r!==l?(i.setValue(r),!0):!1}function na(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Yd=/[\n"\\]/g;function qt(r){return r.replace(Yd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function er(r,i,l,f,g,y,T,D){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Vn(i)):r.value!==""+Vn(i)&&(r.value=""+Vn(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?ei(r,T,Vn(i)):l!=null?ei(r,T,Vn(l)):f!=null&&r.removeAttribute("value"),g==null&&y!=null&&(r.defaultChecked=!!y),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Vn(D):r.removeAttribute("name")}function ra(r,i,l,f,g,y,T,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;l=l!=null?""+Vn(l):"",i=i!=null?""+Vn(i):l,D||i===r.value||(r.value=i),r.defaultValue=i}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=D?r.checked:!!f,r.defaultChecked=!!f,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function ei(r,i,l){i==="number"&&na(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ws(r,i,l,f){if(r=r.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=i.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&f&&(r[l].defaultSelected=!0)}else{for(l=""+Vn(l),i=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function dt(r,i,l){if(i!=null&&(i=""+Vn(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+Vn(l):""}function sa(r,i,l,f){if(i==null){if(f!=null){if(l!=null)throw Error(s(92));if(xe(f)){if(1<f.length)throw Error(s(93));f=f[0]}l=f}l==null&&(l=""),i=l}l=Vn(i),r.defaultValue=l,f=r.textContent,f===l&&f!==""&&f!==null&&(r.value=f)}function pr(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(r,i,l){var f=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":f?r.setProperty(i,l):typeof l!="number"||l===0||ia.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function xo(r,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var g in i)f=i[g],i.hasOwnProperty(g)&&l[g]!==f&&pu(r,g,f)}else for(var y in i)i.hasOwnProperty(y)&&pu(r,y,i[y])}function yo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(r){return Xd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ns=null;function gr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Es=null,Ts=null;function bo(r){var i=Hr(r);if(i&&(r=i.stateNode)){var l=r[ce]||null;e:switch(r=i.stateNode,i.type){case"input":if(er(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qt(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var f=l[i];if(f!==r&&f.form===r.form){var g=f[ce]||null;if(!g)throw Error(s(90));er(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)f=l[i],f.form===r.form&&go(f)}break e;case"textarea":dt(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ws(r,!!l.multiple,i,!1)}}}var Yr=!1;function gu(r,i,l){if(Yr)return r(i,l);Yr=!0;try{var f=r(i);return f}finally{if(Yr=!1,(Es!==null||Ts!==null)&&(uf(),Es&&(i=Es,r=Ts,Ts=Es=null,bo(i),r)))for(i=0;i<r.length;i++)bo(r[i])}}function aa(r,i){var l=r.stateNode;if(l===null)return null;var f=l[ce]||null;if(f===null)return null;l=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(Ir)try{var la={};Object.defineProperty(la,"passive",{get:function(){xr=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{xr=!1}var Qr=null,ti=null,Ss=null;function vo(){if(Ss)return Ss;var r,i=ti,l=i.length,f,g="value"in Qr?Qr.value:Qr.textContent,y=g.length;for(r=0;r<l&&i[r]===g[r];r++);var T=l-r;for(f=1;f<=T&&i[l-f]===g[y-f];f++);return Ss=g.slice(r,1<f?1-f:void 0)}function Xr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Kr(){return!0}function _o(){return!1}function sn(r){function i(l,f,g,y,T){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Kr:_o,this.isPropagationStopped=_o,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),i}var ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=sn(ot),oa=x({},ot,{view:0,detail:0}),xu=sn(oa),el,tl,Zr,ca=x({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:da,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zr&&(Zr&&r.type==="mousemove"?(el=r.screenX-Zr.screenX,tl=r.screenY-Zr.screenY):tl=el=0,Zr=r),el)},movementY:function(r){return"movementY"in r?r.movementY:tl}}),yr=sn(ca),yu=x({},ca,{dataTransfer:0}),Kd=sn(yu),ua=x({},oa,{relatedTarget:0}),nl=sn(ua),wo=x({},ot,{animationName:0,elapsedTime:0,pseudoElement:0}),rl=sn(wo),bu=x({},ot,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),sl=sn(bu),Zd=x({},ot,{data:0}),No=sn(Zd),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eo(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=_u[r])?!!i[r]:!1}function da(){return Eo}var wu=x({},oa,{key:function(r){if(r.key){var i=fa[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Xr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:da,charCode:function(r){return r.type==="keypress"?Xr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),il=sn(wu),Nu=x({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),To=sn(Nu),As=x({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:da}),Eu=sn(As),Tu=x({},ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=sn(Tu),Au=x({},ca,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),al=sn(Au),Pn=x({},ot,{newState:0,oldState:0}),ju=sn(Pn),Cu=[9,13,27,32],Jr=Ir&&"CompositionEvent"in window,h=null;Ir&&"documentMode"in document&&(h=document.documentMode);var v=Ir&&"TextEvent"in window&&!h,N=Ir&&(!Jr||h&&8<h&&11>=h),P=" ",K=!1;function ie(r,i){switch(r){case"keyup":return Cu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var et=!1;function Jt(r,i){switch(r){case"compositionend":return we(i);case"keypress":return i.which!==32?null:(K=!0,P);case"textInput":return r=i.data,r===P&&K?null:r;default:return null}}function tt(r,i){if(et)return r==="compositionend"||!Jr&&ie(r,i)?(r=vo(),Ss=ti=Qr=null,et=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return N&&i.locale!=="ko"?null:i.data;default:return null}}var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!an[r.type]:i==="textarea"}function js(r,i,l,f){Es?Ts?Ts.push(f):Ts=[f]:Es=f,i=gf(i,"onChange"),0<i.length&&(l=new Wa("onChange","change",null,l,f),r.push({event:l,listeners:i}))}var gn=null,Wr=null;function So(r){t1(r,0)}function ku(r){var i=$r(r);if(go(i))return r}function wg(r,i){if(r==="change")return i}var Ng=!1;if(Ir){var Jd;if(Ir){var Wd="oninput"in document;if(!Wd){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Wd=typeof Eg.oninput=="function"}Jd=Wd}else Jd=!1;Ng=Jd&&(!document.documentMode||9<document.documentMode)}function Tg(){gn&&(gn.detachEvent("onpropertychange",Sg),Wr=gn=null)}function Sg(r){if(r.propertyName==="value"&&ku(Wr)){var i=[];js(i,Wr,r,gr(r)),gu(So,i)}}function y4(r,i,l){r==="focusin"?(Tg(),gn=i,Wr=l,gn.attachEvent("onpropertychange",Sg)):r==="focusout"&&Tg()}function b4(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ku(Wr)}function v4(r,i){if(r==="click")return ku(i)}function _4(r,i){if(r==="input"||r==="change")return ku(i)}function w4(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var tr=typeof Object.is=="function"?Object.is:w4;function Ao(r,i){if(tr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),f=Object.keys(i);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!Tt.call(i,g)||!tr(r[g],i[g]))return!1}return!0}function Ag(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jg(r,i){var l=Ag(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=i&&f>=i)return{node:l,offset:i-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ag(l)}}function Cg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Cg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function kg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=na(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=na(r.document)}return i}function eh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var N4=Ir&&"documentMode"in document&&11>=document.documentMode,ll=null,th=null,jo=null,nh=!1;function Rg(r,i,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;nh||ll==null||ll!==na(f)||(f=ll,"selectionStart"in f&&eh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),jo&&Ao(jo,f)||(jo=f,f=gf(th,"onSelect"),0<f.length&&(i=new Wa("onSelect","select",null,i,l),r.push({event:i,listeners:f}),i.target=ll)))}function ha(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var ol={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},rh={},Dg={};Ir&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function ma(r){if(rh[r])return rh[r];if(!ol[r])return r;var i=ol[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Dg)return rh[r]=i[l];return r}var Ig=ma("animationend"),Mg=ma("animationiteration"),Og=ma("animationstart"),E4=ma("transitionrun"),T4=ma("transitionstart"),S4=ma("transitioncancel"),Vg=ma("transitionend"),Pg=new Map,sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sh.push("scrollEnd");function Mr(r,i){Pg.set(r,i),Dr(i,[r])}var Lg=new WeakMap;function br(r,i){if(typeof r=="object"&&r!==null){var l=Lg.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Ka(i)},Lg.set(r,i),i)}return{value:r,source:i,stack:Ka(i)}}var vr=[],cl=0,ih=0;function Ru(){for(var r=cl,i=ih=cl=0;i<r;){var l=vr[i];vr[i++]=null;var f=vr[i];vr[i++]=null;var g=vr[i];vr[i++]=null;var y=vr[i];if(vr[i++]=null,f!==null&&g!==null){var T=f.pending;T===null?g.next=g:(g.next=T.next,T.next=g),f.pending=g}y!==0&&zg(l,g,y)}}function Du(r,i,l,f){vr[cl++]=r,vr[cl++]=i,vr[cl++]=l,vr[cl++]=f,ih|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function ah(r,i,l,f){return Du(r,i,l,f),Iu(r)}function ul(r,i){return Du(r,null,null,i),Iu(r)}function zg(r,i,l){r.lanes|=l;var f=r.alternate;f!==null&&(f.lanes|=l);for(var g=!1,y=r.return;y!==null;)y.childLanes|=l,f=y.alternate,f!==null&&(f.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(g=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,g&&i!==null&&(g=31-De(l),r=y.hiddenUpdates,f=r[g],f===null?r[g]=[i]:f.push(i),i.lane=l|536870912),y):null}function Iu(r){if(50<Wo)throw Wo=0,dm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var fl={};function A4(r,i,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(r,i,l,f){return new A4(r,i,l,f)}function lh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Cs(r,i){var l=r.alternate;return l===null?(l=nr(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Ug(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Mu(r,i,l,f,g,y){var T=0;if(f=r,typeof r=="function")lh(r)&&(T=1);else if(typeof r=="string")T=CN(r,l,oe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=nr(31,l,i,g),r.elementType=I,r.lanes=y,r;case S:return pa(l.children,g,y,i);case L:T=8,g|=24;break;case z:return r=nr(12,l,i,g|2),r.elementType=z,r.lanes=y,r;case B:return r=nr(13,l,i,g),r.elementType=B,r.lanes=y,r;case U:return r=nr(19,l,i,g),r.elementType=U,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case V:T=10;break e;case q:T=9;break e;case H:T=11;break e;case j:T=14;break e;case C:T=16,f=null;break e}T=29,l=Error(s(130,r===null?"null":typeof r,"")),f=null}return i=nr(T,l,i,g),i.elementType=r,i.type=f,i.lanes=y,i}function pa(r,i,l,f){return r=nr(7,r,f,i),r.lanes=l,r}function oh(r,i,l){return r=nr(6,r,null,i),r.lanes=l,r}function ch(r,i,l){return i=nr(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var dl=[],hl=0,Ou=null,Vu=0,_r=[],wr=0,ga=null,ks=1,Rs="";function xa(r,i){dl[hl++]=Vu,dl[hl++]=Ou,Ou=r,Vu=i}function Bg(r,i,l){_r[wr++]=ks,_r[wr++]=Rs,_r[wr++]=ga,ga=r;var f=ks;r=Rs;var g=32-De(f)-1;f&=~(1<<g),l+=1;var y=32-De(i)+g;if(30<y){var T=g-g%5;y=(f&(1<<T)-1).toString(32),f>>=T,g-=T,ks=1<<32-De(i)+g|l<<g|f,Rs=y+r}else ks=1<<y|l<<g|f,Rs=r}function uh(r){r.return!==null&&(xa(r,1),Bg(r,1,0))}function fh(r){for(;r===Ou;)Ou=dl[--hl],dl[hl]=null,Vu=dl[--hl],dl[hl]=null;for(;r===ga;)ga=_r[--wr],_r[wr]=null,Rs=_r[--wr],_r[wr]=null,ks=_r[--wr],_r[wr]=null}var Ln=null,It=null,lt=!1,ya=null,es=!1,dh=Error(s(519));function ba(r){var i=Error(s(418,""));throw Ro(br(i,r)),dh}function qg(r){var i=r.stateNode,l=r.type,f=r.memoizedProps;switch(i[_t]=r,i[ce]=f,l){case"dialog":Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(l=0;l<tc.length;l++)Ke(tc[l],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"input":Ke("invalid",i),ra(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Za(i);break;case"select":Ke("invalid",i);break;case"textarea":Ke("invalid",i),sa(i,f.value,f.defaultValue,f.children),Za(i)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||f.suppressHydrationWarning===!0||i1(i.textContent,l)?(f.popover!=null&&(Ke("beforetoggle",i),Ke("toggle",i)),f.onScroll!=null&&Ke("scroll",i),f.onScrollEnd!=null&&Ke("scrollend",i),f.onClick!=null&&(i.onclick=xf),i=!0):i=!1,i||ba(r)}function Fg(r){for(Ln=r.return;Ln;)switch(Ln.tag){case 5:case 13:es=!1;return;case 27:case 3:es=!0;return;default:Ln=Ln.return}}function Co(r){if(r!==Ln)return!1;if(!lt)return Fg(r),lt=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||jm(r.type,r.memoizedProps)),l=!l),l&&It&&ba(r),Fg(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(i===0){It=Vr(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;r=r.nextSibling}It=null}}else i===27?(i=It,xi(r.type)?(r=Dm,Dm=null,It=r):It=i):It=Ln?Vr(r.stateNode.nextSibling):null;return!0}function ko(){It=Ln=null,lt=!1}function Hg(){var r=ya;return r!==null&&(Qn===null?Qn=r:Qn.push.apply(Qn,r),ya=null),r}function Ro(r){ya===null?ya=[r]:ya.push(r)}var hh=se(null),va=null,Ds=null;function ni(r,i,l){k(hh,i._currentValue),i._currentValue=l}function Is(r){r._currentValue=hh.current,W(hh)}function mh(r,i,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===l)break;r=r.return}}function ph(r,i,l,f){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var y=g.dependencies;if(y!==null){var T=g.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=g;for(var $=0;$<i.length;$++)if(D.context===i[$]){y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),mh(y.return,l,r),f||(T=null);break e}y=D.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(s(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),mh(T,l,r),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===r){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function Do(r,i,l,f){r=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var D=g.type;tr(g.pendingProps.value,T.value)||(r!==null?r.push(D):r=[D])}}else if(g===_e.current){if(T=g.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(lc):r=[lc])}g=g.return}r!==null&&ph(i,r,l,f),i.flags|=262144}function Pu(r){for(r=r.firstContext;r!==null;){if(!tr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function _a(r){va=r,Ds=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function An(r){return $g(va,r)}function Lu(r,i){return va===null&&_a(r),$g(r,i)}function $g(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ds===null){if(r===null)throw Error(s(308));Ds=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ds=Ds.next=i;return l}var j4=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,f){r.push(f)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},C4=t.unstable_scheduleCallback,k4=t.unstable_NormalPriority,en={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gh(){return{controller:new j4,data:new Map,refCount:0}}function Io(r){r.refCount--,r.refCount===0&&C4(k4,function(){r.controller.abort()})}var Mo=null,xh=0,ml=0,pl=null;function R4(r,i){if(Mo===null){var l=Mo=[];xh=0,ml=bm(),pl={status:"pending",value:void 0,then:function(f){l.push(f)}}}return xh++,i.then(Gg,Gg),i}function Gg(){if(--xh===0&&Mo!==null){pl!==null&&(pl.status="fulfilled");var r=Mo;Mo=null,ml=0,pl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function D4(r,i){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){f.status="fulfilled",f.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var Yg=Q.S;Q.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&R4(r,i),Yg!==null&&Yg(r,i)};var wa=se(null);function yh(){var r=wa.current;return r!==null?r:wt.pooledCache}function zu(r,i){i===null?k(wa,wa.current):k(wa,i.pool)}function Qg(){var r=yh();return r===null?null:{parent:en._currentValue,pool:r}}var Oo=Error(s(460)),Xg=Error(s(474)),Uu=Error(s(542)),bh={then:function(){}};function Kg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Bu(){}function Zg(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(Bu,Bu),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Wg(r),r;default:if(typeof i.status=="string")i.then(Bu,Bu);else{if(r=wt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(f){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=f}},function(f){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Wg(r),r}throw Vo=i,Oo}}var Vo=null;function Jg(){if(Vo===null)throw Error(s(459));var r=Vo;return Vo=null,r}function Wg(r){if(r===Oo||r===Uu)throw Error(s(483))}var ri=!1;function vh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function si(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ii(r,i,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(ut&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,i=Iu(r),zg(r,null,l),i}return Du(r,f,i,l),Iu(r)}function Po(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var f=i.lanes;f&=r.pendingLanes,l|=f,i.lanes=l,Zi(r,l)}}function wh(r,i){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?g=y=i:y=y.next=i}else g=y=i;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Nh=!1;function Lo(){if(Nh){var r=pl;if(r!==null)throw r}}function zo(r,i,l,f){Nh=!1;var g=r.updateQueue;ri=!1;var y=g.firstBaseUpdate,T=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var $=D,J=$.next;$.next=null,T===null?y=J:T.next=J,T=$;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,D=ue.lastBaseUpdate,D!==T&&(D===null?ue.firstBaseUpdate=J:D.next=J,ue.lastBaseUpdate=$))}if(y!==null){var pe=g.baseState;T=0,ue=J=$=null,D=y;do{var ee=D.lane&-536870913,ne=ee!==D.lane;if(ne?(nt&ee)===ee:(f&ee)===ee){ee!==0&&ee===ml&&(Nh=!0),ue!==null&&(ue=ue.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ze=r,Oe=D;ee=i;var pt=l;switch(Oe.tag){case 1:if(ze=Oe.payload,typeof ze=="function"){pe=ze.call(pt,pe,ee);break e}pe=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Oe.payload,ee=typeof ze=="function"?ze.call(pt,pe,ee):ze,ee==null)break e;pe=x({},pe,ee);break e;case 2:ri=!0}}ee=D.callback,ee!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=g.callbacks,ne===null?g.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ue===null?(J=ue=ne,$=pe):ue=ue.next=ne,T|=ee;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);ue===null&&($=pe),g.baseState=$,g.firstBaseUpdate=J,g.lastBaseUpdate=ue,y===null&&(g.shared.lanes=0),hi|=T,r.lanes=T,r.memoizedState=pe}}function ex(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function tx(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)ex(l[r],i)}var gl=se(null),qu=se(0);function nx(r,i){r=Us,k(qu,r),k(gl,i),Us=r|i.baseLanes}function Eh(){k(qu,Us),k(gl,gl.current)}function Th(){Us=qu.current,W(gl),W(qu)}var ai=0,Ye=null,ht=null,Ft=null,Fu=!1,xl=!1,Na=!1,Hu=0,Uo=0,yl=null,I4=0;function Lt(){throw Error(s(321))}function Sh(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!tr(r[l],i[l]))return!1;return!0}function Ah(r,i,l,f,g,y){return ai=y,Ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=r===null||r.memoizedState===null?zx:Ux,Na=!1,y=l(f,g),Na=!1,xl&&(y=sx(i,l,f,g)),rx(r),y}function rx(r){Q.H=Ku;var i=ht!==null&&ht.next!==null;if(ai=0,Ft=ht=Ye=null,Fu=!1,Uo=0,yl=null,i)throw Error(s(300));r===null||ln||(r=r.dependencies,r!==null&&Pu(r)&&(ln=!0))}function sx(r,i,l,f){Ye=r;var g=0;do{if(xl&&(yl=null),Uo=0,xl=!1,25<=g)throw Error(s(301));if(g+=1,Ft=ht=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=U4,y=i(l,f)}while(xl);return y}function M4(){var r=Q.H,i=r.useState()[0];return i=typeof i.then=="function"?Bo(i):i,r=r.useState()[0],(ht!==null?ht.memoizedState:null)!==r&&(Ye.flags|=1024),i}function jh(){var r=Hu!==0;return Hu=0,r}function Ch(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function kh(r){if(Fu){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fu=!1}ai=0,Ft=ht=Ye=null,xl=!1,Uo=Hu=0,yl=null}function Gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Ye.memoizedState=Ft=r:Ft=Ft.next=r,Ft}function Ht(){if(ht===null){var r=Ye.alternate;r=r!==null?r.memoizedState:null}else r=ht.next;var i=Ft===null?Ye.memoizedState:Ft.next;if(i!==null)Ft=i,ht=r;else{if(r===null)throw Ye.alternate===null?Error(s(467)):Error(s(310));ht=r,r={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ft===null?Ye.memoizedState=Ft=r:Ft=Ft.next=r}return Ft}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(r){var i=Uo;return Uo+=1,yl===null&&(yl=[]),r=Zg(yl,r,i),i=Ye,(Ft===null?i.memoizedState:Ft.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?zx:Ux),r}function $u(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Bo(r);if(r.$$typeof===V)return An(r)}throw Error(s(438,String(r)))}function Dh(r){var i=null,l=Ye.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var f=Ye.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Rh(),Ye.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),f=0;f<r;f++)l[f]=A;return i.index++,l}function Ms(r,i){return typeof i=="function"?i(r):i}function Gu(r){var i=Ht();return Ih(i,ht,r)}function Ih(r,i,l){var f=r.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var g=r.baseQueue,y=f.pending;if(y!==null){if(g!==null){var T=g.next;g.next=y.next,y.next=T}i.baseQueue=g=y,f.pending=null}if(y=r.baseState,g===null)r.memoizedState=y;else{i=g.next;var D=T=null,$=null,J=i,ue=!1;do{var pe=J.lane&-536870913;if(pe!==J.lane?(nt&pe)===pe:(ai&pe)===pe){var ee=J.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),pe===ml&&(ue=!0);else if((ai&ee)===ee){J=J.next,ee===ml&&(ue=!0);continue}else pe={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(D=$=pe,T=y):$=$.next=pe,Ye.lanes|=ee,hi|=ee;pe=J.action,Na&&l(y,pe),y=J.hasEagerState?J.eagerState:l(y,pe)}else ee={lane:pe,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(D=$=ee,T=y):$=$.next=ee,Ye.lanes|=pe,hi|=pe;J=J.next}while(J!==null&&J!==i);if($===null?T=y:$.next=D,!tr(y,r.memoizedState)&&(ln=!0,ue&&(l=pl,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=$,f.lastRenderedState=y}return g===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Mh(r){var i=Ht(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var f=l.dispatch,g=l.pending,y=i.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do y=r(y,T.action),T=T.next;while(T!==g);tr(y,i.memoizedState)||(ln=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,f]}function ix(r,i,l){var f=Ye,g=Ht(),y=lt;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=i();var T=!tr((ht||g).memoizedState,l);T&&(g.memoizedState=l,ln=!0),g=g.queue;var D=ox.bind(null,f,g,r);if(qo(2048,8,D,[r]),g.getSnapshot!==i||T||Ft!==null&&Ft.memoizedState.tag&1){if(f.flags|=2048,bl(9,Yu(),lx.bind(null,f,g,l,i),null),wt===null)throw Error(s(349));y||(ai&124)!==0||ax(f,i,l)}return l}function ax(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ye.updateQueue,i===null?(i=Rh(),Ye.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function lx(r,i,l,f){i.value=l,i.getSnapshot=f,cx(i)&&ux(r)}function ox(r,i,l){return l(function(){cx(i)&&ux(r)})}function cx(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!tr(r,l)}catch{return!0}}function ux(r){var i=ul(r,2);i!==null&&lr(i,r,2)}function Oh(r){var i=Gn();if(typeof r=="function"){var l=r;if(r=l(),Na){ke(!0);try{l()}finally{ke(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:r},i}function fx(r,i,l,f){return r.baseState=l,Ih(r,ht,typeof f=="function"?f:Ms)}function O4(r,i,l,f,g){if(Xu(r))throw Error(s(485));if(r=i.action,r!==null){var y={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};Q.T!==null?l(!0):y.isTransition=!1,f(y),l=i.pending,l===null?(y.next=i.pending=y,dx(i,y)):(y.next=l.next,i.pending=l.next=y)}}function dx(r,i){var l=i.action,f=i.payload,g=r.state;if(i.isTransition){var y=Q.T,T={};Q.T=T;try{var D=l(g,f),$=Q.S;$!==null&&$(T,D),hx(r,i,D)}catch(J){Vh(r,i,J)}finally{Q.T=y}}else try{y=l(g,f),hx(r,i,y)}catch(J){Vh(r,i,J)}}function hx(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){mx(r,i,f)},function(f){return Vh(r,i,f)}):mx(r,i,l)}function mx(r,i,l){i.status="fulfilled",i.value=l,px(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,dx(r,l)))}function Vh(r,i,l){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=l,px(i),i=i.next;while(i!==f)}r.action=null}function px(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function gx(r,i){return i}function xx(r,i){if(lt){var l=wt.formState;if(l!==null){e:{var f=Ye;if(lt){if(It){t:{for(var g=It,y=es;g.nodeType!==8;){if(!y){g=null;break t}if(g=Vr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){It=Vr(g.nextSibling),f=g.data==="F!";break e}}ba(f)}f=!1}f&&(i=l[0])}}return l=Gn(),l.memoizedState=l.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gx,lastRenderedState:i},l.queue=f,l=Vx.bind(null,Ye,f),f.dispatch=l,f=Oh(!1),y=Bh.bind(null,Ye,!1,f.queue),f=Gn(),g={state:i,dispatch:null,action:r,pending:null},f.queue=g,l=O4.bind(null,Ye,g,y,l),g.dispatch=l,f.memoizedState=r,[i,l,!1]}function yx(r){var i=Ht();return bx(i,ht,r)}function bx(r,i,l){if(i=Ih(r,i,gx)[0],r=Gu(Ms)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=Bo(i)}catch(T){throw T===Oo?Uu:T}else f=i;i=Ht();var g=i.queue,y=g.dispatch;return l!==i.memoizedState&&(Ye.flags|=2048,bl(9,Yu(),V4.bind(null,g,l),null)),[f,y,r]}function V4(r,i){r.action=i}function vx(r){var i=Ht(),l=ht;if(l!==null)return bx(i,l,r);Ht(),i=i.memoizedState,l=Ht();var f=l.queue.dispatch;return l.memoizedState=r,[i,f,!1]}function bl(r,i,l,f){return r={tag:r,create:l,deps:f,inst:i,next:null},i=Ye.updateQueue,i===null&&(i=Rh(),Ye.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,i.lastEffect=r),r}function Yu(){return{destroy:void 0,resource:void 0}}function _x(){return Ht().memoizedState}function Qu(r,i,l,f){var g=Gn();f=f===void 0?null:f,Ye.flags|=r,g.memoizedState=bl(1|i,Yu(),l,f)}function qo(r,i,l,f){var g=Ht();f=f===void 0?null:f;var y=g.memoizedState.inst;ht!==null&&f!==null&&Sh(f,ht.memoizedState.deps)?g.memoizedState=bl(i,y,l,f):(Ye.flags|=r,g.memoizedState=bl(1|i,y,l,f))}function wx(r,i){Qu(8390656,8,r,i)}function Nx(r,i){qo(2048,8,r,i)}function Ex(r,i){return qo(4,2,r,i)}function Tx(r,i){return qo(4,4,r,i)}function Sx(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Ax(r,i,l){l=l!=null?l.concat([r]):null,qo(4,4,Sx.bind(null,i,r),l)}function Ph(){}function jx(r,i){var l=Ht();i=i===void 0?null:i;var f=l.memoizedState;return i!==null&&Sh(i,f[1])?f[0]:(l.memoizedState=[r,i],r)}function Cx(r,i){var l=Ht();i=i===void 0?null:i;var f=l.memoizedState;if(i!==null&&Sh(i,f[1]))return f[0];if(f=r(),Na){ke(!0);try{r()}finally{ke(!1)}}return l.memoizedState=[f,i],f}function Lh(r,i,l){return l===void 0||(ai&1073741824)!==0?r.memoizedState=i:(r.memoizedState=l,r=Dy(),Ye.lanes|=r,hi|=r,l)}function kx(r,i,l,f){return tr(l,i)?l:gl.current!==null?(r=Lh(r,l,f),tr(r,i)||(ln=!0),r):(ai&42)===0?(ln=!0,r.memoizedState=l):(r=Dy(),Ye.lanes|=r,hi|=r,i)}function Rx(r,i,l,f,g){var y=fe.p;fe.p=y!==0&&8>y?y:8;var T=Q.T,D={};Q.T=D,Bh(r,!1,i,l);try{var $=g(),J=Q.S;if(J!==null&&J(D,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ue=D4($,f);Fo(r,i,ue,ar(r))}else Fo(r,i,f,ar(r))}catch(pe){Fo(r,i,{then:function(){},status:"rejected",reason:pe},ar())}finally{fe.p=y,Q.T=T}}function P4(){}function zh(r,i,l,f){if(r.tag!==5)throw Error(s(476));var g=Dx(r).queue;Rx(r,g,i,re,l===null?P4:function(){return Ix(r),l(f)})}function Dx(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:re},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Ix(r){var i=Dx(r).next.queue;Fo(r,i,{},ar())}function Uh(){return An(lc)}function Mx(){return Ht().memoizedState}function Ox(){return Ht().memoizedState}function L4(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=ar();r=si(l);var f=ii(i,r,l);f!==null&&(lr(f,i,l),Po(f,i,l)),i={cache:gh()},r.payload=i;return}i=i.return}}function z4(r,i,l){var f=ar();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(r)?Px(i,l):(l=ah(r,i,l,f),l!==null&&(lr(l,r,f),Lx(l,i,f)))}function Vx(r,i,l){var f=ar();Fo(r,i,l,f)}function Fo(r,i,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xu(r))Px(i,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,D=y(T,l);if(g.hasEagerState=!0,g.eagerState=D,tr(D,T))return Du(r,i,g,0),wt===null&&Ru(),!1}catch{}finally{}if(l=ah(r,i,g,f),l!==null)return lr(l,r,f),Lx(l,i,f),!0}return!1}function Bh(r,i,l,f){if(f={lane:2,revertLane:bm(),action:f,hasEagerState:!1,eagerState:null,next:null},Xu(r)){if(i)throw Error(s(479))}else i=ah(r,l,f,2),i!==null&&lr(i,r,2)}function Xu(r){var i=r.alternate;return r===Ye||i!==null&&i===Ye}function Px(r,i){xl=Fu=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Lx(r,i,l){if((l&4194048)!==0){var f=i.lanes;f&=r.pendingLanes,l|=f,i.lanes=l,Zi(r,l)}}var Ku={readContext:An,use:$u,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},zx={readContext:An,use:$u,useCallback:function(r,i){return Gn().memoizedState=[r,i===void 0?null:i],r},useContext:An,useEffect:wx,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,Qu(4194308,4,Sx.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Qu(4194308,4,r,i)},useInsertionEffect:function(r,i){Qu(4,2,r,i)},useMemo:function(r,i){var l=Gn();i=i===void 0?null:i;var f=r();if(Na){ke(!0);try{r()}finally{ke(!1)}}return l.memoizedState=[f,i],f},useReducer:function(r,i,l){var f=Gn();if(l!==void 0){var g=l(i);if(Na){ke(!0);try{l(i)}finally{ke(!1)}}}else g=i;return f.memoizedState=f.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},f.queue=r,r=r.dispatch=z4.bind(null,Ye,r),[f.memoizedState,r]},useRef:function(r){var i=Gn();return r={current:r},i.memoizedState=r},useState:function(r){r=Oh(r);var i=r.queue,l=Vx.bind(null,Ye,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:Ph,useDeferredValue:function(r,i){var l=Gn();return Lh(l,r,i)},useTransition:function(){var r=Oh(!1);return r=Rx.bind(null,Ye,r.queue,!0,!1),Gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var f=Ye,g=Gn();if(lt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),wt===null)throw Error(s(349));(nt&124)!==0||ax(f,i,l)}g.memoizedState=l;var y={value:l,getSnapshot:i};return g.queue=y,wx(ox.bind(null,f,y,r),[r]),f.flags|=2048,bl(9,Yu(),lx.bind(null,f,y,l,i),null),l},useId:function(){var r=Gn(),i=wt.identifierPrefix;if(lt){var l=Rs,f=ks;l=(f&~(1<<32-De(f)-1)).toString(32)+l,i=""+i+"R"+l,l=Hu++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=I4++,i=""+i+"r"+l.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:Uh,useFormState:xx,useActionState:xx,useOptimistic:function(r){var i=Gn();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Bh.bind(null,Ye,!0,l),l.dispatch=i,[r,i]},useMemoCache:Dh,useCacheRefresh:function(){return Gn().memoizedState=L4.bind(null,Ye)}},Ux={readContext:An,use:$u,useCallback:jx,useContext:An,useEffect:Nx,useImperativeHandle:Ax,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Cx,useReducer:Gu,useRef:_x,useState:function(){return Gu(Ms)},useDebugValue:Ph,useDeferredValue:function(r,i){var l=Ht();return kx(l,ht.memoizedState,r,i)},useTransition:function(){var r=Gu(Ms)[0],i=Ht().memoizedState;return[typeof r=="boolean"?r:Bo(r),i]},useSyncExternalStore:ix,useId:Mx,useHostTransitionStatus:Uh,useFormState:yx,useActionState:yx,useOptimistic:function(r,i){var l=Ht();return fx(l,ht,r,i)},useMemoCache:Dh,useCacheRefresh:Ox},U4={readContext:An,use:$u,useCallback:jx,useContext:An,useEffect:Nx,useImperativeHandle:Ax,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Cx,useReducer:Mh,useRef:_x,useState:function(){return Mh(Ms)},useDebugValue:Ph,useDeferredValue:function(r,i){var l=Ht();return ht===null?Lh(l,r,i):kx(l,ht.memoizedState,r,i)},useTransition:function(){var r=Mh(Ms)[0],i=Ht().memoizedState;return[typeof r=="boolean"?r:Bo(r),i]},useSyncExternalStore:ix,useId:Mx,useHostTransitionStatus:Uh,useFormState:vx,useActionState:vx,useOptimistic:function(r,i){var l=Ht();return ht!==null?fx(l,ht,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Dh,useCacheRefresh:Ox},vl=null,Ho=0;function Zu(r){var i=Ho;return Ho+=1,vl===null&&(vl=[]),Zg(vl,r,i)}function $o(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ju(r,i){throw i.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Bx(r){var i=r._init;return i(r._payload)}function qx(r){function i(Y,G){if(r){var Z=Y.deletions;Z===null?(Y.deletions=[G],Y.flags|=16):Z.push(G)}}function l(Y,G){if(!r)return null;for(;G!==null;)i(Y,G),G=G.sibling;return null}function f(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function g(Y,G){return Y=Cs(Y,G),Y.index=0,Y.sibling=null,Y}function y(Y,G,Z){return Y.index=Z,r?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<G?(Y.flags|=67108866,G):Z):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function T(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,G,Z,he){return G===null||G.tag!==6?(G=oh(Z,Y.mode,he),G.return=Y,G):(G=g(G,Z),G.return=Y,G)}function $(Y,G,Z,he){var Ce=Z.type;return Ce===S?ue(Y,G,Z.props.children,he,Z.key):G!==null&&(G.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&Bx(Ce)===G.type)?(G=g(G,Z.props),$o(G,Z),G.return=Y,G):(G=Mu(Z.type,Z.key,Z.props,null,Y.mode,he),$o(G,Z),G.return=Y,G)}function J(Y,G,Z,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=ch(Z,Y.mode,he),G.return=Y,G):(G=g(G,Z.children||[]),G.return=Y,G)}function ue(Y,G,Z,he,Ce){return G===null||G.tag!==7?(G=pa(Z,Y.mode,he,Ce),G.return=Y,G):(G=g(G,Z),G.return=Y,G)}function pe(Y,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=oh(""+G,Y.mode,Z),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return Z=Mu(G.type,G.key,G.props,null,Y.mode,Z),$o(Z,G),Z.return=Y,Z;case _:return G=ch(G,Y.mode,Z),G.return=Y,G;case C:var he=G._init;return G=he(G._payload),pe(Y,G,Z)}if(xe(G)||O(G))return G=pa(G,Y.mode,Z,null),G.return=Y,G;if(typeof G.then=="function")return pe(Y,Zu(G),Z);if(G.$$typeof===V)return pe(Y,Lu(Y,G),Z);Ju(Y,G)}return null}function ee(Y,G,Z,he){var Ce=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ce!==null?null:D(Y,G,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===Ce?$(Y,G,Z,he):null;case _:return Z.key===Ce?J(Y,G,Z,he):null;case C:return Ce=Z._init,Z=Ce(Z._payload),ee(Y,G,Z,he)}if(xe(Z)||O(Z))return Ce!==null?null:ue(Y,G,Z,he,null);if(typeof Z.then=="function")return ee(Y,G,Zu(Z),he);if(Z.$$typeof===V)return ee(Y,G,Lu(Y,Z),he);Ju(Y,Z)}return null}function ne(Y,G,Z,he,Ce){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Y=Y.get(Z)||null,D(G,Y,""+he,Ce);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return Y=Y.get(he.key===null?Z:he.key)||null,$(G,Y,he,Ce);case _:return Y=Y.get(he.key===null?Z:he.key)||null,J(G,Y,he,Ce);case C:var Qe=he._init;return he=Qe(he._payload),ne(Y,G,Z,he,Ce)}if(xe(he)||O(he))return Y=Y.get(Z)||null,ue(G,Y,he,Ce,null);if(typeof he.then=="function")return ne(Y,G,Z,Zu(he),Ce);if(he.$$typeof===V)return ne(Y,G,Z,Lu(G,he),Ce);Ju(G,he)}return null}function ze(Y,G,Z,he){for(var Ce=null,Qe=null,Re=G,Ve=G=0,cn=null;Re!==null&&Ve<Z.length;Ve++){Re.index>Ve?(cn=Re,Re=null):cn=Re.sibling;var at=ee(Y,Re,Z[Ve],he);if(at===null){Re===null&&(Re=cn);break}r&&Re&&at.alternate===null&&i(Y,Re),G=y(at,G,Ve),Qe===null?Ce=at:Qe.sibling=at,Qe=at,Re=cn}if(Ve===Z.length)return l(Y,Re),lt&&xa(Y,Ve),Ce;if(Re===null){for(;Ve<Z.length;Ve++)Re=pe(Y,Z[Ve],he),Re!==null&&(G=y(Re,G,Ve),Qe===null?Ce=Re:Qe.sibling=Re,Qe=Re);return lt&&xa(Y,Ve),Ce}for(Re=f(Re);Ve<Z.length;Ve++)cn=ne(Re,Y,Ve,Z[Ve],he),cn!==null&&(r&&cn.alternate!==null&&Re.delete(cn.key===null?Ve:cn.key),G=y(cn,G,Ve),Qe===null?Ce=cn:Qe.sibling=cn,Qe=cn);return r&&Re.forEach(function(wi){return i(Y,wi)}),lt&&xa(Y,Ve),Ce}function Oe(Y,G,Z,he){if(Z==null)throw Error(s(151));for(var Ce=null,Qe=null,Re=G,Ve=G=0,cn=null,at=Z.next();Re!==null&&!at.done;Ve++,at=Z.next()){Re.index>Ve?(cn=Re,Re=null):cn=Re.sibling;var wi=ee(Y,Re,at.value,he);if(wi===null){Re===null&&(Re=cn);break}r&&Re&&wi.alternate===null&&i(Y,Re),G=y(wi,G,Ve),Qe===null?Ce=wi:Qe.sibling=wi,Qe=wi,Re=cn}if(at.done)return l(Y,Re),lt&&xa(Y,Ve),Ce;if(Re===null){for(;!at.done;Ve++,at=Z.next())at=pe(Y,at.value,he),at!==null&&(G=y(at,G,Ve),Qe===null?Ce=at:Qe.sibling=at,Qe=at);return lt&&xa(Y,Ve),Ce}for(Re=f(Re);!at.done;Ve++,at=Z.next())at=ne(Re,Y,Ve,at.value,he),at!==null&&(r&&at.alternate!==null&&Re.delete(at.key===null?Ve:at.key),G=y(at,G,Ve),Qe===null?Ce=at:Qe.sibling=at,Qe=at);return r&&Re.forEach(function(BN){return i(Y,BN)}),lt&&xa(Y,Ve),Ce}function pt(Y,G,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var Ce=Z.key;G!==null;){if(G.key===Ce){if(Ce=Z.type,Ce===S){if(G.tag===7){l(Y,G.sibling),he=g(G,Z.props.children),he.return=Y,Y=he;break e}}else if(G.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&Bx(Ce)===G.type){l(Y,G.sibling),he=g(G,Z.props),$o(he,Z),he.return=Y,Y=he;break e}l(Y,G);break}else i(Y,G);G=G.sibling}Z.type===S?(he=pa(Z.props.children,Y.mode,he,Z.key),he.return=Y,Y=he):(he=Mu(Z.type,Z.key,Z.props,null,Y.mode,he),$o(he,Z),he.return=Y,Y=he)}return T(Y);case _:e:{for(Ce=Z.key;G!==null;){if(G.key===Ce)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){l(Y,G.sibling),he=g(G,Z.children||[]),he.return=Y,Y=he;break e}else{l(Y,G);break}else i(Y,G);G=G.sibling}he=ch(Z,Y.mode,he),he.return=Y,Y=he}return T(Y);case C:return Ce=Z._init,Z=Ce(Z._payload),pt(Y,G,Z,he)}if(xe(Z))return ze(Y,G,Z,he);if(O(Z)){if(Ce=O(Z),typeof Ce!="function")throw Error(s(150));return Z=Ce.call(Z),Oe(Y,G,Z,he)}if(typeof Z.then=="function")return pt(Y,G,Zu(Z),he);if(Z.$$typeof===V)return pt(Y,G,Lu(Y,Z),he);Ju(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(l(Y,G.sibling),he=g(G,Z),he.return=Y,Y=he):(l(Y,G),he=oh(Z,Y.mode,he),he.return=Y,Y=he),T(Y)):l(Y,G)}return function(Y,G,Z,he){try{Ho=0;var Ce=pt(Y,G,Z,he);return vl=null,Ce}catch(Re){if(Re===Oo||Re===Uu)throw Re;var Qe=nr(29,Re,null,Y.mode);return Qe.lanes=he,Qe.return=Y,Qe}finally{}}}var _l=qx(!0),Fx=qx(!1),Nr=se(null),ts=null;function li(r){var i=r.alternate;k(tn,tn.current&1),k(Nr,r),ts===null&&(i===null||gl.current!==null||i.memoizedState!==null)&&(ts=r)}function Hx(r){if(r.tag===22){if(k(tn,tn.current),k(Nr,r),ts===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(ts=r)}}else oi()}function oi(){k(tn,tn.current),k(Nr,Nr.current)}function Os(r){W(Nr),ts===r&&(ts=null),W(tn)}var tn=se(0);function Wu(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Rm(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function qh(r,i,l,f){i=r.memoizedState,l=l(f,i),l=l==null?i:x({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Fh={enqueueSetState:function(r,i,l){r=r._reactInternals;var f=ar(),g=si(f);g.payload=i,l!=null&&(g.callback=l),i=ii(r,g,f),i!==null&&(lr(i,r,f),Po(i,r,f))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var f=ar(),g=si(f);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=ii(r,g,f),i!==null&&(lr(i,r,f),Po(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=ar(),f=si(l);f.tag=2,i!=null&&(f.callback=i),i=ii(r,f,l),i!==null&&(lr(i,r,l),Po(i,r,l))}};function $x(r,i,l,f,g,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,T):i.prototype&&i.prototype.isPureReactComponent?!Ao(l,f)||!Ao(g,y):!0}function Gx(r,i,l,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,f),i.state!==r&&Fh.enqueueReplaceState(i,i.state,null)}function Ea(r,i){var l=i;if("ref"in i){l={};for(var f in i)f!=="ref"&&(l[f]=i[f])}if(r=r.defaultProps){l===i&&(l=x({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}var ef=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Yx(r){ef(r)}function Qx(r){console.error(r)}function Xx(r){ef(r)}function tf(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function Kx(r,i,l){try{var f=r.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Hh(r,i,l){return l=si(l),l.tag=3,l.payload={element:null},l.callback=function(){tf(r,i)},l}function Zx(r){return r=si(r),r.tag=3,r}function Jx(r,i,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=f.value;r.payload=function(){return g(y)},r.callback=function(){Kx(i,l,f)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Kx(i,l,f),typeof g!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function B4(r,i,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=l.alternate,i!==null&&Do(i,l,g,!0),l=Nr.current,l!==null){switch(l.tag){case 13:return ts===null?mm():l.alternate===null&&Mt===0&&(Mt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===bh?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([f]):i.add(f),gm(r,f,g)),!1;case 22:return l.flags|=65536,f===bh?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([f]):l.add(f)),gm(r,f,g)),!1}throw Error(s(435,l.tag))}return gm(r,f,g),mm(),!1}if(lt)return i=Nr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,f!==dh&&(r=Error(s(422),{cause:f}),Ro(br(r,l)))):(f!==dh&&(i=Error(s(423),{cause:f}),Ro(br(i,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,f=br(f,l),g=Hh(r.stateNode,f,g),wh(r,g),Mt!==4&&(Mt=2)),!1;var y=Error(s(520),{cause:f});if(y=br(y,l),Jo===null?Jo=[y]:Jo.push(y),Mt!==4&&(Mt=2),i===null)return!0;f=br(f,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=Hh(l.stateNode,f,r),wh(l,r),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mi===null||!mi.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Zx(g),Jx(g,r,l,f),wh(l,g),!1}l=l.return}while(l!==null);return!1}var Wx=Error(s(461)),ln=!1;function xn(r,i,l,f){i.child=r===null?Fx(i,null,l,f):_l(i,r.child,l,f)}function ey(r,i,l,f,g){l=l.render;var y=i.ref;if("ref"in f){var T={};for(var D in f)D!=="ref"&&(T[D]=f[D])}else T=f;return _a(i),f=Ah(r,i,l,T,y,g),D=jh(),r!==null&&!ln?(Ch(r,i,g),Vs(r,i,g)):(lt&&D&&uh(i),i.flags|=1,xn(r,i,f,g),i.child)}function ty(r,i,l,f,g){if(r===null){var y=l.type;return typeof y=="function"&&!lh(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,ny(r,i,y,f,g)):(r=Mu(l.type,null,f,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!Jh(r,g)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ao,l(T,f)&&r.ref===i.ref)return Vs(r,i,g)}return i.flags|=1,r=Cs(y,f),r.ref=i.ref,r.return=i,i.child=r}function ny(r,i,l,f,g){if(r!==null){var y=r.memoizedProps;if(Ao(y,f)&&r.ref===i.ref)if(ln=!1,i.pendingProps=f=y,Jh(r,g))(r.flags&131072)!==0&&(ln=!0);else return i.lanes=r.lanes,Vs(r,i,g)}return $h(r,i,l,f,g)}function ry(r,i,l){var f=i.pendingProps,g=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=y!==null?y.baseLanes|l:l,r!==null){for(g=i.child=r.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;i.childLanes=y&~f}else i.childLanes=0,i.child=null;return sy(r,i,f,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&zu(i,y!==null?y.cachePool:null),y!==null?nx(i,y):Eh(),Hx(i);else return i.lanes=i.childLanes=536870912,sy(r,i,y!==null?y.baseLanes|l:l,l)}else y!==null?(zu(i,y.cachePool),nx(i,y),oi(),i.memoizedState=null):(r!==null&&zu(i,null),Eh(),oi());return xn(r,i,g,l),i.child}function sy(r,i,l,f){var g=yh();return g=g===null?null:{parent:en._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},r!==null&&zu(i,null),Eh(),Hx(i),r!==null&&Do(r,i,f,!0),null}function nf(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function $h(r,i,l,f,g){return _a(i),l=Ah(r,i,l,f,void 0,g),f=jh(),r!==null&&!ln?(Ch(r,i,g),Vs(r,i,g)):(lt&&f&&uh(i),i.flags|=1,xn(r,i,l,g),i.child)}function iy(r,i,l,f,g,y){return _a(i),i.updateQueue=null,l=sx(i,f,l,g),rx(r),f=jh(),r!==null&&!ln?(Ch(r,i,y),Vs(r,i,y)):(lt&&f&&uh(i),i.flags|=1,xn(r,i,l,y),i.child)}function ay(r,i,l,f,g){if(_a(i),i.stateNode===null){var y=fl,T=l.contextType;typeof T=="object"&&T!==null&&(y=An(T)),y=new l(f,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Fh,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=f,y.state=i.memoizedState,y.refs={},vh(i),T=l.contextType,y.context=typeof T=="object"&&T!==null?An(T):fl,y.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(qh(i,l,T,f),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Fh.enqueueReplaceState(y,y.state,null),zo(i,f,y,g),Lo(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(r===null){y=i.stateNode;var D=i.memoizedProps,$=Ea(l,D);y.props=$;var J=y.context,ue=l.contextType;T=fl,typeof ue=="object"&&ue!==null&&(T=An(ue));var pe=l.getDerivedStateFromProps;ue=typeof pe=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||J!==T)&&Gx(i,y,f,T),ri=!1;var ee=i.memoizedState;y.state=ee,zo(i,f,y,g),Lo(),J=i.memoizedState,D||ee!==J||ri?(typeof pe=="function"&&(qh(i,l,pe,f),J=i.memoizedState),($=ri||$x(i,l,$,f,ee,J,T))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=J),y.props=f,y.state=J,y.context=T,f=$):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{y=i.stateNode,_h(r,i),T=i.memoizedProps,ue=Ea(l,T),y.props=ue,pe=i.pendingProps,ee=y.context,J=l.contextType,$=fl,typeof J=="object"&&J!==null&&($=An(J)),D=l.getDerivedStateFromProps,(J=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==pe||ee!==$)&&Gx(i,y,f,$),ri=!1,ee=i.memoizedState,y.state=ee,zo(i,f,y,g),Lo();var ne=i.memoizedState;T!==pe||ee!==ne||ri||r!==null&&r.dependencies!==null&&Pu(r.dependencies)?(typeof D=="function"&&(qh(i,l,D,f),ne=i.memoizedState),(ue=ri||$x(i,l,ue,f,ee,ne,$)||r!==null&&r.dependencies!==null&&Pu(r.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,ne,$),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,ne,$)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ne),y.props=f,y.state=ne,y.context=$,f=ue):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),f=!1)}return y=f,nf(r,i),f=(i.flags&128)!==0,y||f?(y=i.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&f?(i.child=_l(i,r.child,null,g),i.child=_l(i,null,l,g)):xn(r,i,l,g),i.memoizedState=y.state,r=i.child):r=Vs(r,i,g),r}function ly(r,i,l,f){return ko(),i.flags|=256,xn(r,i,l,f),i.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yh(r){return{baseLanes:r,cachePool:Qg()}}function Qh(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=Er),r}function oy(r,i,l){var f=i.pendingProps,g=!1,y=(i.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(tn.current&2)!==0),T&&(g=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(lt){if(g?li(i):oi(),lt){var D=It,$;if($=D){e:{for($=D,D=es;$.nodeType!==8;){if(!D){D=null;break e}if($=Vr($.nextSibling),$===null){D=null;break e}}D=$}D!==null?(i.memoizedState={dehydrated:D,treeContext:ga!==null?{id:ks,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},$=nr(18,null,null,0),$.stateNode=D,$.return=i,i.child=$,Ln=i,It=null,$=!0):$=!1}$||ba(i)}if(D=i.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Rm(D)?i.lanes=32:i.lanes=536870912,null;Os(i)}return D=f.children,f=f.fallback,g?(oi(),g=i.mode,D=rf({mode:"hidden",children:D},g),f=pa(f,g,l,null),D.return=i,f.return=i,D.sibling=f,i.child=D,g=i.child,g.memoizedState=Yh(l),g.childLanes=Qh(r,T,l),i.memoizedState=Gh,f):(li(i),Xh(i,D))}if($=r.memoizedState,$!==null&&(D=$.dehydrated,D!==null)){if(y)i.flags&256?(li(i),i.flags&=-257,i=Kh(r,i,l)):i.memoizedState!==null?(oi(),i.child=r.child,i.flags|=128,i=null):(oi(),g=f.fallback,D=i.mode,f=rf({mode:"visible",children:f.children},D),g=pa(g,D,l,null),g.flags|=2,f.return=i,g.return=i,f.sibling=g,i.child=f,_l(i,r.child,null,l),f=i.child,f.memoizedState=Yh(l),f.childLanes=Qh(r,T,l),i.memoizedState=Gh,i=g);else if(li(i),Rm(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var J=T.dgst;T=J,f=Error(s(419)),f.stack="",f.digest=T,Ro({value:f,source:null,stack:null}),i=Kh(r,i,l)}else if(ln||Do(r,i,l,!1),T=(l&r.childLanes)!==0,ln||T){if(T=wt,T!==null&&(f=l&-l,f=(f&42)!==0?1:Rr(f),f=(f&(T.suspendedLanes|l))!==0?0:f,f!==0&&f!==$.retryLane))throw $.retryLane=f,ul(r,f),lr(T,r,f),Wx;D.data==="$?"||mm(),i=Kh(r,i,l)}else D.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=$.treeContext,It=Vr(D.nextSibling),Ln=i,lt=!0,ya=null,es=!1,r!==null&&(_r[wr++]=ks,_r[wr++]=Rs,_r[wr++]=ga,ks=r.id,Rs=r.overflow,ga=i),i=Xh(i,f.children),i.flags|=4096);return i}return g?(oi(),g=f.fallback,D=i.mode,$=r.child,J=$.sibling,f=Cs($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,J!==null?g=Cs(J,g):(g=pa(g,D,l,null),g.flags|=2),g.return=i,f.return=i,f.sibling=g,i.child=f,f=g,g=i.child,D=r.child.memoizedState,D===null?D=Yh(l):($=D.cachePool,$!==null?(J=en._currentValue,$=$.parent!==J?{parent:J,pool:J}:$):$=Qg(),D={baseLanes:D.baseLanes|l,cachePool:$}),g.memoizedState=D,g.childLanes=Qh(r,T,l),i.memoizedState=Gh,f):(li(i),l=r.child,r=l.sibling,l=Cs(l,{mode:"visible",children:f.children}),l.return=i,l.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=l,i.memoizedState=null,l)}function Xh(r,i){return i=rf({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function rf(r,i){return r=nr(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Kh(r,i,l){return _l(i,r.child,null,l),r=Xh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function cy(r,i,l){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),mh(r.return,i,l)}function Zh(r,i,l,f,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=g)}function uy(r,i,l){var f=i.pendingProps,g=f.revealOrder,y=f.tail;if(xn(r,i,f.children,l),f=tn.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&cy(r,l,i);else if(r.tag===19)cy(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(k(tn,f),g){case"forwards":for(l=i.child,g=null;l!==null;)r=l.alternate,r!==null&&Wu(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),Zh(i,!1,g,l,y);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Wu(r)===null){i.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Zh(i,!0,l,null,y);break;case"together":Zh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Vs(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),hi|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(Do(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,l=Cs(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Cs(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function Jh(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Pu(r)))}function q4(r,i,l){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),ni(i,en,r.memoizedState.cache),ko();break;case 27:case 5:Ne(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:ni(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(li(i),i.flags|=128,null):(l&i.child.childLanes)!==0?oy(r,i,l):(li(i),r=Vs(r,i,l),r!==null?r.sibling:null);li(i);break;case 19:var g=(r.flags&128)!==0;if(f=(l&i.childLanes)!==0,f||(Do(r,i,l,!1),f=(l&i.childLanes)!==0),g){if(f)return uy(r,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),k(tn,tn.current),f)break;return null;case 22:case 23:return i.lanes=0,ry(r,i,l);case 24:ni(i,en,r.memoizedState.cache)}return Vs(r,i,l)}function fy(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)ln=!0;else{if(!Jh(r,l)&&(i.flags&128)===0)return ln=!1,q4(r,i,l);ln=(r.flags&131072)!==0}else ln=!1,lt&&(i.flags&1048576)!==0&&Bg(i,Vu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var f=i.elementType,g=f._init;if(f=g(f._payload),i.type=f,typeof f=="function")lh(f)?(r=Ea(f,r),i.tag=1,i=ay(null,i,f,r,l)):(i.tag=0,i=$h(null,i,f,r,l));else{if(f!=null){if(g=f.$$typeof,g===H){i.tag=11,i=ey(null,i,f,r,l);break e}else if(g===j){i.tag=14,i=ty(null,i,f,r,l);break e}}throw i=ae(f)||f,Error(s(306,i,""))}}return i;case 0:return $h(r,i,i.type,i.pendingProps,l);case 1:return f=i.type,g=Ea(f,i.pendingProps),ay(r,i,f,g,l);case 3:e:{if(Se(i,i.stateNode.containerInfo),r===null)throw Error(s(387));f=i.pendingProps;var y=i.memoizedState;g=y.element,_h(r,i),zo(i,f,null,l);var T=i.memoizedState;if(f=T.cache,ni(i,en,f),f!==y.cache&&ph(i,[en],l,!0),Lo(),f=T.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=ly(r,i,f,l);break e}else if(f!==g){g=br(Error(s(424)),i),Ro(g),i=ly(r,i,f,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(It=Vr(r.firstChild),Ln=i,lt=!0,ya=null,es=!0,l=Fx(i,null,f,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ko(),f===g){i=Vs(r,i,l);break e}xn(r,i,f,l)}i=i.child}return i;case 26:return nf(r,i),r===null?(l=p1(i.type,null,i.pendingProps,null))?i.memoizedState=l:lt||(l=i.type,r=i.pendingProps,f=yf(le.current).createElement(l),f[_t]=i,f[ce]=r,bn(f,l,r),Pt(f),i.stateNode=f):i.memoizedState=p1(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ne(i),r===null&&lt&&(f=i.stateNode=d1(i.type,i.pendingProps,le.current),Ln=i,es=!0,g=It,xi(i.type)?(Dm=g,It=Vr(f.firstChild)):It=g),xn(r,i,i.pendingProps.children,l),nf(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&lt&&((g=f=It)&&(f=gN(f,i.type,i.pendingProps,es),f!==null?(i.stateNode=f,Ln=i,It=Vr(f.firstChild),es=!1,g=!0):g=!1),g||ba(i)),Ne(i),g=i.type,y=i.pendingProps,T=r!==null?r.memoizedProps:null,f=y.children,jm(g,y)?f=null:T!==null&&jm(g,T)&&(i.flags|=32),i.memoizedState!==null&&(g=Ah(r,i,M4,null,null,l),lc._currentValue=g),nf(r,i),xn(r,i,f,l),i.child;case 6:return r===null&&lt&&((r=l=It)&&(l=xN(l,i.pendingProps,es),l!==null?(i.stateNode=l,Ln=i,It=null,r=!0):r=!1),r||ba(i)),null;case 13:return oy(r,i,l);case 4:return Se(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=_l(i,null,f,l):xn(r,i,f,l),i.child;case 11:return ey(r,i,i.type,i.pendingProps,l);case 7:return xn(r,i,i.pendingProps,l),i.child;case 8:return xn(r,i,i.pendingProps.children,l),i.child;case 12:return xn(r,i,i.pendingProps.children,l),i.child;case 10:return f=i.pendingProps,ni(i,i.type,f.value),xn(r,i,f.children,l),i.child;case 9:return g=i.type._context,f=i.pendingProps.children,_a(i),g=An(g),f=f(g),i.flags|=1,xn(r,i,f,l),i.child;case 14:return ty(r,i,i.type,i.pendingProps,l);case 15:return ny(r,i,i.type,i.pendingProps,l);case 19:return uy(r,i,l);case 31:return f=i.pendingProps,l=i.mode,f={mode:f.mode,children:f.children},r===null?(l=rf(f,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=Cs(r.child,f),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return ry(r,i,l);case 24:return _a(i),f=An(en),r===null?(g=yh(),g===null&&(g=wt,y=gh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),i.memoizedState={parent:f,cache:g},vh(i),ni(i,en,g)):((r.lanes&l)!==0&&(_h(r,i),zo(i,null,null,l),Lo()),g=r.memoizedState,y=i.memoizedState,g.parent!==f?(g={parent:f,cache:f},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),ni(i,en,f)):(f=y.cache,ni(i,en,f),f!==g.cache&&ph(i,[en],l,!0))),xn(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ps(r){r.flags|=4}function dy(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!v1(i)){if(i=Nr.current,i!==null&&((nt&4194048)===nt?ts!==null:(nt&62914560)!==nt&&(nt&536870912)===0||i!==ts))throw Vo=bh,Xg;r.flags|=8192}}function sf(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Xi():536870912,r.lanes|=i,Tl|=i)}function Go(r,i){if(!lt)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function kt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(i)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=l,i}function F4(r,i,l){var f=i.pendingProps;switch(fh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(i),null;case 1:return kt(i),null;case 3:return l=i.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),Is(en),xt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Co(i)?Ps(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hg())),kt(i),null;case 26:return l=i.memoizedState,r===null?(Ps(i),l!==null?(kt(i),dy(i,l)):(kt(i),i.flags&=-16777217)):l?l!==r.memoizedState?(Ps(i),kt(i),dy(i,l)):(kt(i),i.flags&=-16777217):(r.memoizedProps!==f&&Ps(i),kt(i),i.flags&=-16777217),null;case 27:Fe(i),l=le.current;var g=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==f&&Ps(i);else{if(!f){if(i.stateNode===null)throw Error(s(166));return kt(i),null}r=oe.current,Co(i)?qg(i):(r=d1(g,f,l),i.stateNode=r,Ps(i))}return kt(i),null;case 5:if(Fe(i),l=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==f&&Ps(i);else{if(!f){if(i.stateNode===null)throw Error(s(166));return kt(i),null}if(r=oe.current,Co(i))qg(i);else{switch(g=yf(le.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}r[_t]=i,r[ce]=f;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=r;e:switch(bn(r,l,f),l){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ps(i)}}return kt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==f&&Ps(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(s(166));if(r=le.current,Co(i)){if(r=i.stateNode,l=i.memoizedProps,f=null,g=Ln,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}r[_t]=i,r=!!(r.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||i1(r.nodeValue,l)),r||ba(i)}else r=yf(r).createTextNode(f),r[_t]=i,i.stateNode=r}return kt(i),null;case 13:if(f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Co(i),f!==null&&f.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[_t]=i}else ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),g=!1}else g=Hg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Os(i),i):(Os(i),null)}if(Os(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=f!==null,r=r!==null&&r.memoizedState!==null,l){f=i.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==g&&(f.flags|=2048)}return l!==r&&l&&(i.child.flags|=8192),sf(i,i.updateQueue),kt(i),null;case 4:return xt(),r===null&&Nm(i.stateNode.containerInfo),kt(i),null;case 10:return Is(i.type),kt(i),null;case 19:if(W(tn),g=i.memoizedState,g===null)return kt(i),null;if(f=(i.flags&128)!==0,y=g.rendering,y===null)if(f)Go(g,!1);else{if(Mt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=Wu(r),y!==null){for(i.flags|=128,Go(g,!1),r=y.updateQueue,i.updateQueue=r,sf(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)Ug(l,r),l=l.sibling;return k(tn,tn.current&1|2),i.child}r=r.sibling}g.tail!==null&&Dt()>of&&(i.flags|=128,f=!0,Go(g,!1),i.lanes=4194304)}else{if(!f)if(r=Wu(y),r!==null){if(i.flags|=128,f=!0,r=r.updateQueue,i.updateQueue=r,sf(i,r),Go(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!lt)return kt(i),null}else 2*Dt()-g.renderingStartTime>of&&l!==536870912&&(i.flags|=128,f=!0,Go(g,!1),i.lanes=4194304);g.isBackwards?(y.sibling=i.child,i.child=y):(r=g.last,r!==null?r.sibling=y:i.child=y,g.last=y)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Dt(),i.sibling=null,r=tn.current,k(tn,f?r&1|2:r&1),i):(kt(i),null);case 22:case 23:return Os(i),Th(),f=i.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(l&536870912)!==0&&(i.flags&128)===0&&(kt(i),i.subtreeFlags&6&&(i.flags|=8192)):kt(i),l=i.updateQueue,l!==null&&sf(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==l&&(i.flags|=2048),r!==null&&W(wa),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Is(en),kt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function H4(r,i){switch(fh(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Is(en),xt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Fe(i),null;case 13:if(Os(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ko()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return W(tn),null;case 4:return xt(),null;case 10:return Is(i.type),null;case 22:case 23:return Os(i),Th(),r!==null&&W(wa),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Is(en),null;case 25:return null;default:return null}}function hy(r,i){switch(fh(i),i.tag){case 3:Is(en),xt();break;case 26:case 27:case 5:Fe(i);break;case 4:xt();break;case 13:Os(i);break;case 19:W(tn);break;case 10:Is(i.type);break;case 22:case 23:Os(i),Th(),r!==null&&W(wa);break;case 24:Is(en)}}function Yo(r,i){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&r)===r){f=void 0;var y=l.create,T=l.inst;f=y(),T.destroy=f}l=l.next}while(l!==g)}}catch(D){yt(i,i.return,D)}}function ci(r,i,l){try{var f=i.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var y=g.next;f=y;do{if((f.tag&r)===r){var T=f.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,g=i;var $=l,J=D;try{J()}catch(ue){yt(g,$,ue)}}}f=f.next}while(f!==y)}}catch(ue){yt(i,i.return,ue)}}function my(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{tx(i,l)}catch(f){yt(r,r.return,f)}}}function py(r,i,l){l.props=Ea(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(f){yt(r,i,f)}}function Qo(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof l=="function"?r.refCleanup=l(f):l.current=f}}catch(g){yt(r,i,g)}}function ns(r,i){var l=r.ref,f=r.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){yt(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){yt(r,i,g)}else l.current=null}function gy(r){var i=r.type,l=r.memoizedProps,f=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){yt(r,r.return,g)}}function Wh(r,i,l){try{var f=r.stateNode;fN(f,r.type,l,i),f[ce]=i}catch(g){yt(r,r.return,g)}}function xy(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&xi(r.type)||r.tag===4}function em(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||xy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&xi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tm(r,i,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=xf));else if(f!==4&&(f===27&&xi(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(tm(r,i,l),r=r.sibling;r!==null;)tm(r,i,l),r=r.sibling}function af(r,i,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(f!==4&&(f===27&&xi(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(af(r,i,l),r=r.sibling;r!==null;)af(r,i,l),r=r.sibling}function yy(r){var i=r.stateNode,l=r.memoizedProps;try{for(var f=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);bn(i,f,l),i[_t]=r,i[ce]=l}catch(y){yt(r,r.return,y)}}var Ls=!1,zt=!1,nm=!1,by=typeof WeakSet=="function"?WeakSet:Set,on=null;function $4(r,i){if(r=r.containerInfo,Sm=Ef,r=kg(r),eh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,D=-1,$=-1,J=0,ue=0,pe=r,ee=null;t:for(;;){for(var ne;pe!==l||g!==0&&pe.nodeType!==3||(D=T+g),pe!==y||f!==0&&pe.nodeType!==3||($=T+f),pe.nodeType===3&&(T+=pe.nodeValue.length),(ne=pe.firstChild)!==null;)ee=pe,pe=ne;for(;;){if(pe===r)break t;if(ee===l&&++J===g&&(D=T),ee===y&&++ue===f&&($=T),(ne=pe.nextSibling)!==null)break;pe=ee,ee=pe.parentNode}pe=ne}l=D===-1||$===-1?null:{start:D,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(Am={focusedElem:r,selectionRange:l},Ef=!1,on=i;on!==null;)if(i=on,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,on=r;else for(;on!==null;){switch(i=on,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=i,g=y.memoizedProps,y=y.memoizedState,f=l.stateNode;try{var ze=Ea(l.type,g,l.elementType===l.type);r=f.getSnapshotBeforeUpdate(ze,y),f.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){yt(l,l.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)km(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":km(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,on=r;break}on=i.return}}function vy(r,i,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:ui(r,l),f&4&&Yo(5,l);break;case 1:if(ui(r,l),f&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(T){yt(l,l.return,T)}else{var g=Ea(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){yt(l,l.return,T)}}f&64&&my(l),f&512&&Qo(l,l.return);break;case 3:if(ui(r,l),f&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{tx(r,i)}catch(T){yt(l,l.return,T)}}break;case 27:i===null&&f&4&&yy(l);case 26:case 5:ui(r,l),i===null&&f&4&&gy(l),f&512&&Qo(l,l.return);break;case 12:ui(r,l);break;case 13:ui(r,l),f&4&&Ny(r,l),f&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=eN.bind(null,l),yN(r,l))));break;case 22:if(f=l.memoizedState!==null||Ls,!f){i=i!==null&&i.memoizedState!==null||zt,g=Ls;var y=zt;Ls=f,(zt=i)&&!y?fi(r,l,(l.subtreeFlags&8772)!==0):ui(r,l),Ls=g,zt=y}break;case 30:break;default:ui(r,l)}}function _y(r){var i=r.alternate;i!==null&&(r.alternate=null,_y(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Js(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ct=null,Yn=!1;function zs(r,i,l){for(l=l.child;l!==null;)wy(r,i,l),l=l.sibling}function wy(r,i,l){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(te,l)}catch{}switch(l.tag){case 26:zt||ns(l,i),zs(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:zt||ns(l,i);var f=Ct,g=Yn;xi(l.type)&&(Ct=l.stateNode,Yn=!1),zs(r,i,l),rc(l.stateNode),Ct=f,Yn=g;break;case 5:zt||ns(l,i);case 6:if(f=Ct,g=Yn,Ct=null,zs(r,i,l),Ct=f,Yn=g,Ct!==null)if(Yn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(l.stateNode)}catch(y){yt(l,i,y)}else try{Ct.removeChild(l.stateNode)}catch(y){yt(l,i,y)}break;case 18:Ct!==null&&(Yn?(r=Ct,u1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),fc(r)):u1(Ct,l.stateNode));break;case 4:f=Ct,g=Yn,Ct=l.stateNode.containerInfo,Yn=!0,zs(r,i,l),Ct=f,Yn=g;break;case 0:case 11:case 14:case 15:zt||ci(2,l,i),zt||ci(4,l,i),zs(r,i,l);break;case 1:zt||(ns(l,i),f=l.stateNode,typeof f.componentWillUnmount=="function"&&py(l,i,f)),zs(r,i,l);break;case 21:zs(r,i,l);break;case 22:zt=(f=zt)||l.memoizedState!==null,zs(r,i,l),zt=f;break;default:zs(r,i,l)}}function Ny(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fc(r)}catch(l){yt(i,i.return,l)}}function G4(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new by),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new by),i;default:throw Error(s(435,r.tag))}}function rm(r,i){var l=G4(r);i.forEach(function(f){var g=tN.bind(null,r,f);l.has(f)||(l.add(f),f.then(g,g))})}function rr(r,i){var l=i.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],y=r,T=i,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(xi(D.type)){Ct=D.stateNode,Yn=!1;break e}break;case 5:Ct=D.stateNode,Yn=!1;break e;case 3:case 4:Ct=D.stateNode.containerInfo,Yn=!0;break e}D=D.return}if(Ct===null)throw Error(s(160));wy(y,T,g),Ct=null,Yn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ey(i,r),i=i.sibling}var Or=null;function Ey(r,i){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rr(i,r),sr(r),f&4&&(ci(3,r,r.return),Yo(3,r),ci(5,r,r.return));break;case 1:rr(i,r),sr(r),f&512&&(zt||l===null||ns(l,l.return)),f&64&&Ls&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Or;if(rr(i,r),sr(r),f&512&&(zt||l===null||ns(l,l.return)),f&4){var y=l!==null?l.memoizedState:null;if(f=r.memoizedState,l===null)if(f===null)if(r.stateNode===null){e:{f=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Wi]||y[_t]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(f),g.head.insertBefore(y,g.querySelector("head > title"))),bn(y,f,l),y[_t]=r,Pt(y),f=y;break e;case"link":var T=y1("link","href",g).get(f+(l.href||""));if(T){for(var D=0;D<T.length;D++)if(y=T[D],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(D,1);break t}}y=g.createElement(f),bn(y,f,l),g.head.appendChild(y);break;case"meta":if(T=y1("meta","content",g).get(f+(l.content||""))){for(D=0;D<T.length;D++)if(y=T[D],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(D,1);break t}}y=g.createElement(f),bn(y,f,l),g.head.appendChild(y);break;default:throw Error(s(468,f))}y[_t]=r,Pt(y),f=y}r.stateNode=f}else b1(g,r.type,r.stateNode);else r.stateNode=x1(g,f,r.memoizedProps);else y!==f?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,f===null?b1(g,r.type,r.stateNode):x1(g,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Wh(r,r.memoizedProps,l.memoizedProps)}break;case 27:rr(i,r),sr(r),f&512&&(zt||l===null||ns(l,l.return)),l!==null&&f&4&&Wh(r,r.memoizedProps,l.memoizedProps);break;case 5:if(rr(i,r),sr(r),f&512&&(zt||l===null||ns(l,l.return)),r.flags&32){g=r.stateNode;try{pr(g,"")}catch(ne){yt(r,r.return,ne)}}f&4&&r.stateNode!=null&&(g=r.memoizedProps,Wh(r,g,l!==null?l.memoizedProps:g)),f&1024&&(nm=!0);break;case 6:if(rr(i,r),sr(r),f&4){if(r.stateNode===null)throw Error(s(162));f=r.memoizedProps,l=r.stateNode;try{l.nodeValue=f}catch(ne){yt(r,r.return,ne)}}break;case 3:if(_f=null,g=Or,Or=bf(i.containerInfo),rr(i,r),Or=g,sr(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{fc(i.containerInfo)}catch(ne){yt(r,r.return,ne)}nm&&(nm=!1,Ty(r));break;case 4:f=Or,Or=bf(r.stateNode.containerInfo),rr(i,r),sr(r),Or=f;break;case 12:rr(i,r),sr(r);break;case 13:rr(i,r),sr(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cm=Dt()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,rm(r,f)));break;case 22:g=r.memoizedState!==null;var $=l!==null&&l.memoizedState!==null,J=Ls,ue=zt;if(Ls=J||g,zt=ue||$,rr(i,r),zt=ue,Ls=J,sr(r),f&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||$||Ls||zt||Ta(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){$=l=i;try{if(y=$.stateNode,g)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=$.stateNode;var pe=$.memoizedProps.style,ee=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ne){yt($,$.return,ne)}}}else if(i.tag===6){if(l===null){$=i;try{$.stateNode.nodeValue=g?"":$.memoizedProps}catch(ne){yt($,$.return,ne)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=r.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,rm(r,l))));break;case 19:rr(i,r),sr(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,rm(r,f)));break;case 30:break;case 21:break;default:rr(i,r),sr(r)}}function sr(r){var i=r.flags;if(i&2){try{for(var l,f=r.return;f!==null;){if(xy(f)){l=f;break}f=f.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,y=em(r);af(r,y,g);break;case 5:var T=l.stateNode;l.flags&32&&(pr(T,""),l.flags&=-33);var D=em(r);af(r,D,T);break;case 3:case 4:var $=l.stateNode.containerInfo,J=em(r);tm(r,J,$);break;default:throw Error(s(161))}}catch(ue){yt(r,r.return,ue)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Ty(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Ty(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ui(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vy(r,i.alternate,i),i=i.sibling}function Ta(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ci(4,i,i.return),Ta(i);break;case 1:ns(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&py(i,i.return,l),Ta(i);break;case 27:rc(i.stateNode);case 26:case 5:ns(i,i.return),Ta(i);break;case 22:i.memoizedState===null&&Ta(i);break;case 30:Ta(i);break;default:Ta(i)}r=r.sibling}}function fi(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,g=r,y=i,T=y.flags;switch(y.tag){case 0:case 11:case 15:fi(g,y,l),Yo(4,y);break;case 1:if(fi(g,y,l),f=y,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){yt(f,f.return,J)}if(f=y,g=f.updateQueue,g!==null){var D=f.stateNode;try{var $=g.shared.hiddenCallbacks;if($!==null)for(g.shared.hiddenCallbacks=null,g=0;g<$.length;g++)ex($[g],D)}catch(J){yt(f,f.return,J)}}l&&T&64&&my(y),Qo(y,y.return);break;case 27:yy(y);case 26:case 5:fi(g,y,l),l&&f===null&&T&4&&gy(y),Qo(y,y.return);break;case 12:fi(g,y,l);break;case 13:fi(g,y,l),l&&T&4&&Ny(g,y);break;case 22:y.memoizedState===null&&fi(g,y,l),Qo(y,y.return);break;case 30:break;default:fi(g,y,l)}i=i.sibling}}function sm(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Io(l))}function im(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Io(r))}function rs(r,i,l,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sy(r,i,l,f),i=i.sibling}function Sy(r,i,l,f){var g=i.flags;switch(i.tag){case 0:case 11:case 15:rs(r,i,l,f),g&2048&&Yo(9,i);break;case 1:rs(r,i,l,f);break;case 3:rs(r,i,l,f),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Io(r)));break;case 12:if(g&2048){rs(r,i,l,f),r=i.stateNode;try{var y=i.memoizedProps,T=y.id,D=y.onPostCommit;typeof D=="function"&&D(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){yt(i,i.return,$)}}else rs(r,i,l,f);break;case 13:rs(r,i,l,f);break;case 23:break;case 22:y=i.stateNode,T=i.alternate,i.memoizedState!==null?y._visibility&2?rs(r,i,l,f):Xo(r,i):y._visibility&2?rs(r,i,l,f):(y._visibility|=2,wl(r,i,l,f,(i.subtreeFlags&10256)!==0)),g&2048&&sm(T,i);break;case 24:rs(r,i,l,f),g&2048&&im(i.alternate,i);break;default:rs(r,i,l,f)}}function wl(r,i,l,f,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,T=i,D=l,$=f,J=T.flags;switch(T.tag){case 0:case 11:case 15:wl(y,T,D,$,g),Yo(8,T);break;case 23:break;case 22:var ue=T.stateNode;T.memoizedState!==null?ue._visibility&2?wl(y,T,D,$,g):Xo(y,T):(ue._visibility|=2,wl(y,T,D,$,g)),g&&J&2048&&sm(T.alternate,T);break;case 24:wl(y,T,D,$,g),g&&J&2048&&im(T.alternate,T);break;default:wl(y,T,D,$,g)}i=i.sibling}}function Xo(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,f=i,g=f.flags;switch(f.tag){case 22:Xo(l,f),g&2048&&sm(f.alternate,f);break;case 24:Xo(l,f),g&2048&&im(f.alternate,f);break;default:Xo(l,f)}i=i.sibling}}var Ko=8192;function Nl(r){if(r.subtreeFlags&Ko)for(r=r.child;r!==null;)Ay(r),r=r.sibling}function Ay(r){switch(r.tag){case 26:Nl(r),r.flags&Ko&&r.memoizedState!==null&&RN(Or,r.memoizedState,r.memoizedProps);break;case 5:Nl(r);break;case 3:case 4:var i=Or;Or=bf(r.stateNode.containerInfo),Nl(r),Or=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Ko,Ko=16777216,Nl(r),Ko=i):Nl(r));break;default:Nl(r)}}function jy(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Zo(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var f=i[l];on=f,ky(f,r)}jy(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Cy(r),r=r.sibling}function Cy(r){switch(r.tag){case 0:case 11:case 15:Zo(r),r.flags&2048&&ci(9,r,r.return);break;case 3:Zo(r);break;case 12:Zo(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,lf(r)):Zo(r);break;default:Zo(r)}}function lf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var f=i[l];on=f,ky(f,r)}jy(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ci(8,i,i.return),lf(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,lf(i));break;default:lf(i)}r=r.sibling}}function ky(r,i){for(;on!==null;){var l=on;switch(l.tag){case 0:case 11:case 15:ci(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Io(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,on=f;else e:for(l=r;on!==null;){f=on;var g=f.sibling,y=f.return;if(_y(f),f===l){on=null;break e}if(g!==null){g.return=y,on=g;break e}on=y}}}var Y4={getCacheForType:function(r){var i=An(en),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l}},Q4=typeof WeakMap=="function"?WeakMap:Map,ut=0,wt=null,Xe=null,nt=0,ft=0,ir=null,di=!1,El=!1,am=!1,Us=0,Mt=0,hi=0,Sa=0,lm=0,Er=0,Tl=0,Jo=null,Qn=null,om=!1,cm=0,of=1/0,cf=null,mi=null,yn=0,pi=null,Sl=null,Al=0,um=0,fm=null,Ry=null,Wo=0,dm=null;function ar(){if((ut&2)!==0&&nt!==0)return nt&-nt;if(Q.T!==null){var r=ml;return r!==0?r:bm()}return Fr()}function Dy(){Er===0&&(Er=(nt&536870912)===0||lt?Qi():536870912);var r=Nr.current;return r!==null&&(r.flags|=32),Er}function lr(r,i,l){(r===wt&&(ft===2||ft===9)||r.cancelPendingCommit!==null)&&(jl(r,0),gi(r,nt,Er,!1)),kr(r,l),((ut&2)===0||r!==wt)&&(r===wt&&((ut&2)===0&&(Sa|=l),Mt===4&&gi(r,nt,Er,!1)),ss(r))}function Iy(r,i,l){if((ut&6)!==0)throw Error(s(327));var f=!l&&(i&124)===0&&(i&r.expiredLanes)===0||Sn(r,i),g=f?Z4(r,i):pm(r,i,!0),y=f;do{if(g===0){El&&!f&&gi(r,i,0,!1);break}else{if(l=r.current.alternate,y&&!X4(l)){g=pm(r,i,!1),y=!1;continue}if(g===2){if(y=i,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var D=r;g=Jo;var $=D.current.memoizedState.isDehydrated;if($&&(jl(D,T).flags|=256),T=pm(D,T,!1),T!==2){if(am&&!$){D.errorRecoveryDisabledLanes|=y,Sa|=y,g=4;break e}y=Qn,Qn=g,y!==null&&(Qn===null?Qn=y:Qn.push.apply(Qn,y))}g=T}if(y=!1,g!==2)continue}}if(g===1){jl(r,0),gi(r,i,0,!0);break}e:{switch(f=r,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:gi(f,i,Er,!di);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=cm+300-Dt(),10<g)){if(gi(f,i,Er,!di),jt(f,0,!0)!==0)break e;f.timeoutHandle=o1(My.bind(null,f,l,Qn,cf,om,i,Er,Sa,Tl,di,y,2,-0,0),g);break e}My(f,l,Qn,cf,om,i,Er,Sa,Tl,di,y,0,-0,0)}}break}while(!0);ss(r)}function My(r,i,l,f,g,y,T,D,$,J,ue,pe,ee,ne){if(r.timeoutHandle=-1,pe=i.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(ac={stylesheets:null,count:0,unsuspend:kN},Ay(i),pe=DN(),pe!==null)){r.cancelPendingCommit=pe(By.bind(null,r,i,y,l,f,g,T,D,$,ue,1,ee,ne)),gi(r,y,T,!J);return}By(r,i,y,l,f,g,T,D,$)}function X4(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],y=g.getSnapshot;g=g.value;try{if(!tr(y(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gi(r,i,l,f){i&=~lm,i&=~Sa,r.suspendedLanes|=i,r.pingedLanes&=~i,f&&(r.warmLanes|=i),f=r.expirationTimes;for(var g=i;0<g;){var y=31-De(g),T=1<<y;f[y]=-1,g&=~T}l!==0&&mr(r,l,i)}function uf(){return(ut&6)===0?(ec(0),!1):!0}function hm(){if(Xe!==null){if(ft===0)var r=Xe.return;else r=Xe,Ds=va=null,kh(r),vl=null,Ho=0,r=Xe;for(;r!==null;)hy(r.alternate,r),r=r.return;Xe=null}}function jl(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,hN(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),hm(),wt=r,Xe=l=Cs(r.current,null),nt=i,ft=0,ir=null,di=!1,El=Sn(r,i),am=!1,Tl=Er=lm=Sa=hi=Mt=0,Qn=Jo=null,om=!1,(i&8)!==0&&(i|=i&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=i;0<f;){var g=31-De(f),y=1<<g;i|=r[g],f&=~y}return Us=i,Ru(),l}function Oy(r,i){Ye=null,Q.H=Ku,i===Oo||i===Uu?(i=Jg(),ft=3):i===Xg?(i=Jg(),ft=4):ft=i===Wx?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ir=i,Xe===null&&(Mt=1,tf(r,br(i,r.current)))}function Vy(){var r=Q.H;return Q.H=Ku,r===null?Ku:r}function Py(){var r=Q.A;return Q.A=Y4,r}function mm(){Mt=4,di||(nt&4194048)!==nt&&Nr.current!==null||(El=!0),(hi&134217727)===0&&(Sa&134217727)===0||wt===null||gi(wt,nt,Er,!1)}function pm(r,i,l){var f=ut;ut|=2;var g=Vy(),y=Py();(wt!==r||nt!==i)&&(cf=null,jl(r,i)),i=!1;var T=Mt;e:do try{if(ft!==0&&Xe!==null){var D=Xe,$=ir;switch(ft){case 8:hm(),T=6;break e;case 3:case 2:case 9:case 6:Nr.current===null&&(i=!0);var J=ft;if(ft=0,ir=null,Cl(r,D,$,J),l&&El){T=0;break e}break;default:J=ft,ft=0,ir=null,Cl(r,D,$,J)}}K4(),T=Mt;break}catch(ue){Oy(r,ue)}while(!0);return i&&r.shellSuspendCounter++,Ds=va=null,ut=f,Q.H=g,Q.A=y,Xe===null&&(wt=null,nt=0,Ru()),T}function K4(){for(;Xe!==null;)Ly(Xe)}function Z4(r,i){var l=ut;ut|=2;var f=Vy(),g=Py();wt!==r||nt!==i?(cf=null,of=Dt()+500,jl(r,i)):El=Sn(r,i);e:do try{if(ft!==0&&Xe!==null){i=Xe;var y=ir;t:switch(ft){case 1:ft=0,ir=null,Cl(r,i,y,1);break;case 2:case 9:if(Kg(y)){ft=0,ir=null,zy(i);break}i=function(){ft!==2&&ft!==9||wt!==r||(ft=7),ss(r)},y.then(i,i);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Kg(y)?(ft=0,ir=null,zy(i)):(ft=0,ir=null,Cl(r,i,y,7));break;case 5:var T=null;switch(Xe.tag){case 26:T=Xe.memoizedState;case 5:case 27:var D=Xe;if(!T||v1(T)){ft=0,ir=null;var $=D.sibling;if($!==null)Xe=$;else{var J=D.return;J!==null?(Xe=J,ff(J)):Xe=null}break t}}ft=0,ir=null,Cl(r,i,y,5);break;case 6:ft=0,ir=null,Cl(r,i,y,6);break;case 8:hm(),Mt=6;break e;default:throw Error(s(462))}}J4();break}catch(ue){Oy(r,ue)}while(!0);return Ds=va=null,Q.H=f,Q.A=g,ut=l,Xe!==null?0:(wt=null,nt=0,Ru(),Mt)}function J4(){for(;Xe!==null&&!Fn();)Ly(Xe)}function Ly(r){var i=fy(r.alternate,r,Us);r.memoizedProps=r.pendingProps,i===null?ff(r):Xe=i}function zy(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=iy(l,i,i.pendingProps,i.type,void 0,nt);break;case 11:i=iy(l,i,i.pendingProps,i.type.render,i.ref,nt);break;case 5:kh(i);default:hy(l,i),i=Xe=Ug(i,Us),i=fy(l,i,Us)}r.memoizedProps=r.pendingProps,i===null?ff(r):Xe=i}function Cl(r,i,l,f){Ds=va=null,kh(i),vl=null,Ho=0;var g=i.return;try{if(B4(r,g,i,l,nt)){Mt=1,tf(r,br(l,r.current)),Xe=null;return}}catch(y){if(g!==null)throw Xe=g,y;Mt=1,tf(r,br(l,r.current)),Xe=null;return}i.flags&32768?(lt||f===1?r=!0:El||(nt&536870912)!==0?r=!1:(di=r=!0,(f===2||f===9||f===3||f===6)&&(f=Nr.current,f!==null&&f.tag===13&&(f.flags|=16384))),Uy(i,r)):ff(i)}function ff(r){var i=r;do{if((i.flags&32768)!==0){Uy(i,di);return}r=i.return;var l=F4(i.alternate,i,Us);if(l!==null){Xe=l;return}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=r}while(i!==null);Mt===0&&(Mt=5)}function Uy(r,i){do{var l=H4(r.alternate,r);if(l!==null){l.flags&=32767,Xe=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=l}while(r!==null);Mt=6,Xe=null}function By(r,i,l,f,g,y,T,D,$){r.cancelPendingCommit=null;do df();while(yn!==0);if((ut&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=ih,Ki(r,l,y,T,D,$),r===wt&&(Xe=wt=null,nt=0),Sl=i,pi=r,Al=l,um=y,fm=g,Ry=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,nN(dr,function(){return Gy(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=Q.T,Q.T=null,g=fe.p,fe.p=2,T=ut,ut|=4;try{$4(r,i,l)}finally{ut=T,fe.p=g,Q.T=f}}yn=1,qy(),Fy(),Hy()}}function qy(){if(yn===1){yn=0;var r=pi,i=Sl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var f=fe.p;fe.p=2;var g=ut;ut|=4;try{Ey(i,r);var y=Am,T=kg(r.containerInfo),D=y.focusedElem,$=y.selectionRange;if(T!==D&&D&&D.ownerDocument&&Cg(D.ownerDocument.documentElement,D)){if($!==null&&eh(D)){var J=$.start,ue=$.end;if(ue===void 0&&(ue=J),"selectionStart"in D)D.selectionStart=J,D.selectionEnd=Math.min(ue,D.value.length);else{var pe=D.ownerDocument||document,ee=pe&&pe.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),ze=D.textContent.length,Oe=Math.min($.start,ze),pt=$.end===void 0?Oe:Math.min($.end,ze);!ne.extend&&Oe>pt&&(T=pt,pt=Oe,Oe=T);var Y=jg(D,Oe),G=jg(D,pt);if(Y&&G&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=pe.createRange();Z.setStart(Y.node,Y.offset),ne.removeAllRanges(),Oe>pt?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(pe=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&pe.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<pe.length;D++){var he=pe[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Ef=!!Sm,Am=Sm=null}finally{ut=g,fe.p=f,Q.T=l}}r.current=i,yn=2}}function Fy(){if(yn===2){yn=0;var r=pi,i=Sl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var f=fe.p;fe.p=2;var g=ut;ut|=4;try{vy(r,i.alternate,i)}finally{ut=g,fe.p=f,Q.T=l}}yn=3}}function Hy(){if(yn===4||yn===3){yn=0,Br();var r=pi,i=Sl,l=Al,f=Ry;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?yn=5:(yn=0,Sl=pi=null,$y(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(mi=null),ys(l),i=i.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(te,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=Q.T,g=fe.p,fe.p=2,Q.T=null;try{for(var y=r.onRecoverableError,T=0;T<f.length;T++){var D=f[T];y(D.value,{componentStack:D.stack})}}finally{Q.T=i,fe.p=g}}(Al&3)!==0&&df(),ss(r),g=r.pendingLanes,(l&4194090)!==0&&(g&42)!==0?r===dm?Wo++:(Wo=0,dm=r):Wo=0,ec(0)}}function $y(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Io(i)))}function df(r){return qy(),Fy(),Hy(),Gy()}function Gy(){if(yn!==5)return!1;var r=pi,i=um;um=0;var l=ys(Al),f=Q.T,g=fe.p;try{fe.p=32>l?32:l,Q.T=null,l=fm,fm=null;var y=pi,T=Al;if(yn=0,Sl=pi=null,Al=0,(ut&6)!==0)throw Error(s(331));var D=ut;if(ut|=4,Cy(y.current),Sy(y,y.current,T,l),ut=D,ec(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(te,y)}catch{}return!0}finally{fe.p=g,Q.T=f,$y(r,i)}}function Yy(r,i,l){i=br(l,i),i=Hh(r.stateNode,i,2),r=ii(r,i,2),r!==null&&(kr(r,2),ss(r))}function yt(r,i,l){if(r.tag===3)Yy(r,r,l);else for(;i!==null;){if(i.tag===3){Yy(i,r,l);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(mi===null||!mi.has(f))){r=br(l,r),l=Zx(2),f=ii(i,l,2),f!==null&&(Jx(l,f,i,r),kr(f,2),ss(f));break}}i=i.return}}function gm(r,i,l){var f=r.pingCache;if(f===null){f=r.pingCache=new Q4;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(l)||(am=!0,g.add(l),r=W4.bind(null,r,i,l),i.then(r,r))}function W4(r,i,l){var f=r.pingCache;f!==null&&f.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,wt===r&&(nt&l)===l&&(Mt===4||Mt===3&&(nt&62914560)===nt&&300>Dt()-cm?(ut&2)===0&&jl(r,0):lm|=l,Tl===nt&&(Tl=0)),ss(r)}function Qy(r,i){i===0&&(i=Xi()),r=ul(r,i),r!==null&&(kr(r,i),ss(r))}function eN(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Qy(r,l)}function tN(r,i){var l=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(i),Qy(r,l)}function nN(r,i){return Kt(r,i)}var hf=null,kl=null,xm=!1,mf=!1,ym=!1,Aa=0;function ss(r){r!==kl&&r.next===null&&(kl===null?hf=kl=r:kl=kl.next=r),mf=!0,xm||(xm=!0,sN())}function ec(r,i){if(!ym&&mf){ym=!0;do for(var l=!1,f=hf;f!==null;){if(r!==0){var g=f.pendingLanes;if(g===0)var y=0;else{var T=f.suspendedLanes,D=f.pingedLanes;y=(1<<31-De(42|r)+1)-1,y&=g&~(T&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Jy(f,y))}else y=nt,y=jt(f,f===wt?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Sn(f,y)||(l=!0,Jy(f,y));f=f.next}while(l);ym=!1}}function rN(){Xy()}function Xy(){mf=xm=!1;var r=0;Aa!==0&&(dN()&&(r=Aa),Aa=0);for(var i=Dt(),l=null,f=hf;f!==null;){var g=f.next,y=Ky(f,i);y===0?(f.next=null,l===null?hf=g:l.next=g,g===null&&(kl=l)):(l=f,(r!==0||(y&3)!==0)&&(mf=!0)),f=g}ec(r)}function Ky(r,i){for(var l=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-De(y),D=1<<T,$=g[T];$===-1?((D&l)===0||(D&f)!==0)&&(g[T]=mn(D,i)):$<=i&&(r.expiredLanes|=D),y&=~D}if(i=wt,l=nt,l=jt(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,l===0||r===i&&(ft===2||ft===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&dn(f),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Sn(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(f!==null&&dn(f),ys(l)){case 2:case 8:l=Hn;break;case 32:l=dr;break;case 268435456:l=hr;break;default:l=dr}return f=Zy.bind(null,r),l=Kt(l,f),r.callbackPriority=i,r.callbackNode=l,i}return f!==null&&f!==null&&dn(f),r.callbackPriority=2,r.callbackNode=null,2}function Zy(r,i){if(yn!==0&&yn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(df()&&r.callbackNode!==l)return null;var f=nt;return f=jt(r,r===wt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(Iy(r,f,i),Ky(r,Dt()),r.callbackNode!=null&&r.callbackNode===l?Zy.bind(null,r):null)}function Jy(r,i){if(df())return null;Iy(r,i,!0)}function sN(){mN(function(){(ut&6)!==0?Kt(fr,rN):Xy()})}function bm(){return Aa===0&&(Aa=Qi()),Aa}function Wy(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ja(""+r)}function e1(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function iN(r,i,l,f,g){if(i==="submit"&&l&&l.stateNode===g){var y=Wy((g[ce]||null).action),T=f.submitter;T&&(i=(i=T[ce]||null)?Wy(i.formAction):T.getAttribute("formAction"),i!==null&&(y=i,T=null));var D=new Wa("action","action",null,f,g);r.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Aa!==0){var $=T?e1(g,T):new FormData(g);zh(l,{pending:!0,data:$,method:g.method,action:y},null,$)}}else typeof y=="function"&&(D.preventDefault(),$=T?e1(g,T):new FormData(g),zh(l,{pending:!0,data:$,method:g.method,action:y},y,$))},currentTarget:g}]})}}for(var vm=0;vm<sh.length;vm++){var _m=sh[vm],aN=_m.toLowerCase(),lN=_m[0].toUpperCase()+_m.slice(1);Mr(aN,"on"+lN)}Mr(Ig,"onAnimationEnd"),Mr(Mg,"onAnimationIteration"),Mr(Og,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(E4,"onTransitionRun"),Mr(T4,"onTransitionStart"),Mr(S4,"onTransitionCancel"),Mr(Vg,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function t1(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],g=f.event;f=f.listeners;e:{var y=void 0;if(i)for(var T=f.length-1;0<=T;T--){var D=f[T],$=D.instance,J=D.currentTarget;if(D=D.listener,$!==y&&g.isPropagationStopped())break e;y=D,g.currentTarget=J;try{y(g)}catch(ue){ef(ue)}g.currentTarget=null,y=$}else for(T=0;T<f.length;T++){if(D=f[T],$=D.instance,J=D.currentTarget,D=D.listener,$!==y&&g.isPropagationStopped())break e;y=D,g.currentTarget=J;try{y(g)}catch(ue){ef(ue)}g.currentTarget=null,y=$}}}}function Ke(r,i){var l=i[St];l===void 0&&(l=i[St]=new Set);var f=r+"__bubble";l.has(f)||(n1(i,r,2,!1),l.add(f))}function wm(r,i,l){var f=0;i&&(f|=4),n1(l,r,f,i)}var pf="_reactListening"+Math.random().toString(36).slice(2);function Nm(r){if(!r[pf]){r[pf]=!0,ho.forEach(function(l){l!=="selectionchange"&&(oN.has(l)||wm(l,!1,r),wm(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[pf]||(i[pf]=!0,wm("selectionchange",!1,i))}}function n1(r,i,l,f){switch(S1(i)){case 2:var g=ON;break;case 8:g=VN;break;default:g=Pm}l=g.bind(null,i,l,r),g=void 0,!xr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(i,l,{capture:!0,passive:g}):r.addEventListener(i,l,!0):g!==void 0?r.addEventListener(i,l,{passive:g}):r.addEventListener(i,l,!1)}function Em(r,i,l,f,g){var y=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var D=f.stateNode.containerInfo;if(D===g)break;if(T===4)for(T=f.return;T!==null;){var $=T.tag;if(($===3||$===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;D!==null;){if(T=bs(D),T===null)return;if($=T.tag,$===5||$===6||$===26||$===27){f=y=T;continue e}D=D.parentNode}}f=f.return}gu(function(){var J=y,ue=gr(l),pe=[];e:{var ee=Pg.get(r);if(ee!==void 0){var ne=Wa,ze=r;switch(r){case"keypress":if(Xr(l)===0)break e;case"keydown":case"keyup":ne=il;break;case"focusin":ze="focus",ne=nl;break;case"focusout":ze="blur",ne=nl;break;case"beforeblur":case"afterblur":ne=nl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=yr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Eu;break;case Ig:case Mg:case Og:ne=rl;break;case Vg:ne=Su;break;case"scroll":case"scrollend":ne=xu;break;case"wheel":ne=al;break;case"copy":case"cut":case"paste":ne=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=To;break;case"toggle":case"beforetoggle":ne=ju}var Oe=(i&4)!==0,pt=!Oe&&(r==="scroll"||r==="scrollend"),Y=Oe?ee!==null?ee+"Capture":null:ee;Oe=[];for(var G=J,Z;G!==null;){var he=G;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Y===null||(he=aa(G,Y),he!=null&&Oe.push(nc(G,he,Z))),pt)break;G=G.return}0<Oe.length&&(ee=new ne(ee,ze,null,l,ue),pe.push({event:ee,listeners:Oe}))}}if((i&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",ee&&l!==Ns&&(ze=l.relatedTarget||l.fromElement)&&(bs(ze)||ze[Ue]))break e;if((ne||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(ze=l.relatedTarget||l.toElement,ne=J,ze=ze?bs(ze):null,ze!==null&&(pt=o(ze),Oe=ze.tag,ze!==pt||Oe!==5&&Oe!==27&&Oe!==6)&&(ze=null)):(ne=null,ze=J),ne!==ze)){if(Oe=yr,he="onMouseLeave",Y="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=To,he="onPointerLeave",Y="onPointerEnter",G="pointer"),pt=ne==null?ee:$r(ne),Z=ze==null?ee:$r(ze),ee=new Oe(he,G+"leave",ne,l,ue),ee.target=pt,ee.relatedTarget=Z,he=null,bs(ue)===J&&(Oe=new Oe(Y,G+"enter",ze,l,ue),Oe.target=Z,Oe.relatedTarget=pt,he=Oe),pt=he,ne&&ze)t:{for(Oe=ne,Y=ze,G=0,Z=Oe;Z;Z=Rl(Z))G++;for(Z=0,he=Y;he;he=Rl(he))Z++;for(;0<G-Z;)Oe=Rl(Oe),G--;for(;0<Z-G;)Y=Rl(Y),Z--;for(;G--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=Rl(Oe),Y=Rl(Y)}Oe=null}else Oe=null;ne!==null&&r1(pe,ee,ne,Oe,!1),ze!==null&&pt!==null&&r1(pe,pt,ze,Oe,!0)}}e:{if(ee=J?$r(J):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var Ce=wg;else if(Wt(ee))if(Ng)Ce=_4;else{Ce=b4;var Qe=y4}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&yo(J.elementType)&&(Ce=wg):Ce=v4;if(Ce&&(Ce=Ce(r,J))){js(pe,Ce,l,ue);break e}Qe&&Qe(r,ee,J),r==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&ei(ee,"number",ee.value)}switch(Qe=J?$r(J):window,r){case"focusin":(Wt(Qe)||Qe.contentEditable==="true")&&(ll=Qe,th=J,jo=null);break;case"focusout":jo=th=ll=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Rg(pe,l,ue);break;case"selectionchange":if(N4)break;case"keydown":case"keyup":Rg(pe,l,ue)}var Re;if(Jr)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else et?ie(r,l)&&(Ve="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(N&&l.locale!=="ko"&&(et||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&et&&(Re=vo()):(Qr=ue,ti="value"in Qr?Qr.value:Qr.textContent,et=!0)),Qe=gf(J,Ve),0<Qe.length&&(Ve=new No(Ve,r,null,l,ue),pe.push({event:Ve,listeners:Qe}),Re?Ve.data=Re:(Re=we(l),Re!==null&&(Ve.data=Re)))),(Re=v?Jt(r,l):tt(r,l))&&(Ve=gf(J,"onBeforeInput"),0<Ve.length&&(Qe=new No("onBeforeInput","beforeinput",null,l,ue),pe.push({event:Qe,listeners:Ve}),Qe.data=Re)),iN(pe,r,J,l,ue)}t1(pe,i)})}function nc(r,i,l){return{instance:r,listener:i,currentTarget:l}}function gf(r,i){for(var l=i+"Capture",f=[];r!==null;){var g=r,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=aa(r,l),g!=null&&f.unshift(nc(r,g,y)),g=aa(r,i),g!=null&&f.push(nc(r,g,y))),r.tag===3)return f;r=r.return}return[]}function Rl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function r1(r,i,l,f,g){for(var y=i._reactName,T=[];l!==null&&l!==f;){var D=l,$=D.alternate,J=D.stateNode;if(D=D.tag,$!==null&&$===f)break;D!==5&&D!==26&&D!==27||J===null||($=J,g?(J=aa(l,y),J!=null&&T.unshift(nc(l,J,$))):g||(J=aa(l,y),J!=null&&T.push(nc(l,J,$)))),l=l.return}T.length!==0&&r.push({event:i,listeners:T})}var cN=/\r\n?/g,uN=/\u0000|\uFFFD/g;function s1(r){return(typeof r=="string"?r:""+r).replace(cN,`
`).replace(uN,"")}function i1(r,i){return i=s1(i),s1(r)===i}function xf(){}function mt(r,i,l,f,g,y){switch(l){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||pr(r,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&pr(r,""+f);break;case"className":Gr(r,"class",f);break;case"tabIndex":Gr(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Gr(r,l,f);break;case"style":xo(r,f,y);break;case"data":if(i!=="object"){Gr(r,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(l);break}f=Ja(""+f),r.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&mt(r,i,"name",g.name,g,null),mt(r,i,"formEncType",g.formEncType,g,null),mt(r,i,"formMethod",g.formMethod,g,null),mt(r,i,"formTarget",g.formTarget,g,null)):(mt(r,i,"encType",g.encType,g,null),mt(r,i,"method",g.method,g,null),mt(r,i,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(l);break}f=Ja(""+f),r.setAttribute(l,f);break;case"onClick":f!=null&&(r.onclick=xf);break;case"onScroll":f!=null&&Ke("scroll",r);break;case"onScrollEnd":f!=null&&Ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}l=Ja(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,""+f):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":f===!0?r.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,f):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(l,f):r.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(l):r.setAttribute(l,f);break;case"popover":Ke("beforetoggle",r),Ke("toggle",r),Ws(r,"popover",f);break;case"xlinkActuate":pn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":pn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":pn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":pn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":pn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":pn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":pn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":pn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":pn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ws(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qd.get(l)||l,Ws(r,l,f))}}function Tm(r,i,l,f,g,y){switch(l){case"style":xo(r,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof f=="string"?pr(r,f):(typeof f=="number"||typeof f=="bigint")&&pr(r,""+f);break;case"onScroll":f!=null&&Ke("scroll",r);break;case"onScrollEnd":f!=null&&Ke("scrollend",r);break;case"onClick":f!=null&&(r.onclick=xf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),y=r[ce]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(i,y,g),typeof f=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,f,g);break e}l in r?r[l]=f:f===!0?r.setAttribute(l,""):Ws(r,l,f)}}}function bn(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",r),Ke("load",r);var f=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(r,i,y,T,l,null)}}g&&mt(r,i,"srcSet",l.srcSet,l,null),f&&mt(r,i,"src",l.src,l,null);return;case"input":Ke("invalid",r);var D=y=T=g=null,$=null,J=null;for(f in l)if(l.hasOwnProperty(f)){var ue=l[f];if(ue!=null)switch(f){case"name":g=ue;break;case"type":T=ue;break;case"checked":$=ue;break;case"defaultChecked":J=ue;break;case"value":y=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,i));break;default:mt(r,i,f,ue,l,null)}}ra(r,y,D,$,J,T,g,!1),Za(r);return;case"select":Ke("invalid",r),f=T=y=null;for(g in l)if(l.hasOwnProperty(g)&&(D=l[g],D!=null))switch(g){case"value":y=D;break;case"defaultValue":T=D;break;case"multiple":f=D;default:mt(r,i,g,D,l,null)}i=y,l=T,r.multiple=!!f,i!=null?ws(r,!!f,i,!1):l!=null&&ws(r,!!f,l,!0);return;case"textarea":Ke("invalid",r),y=g=f=null;for(T in l)if(l.hasOwnProperty(T)&&(D=l[T],D!=null))switch(T){case"value":f=D;break;case"defaultValue":g=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:mt(r,i,T,D,l,null)}sa(r,f,g,y),Za(r);return;case"option":for($ in l)if(l.hasOwnProperty($)&&(f=l[$],f!=null))switch($){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:mt(r,i,$,f,l,null)}return;case"dialog":Ke("beforetoggle",r),Ke("toggle",r),Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":Ke("load",r);break;case"video":case"audio":for(f=0;f<tc.length;f++)Ke(tc[f],r);break;case"image":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"embed":case"source":case"link":Ke("error",r),Ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(f=l[J],f!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(r,i,J,f,l,null)}return;default:if(yo(i)){for(ue in l)l.hasOwnProperty(ue)&&(f=l[ue],f!==void 0&&Tm(r,i,ue,f,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(f=l[D],f!=null&&mt(r,i,D,f,l,null))}function fN(r,i,l,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,T=null,D=null,$=null,J=null,ue=null;for(ne in l){var pe=l[ne];if(l.hasOwnProperty(ne)&&pe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":$=pe;default:f.hasOwnProperty(ne)||mt(r,i,ne,null,f,pe)}}for(var ee in f){var ne=f[ee];if(pe=l[ee],f.hasOwnProperty(ee)&&(ne!=null||pe!=null))switch(ee){case"type":y=ne;break;case"name":g=ne;break;case"checked":J=ne;break;case"defaultChecked":ue=ne;break;case"value":T=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:ne!==pe&&mt(r,i,ee,ne,f,pe)}}er(r,T,D,$,J,ue,y,g);return;case"select":ne=T=D=ee=null;for(y in l)if($=l[y],l.hasOwnProperty(y)&&$!=null)switch(y){case"value":break;case"multiple":ne=$;default:f.hasOwnProperty(y)||mt(r,i,y,null,f,$)}for(g in f)if(y=f[g],$=l[g],f.hasOwnProperty(g)&&(y!=null||$!=null))switch(g){case"value":ee=y;break;case"defaultValue":D=y;break;case"multiple":T=y;default:y!==$&&mt(r,i,g,y,f,$)}i=D,l=T,f=ne,ee!=null?ws(r,!!l,ee,!1):!!f!=!!l&&(i!=null?ws(r,!!l,i,!0):ws(r,!!l,l?[]:"",!1));return;case"textarea":ne=ee=null;for(D in l)if(g=l[D],l.hasOwnProperty(D)&&g!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:mt(r,i,D,null,f,g)}for(T in f)if(g=f[T],y=l[T],f.hasOwnProperty(T)&&(g!=null||y!=null))switch(T){case"value":ee=g;break;case"defaultValue":ne=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&mt(r,i,T,g,f,y)}dt(r,ee,ne);return;case"option":for(var ze in l)if(ee=l[ze],l.hasOwnProperty(ze)&&ee!=null&&!f.hasOwnProperty(ze))switch(ze){case"selected":r.selected=!1;break;default:mt(r,i,ze,null,f,ee)}for($ in f)if(ee=f[$],ne=l[$],f.hasOwnProperty($)&&ee!==ne&&(ee!=null||ne!=null))switch($){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:mt(r,i,$,ee,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)ee=l[Oe],l.hasOwnProperty(Oe)&&ee!=null&&!f.hasOwnProperty(Oe)&&mt(r,i,Oe,null,f,ee);for(J in f)if(ee=f[J],ne=l[J],f.hasOwnProperty(J)&&ee!==ne&&(ee!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:mt(r,i,J,ee,f,ne)}return;default:if(yo(i)){for(var pt in l)ee=l[pt],l.hasOwnProperty(pt)&&ee!==void 0&&!f.hasOwnProperty(pt)&&Tm(r,i,pt,void 0,f,ee);for(ue in f)ee=f[ue],ne=l[ue],!f.hasOwnProperty(ue)||ee===ne||ee===void 0&&ne===void 0||Tm(r,i,ue,ee,f,ne);return}}for(var Y in l)ee=l[Y],l.hasOwnProperty(Y)&&ee!=null&&!f.hasOwnProperty(Y)&&mt(r,i,Y,null,f,ee);for(pe in f)ee=f[pe],ne=l[pe],!f.hasOwnProperty(pe)||ee===ne||ee==null&&ne==null||mt(r,i,pe,ee,f,ne)}var Sm=null,Am=null;function yf(r){return r.nodeType===9?r:r.ownerDocument}function a1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l1(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function jm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cm=null;function dN(){var r=window.event;return r&&r.type==="popstate"?r===Cm?!1:(Cm=r,!0):(Cm=null,!1)}var o1=typeof setTimeout=="function"?setTimeout:void 0,hN=typeof clearTimeout=="function"?clearTimeout:void 0,c1=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof c1<"u"?function(r){return c1.resolve(null).then(r).catch(pN)}:o1;function pN(r){setTimeout(function(){throw r})}function xi(r){return r==="head"}function u1(r,i){var l=i,f=0,g=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<f&&8>f){l=f;var T=r.ownerDocument;if(l&1&&rc(T.documentElement),l&2&&rc(T.body),l&4)for(l=T.head,rc(l),T=l.firstChild;T;){var D=T.nextSibling,$=T.nodeName;T[Wi]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=D}}if(g===0){r.removeChild(y),fc(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=y}while(l);fc(i)}function km(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":km(l),Js(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function gN(r,i,l,f){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Wi])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Vr(r.nextSibling),r===null)break}return null}function xN(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Vr(r.nextSibling),r===null))return null;return r}function Rm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function yN(r,i){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")i();else{var f=function(){i(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Vr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Dm=null;function f1(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}function d1(r,i,l){switch(i=yf(l),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function rc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Js(r)}var Tr=new Map,h1=new Set;function bf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Bs=fe.d;fe.d={f:bN,r:vN,D:_N,C:wN,L:NN,m:EN,X:SN,S:TN,M:AN};function bN(){var r=Bs.f(),i=uf();return r||i}function vN(r){var i=Hr(r);i!==null&&i.tag===5&&i.type==="form"?Ix(i):Bs.r(r)}var Dl=typeof document>"u"?null:document;function m1(r,i,l){var f=Dl;if(f&&typeof i=="string"&&i){var g=qt(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),h1.has(g)||(h1.add(g),r={rel:r,crossOrigin:l,href:i},f.querySelector(g)===null&&(i=f.createElement("link"),bn(i,"link",r),Pt(i),f.head.appendChild(i)))}}function _N(r){Bs.D(r),m1("dns-prefetch",r,null)}function wN(r,i){Bs.C(r,i),m1("preconnect",r,i)}function NN(r,i,l){Bs.L(r,i,l);var f=Dl;if(f&&r&&i){var g='link[rel="preload"][as="'+qt(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+qt(l.imageSizes)+'"]')):g+='[href="'+qt(r)+'"]';var y=g;switch(i){case"style":y=Il(r);break;case"script":y=Ml(r)}Tr.has(y)||(r=x({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Tr.set(y,r),f.querySelector(g)!==null||i==="style"&&f.querySelector(sc(y))||i==="script"&&f.querySelector(ic(y))||(i=f.createElement("link"),bn(i,"link",r),Pt(i),f.head.appendChild(i)))}}function EN(r,i){Bs.m(r,i);var l=Dl;if(l&&r){var f=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+qt(f)+'"][href="'+qt(r)+'"]',y=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ml(r)}if(!Tr.has(y)&&(r=x({rel:"modulepreload",href:r},i),Tr.set(y,r),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ic(y)))return}f=l.createElement("link"),bn(f,"link",r),Pt(f),l.head.appendChild(f)}}}function TN(r,i,l){Bs.S(r,i,l);var f=Dl;if(f&&r){var g=On(f).hoistableStyles,y=Il(r);i=i||"default";var T=g.get(y);if(!T){var D={loading:0,preload:null};if(T=f.querySelector(sc(y)))D.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Tr.get(y))&&Im(r,l);var $=T=f.createElement("link");Pt($),bn($,"link",r),$._p=new Promise(function(J,ue){$.onload=J,$.onerror=ue}),$.addEventListener("load",function(){D.loading|=1}),$.addEventListener("error",function(){D.loading|=2}),D.loading|=4,vf(T,i,f)}T={type:"stylesheet",instance:T,count:1,state:D},g.set(y,T)}}}function SN(r,i){Bs.X(r,i);var l=Dl;if(l&&r){var f=On(l).hoistableScripts,g=Ml(r),y=f.get(g);y||(y=l.querySelector(ic(g)),y||(r=x({src:r,async:!0},i),(i=Tr.get(g))&&Mm(r,i),y=l.createElement("script"),Pt(y),bn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(g,y))}}function AN(r,i){Bs.M(r,i);var l=Dl;if(l&&r){var f=On(l).hoistableScripts,g=Ml(r),y=f.get(g);y||(y=l.querySelector(ic(g)),y||(r=x({src:r,async:!0,type:"module"},i),(i=Tr.get(g))&&Mm(r,i),y=l.createElement("script"),Pt(y),bn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(g,y))}}function p1(r,i,l,f){var g=(g=le.current)?bf(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Il(l.href),l=On(g).hoistableStyles,f=l.get(i),f||(f={type:"style",instance:null,count:0,state:null},l.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Il(l.href);var y=On(g).hoistableStyles,T=y.get(r);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=g.querySelector(sc(r)))&&!y._p&&(T.instance=y,T.state.loading=5),Tr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Tr.set(r,l),y||jN(g,r,l,T.state))),i&&f===null)throw Error(s(528,""));return T}if(i&&f!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ml(l),l=On(g).hoistableScripts,f=l.get(i),f||(f={type:"script",instance:null,count:0,state:null},l.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Il(r){return'href="'+qt(r)+'"'}function sc(r){return'link[rel="stylesheet"]['+r+"]"}function g1(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function jN(r,i,l,f){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=r.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),bn(i,"link",l),Pt(i),r.head.appendChild(i))}function Ml(r){return'[src="'+qt(r)+'"]'}function ic(r){return"script[async]"+r}function x1(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var f=r.querySelector('style[data-href~="'+qt(l.href)+'"]');if(f)return i.instance=f,Pt(f),f;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Pt(f),bn(f,"style",g),vf(f,l.precedence,r),i.instance=f;case"stylesheet":g=Il(l.href);var y=r.querySelector(sc(g));if(y)return i.state.loading|=4,i.instance=y,Pt(y),y;f=g1(l),(g=Tr.get(g))&&Im(f,g),y=(r.ownerDocument||r).createElement("link"),Pt(y);var T=y;return T._p=new Promise(function(D,$){T.onload=D,T.onerror=$}),bn(y,"link",f),i.state.loading|=4,vf(y,l.precedence,r),i.instance=y;case"script":return y=Ml(l.src),(g=r.querySelector(ic(y)))?(i.instance=g,Pt(g),g):(f=l,(g=Tr.get(y))&&(f=x({},l),Mm(f,g)),r=r.ownerDocument||r,g=r.createElement("script"),Pt(g),bn(g,"link",f),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,vf(f,l.precedence,r));return i.instance}function vf(r,i,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,y=g,T=0;T<f.length;T++){var D=f[T];if(D.dataset.precedence===i)y=D;else if(y!==g)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function Im(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Mm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var _f=null;function y1(r,i,l){if(_f===null){var f=new Map,g=_f=new Map;g.set(l,f)}else g=_f,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(r))return f;for(f.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var y=l[g];if(!(y[Wi]||y[_t]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(i)||"";T=r+T;var D=f.get(T);D?D.push(y):f.set(T,[y])}}return f}function b1(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function CN(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function v1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ac=null;function kN(){}function RN(r,i,l){if(ac===null)throw Error(s(475));var f=ac;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Il(l.href),y=r.querySelector(sc(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=wf.bind(f),r.then(f,f)),i.state.loading|=4,i.instance=y,Pt(y);return}y=r.ownerDocument||r,l=g1(l),(g=Tr.get(g))&&Im(l,g),y=y.createElement("link"),Pt(y);var T=y;T._p=new Promise(function(D,$){T.onload=D,T.onerror=$}),bn(y,"link",l),i.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=wf.bind(f),r.addEventListener("load",i),r.addEventListener("error",i))}}function DN(){if(ac===null)throw Error(s(475));var r=ac;return r.stylesheets&&r.count===0&&Om(r,r.stylesheets),0<r.count?function(i){var l=setTimeout(function(){if(r.stylesheets&&Om(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(l)}}:null}function wf(){if(this.count--,this.count===0){if(this.stylesheets)Om(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Nf=null;function Om(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Nf=new Map,i.forEach(IN,r),Nf=null,wf.call(r))}function IN(r,i){if(!(i.state.loading&4)){var l=Nf.get(r);if(l)var f=l.get(null);else{l=new Map,Nf.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var T=g[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),f=T)}f&&l.set(null,f)}g=i.instance,T=g.getAttribute("data-precedence"),y=l.get(T)||f,y===f&&l.set(null,g),l.set(T,g),this.count++,f=wf.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),y?y.parentNode.insertBefore(g,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var lc={$$typeof:V,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function MN(r,i,l,f,g,y,T,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function _1(r,i,l,f,g,y,T,D,$,J,ue,pe){return r=new MN(r,i,l,T,D,$,J,pe),i=1,y===!0&&(i|=24),y=nr(3,null,null,i),r.current=y,y.stateNode=r,i=gh(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:f,isDehydrated:l,cache:i},vh(y),r}function w1(r){return r?(r=fl,r):fl}function N1(r,i,l,f,g,y){g=w1(g),f.context===null?f.context=g:f.pendingContext=g,f=si(i),f.payload={element:l},y=y===void 0?null:y,y!==null&&(f.callback=y),l=ii(r,f,i),l!==null&&(lr(l,r,i),Po(l,r,i))}function E1(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Vm(r,i){E1(r,i),(r=r.alternate)&&E1(r,i)}function T1(r){if(r.tag===13){var i=ul(r,67108864);i!==null&&lr(i,r,67108864),Vm(r,67108864)}}var Ef=!0;function ON(r,i,l,f){var g=Q.T;Q.T=null;var y=fe.p;try{fe.p=2,Pm(r,i,l,f)}finally{fe.p=y,Q.T=g}}function VN(r,i,l,f){var g=Q.T;Q.T=null;var y=fe.p;try{fe.p=8,Pm(r,i,l,f)}finally{fe.p=y,Q.T=g}}function Pm(r,i,l,f){if(Ef){var g=Lm(f);if(g===null)Em(r,i,f,Tf,l),A1(r,f);else if(LN(g,r,i,l,f))f.stopPropagation();else if(A1(r,f),i&4&&-1<PN.indexOf(r)){for(;g!==null;){var y=Hr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Bt(y.pendingLanes);if(T!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var $=1<<31-De(T);D.entanglements[1]|=$,T&=~$}ss(y),(ut&6)===0&&(of=Dt()+500,ec(0))}}break;case 13:D=ul(y,2),D!==null&&lr(D,y,2),uf(),Vm(y,2)}if(y=Lm(f),y===null&&Em(r,i,f,Tf,l),y===g)break;g=y}g!==null&&f.stopPropagation()}else Em(r,i,f,null,l)}}function Lm(r){return r=gr(r),zm(r)}var Tf=null;function zm(r){if(Tf=null,r=bs(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=c(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Tf=r,null}function S1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qr()){case fr:return 2;case Hn:return 8;case dr:case Yi:return 32;case hr:return 268435456;default:return 32}default:return 32}}var Um=!1,yi=null,bi=null,vi=null,oc=new Map,cc=new Map,_i=[],PN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A1(r,i){switch(r){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(i.pointerId)}}function uc(r,i,l,f,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},i!==null&&(i=Hr(i),i!==null&&T1(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function LN(r,i,l,f,g){switch(i){case"focusin":return yi=uc(yi,r,i,l,f,g),!0;case"dragenter":return bi=uc(bi,r,i,l,f,g),!0;case"mouseover":return vi=uc(vi,r,i,l,f,g),!0;case"pointerover":var y=g.pointerId;return oc.set(y,uc(oc.get(y)||null,r,i,l,f,g)),!0;case"gotpointercapture":return y=g.pointerId,cc.set(y,uc(cc.get(y)||null,r,i,l,f,g)),!0}return!1}function j1(r){var i=bs(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){r.blockedOn=i,Ga(r.priority,function(){if(l.tag===13){var f=ar();f=Rr(f);var g=ul(l,f);g!==null&&lr(g,l,f),Vm(l,f)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=Lm(r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);Ns=f,l.target.dispatchEvent(f),Ns=null}else return i=Hr(l),i!==null&&T1(i),r.blockedOn=l,!1;i.shift()}return!0}function C1(r,i,l){Sf(r)&&l.delete(i)}function zN(){Um=!1,yi!==null&&Sf(yi)&&(yi=null),bi!==null&&Sf(bi)&&(bi=null),vi!==null&&Sf(vi)&&(vi=null),oc.forEach(C1),cc.forEach(C1)}function Af(r,i){r.blockedOn===i&&(r.blockedOn=null,Um||(Um=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zN)))}var jf=null;function k1(r){jf!==r&&(jf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jf===r&&(jf=null);for(var i=0;i<r.length;i+=3){var l=r[i],f=r[i+1],g=r[i+2];if(typeof f!="function"){if(zm(f||l)===null)continue;break}var y=Hr(l);y!==null&&(r.splice(i,3),i-=3,zh(y,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function fc(r){function i($){return Af($,r)}yi!==null&&Af(yi,r),bi!==null&&Af(bi,r),vi!==null&&Af(vi,r),oc.forEach(i),cc.forEach(i);for(var l=0;l<_i.length;l++){var f=_i[l];f.blockedOn===r&&(f.blockedOn=null)}for(;0<_i.length&&(l=_i[0],l.blockedOn===null);)j1(l),l.blockedOn===null&&_i.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],y=l[f+1],T=g[ce]||null;if(typeof y=="function")T||k1(l);else if(T){var D=null;if(y&&y.hasAttribute("formAction")){if(g=y,T=y[ce]||null)D=T.formAction;else if(zm(g)!==null)continue}else D=T.action;typeof D=="function"?l[f+1]=D:(l.splice(f,3),f-=3),k1(l)}}}function Bm(r){this._internalRoot=r}Cf.prototype.render=Bm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,f=ar();N1(l,f,r,i,null,null)},Cf.prototype.unmount=Bm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;N1(r.current,2,null,r,null,null),uf(),i[Ue]=null}};function Cf(r){this._internalRoot=r}Cf.prototype.unstable_scheduleHydration=function(r){if(r){var i=Fr();r={blockedOn:null,target:r,priority:i};for(var l=0;l<_i.length&&i!==0&&i<_i[l].priority;l++);_i.splice(l,0,r),l===0&&j1(r)}};var R1=e.version;if(R1!=="19.1.1")throw Error(s(527,R1,"19.1.1"));fe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(i),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var UN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{te=kf.inject(UN),me=kf}catch{}}return hc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var l=!1,f="",g=Yx,y=Qx,T=Xx,D=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(D=i.unstable_transitionCallbacks)),i=_1(r,1,!1,null,null,l,f,g,y,T,D,null),r[Ue]=i.current,Nm(r),new Bm(i)},hc.hydrateRoot=function(r,i,l){if(!a(r))throw Error(s(299));var f=!1,g="",y=Yx,T=Qx,D=Xx,$=null,J=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks),l.formState!==void 0&&(J=l.formState)),i=_1(r,1,!0,i,l??null,f,g,y,T,D,$,J),i.context=w1(null),l=i.current,f=ar(),f=Rr(f),g=si(f),g.callback=null,ii(l,g,f),l=f,i.current.lanes=l,kr(i,l),ss(i),r[Ue]=i.current,Nm(r),new Cf(i)},hc.version="19.1.1",hc}var B1;function KN(){if(B1)return Hm.exports;B1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hm.exports=XN(),Hm.exports}var ZN=KN();const JN=pd(ZN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),q1=t=>{const e=eE(t);return e.charAt(0).toUpperCase()+e.slice(1)},t2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),tE=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=X.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c,...d},p)=>X.createElement("svg",{ref:p,...nE,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:t2("lucide",a),...!o&&!tE(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,x])=>X.createElement(m,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=X.forwardRef(({className:s,...a},o)=>X.createElement(rE,{ref:o,iconNode:e,className:t2(`lucide-${WN(q1(t))}`,`lucide-${t}`,s),...a}));return n.displayName=q1(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],iE=je("arrow-down",sE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],lE=je("arrow-up-down",aE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],cE=je("arrow-up",oE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],n2=je("award",uE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Dc=je("bell",fE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],hE=je("bold",dE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Qf=je("book-open",mE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],gE=je("calculator",pE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$s=je("calendar",xE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],cp=je("chart-column",yE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],to=je("check",bE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gd=je("chevron-down",vE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wE=je("chevron-left",_E);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],r2=je("chevron-right",NE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],up=je("chevron-up",EE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],SE=je("circle-alert",TE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xd=je("circle-check-big",AE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],F1=je("circle-check",jE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kE=je("circle",CE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mi=je("clock",RE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],IE=je("cloud-off",DE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],OE=je("cloud",ME);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],PE=je("code",VE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zE=je("copy",LE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Jn=je("crown",UE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Oi=je("eye-off",BE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oa=je("eye",qE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3.072",key:"n6s66f"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m6.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.88.001l-1.846.85a.5.5 0 0 1-.693-.593l1.29-4.88",key:"1e6yvx"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],HE=je("file-badge",FE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ci=je("file-text",$E);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],s2=je("flask-conical",GE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fp=je("globe",YE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Va=je("graduation-cap",QE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],KE=je("hash",XE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],JE=je("italic",ZE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Si=je("key",WE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],H1=je("lightbulb",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],nT=je("link",tT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],sT=je("list-todo",rT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wn=je("loader-circle",iT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],lT=je("list",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yt=je("lock",oT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],ka=je("megaphone",cT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],fT=je("move-vertical",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],$1=je("party-popper",dT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ba=je("pen-line",hT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pT=je("pen",mT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ls=je("plus",gT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],yT=je("quote",xT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qi=je("save",bT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yd=je("search",vT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qa=je("settings",_T);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fs=je("shield",wT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dp=je("square-check-big",NT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vn=je("star",ET);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],_0=je("sticky-note",TT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],G1=je("target",ST);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],i2=je("toggle-left",AT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],a2=je("toggle-right",jT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ds=je("trash-2",CT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Uf=je("triangle-alert",kT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],DT=je("trophy",RT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hp=je("user-check",IT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Y1=je("user-plus",MT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],VT=je("user-x",OT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lr=je("user",PT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hs=je("users",LT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fn=je("x",zT),Ai={1:{theory:["Mathematics-I","Physics","Programming Fundamentals","English"],practical:["Physics Lab","Programming Lab"]},2:{theory:["Mathematics-II","Chemistry","Data Structures","Digital Logic"],practical:["Chemistry Lab","DS Lab"]},3:{theory:["OOP","Discrete Math","Computer Architecture","Statistics"],practical:["OOP Lab","Hardware Lab"]},4:{theory:["DBMS","Operating Systems","Computer Networks","Software Engineering"],practical:["DBMS Lab","Networks Lab"]},5:{theory:["AIA","DAA","DBMS","ES","MLA","MDM","OE-4"],practical:["DAA Lab","DBMS Lab","MLA Lab","ES Lab"]},6:{theory:["CNN","CVPR","DV","K.ENG","MDM","SR"],practical:["CNN Lab","DV Lab","K.ENG Lab","MAD Lab","SR Lab"]},7:{theory:["Deep Learning","Big Data Analytics","Cybersecurity","Project Management"],practical:["ML Lab","Security Lab"]},8:{theory:["Major Project","Technical Seminar","Industry Training"],practical:["Project Implementation"]}},UT=["Assignment","Test","Presentation","Quiz","Certificate","Project","Other"],Pe={rollNo:"2405225",name:"Shaikh Mujahid",admissionYear:2024,isDSY:!1};function BT({students:t,onStudentSelect:e,isLoading:n,studentManagement:s}){const[a,o]=X.useState(""),[c,d]=X.useState(!1),[p,m]=X.useState(null),[x,b]=X.useState(""),[w,_]=X.useState(!1),[S,L]=X.useState(""),z=X.useMemo(()=>{if(!a.trim())return t;const B=a.toLowerCase();return t.filter(U=>U.name.toLowerCase().includes(B)||U.rollNo.toLowerCase().includes(B))},[t,a]),F=async B=>{B.isProtected?(m(B),d(!0),b(""),L("")):e(B)},q=async B=>{if(B.preventDefault(),!x.trim()){L("Please enter password");return}_(!0),L("");try{await s.authenticateStudent(p,x)?(e(p),d(!1)):(L("Incorrect password. Please try again."),b(""))}catch{L("Authentication failed. Please try again.")}finally{_(!1)}},V=()=>{d(!1),m(null),b(""),L("")},H=()=>{o("")};return n?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Va,{className:"w-16 h-16 mx-auto text-blue-600 mb-4"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(wn,{className:"w-6 h-6 animate-spin text-blue-600"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loading Academic Tracker..."})]}),u.jsx("p",{className:"text-gray-600",children:"Setting up your student data"})]})}):c&&p?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:`
                w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4
                ${p.rollNo===Pe.rollNo?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-blue-500 to-purple-500"}
              `,children:p.rollNo===Pe.rollNo?u.jsx(Jn,{className:"w-8 h-8 text-white"}):u.jsx(Yt,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:p.rollNo===Pe.rollNo?"Admin Authentication":"Student Authentication"}),u.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",p.name,"'s account"]})]}),u.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-2xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Lr,{className:"w-5 h-5 text-gray-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:p.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",p.rollNo]})]})]})}),u.jsxs("form",{onSubmit:q,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Yt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Enter password",value:x,onChange:B=>b(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:w,autoFocus:!0})]}),S&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:S}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",disabled:w||!x.trim(),className:`
                    flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed
                    ${p.rollNo===Pe.rollNo?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}
                  `,children:w?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Authenticating..."})]}):u.jsxs(u.Fragment,{children:[p.rollNo===Pe.rollNo?u.jsx(Jn,{className:"w-4 h-4"}):u.jsx(Fs,{className:"w-4 h-4"}),u.jsx("span",{children:"Access Account"})]})}),u.jsx("button",{type:"button",onClick:V,disabled:w,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]}),u.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:u.jsxs("p",{className:"text-sm text-blue-700 text-center",children:["This account is password protected for security.",p.rollNo===Pe.rollNo&&" Admin accounts have full system privileges."]})})]})})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-2xl w-full",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:u.jsx(Va,{className:"w-10 h-10 text-white"})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Academic Progress Tracker"}),u.jsx("p",{className:"text-gray-600",children:"Select your student profile to continue"})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(hs,{className:"w-6 h-6 text-blue-600"}),u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Select Student Profile"}),u.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.length," total)"]})]}),u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(yd,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"text",placeholder:"Search by name or roll number...",value:a,onChange:B=>o(B.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a&&u.jsx("button",{onClick:H,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(fn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:z.length>0?z.map(B=>u.jsx("button",{onClick:()=>F(B),className:`
                    w-full flex items-center p-4 rounded-2xl border-2 transition-all text-left
                    ${B.rollNo===Pe.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300 hover:bg-yellow-100":B.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300 hover:bg-blue-100":"border-gray-200 bg-gray-50 hover:border-blue-300 hover:bg-blue-50"}
                  `,children:u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:`
                      w-12 h-12 rounded-2xl flex items-center justify-center
                      ${B.rollNo===Pe.rollNo?"bg-yellow-200":B.isProtected?"bg-blue-200":"bg-gray-200"}
                    `,children:B.rollNo===Pe.rollNo?u.jsx(Jn,{className:"w-6 h-6 text-yellow-600"}):B.isProtected?u.jsx(Yt,{className:"w-6 h-6 text-blue-600"}):u.jsx(Lr,{className:"w-6 h-6 text-gray-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:B.name}),B.rollNo===Pe.rollNo&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Jn,{className:"w-4 h-4 text-yellow-600"}),u.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Admin"})]}),B.isProtected&&B.rollNo!==Pe.rollNo&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Yt,{className:"w-3 h-3 text-blue-600"}),u.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",B.rollNo]}),B.isProtected&&u.jsx("p",{className:"text-xs text-gray-500",children:"Password required"})]})]})},B.rollNo)):u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(hs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsxs("p",{children:['No students found matching "',a,'"']})]})}),u.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-2xl border border-gray-200",children:u.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[u.jsx("strong",{children:"Note:"})," Students with ",u.jsx(Yt,{className:"w-3 h-3 inline mx-1"})," require password authentication. Click on any student to access their profile."]})})]})]})})}function qT({semester:t,syncStatus:e,selectedStudent:n,onStudentSwitch:s}){const{isOnline:a,isSyncing:o,lastSynced:c}=e;return u.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center",children:u.jsx(Va,{className:"w-7 h-7 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Progress Tracker"}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Semester ",t,"  Track your academic journey"]})]})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[n&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.name}),n.rollNo==="2405225"&&u.jsx(Jn,{className:"w-4 h-4 text-yellow-500"})]}),u.jsxs("span",{className:"text-xs text-gray-600",children:["Roll: ",n.rollNo]})]}),u.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",title:"Switch Student",children:u.jsx(Lr,{className:"w-5 h-5 text-gray-600"})})]}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"flex items-center gap-2",children:o?u.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[u.jsx(wn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{className:"text-sm",children:"Syncing..."})]}):a?u.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[u.jsx(OE,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Online"}),c&&u.jsx(xd,{className:"w-3 h-3"})]}):u.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[u.jsx(IE,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Offline"})]})}),c&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Last synced: ",c.toLocaleTimeString()]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx($s,{className:"w-4 h-4"}),u.jsx("span",{children:"Academic Year 2024-25"})]})]})]})})})}const FT=[{id:0,label:"Theory Subjects",icon:Qf},{id:1,label:"Practicals",icon:s2},{id:2,label:"Notice Board",icon:ka},{id:3,label:"Personal Notes",icon:_0},{id:4,label:"Student & Settings",icon:qa},{id:7,label:"Calendar",icon:$s}];function HT({activeTab:t,onTabChange:e,showDegreeTab:n=!1,showAdminTab:s=!1}){const a=X.useRef(null),[o,c]=X.useState(!1),[d,p]=X.useState(0),[m,x]=X.useState(0);let b=[...FT];n&&b.push({id:5,label:"Degree Completion",icon:xd}),s&&b.push({id:6,label:"Admin Privileges",icon:Fs});const w=z=>{c(!0),p(z.pageX-a.current.offsetLeft),x(a.current.scrollLeft)},_=()=>{c(!1)},S=()=>{c(!1)},L=z=>{if(!o)return;z.preventDefault();const q=(z.pageX-a.current.offsetLeft-d)*2;a.current.scrollLeft=m-q};return X.useEffect(()=>{const z=a.current;if(z){const F=q=>{q.deltaY!==0&&(q.preventDefault(),z.scrollTo({left:z.scrollLeft+q.deltaY,behavior:"smooth"}))};return z.addEventListener("wheel",F),()=>z.removeEventListener("wheel",F)}},[]),u.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-10",children:u.jsx("div",{className:"max-w-7xl mx-auto px-2 md:px-6",children:u.jsx("div",{ref:a,className:`flex space-x-1 overflow-x-auto pb-2 scrollbar-hide ${o?"cursor-grabbing":"cursor-grab"}`,onMouseDown:w,onMouseLeave:_,onMouseUp:S,onMouseMove:L,children:b.map(z=>u.jsxs("button",{onClick:()=>{o||e(z.id)},className:`
                flex items-center gap-2 px-3 py-3 md:px-6 md:py-4 font-medium transition-all duration-200 border-b-2 relative whitespace-nowrap text-sm md:text-base select-none
                ${t===z.id?z.id===6?"text-yellow-600 border-yellow-600 bg-yellow-50":"text-blue-600 border-blue-600 bg-blue-50":"text-gray-600 border-transparent hover:text-gray-900 hover:bg-gray-50"}
              `,children:[u.jsx(z.icon,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{children:z.label}),t===z.id&&u.jsx(r2,{className:"w-3 h-3 md:w-4 md:h-4 ml-1"})]},z.id))})})})}function Ni({children:t,value:e,index:n,className:s=""}){return u.jsx("div",{className:`transition-all duration-300 ${e!==n?"hidden opacity-0":"opacity-100"}`,style:{display:e!==n?"none":"block"},children:u.jsx("div",{className:`p-6 ${s}`,children:t})})}const $T=X.memo(function({subject:e,onDataChange:n,initialData:s}){const[a,o]=X.useState({ca1:{type:"",date:"",marks:""},ca2:{type:"",date:"",marks:""},ca3:{type:"",date:"",marks:""},ca4:{type:"",date:"",marks:""},midSem:{date:"",marks:""}}),[c,d]=X.useState(!1);X.useEffect(()=>{s&&o(s)},[s]);const p=(_,S,L)=>{if(S==="marks"&&L!==""){const F=parseFloat(L),q=_==="midSem"?20:10;if(F<0||F>q)return}const z={...a,[_]:{...a[_],[S]:L}};o(z),n&&n(e,z)},m=()=>{let S=0;return["ca1","ca2","ca3","ca4"].forEach(L=>{a[L].type&&S++,a[L].date&&S++,a[L].marks&&S++}),a.midSem.date&&S++,a.midSem.marks&&S++,Math.round(S/14*100)},x=()=>{let _=0;["ca1","ca2","ca3","ca4"].forEach(L=>{const z=parseFloat(a[L].marks);isNaN(z)||(_+=z)});const S=parseFloat(a.midSem.marks);return isNaN(S)||(_+=S),_},b=m(),w=x();return u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white cursor-pointer",onClick:()=>d(!c),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Qf,{className:"w-6 h-6"}),u.jsx("h3",{className:"text-lg font-bold",children:e})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"text-sm opacity-90",children:[b,"%"]}),u.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${b}%`}})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[u.jsx(gE,{className:"w-4 h-4"}),u.jsx("span",{children:"Internal Assessment"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"text-lg font-bold",children:[w,"/60"]})}),u.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg hover:bg-white/30 transition-colors",children:c?u.jsx(G1,{className:"w-4 h-4"}):u.jsx(Qf,{className:"w-4 h-4"})})]})]})]}),!c&&u.jsxs("div",{className:"p-4 bg-gray-50/50 cursor-pointer",onClick:()=>d(!0),children:[u.jsxs("div",{className:"grid grid-cols-5 gap-2 text-center",children:[["ca1","ca2","ca3","ca4"].map((_,S)=>u.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl border border-gray-100 bg-white shadow-sm",children:[u.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:["CA-",S+1]}),u.jsx("span",{className:`font-mono font-bold ${a[_].marks?"text-gray-800 text-lg":"text-gray-300"}`,children:a[_].marks||"0"})]},_)),u.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl border border-orange-100 bg-orange-50 shadow-sm",children:[u.jsx("span",{className:"text-xs font-bold text-orange-400 uppercase tracking-wider mb-1",children:"Mid"}),u.jsx("span",{className:`font-mono font-bold ${a.midSem.marks?"text-orange-900 text-lg":"text-orange-300"}`,children:a.midSem.marks||"0"})]})]}),u.jsx("div",{className:"mt-3 text-center",children:u.jsx("span",{className:"text-xs font-medium text-blue-500 hover:text-blue-600 transition-colors uppercase tracking-widest border-b border-dashed border-blue-300 pb-0.5",children:"Tap card to edit details"})})]}),c&&u.jsxs("div",{className:"p-6 space-y-6 animate-in slide-in-from-top-4 duration-300",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[u.jsx(G1,{className:"w-4 h-4"}),"Continuous Assessment (4  10 = 40 marks)"]}),[1,2,3,4].map(_=>u.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3 border border-gray-100 hover:border-blue-200 transition-colors",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"font-medium text-gray-800",children:["CA-",_]}),a[`ca${_}`].marks&&u.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:[a[`ca${_}`].marks,"/10"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",value:a[`ca${_}`].type,onChange:S=>p(`ca${_}`,"type",S.target.value),children:[u.jsx("option",{value:"",children:"Select Type"}),UT.map(S=>u.jsx("option",{value:S,children:S},S))]}),u.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:a[`ca${_}`].date,onChange:S=>p(`ca${_}`,"date",S.target.value)}),u.jsx("input",{type:"number",min:"0",max:"10",step:"0.5",placeholder:"Marks (0-10)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:a[`ca${_}`].marks,onChange:S=>p(`ca${_}`,"marks",S.target.value),onKeyDown:S=>{(S.key==="-"||S.key==="+")&&S.preventDefault()}})]})]},_))]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[u.jsx(n2,{className:"w-4 h-4"}),"Mid Semester Exam (20 marks)"]}),u.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-4 border border-orange-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"font-medium text-gray-800",children:"Mid-Sem Exam"}),a.midSem.marks&&u.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium",children:[a.midSem.marks,"/20"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:a.midSem.date,onChange:_=>p("midSem","date",_.target.value)}),u.jsx("input",{type:"number",min:"0",max:"20",step:"0.5",placeholder:"Marks (0-20)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:a.midSem.marks,onChange:_=>p("midSem","marks",_.target.value),onKeyDown:_=>{(_.key==="-"||_.key==="+")&&_.preventDefault()}})]})]})]}),u.jsx("button",{onClick:_=>{_.stopPropagation(),d(!1)},className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-600 font-bold rounded-xl transition-colors uppercase tracking-wide text-sm",children:"Done Editing"})]})]})});function GT({semester:t,allData:e,handleDataChange:n}){return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Theory Subjects"}),u.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",Ai[t].theory.length," subjects"]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Ai[t].theory.map(s=>u.jsx($T,{subject:s,onDataChange:(a,o)=>n(a,o,"theory"),initialData:e[`${t}-${s}`]?.data},`${t}-${s}`))})]})}const YT=X.memo(function({subject:e,onDataChange:n,initialData:s}){const[a,o]=X.useState(new Set);X.useEffect(()=>{s&&Array.isArray(s)&&o(new Set(s))},[s]);const c=p=>{const m=new Set(a);m.has(p)?m.delete(p):m.add(p),o(m),n&&n(e,Array.from(m))},d=a.size/10*100;return u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 p-4 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(s2,{className:"w-6 h-6"}),u.jsx("h3",{className:"text-lg font-bold",children:e}),u.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Practical"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"text-sm opacity-90",children:[a.size,"/10"]}),u.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${d}%`}})})]})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-4 flex items-center gap-2",children:[u.jsx(F1,{className:"w-4 h-4"}),"Lab Experiments (",a.size,"/10 completed)"]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Array.from({length:10},(p,m)=>m+1).map(p=>u.jsx("button",{onClick:()=>c(p),className:`
                flex items-center justify-center p-4 rounded-2xl border-2 transition-all duration-200 font-medium
                ${a.has(p)?"bg-green-100 border-green-500 text-green-700 shadow-md":"bg-gray-50 border-gray-200 text-gray-600 hover:border-green-300 hover:bg-green-50"}
              `,children:u.jsxs("div",{className:"flex items-center gap-2",children:[a.has(p)?u.jsx(F1,{className:"w-4 h-4"}):u.jsx(kE,{className:"w-4 h-4"}),u.jsxs("span",{children:["Lab ",p]})]})},p))}),d===100&&u.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:u.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[u.jsx(DT,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"All labs completed! Great work! "})]})})]})]})});function QT({semester:t,allData:e,handleDataChange:n}){return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practical Subjects"}),u.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",Ai[t].practical.length," labs"]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Ai[t].practical.map(s=>u.jsx(YT,{subject:s,onDataChange:(a,o)=>n(a,o,"practical"),initialData:e[`${t}-${s}`]?.data},`${t}-${s}`))})]})}const XT=()=>{};var Q1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},KT=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],d=t[n++],p=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const o=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},o2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,d=c?t[a+1]:0,p=a+2<t.length,m=p?t[a+2]:0,x=o>>2,b=(o&3)<<4|d>>4;let w=(d&15)<<2|m>>6,_=m&63;p||(_=64,c||(w=64)),s.push(n[x],n[b],n[w],n[_])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||d==null||m==null||b==null)throw new ZT;const w=o<<2|d>>4;if(s.push(w),m!==64){const _=d<<4&240|m>>2;if(s.push(_),b!==64){const S=m<<6&192|b;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JT=function(t){const e=l2(t);return o2.encodeByteArray(e,!0)},Xf=function(t){return JT(t).replace(/\./g,"")},WT=function(t){try{return o2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=()=>eS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof Q1>"u")return;const t=Q1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WT(t[1]);return e&&JSON.parse(e)},mp=()=>{try{return XT()||tS()||nS()||rS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sS=t=>mp()?.emulatorHosts?.[t],iS=t=>{const e=sS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},c2=()=>mp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xf(JSON.stringify(n)),Xf(JSON.stringify(c)),""].join(".")}const Ec={};function cS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?t.emulator.push(e):t.prod.push(e);return t}function uS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X1=!1;function fS(t,e){if(typeof window>"u"||typeof document>"u"||!pp(window.location.host)||Ec[t]===e||Ec[t]||X1)return;Ec[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",o=cS().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,_){w.setAttribute("width","24"),w.setAttribute("id",_),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{X1=!0,c()},w}function x(w,_){w.setAttribute("id",_),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=uS(s),_=n("text"),S=document.getElementById(_)||document.createElement("span"),L=n("learnmore"),z=document.getElementById(L)||document.createElement("a"),F=n("preprendIcon"),q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const V=w.element;d(V),x(z,L);const H=m();p(q,F),V.append(q,S,z,H),document.body.appendChild(V)}o?(S.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hS(){const t=mp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return!hS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="FirebaseError";class no extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=xS,Object.setPrototypeOf(this,no.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u2.prototype.create)}}class u2{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?yS(o,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new no(a,d,s)}}function yS(t,e){return t.replace(bS,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const bS=/\{\$([^}]+)}/g;function Kf(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const o=t[a],c=e[a];if(K1(o)&&K1(c)){if(!Kf(o,c))return!1}else if(o!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function K1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){return t&&t._delegate?t._delegate:t}class Ic{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new aS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wS(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_S(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _S(t){return t===Ca?void 0:t}function wS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const ES={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},TS=st.INFO,SS={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},AS=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=SS[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f2{constructor(e){this.name=e,this._logLevel=TS,this._logHandler=AS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ES[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const jS=(t,e)=>e.some(n=>t instanceof n);let Z1,J1;function CS(){return Z1||(Z1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return J1||(J1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d2=new WeakMap,w0=new WeakMap,h2=new WeakMap,Qm=new WeakMap,gp=new WeakMap;function RS(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(ki(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&d2.set(n,t)}).catch(()=>{}),gp.set(e,t),e}function DS(t){if(w0.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});w0.set(t,e)}let N0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IS(t){N0=t(N0)}function MS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Xm(this),e,...n);return h2.set(s,e.sort?e.sort():[e]),ki(s)}:kS().includes(t)?function(...e){return t.apply(Xm(this),e),ki(d2.get(this))}:function(...e){return ki(t.apply(Xm(this),e))}}function OS(t){return typeof t=="function"?MS(t):(t instanceof IDBTransaction&&DS(t),jS(t,CS())?new Proxy(t,N0):t)}function ki(t){if(t instanceof IDBRequest)return RS(t);if(Qm.has(t))return Qm.get(t);const e=OS(t);return e!==t&&(Qm.set(t,e),gp.set(e,t)),e}const Xm=t=>gp.get(t);function VS(t,e,{blocked:n,upgrade:s,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),d=ki(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ki(c.result),p.oldVersion,p.newVersion,ki(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{o&&p.addEventListener("close",()=>o()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const PS=["get","getKey","getAll","getAllKeys","count"],LS=["put","add","delete","clear"],Km=new Map;function W1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=LS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||PS.includes(n)))return;const o=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),a&&p.done]))[0]};return Km.set(e,o),o}IS(t=>({...t,get:(e,n,s)=>W1(e,n)||t.get(e,n,s),has:(e,n)=>!!W1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(US(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function US(t){return t.getComponent()?.type==="VERSION"}const E0="@firebase/app",eb="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new f2("@firebase/app"),BS="@firebase/app-compat",qS="@firebase/analytics-compat",FS="@firebase/analytics",HS="@firebase/app-check-compat",$S="@firebase/app-check",GS="@firebase/auth",YS="@firebase/auth-compat",QS="@firebase/database",XS="@firebase/data-connect",KS="@firebase/database-compat",ZS="@firebase/functions",JS="@firebase/functions-compat",WS="@firebase/installations",e3="@firebase/installations-compat",t3="@firebase/messaging",n3="@firebase/messaging-compat",r3="@firebase/performance",s3="@firebase/performance-compat",i3="@firebase/remote-config",a3="@firebase/remote-config-compat",l3="@firebase/storage",o3="@firebase/storage-compat",c3="@firebase/firestore",u3="@firebase/ai",f3="@firebase/firestore-compat",d3="firebase",h3="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="[DEFAULT]",m3={[E0]:"fire-core",[BS]:"fire-core-compat",[FS]:"fire-analytics",[qS]:"fire-analytics-compat",[$S]:"fire-app-check",[HS]:"fire-app-check-compat",[GS]:"fire-auth",[YS]:"fire-auth-compat",[QS]:"fire-rtdb",[XS]:"fire-data-connect",[KS]:"fire-rtdb-compat",[ZS]:"fire-fn",[JS]:"fire-fn-compat",[WS]:"fire-iid",[e3]:"fire-iid-compat",[t3]:"fire-fcm",[n3]:"fire-fcm-compat",[r3]:"fire-perf",[s3]:"fire-perf-compat",[i3]:"fire-rc",[a3]:"fire-rc-compat",[l3]:"fire-gcs",[o3]:"fire-gcs-compat",[c3]:"fire-fst",[f3]:"fire-fst-compat",[u3]:"fire-vertex","fire-js":"fire-js",[d3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,p3=new Map,S0=new Map;function tb(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jf(t){const e=t.name;if(S0.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;S0.set(e,t);for(const n of Zf.values())tb(n,t);for(const n of p3.values())tb(n,t);return!0}function g3(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function x3(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new u2("app","Firebase",y3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ic("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=h3;function m2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:T0,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ri.create("bad-app-name",{appName:String(a)});if(n||(n=c2()),!n)throw Ri.create("no-options");const o=Zf.get(a);if(o){if(Kf(n,o.options)&&Kf(s,o.config))return o;throw Ri.create("duplicate-app",{appName:a})}const c=new NS(a);for(const p of S0.values())c.addComponent(p);const d=new b3(n,s,c);return Zf.set(a,d),d}function _3(t=T0){const e=Zf.get(t);if(!e&&t===T0&&c2())return m2();if(!e)throw Ri.create("no-app",{appName:t});return e}function Hl(t,e,n){let s=m3[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(c.join(" "));return}Jf(new Ic(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="firebase-heartbeat-database",N3=1,Mc="firebase-heartbeat-store";let Zm=null;function p2(){return Zm||(Zm=VS(w3,N3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),Zm}async function E3(t){try{const n=(await p2()).transaction(Mc),s=await n.objectStore(Mc).get(g2(t));return await n.done,s}catch(e){if(e instanceof no)Gs.warn(e.message);else{const n=Ri.create("idb-get",{originalErrorMessage:e?.message});Gs.warn(n.message)}}}async function nb(t,e){try{const s=(await p2()).transaction(Mc,"readwrite");await s.objectStore(Mc).put(e,g2(t)),await s.done}catch(n){if(n instanceof no)Gs.warn(n.message);else{const s=Ri.create("idb-set",{originalErrorMessage:n?.message});Gs.warn(s.message)}}}function g2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=1024,S3=30;class A3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>S3){const a=k3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rb(),{heartbeatsToSend:n,unsentEntries:s}=j3(this._heartbeatsCache.heartbeats),a=Xf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Gs.warn(e),""}}}function rb(){return new Date().toISOString().substring(0,10)}function j3(t,e=T3){const n=[];let s=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),sb(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class C3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sb(t){return Xf(JSON.stringify({version:2,heartbeats:t})).length}function k3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){Jf(new Ic("platform-logger",e=>new zS(e),"PRIVATE")),Jf(new Ic("heartbeat",e=>new A3(e),"PRIVATE")),Hl(E0,eb,t),Hl(E0,eb,"esm2020"),Hl("fire-js","")}R3("");var ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,x2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,C){function I(){}I.prototype=C.prototype,j.D=C.prototype,j.prototype=new I,j.prototype.constructor=j,j.C=function(A,M,O){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return C.prototype[M].apply(A,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,C,I){I||(I=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;16>M;++M)A[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=j.g[0],I=j.g[1],M=j.g[2];var O=j.g[3],R=C+(O^I&(M^O))+A[0]+3614090360&4294967295;C=I+(R<<7&4294967295|R>>>25),R=O+(M^C&(I^M))+A[1]+3905402710&4294967295,O=C+(R<<12&4294967295|R>>>20),R=M+(I^O&(C^I))+A[2]+606105819&4294967295,M=O+(R<<17&4294967295|R>>>15),R=I+(C^M&(O^C))+A[3]+3250441966&4294967295,I=M+(R<<22&4294967295|R>>>10),R=C+(O^I&(M^O))+A[4]+4118548399&4294967295,C=I+(R<<7&4294967295|R>>>25),R=O+(M^C&(I^M))+A[5]+1200080426&4294967295,O=C+(R<<12&4294967295|R>>>20),R=M+(I^O&(C^I))+A[6]+2821735955&4294967295,M=O+(R<<17&4294967295|R>>>15),R=I+(C^M&(O^C))+A[7]+4249261313&4294967295,I=M+(R<<22&4294967295|R>>>10),R=C+(O^I&(M^O))+A[8]+1770035416&4294967295,C=I+(R<<7&4294967295|R>>>25),R=O+(M^C&(I^M))+A[9]+2336552879&4294967295,O=C+(R<<12&4294967295|R>>>20),R=M+(I^O&(C^I))+A[10]+4294925233&4294967295,M=O+(R<<17&4294967295|R>>>15),R=I+(C^M&(O^C))+A[11]+2304563134&4294967295,I=M+(R<<22&4294967295|R>>>10),R=C+(O^I&(M^O))+A[12]+1804603682&4294967295,C=I+(R<<7&4294967295|R>>>25),R=O+(M^C&(I^M))+A[13]+4254626195&4294967295,O=C+(R<<12&4294967295|R>>>20),R=M+(I^O&(C^I))+A[14]+2792965006&4294967295,M=O+(R<<17&4294967295|R>>>15),R=I+(C^M&(O^C))+A[15]+1236535329&4294967295,I=M+(R<<22&4294967295|R>>>10),R=C+(M^O&(I^M))+A[1]+4129170786&4294967295,C=I+(R<<5&4294967295|R>>>27),R=O+(I^M&(C^I))+A[6]+3225465664&4294967295,O=C+(R<<9&4294967295|R>>>23),R=M+(C^I&(O^C))+A[11]+643717713&4294967295,M=O+(R<<14&4294967295|R>>>18),R=I+(O^C&(M^O))+A[0]+3921069994&4294967295,I=M+(R<<20&4294967295|R>>>12),R=C+(M^O&(I^M))+A[5]+3593408605&4294967295,C=I+(R<<5&4294967295|R>>>27),R=O+(I^M&(C^I))+A[10]+38016083&4294967295,O=C+(R<<9&4294967295|R>>>23),R=M+(C^I&(O^C))+A[15]+3634488961&4294967295,M=O+(R<<14&4294967295|R>>>18),R=I+(O^C&(M^O))+A[4]+3889429448&4294967295,I=M+(R<<20&4294967295|R>>>12),R=C+(M^O&(I^M))+A[9]+568446438&4294967295,C=I+(R<<5&4294967295|R>>>27),R=O+(I^M&(C^I))+A[14]+3275163606&4294967295,O=C+(R<<9&4294967295|R>>>23),R=M+(C^I&(O^C))+A[3]+4107603335&4294967295,M=O+(R<<14&4294967295|R>>>18),R=I+(O^C&(M^O))+A[8]+1163531501&4294967295,I=M+(R<<20&4294967295|R>>>12),R=C+(M^O&(I^M))+A[13]+2850285829&4294967295,C=I+(R<<5&4294967295|R>>>27),R=O+(I^M&(C^I))+A[2]+4243563512&4294967295,O=C+(R<<9&4294967295|R>>>23),R=M+(C^I&(O^C))+A[7]+1735328473&4294967295,M=O+(R<<14&4294967295|R>>>18),R=I+(O^C&(M^O))+A[12]+2368359562&4294967295,I=M+(R<<20&4294967295|R>>>12),R=C+(I^M^O)+A[5]+4294588738&4294967295,C=I+(R<<4&4294967295|R>>>28),R=O+(C^I^M)+A[8]+2272392833&4294967295,O=C+(R<<11&4294967295|R>>>21),R=M+(O^C^I)+A[11]+1839030562&4294967295,M=O+(R<<16&4294967295|R>>>16),R=I+(M^O^C)+A[14]+4259657740&4294967295,I=M+(R<<23&4294967295|R>>>9),R=C+(I^M^O)+A[1]+2763975236&4294967295,C=I+(R<<4&4294967295|R>>>28),R=O+(C^I^M)+A[4]+1272893353&4294967295,O=C+(R<<11&4294967295|R>>>21),R=M+(O^C^I)+A[7]+4139469664&4294967295,M=O+(R<<16&4294967295|R>>>16),R=I+(M^O^C)+A[10]+3200236656&4294967295,I=M+(R<<23&4294967295|R>>>9),R=C+(I^M^O)+A[13]+681279174&4294967295,C=I+(R<<4&4294967295|R>>>28),R=O+(C^I^M)+A[0]+3936430074&4294967295,O=C+(R<<11&4294967295|R>>>21),R=M+(O^C^I)+A[3]+3572445317&4294967295,M=O+(R<<16&4294967295|R>>>16),R=I+(M^O^C)+A[6]+76029189&4294967295,I=M+(R<<23&4294967295|R>>>9),R=C+(I^M^O)+A[9]+3654602809&4294967295,C=I+(R<<4&4294967295|R>>>28),R=O+(C^I^M)+A[12]+3873151461&4294967295,O=C+(R<<11&4294967295|R>>>21),R=M+(O^C^I)+A[15]+530742520&4294967295,M=O+(R<<16&4294967295|R>>>16),R=I+(M^O^C)+A[2]+3299628645&4294967295,I=M+(R<<23&4294967295|R>>>9),R=C+(M^(I|~O))+A[0]+4096336452&4294967295,C=I+(R<<6&4294967295|R>>>26),R=O+(I^(C|~M))+A[7]+1126891415&4294967295,O=C+(R<<10&4294967295|R>>>22),R=M+(C^(O|~I))+A[14]+2878612391&4294967295,M=O+(R<<15&4294967295|R>>>17),R=I+(O^(M|~C))+A[5]+4237533241&4294967295,I=M+(R<<21&4294967295|R>>>11),R=C+(M^(I|~O))+A[12]+1700485571&4294967295,C=I+(R<<6&4294967295|R>>>26),R=O+(I^(C|~M))+A[3]+2399980690&4294967295,O=C+(R<<10&4294967295|R>>>22),R=M+(C^(O|~I))+A[10]+4293915773&4294967295,M=O+(R<<15&4294967295|R>>>17),R=I+(O^(M|~C))+A[1]+2240044497&4294967295,I=M+(R<<21&4294967295|R>>>11),R=C+(M^(I|~O))+A[8]+1873313359&4294967295,C=I+(R<<6&4294967295|R>>>26),R=O+(I^(C|~M))+A[15]+4264355552&4294967295,O=C+(R<<10&4294967295|R>>>22),R=M+(C^(O|~I))+A[6]+2734768916&4294967295,M=O+(R<<15&4294967295|R>>>17),R=I+(O^(M|~C))+A[13]+1309151649&4294967295,I=M+(R<<21&4294967295|R>>>11),R=C+(M^(I|~O))+A[4]+4149444226&4294967295,C=I+(R<<6&4294967295|R>>>26),R=O+(I^(C|~M))+A[11]+3174756917&4294967295,O=C+(R<<10&4294967295|R>>>22),R=M+(C^(O|~I))+A[2]+718787259&4294967295,M=O+(R<<15&4294967295|R>>>17),R=I+(O^(M|~C))+A[9]+3951481745&4294967295,j.g[0]=j.g[0]+C&4294967295,j.g[1]=j.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+M&4294967295,j.g[3]=j.g[3]+O&4294967295}s.prototype.u=function(j,C){C===void 0&&(C=j.length);for(var I=C-this.blockSize,A=this.B,M=this.h,O=0;O<C;){if(M==0)for(;O<=I;)a(this,j,O),O+=this.blockSize;if(typeof j=="string"){for(;O<C;)if(A[M++]=j.charCodeAt(O++),M==this.blockSize){a(this,A),M=0;break}}else for(;O<C;)if(A[M++]=j[O++],M==this.blockSize){a(this,A),M=0;break}}this.h=M,this.o+=C},s.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var C=1;C<j.length-8;++C)j[C]=0;var I=8*this.o;for(C=j.length-8;C<j.length;++C)j[C]=I&255,I/=256;for(this.u(j),j=Array(16),C=I=0;4>C;++C)for(var A=0;32>A;A+=8)j[I++]=this.g[C]>>>A&255;return j};function o(j,C){var I=d;return Object.prototype.hasOwnProperty.call(I,j)?I[j]:I[j]=C(j)}function c(j,C){this.h=C;for(var I=[],A=!0,M=j.length-1;0<=M;M--){var O=j[M]|0;A&&O==C||(I[M]=O,A=!1)}this.g=I}var d={};function p(j){return-128<=j&&128>j?o(j,function(C){return new c([C|0],0>C?-1:0)}):new c([j|0],0>j?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return b;if(0>j)return z(m(-j));for(var C=[],I=1,A=0;j>=I;A++)C[A]=j/I|0,I*=4294967296;return new c(C,0)}function x(j,C){if(j.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(j.charAt(0)=="-")return z(x(j.substring(1),C));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(C,8)),A=b,M=0;M<j.length;M+=8){var O=Math.min(8,j.length-M),R=parseInt(j.substring(M,M+O),C);8>O?(O=m(Math.pow(C,O)),A=A.j(O).add(m(R))):(A=A.j(I),A=A.add(m(R)))}return A}var b=p(0),w=p(1),_=p(16777216);t=c.prototype,t.m=function(){if(L(this))return-z(this).m();for(var j=0,C=1,I=0;I<this.g.length;I++){var A=this.i(I);j+=(0<=A?A:4294967296+A)*C,C*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(S(this))return"0";if(L(this))return"-"+z(this).toString(j);for(var C=m(Math.pow(j,6)),I=this,A="";;){var M=H(I,C).g;I=F(I,M.j(C));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(j);if(I=M,S(I))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function S(j){if(j.h!=0)return!1;for(var C=0;C<j.g.length;C++)if(j.g[C]!=0)return!1;return!0}function L(j){return j.h==-1}t.l=function(j){return j=F(this,j),L(j)?-1:S(j)?0:1};function z(j){for(var C=j.g.length,I=[],A=0;A<C;A++)I[A]=~j.g[A];return new c(I,~j.h).add(w)}t.abs=function(){return L(this)?z(this):this},t.add=function(j){for(var C=Math.max(this.g.length,j.g.length),I=[],A=0,M=0;M<=C;M++){var O=A+(this.i(M)&65535)+(j.i(M)&65535),R=(O>>>16)+(this.i(M)>>>16)+(j.i(M)>>>16);A=R>>>16,O&=65535,R&=65535,I[M]=R<<16|O}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(j,C){return j.add(z(C))}t.j=function(j){if(S(this)||S(j))return b;if(L(this))return L(j)?z(this).j(z(j)):z(z(this).j(j));if(L(j))return z(this.j(z(j)));if(0>this.l(_)&&0>j.l(_))return m(this.m()*j.m());for(var C=this.g.length+j.g.length,I=[],A=0;A<2*C;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<j.g.length;M++){var O=this.i(A)>>>16,R=this.i(A)&65535,ae=j.i(M)>>>16,xe=j.i(M)&65535;I[2*A+2*M]+=R*xe,q(I,2*A+2*M),I[2*A+2*M+1]+=O*xe,q(I,2*A+2*M+1),I[2*A+2*M+1]+=R*ae,q(I,2*A+2*M+1),I[2*A+2*M+2]+=O*ae,q(I,2*A+2*M+2)}for(A=0;A<C;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=C;A<2*C;A++)I[A]=0;return new c(I,0)};function q(j,C){for(;(j[C]&65535)!=j[C];)j[C+1]+=j[C]>>>16,j[C]&=65535,C++}function V(j,C){this.g=j,this.h=C}function H(j,C){if(S(C))throw Error("division by zero");if(S(j))return new V(b,b);if(L(j))return C=H(z(j),C),new V(z(C.g),z(C.h));if(L(C))return C=H(j,z(C)),new V(z(C.g),C.h);if(30<j.g.length){if(L(j)||L(C))throw Error("slowDivide_ only works with positive integers.");for(var I=w,A=C;0>=A.l(j);)I=B(I),A=B(A);var M=U(I,1),O=U(A,1);for(A=U(A,2),I=U(I,2);!S(A);){var R=O.add(A);0>=R.l(j)&&(M=M.add(I),O=R),A=U(A,1),I=U(I,1)}return C=F(j,M.j(C)),new V(M,C)}for(M=b;0<=j.l(C);){for(I=Math.max(1,Math.floor(j.m()/C.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=m(I),R=O.j(C);L(R)||0<R.l(j);)I-=A,O=m(I),R=O.j(C);S(O)&&(O=w),M=M.add(O),j=F(j,R)}return new V(M,j)}t.A=function(j){return H(this,j).h},t.and=function(j){for(var C=Math.max(this.g.length,j.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)&j.i(A);return new c(I,this.h&j.h)},t.or=function(j){for(var C=Math.max(this.g.length,j.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)|j.i(A);return new c(I,this.h|j.h)},t.xor=function(j){for(var C=Math.max(this.g.length,j.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)^j.i(A);return new c(I,this.h^j.h)};function B(j){for(var C=j.g.length+1,I=[],A=0;A<C;A++)I[A]=j.i(A)<<1|j.i(A-1)>>>31;return new c(I,j.h)}function U(j,C){var I=C>>5;C%=32;for(var A=j.g.length-I,M=[],O=0;O<A;O++)M[O]=0<C?j.i(O+I)>>>C|j.i(O+I+1)<<32-C:j.i(O+I);return new c(M,j.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,x2=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=x,Di=c}).apply(typeof ib<"u"?ib:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y2,vc,b2,Bf,A0,v2,_2,w2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,N){return h==Array.prototype||h==Object.prototype||(h[v]=N.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var v=0;v<h.length;++v){var N=h[v];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var N=s;h=h.split(".");for(var P=0;P<h.length-1;P++){var K=h[P];if(!(K in N))break e;N=N[K]}h=h[h.length-1],P=N[h],v=v(P),v!=P&&v!=null&&e(N,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var N=0,P=!1,K={next:function(){if(!P&&N<h.length){var ie=N++;return{value:v(ie,h[ie]),done:!1}}return P=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(h){return h||function(){return o(this,function(v,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function x(h,v,N){return h.call.apply(h.bind,arguments)}function b(h,v,N){if(!h)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,P),h.apply(v,K)}}return function(){return h.apply(v,arguments)}}function w(h,v,N){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:b,w.apply(null,arguments)}function _(h,v){var N=Array.prototype.slice.call(arguments,1);return function(){var P=N.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function S(h,v){function N(){}N.prototype=v.prototype,h.aa=v.prototype,h.prototype=new N,h.prototype.constructor=h,h.Qb=function(P,K,ie){for(var we=Array(arguments.length-2),et=2;et<arguments.length;et++)we[et-2]=arguments[et];return v.prototype[K].apply(P,we)}}function L(h){const v=h.length;if(0<v){const N=Array(v);for(let P=0;P<v;P++)N[P]=h[P];return N}return[]}function z(h,v){for(let N=1;N<arguments.length;N++){const P=arguments[N];if(p(P)){const K=h.length||0,ie=P.length||0;h.length=K+ie;for(let we=0;we<ie;we++)h[K+we]=P[we]}else h.push(P)}}class F{constructor(v,N){this.i=v,this.j=N,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(h){return/^[\s\xa0]*$/.test(h)}function V(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function H(h){return H[" "](h),h}H[" "]=function(){};var B=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function U(h,v,N){for(const P in h)v.call(N,h[P],P,h)}function j(h,v){for(const N in h)v.call(void 0,h[N],N,h)}function C(h){const v={};for(const N in h)v[N]=h[N];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(h,v){let N,P;for(let K=1;K<arguments.length;K++){P=arguments[K];for(N in P)h[N]=P[N];for(let ie=0;ie<I.length;ie++)N=I[ie],Object.prototype.hasOwnProperty.call(P,N)&&(h[N]=P[N])}}function M(h){var v=1;h=h.split(":");const N=[];for(;0<v&&h.length;)N.push(h.shift()),v--;return h.length&&N.push(h.join(":")),N}function O(h){d.setTimeout(()=>{throw h},0)}function R(){var h=ye;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ae{constructor(){this.h=this.g=null}add(v,N){const P=xe.get();P.set(v,N),this.h?this.h.next=P:this.g=P,this.h=P}}var xe=new F(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,N){this.h=v,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,re=!1,ye=new ae,E=()=>{const h=d.Promise.resolve(void 0);fe=()=>{h.then(se)}};var se=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(N){O(N)}var v=xe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}re=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};d.addEventListener("test",N,v),d.removeEventListener("test",N,v)}catch{}return h})();function ve(h,v){if(k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var N=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(B){e:{try{H(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else N=="mouseover"?v=h.fromElement:N=="mouseout"&&(v=h.toElement);this.relatedTarget=v,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ve.aa.h.call(this)}}S(ve,k);var le={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Se=0;function xt(h,v,N,P,K){this.listener=h,this.proxy=null,this.src=v,this.type=N,this.capture=!!P,this.ha=K,this.key=++Se,this.da=this.fa=!1}function Ne(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Fe(h){this.src=h,this.g={},this.h=0}Fe.prototype.add=function(h,v,N,P,K){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var we=Kt(h,v,P,K);return-1<we?(v=h[we],N||(v.fa=!1)):(v=new xt(v,this.src,ie,!!P,K),v.fa=N,h.push(v)),v};function Tt(h,v){var N=v.type;if(N in h.g){var P=h.g[N],K=Array.prototype.indexOf.call(P,v,void 0),ie;(ie=0<=K)&&Array.prototype.splice.call(P,K,1),ie&&(Ne(v),h.g[N].length==0&&(delete h.g[N],h.h--))}}function Kt(h,v,N,P){for(var K=0;K<h.length;++K){var ie=h[K];if(!ie.da&&ie.listener==v&&ie.capture==!!N&&ie.ha==P)return K}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),Fn={};function Br(h,v,N,P,K){if(Array.isArray(v)){for(var ie=0;ie<v.length;ie++)Br(h,v[ie],N,P,K);return null}return N=xs(N),h&&h[_e]?h.K(v,N,m(P)?!!P.capture:!1,K):Dt(h,v,N,!1,P,K)}function Dt(h,v,N,P,K,ie){if(!v)throw Error("Invalid event type");var we=m(K)?!!K.capture:!!K,et=hr(h);if(et||(h[dn]=et=new Fe(h)),N=et.add(v,N,P,we,ie),N.proxy)return N;if(P=qr(),N.proxy=P,P.src=h,P.listener=N,h.addEventListener)oe||(K=we),K===void 0&&(K=!1),h.addEventListener(v.toString(),P,K);else if(h.attachEvent)h.attachEvent(dr(v.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return N}function qr(){function h(N){return v.call(h.src,h.listener,N)}const v=Yi;return h}function fr(h,v,N,P,K){if(Array.isArray(v))for(var ie=0;ie<v.length;ie++)fr(h,v[ie],N,P,K);else P=m(P)?!!P.capture:!!P,N=xs(N),h&&h[_e]?(h=h.i,v=String(v).toString(),v in h.g&&(ie=h.g[v],N=Kt(ie,N,P,K),-1<N&&(Ne(ie[N]),Array.prototype.splice.call(ie,N,1),ie.length==0&&(delete h.g[v],h.h--)))):h&&(h=hr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Kt(v,N,P,K)),(N=-1<h?v[h]:null)&&Hn(N))}function Hn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[_e])Tt(v.i,h);else{var N=h.type,P=h.proxy;v.removeEventListener?v.removeEventListener(N,P,h.capture):v.detachEvent?v.detachEvent(dr(N),P):v.addListener&&v.removeListener&&v.removeListener(P),(N=hr(v))?(Tt(N,h),N.h==0&&(N.src=null,v[dn]=null)):Ne(h)}}}function dr(h){return h in Fn?Fn[h]:Fn[h]="on"+h}function Yi(h,v){if(h.da)h=!0;else{v=new ve(v,this);var N=h.listener,P=h.ha||h.src;h.fa&&Hn(h),h=N.call(P,v)}return h}function hr(h){return h=h[dn],h instanceof Fe?h:null}var $n="__closure_events_fn_"+(1e9*Math.random()>>>0);function xs(h){return typeof h=="function"?h:(h[$n]||(h[$n]=function(v){return h.handleEvent(v)}),h[$n])}function te(){W.call(this),this.i=new Fe(this),this.M=this,this.F=null}S(te,W),te.prototype[_e]=!0,te.prototype.removeEventListener=function(h,v,N,P){fr(this,h,v,N,P)};function me(h,v){var N,P=h.F;if(P)for(N=[];P;P=P.F)N.push(P);if(h=h.M,P=v.type||v,typeof v=="string")v=new k(v,h);else if(v instanceof k)v.target=v.target||h;else{var K=v;v=new k(P,h),A(v,K)}if(K=!0,N)for(var ie=N.length-1;0<=ie;ie--){var we=v.g=N[ie];K=ke(we,P,!0,v)&&K}if(we=v.g=h,K=ke(we,P,!0,v)&&K,K=ke(we,P,!1,v)&&K,N)for(ie=0;ie<N.length;ie++)we=v.g=N[ie],K=ke(we,P,!1,v)&&K}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var N=h.g[v],P=0;P<N.length;P++)Ne(N[P]);delete h.g[v],h.h--}}this.F=null},te.prototype.K=function(h,v,N,P){return this.i.add(String(h),v,!1,N,P)},te.prototype.L=function(h,v,N,P){return this.i.add(String(h),v,!0,N,P)};function ke(h,v,N,P){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,ie=0;ie<v.length;++ie){var we=v[ie];if(we&&!we.da&&we.capture==N){var et=we.listener,Jt=we.ha||we.src;we.fa&&Tt(h.i,we),K=et.call(Jt,P)!==!1&&K}}return K&&!P.defaultPrevented}function De(h,v,N){if(typeof h=="function")N&&(h=w(h,N));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Ge(h){h.g=De(()=>{h.g=null,h.i&&(h.i=!1,Ge(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class hn extends W{constructor(v,N){super(),this.m=v,this.l=N,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(h){W.call(this),this.h=h,this.g={}}S(rn,W);var Zt=[];function Tn(h){U(h.g,function(v,N){this.g.hasOwnProperty(N)&&Hn(v)},h),h.g={}}rn.prototype.N=function(){rn.aa.N.call(this),Tn(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bt=d.JSON.stringify,jt=d.JSON.parse,Sn=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function mn(){}mn.prototype.h=null;function Qi(h){return h.h||(h.h=h.i())}function Xi(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){k.call(this,"d")}S(kr,k);function Ki(){k.call(this,"c")}S(Ki,k);var mr={},Zi=null;function Rr(){return Zi=Zi||new te}mr.La="serverreachability";function ys(h){k.call(this,mr.La,h)}S(ys,k);function Fr(h){const v=Rr();me(v,new ys(v))}mr.STAT_EVENT="statevent";function Ga(h,v){k.call(this,mr.STAT_EVENT,h),this.stat=v}S(Ga,k);function vt(h){const v=Rr();me(v,new Ga(v,h))}mr.Ma="timingevent";function _t(h,v){k.call(this,mr.Ma,h),this.size=v}S(_t,k);function ce(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Ue(){this.g=!0}Ue.prototype.xa=function(){this.g=!1};function St(h,v,N,P,K,ie){h.info(function(){if(h.g)if(ie)for(var we="",et=ie.split("&"),Jt=0;Jt<et.length;Jt++){var tt=et[Jt].split("=");if(1<tt.length){var an=tt[0];tt=tt[1];var Wt=an.split("_");we=2<=Wt.length&&Wt[1]=="type"?we+(an+"="+tt+"&"):we+(an+"=redacted&")}}else we=null;else we=ie;return"XMLHTTP REQ ("+P+") [attempt "+K+"]: "+v+`
`+N+`
`+we})}function Ji(h,v,N,P,K,ie,we){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+K+"]: "+v+`
`+N+`
`+ie+" "+we})}function Zs(h,v,N,P){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Wi(h,N)+(P?" "+P:"")})}function uu(h,v){h.info(function(){return"TIMEOUT: "+v})}Ue.prototype.info=function(){};function Wi(h,v){if(!h.g)return v;if(!v)return null;try{var N=JSON.parse(v);if(N){for(h=0;h<N.length;h++)if(Array.isArray(N[h])){var P=N[h];if(!(2>P.length)){var K=P[1];if(Array.isArray(K)&&!(1>K.length)){var ie=K[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var we=1;we<K.length;we++)K[we]=""}}}}return Bt(N)}catch{return v}}var Js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hr;function $r(){}S($r,mn),$r.prototype.g=function(){return new XMLHttpRequest},$r.prototype.i=function(){return{}},Hr=new $r;function On(h,v,N,P){this.j=h,this.i=v,this.l=N,this.R=P||1,this.U=new rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pt}function Pt(){this.i=null,this.g="",this.h=!1}var ho={},Ya={};function Dr(h,v,N){h.L=1,h.v=sa(er(v)),h.m=N,h.P=!0,vs(h,null)}function vs(h,v){h.F=Date.now(),ea(h),h.A=er(h.v);var N=h.A,P=h.R;Array.isArray(P)||(P=[String(P)]),bo(N.i,"t",P),h.C=0,N=h.j.J,h.h=new Pt,h.g=Su(h.j,N?v:null,!h.m),0<h.O&&(h.M=new hn(w(h.Y,h,h.g),h.O)),v=h.U,N=h.g,P=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(Zt[0]=K.toString()),K=Zt);for(var ie=0;ie<K.length;ie++){var we=Br(N,K[ie],P||v.handleEvent,!1,v.h||v);if(!we)break;v.g[we.key]=we}v=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Fr(),St(h.i,h.u,h.A,h.l,h.R,h.m)}On.prototype.ca=function(h){h=h.target;const v=this.M;v&&yr(h)==3?v.j():this.Y(h)},On.prototype.Y=function(h){try{if(h==this.g)e:{const Wt=yr(this.g);var v=this.g.Ba();const js=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||Wt!=4||v==7||(v==8||0>=js?Fr(3):Fr(2)),Ws(this);var N=this.g.Z();this.X=N;t:if(fu(this)){var P=yu(this.g);h="";var K=P.length,ie=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Gr(this);var we="";break t}this.h.i=new d.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,h+=this.h.i.decode(P[v],{stream:!(ie&&v==K-1)});P.length=0,this.h.g+=h,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=N==200,Ji(this.i,this.u,this.A,this.l,this.R,Wt,N),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Jt=this.g;if((et=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(et)){var tt=et;break t}}tt=null}if(N=tt)Zs(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ta(this,N);else{this.o=!1,this.s=3,vt(12),pn(this),Gr(this);break e}}if(this.P){N=!0;let gn;for(;!this.J&&this.C<we.length;)if(gn=du(this,we),gn==Ya){Wt==4&&(this.s=4,vt(14),N=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==ho){this.s=4,vt(15),Zs(this.i,this.l,we,"[Invalid Chunk]"),N=!1;break}else Zs(this.i,this.l,gn,null),ta(this,gn);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||we.length!=0||this.h.h||(this.s=1,vt(16),N=!1),this.o=this.o&&N,!N)Zs(this.i,this.l,we,"[Invalid Chunked Response]"),pn(this),Gr(this);else if(0<we.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),da(an),an.M=!0,vt(11))}}else Zs(this.i,this.l,we,null),ta(this,we);Wt==4&&pn(this),this.o&&!this.J&&(Wt==4?Nu(this.j,this):(this.o=!1,ea(this)))}else Kd(this.g),N==400&&0<we.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),pn(this),Gr(this)}}}catch{}finally{}};function fu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function du(h,v){var N=h.C,P=v.indexOf(`
`,N);return P==-1?Ya:(N=Number(v.substring(N,P)),isNaN(N)?ho:(P+=1,P+N>v.length?Ya:(v=v.slice(P,P+N),h.C=P+N,v)))}On.prototype.cancel=function(){this.J=!0,pn(this)};function ea(h){h.S=Date.now()+h.I,hu(h,h.I)}function hu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ce(w(h.ba,h),v)}function Ws(h){h.B&&(d.clearTimeout(h.B),h.B=null)}On.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(uu(this.i,this.A),this.L!=2&&(Fr(),vt(17)),pn(this),this.s=2,Gr(this)):hu(this,this.S-h)};function Gr(h){h.j.G==0||h.J||Nu(h.j,h)}function pn(h){Ws(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Tn(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function ta(h,v){try{var N=h.j;if(N.G!=0&&(N.g==h||mo(N.h,h))){if(!h.K&&mo(N.h,h)&&N.G==3){try{var P=N.Da.g.parse(v)}catch{P=null}if(Array.isArray(P)&&P.length==3){var K=P;if(K[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<h.F)il(N),rl(N);else break e;Eo(N),vt(18)}}else N.za=K[1],0<N.za-N.T&&37500>K[2]&&N.F&&N.v==0&&!N.C&&(N.C=ce(w(N.Za,N),6e3));if(1>=Xa(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else As(N,11)}else if((h.K||N.g==h)&&il(N),!q(v))for(K=N.Da.g.parse(v),v=0;v<K.length;v++){let tt=K[v];if(N.T=tt[0],tt=tt[1],N.G==2)if(tt[0]=="c"){N.K=tt[1],N.ia=tt[2];const an=tt[3];an!=null&&(N.la=an,N.j.info("VER="+N.la));const Wt=tt[4];Wt!=null&&(N.Aa=Wt,N.j.info("SVER="+N.Aa));const js=tt[5];js!=null&&typeof js=="number"&&0<js&&(P=1.5*js,N.L=P,N.j.info("backChannelRequestTimeoutMs_="+P)),P=N;const gn=h.g;if(gn){const Wr=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wr){var ie=P.h;ie.g||Wr.indexOf("spdy")==-1&&Wr.indexOf("quic")==-1&&Wr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Ka(ie,ie.h),ie.h=null))}if(P.D){const So=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(P.ya=So,dt(P.I,P.D,So))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-h.F,N.j.info("Handshake RTT: "+N.R+"ms")),P=N;var we=h;if(P.qa=Tu(P,P.J?P.ia:null,P.W),we.K){Vn(P.h,we);var et=we,Jt=P.L;Jt&&(et.I=Jt),et.B&&(Ws(et),ea(et)),P.g=we}else _u(P);0<N.i.length&&sl(N)}else tt[0]!="stop"&&tt[0]!="close"||As(N,7);else N.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?As(N,7):wo(N):tt[0]!="noop"&&N.l&&N.l.ta(tt),N.v=0)}}Fr(4)}catch{}}var mu=class{constructor(h,v){this.g=h,this.map=v}};function _s(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xa(h){return h.h?1:h.g?h.g.size:0}function mo(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ka(h,v){h.g?h.g.add(v):h.h=v}function Vn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}_s.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function po(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const N of h.g.values())v=v.concat(N.D);return v}return L(h.i)}function Gd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],N=h.length,P=0;P<N;P++)v.push(h[P]);return v}v=[],N=0;for(P in h)v[N++]=h[P];return v}function Za(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var N=0;N<h;N++)v.push(N);return v}v=[],N=0;for(const P in h)v[N++]=P;return v}}}function go(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var N=Za(h),P=Gd(h),K=P.length,ie=0;ie<K;ie++)v.call(void 0,P[ie],N&&N[ie],h)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yd(h,v){if(h){h=h.split("&");for(var N=0;N<h.length;N++){var P=h[N].indexOf("="),K=null;if(0<=P){var ie=h[N].substring(0,P);K=h[N].substring(P+1)}else ie=h[N];v(ie,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function qt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof qt){this.h=h.h,ra(this,h.j),this.o=h.o,this.g=h.g,ei(this,h.s),this.l=h.l;var v=h.i,N=new Ns;N.i=v.i,v.g&&(N.g=new Map(v.g),N.h=v.h),ws(this,N),this.m=h.m}else h&&(v=String(h).match(na))?(this.h=!1,ra(this,v[1]||"",!0),this.o=pr(v[2]||""),this.g=pr(v[3]||"",!0),ei(this,v[4]),this.l=pr(v[5]||"",!0),ws(this,v[6]||"",!0),this.m=pr(v[7]||"")):(this.h=!1,this.i=new Ns(null,this.h))}qt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(ia(v,xo,!0),":");var N=this.g;return(N||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ia(v,xo,!0),"@"),h.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&h.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(ia(N,N.charAt(0)=="/"?Qd:yo,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",ia(N,Ja)),h.join("")};function er(h){return new qt(h)}function ra(h,v,N){h.j=N?pr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ei(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ws(h,v,N){v instanceof Ns?(h.i=v,gu(h.i,h.h)):(N||(v=ia(v,Xd)),h.i=new Ns(v,h.h))}function dt(h,v,N){h.i.set(v,N)}function sa(h){return dt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function pr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ia(h,v,N){return typeof h=="string"?(h=encodeURI(h).replace(v,pu),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xo=/[#\/\?@]/g,yo=/[#\?:]/g,Qd=/[#\?]/g,Xd=/[#\?@]/g,Ja=/#/g;function Ns(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function gr(h){h.g||(h.g=new Map,h.h=0,h.i&&Yd(h.i,function(v,N){h.add(decodeURIComponent(v.replace(/\+/g," ")),N)}))}t=Ns.prototype,t.add=function(h,v){gr(this),this.i=null,h=Yr(this,h);var N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(v),this.h+=1,this};function Es(h,v){gr(h),v=Yr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ts(h,v){return gr(h),v=Yr(h,v),h.g.has(v)}t.forEach=function(h,v){gr(this),this.g.forEach(function(N,P){N.forEach(function(K){h.call(v,K,P,this)},this)},this)},t.na=function(){gr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),N=[];for(let P=0;P<v.length;P++){const K=h[P];for(let ie=0;ie<K.length;ie++)N.push(v[P])}return N},t.V=function(h){gr(this);let v=[];if(typeof h=="string")Ts(this,h)&&(v=v.concat(this.g.get(Yr(this,h))));else{h=Array.from(this.g.values());for(let N=0;N<h.length;N++)v=v.concat(h[N])}return v},t.set=function(h,v){return gr(this),this.i=null,h=Yr(this,h),Ts(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function bo(h,v,N){Es(h,v),0<N.length&&(h.i=null,h.g.set(Yr(h,v),L(N)),h.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var N=0;N<v.length;N++){var P=v[N];const ie=encodeURIComponent(String(P)),we=this.V(P);for(P=0;P<we.length;P++){var K=ie;we[P]!==""&&(K+="="+encodeURIComponent(String(we[P]))),h.push(K)}}return this.i=h.join("&")};function Yr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function gu(h,v){v&&!h.j&&(gr(h),h.i=null,h.g.forEach(function(N,P){var K=P.toLowerCase();P!=K&&(Es(this,P),bo(this,K,N))},h)),h.j=v}function aa(h,v){const N=new Ue;if(d.Image){const P=new Image;P.onload=_(xr,N,"TestLoadImage: loaded",!0,v,P),P.onerror=_(xr,N,"TestLoadImage: error",!1,v,P),P.onabort=_(xr,N,"TestLoadImage: abort",!1,v,P),P.ontimeout=_(xr,N,"TestLoadImage: timeout",!1,v,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else v(!1)}function Ir(h,v){const N=new Ue,P=new AbortController,K=setTimeout(()=>{P.abort(),xr(N,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:P.signal}).then(ie=>{clearTimeout(K),ie.ok?xr(N,"TestPingServer: ok",!0,v):xr(N,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),xr(N,"TestPingServer: error",!1,v)})}function xr(h,v,N,P,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),P(N)}catch{}}function la(){this.g=new Sn}function Qr(h,v,N){const P=N||"";try{go(h,function(K,ie){let we=K;m(K)&&(we=Bt(K)),v.push(P+ie+"="+encodeURIComponent(we))})}catch(K){throw v.push(P+"type="+encodeURIComponent("_badmap")),K}}function ti(h){this.l=h.Ub||null,this.j=h.eb||!1}S(ti,mn),ti.prototype.g=function(){return new Ss(this.l,this.j)},ti.prototype.i=(function(h){return function(){return h}})({});function Ss(h,v){te.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ss,te),t=Ss.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Kr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Xr(this):Kr(this),this.readyState==3&&vo(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Xr(this))},t.Qa=function(h){this.g&&(this.response=h,Xr(this))},t.ga=function(){this.g&&Xr(this)};function Xr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Kr(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var N=v.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=v.next();return h.join(`\r
`)};function Kr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function _o(h){let v="";return U(h,function(N,P){v+=P,v+=":",v+=N,v+=`\r
`}),v}function sn(h,v,N){e:{for(P in N){var P=!1;break e}P=!0}P||(N=_o(N),typeof h=="string"?N!=null&&encodeURIComponent(String(N)):dt(h,v,N))}function ot(h){te.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ot,te);var Wa=/^https?$/i,oa=["POST","PUT"];t=ot.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,N,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hr.g(),this.v=this.o?Qi(this.o):Qi(Hr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ie){xu(this,ie);return}if(h=N||"",N=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var K in P)N.set(K,P[K]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ie of P.keys())N.set(ie,P.get(ie));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(N.keys()).find(ie=>ie.toLowerCase()=="content-type"),K=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(oa,v,void 0))||P||K||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,we]of N)this.g.setRequestHeader(ie,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ca(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){xu(this,ie)}};function xu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,el(h),Zr(h)}function el(h){h.A||(h.A=!0,me(h,"complete"),me(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,me(this,"complete"),me(this,"abort"),Zr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tl(this):this.bb())},t.bb=function(){tl(this)};function tl(h){if(h.h&&typeof c<"u"&&(!h.v[1]||yr(h)!=4||h.Z()!=2)){if(h.u&&yr(h)==4)De(h.Ea,0,h);else if(me(h,"readystatechange"),yr(h)==4){h.h=!1;try{const we=h.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var N;if(!(N=v)){var P;if(P=we===0){var K=String(h.D).match(na)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),P=!Wa.test(K?K.toLowerCase():"")}N=P}if(N)me(h,"complete"),me(h,"success");else{h.m=6;try{var ie=2<yr(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",el(h)}}finally{Zr(h)}}}}function Zr(h,v){if(h.g){ca(h);const N=h.g,P=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||me(h,"ready");try{N.onreadystatechange=P}catch{}}}function ca(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function yr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),jt(v)}};function yu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Kd(h){const v={};h=(h.g&&2<=yr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(q(h[P]))continue;var N=M(h[P]);const K=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ie=v[K]||[];v[K]=ie,ie.push(N)}j(v,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(h,v,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||v}function nl(h){this.Aa=0,this.i=[],this.j=new Ue,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,h),this.cb=ua("retryDelaySeedMs",1e4,h),this.Wa=ua("forwardChannelMaxRetries",2,h),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(h&&h.concurrentRequestLimit),this.Da=new la,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nl.prototype,t.la=8,t.G=1,t.connect=function(h,v,N,P){vt(0),this.W=h,this.H=v||{},N&&P!==void 0&&(this.H.OSID=N,this.H.OAID=P),this.F=this.X,this.I=Tu(this,null,this.W),sl(this)};function wo(h){if(bu(h),h.G==3){var v=h.U++,N=er(h.I);if(dt(N,"SID",h.K),dt(N,"RID",v),dt(N,"TYPE","terminate"),fa(h,N),v=new On(h,h.j,v),v.L=2,v.v=sa(er(N)),N=!1,d.navigator&&d.navigator.sendBeacon)try{N=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!N&&d.Image&&(new Image().src=v.v,N=!0),N||(v.g=Su(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ea(v)}Eu(h)}function rl(h){h.g&&(da(h),h.g.cancel(),h.g=null)}function bu(h){rl(h),h.u&&(d.clearTimeout(h.u),h.u=null),il(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function sl(h){if(!Qa(h.h)&&!h.s){h.s=!0;var v=h.Ga;fe||E(),re||(fe(),re=!0),ye.add(v,h),h.B=0}}function Zd(h,v){return Xa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ce(w(h.Ga,h,v),To(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new On(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=C(ie),A(ie,this.S)):ie=this.S),this.m!==null||this.O||(K.H=ie,ie=null),this.P)e:{for(var v=0,N=0;N<this.i.length;N++){t:{var P=this.i[N];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(v+=P,4096<v){v=N;break e}if(v===4096||N===this.i.length-1){v=N+1;break e}}v=1e3}else v=1e3;v=vu(this,K,v),N=er(this.I),dt(N,"RID",h),dt(N,"CVER",22),this.D&&dt(N,"X-HTTP-Session-Id",this.D),fa(this,N),ie&&(this.O?v="headers="+encodeURIComponent(String(_o(ie)))+"&"+v:this.m&&sn(N,this.m,ie)),Ka(this.h,K),this.Ua&&dt(N,"TYPE","init"),this.P?(dt(N,"$req",v),dt(N,"SID","null"),K.T=!0,Dr(K,N,null)):Dr(K,N,v),this.G=2}}else this.G==3&&(h?No(this,h):this.i.length==0||Qa(this.h)||No(this))};function No(h,v){var N;v?N=v.l:N=h.U++;const P=er(h.I);dt(P,"SID",h.K),dt(P,"RID",N),dt(P,"AID",h.T),fa(h,P),h.m&&h.o&&sn(P,h.m,h.o),N=new On(h,h.j,N,h.B+1),h.m===null&&(N.H=h.o),v&&(h.i=v.D.concat(h.i)),v=vu(h,N,1e3),N.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ka(h.h,N),Dr(N,P,v)}function fa(h,v){h.H&&U(h.H,function(N,P){dt(v,P,N)}),h.l&&go({},function(N,P){dt(v,P,N)})}function vu(h,v,N){N=Math.min(h.i.length,N);var P=h.l?w(h.l.Na,h.l,h):null;e:{var K=h.i;let ie=-1;for(;;){const we=["count="+N];ie==-1?0<N?(ie=K[0].g,we.push("ofs="+ie)):ie=0:we.push("ofs="+ie);let et=!0;for(let Jt=0;Jt<N;Jt++){let tt=K[Jt].g;const an=K[Jt].map;if(tt-=ie,0>tt)ie=Math.max(0,K[Jt].g-100),et=!1;else try{Qr(an,we,"req"+tt+"_")}catch{P&&P(an)}}if(et){P=we.join("&");break e}}}return h=h.i.splice(0,N),v.D=h,P}function _u(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;fe||E(),re||(fe(),re=!0),ye.add(v,h),h.v=0}}function Eo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ce(w(h.Fa,h),To(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ce(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),rl(this),wu(this))};function da(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function wu(h){h.g=new On(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=er(h.qa);dt(v,"RID","rpc"),dt(v,"SID",h.K),dt(v,"AID",h.T),dt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&dt(v,"TO",h.ja),dt(v,"TYPE","xmlhttp"),fa(h,v),h.m&&h.o&&sn(v,h.m,h.o),h.L&&(h.g.I=h.L);var N=h.g;h=h.ia,N.L=1,N.v=sa(er(v)),N.m=null,N.P=!0,vs(N,h)}t.Za=function(){this.C!=null&&(this.C=null,rl(this),Eo(this),vt(19))};function il(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Nu(h,v){var N=null;if(h.g==v){il(h),da(h),h.g=null;var P=2}else if(mo(h.h,v))N=v.D,Vn(h.h,v),P=1;else return;if(h.G!=0){if(v.o)if(P==1){N=v.m?v.m.length:0,v=Date.now()-v.F;var K=h.B;P=Rr(),me(P,new _t(P,N)),sl(h)}else _u(h);else if(K=v.s,K==3||K==0&&0<v.X||!(P==1&&Zd(h,v)||P==2&&Eo(h)))switch(N&&0<N.length&&(v=h.h,v.i=v.i.concat(N)),K){case 1:As(h,5);break;case 4:As(h,10);break;case 3:As(h,6);break;default:As(h,2)}}}function To(h,v){let N=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(N*=2),N*v}function As(h,v){if(h.j.info("Error code "+v),v==2){var N=w(h.fb,h),P=h.Xa;const K=!P;P=new qt(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ra(P,"https"),sa(P),K?aa(P.toString(),N):Ir(P.toString(),N)}else vt(2);h.G=0,h.l&&h.l.sa(v),Eu(h),bu(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Eu(h){if(h.G=0,h.ka=[],h.l){const v=po(h.h);(v.length!=0||h.i.length!=0)&&(z(h.ka,v),z(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Tu(h,v,N){var P=N instanceof qt?er(N):new qt(N);if(P.g!="")v&&(P.g=v+"."+P.g),ei(P,P.s);else{var K=d.location;P=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var ie=new qt(null);P&&ra(ie,P),v&&(ie.g=v),K&&ei(ie,K),N&&(ie.l=N),P=ie}return N=h.D,v=h.ya,N&&v&&dt(P,N,v),dt(P,"VER",h.la),fa(h,P),P}function Su(h,v,N){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ot(new ti({eb:N})):new ot(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}t=Au.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function al(){}al.prototype.g=function(h,v){return new Pn(h,v)};function Pn(h,v){te.call(this),this.g=new nl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!q(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Jr(this)}S(Pn,te),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){wo(this.g)},Pn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.u&&(N={},N.__data__=Bt(h),h=N);v.i.push(new mu(v.Ya++,h)),v.G==3&&sl(v)},Pn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Pn.aa.N.call(this)};function ju(h){kr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const N in v){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}S(ju,kr);function Cu(){Ki.call(this),this.status=1}S(Cu,Ki);function Jr(h){this.g=h}S(Jr,Au),Jr.prototype.ua=function(){me(this.g,"a")},Jr.prototype.ta=function(h){me(this.g,new ju(h))},Jr.prototype.sa=function(h){me(this.g,new Cu)},Jr.prototype.ra=function(){me(this.g,"b")},al.prototype.createWebChannel=al.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,w2=function(){return new al},_2=function(){return Rr()},v2=mr,A0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,Bf=Js,bs.COMPLETE="complete",b2=bs,Xi.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",te.prototype.listen=te.prototype.K,vc=Xi,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,y2=ot}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});const ab="@firebase/firestore",lb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new f2("@firebase/firestore");function Ll(){return Pa.logLevel}function Ae(t,...e){if(Pa.logLevel<=st.DEBUG){const n=e.map(xp);Pa.debug(`Firestore (${ro}): ${t}`,...n)}}function Ys(t,...e){if(Pa.logLevel<=st.ERROR){const n=e.map(xp);Pa.error(`Firestore (${ro}): ${t}`,...n)}}function Ql(t,...e){if(Pa.logLevel<=st.WARN){const n=e.map(xp);Pa.warn(`Firestore (${ro}): ${t}`,...n)}}function xp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,N2(t,s,n)}function N2(t,e,n){let s=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ys(s),new Error(s)}function ct(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||N2(e,a,s)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends no{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(kn.UNAUTHENTICATED)))}shutdown(){}}class I3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class M3{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let o=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=o;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ct(typeof s.accessToken=="string",31837,{l:s}),new E2(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class O3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new O3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,x3(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const s=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const a=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ob(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ob(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=L3(40);for(let o=0;o<a.length;++o)s.length<20&&a[o]<n&&(s+=e.charAt(a[o]%62))}return s}}function Je(t,e){return t<e?-1:t>e?1:0}function j0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),o=e.charAt(s);if(a!==o)return Jm(a)===Jm(o)?Je(a,o):Jm(a)?1:-1}return Je(t.length,e.length)}const z3=55296,U3=57343;function Jm(t){const e=t.charCodeAt(0);return e>=z3&&e<=U3}function Xl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__name__";class as{constructor(e,n,s){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Le(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return as.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof as?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const o=as.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Je(e.length,n.length)}static compareSegments(e,n){const s=as.isNumericId(e),a=as.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?as.extractNumericId(e).compare(as.extractNumericId(n)):j0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class Et extends as{construct(e,n,s){return new Et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const B3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends as{construct(e,n,s){return new Nn(e,n,s)}static isValidIdentifier(e){return B3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cb}static keyField(){return new Nn([cb])}static fromServerFormat(e){const n=[];let s="",a=0;const o=()=>{if(s.length===0)throw new Ee(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Ee(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(o(),a++)}if(o(),c)throw new Ee(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Et.fromString(e))}static fromName(e){return new Ie(Et.fromString(e).popFirst(5))}static empty(){return new Ie(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e,n){if(!n)throw new Ee(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q3(t,e,n,s){if(e===!0&&s===!0)throw new Ee(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ub(t){if(!Ie.isDocumentKey(t))throw new Ee(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fb(t){if(Ie.isDocumentKey(t))throw new Ee(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function S2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bd(t);throw new Ee(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xc(t,e){if(!S2(t))throw new Ee(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${s}' field to equal '${o.value}'`;break}}if(n)throw new Ee(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=-62135596800,hb=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*hb);return new At(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<db)throw new Ee(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hb}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xc(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-db;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Xt("string",At._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new At(0,0))}static max(){return new Be(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=-1;function F3(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(s===1e9?new At(n+1,0):new At(n,s));return new Vi(a,Ie.empty(),e)}function H3(t){return new Vi(t.readTime,t.key,Oc)}class Vi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Vi(Be.min(),Ie.empty(),Oc)}static max(){return new Vi(Be.max(),Ie.empty(),Oc)}}function $3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==G3)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((s,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,s)=>{n(e)}))}static reject(e){return new ge(((n,s)=>{s(e)}))}static waitFor(e){return new ge(((n,s)=>{let a=0,o=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++o,c&&o===a&&n()}),(p=>s(p)))})),c=!0,o===a&&n()}))}static or(e){let n=ge.resolve(!1);for(const s of e)n=n.next((a=>a?ge.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,o)=>{s.push(n.call(this,a,o))})),this.waitFor(s)}static mapArray(e,n){return new ge(((s,a)=>{const o=e.length,c=new Array(o);let d=0;for(let p=0;p<o;p++){const m=p;n(e[m]).next((x=>{c[m]=x,++d,d===o&&s(c)}),(x=>a(x)))}}))}static doWhile(e,n){return new ge(((s,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):s()};o()}))}}function Q3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=-1;function _d(t){return t==null}function Wf(t){return t===0&&1/t==-1/0}function X3(t){return typeof t=="number"&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="";function K3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mb(e)),e=Z3(t.get(n),e);return mb(e)}function Z3(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case A2:n+="";break;default:n+=o}}return n}function mb(t){return t+A2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?s(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,s,a,o){this.key=e,this.value=n,this.color=s??_n.RED,this.left=a??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,o){return new _n(e??this.key,n??this.value,s??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const o=s(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,s),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,s,a,o){return this}insert(e,n,s){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gb(this.data.getIterator())}getIteratorFrom(e){return new gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=s.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new cr([])}unionWith(e){let n=new nn(Nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new C2("Invalid base64 string: "+o):o}})(e);return new En(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const J3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=J3.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Li(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="server_timestamp",R2="__type__",D2="__previous_value__",I2="__local_write_time__";function vp(t){return(t?.mapValue?.fields||{})[R2]?.stringValue===k2}function wd(t){const e=t.mapValue.fields[D2];return vp(e)?wd(e):e}function Vc(t){const e=Pi(t.mapValue.fields[I2].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,s,a,o,c,d,p,m,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=x}}const ed="(default)";class Pc{constructor(e,n){this.projectId=e,this.database=n||ed}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===ed}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="__type__",e6="__max__",If={mapValue:{}},O2="__vector__",td="value";function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vp(t)?4:n6(t)?9007199254740991:t6(t)?10:11:Le(28295,{value:t})}function ms(t,e){if(t===e)return!0;const n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vc(t).isEqual(Vc(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Pi(a.timestampValue),d=Pi(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Li(a.bytesValue).isEqual(Li(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return Ut(a.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(a.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Ut(a.integerValue)===Ut(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Ut(a.doubleValue),d=Ut(o.doubleValue);return c===d?Wf(c)===Wf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],ms);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(pb(c)!==pb(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ms(c[p],d[p])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Lc(t,e){return(t.values||[]).find((n=>ms(n,e)))!==void 0}function Kl(t,e){if(t===e)return 0;const n=zi(t),s=zi(e);if(n!==s)return Je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=Ut(o.integerValue||o.doubleValue),p=Ut(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(t,e);case 3:return xb(t.timestampValue,e.timestampValue);case 4:return xb(Vc(t),Vc(e));case 5:return j0(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=Li(o),p=Li(c);return d.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const x=Je(d[m],p[m]);if(x!==0)return x}return Je(d.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=Je(Ut(o.latitude),Ut(c.latitude));return d!==0?d:Je(Ut(o.longitude),Ut(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yb(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},p=c.fields||{},m=d[td]?.arrayValue,x=p[td]?.arrayValue,b=Je(m?.values?.length||0,x?.values?.length||0);return b!==0?b:yb(m,x)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===If.mapValue&&c===If.mapValue)return 0;if(o===If.mapValue)return 1;if(c===If.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),m=c.fields||{},x=Object.keys(m);p.sort(),x.sort();for(let b=0;b<p.length&&b<x.length;++b){const w=j0(p[b],x[b]);if(w!==0)return w;const _=Kl(d[p[b]],m[x[b]]);if(_!==0)return _}return Je(p.length,x.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function xb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Pi(t),s=Pi(e),a=Je(n.seconds,s.seconds);return a!==0?a:Je(n.nanos,s.nanos)}function yb(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const o=Kl(n[a],s[a]);if(o)return o}return Je(n.length,s.length)}function Zl(t){return C0(t)}function C0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Pi(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Li(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const o of n.values||[])a?a=!1:s+=",",s+=C0(o);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of s)o?o=!1:a+=",",a+=`${c}:${C0(n.fields[c])}`;return a+"}"})(t.mapValue):Le(61005,{value:t})}function qf(t){switch(zi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wd(t);return e?16+qf(e):16;case 5:return 2*t.stringValue.length;case 6:return Li(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,o)=>a+qf(o)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Fi(s.fields,((o,c)=>{a+=o.length+qf(c)})),a})(t.mapValue);default:throw Le(13486,{value:t})}}function bb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function k0(t){return!!t&&"integerValue"in t}function _p(t){return!!t&&"arrayValue"in t}function vb(t){return!!t&&"nullValue"in t}function _b(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ff(t){return!!t&&"mapValue"in t}function t6(t){return(t?.mapValue?.fields||{})[M2]?.stringValue===O2}function Tc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Fi(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Tc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return{...t}}function n6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===e6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Nn.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Tc(c):a.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,s,a)}delete(e){const n=this.field(e.popLast());Ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Fi(n,((a,o)=>e[a]=o));for(const a of s)delete e[a]}clone(){return new Zn(Tc(this.value))}}function V2(t){const e=[];return Fi(t.fields,((n,s)=>{const a=new Nn([n]);if(Ff(s)){const o=V2(s.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,s,a,o,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Dn(e,0,Be.min(),Be.min(),Be.min(),Zn.empty(),0)}static newFoundDocument(e,n,s,a){return new Dn(e,1,n,Be.min(),s,a,0)}static newNoDocument(e,n){return new Dn(e,2,n,Be.min(),Be.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Be.min(),Be.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.position=e,this.inclusive=n}}function wb(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?s=Ie.comparator(Ie.fromName(c.referenceValue),n.key):s=Kl(c,n.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function Nb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ms(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function r6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{}class Qt extends P2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new i6(e,n,s):n==="array-contains"?new o6(e,s):n==="in"?new c6(e,s):n==="not-in"?new u6(e,s):n==="array-contains-any"?new f6(e,s):new Qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new a6(e,s):new l6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kl(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(Kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends P2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ur(e,n)}matches(e){return L2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L2(t){return t.op==="and"}function z2(t){return s6(t)&&L2(t)}function s6(t){for(const e of t.filters)if(e instanceof Ur)return!1;return!0}function R0(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Zl(t.value);if(z2(t))return t.filters.map((e=>R0(e))).join(",");{const e=t.filters.map((n=>R0(n))).join(",");return`${t.op}(${e})`}}function U2(t,e){return t instanceof Qt?(function(s,a){return a instanceof Qt&&s.op===a.op&&s.field.isEqual(a.field)&&ms(s.value,a.value)})(t,e):t instanceof Ur?(function(s,a){return a instanceof Ur&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((o,c,d)=>o&&U2(c,a.filters[d])),!0):!1})(t,e):void Le(19439)}function B2(t){return t instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zl(n.value)}`})(t):t instanceof Ur?(function(n){return n.op.toString()+" {"+n.getFilters().map(B2).join(" ,")+"}"})(t):"Filter"}class i6 extends Qt{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class a6 extends Qt{constructor(e,n){super(e,"in",n),this.keys=q2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l6 extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=q2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function q2(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class o6 extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&Lc(n.arrayValue,this.value)}}class c6 extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}}class u6 extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lc(this.value.arrayValue,n)}}class f6 extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Lc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n=null,s=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function Eb(t,e=null,n=[],s=[],a=null,o=null,c=null){return new d6(t,e,n,s,a,o,c)}function wp(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>R0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),_d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Zl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Zl(s))).join(",")),e.Te=n}return e.Te}function Np(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!U2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nb(t.startAt,e.startAt)&&Nb(t.endAt,e.endAt)}function D0(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n=null,s=[],a=[],o=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function h6(t,e,n,s,a,o,c,d){return new ao(t,e,n,s,a,o,c,d)}function Nd(t){return new ao(t)}function Tb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F2(t){return t.collectionGroup!==null}function Sc(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new nn(Nn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new zc(o,s))})),n.has(Nn.keyField().canonicalString())||e.Ie.push(new zc(Nn.keyField(),s))}return e.Ie}function os(t){const e=qe(t);return e.Ee||(e.Ee=m6(e,Sc(t))),e.Ee}function m6(t,e){if(t.limitType==="F")return Eb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new zc(a.field,o)}));const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return Eb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function I0(t,e){const n=t.filters.concat([e]);return new ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function M0(t,e,n){return new ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ed(t,e){return Np(os(t),os(e))&&t.limitType===e.limitType}function H2(t){return`${wp(os(t))}|lt:${t.limitType}`}function zl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>B2(a))).join(", ")}]`),_d(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Zl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Zl(a))).join(",")),`Target(${s})`})(os(t))}; limitType=${t.limitType})`}function Td(t,e){return e.isFoundDocument()&&(function(s,a){const o=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Ie.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(t,e)&&(function(s,a){for(const o of Sc(s))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const o of s.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,p){const m=wb(c,d,p);return c.inclusive?m<=0:m<0})(s.startAt,Sc(s),a)||s.endAt&&!(function(c,d,p){const m=wb(c,d,p);return c.inclusive?m>=0:m>0})(s.endAt,Sc(s),a))})(t,e)}function p6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $2(t){return(e,n)=>{let s=!1;for(const a of Sc(t)){const o=g6(a,e,n);if(o!==0)return o;s=s||a.field.isKeyField()}return 0}}function g6(t,e,n){const s=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(o,c,d){const p=c.data.field(o),m=d.data.field(o);return p!==null&&m!==null?Kl(p,m):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,o]of s)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,((n,s)=>{for(const[a,o]of s)e(a,o)}))}isEmpty(){return j2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new Rt(Ie.comparator);function Qs(){return x6}const G2=new Rt(Ie.comparator);function _c(...t){let e=G2;for(const n of t)e=e.insert(n.key,n);return e}function Y2(t){let e=G2;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ra(){return Ac()}function Q2(){return Ac()}function Ac(){return new Fa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const y6=new Rt(Ie.comparator),b6=new nn(Ie.comparator);function We(...t){let e=b6;for(const n of t)e=e.add(n);return e}const v6=new nn(Je);function _6(){return v6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function X2(t){return{integerValue:""+t}}function w6(t,e){return X3(e)?X2(e):Ep(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this._=void 0}}function N6(t,e,n){return t instanceof Uc?(function(a,o){const c={fields:{[R2]:{stringValue:k2},[I2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&vp(o)&&(o=wd(o)),o&&(c.fields[D2]=o),{mapValue:c}})(n,e):t instanceof Bc?Z2(t,e):t instanceof qc?J2(t,e):(function(a,o){const c=K2(a,o),d=Sb(c)+Sb(a.Ae);return k0(c)&&k0(a.Ae)?X2(d):Ep(a.serializer,d)})(t,e)}function E6(t,e,n){return t instanceof Bc?Z2(t,e):t instanceof qc?J2(t,e):n}function K2(t,e){return t instanceof rd?(function(s){return k0(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Uc extends Sd{}class Bc extends Sd{constructor(e){super(),this.elements=e}}function Z2(t,e){const n=W2(e);for(const s of t.elements)n.some((a=>ms(a,s)))||n.push(s);return{arrayValue:{values:n}}}class qc extends Sd{constructor(e){super(),this.elements=e}}function J2(t,e){let n=W2(e);for(const s of t.elements)n=n.filter((a=>!ms(a,s)));return{arrayValue:{values:n}}}class rd extends Sd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Sb(t){return Ut(t.integerValue||t.doubleValue)}function W2(t){return _p(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n){this.field=e,this.transform=n}}function S6(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Bc&&a instanceof Bc||s instanceof qc&&a instanceof qc?Xl(s.elements,a.elements,ms):s instanceof rd&&a instanceof rd?ms(s.Ae,a.Ae):s instanceof Uc&&a instanceof Uc})(t.transform,e.transform)}class A6{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ad{}function e_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jd(t.key,qn.none()):new Kc(t.key,t.data,qn.none());{const n=t.data,s=Zn.empty();let a=new nn(Nn.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?s.delete(o):s.set(o,c),a=a.add(o)}return new Hi(t.key,s,new cr(a.toArray()),qn.none())}}function j6(t,e,n){t instanceof Kc?(function(a,o,c){const d=a.value.clone(),p=jb(a.fieldTransforms,o,c.transformResults);d.setAll(p),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Hi?(function(a,o,c){if(!Hf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=jb(a.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(t_(a)),p.setAll(d),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function jc(t,e,n,s){return t instanceof Kc?(function(o,c,d,p){if(!Hf(o.precondition,c))return d;const m=o.value.clone(),x=Cb(o.fieldTransforms,p,c);return m.setAll(x),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof Hi?(function(o,c,d,p){if(!Hf(o.precondition,c))return d;const m=Cb(o.fieldTransforms,p,c),x=c.data;return x.setAll(t_(o)),x.setAll(m),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(o,c,d){return Hf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function C6(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),o=K2(s.transform,a||null);o!=null&&(n===null&&(n=Zn.empty()),n.set(s.field,o))}return n||null}function Ab(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Xl(s,a,((o,c)=>S6(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends Ad{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Hi extends Ad{constructor(e,n,s,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function t_(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function jb(t,e,n){const s=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,d=e.data.field(o.field);s.set(o.field,E6(c,d,n[a]))}return s}function Cb(t,e,n){const s=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);s.set(a.field,N6(o,c,e))}return s}class jd extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k6 extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&j6(o,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Q2();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(a.key)?null:d;const p=e_(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,((n,s)=>Ab(n,s)))&&Xl(this.baseMutations,e.baseMutations,((n,s)=>Ab(n,s)))}}class Tp{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ct(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return y6})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,s[c].version);return new Tp(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,rt;function M6(t){switch(t){case de.OK:return Le(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function n_(t){if(t===void 0)return Ys("GRPC error has no .code"),de.UNKNOWN;switch(t){case $t.OK:return de.OK;case $t.CANCELLED:return de.CANCELLED;case $t.UNKNOWN:return de.UNKNOWN;case $t.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case $t.INTERNAL:return de.INTERNAL;case $t.UNAVAILABLE:return de.UNAVAILABLE;case $t.UNAUTHENTICATED:return de.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case $t.NOT_FOUND:return de.NOT_FOUND;case $t.ALREADY_EXISTS:return de.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return de.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case $t.ABORTED:return de.ABORTED;case $t.OUT_OF_RANGE:return de.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return de.UNIMPLEMENTED;case $t.DATA_LOSS:return de.DATA_LOSS;default:return Le(39323,{code:t})}}(rt=$t||($t={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=new Di([4294967295,4294967295],0);function kb(t){const e=O6().encode(t),n=new x2;return n.update(e),new Uint8Array(n.digest())}function Rb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Di([n,s],0),new Di([a,o],0)]}class Sp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wc(`Invalid padding: ${n}`);if(s<0)throw new wc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Di.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Di.fromNumber(s)));return a.compare(V6)===1&&(a=new Di([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kb(e),[s,a]=Rb(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Sp(o,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=kb(e),[s,a]=Rb(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,s,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Cd(Be.min(),a,new Rt(Je),Qs(),We())}}class Zc{constructor(e,n,s,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Zc(s,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class r_{constructor(e,n){this.targetId=e,this.Ce=n}}class s_{constructor(e,n,s=En.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Db{constructor(){this.ve=0,this.Fe=Ib(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),s=We();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Le(38017,{changeType:o})}})),new Zc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ib()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class P6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qs(),this.Je=Mf(),this.He=Mf(),this.Ye=new Rt(Je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(D0(o))if(s===0){const c=new Ie(o.path);this.et(n,c,Dn.newNoDocument(c,Be.min()))}else ct(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=n;let c,d;try{c=Li(s).toUint8Array()}catch(p){if(p instanceof C2)return Ql("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Sp(c,a,o)}catch(p){return Ql(p instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&D0(d.target)){const p=new Ie(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Dn.newNoDocument(p,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let s=We();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Cd(e,n,this.Ye,this.je,s);return this.je=Qs(),this.Je=Mf(),this.He=Mf(),this.Ye=new Rt(Je),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Db,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nn(Je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nn(Je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Db),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Mf(){return new Rt(Ie.comparator)}function Ib(){return new Rt(Ie.comparator)}const L6={asc:"ASCENDING",desc:"DESCENDING"},z6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U6={and:"AND",or:"OR"};class B6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function O0(t,e){return t.useProto3Json||_d(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q6(t,e){return sd(t,e.toTimestamp())}function cs(t){return ct(!!t,49232),Be.fromTimestamp((function(n){const s=Pi(n);return new At(s.seconds,s.nanos)})(t))}function Ap(t,e){return V0(t,e).canonicalString()}function V0(t,e){const n=(function(a){return new Et(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function a_(t){const e=Et.fromString(t);return ct(f_(e),10190,{key:e.toString()}),e}function P0(t,e){return Ap(t.databaseId,e.path)}function Wm(t,e){const n=a_(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(o_(n))}function l_(t,e){return Ap(t.databaseId,e)}function F6(t){const e=a_(t);return e.length===4?Et.emptyPath():o_(e)}function L0(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o_(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Mb(t,e,n){return{name:P0(t,e),fields:n.value.mapValue.fields}}function H6(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Le(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,x){return m.useProto3Json?(ct(x===void 0||typeof x=="string",58123),En.fromBase64String(x||"")):(ct(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),En.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const x=m.code===void 0?de.UNKNOWN:n_(m.code);return new Ee(x,m.message||"")})(c);n=new s_(s,a,o,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Wm(t,s.document.name),o=cs(s.document.updateTime),c=s.document.createTime?cs(s.document.createTime):Be.min(),d=new Zn({mapValue:{fields:s.document.fields}}),p=Dn.newFoundDocument(a,o,c,d),m=s.targetIds||[],x=s.removedTargetIds||[];n=new $f(m,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Wm(t,s.document),o=s.readTime?cs(s.readTime):Be.min(),c=Dn.newNoDocument(a,o),d=s.removedTargetIds||[];n=new $f([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Wm(t,s.document),o=s.removedTargetIds||[];n=new $f([],o,a,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:o}=s,c=new I6(a,o),d=s.targetId;n=new r_(d,c)}}return n}function $6(t,e){let n;if(e instanceof Kc)n={update:Mb(t,e.key,e.value)};else if(e instanceof jd)n={delete:P0(t,e.key)};else if(e instanceof Hi)n={update:Mb(t,e.key,e.data),updateMask:eA(e.fieldMask)};else{if(!(e instanceof k6))return Le(16599,{Vt:e.type});n={verify:P0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(o,c){const d=c.transform;if(d instanceof Uc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Bc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof qc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof rd)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Le(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:q6(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function G6(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?cs(a.updateTime):cs(o);return c.isEqual(Be.min())&&(c=cs(o)),new A6(c,a.transformResults||[])})(n,e)))):[]}function Y6(t,e){return{documents:[l_(t,e.path)]}}function Q6(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=l_(t,a);const o=(function(m){if(m.length!==0)return u_(Ur.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((x=>(function(w){return{field:Ul(w.field),direction:Z6(w.dir)}})(x)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=O0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function X6(t){let e=F6(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ct(s===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=(function(b){const w=c_(b);return w instanceof Ur&&z2(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((w=>(function(S){return new zc(Bl(S.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let w;return w=typeof b=="object"?b.value:b,_d(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(b){const w=!!b.before,_=b.values||[];return new nd(_,w)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const w=!b.before,_=b.values||[];return new nd(_,w)})(n.endAt)),h6(e,a,c,o,d,"F",p,m)}function K6(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function c_(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Bl(n.unaryFilter.field);return Qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Bl(n.unaryFilter.field);return Qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bl(n.unaryFilter.field);return Qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bl(n.unaryFilter.field);return Qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qt.create(Bl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ur.create(n.compositeFilter.filters.map((s=>c_(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function Z6(t){return L6[t]}function J6(t){return z6[t]}function W6(t){return U6[t]}function Ul(t){return{fieldPath:t.canonicalString()}}function Bl(t){return Nn.fromServerFormat(t.fieldPath)}function u_(t){return t instanceof Qt?(function(n){if(n.op==="=="){if(_b(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NAN"}};if(vb(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_b(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NAN"}};if(vb(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(n.field),op:J6(n.op),value:n.value}}})(t):t instanceof Ur?(function(n){const s=n.getFilters().map((a=>u_(a)));return s.length===1?s[0]:{compositeFilter:{op:W6(n.op),filters:s}}})(t):Le(54877,{filter:t})}function eA(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function f_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,s,a,o=Be.min(),c=Be.min(),d=En.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.yt=e}}function nA(t){const e=X6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?M0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.Cn=new sA}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Vi.min())}updateCollectionGroup(e,n,s){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class sA{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new nn(Et.comparator),o=!a.has(s);return this.index[n]=a.add(s),o}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new nn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d_=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(d_,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jl(0)}static cr(){return new Jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="LruGarbageCollector",iA=1048576;function Pb([t,e],[n,s]){const a=Je(t,n);return a===0?Je(e,s):a}class aA{constructor(e){this.Ir=e,this.buffer=new nn(Pb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Pb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lA{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(Vb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?Ae(Vb,"Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.Vr(3e5)}))}}class oA{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(vd.ce);const s=new aA(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(Ob)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ob):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,o,c,d,p,m;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,d=Date.now(),this.removeTargets(e,s,n)))).next((b=>(o=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(m=Date.now(),Ll()<=st.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(m-p)+`ms
Total Duration: ${m-x}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function cA(t,e){return new oA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.changes=new Fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ge.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&jc(s.mutation,a,cr.empty(),At.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,We()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=We()){const a=Ra();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((o=>{let c=_c();return o.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ra();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,We())))}populateOverlays(e,n,s){const a=[];return s.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let o=Qs();const c=Ac(),d=(function(){return Ac()})();return n.forEach(((p,m)=>{const x=s.get(m.key);a.has(m.key)&&(x===void 0||x.mutation instanceof Hi)?o=o.insert(m.key,m):x!==void 0?(c.set(m.key,x.mutation.getFieldMask()),jc(x.mutation,m,x.mutation.getFieldMask(),At.now())):c.set(m.key,cr.empty())})),this.recalculateAndSaveOverlays(e,o).next((p=>(p.forEach(((m,x)=>c.set(m,x))),n.forEach(((m,x)=>d.set(m,new fA(x,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Ac();let a=new Rt(((c,d)=>c-d)),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let x=s.get(p)||cr.empty();x=d.applyToLocalView(m,x),s.set(p,x);const b=(a.get(d.batchId)||We()).add(p);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,x=p.value,b=Q2();x.forEach((w=>{if(!o.has(w)){const _=e_(n.get(w),s.get(w));_!==null&&b.set(w,_),o=o.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return ge.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-o.size):ge.resolve(Ra());let d=Oc,p=o;return c.next((m=>ge.forEach(m,((x,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(x)?ge.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{p=p.insert(x,w)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,p,m,We()))).next((x=>({batchId:d,changes:Y2(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let a=_c();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const o=n.collectionGroup;let c=_c();return this.indexManager.getCollectionParents(e,o).next((d=>ge.forEach(d,(p=>{const m=(function(b,w){return new ao(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((x=>{x.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o,a)))).next((c=>{o.forEach(((p,m)=>{const x=m.getKey();c.get(x)===null&&(c=c.insert(x,Dn.newInvalidDocument(x)))}));let d=_c();return c.forEach(((p,m)=>{const x=o.get(p);x!==void 0&&jc(x.mutation,m,cr.empty(),At.now()),Td(n,m)&&(d=d.insert(p,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:cs(a.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:nA(a.bundledQuery),readTime:cs(a.readTime)}})(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.overlays=new Rt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ra();return ge.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&s.set(a,o)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,o)=>{this.St(e,n,o)})),ge.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(s)),ge.resolve()}getOverlaysForCollection(e,n,s){const a=Ra(),o=n.length+1,c=new Ie(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ge.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let o=new Rt(((m,x)=>m-x));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let x=o.get(m.largestBatchId);x===null&&(x=Ra(),o=o.insert(m.largestBatchId,x)),x.set(m.getKey(),m)}}const d=Ra(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,x)=>d.set(m,x))),!(d.size()>=a)););return ge.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new D6(n,s));let o=this.qr.get(n);o===void 0&&(o=We(),this.qr.set(n,o)),this.qr.set(n,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.Qr=new nn(un.$r),this.Ur=new nn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new un(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ie(new Et([])),s=new un(n,e),a=new un(n,e+1),o=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Et([])),s=new un(n,e),a=new un(n,e+1);let o=We();return this.Ur.forEachInRange([s,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new un(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||Je(e.Yr,n.Yr)}static Kr(e,n){return Je(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nn(un.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new R6(o,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new un(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ge.resolve(c)}lookupMutationBatch(e,n){return ge.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),o=a<0?0:a;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?bp:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new un(n,0),a=new un(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);o.push(d)})),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new nn(Je);return n.forEach((a=>{const o=new un(a,0),c=new un(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{s=s.add(d.Yr)}))})),ge.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let o=s;Ie.isDocumentKey(o)||(o=o.child(""));const c=new un(new Ie(o),0);let d=new nn(Je);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Yr)),!0)}),c),ge.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ge.forEach(n.mutations,(a=>{const o=new un(a.key,n.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new un(n,0),a=this.Zr.firstAfterOrEqual(s);return ge.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.ri=e,this.docs=(function(){return new Rt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ge.resolve(s?s.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let s=Qs();return n.forEach((a=>{const o=this.docs.get(a);s=s.insert(a,o?o.document.mutableCopy():Dn.newInvalidDocument(a))})),ge.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let o=Qs();const c=n.path,d=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:x}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||$3(H3(x),s)<=0||(a.has(x.key)||Td(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,n,s,a){Le(9500)}ii(e,n){return ge.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new yA(this)}getSize(e){return ge.resolve(this.size)}}class yA extends uA{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ge.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.persistence=e,this.si=new Fa((n=>wp(n)),Np),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new jp,this.targetCount=0,this.ai=Jl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ge.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Jl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Pr(n),ge.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,s){let a=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ge.waitFor(o).next((()=>a))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ge.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ge.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),ge.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ge.resolve(s)}containsKey(e,n){return ge.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n){this.ui={},this.overlays={},this.ci=new vd(0),this.li=!1,this.li=!0,this.hi=new pA,this.referenceDelegate=e(this),this.Pi=new bA(this),this.indexManager=new rA,this.remoteDocumentCache=(function(a){return new xA(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new tA(n),this.Ii=new hA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new gA(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Ae("MemoryPersistence","Starting transaction:",e);const a=new vA(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return ge.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class vA extends Y3{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Ri=new jp,this.Vi=null}static mi(e){return new Cp(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ge.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,(s=>{const a=Ie.fromPath(s);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class id{constructor(e,n){this.persistence=e,this.pi=new Fa((s=>K3(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=cA(this,n)}static mi(e,n){return new id(e,n)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ge.forEach(this.pi,((s,a)=>this.br(e,s,a).next((o=>o?ge.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,o.removeEntry(c,Be.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qf(e.data.value)),n}br(e,n,s){return ge.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ge.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=We(),a=We();for(const o of n.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new kp(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mS()?8:Q3(dS())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,s).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new _A;return this.Ss(e,n,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>o.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Ll()<=st.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(Ll()<=st.DEBUG&&Ae("QueryEngine","Query:",zl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ll()<=st.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,os(n))):ge.resolve())}ys(e,n){if(Tb(n))return ge.resolve(null);let s=os(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=M0(n,null,"F"),s=os(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const c=We(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const m=this.Ds(n,d);return this.Cs(n,m,c,p.readTime)?this.ys(e,M0(n,null,"F")):this.vs(e,m,n,p)}))))})))))}ws(e,n,s,a){return Tb(n)||a.isEqual(Be.min())?ge.resolve(null):this.ps.getDocuments(e,s).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,s,a)?ge.resolve(null):(Ll()<=st.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zl(n)),this.vs(e,c,n,F3(a,Oc)).next((d=>d)))}))}Ds(e,n){let s=new nn($2(e));return n.forEach(((a,o)=>{Td(e,o)&&(s=s.add(o))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,s){return Ll()<=st.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",zl(n)),this.ps.getDocumentsMatchingQuery(e,n,Vi.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="LocalStore",NA=3e8;class EA{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Rt(Je),this.xs=new Fa((o=>wp(o)),Np),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TA(t,e,n,s){return new EA(t,e,n,s)}async function m_(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((o=>{const c=[],d=[];let p=We();for(const m of a){c.push(m.batchId);for(const x of m.mutations)p=p.add(x.key)}for(const m of o){d.push(m.batchId);for(const x of m.mutations)p=p.add(x.key)}return n.localDocuments.getDocuments(s,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function SA(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,x){const b=m.batch,w=b.keys();let _=ge.resolve();return w.forEach((S=>{_=_.next((()=>x.getEntry(p,S))).next((L=>{const z=m.docVersions.get(S);ct(z!==null,48541),L.version.compareTo(z)<0&&(b.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),x.addEntry(L)))}))})),_.next((()=>d.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,o).next((()=>o.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=We();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function p_(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function AA(t,e){const n=qe(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((x,b)=>{const w=a.get(b);if(!w)return;d.push(n.Pi.removeMatchingKeys(o,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,x.addedDocuments,b))));let _=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?_=_.withResumeToken(En.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):x.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(x.resumeToken,s)),a=a.insert(b,_),(function(L,z,F){return L.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=NA?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,_,x)&&d.push(n.Pi.updateTargetData(o,_))}));let p=Qs(),m=We();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))})),d.push(jA(o,c,e.documentUpdates).next((x=>{p=x.ks,m=x.qs}))),!s.isEqual(Be.min())){const x=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,s)));d.push(x)}return ge.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,p,m))).next((()=>p))})).then((o=>(n.Ms=a,o)))}function jA(t,e,n){let s=We(),a=We();return n.forEach((o=>s=s.add(o))),e.getEntries(t,s).next((o=>{let c=Qs();return n.forEach(((d,p)=>{const m=o.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Be.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Ae(Rp,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function CA(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function kA(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((o=>o?(a=o,ge.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new ji(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function z0(t,e,n){const s=qe(t),a=s.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",o,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!io(c))throw c;Ae(Rp,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Lb(t,e,n){const s=qe(t);let a=Be.min(),o=We();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,x){const b=qe(p),w=b.xs.get(x);return w!==void 0?ge.resolve(b.Ms.get(w)):b.Pi.getTargetData(m,x)})(s,c,os(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{o=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Be.min(),n?o:We()))).next((d=>(RA(s,p6(e),d),{documents:d,Qs:o})))))}function RA(t,e,n){let s=t.Os.get(e)||Be.min();n.forEach(((a,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),t.Os.set(e,s)}class zb{constructor(){this.activeTargetIds=_6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DA{constructor(){this.Mo=new zb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="ConnectivityMonitor";class Bb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(Ub,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(Ub,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of=null;function U0(){return Of===null?Of=(function(){return 268435456+Math.round(2147483648*Math.random())})():Of++,"0x"+Of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="RestConnection",MA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===ed?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,o){const c=U0(),d=this.zo(e,n.toUriEncodedString());Ae(e0,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,o);const{host:m}=new URL(d),x=pp(m);return this.Jo(e,d,p,s,x).then((b=>(Ae(e0,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Ql(e0,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",s),b}))}Ho(e,n,s,a,o,c){return this.Go(e,n,s,a,o)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),s&&s.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const s=MA[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class PA extends OA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,o){const c=U0();return new Promise(((d,p)=>{const m=new y2;m.setWithCredentials(!0),m.listenOnce(b2.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Bf.NO_ERROR:const b=m.getResponseJson();Ae(Cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Bf.TIMEOUT:Ae(Cn,`RPC '${e}' ${c} timed out`),p(new Ee(de.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const w=m.getStatus();if(Ae(Cn,`RPC '${e}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_?.error;if(S&&S.status&&S.message){const L=(function(F){const q=F.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(q)>=0?q:de.UNKNOWN})(S.status);p(new Ee(L,S.message))}else p(new Ee(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Ee(de.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ae(Cn,`RPC '${e}' ${c} completed.`)}}));const x=JSON.stringify(a);Ae(Cn,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",x,s,15)}))}T_(e,n,s){const a=U0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=w2(),d=_2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const x=o.join("");Ae(Cn,`Creating RPC '${e}' stream ${a}: ${x}`,p);const b=c.createWebChannel(x,p);this.I_(b);let w=!1,_=!1;const S=new VA({Yo:z=>{_?Ae(Cn,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(w||(Ae(Cn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),Ae(Cn,`RPC '${e}' stream ${a} sending:`,z),b.send(z))},Zo:()=>b.close()}),L=(z,F,q)=>{z.listen(F,(V=>{try{q(V)}catch(H){setTimeout((()=>{throw H}),0)}}))};return L(b,vc.EventType.OPEN,(()=>{_||(Ae(Cn,`RPC '${e}' stream ${a} transport opened.`),S.o_())})),L(b,vc.EventType.CLOSE,(()=>{_||(_=!0,Ae(Cn,`RPC '${e}' stream ${a} transport closed`),S.a_(),this.E_(b))})),L(b,vc.EventType.ERROR,(z=>{_||(_=!0,Ql(Cn,`RPC '${e}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),S.a_(new Ee(de.UNAVAILABLE,"The operation could not be completed")))})),L(b,vc.EventType.MESSAGE,(z=>{if(!_){const F=z.data[0];ct(!!F,16349);const q=F,V=q?.error||q[0]?.error;if(V){Ae(Cn,`RPC '${e}' stream ${a} received error:`,V);const H=V.status;let B=(function(C){const I=$t[C];if(I!==void 0)return n_(I)})(H),U=V.message;B===void 0&&(B=de.INTERNAL,U="Unknown error status: "+H+" with message "+V.message),_=!0,S.a_(new Ee(B,U)),b.close()}else Ae(Cn,`RPC '${e}' stream ${a} received:`,F),S.u_(F)}})),L(d,v2.STAT_EVENT,(z=>{z.stat===A0.PROXY?Ae(Cn,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===A0.NOPROXY&&Ae(Cn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function t0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return new B6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,s=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="PersistentStream";class x_{constructor(e,n,s,a,o,c,d,p){this.Mi=e,this.S_=s,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new Ee(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(qb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ae(qb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LA extends x_{constructor(e,n,s,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=H6(this.serializer,e),s=(function(o){if(!("targetChange"in o))return Be.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?cs(c.readTime):Be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=L0(this.serializer),n.addTarget=(function(o,c){let d;const p=c.target;if(d=D0(p)?{documents:Y6(o,p)}:{query:Q6(o,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=i_(o,c.resumeToken);const m=O0(o,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Be.min())>0){d.readTime=sd(o,c.snapshotVersion.toTimestamp());const m=O0(o,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const s=K6(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=L0(this.serializer),n.removeTarget=e,this.q_(n)}}class zA extends x_{constructor(e,n,s,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=G6(e.writeResults,e.commitTime),s=cs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=L0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>$6(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{}class BA extends UA{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ee(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,V0(n,s),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(de.UNKNOWN,o.toString())}))}Ho(e,n,s,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,V0(n,s),a,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ys(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="RemoteStore";class FA{constructor(e,n,s,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ha(this)&&(Ae(La,"Restarting streams for network reachability change."),await(async function(p){const m=qe(p);m.Ea.add(4),await Jc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Rd(m)})(this))}))})),this.Ra=new qA(s,a)}}async function Rd(t){if(Ha(t))for(const e of t.da)await e(!0)}async function Jc(t){for(const e of t.da)await e(!1)}function y_(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Op(n)?Mp(n):lo(n).O_()&&Ip(n,e))}function Dp(t,e){const n=qe(t),s=lo(n);n.Ia.delete(e),s.O_()&&b_(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ha(n)&&n.Ra.set("Unknown"))}function Ip(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(t).Y_(e)}function b_(t,e){t.Va.Ue(e),lo(t).Z_(e)}function Mp(t){t.Va=new P6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lo(t).start(),t.Ra.ua()}function Op(t){return Ha(t)&&!lo(t).x_()&&t.Ia.size>0}function Ha(t){return qe(t).Ea.size===0}function v_(t){t.Va=void 0}async function HA(t){t.Ra.set("Online")}async function $A(t){t.Ia.forEach(((e,n)=>{Ip(t,e)}))}async function GA(t,e){v_(t),Op(t)?(t.Ra.ha(e),Mp(t)):t.Ra.set("Unknown")}async function YA(t,e,n){if(t.Ra.set("Online"),e instanceof s_&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){Ae(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ad(t,s)}else if(e instanceof $f?t.Va.Ze(e):e instanceof r_?t.Va.st(e):t.Va.tt(e),!n.isEqual(Be.min()))try{const s=await p_(t.localStore);n.compareTo(s)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const x=o.Ia.get(m);x&&o.Ia.set(m,x.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,m)=>{const x=o.Ia.get(p);if(!x)return;o.Ia.set(p,x.withResumeToken(En.EMPTY_BYTE_STRING,x.snapshotVersion)),b_(o,p);const b=new ji(x.target,p,m,x.sequenceNumber);Ip(o,b)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){Ae(La,"Failed to raise snapshot:",s),await ad(t,s)}}async function ad(t,e,n){if(!io(e))throw e;t.Ea.add(1),await Jc(t),t.Ra.set("Offline"),n||(n=()=>p_(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(La,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rd(t)}))}function __(t,e){return e().catch((n=>ad(t,n,e)))}async function Dd(t){const e=qe(t),n=Ui(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bp;for(;QA(e);)try{const a=await CA(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,XA(e,a)}catch(a){await ad(e,a)}w_(e)&&N_(e)}function QA(t){return Ha(t)&&t.Ta.length<10}function XA(t,e){t.Ta.push(e);const n=Ui(t);n.O_()&&n.X_&&n.ea(e.mutations)}function w_(t){return Ha(t)&&!Ui(t).x_()&&t.Ta.length>0}function N_(t){Ui(t).start()}async function KA(t){Ui(t).ra()}async function ZA(t){const e=Ui(t);for(const n of t.Ta)e.ea(n.mutations)}async function JA(t,e,n){const s=t.Ta.shift(),a=Tp.from(s,e,n);await __(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Dd(t)}async function WA(t,e){e&&Ui(t).X_&&await(async function(s,a){if((function(c){return M6(c)&&c!==de.ABORTED})(a.code)){const o=s.Ta.shift();Ui(s).B_(),await __(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Dd(s)}})(t,e),w_(t)&&N_(t)}async function Fb(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Ae(La,"RemoteStore received new credentials");const s=Ha(n);n.Ea.add(3),await Jc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rd(n)}async function e5(t,e){const n=qe(t);e?(n.Ea.delete(2),await Rd(n)):e||(n.Ea.add(2),await Jc(n),n.Ra.set("Unknown"))}function lo(t){return t.ma||(t.ma=(function(n,s,a){const o=qe(n);return o.sa(),new LA(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:HA.bind(null,t),t_:$A.bind(null,t),r_:GA.bind(null,t),H_:YA.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Op(t)?Mp(t):t.Ra.set("Unknown")):(await t.ma.stop(),v_(t))}))),t.ma}function Ui(t){return t.fa||(t.fa=(function(n,s,a){const o=qe(n);return o.sa(),new zA(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:KA.bind(null,t),r_:WA.bind(null,t),ta:ZA.bind(null,t),na:JA.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Dd(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(La,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,s,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=o,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,o){const c=Date.now()+s,d=new Vp(e,n,c,a,o);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(t,e){if(Ys("AsyncQueue",`${e}: ${t}`),io(t))return new Ee(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{static emptySet(e){return new $l(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=_c(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=s.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $l;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.ga=new Rt(Ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Wl{constructor(e,n,s,a,o,c,d,p,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,a,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Wl(e,n,$l.emptySet(n),c,s,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class n5{constructor(){this.queries=$b(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=qe(n),o=a.queries;a.queries=$b(),o.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new Ee(de.ABORTED,"Firestore shutting down"))}}function $b(){return new Fa((t=>H2(t)),Ed)}async function Lp(t,e){const n=qe(t);let s=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(s=2):(o=new t5,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Pp(c,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Up(n)}async function zp(t,e){const n=qe(t),s=e.query;let a=3;const o=n.queries.get(s);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function r5(t,e){const n=qe(t);let s=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Up(n)}function s5(t,e,n){const s=qe(t),a=s.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);s.queries.delete(e)}function Up(t){t.Ca.forEach((e=>{e.next()}))}var B0,Gb;(Gb=B0||(B0={})).Ma="default",Gb.Cache="cache";class Bp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Wl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==B0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this.key=e}}class T_{constructor(e){this.key=e}}class i5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=$2(e),this.tu=new $l(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Hb,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,b)=>{const w=a.get(x),_=Td(this.query,b)?b:null,S=!!w&&this.mutatedKeys.has(w.key),L=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let z=!1;w&&_?w.data.isEqual(_.data)?S!==L&&(s.track({type:3,doc:_}),z=!0):this.su(w,_)||(s.track({type:2,doc:_}),z=!0,(p&&this.eu(_,p)>0||m&&this.eu(_,m)<0)&&(d=!0)):!w&&_?(s.track({type:0,doc:_}),z=!0):w&&!_&&(s.track({type:1,doc:w}),z=!0,(p||m)&&(d=!0)),z&&(_?(c=c.add(_),o=L?o.add(x):o.delete(x)):(c=c.delete(x),o=o.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),o=o.delete(x.key),s.track({type:1,doc:x})}return{tu:c,iu:s,Cs:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((x,b)=>(function(_,S){const L=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:z})}};return L(_)-L(S)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new Wl(this.query,e.tu,o,c,e.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new T_(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new E_(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class a5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class l5{constructor(e){this.key=e,this.hu=!1}}class o5{constructor(e,n,s,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fa((d=>H2(d)),Ed),this.Iu=new Map,this.Eu=new Set,this.du=new Rt(Ie.comparator),this.Au=new Map,this.Ru=new jp,this.Vu={},this.mu=new Map,this.fu=Jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c5(t,e,n=!0){const s=R_(t);let a;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await S_(s,e,n,!0),a}async function u5(t,e){const n=R_(t);await S_(n,e,!0,!1)}async function S_(t,e,n,s){const a=await kA(t.localStore,os(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return s&&(d=await f5(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&y_(t.remoteStore,a),d}async function f5(t,e,n,s,a){t.pu=(b,w,_)=>(async function(L,z,F,q){let V=z.view.ru(F);V.Cs&&(V=await Lb(L.localStore,z.query,!1).then((({documents:j})=>z.view.ru(j,V))));const H=q&&q.targetChanges.get(z.targetId),B=q&&q.targetMismatches.get(z.targetId)!=null,U=z.view.applyChanges(V,L.isPrimaryClient,H,B);return Qb(L,z.targetId,U.au),U.snapshot})(t,b,w,_);const o=await Lb(t.localStore,e,!0),c=new i5(e,o.Qs),d=c.ru(o.documents),p=Zc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),m=c.applyChanges(d,t.isPrimaryClient,p);Qb(t,n,m.au);const x=new a5(e,n,c);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function d5(t,e,n){const s=qe(t),a=s.Tu.get(e),o=s.Iu.get(a.targetId);if(o.length>1)return s.Iu.set(a.targetId,o.filter((c=>!Ed(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await z0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Dp(s.remoteStore,a.targetId),q0(s,a.targetId)})).catch(so)):(q0(s,a.targetId),await z0(s.localStore,a.targetId,!0))}async function h5(t,e){const n=qe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(n.remoteStore,s.targetId))}async function m5(t,e,n){const s=_5(t);try{const a=await(function(c,d){const p=qe(c),m=At.now(),x=d.reduce(((_,S)=>_.add(S.key)),We());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=Qs(),L=We();return p.Ns.getEntries(_,x).next((z=>{S=z,S.forEach(((F,q)=>{q.isValidDocument()||(L=L.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(_,S))).next((z=>{b=z;const F=[];for(const q of d){const V=C6(q,b.get(q.key).overlayedDocument);V!=null&&F.push(new Hi(q.key,V,V2(V.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(_,m,F,d)})).next((z=>{w=z;const F=z.applyToLocalDocumentSet(b,L);return p.documentOverlayCache.saveOverlays(_,z.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:Y2(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new Rt(Je)),m=m.insert(d,p),c.Vu[c.currentUser.toKey()]=m})(s,a.batchId,n),await Wc(s,a.changes),await Dd(s.remoteStore)}catch(a){const o=Pp(a,"Failed to persist write");n.reject(o)}}async function A_(t,e){const n=qe(t);try{const s=await AA(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ct(c.hu,14607):a.removedDocuments.size>0&&(ct(c.hu,42227),c.hu=!1))})),await Wc(n,s,e)}catch(s){await so(s)}}function Yb(t,e,n){const s=qe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=qe(c);p.onlineState=d;let m=!1;p.queries.forEach(((x,b)=>{for(const w of b.Sa)w.va(d)&&(m=!0)})),m&&Up(p)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function p5(t,e,n){const s=qe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),o=a&&a.key;if(o){let c=new Rt(Ie.comparator);c=c.insert(o,Dn.newNoDocument(o,Be.min()));const d=We().add(o),p=new Cd(Be.min(),new Map,new Rt(Je),c,d);await A_(s,p),s.du=s.du.remove(o),s.Au.delete(e),Fp(s)}else await z0(s.localStore,e,!1).then((()=>q0(s,e,n))).catch(so)}async function g5(t,e){const n=qe(t),s=e.batch.batchId;try{const a=await SA(n.localStore,e);C_(n,s,null),j_(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Wc(n,a)}catch(a){await so(a)}}async function x5(t,e,n){const s=qe(t);try{const a=await(function(c,d){const p=qe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let x;return p.mutationQueue.lookupMutationBatch(m,d).next((b=>(ct(b!==null,37113),x=b.keys(),p.mutationQueue.removeMutationBatch(m,b)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,x,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,x))).next((()=>p.localDocuments.getDocuments(m,x)))}))})(s.localStore,e);C_(s,e,n),j_(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Wc(s,a)}catch(a){await so(a)}}function j_(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function C_(t,e,n){const s=qe(t);let a=s.Vu[s.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function q0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||k_(t,s)}))}function k_(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Dp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Fp(t))}function Qb(t,e,n){for(const s of n)s instanceof E_?(t.Ru.addReference(s.key,e),y5(t,s)):s instanceof T_?(Ae(qp,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||k_(t,s.key)):Le(19791,{wu:s})}function y5(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(Ae(qp,"New document in limbo: "+n),t.Eu.add(s),Fp(t))}function Fp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(Et.fromString(e)),s=t.fu.next();t.Au.set(s,new l5(n)),t.du=t.du.insert(n,s),y_(t.remoteStore,new ji(os(Nd(n.path)),s,"TargetPurposeLimboResolution",vd.ce))}}async function Wc(t,e,n){const s=qe(t),a=[],o=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,n).then((m=>{if((m||n)&&s.isPrimaryClient){const x=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(m){a.push(m);const x=kp.As(p.targetId,m);o.push(x)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(p,m){const x=qe(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ge.forEach(m,(w=>ge.forEach(w.Es,(_=>x.persistence.referenceDelegate.addReference(b,w.targetId,_))).next((()=>ge.forEach(w.ds,(_=>x.persistence.referenceDelegate.removeReference(b,w.targetId,_)))))))))}catch(b){if(!io(b))throw b;Ae(Rp,"Failed to update sequence numbers: "+b)}for(const b of m){const w=b.targetId;if(!b.fromCache){const _=x.Ms.get(w),S=_.snapshotVersion,L=_.withLastLimboFreeSnapshotVersion(S);x.Ms=x.Ms.insert(w,L)}}})(s.localStore,o))}async function b5(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Ae(qp,"User change. New user:",e.toKey());const s=await m_(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((p=>{p.reject(new Ee(de.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wc(n,s.Ls)}}function v5(t,e){const n=qe(t),s=n.Au.get(e);if(s&&s.hu)return We().add(s.key);{let a=We();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function R_(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=A_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p5.bind(null,e),e.Pu.H_=r5.bind(null,e.eventManager),e.Pu.yu=s5.bind(null,e.eventManager),e}function _5(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x5.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TA(this.persistence,new wA,e.initialUser,this.serializer)}Cu(e){return new h_(Cp.mi,this.serializer)}Du(e){return new DA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class w5 extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof id,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lA(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new h_((s=>id.mi(s,n)),this.serializer)}}class F0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Yb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=b5.bind(null,this.syncEngine),await e5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new n5})()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),s=(function(o){return new PA(o)})(e.databaseInfo);return(function(o,c,d,p){return new BA(o,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,o,c,d){return new FA(s,a,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Yb(this.syncEngine,n,0)),(function(){return Bb.v()?new Bb:new IA})())}createSyncEngine(e,n){return(function(a,o,c,d,p,m,x){const b=new o5(a,o,c,d,p,m);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=qe(n);Ae(La,"RemoteStore shutting down."),s.Ea.add(5),await Jc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}F0.provider={build:()=>new F0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="FirestoreClient";class N5{constructor(e,n,s,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=kn.UNAUTHENTICATED,this.clientId=yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async c=>{Ae(Bi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(Ae(Bi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function n0(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await m_(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Xb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E5(t);Ae(Bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Fb(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>Fb(e.remoteStore,a))),t._onlineComponents=e}async function E5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Bi,"Using user provided OfflineComponentProvider");try{await n0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ql("Error using user provided cache. Falling back to memory cache: "+n),await n0(t,new ld)}}else Ae(Bi,"Using default OfflineComponentProvider"),await n0(t,new w5(void 0));return t._offlineComponents}async function D_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Bi,"Using user provided OnlineComponentProvider"),await Xb(t,t._uninitializedComponentsProvider._online)):(Ae(Bi,"Using default OnlineComponentProvider"),await Xb(t,new F0))),t._onlineComponents}function T5(t){return D_(t).then((e=>e.syncEngine))}async function od(t){const e=await D_(t),n=e.eventManager;return n.onListen=c5.bind(null,e.syncEngine),n.onUnlisten=d5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h5.bind(null,e.syncEngine),n}function S5(t,e,n={}){const s=new Hs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,p,m){const x=new Hp({next:w=>{x.Nu(),c.enqueueAndForget((()=>zp(o,b)));const _=w.docs.has(d);!_&&w.fromCache?m.reject(new Ee(de.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&w.fromCache&&p&&p.source==="server"?m.reject(new Ee(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),b=new Bp(Nd(d.path),x,{includeMetadataChanges:!0,qa:!0});return Lp(o,b)})(await od(t),t.asyncQueue,e,n,s))),s.promise}function A5(t,e,n={}){const s=new Hs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,p,m){const x=new Hp({next:w=>{x.Nu(),c.enqueueAndForget((()=>zp(o,b))),w.fromCache&&p.source==="server"?m.reject(new Ee(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),b=new Bp(d,x,{includeMetadataChanges:!0,qa:!0});return Lp(o,b)})(await od(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="firestore.googleapis.com",Zb=!0;class Jb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M_,this.ssl=Zb}else this.host=e.host,this.ssl=e.ssl??Zb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iA)throw new Ee(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new D3;switch(s.type){case"firstParty":return new V3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Kb.get(n);s&&(Ae("ComponentProvider","Removing Datastore"),Kb.delete(n),s.terminate())})(this),Promise.resolve()}}function j5(t,e,n,s={}){t=Bn(t,Id);const a=pp(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(lS(`https://${d}`),fS("Firestore",!0)),o.host!==M_&&o.host!==d&&Ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...o,host:d,ssl:a,emulatorOptions:s};if(!Kf(p,c)&&(t._setSettings(p),s.mockUserToken)){let m,x;if(typeof s.mockUserToken=="string")m=s.mockUserToken,x=kn.MOCK_USER;else{m=oS(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Ee(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new kn(b)}t._authCredentials=new I3(new E2(m,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Xc(n,Vt._jsonSchema))return new Vt(e,s||null,new Ie(Et.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Xt("string",Vt._jsonSchemaVersion),referencePath:Xt("string")};class Ii extends $i{constructor(e,n,s){super(e,n,Nd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ie(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function Fc(t,e,...n){if(t=jr(t),T2("collection","path",e),t instanceof Id){const s=Et.fromString(e,...n);return fb(s),new Ii(t,null,s)}{if(!(t instanceof Vt||t instanceof Ii))throw new Ee(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Et.fromString(e,...n));return fb(s),new Ii(t.firestore,null,s)}}function Rn(t,e,...n){if(t=jr(t),arguments.length===1&&(e=yp.newId()),T2("doc","path",e),t instanceof Id){const s=Et.fromString(e,...n);return ub(s),new Vt(t,null,new Ie(s))}{if(!(t instanceof Vt||t instanceof Ii))throw new Ee(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Et.fromString(e,...n));return ub(s),new Vt(t.firestore,t instanceof Ii?t.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="AsyncQueue";class ev{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g_(this,"async_queue_retry"),this._c=()=>{const s=t0();s&&Ae(Wb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=t0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=t0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!io(e))throw e;Ae(Wb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ys("INTERNAL UNHANDLED ERROR: ",tv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Vp.createAndSchedule(this,e,n,s,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Le(47125,{Pc:tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of s)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ps extends Id{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new ev,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ev(e),this._firestoreClient=void 0,await e}}}function C5(t,e){const n=typeof t=="object"?t:_3(),s=typeof t=="string"?t:ed,a=g3(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const o=iS("firestore");o&&j5(a,...o)}return a}function eu(t){if(t._terminated)throw new Ee(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k5(t),t._firestoreClient}function k5(t){const e=t._freezeSettings(),n=(function(a,o,c,d){return new W3(a,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,I_(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new N5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ar(En.fromBase64String(e))}catch(n){throw new Ee(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ar(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xc(e,Ar._jsonSchema))return Ar.fromBase64String(e.bytes)}}Ar._jsonSchemaVersion="firestore/bytes/1.0",Ar._jsonSchema={type:Xt("string",Ar._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:us._jsonSchemaVersion}}static fromJSON(e){if(Xc(e,us._jsonSchema))return new us(e.latitude,e.longitude)}}us._jsonSchemaVersion="firestore/geoPoint/1.0",us._jsonSchema={type:Xt("string",us._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xc(e,fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fs(e.vectorValues);throw new Ee(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fs._jsonSchemaVersion="firestore/vectorValue/1.0",fs._jsonSchema={type:Xt("string",fs._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=/^__.*__$/;class D5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kc(e,this.data,n,this.fieldTransforms)}}class O_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class $p{constructor(e,n,s,a,o,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V_(this.Ac)&&R5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class I5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kd(e)}Cc(e,n,s,a=!1){return new $p({Ac:e,methodName:n,Dc:s,path:Nn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nu(t){const e=t._freezeSettings(),n=kd(t._databaseId);return new I5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gp(t,e,n,s,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);Qp("Data must be an object, but it was:",c,s);const d=z_(s,c);let p,m;if(o.merge)p=new cr(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const x=[];for(const b of o.mergeFields){const w=H0(e,b,n);if(!c.contains(w))throw new Ee(de.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);B_(x,w)||x.push(w)}p=new cr(x),m=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,m=c.fieldTransforms;return new D5(new Zn(d),p,m)}class Od extends Md{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}class Yp extends Md{_toFieldTransform(e){return new T6(e.path,new Uc)}isEqual(e){return e instanceof Yp}}function P_(t,e,n,s){const a=t.Cc(1,e,n);Qp("Data must be an object, but it was:",a,s);const o=[],c=Zn.empty();Fi(s,((p,m)=>{const x=Xp(e,p,n);m=jr(m);const b=a.yc(x);if(m instanceof Od)o.push(x);else{const w=ru(m,b);w!=null&&(o.push(x),c.set(x,w))}}));const d=new cr(o);return new O_(c,d,a.fieldTransforms)}function L_(t,e,n,s,a,o){const c=t.Cc(1,e,n),d=[H0(e,s,n)],p=[a];if(o.length%2!=0)throw new Ee(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)d.push(H0(e,o[w])),p.push(o[w+1]);const m=[],x=Zn.empty();for(let w=d.length-1;w>=0;--w)if(!B_(m,d[w])){const _=d[w];let S=p[w];S=jr(S);const L=c.yc(_);if(S instanceof Od)m.push(_);else{const z=ru(S,L);z!=null&&(m.push(_),x.set(_,z))}}const b=new cr(m);return new O_(x,b,c.fieldTransforms)}function M5(t,e,n,s=!1){return ru(n,t.Cc(s?4:3,e))}function ru(t,e){if(U_(t=jr(t)))return Qp("Unsupported field value:",e,t),z_(t,e);if(t instanceof Md)return(function(s,a){if(!V_(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const o=[];let c=0;for(const d of s){let p=ru(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}})(t,e)}return(function(s,a){if((s=jr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=At.fromDate(s);return{timestampValue:sd(a.serializer,o)}}if(s instanceof At){const o=new At(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sd(a.serializer,o)}}if(s instanceof us)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ar)return{bytesValue:i_(a.serializer,s._byteString)};if(s instanceof Vt){const o=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ap(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof fs)return(function(c,d){return{mapValue:{fields:{[M2]:{stringValue:O2},[td]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ep(d.serializer,m)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${bd(s)}`)})(t,e)}function z_(t,e){const n={};return j2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(t,((s,a)=>{const o=ru(a,e.mc(s));o!=null&&(n[s]=o)})),{mapValue:{fields:n}}}function U_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof us||t instanceof Ar||t instanceof Vt||t instanceof Md||t instanceof fs)}function Qp(t,e,n){if(!U_(n)||!S2(n)){const s=bd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function H0(t,e,n){if((e=jr(e))instanceof tu)return e._internalPath;if(typeof e=="string")return Xp(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const O5=new RegExp("[~\\*/\\[\\]]");function Xp(t,e,n){if(e.search(O5)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tu(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cd(t,e,n,s,a){const o=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new Ee(de.INVALID_ARGUMENT,d+t+p)}function B_(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,s,a,o){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V5 extends q_{data(){return super.data()}}function Vd(t,e){return typeof e=="string"?Xp(t,e):e instanceof tu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class H_ extends Kp{}function Zp(t,e,...n){let s=[];e instanceof Kp&&s.push(e),s=s.concat(n),(function(o){const c=o.filter((p=>p instanceof Jp)).length,d=o.filter((p=>p instanceof Pd)).length;if(c>1||c>0&&d>0)throw new Ee(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Pd extends H_{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Pd(e,n,s)}_apply(e){const n=this._parse(e);return G_(e._query,n),new $i(e.firestore,e.converter,I0(e._query,n))}_parse(e){const n=nu(e.firestore);return(function(o,c,d,p,m,x,b){let w;if(m.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ee(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){sv(b,x);const S=[];for(const L of b)S.push(rv(p,o,L));w={arrayValue:{values:S}}}else w=rv(p,o,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||sv(b,x),w=M5(d,c,b,x==="in"||x==="not-in");return Qt.create(m,x,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $_(t,e,n){const s=e,a=Vd("where",t);return Pd._create(a,s,n)}class Jp extends Kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ur.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const d=o.getFlattenedFilters();for(const p of d)G_(c,p),c=I0(c,p)})(e._query,n),new $i(e.firestore,e.converter,I0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wp extends H_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wp(e,n)}_apply(e){const n=(function(a,o,c){if(a.startAt!==null)throw new Ee(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ee(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zc(o,c)})(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new ao(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function P5(t,e="asc"){const n=e,s=Vd("orderBy",t);return Wp._create(s,n)}function rv(t,e,n){if(typeof(n=jr(n))=="string"){if(n==="")throw new Ee(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F2(e)&&n.indexOf("/")!==-1)throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Et.fromString(n));if(!Ie.isDocumentKey(s))throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bb(t,new Ie(s))}if(n instanceof Vt)return bb(t,n._key);throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(n)}.`)}function sv(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G_(t,e){const n=(function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L5{convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Fi(e,((a,o)=>{s[a]=this.convertValue(o,n)})),s}convertVectorValue(e){const n=e.fields?.[td].arrayValue?.values?.map((s=>Ut(s.doubleValue)));return new fs(n)}convertGeoPoint(e){return new us(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=wd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Et.fromString(e);ct(f_(s),9688,{name:e});const a=new Pc(s.get(1),s.get(3)),o=new Ie(s.popFirst(5));return a.isEqual(n)||Ys(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends q_{constructor(e,n,s,a,o,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Vd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Xt("string",Da._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Gf extends Da{data(e={}){return super.data(e)}}class Ia{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Nc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Gf(this._firestore,this._userDataWriter,s.key,s,new Nc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new Gf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Nc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const p=new Gf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Nc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,x=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),x=c.indexOf(d.doc.key)),{type:z5(d.type),doc:p,oldIndex:m,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){t=Bn(t,Vt);const e=Bn(t.firestore,ps);return S5(eu(e),t._key).then((n=>X_(e,t,n)))}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Xt("string",Ia._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class tg extends L5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function iv(t){t=Bn(t,$i);const e=Bn(t.firestore,ps),n=eu(e),s=new tg(e);return F_(t._query),A5(n,t._query).then((a=>new Ia(e,s,t,a)))}function qs(t,e,n){t=Bn(t,Vt);const s=Bn(t.firestore,ps),a=eg(t.converter,e,n);return su(s,[Gp(nu(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,qn.none())])}function B5(t,e,n,...s){t=Bn(t,Vt);const a=Bn(t.firestore,ps),o=nu(a);let c;return c=typeof(e=jr(e))=="string"||e instanceof tu?L_(o,"updateDoc",t._key,e,n,s):P_(o,"updateDoc",t._key,e),su(a,[c.toMutation(t._key,qn.exists(!0))])}function Y_(t){return su(Bn(t.firestore,ps),[new jd(t._key,qn.none())])}function q5(t,e){const n=Bn(t.firestore,ps),s=Rn(t),a=eg(t.converter,e);return su(n,[Gp(nu(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then((()=>s))}function Q_(t,...e){t=jr(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||nv(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nv(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let o,c,d;if(t instanceof Vt)c=Bn(t.firestore,ps),d=Nd(t._key.path),o={next:p=>{e[s]&&e[s](X_(c,t,p))},error:e[s+1],complete:e[s+2]};else{const p=Bn(t,$i);c=Bn(p.firestore,ps),d=p._query;const m=new tg(c);o={next:x=>{e[s]&&e[s](new Ia(c,m,p,x))},error:e[s+1],complete:e[s+2]},F_(t._query)}return(function(m,x,b,w){const _=new Hp(w),S=new Bp(x,_,b);return m.asyncQueue.enqueueAndForget((async()=>Lp(await od(m),S))),()=>{_.Nu(),m.asyncQueue.enqueueAndForget((async()=>zp(await od(m),S)))}})(eu(c),d,a,o)}function su(t,e){return(function(s,a){const o=new Hs;return s.asyncQueue.enqueueAndForget((async()=>m5(await T5(s),a,o))),o.promise})(eu(t),e)}function X_(t,e,n){const s=n.docs.get(e._key),a=new tg(t);return new Da(t,a,e._key,s,new Nc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nu(e)}set(e,n,s){this._verifyNotCommitted();const a=r0(e,this._firestore),o=eg(a.converter,n,s),c=Gp(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,qn.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const o=r0(e,this._firestore);let c;return c=typeof(n=jr(n))=="string"||n instanceof tu?L_(this._dataReader,"WriteBatch.update",o._key,n,s,a):P_(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(c.toMutation(o._key,qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=r0(e,this._firestore);return this._mutations=this._mutations.concat(new jd(n._key,qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function r0(t,e){if((t=jr(t)).firestore!==e)throw new Ee(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Gl(){return new Yp("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){return eu(t=Bn(t,ps)),new F5(t,(e=>su(t,e)))}(function(e,n=!0){(function(a){ro=a})(v3),Jf(new Ic("firestore",((s,{instanceIdentifier:a,options:o})=>{const c=s.getProvider("app").getImmediate(),d=new ps(new M3(s.getProvider("auth-internal")),new P3(c,s.getProvider("app-check-internal")),(function(m,x){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ee(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(m.options.projectId,x)})(c,a),c);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Hl(ab,lb,e),Hl(ab,lb,"esm2020")})();var H5="firebase",$5="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hl(H5,$5,"app");const G5={apiKey:"AIzaSyC2RM2HldOB3ScxGRpGxkSj9wvuDqAwWm4",authDomain:"academic-progress-tracke-4774a.firebaseapp.com",projectId:"academic-progress-tracke-4774a",storageBucket:"academic-progress-tracke-4774a.firebasestorage.app",messagingSenderId:"660250554925",appId:"1:660250554925:web:55db1dfd08215d6e493ea4"},Y5=m2(G5),Ot=C5(Y5);function Z_(t){const[e,n]=X.useState([]),[s,a]=X.useState(!0),[o,c]=X.useState(!1),d=t?.rollNo===Pe.rollNo,p=t?.role==="co-leader",m=U=>d?!0:p?t?.permissions?t.permissions[U]!==!1:!0:!1,x=d||p&&m("canPostNotices"),b=d||p&&m("canCreateUsers"),w=d||p&&m("canManagePasswords");X.useEffect(()=>{if(!t){n([]),a(!1);return}const U=Zp(Fc(Ot,"noticeBoard"),P5("createdAt","desc")),j=Q_(U,C=>{const I=[];C.forEach(A=>{const M={id:A.id,...A.data()},O=M.allowedUsers||[],R=M.isPublic||!1,ae=M.createdByRoll===t.rollNo,xe=O.includes(t.rollNo);d?I.push(M):p?(R||ae||xe)&&I.push(M):(R||xe)&&I.push(M)}),I.sort((A,M)=>{const O=A.order!==void 0?A.order:0,R=M.order!==void 0?M.order:0;return O!==R?O-R:(M.createdAt?.toMillis?.()||0)-(A.createdAt?.toMillis?.()||0)}),n(I),a(!1)},C=>{console.error("Error loading notices:",C),a(!1)});return()=>j()},[t,x]);const _=async(U,j,C={},I=[],A=!1)=>{if(!x)throw new Error("Only admin and co-leaders can create notices");try{return c(!0),await q5(Fc(Ot,"noticeBoard"),{type:U,content:j,meta:C,createdBy:t.name,createdByRoll:t.rollNo,allowedUsers:I,isPublic:A,createdAt:Gl(),updatedAt:Gl()}),!0}catch(M){return console.error("Error creating notice:",M),!1}finally{c(!1)}},S=async(U,j,C="admin")=>{try{const I=Rn(Ot,"noticeBoard",U);if(C==="admin"&&!x)throw new Error("Only admin and co-leaders can manage notices");return await B5(I,{...j,updatedAt:Gl()}),!0}catch(I){return console.error("Error updating notice:",I),!1}},L=async(U,j)=>{if(!x)throw new Error("Only admin and co-leaders can edit notices");try{return await S(U,j,"admin"),!0}catch(C){return console.error("Error editing notice:",C),!1}},z=async U=>{if(!x)throw new Error("Only admin and co-leaders can delete notices");try{return await Y_(Rn(Ot,"noticeBoard",U)),!0}catch(j){return console.error("Error deleting notice:",j),!1}};return{notices:e,isLoading:s,isSaving:o,isAdmin:d,isCoLeader:p,canManageNotices:x,canCreateUsers:b,canManagePasswords:w,hasPermission:m,createNotice:_,updateNotice:S,editNotice:L,deleteNotice:z,editNotice:L,deleteNotice:z,updateNoticePermissions:async(U,j,C)=>{if(!x)throw new Error("Only admin and co-leaders can update permissions");try{return await S(U,{allowedUsers:j,isPublic:C},"admin"),!0}catch(I){return console.error("Error updating permissions:",I),!1}},updateNoticesOrder:async U=>{if(!x)throw new Error("Permission denied");try{c(!0);const j=K_(Ot);return U.forEach((C,I)=>{const A=Rn(Ot,"noticeBoard",C);j.update(A,{order:I})}),await j.commit(),!0}catch(j){return console.error("Error reordering notices:",j),!1}finally{c(!1)}},voteInPoll:async(U,j,C)=>{try{const I=e.find(O=>O.id===U);if(!I||I.type!=="poll")return!1;const A=[...I.meta.options];if(I.meta.isAnonymous||!1){j.forEach(ae=>{A[ae].anonymousVotes||(A[ae].anonymousVotes=0)});const O=I.meta.userVotes||{};(O[C]||[]).forEach(ae=>{A[ae].anonymousVotes>0&&A[ae].anonymousVotes--}),j.forEach(ae=>{A[ae].anonymousVotes++}),O[C]=j,await S(U,{meta:{...I.meta,options:A,userVotes:O}},"user")}else A.forEach(O=>{O.votes=O.votes?.filter(R=>R!==C)||[]}),j.forEach(O=>{A[O].votes||(A[O].votes=[]),A[O].votes.push(C)}),await S(U,{meta:{...I.meta,options:A}},"user");return!0}catch(I){return console.error("Error voting:",I),!1}},toggleChecklistItem:async(U,j,C)=>{try{const I=e.find(O=>O.id===U);if(!I||I.type!=="checklist")return!1;const A=[...I.meta.items];if(I.meta.isAnonymous||!1){A[j].anonymousCompletions||(A[j].anonymousCompletions=0);const O=I.meta.userCompletions||{},R=O[C]||[];R.includes(j)?(O[C]=R.filter(ae=>ae!==j),A[j].anonymousCompletions=Math.max(0,A[j].anonymousCompletions-1)):(O[C]=[...R,j],A[j].anonymousCompletions++),await S(U,{meta:{...I.meta,items:A,userCompletions:O}},"user")}else{A[j].completedBy||(A[j].completedBy=[]);const O=A[j].completedBy.indexOf(C);O>-1?A[j].completedBy.splice(O,1):A[j].completedBy.push(C),await S(U,{meta:{...I.meta,items:A}},"user")}return!0}catch(I){return console.error("Error toggling checklist:",I),!1}},toggleTodo:async(U,j)=>{try{const C=e.find(O=>O.id===U);if(!C||C.type!=="todo")return!1;const I=C.meta.completedBy||[],A=I.indexOf(j);let M;return A>-1?M=I.filter(O=>O!==j):M=[...I,j],await S(U,{meta:{...C.meta,completedBy:M}},"user"),!0}catch(C){return console.error("Error toggling todo:",C),!1}}}}const Q5={};var $0=null;function X5(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return Q5.randomBytes(t)}catch{}if(!$0)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return $0(t)}function K5(t){$0=t}function ng(t,e){if(t=t||rg,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(ud(X5(Hc),Hc)),n.join("")}function J_(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=rg;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function s(a){Pr(function(){try{a(null,ng(t))}catch(o){a(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(a,o){s(function(c,d){if(c){o(c);return}a(d)})})}function W_(t,e){if(typeof e>"u"&&(e=rg),typeof e=="number"&&(e=ng(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return G0(t,e)}function ew(t,e,n,s){function a(o){typeof t=="string"&&typeof e=="number"?J_(e,function(c,d){G0(t,d,o,s)}):typeof t=="string"&&typeof e=="string"?G0(t,e,o,s):Pr(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);a(n)}else return new Promise(function(o,c){a(function(d,p){if(d){c(d);return}o(p)})})}function tw(t,e){for(var n=t.length^e.length,s=0;s<t.length;++s)n|=t.charCodeAt(s)^e.charCodeAt(s);return n===0}function Z5(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:tw(W_(t,e.substring(0,e.length-31)),e)}function J5(t,e,n,s){function a(o){if(typeof t!="string"||typeof e!="string"){Pr(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Pr(o.bind(this,null,!1));return}ew(t,e.substring(0,29),function(c,d){c?o(c):o(null,tw(d,e))},s)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);a(n)}else return new Promise(function(o,c){a(function(d,p){if(d){c(d);return}o(p)})})}function W5(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function ej(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function tj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return nw(t)>72}var Pr=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function nw(t){for(var e=0,n=0,s=0;s<t.length;++s)n=t.charCodeAt(s),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(s+1)&64512)===56320?(++s,e+=4):e+=3;return e}function nj(t){for(var e=0,n,s,a=new Array(nw(t)),o=0,c=t.length;o<c;++o)n=t.charCodeAt(o),n<128?a[e++]=n:n<2048?(a[e++]=n>>6|192,a[e++]=n&63|128):(n&64512)===55296&&((s=t.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(s&1023),++o,a[e++]=n>>18|240,a[e++]=n>>12&63|128,a[e++]=n>>6&63|128,a[e++]=n&63|128):(a[e++]=n>>12|224,a[e++]=n>>6&63|128,a[e++]=n&63|128);return a}var Ol="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ei=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function ud(t,e){var n=0,s=[],a,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(a=t[n++]&255,s.push(Ol[a>>2&63]),a=(a&3)<<4,n>=e){s.push(Ol[a&63]);break}if(o=t[n++]&255,a|=o>>4&15,s.push(Ol[a&63]),a=(o&15)<<2,n>=e){s.push(Ol[a&63]);break}o=t[n++]&255,a|=o>>6&3,s.push(Ol[a&63]),s.push(Ol[o&63])}return s.join("")}function rw(t,e){var n=0,s=t.length,a=0,o=[],c,d,p,m,x,b;if(e<=0)throw Error("Illegal len: "+e);for(;n<s-1&&a<e&&(b=t.charCodeAt(n++),c=b<Ei.length?Ei[b]:-1,b=t.charCodeAt(n++),d=b<Ei.length?Ei[b]:-1,!(c==-1||d==-1||(x=c<<2>>>0,x|=(d&48)>>4,o.push(String.fromCharCode(x)),++a>=e||n>=s)||(b=t.charCodeAt(n++),p=b<Ei.length?Ei[b]:-1,p==-1)||(x=(d&15)<<4>>>0,x|=(p&60)>>2,o.push(String.fromCharCode(x)),++a>=e||n>=s)));)b=t.charCodeAt(n++),m=b<Ei.length?Ei[b]:-1,x=(p&3)<<6>>>0,x|=m,o.push(String.fromCharCode(x)),++a;var w=[];for(n=0;n<a;n++)w.push(o[n].charCodeAt(0));return w}var Hc=16,rg=10,rj=16,sj=100,av=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],lv=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],sw=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function $c(t,e,n,s){var a,o=t[e],c=t[e+1];return o^=n[0],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[1],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[2],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[3],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[4],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[5],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[6],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[7],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[8],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[9],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[10],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[11],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[12],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[13],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[14],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[15],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[16],t[e]=c^n[rj+1],t[e+1]=o,t}function ql(t,e){for(var n=0,s=0;n<4;++n)s=s<<8|t[e]&255,e=(e+1)%t.length;return{key:s,offp:e}}function ov(t,e,n){for(var s=0,a=[0,0],o=e.length,c=n.length,d,p=0;p<o;p++)d=ql(t,s),s=d.offp,e[p]=e[p]^d.key;for(p=0;p<o;p+=2)a=$c(a,0,e,n),e[p]=a[0],e[p+1]=a[1];for(p=0;p<c;p+=2)a=$c(a,0,e,n),n[p]=a[0],n[p+1]=a[1]}function ij(t,e,n,s){for(var a=0,o=[0,0],c=n.length,d=s.length,p,m=0;m<c;m++)p=ql(e,a),a=p.offp,n[m]=n[m]^p.key;for(a=0,m=0;m<c;m+=2)p=ql(t,a),a=p.offp,o[0]^=p.key,p=ql(t,a),a=p.offp,o[1]^=p.key,o=$c(o,0,n,s),n[m]=o[0],n[m+1]=o[1];for(m=0;m<d;m+=2)p=ql(t,a),a=p.offp,o[0]^=p.key,p=ql(t,a),a=p.offp,o[1]^=p.key,o=$c(o,0,n,s),s[m]=o[0],s[m+1]=o[1]}function cv(t,e,n,s,a){var o=sw.slice(),c=o.length,d;if(n<4||n>31)if(d=Error("Illegal number of rounds (4-31): "+n),s){Pr(s.bind(this,d));return}else throw d;if(e.length!==Hc)if(d=Error("Illegal salt length: "+e.length+" != "+Hc),s){Pr(s.bind(this,d));return}else throw d;n=1<<n>>>0;var p,m,x=0,b;typeof Int32Array=="function"?(p=new Int32Array(av),m=new Int32Array(lv)):(p=av.slice(),m=lv.slice()),ij(e,t,p,m);function w(){if(a&&a(x/n),x<n)for(var S=Date.now();x<n&&(x=x+1,ov(t,p,m),ov(e,p,m),!(Date.now()-S>sj)););else{for(x=0;x<64;x++)for(b=0;b<c>>1;b++)$c(o,b<<1,p,m);var L=[];for(x=0;x<c;x++)L.push((o[x]>>24&255)>>>0),L.push((o[x]>>16&255)>>>0),L.push((o[x]>>8&255)>>>0),L.push((o[x]&255)>>>0);if(s){s(null,L);return}else return L}s&&Pr(w)}if(typeof s<"u")w();else for(var _;;)if(typeof(_=w())<"u")return _||[]}function G0(t,e,n,s){var a;if(typeof t!="string"||typeof e!="string")if(a=Error("Invalid string / salt: Not a string"),n){Pr(n.bind(this,a));return}else throw a;var o,c;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(a=Error("Invalid salt version: "+e.substring(0,2)),n){Pr(n.bind(this,a));return}else throw a;if(e.charAt(2)==="$")o="\0",c=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(a=Error("Invalid salt revision: "+e.substring(2,4)),n){Pr(n.bind(this,a));return}else throw a;c=4}if(e.charAt(c+2)>"$")if(a=Error("Missing salt rounds"),n){Pr(n.bind(this,a));return}else throw a;var d=parseInt(e.substring(c,c+1),10)*10,p=parseInt(e.substring(c+1,c+2),10),m=d+p,x=e.substring(c+3,c+25);t+=o>="a"?"\0":"";var b=nj(t),w=rw(x,Hc);function _(S){var L=[];return L.push("$2"),o>="a"&&L.push(o),L.push("$"),m<10&&L.push("0"),L.push(m.toString()),L.push("$"),L.push(ud(w,w.length)),L.push(ud(S,sw.length*4-1)),L.join("")}if(typeof n>"u")return _(cv(b,w,m));cv(b,w,m,function(S,L){S?n(S,null):n(null,_(L))},s)}function aj(t,e){return ud(t,e)}function lj(t,e){return rw(t,e)}const mc={setRandomFallback:K5,genSaltSync:ng,genSalt:J_,hashSync:W_,hash:ew,compareSync:Z5,compare:J5,getRounds:W5,getSalt:ej,truncates:tj,encodeBase64:aj,decodeBase64:lj};function iw(){const[t,e]=X.useState([]),[n,s]=X.useState(null),[a,o]=X.useState(!0),[c,d]=X.useState(!1),p=n&&n.rollNo===Pe.rollNo,m=async()=>{try{o(!0);const q=await iv(Fc(Ot,"students")),V=[];if(q.forEach(B=>{V.push(B.data())}),!V.some(B=>B.rollNo===Pe.rollNo)){const B={...Pe,password:mc.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Pe.admissionYear||new Date().getFullYear(),isDSY:Pe.isDSY||!1};V.push(B),await qs(Rn(Ot,"students",Pe.rollNo),B)}e(V);try{const B=localStorage.getItem("selected-student");if(B){const U=JSON.parse(B),j=V.find(C=>C.rollNo===U.rollNo);j?s(j):localStorage.removeItem("selected-student")}}catch{localStorage.removeItem("selected-student")}d(!0)}catch(q){console.error("Error loading students:",q);const V={...Pe,password:mc.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Pe.admissionYear,isDSY:!1};e([V]),d(!0)}finally{o(!1)}},x=async(q,V,H="",B="student",U=new Date().getFullYear(),j=!1)=>{try{const C=Number(U);if(!Number.isInteger(C)||C<2e3||C>new Date().getFullYear())throw new Error("Invalid admission year");if(typeof j!="boolean")throw new Error("Invalid DSY flag");const I={rollNo:q,name:V,admissionYear:C,isDSY:j,isProtected:!!H,password:H?mc.hashSync(H,10):null,role:B};if(t.some(M=>M.rollNo===q))throw new Error("Student with this roll number already exists");return await qs(Rn(Ot,"students",q),I),e([...t,I]),!0}catch(C){throw console.error("Error creating student:",C),C}},b=async(q,V)=>{try{if(q===Pe.rollNo)throw new Error("Cannot change admin role");const H=t.find(U=>U.rollNo===q);if(!H)throw new Error("Student not found");let B={...H,role:V};return V==="co-leader"&&!H.permissions&&(B.permissions={canCreateUsers:!0,canPostNotices:!0,canAppointCoLeaders:!1,canManagePasswords:!1}),V==="student"&&H.role==="co-leader"&&delete B.permissions,await qs(Rn(Ot,"students",q),B),e(t.map(U=>U.rollNo===q?B:U)),n&&n.rollNo===q&&(s(B),localStorage.setItem("selected-student",JSON.stringify(B))),!0}catch(H){throw console.error("Error updating role:",H),H}},w=async(q,V)=>{try{if(!V||!V.trim())throw new Error("Name cannot be empty");const H=t.find(U=>U.rollNo===q);if(!H)throw new Error("Student not found");const B={...H,name:V.trim()};return await qs(Rn(Ot,"students",q),B),e(t.map(U=>U.rollNo===q?B:U)),n&&n.rollNo===q&&(s(B),localStorage.setItem("selected-student",JSON.stringify(B))),!0}catch(H){throw console.error("Error updating name:",H),H}},_=async q=>{try{if(q===Pe.rollNo)throw new Error("Cannot delete admin student");await Y_(Rn(Ot,"students",q));const V=K_(Ot),H=Zp(Fc(Ot,"academic-data"),$_("studentId","==",q));(await iv(H)).forEach(j=>{V.delete(j.ref)});const U=Rn(Ot,"userNotes",q);return V.delete(U),await V.commit(),e(t.filter(j=>j.rollNo!==q)),n&&n.rollNo===q&&(s(null),localStorage.removeItem("selected-student")),!0}catch(V){throw console.error("Error deleting student:",V),V}},S=async(q,V)=>{try{return q.isProtected?V?await mc.compare(V,q.password):!1:!0}catch(H){return console.error("Error authenticating student:",H),!1}},L=async(q,V,H=!1)=>{try{const B=t.find(j=>j.rollNo===q);if(!B)throw new Error("Student not found");const U={...B,password:H?null:mc.hashSync(V,10),isProtected:!H};return await qs(Rn(Ot,"students",q),U),e(t.map(j=>j.rollNo===q?U:j)),!0}catch(B){throw console.error("Error updating password:",B),B}},z=async(q,V)=>{try{const H=t.find(U=>U.rollNo===q);if(!H)throw new Error("Student not found");if(H.role!=="co-leader")throw new Error("Can only update permissions for co-leaders");const B={...H,permissions:V};return await qs(Rn(Ot,"students",q),B),e(t.map(U=>U.rollNo===q?B:U)),n&&n.rollNo===q&&(s(B),localStorage.setItem("selected-student",JSON.stringify(B))),!0}catch(H){throw console.error("Error updating co-leader permissions:",H),H}},F=q=>{const V=n;if(V&&V.rollNo!==q?.rollNo){const H=`academic-data-${V.rollNo}`;localStorage.removeItem(H)}s(q),q?localStorage.setItem("selected-student",JSON.stringify(q)):localStorage.removeItem("selected-student")};return X.useEffect(()=>{m()},[]),{students:t,selectedStudent:n,isAdmin:p,isLoading:a,hasInitialized:c,createStudent:x,deleteStudent:_,selectStudent:F,authenticateStudent:S,updateStudentPassword:L,updateStudentRole:b,updateCoLeaderPermissions:z,updateStudentName:w,loadStudents:m}}function oj(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const cj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fj={};function uv(t,e){return(fj.jsx?uj:cj).test(t)}const dj=/[ \t\n\f\r]/g;function hj(t){return typeof t=="object"?t.type==="text"?fv(t.value):!1:fv(t)}function fv(t){return t.replace(dj,"")===""}class iu{constructor(e,n,s){this.normal=n,this.property=e,s&&(this.space=s)}}iu.prototype.normal={};iu.prototype.property={};iu.prototype.space=void 0;function aw(t,e){const n={},s={};for(const a of t)Object.assign(n,a.property),Object.assign(s,a.normal);return new iu(n,s,e)}function Y0(t){return t.toLowerCase()}class Wn{constructor(e,n){this.attribute=n,this.property=e}}Wn.prototype.attribute="";Wn.prototype.booleanish=!1;Wn.prototype.boolean=!1;Wn.prototype.commaOrSpaceSeparated=!1;Wn.prototype.commaSeparated=!1;Wn.prototype.defined=!1;Wn.prototype.mustUseProperty=!1;Wn.prototype.number=!1;Wn.prototype.overloadedBoolean=!1;Wn.prototype.property="";Wn.prototype.spaceSeparated=!1;Wn.prototype.space=void 0;let mj=0;const $e=$a(),Gt=$a(),Q0=$a(),be=$a(),Nt=$a(),Yl=$a(),or=$a();function $a(){return 2**++mj}const X0=Object.freeze(Object.defineProperty({__proto__:null,boolean:$e,booleanish:Gt,commaOrSpaceSeparated:or,commaSeparated:Yl,number:be,overloadedBoolean:Q0,spaceSeparated:Nt},Symbol.toStringTag,{value:"Module"})),s0=Object.keys(X0);class sg extends Wn{constructor(e,n,s,a){let o=-1;if(super(e,n),dv(this,"space",a),typeof s=="number")for(;++o<s0.length;){const c=s0[o];dv(this,s0[o],(s&X0[c])===X0[c])}}}sg.prototype.defined=!0;function dv(t,e,n){n&&(t[e]=n)}function oo(t){const e={},n={};for(const[s,a]of Object.entries(t.properties)){const o=new sg(s,t.transform(t.attributes||{},s),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),e[s]=o,n[Y0(s)]=s,n[Y0(o.attribute)]=s}return new iu(e,n,t.space)}const lw=oo({properties:{ariaActiveDescendant:null,ariaAtomic:Gt,ariaAutoComplete:null,ariaBusy:Gt,ariaChecked:Gt,ariaColCount:be,ariaColIndex:be,ariaColSpan:be,ariaControls:Nt,ariaCurrent:null,ariaDescribedBy:Nt,ariaDetails:null,ariaDisabled:Gt,ariaDropEffect:Nt,ariaErrorMessage:null,ariaExpanded:Gt,ariaFlowTo:Nt,ariaGrabbed:Gt,ariaHasPopup:null,ariaHidden:Gt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Nt,ariaLevel:be,ariaLive:null,ariaModal:Gt,ariaMultiLine:Gt,ariaMultiSelectable:Gt,ariaOrientation:null,ariaOwns:Nt,ariaPlaceholder:null,ariaPosInSet:be,ariaPressed:Gt,ariaReadOnly:Gt,ariaRelevant:null,ariaRequired:Gt,ariaRoleDescription:Nt,ariaRowCount:be,ariaRowIndex:be,ariaRowSpan:be,ariaSelected:Gt,ariaSetSize:be,ariaSort:null,ariaValueMax:be,ariaValueMin:be,ariaValueNow:be,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function ow(t,e){return e in t?t[e]:e}function cw(t,e){return ow(t,e.toLowerCase())}const pj=oo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yl,acceptCharset:Nt,accessKey:Nt,action:null,allow:null,allowFullScreen:$e,allowPaymentRequest:$e,allowUserMedia:$e,alt:null,as:null,async:$e,autoCapitalize:null,autoComplete:Nt,autoFocus:$e,autoPlay:$e,blocking:Nt,capture:null,charSet:null,checked:$e,cite:null,className:Nt,cols:be,colSpan:null,content:null,contentEditable:Gt,controls:$e,controlsList:Nt,coords:be|Yl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$e,defer:$e,dir:null,dirName:null,disabled:$e,download:Q0,draggable:Gt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$e,formTarget:null,headers:Nt,height:be,hidden:Q0,high:be,href:null,hrefLang:null,htmlFor:Nt,httpEquiv:Nt,id:null,imageSizes:null,imageSrcSet:null,inert:$e,inputMode:null,integrity:null,is:null,isMap:$e,itemId:null,itemProp:Nt,itemRef:Nt,itemScope:$e,itemType:Nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$e,low:be,manifest:null,max:null,maxLength:be,media:null,method:null,min:null,minLength:be,multiple:$e,muted:$e,name:null,nonce:null,noModule:$e,noValidate:$e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$e,optimum:be,pattern:null,ping:Nt,placeholder:null,playsInline:$e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$e,referrerPolicy:null,rel:Nt,required:$e,reversed:$e,rows:be,rowSpan:be,sandbox:Nt,scope:null,scoped:$e,seamless:$e,selected:$e,shadowRootClonable:$e,shadowRootDelegatesFocus:$e,shadowRootMode:null,shape:null,size:be,sizes:null,slot:null,span:be,spellCheck:Gt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:be,step:null,style:null,tabIndex:be,target:null,title:null,translate:null,type:null,typeMustMatch:$e,useMap:null,value:Gt,width:be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Nt,axis:null,background:null,bgColor:null,border:be,borderColor:null,bottomMargin:be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$e,declare:$e,event:null,face:null,frame:null,frameBorder:null,hSpace:be,leftMargin:be,link:null,longDesc:null,lowSrc:null,marginHeight:be,marginWidth:be,noResize:$e,noHref:$e,noShade:$e,noWrap:$e,object:null,profile:null,prompt:null,rev:null,rightMargin:be,rules:null,scheme:null,scrolling:Gt,standby:null,summary:null,text:null,topMargin:be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$e,disableRemotePlayback:$e,prefix:null,property:null,results:be,security:null,unselectable:null},space:"html",transform:cw}),gj=oo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:or,accentHeight:be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:be,amplitude:be,arabicForm:null,ascent:be,attributeName:null,attributeType:null,azimuth:be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:be,by:null,calcMode:null,capHeight:be,className:Nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:be,diffuseConstant:be,direction:null,display:null,dur:null,divisor:be,dominantBaseline:null,download:$e,dx:null,dy:null,edgeMode:null,editable:null,elevation:be,enableBackground:null,end:null,event:null,exponent:be,externalResourcesRequired:null,fill:null,fillOpacity:be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yl,g2:Yl,glyphName:Yl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:be,horizOriginX:be,horizOriginY:be,id:null,ideographic:be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:be,k:be,k1:be,k2:be,k3:be,k4:be,kernelMatrix:or,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:be,overlineThickness:be,paintOrder:null,panose1:null,path:null,pathLength:be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:be,pointsAtY:be,pointsAtZ:be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:or,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:or,rev:or,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:or,requiredFeatures:or,requiredFonts:or,requiredFormats:or,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:be,specularExponent:be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:be,strikethroughThickness:be,string:null,stroke:null,strokeDashArray:or,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:be,strokeOpacity:be,strokeWidth:null,style:null,surfaceScale:be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:or,tabIndex:be,tableValues:null,target:null,targetX:be,targetY:be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:or,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:be,underlineThickness:be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:be,values:null,vAlphabetic:be,vMathematical:be,vectorEffect:null,vHanging:be,vIdeographic:be,version:null,vertAdvY:be,vertOriginX:be,vertOriginY:be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ow}),uw=oo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),fw=oo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:cw}),dw=oo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),xj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yj=/[A-Z]/g,hv=/-[a-z]/g,bj=/^data[-\w.:]+$/i;function vj(t,e){const n=Y0(e);let s=e,a=Wn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&bj.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(hv,wj);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!hv.test(o)){let c=o.replace(yj,_j);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}a=sg}return new a(s,e)}function _j(t){return"-"+t.toLowerCase()}function wj(t){return t.charAt(1).toUpperCase()}const Nj=aw([lw,pj,uw,fw,dw],"html"),ig=aw([lw,gj,uw,fw,dw],"svg");function Ej(t){return t.join(" ").trim()}var Vl={},i0,mv;function Tj(){if(mv)return i0;mv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,p=`
`,m="/",x="*",b="",w="comment",_="declaration";i0=function(L,z){if(typeof L!="string")throw new TypeError("First argument must be a string");if(!L)return[];z=z||{};var F=1,q=1;function V(R){var ae=R.match(e);ae&&(F+=ae.length);var xe=R.lastIndexOf(p);q=~xe?R.length-xe:q+R.length}function H(){var R={line:F,column:q};return function(ae){return ae.position=new B(R),C(),ae}}function B(R){this.start=R,this.end={line:F,column:q},this.source=z.source}B.prototype.content=L;function U(R){var ae=new Error(z.source+":"+F+":"+q+": "+R);if(ae.reason=R,ae.filename=z.source,ae.line=F,ae.column=q,ae.source=L,!z.silent)throw ae}function j(R){var ae=R.exec(L);if(ae){var xe=ae[0];return V(xe),L=L.slice(xe.length),ae}}function C(){j(n)}function I(R){var ae;for(R=R||[];ae=A();)ae!==!1&&R.push(ae);return R}function A(){var R=H();if(!(m!=L.charAt(0)||x!=L.charAt(1))){for(var ae=2;b!=L.charAt(ae)&&(x!=L.charAt(ae)||m!=L.charAt(ae+1));)++ae;if(ae+=2,b===L.charAt(ae-1))return U("End of comment missing");var xe=L.slice(2,ae-2);return q+=2,V(xe),L=L.slice(ae),q+=2,R({type:w,comment:xe})}}function M(){var R=H(),ae=j(s);if(ae){if(A(),!j(a))return U("property missing ':'");var xe=j(o),Q=R({type:_,property:S(ae[0].replace(t,b)),value:xe?S(xe[0].replace(t,b)):b});return j(c),Q}}function O(){var R=[];I(R);for(var ae;ae=M();)ae!==!1&&(R.push(ae),I(R));return R}return C(),O()};function S(L){return L?L.replace(d,b):b}return i0}var pv;function Sj(){if(pv)return Vl;pv=1;var t=Vl&&Vl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.default=n;var e=t(Tj());function n(s,a){var o=null;if(!s||typeof s!="string")return o;var c=(0,e.default)(s),d=typeof a=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,x=p.value;d?a(m,x,p):x&&(o=o||{},o[m]=x)}}),o}return Vl}var pc={},gv;function Aj(){if(gv)return pc;gv=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(m){return!m||n.test(m)||t.test(m)},c=function(m,x){return x.toUpperCase()},d=function(m,x){return"".concat(x,"-")},p=function(m,x){return x===void 0&&(x={}),o(m)?m:(m=m.toLowerCase(),x.reactCompat?m=m.replace(a,d):m=m.replace(s,d),m.replace(e,c))};return pc.camelCase=p,pc}var gc,xv;function jj(){if(xv)return gc;xv=1;var t=gc&&gc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(Sj()),n=Aj();function s(a,o){var c={};return!a||typeof a!="string"||(0,e.default)(a,function(d,p){d&&p&&(c[(0,n.camelCase)(d,o)]=p)}),c}return s.default=s,gc=s,gc}var Cj=jj();const kj=pd(Cj),hw=mw("end"),ag=mw("start");function mw(t){return e;function e(n){const s=n&&n.position&&n.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function Rj(t){const e=ag(t),n=hw(t);if(e&&n)return{start:e,end:n}}function Cc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?yv(t.position):"start"in t||"end"in t?yv(t):"line"in t||"column"in t?K0(t):""}function K0(t){return bv(t&&t.line)+":"+bv(t&&t.column)}function yv(t){return K0(t&&t.start)+"-"+K0(t&&t.end)}function bv(t){return t&&typeof t=="number"?t:1}class Mn extends Error{constructor(e,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let a="",o={},c=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?a=e:!o.cause&&e&&(c=!0,a=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof s=="string"){const p=s.indexOf(":");p===-1?o.ruleId=s:(o.source=s.slice(0,p),o.ruleId=s.slice(p+1))}if(!o.place&&o.ancestors&&o.ancestors){const p=o.ancestors[o.ancestors.length-1];p&&(o.place=p.position)}const d=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=d?d.line:void 0,this.name=Cc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Mn.prototype.file="";Mn.prototype.name="";Mn.prototype.reason="";Mn.prototype.message="";Mn.prototype.stack="";Mn.prototype.column=void 0;Mn.prototype.line=void 0;Mn.prototype.ancestors=void 0;Mn.prototype.cause=void 0;Mn.prototype.fatal=void 0;Mn.prototype.place=void 0;Mn.prototype.ruleId=void 0;Mn.prototype.source=void 0;const lg={}.hasOwnProperty,Dj=new Map,Ij=/[A-Z]/g,Mj=new Set(["table","tbody","thead","tfoot","tr"]),Oj=new Set(["td","th"]),pw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Vj(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let s;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=Hj(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=Fj(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ig:Nj,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=gw(a,t,void 0);return o&&typeof o!="string"?o:a.create(t,a.Fragment,{children:o||void 0},void 0)}function gw(t,e,n){if(e.type==="element")return Pj(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Lj(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Uj(t,e,n);if(e.type==="mdxjsEsm")return zj(t,e);if(e.type==="root")return Bj(t,e,n);if(e.type==="text")return qj(t,e)}function Pj(t,e,n){const s=t.schema;let a=s;e.tagName.toLowerCase()==="svg"&&s.space==="html"&&(a=ig,t.schema=a),t.ancestors.push(e);const o=yw(t,e.tagName,!1),c=$j(t,e);let d=cg(t,e);return Mj.has(e.tagName)&&(d=d.filter(function(p){return typeof p=="string"?!hj(p):!0})),xw(t,c,o,e),og(c,d),t.ancestors.pop(),t.schema=s,t.create(e,o,c,n)}function Lj(t,e){if(e.data&&e.data.estree&&t.evaluater){const s=e.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}Gc(t,e.position)}function zj(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Gc(t,e.position)}function Uj(t,e,n){const s=t.schema;let a=s;e.name==="svg"&&s.space==="html"&&(a=ig,t.schema=a),t.ancestors.push(e);const o=e.name===null?t.Fragment:yw(t,e.name,!0),c=Gj(t,e),d=cg(t,e);return xw(t,c,o,e),og(c,d),t.ancestors.pop(),t.schema=s,t.create(e,o,c,n)}function Bj(t,e,n){const s={};return og(s,cg(t,e)),t.create(e,t.Fragment,s,n)}function qj(t,e){return e.value}function xw(t,e,n,s){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=s)}function og(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Fj(t,e,n){return s;function s(a,o,c,d){const m=Array.isArray(c.children)?n:e;return d?m(o,c,d):m(o,c)}}function Hj(t,e){return n;function n(s,a,o,c){const d=Array.isArray(o.children),p=ag(s);return e(a,o,c,d,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function $j(t,e){const n={};let s,a;for(a in e.properties)if(a!=="children"&&lg.call(e.properties,a)){const o=Yj(t,a,e.properties[a]);if(o){const[c,d]=o;t.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&Oj.has(e.tagName)?s=d:n[c]=d}}if(s){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function Gj(t,e){const n={};for(const s of e.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const o=s.data.estree.body[0];o.type;const c=o.expression;c.type;const d=c.properties[0];d.type,Object.assign(n,t.evaluater.evaluateExpression(d.argument))}else Gc(t,e.position);else{const a=s.name;let o;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const d=s.value.data.estree.body[0];d.type,o=t.evaluater.evaluateExpression(d.expression)}else Gc(t,e.position);else o=s.value===null?!0:s.value;n[a]=o}return n}function cg(t,e){const n=[];let s=-1;const a=t.passKeys?new Map:Dj;for(;++s<e.children.length;){const o=e.children[s];let c;if(t.passKeys){const p=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(p){const m=a.get(p)||0;c=p+"-"+m,a.set(p,m+1)}}const d=gw(t,o,c);d!==void 0&&n.push(d)}return n}function Yj(t,e,n){const s=vj(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?oj(n):Ej(n)),s.property==="style"){let a=typeof n=="object"?n:Qj(t,String(n));return t.stylePropertyNameCase==="css"&&(a=Xj(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&s.space?xj[s.property]||s.property:s.attribute,n]}}function Qj(t,e){try{return kj(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const s=n,a=new Mn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=pw+"#cannot-parse-style-attribute",a}}function yw(t,e,n){let s;if(!n)s={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let o=-1,c;for(;++o<a.length;){const d=uv(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(o&&d.type==="Literal"),optional:!1}:d}s=c}else s=uv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(s.type==="Literal"){const a=s.value;return lg.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(s);Gc(t)}function Gc(t,e){const n=new Mn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=pw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Xj(t){const e={};let n;for(n in t)lg.call(t,n)&&(e[Kj(n)]=t[n]);return e}function Kj(t){let e=t.replace(Ij,Zj);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Zj(t){return"-"+t.toLowerCase()}const a0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Jj={};function ug(t,e){const n=Jj,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return bw(t,s,a)}function bw(t,e,n){if(Wj(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return vv(t.children,e,n)}return Array.isArray(t)?vv(t,e,n):""}function vv(t,e,n){const s=[];let a=-1;for(;++a<t.length;)s[a]=bw(t[a],e,n);return s.join("")}function Wj(t){return!!(t&&typeof t=="object")}const _v=document.createElement("i");function fg(t){const e="&"+t+";";_v.innerHTML=e;const n=_v.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ur(t,e,n,s){const a=t.length;let o=0,c;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,s.length<1e4)c=Array.from(s),c.unshift(e,n),t.splice(...c);else for(n&&t.splice(e,n);o<s.length;)c=s.slice(o,o+1e4),c.unshift(e,0),t.splice(...c),o+=1e4,e+=1e4}function Sr(t,e){return t.length>0?(ur(t,t.length,0,e),t):e}const wv={}.hasOwnProperty;function vw(t){const e={};let n=-1;for(;++n<t.length;)eC(e,t[n]);return e}function eC(t,e){let n;for(n in e){const a=(wv.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let c;if(o)for(c in o){wv.call(a,c)||(a[c]=[]);const d=o[c];tC(a[c],Array.isArray(d)?d:d?[d]:[])}}}function tC(t,e){let n=-1;const s=[];for(;++n<e.length;)(e[n].add==="after"?t:s).push(e[n]);ur(t,0,0,s)}function _w(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function zr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zn=Gi(/[A-Za-z]/),In=Gi(/[\dA-Za-z]/),nC=Gi(/[#-'*+\--9=?A-Z^-~]/);function fd(t){return t!==null&&(t<32||t===127)}const Z0=Gi(/\d/),rC=Gi(/[\dA-Fa-f]/),sC=Gi(/[!-/:-@[-`{-~]/);function Me(t){return t!==null&&t<-2}function bt(t){return t!==null&&(t<0||t===32)}function Ze(t){return t===-2||t===-1||t===32}const Ld=Gi(new RegExp("\\p{P}|\\p{S}","u")),za=Gi(/\s/);function Gi(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function co(t){const e=[];let n=-1,s=0,a=0;for(;++n<t.length;){const o=t.charCodeAt(n);let c="";if(o===37&&In(t.charCodeAt(n+1))&&In(t.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const d=t.charCodeAt(n+1);o<56320&&d>56319&&d<57344?(c=String.fromCharCode(o,d),a=1):c=""}else c=String.fromCharCode(o);c&&(e.push(t.slice(s,n),encodeURIComponent(c)),s=n+a+1,c=""),a&&(n+=a,a=0)}return e.join("")+t.slice(s)}function it(t,e,n,s){const a=s?s-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(p){return Ze(p)?(t.enter(n),d(p)):e(p)}function d(p){return Ze(p)&&o++<a?(t.consume(p),d):(t.exit(n),e(p))}}const iC={tokenize:aC};function aC(t){const e=t.attempt(this.parser.constructs.contentInitial,s,a);let n;return e;function s(d){if(d===null){t.consume(d);return}return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),it(t,e,"linePrefix")}function a(d){return t.enter("paragraph"),o(d)}function o(d){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,c(d)}function c(d){if(d===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(d);return}return Me(d)?(t.consume(d),t.exit("chunkText"),o):(t.consume(d),c)}}const lC={tokenize:oC},Nv={tokenize:cC};function oC(t){const e=this,n=[];let s=0,a,o,c;return d;function d(V){if(s<n.length){const H=n[s];return e.containerState=H[1],t.attempt(H[0].continuation,p,m)(V)}return m(V)}function p(V){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&q();const H=e.events.length;let B=H,U;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){U=e.events[B][1].end;break}F(s);let j=H;for(;j<e.events.length;)e.events[j][1].end={...U},j++;return ur(e.events,B+1,0,e.events.slice(H)),e.events.length=j,m(V)}return d(V)}function m(V){if(s===n.length){if(!a)return w(V);if(a.currentConstruct&&a.currentConstruct.concrete)return S(V);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Nv,x,b)(V)}function x(V){return a&&q(),F(s),w(V)}function b(V){return e.parser.lazy[e.now().line]=s!==n.length,c=e.now().offset,S(V)}function w(V){return e.containerState={},t.attempt(Nv,_,S)(V)}function _(V){return s++,n.push([e.currentConstruct,e.containerState]),w(V)}function S(V){if(V===null){a&&q(),F(0),t.consume(V);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),L(V)}function L(V){if(V===null){z(t.exit("chunkFlow"),!0),F(0),t.consume(V);return}return Me(V)?(t.consume(V),z(t.exit("chunkFlow")),s=0,e.interrupt=void 0,d):(t.consume(V),L)}function z(V,H){const B=e.sliceStream(V);if(H&&B.push(null),V.previous=o,o&&(o.next=V),o=V,a.defineSkip(V.start),a.write(B),e.parser.lazy[V.start.line]){let U=a.events.length;for(;U--;)if(a.events[U][1].start.offset<c&&(!a.events[U][1].end||a.events[U][1].end.offset>c))return;const j=e.events.length;let C=j,I,A;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(I){A=e.events[C][1].end;break}I=!0}for(F(s),U=j;U<e.events.length;)e.events[U][1].end={...A},U++;ur(e.events,C+1,0,e.events.slice(j)),e.events.length=U}}function F(V){let H=n.length;for(;H-- >V;){const B=n[H];e.containerState=B[1],B[0].exit.call(e,t)}n.length=V}function q(){a.write([null]),o=void 0,a=void 0,e.containerState._closeFlow=void 0}}function cC(t,e,n){return it(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function eo(t){if(t===null||bt(t)||za(t))return 1;if(Ld(t))return 2}function zd(t,e,n){const s=[];let a=-1;for(;++a<t.length;){const o=t[a].resolveAll;o&&!s.includes(o)&&(e=o(e,n),s.push(o))}return e}const J0={name:"attention",resolveAll:uC,tokenize:fC};function uC(t,e){let n=-1,s,a,o,c,d,p,m,x;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(s=n;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&e.sliceSerialize(t[s][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[s][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[s][1].end.offset-t[s][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[s][1].end},w={...t[n][1].start};Ev(b,-p),Ev(w,p),c={type:p>1?"strongSequence":"emphasisSequence",start:b,end:{...t[s][1].end}},d={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},o={type:p>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[n][1].start}},a={type:p>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},t[s][1].end={...c.start},t[n][1].start={...d.end},m=[],t[s][1].end.offset-t[s][1].start.offset&&(m=Sr(m,[["enter",t[s][1],e],["exit",t[s][1],e]])),m=Sr(m,[["enter",a,e],["enter",c,e],["exit",c,e],["enter",o,e]]),m=Sr(m,zd(e.parser.constructs.insideSpan.null,t.slice(s+1,n),e)),m=Sr(m,[["exit",o,e],["enter",d,e],["exit",d,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(x=2,m=Sr(m,[["enter",t[n][1],e],["exit",t[n][1],e]])):x=0,ur(t,s-1,n-s+3,m),n=s+m.length-x-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function fC(t,e){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,a=eo(s);let o;return c;function c(p){return o=p,t.enter("attentionSequence"),d(p)}function d(p){if(p===o)return t.consume(p),d;const m=t.exit("attentionSequence"),x=eo(p),b=!x||x===2&&a||n.includes(p),w=!a||a===2&&x||n.includes(s);return m._open=!!(o===42?b:b&&(a||!w)),m._close=!!(o===42?w:w&&(x||!b)),e(p)}}function Ev(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const dC={name:"autolink",tokenize:hC};function hC(t,e,n){let s=0;return a;function a(_){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(_){return zn(_)?(t.consume(_),c):_===64?n(_):m(_)}function c(_){return _===43||_===45||_===46||In(_)?(s=1,d(_)):m(_)}function d(_){return _===58?(t.consume(_),s=0,p):(_===43||_===45||_===46||In(_))&&s++<32?(t.consume(_),d):(s=0,m(_))}function p(_){return _===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):_===null||_===32||_===60||fd(_)?n(_):(t.consume(_),p)}function m(_){return _===64?(t.consume(_),x):nC(_)?(t.consume(_),m):n(_)}function x(_){return In(_)?b(_):n(_)}function b(_){return _===46?(t.consume(_),s=0,x):_===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):w(_)}function w(_){if((_===45||In(_))&&s++<63){const S=_===45?w:b;return t.consume(_),S}return n(_)}}const au={partial:!0,tokenize:mC};function mC(t,e,n){return s;function s(o){return Ze(o)?it(t,a,"linePrefix")(o):a(o)}function a(o){return o===null||Me(o)?e(o):n(o)}}const ww={continuation:{tokenize:gC},exit:xC,name:"blockQuote",tokenize:pC};function pC(t,e,n){const s=this;return a;function a(c){if(c===62){const d=s.containerState;return d.open||(t.enter("blockQuote",{_container:!0}),d.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),o}return n(c)}function o(c){return Ze(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function gC(t,e,n){const s=this;return a;function a(c){return Ze(c)?it(t,o,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return t.attempt(ww,e,n)(c)}}function xC(t){t.exit("blockQuote")}const Nw={name:"characterEscape",tokenize:yC};function yC(t,e,n){return s;function s(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),a}function a(o){return sC(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const Ew={name:"characterReference",tokenize:bC};function bC(t,e,n){const s=this;let a=0,o,c;return d;function d(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),p}function p(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),o=31,c=In,x(b))}function m(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,c=rC,x):(t.enter("characterReferenceValue"),o=7,c=Z0,x(b))}function x(b){if(b===59&&a){const w=t.exit("characterReferenceValue");return c===In&&!fg(s.sliceSerialize(w))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(b)&&a++<o?(t.consume(b),x):n(b)}}const Tv={partial:!0,tokenize:_C},Sv={concrete:!0,name:"codeFenced",tokenize:vC};function vC(t,e,n){const s=this,a={partial:!0,tokenize:B};let o=0,c=0,d;return p;function p(U){return m(U)}function m(U){const j=s.events[s.events.length-1];return o=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,d=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(U)}function x(U){return U===d?(c++,t.consume(U),x):c<3?n(U):(t.exit("codeFencedFenceSequence"),Ze(U)?it(t,b,"whitespace")(U):b(U))}function b(U){return U===null||Me(U)?(t.exit("codeFencedFence"),s.interrupt?e(U):t.check(Tv,L,H)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(U))}function w(U){return U===null||Me(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(U)):Ze(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),it(t,_,"whitespace")(U)):U===96&&U===d?n(U):(t.consume(U),w)}function _(U){return U===null||Me(U)?b(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(U))}function S(U){return U===null||Me(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(U)):U===96&&U===d?n(U):(t.consume(U),S)}function L(U){return t.attempt(a,H,z)(U)}function z(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),F}function F(U){return o>0&&Ze(U)?it(t,q,"linePrefix",o+1)(U):q(U)}function q(U){return U===null||Me(U)?t.check(Tv,L,H)(U):(t.enter("codeFlowValue"),V(U))}function V(U){return U===null||Me(U)?(t.exit("codeFlowValue"),q(U)):(t.consume(U),V)}function H(U){return t.exit("codeFenced"),e(U)}function B(U,j,C){let I=0;return A;function A(xe){return U.enter("lineEnding"),U.consume(xe),U.exit("lineEnding"),M}function M(xe){return U.enter("codeFencedFence"),Ze(xe)?it(U,O,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(xe):O(xe)}function O(xe){return xe===d?(U.enter("codeFencedFenceSequence"),R(xe)):C(xe)}function R(xe){return xe===d?(I++,U.consume(xe),R):I>=c?(U.exit("codeFencedFenceSequence"),Ze(xe)?it(U,ae,"whitespace")(xe):ae(xe)):C(xe)}function ae(xe){return xe===null||Me(xe)?(U.exit("codeFencedFence"),j(xe)):C(xe)}}}function _C(t,e,n){const s=this;return a;function a(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o)}function o(c){return s.parser.lazy[s.now().line]?n(c):e(c)}}const l0={name:"codeIndented",tokenize:NC},wC={partial:!0,tokenize:EC};function NC(t,e,n){const s=this;return a;function a(m){return t.enter("codeIndented"),it(t,o,"linePrefix",5)(m)}function o(m){const x=s.events[s.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(m):n(m)}function c(m){return m===null?p(m):Me(m)?t.attempt(wC,c,p)(m):(t.enter("codeFlowValue"),d(m))}function d(m){return m===null||Me(m)?(t.exit("codeFlowValue"),c(m)):(t.consume(m),d)}function p(m){return t.exit("codeIndented"),e(m)}}function EC(t,e,n){const s=this;return a;function a(c){return s.parser.lazy[s.now().line]?n(c):Me(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),a):it(t,o,"linePrefix",5)(c)}function o(c){const d=s.events[s.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(c):Me(c)?a(c):n(c)}}const TC={name:"codeText",previous:AC,resolve:SC,tokenize:jC};function SC(t){let e=t.length-4,n=3,s,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(s=n;++s<e;)if(t[s][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(s=n-1,e++;++s<=e;)a===void 0?s!==e&&t[s][1].type!=="lineEnding"&&(a=s):(s===e||t[s][1].type==="lineEnding")&&(t[a][1].type="codeTextData",s!==a+2&&(t[a][1].end=t[s-1][1].end,t.splice(a+2,s-a-2),e-=s-a-2,s=a+2),a=void 0);return t}function AC(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function jC(t,e,n){let s=0,a,o;return c;function c(b){return t.enter("codeText"),t.enter("codeTextSequence"),d(b)}function d(b){return b===96?(t.consume(b),s++,d):(t.exit("codeTextSequence"),p(b))}function p(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),p):b===96?(o=t.enter("codeTextSequence"),a=0,x(b)):Me(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(b))}function m(b){return b===null||b===32||b===96||Me(b)?(t.exit("codeTextData"),p(b)):(t.consume(b),m)}function x(b){return b===96?(t.consume(b),a++,x):a===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(o.type="codeTextData",m(b))}}class CC{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,n,s){const a=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return s&&xc(this.left,s),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),xc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),xc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);xc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);xc(this.left,n.reverse())}}}function xc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Tw(t){const e={};let n=-1,s,a,o,c,d,p,m;const x=new CC(t);for(;++n<x.length;){for(;n in e;)n=e[n];if(s=x.get(n),n&&s[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(p=s[1]._tokenizer.events,o=0,o<p.length&&p[o][1].type==="lineEndingBlank"&&(o+=2),o<p.length&&p[o][1].type==="content"))for(;++o<p.length&&p[o][1].type!=="content";)p[o][1].type==="chunkText"&&(p[o][1]._isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(Object.assign(e,kC(x,n)),n=e[n],m=!0);else if(s[1]._container){for(o=n,a=void 0;o--;)if(c=x.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(x.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(s[1].end={...x.get(a)[1].start},d=x.slice(a,n),d.unshift(s),x.splice(a,n-a+1,d))}}return ur(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!m}function kC(t,e){const n=t.get(e)[1],s=t.get(e)[2];let a=e-1;const o=[];let c=n._tokenizer;c||(c=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,p=[],m={};let x,b,w=-1,_=n,S=0,L=0;const z=[L];for(;_;){for(;t.get(++a)[1]!==_;);o.push(a),_._tokenizer||(x=s.sliceStream(_),_.next||x.push(null),b&&c.defineSkip(_.start),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=_,_=_.next}for(_=n;++w<d.length;)d[w][0]==="exit"&&d[w-1][0]==="enter"&&d[w][1].type===d[w-1][1].type&&d[w][1].start.line!==d[w][1].end.line&&(L=w+1,z.push(L),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(c.events=[],_?(_._tokenizer=void 0,_.previous=void 0):z.pop(),w=z.length;w--;){const F=d.slice(z[w],z[w+1]),q=o.pop();p.push([q,q+F.length-1]),t.splice(q,2,F)}for(p.reverse(),w=-1;++w<p.length;)m[S+p[w][0]]=S+p[w][1],S+=p[w][1]-p[w][0]-1;return m}const RC={resolve:IC,tokenize:MC},DC={partial:!0,tokenize:OC};function IC(t){return Tw(t),t}function MC(t,e){let n;return s;function s(d){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(d)}function a(d){return d===null?o(d):Me(d)?t.check(DC,c,o)(d):(t.consume(d),a)}function o(d){return t.exit("chunkContent"),t.exit("content"),e(d)}function c(d){return t.consume(d),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function OC(t,e,n){const s=this;return a;function a(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),it(t,o,"linePrefix")}function o(c){if(c===null||Me(c))return n(c);const d=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(c):t.interrupt(s.parser.constructs.flow,n,e)(c)}}function Sw(t,e,n,s,a,o,c,d,p){const m=p||Number.POSITIVE_INFINITY;let x=0;return b;function b(F){return F===60?(t.enter(s),t.enter(a),t.enter(o),t.consume(F),t.exit(o),w):F===null||F===32||F===41||fd(F)?n(F):(t.enter(s),t.enter(c),t.enter(d),t.enter("chunkString",{contentType:"string"}),L(F))}function w(F){return F===62?(t.enter(o),t.consume(F),t.exit(o),t.exit(a),t.exit(s),e):(t.enter(d),t.enter("chunkString",{contentType:"string"}),_(F))}function _(F){return F===62?(t.exit("chunkString"),t.exit(d),w(F)):F===null||F===60||Me(F)?n(F):(t.consume(F),F===92?S:_)}function S(F){return F===60||F===62||F===92?(t.consume(F),_):_(F)}function L(F){return!x&&(F===null||F===41||bt(F))?(t.exit("chunkString"),t.exit(d),t.exit(c),t.exit(s),e(F)):x<m&&F===40?(t.consume(F),x++,L):F===41?(t.consume(F),x--,L):F===null||F===32||F===40||fd(F)?n(F):(t.consume(F),F===92?z:L)}function z(F){return F===40||F===41||F===92?(t.consume(F),L):L(F)}}function Aw(t,e,n,s,a,o){const c=this;let d=0,p;return m;function m(_){return t.enter(s),t.enter(a),t.consume(_),t.exit(a),t.enter(o),x}function x(_){return d>999||_===null||_===91||_===93&&!p||_===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?n(_):_===93?(t.exit(o),t.enter(a),t.consume(_),t.exit(a),t.exit(s),e):Me(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),b(_))}function b(_){return _===null||_===91||_===93||Me(_)||d++>999?(t.exit("chunkString"),x(_)):(t.consume(_),p||(p=!Ze(_)),_===92?w:b)}function w(_){return _===91||_===92||_===93?(t.consume(_),d++,b):b(_)}}function jw(t,e,n,s,a,o){let c;return d;function d(w){return w===34||w===39||w===40?(t.enter(s),t.enter(a),t.consume(w),t.exit(a),c=w===40?41:w,p):n(w)}function p(w){return w===c?(t.enter(a),t.consume(w),t.exit(a),t.exit(s),e):(t.enter(o),m(w))}function m(w){return w===c?(t.exit(o),p(c)):w===null?n(w):Me(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),it(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(w))}function x(w){return w===c||w===null||Me(w)?(t.exit("chunkString"),m(w)):(t.consume(w),w===92?b:x)}function b(w){return w===c||w===92?(t.consume(w),x):x(w)}}function kc(t,e){let n;return s;function s(a){return Me(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,s):Ze(a)?it(t,s,n?"linePrefix":"lineSuffix")(a):e(a)}}const VC={name:"definition",tokenize:LC},PC={partial:!0,tokenize:zC};function LC(t,e,n){const s=this;let a;return o;function o(_){return t.enter("definition"),c(_)}function c(_){return Aw.call(s,t,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function d(_){return a=zr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),_===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),p):n(_)}function p(_){return bt(_)?kc(t,m)(_):m(_)}function m(_){return Sw(t,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function x(_){return t.attempt(PC,b,b)(_)}function b(_){return Ze(_)?it(t,w,"whitespace")(_):w(_)}function w(_){return _===null||Me(_)?(t.exit("definition"),s.parser.defined.push(a),e(_)):n(_)}}function zC(t,e,n){return s;function s(d){return bt(d)?kc(t,a)(d):n(d)}function a(d){return jw(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function o(d){return Ze(d)?it(t,c,"whitespace")(d):c(d)}function c(d){return d===null||Me(d)?e(d):n(d)}}const UC={name:"hardBreakEscape",tokenize:BC};function BC(t,e,n){return s;function s(o){return t.enter("hardBreakEscape"),t.consume(o),a}function a(o){return Me(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const qC={name:"headingAtx",resolve:FC,tokenize:HC};function FC(t,e){let n=t.length-2,s=3,a,o;return t[s][1].type==="whitespace"&&(s+=2),n-2>s&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&t[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(a={type:"atxHeadingText",start:t[s][1].start,end:t[n][1].end},o={type:"chunkText",start:t[s][1].start,end:t[n][1].end,contentType:"text"},ur(t,s,n-s+1,[["enter",a,e],["enter",o,e],["exit",o,e],["exit",a,e]])),t}function HC(t,e,n){let s=0;return a;function a(x){return t.enter("atxHeading"),o(x)}function o(x){return t.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&s++<6?(t.consume(x),c):x===null||bt(x)?(t.exit("atxHeadingSequence"),d(x)):n(x)}function d(x){return x===35?(t.enter("atxHeadingSequence"),p(x)):x===null||Me(x)?(t.exit("atxHeading"),e(x)):Ze(x)?it(t,d,"whitespace")(x):(t.enter("atxHeadingText"),m(x))}function p(x){return x===35?(t.consume(x),p):(t.exit("atxHeadingSequence"),d(x))}function m(x){return x===null||x===35||bt(x)?(t.exit("atxHeadingText"),d(x)):(t.consume(x),m)}}const $C=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Av=["pre","script","style","textarea"],GC={concrete:!0,name:"htmlFlow",resolveTo:XC,tokenize:KC},YC={partial:!0,tokenize:JC},QC={partial:!0,tokenize:ZC};function XC(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function KC(t,e,n){const s=this;let a,o,c,d,p;return m;function m(k){return x(k)}function x(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),b}function b(k){return k===33?(t.consume(k),w):k===47?(t.consume(k),o=!0,L):k===63?(t.consume(k),a=3,s.interrupt?e:E):zn(k)?(t.consume(k),c=String.fromCharCode(k),z):n(k)}function w(k){return k===45?(t.consume(k),a=2,_):k===91?(t.consume(k),a=5,d=0,S):zn(k)?(t.consume(k),a=4,s.interrupt?e:E):n(k)}function _(k){return k===45?(t.consume(k),s.interrupt?e:E):n(k)}function S(k){const oe="CDATA[";return k===oe.charCodeAt(d++)?(t.consume(k),d===oe.length?s.interrupt?e:O:S):n(k)}function L(k){return zn(k)?(t.consume(k),c=String.fromCharCode(k),z):n(k)}function z(k){if(k===null||k===47||k===62||bt(k)){const oe=k===47,ve=c.toLowerCase();return!oe&&!o&&Av.includes(ve)?(a=1,s.interrupt?e(k):O(k)):$C.includes(c.toLowerCase())?(a=6,oe?(t.consume(k),F):s.interrupt?e(k):O(k)):(a=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(k):o?q(k):V(k))}return k===45||In(k)?(t.consume(k),c+=String.fromCharCode(k),z):n(k)}function F(k){return k===62?(t.consume(k),s.interrupt?e:O):n(k)}function q(k){return Ze(k)?(t.consume(k),q):A(k)}function V(k){return k===47?(t.consume(k),A):k===58||k===95||zn(k)?(t.consume(k),H):Ze(k)?(t.consume(k),V):A(k)}function H(k){return k===45||k===46||k===58||k===95||In(k)?(t.consume(k),H):B(k)}function B(k){return k===61?(t.consume(k),U):Ze(k)?(t.consume(k),B):V(k)}function U(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),p=k,j):Ze(k)?(t.consume(k),U):C(k)}function j(k){return k===p?(t.consume(k),p=null,I):k===null||Me(k)?n(k):(t.consume(k),j)}function C(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||bt(k)?B(k):(t.consume(k),C)}function I(k){return k===47||k===62||Ze(k)?V(k):n(k)}function A(k){return k===62?(t.consume(k),M):n(k)}function M(k){return k===null||Me(k)?O(k):Ze(k)?(t.consume(k),M):n(k)}function O(k){return k===45&&a===2?(t.consume(k),Q):k===60&&a===1?(t.consume(k),fe):k===62&&a===4?(t.consume(k),se):k===63&&a===3?(t.consume(k),E):k===93&&a===5?(t.consume(k),ye):Me(k)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(YC,W,R)(k)):k===null||Me(k)?(t.exit("htmlFlowData"),R(k)):(t.consume(k),O)}function R(k){return t.check(QC,ae,W)(k)}function ae(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),xe}function xe(k){return k===null||Me(k)?R(k):(t.enter("htmlFlowData"),O(k))}function Q(k){return k===45?(t.consume(k),E):O(k)}function fe(k){return k===47?(t.consume(k),c="",re):O(k)}function re(k){if(k===62){const oe=c.toLowerCase();return Av.includes(oe)?(t.consume(k),se):O(k)}return zn(k)&&c.length<8?(t.consume(k),c+=String.fromCharCode(k),re):O(k)}function ye(k){return k===93?(t.consume(k),E):O(k)}function E(k){return k===62?(t.consume(k),se):k===45&&a===2?(t.consume(k),E):O(k)}function se(k){return k===null||Me(k)?(t.exit("htmlFlowData"),W(k)):(t.consume(k),se)}function W(k){return t.exit("htmlFlow"),e(k)}}function ZC(t,e,n){const s=this;return a;function a(c){return Me(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o):n(c)}function o(c){return s.parser.lazy[s.now().line]?n(c):e(c)}}function JC(t,e,n){return s;function s(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(au,e,n)}}const WC={name:"htmlText",tokenize:ek};function ek(t,e,n){const s=this;let a,o,c;return d;function d(E){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(E),p}function p(E){return E===33?(t.consume(E),m):E===47?(t.consume(E),B):E===63?(t.consume(E),V):zn(E)?(t.consume(E),C):n(E)}function m(E){return E===45?(t.consume(E),x):E===91?(t.consume(E),o=0,S):zn(E)?(t.consume(E),q):n(E)}function x(E){return E===45?(t.consume(E),_):n(E)}function b(E){return E===null?n(E):E===45?(t.consume(E),w):Me(E)?(c=b,fe(E)):(t.consume(E),b)}function w(E){return E===45?(t.consume(E),_):b(E)}function _(E){return E===62?Q(E):E===45?w(E):b(E)}function S(E){const se="CDATA[";return E===se.charCodeAt(o++)?(t.consume(E),o===se.length?L:S):n(E)}function L(E){return E===null?n(E):E===93?(t.consume(E),z):Me(E)?(c=L,fe(E)):(t.consume(E),L)}function z(E){return E===93?(t.consume(E),F):L(E)}function F(E){return E===62?Q(E):E===93?(t.consume(E),F):L(E)}function q(E){return E===null||E===62?Q(E):Me(E)?(c=q,fe(E)):(t.consume(E),q)}function V(E){return E===null?n(E):E===63?(t.consume(E),H):Me(E)?(c=V,fe(E)):(t.consume(E),V)}function H(E){return E===62?Q(E):V(E)}function B(E){return zn(E)?(t.consume(E),U):n(E)}function U(E){return E===45||In(E)?(t.consume(E),U):j(E)}function j(E){return Me(E)?(c=j,fe(E)):Ze(E)?(t.consume(E),j):Q(E)}function C(E){return E===45||In(E)?(t.consume(E),C):E===47||E===62||bt(E)?I(E):n(E)}function I(E){return E===47?(t.consume(E),Q):E===58||E===95||zn(E)?(t.consume(E),A):Me(E)?(c=I,fe(E)):Ze(E)?(t.consume(E),I):Q(E)}function A(E){return E===45||E===46||E===58||E===95||In(E)?(t.consume(E),A):M(E)}function M(E){return E===61?(t.consume(E),O):Me(E)?(c=M,fe(E)):Ze(E)?(t.consume(E),M):I(E)}function O(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),a=E,R):Me(E)?(c=O,fe(E)):Ze(E)?(t.consume(E),O):(t.consume(E),ae)}function R(E){return E===a?(t.consume(E),a=void 0,xe):E===null?n(E):Me(E)?(c=R,fe(E)):(t.consume(E),R)}function ae(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||bt(E)?I(E):(t.consume(E),ae)}function xe(E){return E===47||E===62||bt(E)?I(E):n(E)}function Q(E){return E===62?(t.consume(E),t.exit("htmlTextData"),t.exit("htmlText"),e):n(E)}function fe(E){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),re}function re(E){return Ze(E)?it(t,ye,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):ye(E)}function ye(E){return t.enter("htmlTextData"),c(E)}}const dg={name:"labelEnd",resolveAll:sk,resolveTo:ik,tokenize:ak},tk={tokenize:lk},nk={tokenize:ok},rk={tokenize:ck};function sk(t){let e=-1;const n=[];for(;++e<t.length;){const s=t[e][1];if(n.push(t[e]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const a=s.type==="labelImage"?4:2;s.type="data",e+=a}}return t.length!==n.length&&ur(t,0,t.length,n),t}function ik(t,e){let n=t.length,s=0,a,o,c,d;for(;n--;)if(a=t[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){s=2;break}}else a.type==="labelEnd"&&(c=n);const p={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[o][1].start},end:{...t[c][1].end}},x={type:"labelText",start:{...t[o+s+2][1].end},end:{...t[c-2][1].start}};return d=[["enter",p,e],["enter",m,e]],d=Sr(d,t.slice(o+1,o+s+3)),d=Sr(d,[["enter",x,e]]),d=Sr(d,zd(e.parser.constructs.insideSpan.null,t.slice(o+s+4,c-3),e)),d=Sr(d,[["exit",x,e],t[c-2],t[c-1],["exit",m,e]]),d=Sr(d,t.slice(c+1)),d=Sr(d,[["exit",p,e]]),ur(t,o,t.length,d),t}function ak(t,e,n){const s=this;let a=s.events.length,o,c;for(;a--;)if((s.events[a][1].type==="labelImage"||s.events[a][1].type==="labelLink")&&!s.events[a][1]._balanced){o=s.events[a][1];break}return d;function d(w){return o?o._inactive?b(w):(c=s.parser.defined.includes(zr(s.sliceSerialize({start:o.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),p):n(w)}function p(w){return w===40?t.attempt(tk,x,c?x:b)(w):w===91?t.attempt(nk,x,c?m:b)(w):c?x(w):b(w)}function m(w){return t.attempt(rk,x,b)(w)}function x(w){return e(w)}function b(w){return o._balanced=!0,n(w)}}function lk(t,e,n){return s;function s(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),a}function a(b){return bt(b)?kc(t,o)(b):o(b)}function o(b){return b===41?x(b):Sw(t,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return bt(b)?kc(t,p)(b):x(b)}function d(b){return n(b)}function p(b){return b===34||b===39||b===40?jw(t,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function m(b){return bt(b)?kc(t,x)(b):x(b)}function x(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function ok(t,e,n){const s=this;return a;function a(d){return Aw.call(s,t,o,c,"reference","referenceMarker","referenceString")(d)}function o(d){return s.parser.defined.includes(zr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(d):n(d)}function c(d){return n(d)}}function ck(t,e,n){return s;function s(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),a}function a(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const uk={name:"labelStartImage",resolveAll:dg.resolveAll,tokenize:fk};function fk(t,e,n){const s=this;return a;function a(d){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(d),t.exit("labelImageMarker"),o}function o(d){return d===91?(t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelImage"),c):n(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):e(d)}}const dk={name:"labelStartLink",resolveAll:dg.resolveAll,tokenize:hk};function hk(t,e,n){const s=this;return a;function a(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(c):e(c)}}const o0={name:"lineEnding",tokenize:mk};function mk(t,e){return n;function n(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),it(t,e,"linePrefix")}}const Yf={name:"thematicBreak",tokenize:pk};function pk(t,e,n){let s=0,a;return o;function o(m){return t.enter("thematicBreak"),c(m)}function c(m){return a=m,d(m)}function d(m){return m===a?(t.enter("thematicBreakSequence"),p(m)):s>=3&&(m===null||Me(m))?(t.exit("thematicBreak"),e(m)):n(m)}function p(m){return m===a?(t.consume(m),s++,p):(t.exit("thematicBreakSequence"),Ze(m)?it(t,d,"whitespace")(m):d(m))}}const Xn={continuation:{tokenize:bk},exit:_k,name:"list",tokenize:yk},gk={partial:!0,tokenize:wk},xk={partial:!0,tokenize:vk};function yk(t,e,n){const s=this,a=s.events[s.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return d;function d(_){const S=s.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!s.containerState.marker||_===s.containerState.marker:Z0(_)){if(s.containerState.type||(s.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),_===42||_===45?t.check(Yf,n,m)(_):m(_);if(!s.interrupt||_===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(_)}return n(_)}function p(_){return Z0(_)&&++c<10?(t.consume(_),p):(!s.interrupt||c<2)&&(s.containerState.marker?_===s.containerState.marker:_===41||_===46)?(t.exit("listItemValue"),m(_)):n(_)}function m(_){return t.enter("listItemMarker"),t.consume(_),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||_,t.check(au,s.interrupt?n:x,t.attempt(gk,w,b))}function x(_){return s.containerState.initialBlankLine=!0,o++,w(_)}function b(_){return Ze(_)?(t.enter("listItemPrefixWhitespace"),t.consume(_),t.exit("listItemPrefixWhitespace"),w):n(_)}function w(_){return s.containerState.size=o+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(_)}}function bk(t,e,n){const s=this;return s.containerState._closeFlow=void 0,t.check(au,a,o);function a(d){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,it(t,e,"listItemIndent",s.containerState.size+1)(d)}function o(d){return s.containerState.furtherBlankLines||!Ze(d)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,c(d)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(xk,e,c)(d))}function c(d){return s.containerState._closeFlow=!0,s.interrupt=void 0,it(t,t.attempt(Xn,e,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function vk(t,e,n){const s=this;return it(t,a,"listItemIndent",s.containerState.size+1);function a(o){const c=s.events[s.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===s.containerState.size?e(o):n(o)}}function _k(t){t.exit(this.containerState.type)}function wk(t,e,n){const s=this;return it(t,a,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const c=s.events[s.events.length-1];return!Ze(o)&&c&&c[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const jv={name:"setextUnderline",resolveTo:Nk,tokenize:Ek};function Nk(t,e){let n=t.length,s,a,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){s=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const c={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",o?(t.splice(a,0,["enter",c,e]),t.splice(o+1,0,["exit",t[s][1],e]),t[s][1].end={...t[o][1].end}):t[s][1]=c,t.push(["exit",c,e]),t}function Ek(t,e,n){const s=this;let a;return o;function o(m){let x=s.events.length,b;for(;x--;)if(s.events[x][1].type!=="lineEnding"&&s.events[x][1].type!=="linePrefix"&&s.events[x][1].type!=="content"){b=s.events[x][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||b)?(t.enter("setextHeadingLine"),a=m,c(m)):n(m)}function c(m){return t.enter("setextHeadingLineSequence"),d(m)}function d(m){return m===a?(t.consume(m),d):(t.exit("setextHeadingLineSequence"),Ze(m)?it(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Me(m)?(t.exit("setextHeadingLine"),e(m)):n(m)}}const Tk={tokenize:Sk};function Sk(t){const e=this,n=t.attempt(au,s,t.attempt(this.parser.constructs.flowInitial,a,it(t,t.attempt(this.parser.constructs.flow,a,t.attempt(RC,a)),"linePrefix")));return n;function s(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Ak={resolveAll:kw()},jk=Cw("string"),Ck=Cw("text");function Cw(t){return{resolveAll:kw(t==="text"?kk:void 0),tokenize:e};function e(n){const s=this,a=this.parser.constructs[t],o=n.attempt(a,c,d);return c;function c(x){return m(x)?o(x):d(x)}function d(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),p}function p(x){return m(x)?(n.exit("data"),o(x)):(n.consume(x),p)}function m(x){if(x===null)return!0;const b=a[x];let w=-1;if(b)for(;++w<b.length;){const _=b[w];if(!_.previous||_.previous.call(s,s.previous))return!0}return!1}}}function kw(t){return e;function e(n,s){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return t?t(n,s):n}}function kk(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const s=t[n-1][1],a=e.sliceStream(s);let o=a.length,c=-1,d=0,p;for(;o--;){const m=a[o];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(m===-2)p=!0,d++;else if(m!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(d=0),d){const m={type:n===t.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:s.start._bufferIndex+c,_index:s.start._index+o,line:s.end.line,column:s.end.column-d,offset:s.end.offset-d},end:{...s.end}};s.end={...m.start},s.start.offset===s.end.offset?Object.assign(s,m):(t.splice(n,0,["enter",m,e],["exit",m,e]),n+=2)}n++}return t}const Rk={42:Xn,43:Xn,45:Xn,48:Xn,49:Xn,50:Xn,51:Xn,52:Xn,53:Xn,54:Xn,55:Xn,56:Xn,57:Xn,62:ww},Dk={91:VC},Ik={[-2]:l0,[-1]:l0,32:l0},Mk={35:qC,42:Yf,45:[jv,Yf],60:GC,61:jv,95:Yf,96:Sv,126:Sv},Ok={38:Ew,92:Nw},Vk={[-5]:o0,[-4]:o0,[-3]:o0,33:uk,38:Ew,42:J0,60:[dC,WC],91:dk,92:[UC,Nw],93:dg,95:J0,96:TC},Pk={null:[J0,Ak]},Lk={null:[42,95]},zk={null:[]},Uk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Lk,contentInitial:Dk,disable:zk,document:Rk,flow:Mk,flowInitial:Ik,insideSpan:Pk,string:Ok,text:Vk},Symbol.toStringTag,{value:"Module"}));function Bk(t,e,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let c=[],d=[];const p={attempt:j(B),check:j(U),consume:q,enter:V,exit:H,interrupt:j(U,{interrupt:!0})},m={code:null,containerState:{},defineSkip:L,events:[],now:S,parser:t,previous:null,sliceSerialize:w,sliceStream:_,write:b};let x=e.tokenize.call(m,p);return e.resolveAll&&o.push(e),m;function b(M){return c=Sr(c,M),z(),c[c.length-1]!==null?[]:(C(e,0),m.events=zd(o,m.events,m),m.events)}function w(M,O){return Fk(_(M),O)}function _(M){return qk(c,M)}function S(){const{_bufferIndex:M,_index:O,line:R,column:ae,offset:xe}=s;return{_bufferIndex:M,_index:O,line:R,column:ae,offset:xe}}function L(M){a[M.line]=M.column,A()}function z(){let M;for(;s._index<c.length;){const O=c[s._index];if(typeof O=="string")for(M=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===M&&s._bufferIndex<O.length;)F(O.charCodeAt(s._bufferIndex));else F(O)}}function F(M){x=x(M)}function q(M){Me(M)?(s.line++,s.column=1,s.offset+=M===-3?2:1,A()):M!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===c[s._index].length&&(s._bufferIndex=-1,s._index++)),m.previous=M}function V(M,O){const R=O||{};return R.type=M,R.start=S(),m.events.push(["enter",R,m]),d.push(R),R}function H(M){const O=d.pop();return O.end=S(),m.events.push(["exit",O,m]),O}function B(M,O){C(M,O.from)}function U(M,O){O.restore()}function j(M,O){return R;function R(ae,xe,Q){let fe,re,ye,E;return Array.isArray(ae)?W(ae):"tokenize"in ae?W([ae]):se(ae);function se(le){return _e;function _e(Se){const xt=Se!==null&&le[Se],Ne=Se!==null&&le.null,Fe=[...Array.isArray(xt)?xt:xt?[xt]:[],...Array.isArray(Ne)?Ne:Ne?[Ne]:[]];return W(Fe)(Se)}}function W(le){return fe=le,re=0,le.length===0?Q:k(le[re])}function k(le){return _e;function _e(Se){return E=I(),ye=le,le.partial||(m.currentConstruct=le),le.name&&m.parser.constructs.disable.null.includes(le.name)?ve():le.tokenize.call(O?Object.assign(Object.create(m),O):m,p,oe,ve)(Se)}}function oe(le){return M(ye,E),xe}function ve(le){return E.restore(),++re<fe.length?k(fe[re]):Q}}}function C(M,O){M.resolveAll&&!o.includes(M)&&o.push(M),M.resolve&&ur(m.events,O,m.events.length-O,M.resolve(m.events.slice(O),m)),M.resolveTo&&(m.events=M.resolveTo(m.events,m))}function I(){const M=S(),O=m.previous,R=m.currentConstruct,ae=m.events.length,xe=Array.from(d);return{from:ae,restore:Q};function Q(){s=M,m.previous=O,m.currentConstruct=R,m.events.length=ae,d=xe,A()}}function A(){s.line in a&&s.column<2&&(s.column=a[s.line],s.offset+=a[s.line]-1)}}function qk(t,e){const n=e.start._index,s=e.start._bufferIndex,a=e.end._index,o=e.end._bufferIndex;let c;if(n===a)c=[t[n].slice(s,o)];else{if(c=t.slice(n,a),s>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(s):c.shift()}o>0&&c.push(t[a].slice(0,o))}return c}function Fk(t,e){let n=-1;const s=[];let a;for(;++n<t.length;){const o=t[n];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&a)continue;c=" ";break}default:c=String.fromCharCode(o)}a=o===-2,s.push(c)}return s.join("")}function Hk(t){const s={constructs:vw([Uk,...(t||{}).extensions||[]]),content:a(iC),defined:[],document:a(lC),flow:a(Tk),lazy:{},string:a(jk),text:a(Ck)};return s;function a(o){return c;function c(d){return Bk(s,o,d)}}}function $k(t){for(;!Tw(t););return t}const Cv=/[\0\t\n\r]/g;function Gk(){let t=1,e="",n=!0,s;return a;function a(o,c,d){const p=[];let m,x,b,w,_;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(Cv.lastIndex=b,m=Cv.exec(o),w=m&&m.index!==void 0?m.index:o.length,_=o.charCodeAt(w),!m){e=o.slice(b);break}if(_===10&&b===w&&s)p.push(-3),s=void 0;else switch(s&&(p.push(-5),s=void 0),b<w&&(p.push(o.slice(b,w)),t+=w-b),_){case 0:{p.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,p.push(-2);t++<x;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:s=!0,t=1}b=w+1}return d&&(s&&p.push(-5),e&&p.push(e),p.push(null)),p}}const Yk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Qk(t){return t.replace(Yk,Xk)}function Xk(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return _w(n.slice(o?2:1),o?16:10)}return fg(n)||t}const Rw={}.hasOwnProperty;function Kk(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Zk(n)($k(Hk(n).document().write(Gk()(t,e,!0))))}function Zk(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(fr),autolinkProtocol:I,autolinkEmail:I,atxHeading:o(Fn),blockQuote:o(Ne),characterEscape:I,characterReference:I,codeFenced:o(Fe),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(Fe,c),codeText:o(Tt,c),codeTextData:I,data:I,codeFlowValue:I,definition:o(Kt),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(dn),hardBreakEscape:o(Br),hardBreakTrailing:o(Br),htmlFlow:o(Dt,c),htmlFlowData:I,htmlText:o(Dt,c),htmlTextData:I,image:o(qr),label:c,link:o(fr),listItem:o(dr),listItemValue:w,listOrdered:o(Hn,b),listUnordered:o(Hn),paragraph:o(Yi),reference:k,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(Fn),strong:o(hr),thematicBreak:o(xs)},exit:{atxHeading:p(),atxHeadingSequence:B,autolink:p(),autolinkEmail:xt,autolinkProtocol:Se,blockQuote:p(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:le,characterReference:_e,codeFenced:p(z),codeFencedFence:L,codeFencedFenceInfo:_,codeFencedFenceMeta:S,codeFlowValue:A,codeIndented:p(F),codeText:p(xe),codeTextData:A,data:A,definition:p(),definitionDestinationString:H,definitionLabelString:q,definitionTitleString:V,emphasis:p(),hardBreakEscape:p(O),hardBreakTrailing:p(O),htmlFlow:p(R),htmlFlowData:A,htmlText:p(ae),htmlTextData:A,image:p(fe),label:ye,labelText:re,lineEnding:M,link:p(Q),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:oe,resourceDestinationString:E,resourceTitleString:se,resource:W,setextHeading:p(C),setextHeadingLineSequence:j,setextHeadingText:U,strong:p(),thematicBreak:p()}};Dw(e,(t||{}).mdastExtensions||[]);const n={};return s;function s(te){let me={type:"root",children:[]};const ke={stack:[me],tokenStack:[],config:e,enter:d,exit:m,buffer:c,resume:x,data:n},De=[];let Ge=-1;for(;++Ge<te.length;)if(te[Ge][1].type==="listOrdered"||te[Ge][1].type==="listUnordered")if(te[Ge][0]==="enter")De.push(Ge);else{const hn=De.pop();Ge=a(te,hn,Ge)}for(Ge=-1;++Ge<te.length;){const hn=e[te[Ge][0]];Rw.call(hn,te[Ge][1].type)&&hn[te[Ge][1].type].call(Object.assign({sliceSerialize:te[Ge][2].sliceSerialize},ke),te[Ge][1])}if(ke.tokenStack.length>0){const hn=ke.tokenStack[ke.tokenStack.length-1];(hn[1]||kv).call(ke,void 0,hn[0])}for(me.position={start:Ti(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:Ti(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},Ge=-1;++Ge<e.transforms.length;)me=e.transforms[Ge](me)||me;return me}function a(te,me,ke){let De=me-1,Ge=-1,hn=!1,rn,Zt,Tn,Bt;for(;++De<=ke;){const jt=te[De];switch(jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{jt[0]==="enter"?Ge++:Ge--,Bt=void 0;break}case"lineEndingBlank":{jt[0]==="enter"&&(rn&&!Bt&&!Ge&&!Tn&&(Tn=De),Bt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Bt=void 0}if(!Ge&&jt[0]==="enter"&&jt[1].type==="listItemPrefix"||Ge===-1&&jt[0]==="exit"&&(jt[1].type==="listUnordered"||jt[1].type==="listOrdered")){if(rn){let Sn=De;for(Zt=void 0;Sn--;){const mn=te[Sn];if(mn[1].type==="lineEnding"||mn[1].type==="lineEndingBlank"){if(mn[0]==="exit")continue;Zt&&(te[Zt][1].type="lineEndingBlank",hn=!0),mn[1].type="lineEnding",Zt=Sn}else if(!(mn[1].type==="linePrefix"||mn[1].type==="blockQuotePrefix"||mn[1].type==="blockQuotePrefixWhitespace"||mn[1].type==="blockQuoteMarker"||mn[1].type==="listItemIndent"))break}Tn&&(!Zt||Tn<Zt)&&(rn._spread=!0),rn.end=Object.assign({},Zt?te[Zt][1].start:jt[1].end),te.splice(Zt||De,0,["exit",rn,jt[2]]),De++,ke++}if(jt[1].type==="listItemPrefix"){const Sn={type:"listItem",_spread:!1,start:Object.assign({},jt[1].start),end:void 0};rn=Sn,te.splice(De,0,["enter",Sn,jt[2]]),De++,ke++,Tn=void 0,Bt=!0}}}return te[me][1]._spread=hn,ke}function o(te,me){return ke;function ke(De){d.call(this,te(De),De),me&&me.call(this,De)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(te,me,ke){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([me,ke||void 0]),te.position={start:Ti(me.start),end:void 0}}function p(te){return me;function me(ke){te&&te.call(this,ke),m.call(this,ke)}}function m(te,me){const ke=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==te.type&&(me?me.call(this,te,De[0]):(De[1]||kv).call(this,te,De[0]));else throw new Error("Cannot close `"+te.type+"` ("+Cc({start:te.start,end:te.end})+"): its not open");ke.position.end=Ti(te.end)}function x(){return ug(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function w(te){if(this.data.expectingFirstListItemValue){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function _(){const te=this.resume(),me=this.stack[this.stack.length-1];me.lang=te}function S(){const te=this.resume(),me=this.stack[this.stack.length-1];me.meta=te}function L(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function z(){const te=this.resume(),me=this.stack[this.stack.length-1];me.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function F(){const te=this.resume(),me=this.stack[this.stack.length-1];me.value=te.replace(/(\r?\n|\r)$/g,"")}function q(te){const me=this.resume(),ke=this.stack[this.stack.length-1];ke.label=me,ke.identifier=zr(this.sliceSerialize(te)).toLowerCase()}function V(){const te=this.resume(),me=this.stack[this.stack.length-1];me.title=te}function H(){const te=this.resume(),me=this.stack[this.stack.length-1];me.url=te}function B(te){const me=this.stack[this.stack.length-1];if(!me.depth){const ke=this.sliceSerialize(te).length;me.depth=ke}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function j(te){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function I(te){const ke=this.stack[this.stack.length-1].children;let De=ke[ke.length-1];(!De||De.type!=="text")&&(De=$n(),De.position={start:Ti(te.start),end:void 0},ke.push(De)),this.stack.push(De)}function A(te){const me=this.stack.pop();me.value+=this.sliceSerialize(te),me.position.end=Ti(te.end)}function M(te){const me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=me.children[me.children.length-1];ke.position.end=Ti(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(me.type)&&(I.call(this,te),A.call(this,te))}function O(){this.data.atHardBreak=!0}function R(){const te=this.resume(),me=this.stack[this.stack.length-1];me.value=te}function ae(){const te=this.resume(),me=this.stack[this.stack.length-1];me.value=te}function xe(){const te=this.resume(),me=this.stack[this.stack.length-1];me.value=te}function Q(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=me,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function fe(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=me,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function re(te){const me=this.sliceSerialize(te),ke=this.stack[this.stack.length-2];ke.label=Qk(me),ke.identifier=zr(me).toLowerCase()}function ye(){const te=this.stack[this.stack.length-1],me=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const De=te.children;ke.children=De}else ke.alt=me}function E(){const te=this.resume(),me=this.stack[this.stack.length-1];me.url=te}function se(){const te=this.resume(),me=this.stack[this.stack.length-1];me.title=te}function W(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function oe(te){const me=this.resume(),ke=this.stack[this.stack.length-1];ke.label=me,ke.identifier=zr(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function ve(te){this.data.characterReferenceType=te.type}function le(te){const me=this.sliceSerialize(te),ke=this.data.characterReferenceType;let De;ke?(De=_w(me,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=fg(me);const Ge=this.stack[this.stack.length-1];Ge.value+=De}function _e(te){const me=this.stack.pop();me.position.end=Ti(te.end)}function Se(te){A.call(this,te);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(te)}function xt(te){A.call(this,te);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(te)}function Ne(){return{type:"blockquote",children:[]}}function Fe(){return{type:"code",lang:null,meta:null,value:""}}function Tt(){return{type:"inlineCode",value:""}}function Kt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dn(){return{type:"emphasis",children:[]}}function Fn(){return{type:"heading",depth:0,children:[]}}function Br(){return{type:"break"}}function Dt(){return{type:"html",value:""}}function qr(){return{type:"image",title:null,url:"",alt:null}}function fr(){return{type:"link",title:null,url:"",children:[]}}function Hn(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function dr(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function Yi(){return{type:"paragraph",children:[]}}function hr(){return{type:"strong",children:[]}}function $n(){return{type:"text",value:""}}function xs(){return{type:"thematicBreak"}}}function Ti(t){return{line:t.line,column:t.column,offset:t.offset}}function Dw(t,e){let n=-1;for(;++n<e.length;){const s=e[n];Array.isArray(s)?Dw(t,s):Jk(t,s)}}function Jk(t,e){let n;for(n in e)if(Rw.call(e,n))switch(n){case"canContainEols":{const s=e[n];s&&t[n].push(...s);break}case"transforms":{const s=e[n];s&&t[n].push(...s);break}case"enter":case"exit":{const s=e[n];s&&Object.assign(t[n],s);break}}}function kv(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Cc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Cc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Cc({start:e.start,end:e.end})+") is still open")}function Wk(t){const e=this;e.parser=n;function n(s){return Kk(s,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function e9(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function t9(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function n9(t,e){const n=e.value?e.value+`
`:"",s={};e.lang&&(s.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function r9(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function s9(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function i9(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),a=co(s.toLowerCase()),o=t.footnoteOrder.indexOf(s);let c,d=t.footnoteCounts.get(s);d===void 0?(d=0,t.footnoteOrder.push(s),c=t.footnoteOrder.length):c=o+1,d+=1,t.footnoteCounts.set(s,d);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,m),t.applyData(e,m)}function a9(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function l9(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Iw(t,e){const n=e.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+s}];const a=t.all(e),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=s:a.push({type:"text",value:s}),a}function o9(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return Iw(t,e);const a={src:co(s.url||""),alt:e.alt};s.title!==null&&s.title!==void 0&&(a.title=s.title);const o={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,o),t.applyData(e,o)}function c9(t,e){const n={src:co(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,s),t.applyData(e,s)}function u9(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,s),t.applyData(e,s)}function f9(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return Iw(t,e);const a={href:co(s.url||"")};s.title!==null&&s.title!==void 0&&(a.title=s.title);const o={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function d9(t,e){const n={href:co(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function h9(t,e,n){const s=t.all(e),a=n?m9(n):Mw(e),o={},c=[];if(typeof e.checked=="boolean"){const x=s[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},s.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let d=-1;for(;++d<s.length;){const x=s[d];(a||d!==0||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!a?c.push(...x.children):c.push(x)}const p=s[s.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:o,children:c};return t.patch(e,m),t.applyData(e,m)}function m9(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let s=-1;for(;!e&&++s<n.length;)e=Mw(n[s])}return e}function Mw(t){const e=t.spread;return e??t.children.length>1}function p9(t,e){const n={},s=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<s.length;){const c=s[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function g9(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function x9(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function y9(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function b9(t,e){const n=t.all(e),s=n.shift(),a=[];if(s){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(e.children[0],c),a.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},d=ag(e.children[1]),p=hw(e.children[e.children.length-1]);d&&p&&(c.position={start:d,end:p}),a.push(c)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,o),t.applyData(e,o)}function v9(t,e,n){const s=n?n.children:void 0,o=(s?s.indexOf(e):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,d=c?c.length:e.children.length;let p=-1;const m=[];for(;++p<d;){const b=e.children[p],w={},_=c?c[p]:void 0;_&&(w.align=_);let S={type:"element",tagName:o,properties:w,children:[]};b&&(S.children=t.all(b),t.patch(b,S),S=t.applyData(b,S)),m.push(S)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,x),t.applyData(e,x)}function _9(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Rv=9,Dv=32;function w9(t){const e=String(t),n=/\r?\n|\r/g;let s=n.exec(e),a=0;const o=[];for(;s;)o.push(Iv(e.slice(a,s.index),a>0,!0),s[0]),a=s.index+s[0].length,s=n.exec(e);return o.push(Iv(e.slice(a),a>0,!1)),o.join("")}function Iv(t,e,n){let s=0,a=t.length;if(e){let o=t.codePointAt(s);for(;o===Rv||o===Dv;)s++,o=t.codePointAt(s)}if(n){let o=t.codePointAt(a-1);for(;o===Rv||o===Dv;)a--,o=t.codePointAt(a-1)}return a>s?t.slice(s,a):""}function N9(t,e){const n={type:"text",value:w9(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function E9(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const T9={blockquote:e9,break:t9,code:n9,delete:r9,emphasis:s9,footnoteReference:i9,heading:a9,html:l9,imageReference:o9,image:c9,inlineCode:u9,linkReference:f9,link:d9,listItem:h9,list:p9,paragraph:g9,root:x9,strong:y9,table:b9,tableCell:_9,tableRow:v9,text:N9,thematicBreak:E9,toml:Vf,yaml:Vf,definition:Vf,footnoteDefinition:Vf};function Vf(){}const Ow=-1,Ud=0,Rc=1,dd=2,hg=3,mg=4,pg=5,gg=6,Vw=7,Pw=8,Mv=typeof self=="object"?self:globalThis,S9=(t,e)=>{const n=(a,o)=>(t.set(o,a),a),s=a=>{if(t.has(a))return t.get(a);const[o,c]=e[a];switch(o){case Ud:case Ow:return n(c,a);case Rc:{const d=n([],a);for(const p of c)d.push(s(p));return d}case dd:{const d=n({},a);for(const[p,m]of c)d[s(p)]=s(m);return d}case hg:return n(new Date(c),a);case mg:{const{source:d,flags:p}=c;return n(new RegExp(d,p),a)}case pg:{const d=n(new Map,a);for(const[p,m]of c)d.set(s(p),s(m));return d}case gg:{const d=n(new Set,a);for(const p of c)d.add(s(p));return d}case Vw:{const{name:d,message:p}=c;return n(new Mv[d](p),a)}case Pw:return n(BigInt(c),a);case"BigInt":return n(Object(BigInt(c)),a);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return n(new DataView(d),c)}}return n(new Mv[o](c),a)};return s},Ov=t=>S9(new Map,t)(0),Pl="",{toString:A9}={},{keys:j9}=Object,yc=t=>{const e=typeof t;if(e!=="object"||!t)return[Ud,e];const n=A9.call(t).slice(8,-1);switch(n){case"Array":return[Rc,Pl];case"Object":return[dd,Pl];case"Date":return[hg,Pl];case"RegExp":return[mg,Pl];case"Map":return[pg,Pl];case"Set":return[gg,Pl];case"DataView":return[Rc,n]}return n.includes("Array")?[Rc,n]:n.includes("Error")?[Vw,n]:[dd,n]},Pf=([t,e])=>t===Ud&&(e==="function"||e==="symbol"),C9=(t,e,n,s)=>{const a=(c,d)=>{const p=s.push(c)-1;return n.set(d,p),p},o=c=>{if(n.has(c))return n.get(c);let[d,p]=yc(c);switch(d){case Ud:{let x=c;switch(p){case"bigint":d=Pw,x=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);x=null;break;case"undefined":return a([Ow],c)}return a([d,x],c)}case Rc:{if(p){let w=c;return p==="DataView"?w=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(w=new Uint8Array(c)),a([p,[...w]],c)}const x=[],b=a([d,x],c);for(const w of c)x.push(o(w));return b}case dd:{if(p)switch(p){case"BigInt":return a([p,c.toString()],c);case"Boolean":case"Number":case"String":return a([p,c.valueOf()],c)}if(e&&"toJSON"in c)return o(c.toJSON());const x=[],b=a([d,x],c);for(const w of j9(c))(t||!Pf(yc(c[w])))&&x.push([o(w),o(c[w])]);return b}case hg:return a([d,c.toISOString()],c);case mg:{const{source:x,flags:b}=c;return a([d,{source:x,flags:b}],c)}case pg:{const x=[],b=a([d,x],c);for(const[w,_]of c)(t||!(Pf(yc(w))||Pf(yc(_))))&&x.push([o(w),o(_)]);return b}case gg:{const x=[],b=a([d,x],c);for(const w of c)(t||!Pf(yc(w)))&&x.push(o(w));return b}}const{message:m}=c;return a([d,{name:p,message:m}],c)};return o},Vv=(t,{json:e,lossy:n}={})=>{const s=[];return C9(!(e||n),!!e,new Map,s)(t),s},hd=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Ov(Vv(t,e)):structuredClone(t):(t,e)=>Ov(Vv(t,e));function k9(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function R9(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function D9(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||k9,s=t.options.footnoteBackLabel||R9,a=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let p=-1;for(;++p<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[p]);if(!m)continue;const x=t.all(m),b=String(m.identifier).toUpperCase(),w=co(b.toLowerCase());let _=0;const S=[],L=t.footnoteCounts.get(b);for(;L!==void 0&&++_<=L;){S.length>0&&S.push({type:"text",value:" "});let q=typeof n=="string"?n:n(p,_);typeof q=="string"&&(q={type:"text",value:q}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+w+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(p,_),className:["data-footnote-backref"]},children:Array.isArray(q)?q:[q]})}const z=x[x.length-1];if(z&&z.type==="element"&&z.tagName==="p"){const q=z.children[z.children.length-1];q&&q.type==="text"?q.value+=" ":z.children.push({type:"text",value:" "}),z.children.push(...S)}else x.push(...S);const F={type:"element",tagName:"li",properties:{id:e+"fn-"+w},children:t.wrap(x,!0)};t.patch(m,F),d.push(F)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...hd(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(d,!0)},{type:"text",value:`
`}]}}const Bd=(function(t){if(t==null)return V9;if(typeof t=="function")return qd(t);if(typeof t=="object")return Array.isArray(t)?I9(t):M9(t);if(typeof t=="string")return O9(t);throw new Error("Expected function, string, or object as test")});function I9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Bd(t[n]);return qd(s);function s(...a){let o=-1;for(;++o<e.length;)if(e[o].apply(this,a))return!0;return!1}}function M9(t){const e=t;return qd(n);function n(s){const a=s;let o;for(o in t)if(a[o]!==e[o])return!1;return!0}}function O9(t){return qd(e);function e(n){return n&&n.type===t}}function qd(t){return e;function e(n,s,a){return!!(P9(n)&&t.call(this,n,typeof s=="number"?s:void 0,a||void 0))}}function V9(){return!0}function P9(t){return t!==null&&typeof t=="object"&&"type"in t}const Lw=[],L9=!0,W0=!1,z9="skip";function zw(t,e,n,s){let a;typeof e=="function"&&typeof n!="function"?(s=n,n=e):a=e;const o=Bd(a),c=s?-1:1;d(t,void 0,[])();function d(p,m,x){const b=p&&typeof p=="object"?p:{};if(typeof b.type=="string"){const _=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(p.type+(_?"<"+_+">":""))+")"})}return w;function w(){let _=Lw,S,L,z;if((!e||o(p,m,x[x.length-1]||void 0))&&(_=U9(n(p,x)),_[0]===W0))return _;if("children"in p&&p.children){const F=p;if(F.children&&_[0]!==z9)for(L=(s?F.children.length:-1)+c,z=x.concat(F);L>-1&&L<F.children.length;){const q=F.children[L];if(S=d(q,L,z)(),S[0]===W0)return S;L=typeof S[1]=="number"?S[1]:L+c}}return _}}}function U9(t){return Array.isArray(t)?t:typeof t=="number"?[L9,t]:t==null?Lw:[t]}function xg(t,e,n,s){let a,o,c;typeof e=="function"&&typeof n!="function"?(o=void 0,c=e,a=n):(o=e,c=n,a=s),zw(t,o,d,a);function d(p,m){const x=m[m.length-1],b=x?x.children.indexOf(p):void 0;return c(p,b,x)}}const ep={}.hasOwnProperty,B9={};function q9(t,e){const n=e||B9,s=new Map,a=new Map,o=new Map,c={...T9,...n.handlers},d={all:m,applyData:H9,definitionById:s,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:c,one:p,options:n,patch:F9,wrap:G9};return xg(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?s:a,w=String(x.identifier).toUpperCase();b.has(w)||b.set(w,x)}}),d;function p(x,b){const w=x.type,_=d.handlers[w];if(ep.call(d.handlers,w)&&_)return _(d,x,b);if(d.options.passThrough&&d.options.passThrough.includes(w)){if("children"in x){const{children:L,...z}=x,F=hd(z);return F.children=d.all(x),F}return hd(x)}return(d.options.unknownHandler||$9)(d,x,b)}function m(x){const b=[];if("children"in x){const w=x.children;let _=-1;for(;++_<w.length;){const S=d.one(w[_],x);if(S){if(_&&w[_-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=Pv(S.value)),!Array.isArray(S)&&S.type==="element")){const L=S.children[0];L&&L.type==="text"&&(L.value=Pv(L.value))}Array.isArray(S)?b.push(...S):b.push(S)}}}return b}}function F9(t,e){t.position&&(e.position=Rj(t))}function H9(t,e){let n=e;if(t&&t.data){const s=t.data.hName,a=t.data.hChildren,o=t.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const c="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:c}}n.type==="element"&&o&&Object.assign(n.properties,hd(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function $9(t,e){const n=e.data||{},s="value"in e&&!(ep.call(n,"hProperties")||ep.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function G9(t,e){const n=[];let s=-1;for(e&&n.push({type:"text",value:`
`});++s<t.length;)s&&n.push({type:"text",value:`
`}),n.push(t[s]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Pv(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Lv(t,e){const n=q9(t,e),s=n.one(t,void 0),a=D9(n),o=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function Y9(t,e){return t&&"run"in t?async function(n,s){const a=Lv(n,{file:s,...e});await t.run(a,s)}:function(n,s){return Lv(n,{file:s,...t||e})}}function zv(t){if(t)throw t}var c0,Uv;function Q9(){if(Uv)return c0;Uv=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},o=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var x=t.call(m,"constructor"),b=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!x&&!b)return!1;var w;for(w in m);return typeof w>"u"||t.call(m,w)},c=function(m,x){n&&x.name==="__proto__"?n(m,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):m[x.name]=x.newValue},d=function(m,x){if(x==="__proto__")if(t.call(m,x)){if(s)return s(m,x).value}else return;return m[x]};return c0=function p(){var m,x,b,w,_,S,L=arguments[0],z=1,F=arguments.length,q=!1;for(typeof L=="boolean"&&(q=L,L=arguments[1]||{},z=2),(L==null||typeof L!="object"&&typeof L!="function")&&(L={});z<F;++z)if(m=arguments[z],m!=null)for(x in m)b=d(L,x),w=d(m,x),L!==w&&(q&&w&&(o(w)||(_=a(w)))?(_?(_=!1,S=b&&a(b)?b:[]):S=b&&o(b)?b:{},c(L,{name:x,newValue:p(q,S,w)})):typeof w<"u"&&c(L,{name:x,newValue:w}));return L},c0}var X9=Q9();const u0=pd(X9);function tp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function K9(){const t=[],e={run:n,use:s};return e;function n(...a){let o=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...a);function d(p,...m){const x=t[++o];let b=-1;if(p){c(p);return}for(;++b<a.length;)(m[b]===null||m[b]===void 0)&&(m[b]=a[b]);a=m,x?Z9(x,d)(...m):c(null,...m)}}function s(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function Z9(t,e){let n;return s;function s(...c){const d=t.length>c.length;let p;d&&c.push(a);try{p=t.apply(this,c)}catch(m){const x=m;if(d&&n)throw x;return a(x)}d||(p&&p.then&&typeof p.then=="function"?p.then(o,a):p instanceof Error?a(p):o(p))}function a(c,...d){n||(n=!0,e(c,...d))}function o(c){a(null,c)}}const is={basename:J9,dirname:W9,extname:eR,join:tR,sep:"/"};function J9(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');lu(t);let n=0,s=-1,a=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else s<0&&(o=!0,s=a+1);return s<0?"":t.slice(n,s)}if(e===t)return"";let c=-1,d=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else c<0&&(o=!0,c=a+1),d>-1&&(t.codePointAt(a)===e.codePointAt(d--)?d<0&&(s=a):(d=-1,s=c));return n===s?s=c:s<0&&(s=t.length),t.slice(n,s)}function W9(t){if(lu(t),t.length===0)return".";let e=-1,n=t.length,s;for(;--n;)if(t.codePointAt(n)===47){if(s){e=n;break}}else s||(s=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function eR(t){lu(t);let e=t.length,n=-1,s=0,a=-1,o=0,c;for(;e--;){const d=t.codePointAt(e);if(d===47){if(c){s=e+1;break}continue}n<0&&(c=!0,n=e+1),d===46?a<0?a=e:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===s+1?"":t.slice(a,n)}function tR(...t){let e=-1,n;for(;++e<t.length;)lu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":nR(n)}function nR(t){lu(t);const e=t.codePointAt(0)===47;let n=rR(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function rR(t,e){let n="",s=0,a=-1,o=0,c=-1,d,p;for(;++c<=t.length;){if(c<t.length)d=t.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(a===c-1||o===1))if(a!==c-1&&o===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",s=0):(n=n.slice(0,p),s=n.length-1-n.lastIndexOf("/")),a=c,o=0;continue}}else if(n.length>0){n="",s=0,a=c,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+t.slice(a+1,c):n=t.slice(a+1,c),s=c-a-1;a=c,o=0}else d===46&&o>-1?o++:o=-1}return n}function lu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const sR={cwd:iR};function iR(){return"/"}function np(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function aR(t){if(typeof t=="string")t=new URL(t);else if(!np(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return lR(t)}function lR(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const s=e.codePointAt(n+2);if(s===70||s===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const f0=["history","path","basename","stem","extname","dirname"];class Uw{constructor(e){let n;e?np(e)?n={path:e}:typeof e=="string"||oR(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":sR.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<f0.length;){const o=f0[s];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)f0.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?is.basename(this.path):void 0}set basename(e){h0(e,"basename"),d0(e,"basename"),this.path=is.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?is.dirname(this.path):void 0}set dirname(e){Bv(this.basename,"dirname"),this.path=is.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?is.extname(this.path):void 0}set extname(e){if(d0(e,"extname"),Bv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=is.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){np(e)&&(e=aR(e)),h0(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?is.basename(this.path,this.extname):void 0}set stem(e){h0(e,"stem"),d0(e,"stem"),this.path=is.join(this.dirname||"",e+(this.extname||""))}fail(e,n,s){const a=this.message(e,n,s);throw a.fatal=!0,a}info(e,n,s){const a=this.message(e,n,s);return a.fatal=void 0,a}message(e,n,s){const a=new Mn(e,n,s);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function d0(t,e){if(t&&t.includes(is.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+is.sep+"`")}function h0(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Bv(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function oR(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const cR=(function(t){const s=this.constructor.prototype,a=s[t],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,s),o}),uR={}.hasOwnProperty;class yg extends cR{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=K9()}copy(){const e=new yg;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];e.use(...s)}return e.data(u0(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(g0("data",this.frozen),this.namespace[e]=n,this):uR.call(this.namespace,e)&&this.namespace[e]||void 0:e?(g0("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const a=n.call(e,...s);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Lf(e),s=this.parser||this.Parser;return m0("parse",s),s(String(n),n)}process(e,n){const s=this;return this.freeze(),m0("process",this.parser||this.Parser),p0("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,c){const d=Lf(e),p=s.parse(d);s.run(p,d,function(x,b,w){if(x||!b||!w)return m(x);const _=b,S=s.stringify(_,w);hR(S)?w.value=S:w.result=S,m(x,w)});function m(x,b){x||!b?c(x):o?o(b):n(void 0,b)}}}processSync(e){let n=!1,s;return this.freeze(),m0("processSync",this.parser||this.Parser),p0("processSync",this.compiler||this.Compiler),this.process(e,a),Fv("processSync","process",n),s;function a(o,c){n=!0,zv(o),s=c}}run(e,n,s){qv(e),this.freeze();const a=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?o(void 0,s):new Promise(o);function o(c,d){const p=Lf(n);a.run(e,p,m);function m(x,b,w){const _=b||e;x?d(x):c?c(_):s(void 0,_,w)}}}runSync(e,n){let s=!1,a;return this.run(e,n,o),Fv("runSync","run",s),a;function o(c,d){zv(c),a=d,s=!0}}stringify(e,n){this.freeze();const s=Lf(n),a=this.compiler||this.Compiler;return p0("stringify",a),qv(e),a(e,s)}use(e,...n){const s=this.attachers,a=this.namespace;if(g0("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?d(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[x,...b]=m;p(x,b)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(m.plugins),m.settings&&(a.settings=u0(!0,a.settings,m.settings))}function d(m){let x=-1;if(m!=null)if(Array.isArray(m))for(;++x<m.length;){const b=m[x];o(b)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,x){let b=-1,w=-1;for(;++b<s.length;)if(s[b][0]===m){w=b;break}if(w===-1)s.push([m,...x]);else if(x.length>0){let[_,...S]=x;const L=s[w][1];tp(L)&&tp(_)&&(_=u0(!0,L,_)),s[w]=[m,_,...S]}}}}const fR=new yg().freeze();function m0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function p0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function g0(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qv(t){if(!tp(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Fv(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Lf(t){return dR(t)?t:new Uw(t)}function dR(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function hR(t){return typeof t=="string"||mR(t)}function mR(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const pR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Hv=[],$v={allowDangerousHtml:!0},gR=/^(https?|ircs?|mailto|xmpp)$/i,xR=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function uo(t){const e=yR(t),n=bR(t);return vR(e.runSync(e.parse(n),n),t)}function yR(t){const e=t.rehypePlugins||Hv,n=t.remarkPlugins||Hv,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...$v}:$v;return fR().use(Wk).use(n).use(Y9,s).use(e)}function bR(t){const e=t.children||"",n=new Uw;return typeof e=="string"&&(n.value=e),n}function vR(t,e){const n=e.allowedElements,s=e.allowElement,a=e.components,o=e.disallowedElements,c=e.skipHtml,d=e.unwrapDisallowed,p=e.urlTransform||_R;for(const x of xR)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+pR+x.id,void 0);return xg(t,m),Vj(t,{Fragment:u.Fragment,components:a,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function m(x,b,w){if(x.type==="raw"&&w&&typeof b=="number")return c?w.children.splice(b,1):w.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let _;for(_ in a0)if(Object.hasOwn(a0,_)&&Object.hasOwn(x.properties,_)){const S=x.properties[_],L=a0[_];(L===null||L.includes(x.tagName))&&(x.properties[_]=p(String(S||""),_,x))}}if(x.type==="element"){let _=n?!n.includes(x.tagName):o?o.includes(x.tagName):!1;if(!_&&s&&typeof b=="number"&&(_=!s(x,b,w)),_&&w&&typeof b=="number")return d&&x.children?w.children.splice(b,1,...x.children):w.children.splice(b,1),b}}}function _R(t){const e=t.indexOf(":"),n=t.indexOf("?"),s=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||s!==-1&&e>s||gR.test(t.slice(0,e))?t:""}function Gv(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let s=0,a=n.indexOf(e);for(;a!==-1;)s++,a=n.indexOf(e,a+e.length);return s}function wR(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function NR(t,e,n){const a=Bd((n||{}).ignore||[]),o=ER(e);let c=-1;for(;++c<o.length;)zw(t,"text",d);function d(m,x){let b=-1,w;for(;++b<x.length;){const _=x[b],S=w?w.children:void 0;if(a(_,S?S.indexOf(_):void 0,w))return;w=_}if(w)return p(m,x)}function p(m,x){const b=x[x.length-1],w=o[c][0],_=o[c][1];let S=0;const z=b.children.indexOf(m);let F=!1,q=[];w.lastIndex=0;let V=w.exec(m.value);for(;V;){const H=V.index,B={index:V.index,input:V.input,stack:[...x,m]};let U=_(...V,B);if(typeof U=="string"&&(U=U.length>0?{type:"text",value:U}:void 0),U===!1?w.lastIndex=H+1:(S!==H&&q.push({type:"text",value:m.value.slice(S,H)}),Array.isArray(U)?q.push(...U):U&&q.push(U),S=H+V[0].length,F=!0),!w.global)break;V=w.exec(m.value)}return F?(S<m.value.length&&q.push({type:"text",value:m.value.slice(S)}),b.children.splice(z,1,...q)):q=[m],z+q.length}}function ER(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let s=-1;for(;++s<n.length;){const a=n[s];e.push([TR(a[0]),SR(a[1])])}return e}function TR(t){return typeof t=="string"?new RegExp(wR(t),"g"):t}function SR(t){return typeof t=="function"?t:function(){return t}}const x0="phrasing",y0=["autolink","link","image","label"];function AR(){return{transforms:[MR],enter:{literalAutolink:CR,literalAutolinkEmail:b0,literalAutolinkHttp:b0,literalAutolinkWww:b0},exit:{literalAutolink:IR,literalAutolinkEmail:DR,literalAutolinkHttp:kR,literalAutolinkWww:RR}}}function jR(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:x0,notInConstruct:y0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:x0,notInConstruct:y0},{character:":",before:"[ps]",after:"\\/",inConstruct:x0,notInConstruct:y0}]}}function CR(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function b0(t){this.config.enter.autolinkProtocol.call(this,t)}function kR(t){this.config.exit.autolinkProtocol.call(this,t)}function RR(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function DR(t){this.config.exit.autolinkEmail.call(this,t)}function IR(t){this.exit(t)}function MR(t){NR(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,OR],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),VR]],{ignore:["link","linkReference"]})}function OR(t,e,n,s,a){let o="";if(!Bw(a)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!PR(n)))return!1;const c=LR(n+s);if(!c[0])return!1;const d={type:"link",title:null,url:o+e+c[0],children:[{type:"text",value:e+c[0]}]};return c[1]?[d,{type:"text",value:c[1]}]:d}function VR(t,e,n,s){return!Bw(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function PR(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function LR(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],s=n.indexOf(")");const a=Gv(t,"(");let o=Gv(t,")");for(;s!==-1&&a>o;)t+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),o++;return[t,n]}function Bw(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||za(n)||Ld(n))&&(!e||n!==47)}qw.peek=YR;function zR(){this.buffer()}function UR(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function BR(){this.buffer()}function qR(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function FR(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function HR(t){this.exit(t)}function $R(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function GR(t){this.exit(t)}function YR(){return"["}function qw(t,e,n,s){const a=n.createTracker(s);let o=a.move("[^");const c=n.enter("footnoteReference"),d=n.enter("reference");return o+=a.move(n.safe(n.associationId(t),{after:"]",before:o})),d(),c(),o+=a.move("]"),o}function QR(){return{enter:{gfmFootnoteCallString:zR,gfmFootnoteCall:UR,gfmFootnoteDefinitionLabelString:BR,gfmFootnoteDefinition:qR},exit:{gfmFootnoteCallString:FR,gfmFootnoteCall:HR,gfmFootnoteDefinitionLabelString:$R,gfmFootnoteDefinition:GR}}}function XR(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:qw},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,a,o,c){const d=o.createTracker(c);let p=d.move("[^");const m=o.enter("footnoteDefinition"),x=o.enter("label");return p+=d.move(o.safe(o.associationId(s),{before:p,after:"]"})),x(),p+=d.move("]:"),s.children&&s.children.length>0&&(d.shift(4),p+=d.move((e?`
`:" ")+o.indentLines(o.containerFlow(s,d.current()),e?Fw:KR))),m(),p}}function KR(t,e,n){return e===0?t:Fw(t,e,n)}function Fw(t,e,n){return(n?"":"    ")+t}const ZR=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Hw.peek=nD;function JR(){return{canContainEols:["delete"],enter:{strikethrough:eD},exit:{strikethrough:tD}}}function WR(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ZR}],handlers:{delete:Hw}}}function eD(t){this.enter({type:"delete",children:[]},t)}function tD(t){this.exit(t)}function Hw(t,e,n,s){const a=n.createTracker(s),o=n.enter("strikethrough");let c=a.move("~~");return c+=n.containerPhrasing(t,{...a.current(),before:c,after:"~"}),c+=a.move("~~"),o(),c}function nD(){return"~"}function rD(t){return t.length}function sD(t,e){const n=e||{},s=(n.align||[]).concat(),a=n.stringLength||rD,o=[],c=[],d=[],p=[];let m=0,x=-1;for(;++x<t.length;){const L=[],z=[];let F=-1;for(t[x].length>m&&(m=t[x].length);++F<t[x].length;){const q=iD(t[x][F]);if(n.alignDelimiters!==!1){const V=a(q);z[F]=V,(p[F]===void 0||V>p[F])&&(p[F]=V)}L.push(q)}c[x]=L,d[x]=z}let b=-1;if(typeof s=="object"&&"length"in s)for(;++b<m;)o[b]=Yv(s[b]);else{const L=Yv(s);for(;++b<m;)o[b]=L}b=-1;const w=[],_=[];for(;++b<m;){const L=o[b];let z="",F="";L===99?(z=":",F=":"):L===108?z=":":L===114&&(F=":");let q=n.alignDelimiters===!1?1:Math.max(1,p[b]-z.length-F.length);const V=z+"-".repeat(q)+F;n.alignDelimiters!==!1&&(q=z.length+q+F.length,q>p[b]&&(p[b]=q),_[b]=q),w[b]=V}c.splice(1,0,w),d.splice(1,0,_),x=-1;const S=[];for(;++x<c.length;){const L=c[x],z=d[x];b=-1;const F=[];for(;++b<m;){const q=L[b]||"";let V="",H="";if(n.alignDelimiters!==!1){const B=p[b]-(z[b]||0),U=o[b];U===114?V=" ".repeat(B):U===99?B%2?(V=" ".repeat(B/2+.5),H=" ".repeat(B/2-.5)):(V=" ".repeat(B/2),H=V):H=" ".repeat(B)}n.delimiterStart!==!1&&!b&&F.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&q==="")&&(n.delimiterStart!==!1||b)&&F.push(" "),n.alignDelimiters!==!1&&F.push(V),F.push(q),n.alignDelimiters!==!1&&F.push(H),n.padding!==!1&&F.push(" "),(n.delimiterEnd!==!1||b!==m-1)&&F.push("|")}S.push(n.delimiterEnd===!1?F.join("").replace(/ +$/,""):F.join(""))}return S.join(`
`)}function iD(t){return t==null?"":String(t)}function Yv(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function aD(t,e,n,s){const a=n.enter("blockquote"),o=n.createTracker(s);o.move("> "),o.shift(2);const c=n.indentLines(n.containerFlow(t,o.current()),lD);return a(),c}function lD(t,e,n){return">"+(n?"":" ")+t}function oD(t,e){return Qv(t,e.inConstruct,!0)&&!Qv(t,e.notInConstruct,!1)}function Qv(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let s=-1;for(;++s<e.length;)if(t.includes(e[s]))return!0;return!1}function Xv(t,e,n,s){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&oD(n.stack,n.unsafe[a]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function cD(t,e){const n=String(t);let s=n.indexOf(e),a=s,o=0,c=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===a?++o>c&&(c=o):o=1,a=s+e.length,s=n.indexOf(e,a);return c}function uD(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function fD(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function dD(t,e,n,s){const a=fD(n),o=t.value||"",c=a==="`"?"GraveAccent":"Tilde";if(uD(t,n)){const b=n.enter("codeIndented"),w=n.indentLines(o,hD);return b(),w}const d=n.createTracker(s),p=a.repeat(Math.max(cD(o,a)+1,3)),m=n.enter("codeFenced");let x=d.move(p);if(t.lang){const b=n.enter(`codeFencedLang${c}`);x+=d.move(n.safe(t.lang,{before:x,after:" ",encode:["`"],...d.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${c}`);x+=d.move(" "),x+=d.move(n.safe(t.meta,{before:x,after:`
`,encode:["`"],...d.current()})),b()}return x+=d.move(`
`),o&&(x+=d.move(o+`
`)),x+=d.move(p),m(),x}function hD(t,e,n){return(n?"":"    ")+t}function bg(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function mD(t,e,n,s){const a=bg(n),o=a==='"'?"Quote":"Apostrophe",c=n.enter("definition");let d=n.enter("label");const p=n.createTracker(s);let m=p.move("[");return m+=p.move(n.safe(n.associationId(t),{before:m,after:"]",...p.current()})),m+=p.move("]: "),d(),!t.url||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(n.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(d=n.enter("destinationRaw"),m+=p.move(n.safe(t.url,{before:m,after:t.title?" ":`
`,...p.current()}))),d(),t.title&&(d=n.enter(`title${o}`),m+=p.move(" "+a),m+=p.move(n.safe(t.title,{before:m,after:a,...p.current()})),m+=p.move(a),d()),c(),m}function pD(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Yc(t){return"&#x"+t.toString(16).toUpperCase()+";"}function md(t,e,n){const s=eo(t),a=eo(e);return s===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}$w.peek=gD;function $w(t,e,n,s){const a=pD(n),o=n.enter("emphasis"),c=n.createTracker(s),d=c.move(a);let p=c.move(n.containerPhrasing(t,{after:a,before:d,...c.current()}));const m=p.charCodeAt(0),x=md(s.before.charCodeAt(s.before.length-1),m,a);x.inside&&(p=Yc(m)+p.slice(1));const b=p.charCodeAt(p.length-1),w=md(s.after.charCodeAt(0),b,a);w.inside&&(p=p.slice(0,-1)+Yc(b));const _=c.move(a);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:x.outside},d+p+_}function gD(t,e,n){return n.options.emphasis||"*"}function xD(t,e){let n=!1;return xg(t,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,W0}),!!((!t.depth||t.depth<3)&&ug(t)&&(e.options.setext||n))}function yD(t,e,n,s){const a=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(s);if(xD(t,n)){const x=n.enter("headingSetext"),b=n.enter("phrasing"),w=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return b(),x(),w+`
`+(a===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}const c="#".repeat(a),d=n.enter("headingAtx"),p=n.enter("phrasing");o.move(c+" ");let m=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(m)&&(m=Yc(m.charCodeAt(0))+m.slice(1)),m=m?c+" "+m:c,n.options.closeAtx&&(m+=" "+c),p(),d(),m}Gw.peek=bD;function Gw(t){return t.value||""}function bD(){return"<"}Yw.peek=vD;function Yw(t,e,n,s){const a=bg(n),o=a==='"'?"Quote":"Apostrophe",c=n.enter("image");let d=n.enter("label");const p=n.createTracker(s);let m=p.move("![");return m+=p.move(n.safe(t.alt,{before:m,after:"]",...p.current()})),m+=p.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(n.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(d=n.enter("destinationRaw"),m+=p.move(n.safe(t.url,{before:m,after:t.title?" ":")",...p.current()}))),d(),t.title&&(d=n.enter(`title${o}`),m+=p.move(" "+a),m+=p.move(n.safe(t.title,{before:m,after:a,...p.current()})),m+=p.move(a),d()),m+=p.move(")"),c(),m}function vD(){return"!"}Qw.peek=_D;function Qw(t,e,n,s){const a=t.referenceType,o=n.enter("imageReference");let c=n.enter("label");const d=n.createTracker(s);let p=d.move("![");const m=n.safe(t.alt,{before:p,after:"]",...d.current()});p+=d.move(m+"]["),c();const x=n.stack;n.stack=[],c=n.enter("reference");const b=n.safe(n.associationId(t),{before:p,after:"]",...d.current()});return c(),n.stack=x,o(),a==="full"||!m||m!==b?p+=d.move(b+"]"):a==="shortcut"?p=p.slice(0,-1):p+=d.move("]"),p}function _D(){return"!"}Xw.peek=wD;function Xw(t,e,n){let s=t.value||"",a="`",o=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(s);)a+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++o<n.unsafe.length;){const c=n.unsafe[o],d=n.compilePattern(c);let p;if(c.atBreak)for(;p=d.exec(s);){let m=p.index;s.charCodeAt(m)===10&&s.charCodeAt(m-1)===13&&m--,s=s.slice(0,m)+" "+s.slice(p.index+1)}}return a+s+a}function wD(){return"`"}function Kw(t,e){const n=ug(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Zw.peek=ND;function Zw(t,e,n,s){const a=bg(n),o=a==='"'?"Quote":"Apostrophe",c=n.createTracker(s);let d,p;if(Kw(t,n)){const x=n.stack;n.stack=[],d=n.enter("autolink");let b=c.move("<");return b+=c.move(n.containerPhrasing(t,{before:b,after:">",...c.current()})),b+=c.move(">"),d(),n.stack=x,b}d=n.enter("link"),p=n.enter("label");let m=c.move("[");return m+=c.move(n.containerPhrasing(t,{before:m,after:"](",...c.current()})),m+=c.move("]("),p(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(p=n.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(n.safe(t.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(p=n.enter("destinationRaw"),m+=c.move(n.safe(t.url,{before:m,after:t.title?" ":")",...c.current()}))),p(),t.title&&(p=n.enter(`title${o}`),m+=c.move(" "+a),m+=c.move(n.safe(t.title,{before:m,after:a,...c.current()})),m+=c.move(a),p()),m+=c.move(")"),d(),m}function ND(t,e,n){return Kw(t,n)?"<":"["}Jw.peek=ED;function Jw(t,e,n,s){const a=t.referenceType,o=n.enter("linkReference");let c=n.enter("label");const d=n.createTracker(s);let p=d.move("[");const m=n.containerPhrasing(t,{before:p,after:"]",...d.current()});p+=d.move(m+"]["),c();const x=n.stack;n.stack=[],c=n.enter("reference");const b=n.safe(n.associationId(t),{before:p,after:"]",...d.current()});return c(),n.stack=x,o(),a==="full"||!m||m!==b?p+=d.move(b+"]"):a==="shortcut"?p=p.slice(0,-1):p+=d.move("]"),p}function ED(){return"["}function vg(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function TD(t){const e=vg(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function SD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Ww(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function AD(t,e,n,s){const a=n.enter("list"),o=n.bulletCurrent;let c=t.ordered?SD(n):vg(n);const d=t.ordered?c==="."?")":".":TD(n);let p=e&&n.bulletLastUsed?c===n.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(p=!0),Ww(n)===c&&x){let b=-1;for(;++b<t.children.length;){const w=t.children[b];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=d),n.bulletCurrent=c;const m=n.containerFlow(t,s);return n.bulletLastUsed=c,n.bulletCurrent=o,a(),m}function jD(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function CD(t,e,n,s){const a=jD(n);let o=n.bulletCurrent||vg(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let c=o.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(c=Math.ceil(c/4)*4);const d=n.createTracker(s);d.move(o+" ".repeat(c-o.length)),d.shift(c);const p=n.enter("listItem"),m=n.indentLines(n.containerFlow(t,d.current()),x);return p(),m;function x(b,w,_){return w?(_?"":" ".repeat(c))+b:(_?o:o+" ".repeat(c-o.length))+b}}function kD(t,e,n,s){const a=n.enter("paragraph"),o=n.enter("phrasing"),c=n.containerPhrasing(t,s);return o(),a(),c}const RD=Bd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function DD(t,e,n,s){return(t.children.some(function(c){return RD(c)})?n.containerPhrasing:n.containerFlow).call(n,t,s)}function ID(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}e4.peek=MD;function e4(t,e,n,s){const a=ID(n),o=n.enter("strong"),c=n.createTracker(s),d=c.move(a+a);let p=c.move(n.containerPhrasing(t,{after:a,before:d,...c.current()}));const m=p.charCodeAt(0),x=md(s.before.charCodeAt(s.before.length-1),m,a);x.inside&&(p=Yc(m)+p.slice(1));const b=p.charCodeAt(p.length-1),w=md(s.after.charCodeAt(0),b,a);w.inside&&(p=p.slice(0,-1)+Yc(b));const _=c.move(a+a);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:x.outside},d+p+_}function MD(t,e,n){return n.options.strong||"*"}function OD(t,e,n,s){return n.safe(t.value,s)}function VD(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function PD(t,e,n){const s=(Ww(n)+(n.options.ruleSpaces?" ":"")).repeat(VD(n));return n.options.ruleSpaces?s.slice(0,-1):s}const t4={blockquote:aD,break:Xv,code:dD,definition:mD,emphasis:$w,hardBreak:Xv,heading:yD,html:Gw,image:Yw,imageReference:Qw,inlineCode:Xw,link:Zw,linkReference:Jw,list:AD,listItem:CD,paragraph:kD,root:DD,strong:e4,text:OD,thematicBreak:PD};function LD(){return{enter:{table:zD,tableData:Kv,tableHeader:Kv,tableRow:BD},exit:{codeText:qD,table:UD,tableData:v0,tableHeader:v0,tableRow:v0}}}function zD(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function UD(t){this.exit(t),this.data.inTable=void 0}function BD(t){this.enter({type:"tableRow",children:[]},t)}function v0(t){this.exit(t)}function Kv(t){this.enter({type:"tableCell",children:[]},t)}function qD(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,FD));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function FD(t,e){return e==="|"?e:t}function HD(t){const e=t||{},n=e.tableCellPadding,s=e.tablePipeAlign,a=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:w,table:c,tableCell:p,tableRow:d}};function c(_,S,L,z){return m(x(_,L,z),_.align)}function d(_,S,L,z){const F=b(_,L,z),q=m([F]);return q.slice(0,q.indexOf(`
`))}function p(_,S,L,z){const F=L.enter("tableCell"),q=L.enter("phrasing"),V=L.containerPhrasing(_,{...z,before:o,after:o});return q(),F(),V}function m(_,S){return sD(_,{align:S,alignDelimiters:s,padding:n,stringLength:a})}function x(_,S,L){const z=_.children;let F=-1;const q=[],V=S.enter("table");for(;++F<z.length;)q[F]=b(z[F],S,L);return V(),q}function b(_,S,L){const z=_.children;let F=-1;const q=[],V=S.enter("tableRow");for(;++F<z.length;)q[F]=p(z[F],_,S,L);return V(),q}function w(_,S,L){let z=t4.inlineCode(_,S,L);return L.stack.includes("tableCell")&&(z=z.replace(/\|/g,"\\$&")),z}}function $D(){return{exit:{taskListCheckValueChecked:Zv,taskListCheckValueUnchecked:Zv,paragraph:YD}}}function GD(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:QD}}}function Zv(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function YD(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const s=n.children[0];if(s&&s.type==="text"){const a=e.children;let o=-1,c;for(;++o<a.length;){const d=a[o];if(d.type==="paragraph"){c=d;break}}c===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(t)}function QD(t,e,n,s){const a=t.children[0],o=typeof t.checked=="boolean"&&a&&a.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",d=n.createTracker(s);o&&d.move(c);let p=t4.listItem(t,e,n,{...s,...d.current()});return o&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),p;function m(x){return x+c}}function XD(){return[AR(),QR(),JR(),LD(),$D()]}function KD(t){return{extensions:[jR(),XR(t),WR(),HD(t),GD()]}}const ZD={tokenize:r7,partial:!0},n4={tokenize:s7,partial:!0},r4={tokenize:i7,partial:!0},s4={tokenize:a7,partial:!0},JD={tokenize:l7,partial:!0},i4={name:"wwwAutolink",tokenize:t7,previous:l4},a4={name:"protocolAutolink",tokenize:n7,previous:o4},Ks={name:"emailAutolink",tokenize:e7,previous:c4},gs={};function WD(){return{text:gs}}let ja=48;for(;ja<123;)gs[ja]=Ks,ja++,ja===58?ja=65:ja===91&&(ja=97);gs[43]=Ks;gs[45]=Ks;gs[46]=Ks;gs[95]=Ks;gs[72]=[Ks,a4];gs[104]=[Ks,a4];gs[87]=[Ks,i4];gs[119]=[Ks,i4];function e7(t,e,n){const s=this;let a,o;return c;function c(b){return!rp(b)||!c4.call(s,s.previous)||_g(s.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),d(b))}function d(b){return rp(b)?(t.consume(b),d):b===64?(t.consume(b),p):n(b)}function p(b){return b===46?t.check(JD,x,m)(b):b===45||b===95||In(b)?(o=!0,t.consume(b),p):x(b)}function m(b){return t.consume(b),a=!0,p}function x(b){return o&&a&&zn(s.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(b)):n(b)}}function t7(t,e,n){const s=this;return a;function a(c){return c!==87&&c!==119||!l4.call(s,s.previous)||_g(s.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(ZD,t.attempt(n4,t.attempt(r4,o),n),n)(c))}function o(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(c)}}function n7(t,e,n){const s=this;let a="",o=!1;return c;function c(b){return(b===72||b===104)&&o4.call(s,s.previous)&&!_g(s.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(b),t.consume(b),d):n(b)}function d(b){if(zn(b)&&a.length<5)return a+=String.fromCodePoint(b),t.consume(b),d;if(b===58){const w=a.toLowerCase();if(w==="http"||w==="https")return t.consume(b),p}return n(b)}function p(b){return b===47?(t.consume(b),o?m:(o=!0,p)):n(b)}function m(b){return b===null||fd(b)||bt(b)||za(b)||Ld(b)?n(b):t.attempt(n4,t.attempt(r4,x),n)(b)}function x(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(b)}}function r7(t,e,n){let s=0;return a;function a(c){return(c===87||c===119)&&s<3?(s++,t.consume(c),a):c===46&&s===3?(t.consume(c),o):n(c)}function o(c){return c===null?n(c):e(c)}}function s7(t,e,n){let s,a,o;return c;function c(m){return m===46||m===95?t.check(s4,p,d)(m):m===null||bt(m)||za(m)||m!==45&&Ld(m)?p(m):(o=!0,t.consume(m),c)}function d(m){return m===95?s=!0:(a=s,s=void 0),t.consume(m),c}function p(m){return a||s||!o?n(m):e(m)}}function i7(t,e){let n=0,s=0;return a;function a(c){return c===40?(n++,t.consume(c),a):c===41&&s<n?o(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(s4,e,o)(c):c===null||bt(c)||za(c)?e(c):(t.consume(c),a)}function o(c){return c===41&&s++,t.consume(c),a}}function a7(t,e,n){return s;function s(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(t.consume(d),s):d===38?(t.consume(d),o):d===93?(t.consume(d),a):d===60||d===null||bt(d)||za(d)?e(d):n(d)}function a(d){return d===null||d===40||d===91||bt(d)||za(d)?e(d):s(d)}function o(d){return zn(d)?c(d):n(d)}function c(d){return d===59?(t.consume(d),s):zn(d)?(t.consume(d),c):n(d)}}function l7(t,e,n){return s;function s(o){return t.consume(o),a}function a(o){return In(o)?n(o):e(o)}}function l4(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||bt(t)}function o4(t){return!zn(t)}function c4(t){return!(t===47||rp(t))}function rp(t){return t===43||t===45||t===46||t===95||In(t)}function _g(t){let e=t.length,n=!1;for(;e--;){const s=t[e][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const o7={tokenize:g7,partial:!0};function c7(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:h7,continuation:{tokenize:m7},exit:p7}},text:{91:{name:"gfmFootnoteCall",tokenize:d7},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:u7,resolveTo:f7}}}}function u7(t,e,n){const s=this;let a=s.events.length;const o=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let c;for(;a--;){const p=s.events[a][1];if(p.type==="labelImage"){c=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return d;function d(p){if(!c||!c._balanced)return n(p);const m=zr(s.sliceSerialize({start:c.end,end:s.now()}));return m.codePointAt(0)!==94||!o.includes(m.slice(1))?n(p):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),e(p))}}function f7(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},d=[t[n+1],t[n+2],["enter",s,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",o,e],["enter",c,e],["exit",c,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",s,e]];return t.splice(n,t.length-n+1,...d),t}function d7(t,e,n){const s=this,a=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o=0,c;return d;function d(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),p}function p(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",m)}function m(b){if(o>999||b===93&&!c||b===null||b===91||bt(b))return n(b);if(b===93){t.exit("chunkString");const w=t.exit("gfmFootnoteCallString");return a.includes(zr(s.sliceSerialize(w)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(b)}return bt(b)||(c=!0),o++,t.consume(b),b===92?x:m}function x(b){return b===91||b===92||b===93?(t.consume(b),o++,m):m(b)}}function h7(t,e,n){const s=this,a=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o,c=0,d;return p;function p(S){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(S){return S===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):n(S)}function x(S){if(c>999||S===93&&!d||S===null||S===91||bt(S))return n(S);if(S===93){t.exit("chunkString");const L=t.exit("gfmFootnoteDefinitionLabelString");return o=zr(s.sliceSerialize(L)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),w}return bt(S)||(d=!0),c++,t.consume(S),S===92?b:x}function b(S){return S===91||S===92||S===93?(t.consume(S),c++,x):x(S)}function w(S){return S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),a.includes(o)||a.push(o),it(t,_,"gfmFootnoteDefinitionWhitespace")):n(S)}function _(S){return e(S)}}function m7(t,e,n){return t.check(au,e,t.attempt(o7,e,n))}function p7(t){t.exit("gfmFootnoteDefinition")}function g7(t,e,n){const s=this;return it(t,a,"gfmFootnoteDefinitionIndent",5);function a(o){const c=s.events[s.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?e(o):n(o)}}function x7(t){let n=(t||{}).singleTilde;const s={name:"strikethrough",tokenize:o,resolveAll:a};return n==null&&(n=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function a(c,d){let p=-1;for(;++p<c.length;)if(c[p][0]==="enter"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._close){let m=p;for(;m--;)if(c[m][0]==="exit"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._open&&c[p][1].end.offset-c[p][1].start.offset===c[m][1].end.offset-c[m][1].start.offset){c[p][1].type="strikethroughSequence",c[m][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},c[m][1].start),end:Object.assign({},c[p][1].end)},b={type:"strikethroughText",start:Object.assign({},c[m][1].end),end:Object.assign({},c[p][1].start)},w=[["enter",x,d],["enter",c[m][1],d],["exit",c[m][1],d],["enter",b,d]],_=d.parser.constructs.insideSpan.null;_&&ur(w,w.length,0,zd(_,c.slice(m+1,p),d)),ur(w,w.length,0,[["exit",b,d],["enter",c[p][1],d],["exit",c[p][1],d],["exit",x,d]]),ur(c,m-1,p-m+3,w),p=m+w.length-2;break}}for(p=-1;++p<c.length;)c[p][1].type==="strikethroughSequenceTemporary"&&(c[p][1].type="data");return c}function o(c,d,p){const m=this.previous,x=this.events;let b=0;return w;function w(S){return m===126&&x[x.length-1][1].type!=="characterEscape"?p(S):(c.enter("strikethroughSequenceTemporary"),_(S))}function _(S){const L=eo(m);if(S===126)return b>1?p(S):(c.consume(S),b++,_);if(b<2&&!n)return p(S);const z=c.exit("strikethroughSequenceTemporary"),F=eo(S);return z._open=!F||F===2&&!!L,z._close=!L||L===2&&!!F,d(S)}}}class y7{constructor(){this.map=[]}add(e,n,s){b7(this,e,n,s)}consume(e){if(this.map.sort(function(o,c){return o[0]-c[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];s.push(e.slice()),e.length=0;let a=s.pop();for(;a;){for(const o of a)e.push(o);a=s.pop()}this.map.length=0}}function b7(t,e,n,s){let a=0;if(!(n===0&&s.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...s);return}a+=1}t.map.push([e,n,s])}}function v7(t,e){let n=!1;const s=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&s.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=s.length-1;s[o]=s[o]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return s}function _7(){return{flow:{null:{name:"table",tokenize:w7,resolveAll:N7}}}}function w7(t,e,n){const s=this;let a=0,o=0,c;return d;function d(A){let M=s.events.length-1;for(;M>-1;){const ae=s.events[M][1].type;if(ae==="lineEnding"||ae==="linePrefix")M--;else break}const O=M>-1?s.events[M][1].type:null,R=O==="tableHead"||O==="tableRow"?U:p;return R===U&&s.parser.lazy[s.now().line]?n(A):R(A)}function p(A){return t.enter("tableHead"),t.enter("tableRow"),m(A)}function m(A){return A===124||(c=!0,o+=1),x(A)}function x(A){return A===null?n(A):Me(A)?o>1?(o=0,s.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),_):n(A):Ze(A)?it(t,x,"whitespace")(A):(o+=1,c&&(c=!1,a+=1),A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),c=!0,x):(t.enter("data"),b(A)))}function b(A){return A===null||A===124||bt(A)?(t.exit("data"),x(A)):(t.consume(A),A===92?w:b)}function w(A){return A===92||A===124?(t.consume(A),b):b(A)}function _(A){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(A):(t.enter("tableDelimiterRow"),c=!1,Ze(A)?it(t,S,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):S(A))}function S(A){return A===45||A===58?z(A):A===124?(c=!0,t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),L):B(A)}function L(A){return Ze(A)?it(t,z,"whitespace")(A):z(A)}function z(A){return A===58?(o+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),F):A===45?(o+=1,F(A)):A===null||Me(A)?H(A):B(A)}function F(A){return A===45?(t.enter("tableDelimiterFiller"),q(A)):B(A)}function q(A){return A===45?(t.consume(A),q):A===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),V):(t.exit("tableDelimiterFiller"),V(A))}function V(A){return Ze(A)?it(t,H,"whitespace")(A):H(A)}function H(A){return A===124?S(A):A===null||Me(A)?!c||a!==o?B(A):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(A)):B(A)}function B(A){return n(A)}function U(A){return t.enter("tableRow"),j(A)}function j(A){return A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),j):A===null||Me(A)?(t.exit("tableRow"),e(A)):Ze(A)?it(t,j,"whitespace")(A):(t.enter("data"),C(A))}function C(A){return A===null||A===124||bt(A)?(t.exit("data"),j(A)):(t.consume(A),A===92?I:C)}function I(A){return A===92||A===124?(t.consume(A),C):C(A)}}function N7(t,e){let n=-1,s=!0,a=0,o=[0,0,0,0],c=[0,0,0,0],d=!1,p=0,m,x,b;const w=new y7;for(;++n<t.length;){const _=t[n],S=_[1];_[0]==="enter"?S.type==="tableHead"?(d=!1,p!==0&&(Jv(w,e,p,m,x),x=void 0,p=0),m={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},w.add(n,0,[["enter",m,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(s=!0,b=void 0,o=[0,0,0,0],c=[0,n+1,0,0],d&&(d=!1,x={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},w.add(n,0,[["enter",x,e]])),a=S.type==="tableDelimiterRow"?2:x?3:1):a&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(s=!1,c[2]===0&&(o[1]!==0&&(c[0]=c[1],b=zf(w,e,o,a,void 0,b),o=[0,0,0,0]),c[2]=n)):S.type==="tableCellDivider"&&(s?s=!1:(o[1]!==0&&(c[0]=c[1],b=zf(w,e,o,a,void 0,b)),o=c,c=[o[1],n,0,0])):S.type==="tableHead"?(d=!0,p=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(p=n,o[1]!==0?(c[0]=c[1],b=zf(w,e,o,a,n,b)):c[1]!==0&&(b=zf(w,e,c,a,n,b)),a=0):a&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(c[3]=n)}for(p!==0&&Jv(w,e,p,m,x),w.consume(e.events),n=-1;++n<e.events.length;){const _=e.events[n];_[0]==="enter"&&_[1].type==="table"&&(_[1]._align=v7(e.events,n))}return t}function zf(t,e,n,s,a,o){const c=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",d="tableContent";n[0]!==0&&(o.end=Object.assign({},Fl(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const p=Fl(e.events,n[1]);if(o={type:c,start:Object.assign({},p),end:Object.assign({},p)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const m=Fl(e.events,n[2]),x=Fl(e.events,n[3]),b={type:d,start:Object.assign({},m),end:Object.assign({},x)};if(t.add(n[2],0,[["enter",b,e]]),s!==2){const w=e.events[n[2]],_=e.events[n[3]];if(w[1].end=Object.assign({},_[1].end),w[1].type="chunkText",w[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,L=n[3]-n[2]-1;t.add(S,L,[])}}t.add(n[3]+1,0,[["exit",b,e]])}return a!==void 0&&(o.end=Object.assign({},Fl(e.events,a)),t.add(a,0,[["exit",o,e]]),o=void 0),o}function Jv(t,e,n,s,a){const o=[],c=Fl(e.events,n);a&&(a.end=Object.assign({},c),o.push(["exit",a,e])),s.end=Object.assign({},c),o.push(["exit",s,e]),t.add(n+1,0,o)}function Fl(t,e){const n=t[e],s=n[0]==="enter"?"start":"end";return n[1][s]}const E7={name:"tasklistCheck",tokenize:S7};function T7(){return{text:{91:E7}}}function S7(t,e,n){const s=this;return a;function a(p){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?n(p):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),o)}function o(p){return bt(p)?(t.enter("taskListCheckValueUnchecked"),t.consume(p),t.exit("taskListCheckValueUnchecked"),c):p===88||p===120?(t.enter("taskListCheckValueChecked"),t.consume(p),t.exit("taskListCheckValueChecked"),c):n(p)}function c(p){return p===93?(t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),d):n(p)}function d(p){return Me(p)?e(p):Ze(p)?t.check({tokenize:A7},e,n)(p):n(p)}}function A7(t,e,n){return it(t,s,"whitespace");function s(a){return a===null?n(a):e(a)}}function j7(t){return vw([WD(),c7(),x7(t),_7(),T7()])}const C7={};function fo(t){const e=this,n=t||C7,s=e.data(),a=s.micromarkExtensions||(s.micromarkExtensions=[]),o=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),c=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);a.push(j7(n)),o.push(XD()),c.push(KD(n))}function k7({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,canManageNotices:a,onDelete:o,onManagePermissions:c,onEdit:d}){const[p,m]=X.useState(!1),[x,b]=X.useState(t.content),w=a,_=a,S=a,L=B=>B?(B.toDate?B.toDate():new Date(B)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",z=()=>t.createdByRoll==="2405225"?"admin":"co-leader",F=()=>{b(t.content),m(!0)},q=()=>{m(!1),b(t.content)},V=async()=>{if(!x.trim()){alert("Please enter content for the notice");return}await d(t.id,{content:x.trim()})&&m(!1)},H=z();return p?u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Notice"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:V,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(qi,{className:"w-4 h-4"}),"Save"]}),u.jsxs("button",{onClick:q,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[u.jsx(fn,{className:"w-4 h-4"}),"Cancel"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notice Content (Markdown supported)"}),u.jsx("textarea",{value:x,onChange:B=>b(B.target.value),rows:6,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:`Enter your notice content here. You can use Markdown formatting:\r
\r
**Bold text**\r
*Italic text*\r
[Link text](https://example.com)\r
- List item\r
> Quote\r
\`code\``})]}),u.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:u.jsxs("p",{className:"text-sm text-blue-700",children:[u.jsx("strong",{children:"Tip:"})," Use Markdown formatting for rich text. Links will automatically open in new tabs."]})})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-2xl flex items-center justify-center",children:u.jsx(Ci,{className:"w-5 h-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Notice"}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(Lr,{className:"w-3 h-3"}),u.jsxs("span",{children:["By ",t.createdBy]}),H==="admin"&&u.jsx(Jn,{className:"w-3 h-3 text-yellow-500",title:"Admin"}),H==="co-leader"&&t.createdByRoll!=="2405225"&&u.jsx(vn,{className:"w-3 h-3 text-purple-500",title:"Co-Leader"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-gray-100",children:t.isPublic?u.jsxs(u.Fragment,{children:[u.jsx(fp,{className:"w-3 h-3 text-green-600"}),u.jsx("span",{className:"text-green-700",children:"Public"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Yt,{className:"w-3 h-3 text-blue-600"}),u.jsxs("span",{className:"text-blue-700",children:[t.allowedUsers?.length||0," users"]})]})}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(Mi,{className:"w-3 h-3"}),u.jsx("span",{children:L(t.createdAt)})]}),_&&u.jsx("button",{onClick:F,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Notice",children:u.jsx(Ba,{className:"w-4 h-4"})}),S&&u.jsx("button",{onClick:c,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:u.jsx(qa,{className:"w-4 h-4"})}),w&&u.jsx("button",{onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Notice",children:u.jsx(ds,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"prose prose-sm max-w-none",children:u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:B,children:U})=>u.jsx("a",{href:B,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:U}),p:({children:B})=>u.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:B}),h1:({children:B})=>u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:B}),h2:({children:B})=>u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:B}),h3:({children:B})=>u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:B}),ul:({children:B})=>u.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-3 space-y-1",children:B}),ol:({children:B})=>u.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-3 space-y-1",children:B}),li:({children:B})=>u.jsx("li",{className:"text-gray-700",children:B}),blockquote:({children:B})=>u.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 text-gray-700 italic mb-3",children:B}),code:({children:B,className:U})=>U?u.jsx("code",{className:"block bg-gray-100 text-gray-800 p-3 rounded text-sm font-mono whitespace-pre-wrap mb-3",children:B}):u.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:B}),strong:({children:B})=>u.jsx("strong",{className:"font-bold text-gray-900",children:B}),em:({children:B})=>u.jsx("em",{className:"italic text-gray-700",children:B})},children:t.content})}),a&&!t.isPublic&&t.allowedUsers?.length>0&&u.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:u.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[u.jsx(hs,{className:"w-4 h-4"}),u.jsxs("span",{children:["Visible to: ",t.allowedUsers.length," selected students"]})]})})]})}function R7({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:a,canManageNotices:o,onDelete:c,onManagePermissions:d,onToggleItem:p,onEdit:m}){const[x,b]=X.useState(!1),[w,_]=X.useState(t.content),[S,L]=X.useState(t.meta.items||[]),[z,F]=X.useState(t.meta.isAnonymous||!1),[q,V]=X.useState(null),H=o,B=o,U=o,j=t.meta.isAnonymous||!1,C=k=>k?(k.toDate?k.toDate():new Date(k)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",I=k=>{const oe=n.find(ve=>ve.rollNo===k);return oe?oe.name:k},A=k=>{if(j)return[];const oe=t.meta.items[k];return!oe.completedBy||oe.completedBy.length===0?[]:oe.completedBy.map(ve=>I(ve))},M=k=>{const oe=t.meta.items[k];return j?oe.anonymousCompletions||0:oe.completedBy?.length||0},O=k=>{if(j)return((t.meta.userCompletions||{})[e]||[]).includes(k);{const oe=t.meta.items[k];return oe.completedBy&&oe.completedBy.includes(e)}},R=()=>{const k=t.meta.items?.length||0;let oe=0;for(let ve=0;ve<k;ve++)O(ve)&&oe++;return{totalItems:k,completedItems:oe}},ae=k=>{j||V(q===k?null:k)},xe=()=>{_(t.content),L([...t.meta.items]),F(t.meta.isAnonymous||!1),b(!0)},Q=()=>{b(!1),_(t.content),L([...t.meta.items]),F(t.meta.isAnonymous||!1)},fe=async()=>{if(!w.trim()){alert("Please enter content for the checklist");return}if(S.length===0||S.every(oe=>!oe.text.trim())){alert("Please add at least one checklist item");return}await m(t.id,{content:w.trim(),meta:{...t.meta,items:S.filter(oe=>oe.text.trim()),isAnonymous:z}})&&b(!1)},re=()=>{L([...S,{text:"",completedBy:[],anonymousCompletions:0}])},ye=(k,oe)=>{const ve=[...S];ve[k]={...ve[k],text:oe},L(ve)},E=k=>{if(S.length<=1){alert("Checklist must have at least 1 item");return}L(S.filter((oe,ve)=>ve!==k))},{totalItems:se,completedItems:W}=R();return x?u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Checklist"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:fe,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(qi,{className:"w-4 h-4"}),"Save"]}),u.jsxs("button",{onClick:Q,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[u.jsx(fn,{className:"w-4 h-4"}),"Cancel"]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Description (Markdown supported)"}),u.jsx("textarea",{value:w,onChange:k=>_(k.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 font-mono text-sm",placeholder:"Enter checklist description. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous completion:"}),u.jsxs("button",{type:"button",onClick:()=>F(!z),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${z?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[z?u.jsx(Oi,{className:"w-4 h-4"}):u.jsx(Oa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:z?"Anonymous":"Show names"})]})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Items"}),S.map((k,oe)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:k.text,onChange:ve=>ye(oe,ve.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:`Item ${oe+1}`}),S.length>1&&u.jsx("button",{onClick:()=>E(oe),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:u.jsx(fn,{className:"w-4 h-4"})})]},oe)),u.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-4 py-2 text-green-600 hover:bg-green-100 rounded-xl transition-colors",children:[u.jsx(ls,{className:"w-4 h-4"}),"Add Item"]})]})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-2xl flex items-center justify-center",children:u.jsx(dp,{className:"w-5 h-5 text-green-600"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Checklist"}),j&&u.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:"Anonymous"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(Lr,{className:"w-3 h-3"}),u.jsxs("span",{children:["By ",t.createdBy]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[W,"/",se," completed"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(Mi,{className:"w-3 h-3"}),u.jsx("span",{children:C(t.createdAt)})]}),B&&u.jsx("button",{onClick:xe,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Checklist",children:u.jsx(Ba,{className:"w-4 h-4"})}),U&&u.jsx("button",{onClick:d,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:u.jsx(qa,{className:"w-4 h-4"})}),H&&u.jsx("button",{onClick:()=>c(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Checklist",children:u.jsx(ds,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:k,children:oe})=>u.jsx("a",{href:k,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:oe}),p:({children:k})=>u.jsx("p",{className:"text-gray-700 leading-relaxed",children:k}),strong:({children:k})=>u.jsx("strong",{className:"font-bold text-gray-900",children:k}),em:({children:k})=>u.jsx("em",{className:"italic",children:k}),ul:({children:k})=>u.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:k}),ol:({children:k})=>u.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:k}),code:({children:k,className:oe})=>oe?u.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:k}):u.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:k})},children:t.content})}),u.jsx("div",{className:"space-y-3",children:t.meta.items?.map((k,oe)=>{const ve=O(oe),le=A(oe),_e=M(oe);return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:`
                  flex items-center justify-between p-3 rounded-xl border-2 transition-all cursor-pointer
                  ${ve?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 hover:border-green-300"}
                `,onClick:()=>p(oe),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`
                    w-6 h-6 rounded-lg border-2 flex items-center justify-center
                    ${ve?"bg-green-500 border-green-500 text-white":"border-gray-300"}
                  `,children:ve&&u.jsx(to,{className:"w-4 h-4"})}),u.jsx("span",{className:`${ve?"text-green-700 font-medium":"text-gray-700"}`,children:k.text})]}),_e>0&&u.jsxs("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full",children:[_e," completed"]})]}),!j&&le.length>0&&u.jsxs("div",{className:"ml-9",children:[u.jsxs("button",{onClick:()=>ae(oe),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-800 transition-colors",children:[u.jsx(hs,{className:"w-4 h-4"}),u.jsxs("span",{children:[le.length," completed by"]}),q===oe?u.jsx(up,{className:"w-4 h-4"}):u.jsx(gd,{className:"w-4 h-4"})]}),q===oe&&u.jsx("div",{className:"mt-2 p-3 bg-green-50 rounded-lg border border-green-200",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:le.map((Se,xt)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:Se},xt))})})]}),j&&_e>0&&u.jsx("div",{className:"ml-9",children:u.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[u.jsx(Oi,{className:"w-4 h-4"}),u.jsxs("span",{children:[_e," anonymous completion",_e>1?"s":""]})]})})]},oe)})})]})}function D7({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:a,canManageNotices:o,onDelete:c,onManagePermissions:d,onVote:p,onEdit:m}){const[x,b]=X.useState([]),[w,_]=X.useState(!1),[S,L]=X.useState(t.content),[z,F]=X.useState(t.meta.options||[]),[q,V]=X.useState(t.meta.allowMultiple||!1),[H,B]=X.useState(t.meta.isAnonymous||!1),[U,j]=X.useState(null),C=o,I=o,A=o,M=t.meta.isAnonymous||!1;X.useEffect(()=>{if(t?.meta?.options)if(M){const _e=(t.meta.userVotes||{})[e]||[];b(_e)}else{const le=[];t.meta.options.forEach((_e,Se)=>{_e.votes&&_e.votes.includes(e)&&le.push(Se)}),b(le)}},[t,e,M]);const O=le=>le?(le.toDate?le.toDate():new Date(le)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",R=()=>M?t.meta.options?.reduce((le,_e)=>le+(_e.anonymousVotes||0),0)||0:t.meta.options?.reduce((le,_e)=>le+(_e.votes?.length||0),0)||0,ae=le=>{const _e=t.meta.options[le];return M?_e.anonymousVotes||0:_e.votes?.length||0},xe=le=>{const _e=n.find(Se=>Se.rollNo===le);return _e?_e.name:le},Q=le=>{if(M)return[];const _e=t.meta.options[le];return!_e.votes||_e.votes.length===0?[]:_e.votes.map(Se=>xe(Se))},fe=le=>{let _e;t.meta.allowMultiple?x.includes(le)?_e=x.filter(Se=>Se!==le):_e=[...x,le]:_e=x.includes(le)?[]:[le],b(_e),p(_e,e)},re=le=>{M||j(U===le?null:le)},ye=()=>{L(t.content),F([...t.meta.options]),V(t.meta.allowMultiple||!1),B(t.meta.isAnonymous||!1),_(!0)},E=()=>{_(!1),L(t.content),F([...t.meta.options]),V(t.meta.allowMultiple||!1),B(t.meta.isAnonymous||!1)},se=async()=>{if(!S.trim()){alert("Please enter a question");return}if(z.length<2||z.some(_e=>!_e.text.trim())){alert("Please add at least 2 options with text");return}await m(t.id,{content:S.trim(),meta:{...t.meta,options:z,allowMultiple:q,isAnonymous:H}})&&_(!1)},W=()=>{F([...z,{text:"",votes:[],anonymousVotes:0}])},k=(le,_e)=>{const Se=[...z];Se[le]={...Se[le],text:_e},F(Se)},oe=le=>{if(z.length<=2){alert("Poll must have at least 2 options");return}F(z.filter((_e,Se)=>Se!==le))},ve=R();return w?u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Poll"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:se,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(qi,{className:"w-4 h-4"}),"Save"]}),u.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[u.jsx(fn,{className:"w-4 h-4"}),"Cancel"]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Poll Question (Markdown supported)"}),u.jsx("textarea",{value:S,onChange:le=>L(le.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter your poll question. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Multiple selections:"}),u.jsxs("button",{type:"button",onClick:()=>V(!q),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${q?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[q?u.jsx(a2,{className:"w-4 h-4"}):u.jsx(i2,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:q?"Enabled":"Disabled"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous voting:"}),u.jsxs("button",{type:"button",onClick:()=>B(!H),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${H?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[H?u.jsx(Oi,{className:"w-4 h-4"}):u.jsx(Oa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:H?"Anonymous":"Show names"})]})]})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[z.map((le,_e)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:le.text,onChange:Se=>k(_e,Se.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Option ${_e+1}`}),z.length>2&&u.jsx("button",{onClick:()=>oe(_e),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:u.jsx(fn,{className:"w-4 h-4"})})]},_e)),u.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[u.jsx(ls,{className:"w-4 h-4"}),"Add Option"]})]})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-2xl flex items-center justify-center",children:u.jsx(cp,{className:"w-5 h-5 text-purple-600"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Poll"}),t.meta.allowMultiple&&u.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:"Multi-select"}),M&&u.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:"Anonymous"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(Lr,{className:"w-3 h-3"}),u.jsxs("span",{children:["By ",t.createdBy]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[ve," votes"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(Mi,{className:"w-3 h-3"}),u.jsx("span",{children:O(t.createdAt)})]}),I&&u.jsx("button",{onClick:ye,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Poll",children:u.jsx(Ba,{className:"w-4 h-4"})}),A&&u.jsx("button",{onClick:d,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:u.jsx(qa,{className:"w-4 h-4"})}),C&&u.jsx("button",{onClick:()=>c(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Poll",children:u.jsx(ds,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:le,children:_e})=>u.jsx("a",{href:le,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:_e}),p:({children:le})=>u.jsx("p",{className:"text-gray-700 leading-relaxed font-medium",children:le}),strong:({children:le})=>u.jsx("strong",{className:"font-bold text-gray-900",children:le}),em:({children:le})=>u.jsx("em",{className:"italic",children:le}),code:({children:le,className:_e})=>_e?u.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:le}):u.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:le})},children:t.content})}),u.jsx("div",{className:"space-y-3",children:t.meta.options?.map((le,_e)=>{const Se=ae(_e),xt=ve>0?Se/ve*100:0,Ne=x.includes(_e),Fe=Q(_e);return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>fe(_e),className:`
                  w-full p-3 rounded-xl border-2 transition-all text-left
                  ${Ne?"bg-purple-50 border-purple-300":"bg-gray-50 border-gray-200 hover:border-purple-300"}
                `,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:`font-medium ${Ne?"text-purple-700":"text-gray-700"}`,children:le.text}),u.jsxs("span",{className:"text-sm text-gray-600",children:[Se," (",xt.toFixed(1),"%)"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all ${Ne?"bg-purple-500":"bg-gray-400"}`,style:{width:`${xt}%`}})})]}),!M&&Fe.length>0&&u.jsxs("div",{className:"ml-4",children:[u.jsxs("button",{onClick:()=>re(_e),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-800 transition-colors",children:[u.jsx(hs,{className:"w-4 h-4"}),u.jsxs("span",{children:[Fe.length," voter",Fe.length>1?"s":""]}),U===_e?u.jsx(up,{className:"w-4 h-4"}):u.jsx(gd,{className:"w-4 h-4"})]}),U===_e&&u.jsx("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:Fe.map((Tt,Kt)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:Tt},Kt))})})]}),M&&Se>0&&u.jsx("div",{className:"ml-4",children:u.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[u.jsx(Oi,{className:"w-4 h-4"}),u.jsxs("span",{children:[Se," anonymous vote",Se>1?"s":""]})]})})]},_e)})}),x.length>0&&u.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:u.jsx("div",{className:"text-sm text-purple-700 text-center",children:t.meta.allowMultiple?u.jsxs(u.Fragment,{children:["You voted for: ",u.jsxs("strong",{children:[x.length," option",x.length>1?"s":""]})]}):u.jsxs(u.Fragment,{children:["You voted for: ",u.jsx("strong",{children:t.meta.options[x[0]]?.text})]})})})]})}function I7({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,canManageNotices:a,onDelete:o,onManagePermissions:c,onEdit:d}){const[p,m]=X.useState(!1),[x,b]=X.useState(t.content),[w,_]=X.useState(t.meta.reminderDate),S=a,L=a,z=a,F=j=>j?(j.toDate?j.toDate():new Date(j)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",q=j=>j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",V=()=>t.meta.reminderDate?new Date(t.meta.reminderDate)<new Date:!1,H=()=>{b(t.content),_(t.meta.reminderDate),m(!0)},B=()=>{m(!1),b(t.content),_(t.meta.reminderDate)},U=async()=>{if(!x.trim()){alert("Please enter content for the reminder");return}if(!w){alert("Please set a reminder date");return}await d(t.id,{content:x.trim(),meta:{...t.meta,reminderDate:w}})&&m(!1)};return p?u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Reminder"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:U,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(qi,{className:"w-4 h-4"}),"Save"]}),u.jsxs("button",{onClick:B,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[u.jsx(fn,{className:"w-4 h-4"}),"Cancel"]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Content (Markdown supported)"}),u.jsx("textarea",{value:x,onChange:j=>b(j.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 font-mono text-sm",placeholder:"Enter reminder content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Date & Time"}),u.jsx("input",{type:"datetime-local",value:w,onChange:j=>_(j.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",min:new Date().toISOString().slice(0,16)})]})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${V()?"bg-red-100":"bg-orange-100"}`,children:u.jsx(Dc,{className:`w-5 h-5 ${V()?"text-red-600":"text-orange-600"}`})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Reminder"}),V()&&u.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Past Due"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(Lr,{className:"w-3 h-3"}),u.jsxs("span",{children:["By ",t.createdBy]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(Mi,{className:"w-3 h-3"}),u.jsx("span",{children:F(t.createdAt)})]}),L&&u.jsx("button",{onClick:H,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Reminder",children:u.jsx(Ba,{className:"w-4 h-4"})}),z&&u.jsx("button",{onClick:c,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:u.jsx(qa,{className:"w-4 h-4"})}),S&&u.jsx("button",{onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Reminder",children:u.jsx(ds,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:j,children:C})=>u.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:C}),p:({children:j})=>u.jsx("p",{className:"text-gray-700 leading-relaxed",children:j}),strong:({children:j})=>u.jsx("strong",{className:"font-bold text-gray-900",children:j}),em:({children:j})=>u.jsx("em",{className:"italic",children:j}),ul:({children:j})=>u.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:j}),ol:({children:j})=>u.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:j}),code:({children:j,className:C})=>C?u.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:j}):u.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:j})},children:t.content})}),u.jsx("div",{className:`p-4 rounded-xl border-2 ${V()?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Dc,{className:`w-4 h-4 ${V()?"text-red-600":"text-orange-600"}`}),u.jsx("span",{className:`text-sm font-medium ${V()?"text-red-700":"text-orange-700"}`,children:V()?"Was due:":"Reminder set for:"}),u.jsx("span",{className:`text-sm font-bold ${V()?"text-red-800":"text-orange-800"}`,children:q(t.meta.reminderDate)})]})})]})}function M7({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:a,canManageNotices:o,onDelete:c,onManagePermissions:d,onToggle:p,onEdit:m}){const[x,b]=X.useState(!1),[w,_]=X.useState(t.content),[S,L]=X.useState(t.meta.dueDate),z=o,F=o,q=o,V=R=>R?(R.toDate?R.toDate():new Date(R)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",H=R=>R?new Date(R).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",B=R=>{const ae=n.find(xe=>xe.rollNo===R);return ae?ae.name:R},U=t.meta.completedBy&&t.meta.completedBy.includes(e),j=t.meta.completedBy?.length||0,C=t.meta.completedBy?.map(R=>B(R))||[],I=()=>t.meta.dueDate?new Date(t.meta.dueDate)<new Date:!1,A=()=>{_(t.content),L(t.meta.dueDate),b(!0)},M=()=>{b(!1),_(t.content),L(t.meta.dueDate)},O=async()=>{if(!w.trim()){alert("Please enter content for the todo");return}if(!S){alert("Please set a due date");return}await m(t.id,{content:w.trim(),meta:{...t.meta,dueDate:S}})&&b(!1)};return x?u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Todo"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:O,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(qi,{className:"w-4 h-4"}),"Save"]}),u.jsxs("button",{onClick:M,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[u.jsx(fn,{className:"w-4 h-4"}),"Cancel"]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Todo Content (Markdown supported)"}),u.jsx("textarea",{value:w,onChange:R=>_(R.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Enter todo content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date & Time"}),u.jsx("input",{type:"datetime-local",value:S,onChange:R=>L(R.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",min:new Date().toISOString().slice(0,16)})]})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${U?"bg-green-100":I()?"bg-red-100":"bg-indigo-100"}`,children:u.jsx($s,{className:`w-5 h-5 ${U?"text-green-600":I()?"text-red-600":"text-indigo-600"}`})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Todo"}),U&&u.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Completed"}),!U&&I()&&u.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Past Due"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(Lr,{className:"w-3 h-3"}),u.jsxs("span",{children:["By ",t.createdBy]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[j," completed"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(Mi,{className:"w-3 h-3"}),u.jsx("span",{children:V(t.createdAt)})]}),F&&u.jsx("button",{onClick:A,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Todo",children:u.jsx(Ba,{className:"w-4 h-4"})}),q&&u.jsx("button",{onClick:d,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:u.jsx(qa,{className:"w-4 h-4"})}),z&&u.jsx("button",{onClick:()=>c(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Todo",children:u.jsx(ds,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:R,children:ae})=>u.jsx("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:ae}),h1:({children:R})=>u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:R}),h2:({children:R})=>u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:R}),h3:({children:R})=>u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:R}),p:({children:R})=>u.jsx("p",{className:"text-gray-700 leading-relaxed",children:R}),strong:({children:R})=>u.jsx("strong",{className:"font-bold text-gray-900",children:R}),em:({children:R})=>u.jsx("em",{className:"italic",children:R}),ul:({children:R})=>u.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:R}),ol:({children:R})=>u.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:R}),code:({children:R,className:ae})=>ae?u.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:R}):u.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:R})},children:t.content})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:p,className:`
            w-full flex items-center justify-center gap-3 p-3 rounded-xl border-2 transition-all
            ${U?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 hover:border-indigo-300 text-gray-700"}
          `,children:[u.jsx("div",{className:`
            w-6 h-6 rounded-lg border-2 flex items-center justify-center
            ${U?"bg-green-500 border-green-500 text-white":"border-gray-300"}
          `,children:U&&u.jsx(to,{className:"w-4 h-4"})}),u.jsx("span",{className:"font-medium",children:U?"Mark as Incomplete":"Mark as Complete"})]}),u.jsx("div",{className:`p-3 rounded-xl border-2 ${I()&&!U?"bg-red-50 border-red-200":U?"bg-green-50 border-green-200":"bg-indigo-50 border-indigo-200"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($s,{className:`w-4 h-4 ${I()&&!U?"text-red-600":U?"text-green-600":"text-indigo-600"}`}),u.jsx("span",{className:`text-sm font-medium ${I()&&!U?"text-red-700":U?"text-green-700":"text-indigo-700"}`,children:I()&&!U?"Was due:":"Due:"}),u.jsx("span",{className:`text-sm font-bold ${I()&&!U?"text-red-800":U?"text-green-800":"text-indigo-800"}`,children:H(t.meta.dueDate)})]})}),C.length>0&&u.jsxs("div",{className:"p-3 bg-green-50 rounded-xl border border-green-200",children:[u.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"Completed by:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((R,ae)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:R},ae))})]})]})]})}function O7({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,onDelete:a,onRequestEdit:o}){const c=t.meta.assessments||[{subject:t.meta.subject,assessmentName:t.meta.assessmentName,assessmentType:t.meta.assessmentType,date:t.meta.date}],d=m=>{const x=m?.toLowerCase()||"";return x.includes("ca")?"bg-orange-100 text-orange-700 border-orange-200":x.includes("sem")?"bg-red-100 text-red-700 border-red-200":x.includes("quiz")?"bg-blue-100 text-blue-700 border-blue-200":x.includes("assign")?"bg-green-100 text-green-700 border-green-200":"bg-purple-100 text-purple-700 border-purple-200"},p=c.length>0?d(c[0].assessmentType):"bg-purple-100 text-purple-700 border-purple-200";return u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:`px-4 py-2 border-b flex justify-between items-center ${p.replace(/-100/,"-50").replace(/-700/,"-900")}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full uppercase border ${p}`,children:"Assessment"}),u.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Posted by ",t.createdBy]})]}),(n||s&&t.createdByRoll===e)&&u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>o(t),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:u.jsx(pT,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>a(t.id),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:u.jsx(ds,{className:"w-3.5 h-3.5"})})]})]}),u.jsxs("div",{className:"p-0",children:[c.map((m,x)=>{const b=new Date(m.date),w=b.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_=b.toLocaleDateString("en-US",{weekday:"long"}),S=b.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),L=d(m.assessmentType);return u.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 divide-y md:divide-y-0 md:divide-x border-b border-gray-100 ${x>0?"border-t":""}`,children:[u.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center bg-gray-50/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[u.jsx(Qf,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Subject"})]}),u.jsx("div",{className:"font-bold text-gray-900 text-lg leading-tight",children:m.subject})]}),u.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[u.jsx(HE,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Assessment"})]}),u.jsx("div",{className:"font-bold text-gray-900 leading-tight",children:m.assessmentName}),u.jsx("div",{className:`mt-1 inline-flex text-xs font-bold px-2 py-0.5 rounded-md w-fit ${L}`,children:m.assessmentType})]}),u.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center bg-gray-50/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[u.jsx($s,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Date"})]}),u.jsx("div",{className:"font-bold text-gray-900 text-lg",children:w}),u.jsx("div",{className:"text-sm font-medium text-blue-600",children:_})]}),u.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[u.jsx(Mi,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Time"})]}),u.jsx("div",{className:"font-bold text-gray-900 text-lg",children:S})]})]},x)}),t.content&&u.jsx("div",{className:"p-4 bg-yellow-50/30",children:u.jsxs("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:[u.jsx("span",{className:"font-semibold text-gray-900",children:"Note: "}),t.content]})})]})]})}function V7({onSubmit:t,onCancel:e,isLoading:n,students:s,initialData:a=null}){const[o,c]=X.useState(a?.type||"notice"),[d,p]=X.useState(a?.content||""),[m,x]=X.useState(a?.meta||{}),[b,w]=X.useState(a?a.isPublic:!0),[_,S]=X.useState(a?.allowedUsers||[]),L=!!a,z=[{id:"notice",label:"Simple Notice",icon:Ci,description:"Basic announcement or information"},{id:"checklist",label:"Checklist",icon:dp,description:"List of items to be checked off"},{id:"poll",label:"Poll",icon:cp,description:"Survey with voting options"},{id:"reminder",label:"Reminder",icon:Dc,description:"Time-based reminder notification"},{id:"todo",label:"Todo",icon:$s,description:"Task with due date and completion tracking"},{id:"assessment",label:"Assessment",icon:Va,description:"Exam or assignment schedule"}],F=s.filter(re=>re.rollNo!==Pe.rollNo),q=re=>{if(!(L&&re!==a.type&&!window.confirm("Changing notice type will reset specific fields. Continue?"))){if(c(re),L&&re===a.type){x(a.meta);return}switch(x({}),re){case"checklist":x({items:[{text:""}],isAnonymous:!1});break;case"poll":x({options:[{text:""},{text:""}],allowMultiple:!1,isAnonymous:!1});break;case"reminder":x({reminderDate:""});break;case"todo":x({dueDate:"",completedBy:[]});break;case"assessment":x({assessments:[{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]});break;default:x({})}}};o==="assessment"&&!m.assessments&&(m.subject||m.assessmentName)?x({...m,assessments:[{subject:m.subject||"",assessmentName:m.assessmentName||"",assessmentType:m.assessmentType||"CA-1",date:m.date||""}]}):o==="assessment"&&!m.assessments&&x({...m,assessments:[{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]});const V=re=>{_.includes(re)?S(_.filter(ye=>ye!==re)):S([..._,re])},H=()=>{_.length===F.length?S([]):S(F.map(re=>re.rollNo))},B=re=>{if(re.preventDefault(),o!=="assessment"&&!d.trim()){alert("Please enter content for the notice");return}if(!b&&_.length===0){alert("Please select users or make the notice public");return}if(o==="checklist"&&(!m.items||m.items.length===0||m.items.every(ye=>!ye.text.trim()))){alert("Please add at least one checklist item");return}if(o==="poll"&&(!m.options||m.options.length<2||m.options.some(ye=>!ye.text.trim()))){alert("Please add at least 2 poll options with text");return}if(o==="reminder"&&!m.reminderDate){alert("Please set a reminder date");return}if(o==="todo"&&!m.dueDate){alert("Please set a due date for the todo");return}if(o==="assessment"){const ye=m.assessments?.filter(E=>E.subject&&E.date);if(!ye||ye.length===0){alert("Please add at least one complete assessment (Subject, Date)");return}m.assessments=ye}t({id:a?.id,type:o,content:d.trim(),meta:m,allowedUsers:b?[]:_,isPublic:b})},U=()=>{x({...m,items:[...m.items||[],{text:""}]})},j=(re,ye)=>{const E=[...m.items];E[re]={...E[re],text:ye},x({...m,items:E})},C=re=>{const ye=m.items.filter((E,se)=>se!==re);x({...m,items:ye})},I=()=>{x({...m,options:[...m.options||[],{text:"",votes:[]}]})},A=(re,ye)=>{const E=[...m.options];E[re]={...E[re],text:ye},x({...m,options:E})},M=re=>{if(m.options.length<=2){alert("Poll must have at least 2 options");return}const ye=m.options.filter((E,se)=>se!==re);x({...m,options:ye})},O=()=>{x({...m,allowMultiple:!m.allowMultiple})},R=()=>{x({...m,isAnonymous:!m.isAnonymous})},ae=()=>{x({...m,isAnonymous:!m.isAnonymous})},xe=()=>{x({...m,assessments:[...m.assessments||[],{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]})},Q=(re,ye,E)=>{const se=[...m.assessments||[]];se[re]={...se[re],[ye]:E},x({...m,assessments:se})},fe=re=>{const ye=(m.assessments||[]).filter((E,se)=>se!==re);x({...m,assessments:ye})};return u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 border border-gray-100 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:L?"Edit Notice":"Create New Notice"}),u.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(fn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:B,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Notice Type"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:z.map(re=>u.jsxs("button",{type:"button",onClick:()=>q(re.id),className:`
                  p-4 rounded-xl border-2 transition-all text-left
                  ${o===re.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}
                `,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(re.icon,{className:`w-5 h-5 ${o===re.id?"text-blue-600":"text-gray-600"}`}),u.jsx("span",{className:"font-medium text-gray-900",children:re.label})]}),u.jsx("p",{className:"text-xs text-gray-600",children:re.description})]},re.id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:o==="poll"?"Poll Question":"Content"}),u.jsx("textarea",{value:d,onChange:re=>p(re.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:o==="poll"?"What question would you like to ask?":o==="reminder"?"What should people be reminded about?":o==="todo"?"What task needs to be completed?":o==="assessment"?"Any additional notes (syllabus, venue, etc.)?":"Enter your notice content...",required:o!=="assessment"})]}),o==="checklist"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Checklist Items"}),u.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous completion:"}),u.jsxs("button",{type:"button",onClick:ae,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${m.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[m.isAnonymous?u.jsx(Oi,{className:"w-4 h-4"}):u.jsx(Oa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:m.isAnonymous?"Anonymous":"Show names"})]})]}),u.jsxs("div",{className:"space-y-2",children:[m.items?.map((re,ye)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:re.text,onChange:E=>j(ye,E.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Item ${ye+1}`}),m.items.length>1&&u.jsx("button",{type:"button",onClick:()=>C(ye),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:u.jsx(ds,{className:"w-4 h-4"})})]},ye)),u.jsxs("button",{type:"button",onClick:U,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[u.jsx(ls,{className:"w-4 h-4"}),"Add Item"]})]})]}),o==="poll"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Poll Options"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Multiple selections:"}),u.jsxs("button",{type:"button",onClick:O,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${m.allowMultiple?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[m.allowMultiple?u.jsx(a2,{className:"w-4 h-4"}):u.jsx(i2,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:m.allowMultiple?"Multi-select":"Single choice"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous voting:"}),u.jsxs("button",{type:"button",onClick:R,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${m.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[m.isAnonymous?u.jsx(Oi,{className:"w-4 h-4"}):u.jsx(Oa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:m.isAnonymous?"Anonymous":"Show names"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[m.options?.map((re,ye)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:re.text,onChange:E=>A(ye,E.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Option ${ye+1}`}),m.options.length>2&&u.jsx("button",{type:"button",onClick:()=>M(ye),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:u.jsx(ds,{className:"w-4 h-4"})})]},ye)),u.jsxs("button",{type:"button",onClick:I,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[u.jsx(ls,{className:"w-4 h-4"}),"Add Option"]})]})]}),o==="reminder"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reminder Date & Time"}),u.jsx("input",{type:"datetime-local",value:m.reminderDate,onChange:re=>x({...m,reminderDate:re.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().slice(0,16)})]}),o==="todo"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Due Date & Time"}),u.jsx("input",{type:"datetime-local",value:m.dueDate,onChange:re=>x({...m,dueDate:re.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().slice(0,16)})]}),o==="assessment"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assessments"}),m.assessments?.map((re,ye)=>u.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200 relative",children:[m.assessments.length>1&&u.jsx("button",{type:"button",onClick:()=>fe(ye),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx(fn,{className:"w-4 h-4"})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsx("div",{children:u.jsx("input",{type:"text",value:re.subject,onChange:E=>Q(ye,"subject",E.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm",placeholder:"Subject (e.g. Mathematics)"})}),u.jsx("div",{children:u.jsx("input",{type:"text",value:re.assessmentName,onChange:E=>Q(ye,"assessmentName",E.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm",placeholder:"Exam Name (e.g. Unit Test)"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("div",{children:u.jsxs("select",{value:re.assessmentType,onChange:E=>Q(ye,"assessmentType",E.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm bg-white",children:[u.jsx("option",{value:"CA-1",children:"CA-1"}),u.jsx("option",{value:"CA-2",children:"CA-2"}),u.jsx("option",{value:"CA-3",children:"CA-3"}),u.jsx("option",{value:"CA-4",children:"CA-4"}),u.jsx("option",{value:"Mid-Sem",children:"Mid-Sem"}),u.jsx("option",{value:"End-Sem",children:"End-Sem"})]})}),u.jsx("div",{children:u.jsx("input",{type:"datetime-local",value:re.date,onChange:E=>Q(ye,"date",E.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm",min:new Date().toISOString().slice(0,16)})})]})]},ye)),u.jsxs("button",{type:"button",onClick:xe,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-xl text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-all flex items-center justify-center gap-2",children:[u.jsx(ls,{className:"w-4 h-4"}),"Add Assessment Row"]})]}),u.jsxs("div",{className:"border-t pt-6",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Who can see this notice?"}),u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"visibility",checked:b,onChange:()=>w(!0),className:"w-4 h-4 text-blue-600"}),u.jsx(fp,{className:"w-4 h-4 text-green-600"}),u.jsx("span",{className:"text-sm font-medium",children:"Public (Everyone can see)"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"visibility",checked:!b,onChange:()=>w(!1),className:"w-4 h-4 text-blue-600"}),u.jsx(Yt,{className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm font-medium",children:"Private (Selected users only)"})]})]})}),!b&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select Students:"}),u.jsx("button",{type:"button",onClick:H,className:"text-sm text-blue-600 hover:text-blue-700",children:_.length===F.length?"Deselect All":"Select All"})]}),u.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:F.map(re=>u.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:_.includes(re.rollNo),onChange:()=>V(re.rollNo),className:"w-4 h-4 text-blue-600"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(hs,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:re.name}),u.jsxs("span",{className:"text-xs text-gray-500",children:["(",re.rollNo,")"]})]})]},re.rollNo))}),_.length>0&&u.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[_.length," student",_.length>1?"s":""," selected"]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"submit",disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:L?"Save Changes":"Create Notice"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ls,{className:"w-4 h-4"}),u.jsx("span",{children:L?"Save Changes":"Create Notice"})]})}),u.jsx("button",{type:"button",onClick:e,disabled:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function P7({notice:t,students:e,onUpdate:n,onCancel:s}){const[a,o]=X.useState(t.isPublic||!1),[c,d]=X.useState(t.allowedUsers||[]),[p,m]=X.useState(!1),x=e.filter(S=>S.rollNo!==Pe.rollNo);X.useEffect(()=>{o(t.isPublic||!1),d(t.allowedUsers||[])},[t]);const b=S=>{c.includes(S)?d(c.filter(L=>L!==S)):d([...c,S])},w=()=>{c.length===x.length?d([]):d(x.map(S=>S.rollNo))},_=async S=>{if(S.preventDefault(),!a&&c.length===0){alert("Please select users or make the notice public");return}m(!0);try{await n(a?[]:c,a)}finally{m(!1)}};return u.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Permissions"}),u.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(fn,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[u.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["Notice: ",t.type]}),u.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.content})]}),u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Visibility Settings"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[u.jsx("input",{type:"radio",name:"visibility",checked:a,onChange:()=>o(!0),className:"w-4 h-4 text-blue-600"}),u.jsx(fp,{className:"w-4 h-4 text-green-600"}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Public"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Everyone can see this notice"})]})]}),u.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[u.jsx("input",{type:"radio",name:"visibility",checked:!a,onChange:()=>o(!1),className:"w-4 h-4 text-blue-600"}),u.jsx(Yt,{className:"w-4 h-4 text-blue-600"}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Private"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Only selected users can see"})]})]})]})]}),!a&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Select Students:"}),u.jsx("button",{type:"button",onClick:w,className:"text-sm text-blue-600 hover:text-blue-700",children:c.length===x.length?"Deselect All":"Select All"})]}),u.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:x.map(S=>u.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:c.includes(S.rollNo),onChange:()=>b(S.rollNo),className:"w-4 h-4 text-blue-600"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(hs,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.name}),u.jsxs("span",{className:"text-xs text-gray-500",children:["(",S.rollNo,")"]})]})]},S.rollNo))}),c.length>0&&u.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[c.length," student",c.length>1?"s":""," selected"]})]}),u.jsx("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-200",children:u.jsxs("p",{className:"text-sm text-blue-700",children:[u.jsx("strong",{children:"Current:"})," ",t.isPublic?"Public":`Private (${t.allowedUsers?.length||0} users)`]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",disabled:p,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 font-medium",children:p?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Saving..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(qi,{className:"w-4 h-4"}),u.jsx("span",{children:"Update"})]})}),u.jsx("button",{type:"button",onClick:s,disabled:p,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function L7({notices:t,onSave:e,onCancel:n,isLoading:s}){const[a,o]=X.useState([]);X.useEffect(()=>{o([...t])},[t]);const c=(p,m)=>{const x=[...a],b=p+m;b>=0&&b<x.length&&([x[p],x[b]]=[x[b],x[p]],o(x))},d=()=>{const p=a.map(m=>m.id);e(p)};return u.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl flex flex-col max-h-[85vh]",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reorder Notices"}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Adjust the display order of notices"})]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(fn,{className:"w-6 h-6 text-gray-400"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:a.map((p,m)=>u.jsxs("div",{className:`
              flex items-center gap-4 p-4 rounded-xl border border-gray-200 bg-white
              hover:border-blue-300 hover:shadow-sm transition-all
              ${m===0?"bg-blue-50/50 border-blue-200":""}
            `,children:[u.jsx("div",{className:`p-2 rounded-lg ${m===0?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:u.jsx("span",{className:"font-mono font-bold w-4 text-center block",children:m+1})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full uppercase ${p.type==="notice"?"bg-blue-100 text-blue-700":p.type==="checklist"?"bg-purple-100 text-purple-700":p.type==="poll"?"bg-orange-100 text-orange-700":p.type==="todo"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:p.type}),u.jsx("span",{className:"text-xs text-gray-500",children:new Date(p.createdAt?.toDate?.()||p.createdAt).toLocaleDateString()})]}),u.jsx("p",{className:"text-gray-900 font-medium truncate",children:p.content})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("button",{onClick:()=>c(m,-1),disabled:m===0,className:"p-1.5 hover:bg-gray-100 rounded-lg text-gray-500 disabled:opacity-30 disabled:hover:bg-transparent",title:"Move Up",children:u.jsx(cE,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>c(m,1),disabled:m===a.length-1,className:"p-1.5 hover:bg-gray-100 rounded-lg text-gray-500 disabled:opacity-30 disabled:hover:bg-transparent",title:"Move Down",children:u.jsx(iE,{className:"w-4 h-4"})})]})]},p.id))}),u.jsxs("div",{className:"p-6 border-t border-gray-100 flex justify-end gap-3 bg-gray-50 rounded-b-2xl",children:[u.jsx("button",{onClick:n,className:"px-5 py-2.5 text-gray-700 font-medium hover:bg-white hover:shadow-sm rounded-xl transition-all",children:"Cancel"}),u.jsx("button",{onClick:d,disabled:s,className:"px-5 py-2.5 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:s?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(qi,{className:"w-4 h-4"}),"Save Order"]})})]})]})}function u4({open:t,title:e,message:n,confirmText:s="Confirm",cancelText:a="Cancel",confirmColor:o="red",onConfirm:c,onCancel:d,icon:p="warning"}){if(!t)return null;const m=()=>{switch(p){case"warning":return u.jsx(Uf,{className:"w-12 h-12 text-orange-500"});case"success":return u.jsx(xd,{className:"w-12 h-12 text-green-500"});case"danger":return u.jsx(Uf,{className:"w-12 h-12 text-red-500"});default:return u.jsx(Uf,{className:"w-12 h-12 text-orange-500"})}},x=()=>{switch(o){case"red":return"bg-red-600 hover:bg-red-700 text-white";case"green":return"bg-green-600 hover:bg-green-700 text-white";case"blue":return"bg-blue-600 hover:bg-blue-700 text-white";case"orange":return"bg-orange-600 hover:bg-orange-700 text-white";default:return"bg-red-600 hover:bg-red-700 text-white"}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out scale-100",children:[u.jsxs("div",{className:"relative p-6 pb-4",children:[u.jsx("button",{onClick:d,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(fn,{className:"w-4 h-4"})}),u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsx("div",{className:"p-3 rounded-full bg-gray-50",children:m()})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:e}),u.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:n})]}),u.jsx("div",{className:"px-6 pb-6",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:d,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:a}),u.jsx("button",{onClick:c,className:`flex-1 px-4 py-3 rounded-xl transition-colors font-medium ${x()}`,children:s})]})})]})})}function f4(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=f4(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Ma(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=f4(t))&&(s&&(s+=" "),s+=e);return s}function z7(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}z7(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ou=t=>typeof t=="number"&&!isNaN(t),Ua=t=>typeof t=="string",Xs=t=>typeof t=="function",U7=t=>Ua(t)||ou(t),sp=t=>Ua(t)||Xs(t)?t:null,B7=(t,e)=>t===!1||ou(t)&&t>0?t:e,ip=t=>X.isValidElement(t)||Ua(t)||Xs(t)||ou(t);function q7(t,e,n=300){let{scrollHeight:s,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function F7({enter:t,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:a=300}){return function({children:o,position:c,preventExitTransition:d,done:p,nodeRef:m,isIn:x,playToast:b}){let w=n?`${t}--${c}`:t,_=n?`${e}--${c}`:e,S=X.useRef(0);return X.useLayoutEffect(()=>{let L=m.current,z=w.split(" "),F=q=>{q.target===m.current&&(b(),L.removeEventListener("animationend",F),L.removeEventListener("animationcancel",F),S.current===0&&q.type!=="animationcancel"&&L.classList.remove(...z))};L.classList.add(...z),L.addEventListener("animationend",F),L.addEventListener("animationcancel",F)},[]),X.useEffect(()=>{let L=m.current,z=()=>{L.removeEventListener("animationend",z),s?q7(L,p,a):p()};x||(d?z():(S.current=1,L.className+=` ${_}`,L.addEventListener("animationend",z)))},[x]),gt.createElement(gt.Fragment,null,o)}}function Wv(t,e){return{content:d4(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function d4(t,e,n=!1){return X.isValidElement(t)&&!Ua(t.type)?X.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Xs(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function H7({closeToast:t,theme:e,ariaLabel:n="close"}){return gt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),t(!0)},"aria-label":n},gt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},gt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $7({delay:t,isRunning:e,closeToast:n,type:s="default",hide:a,className:o,controlledProgress:c,progress:d,rtl:p,isIn:m,theme:x}){let b=a||c&&d===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(w.transform=`scaleX(${d})`);let _=Ma("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),S=Xs(o)?o({rtl:p,type:s,defaultClassName:_}):Ma(_,o),L={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{m&&n()}};return gt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},gt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${s}`}),gt.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:S,style:w,...L}))}var G7=1,h4=()=>`${G7++}`;function Y7(t,e,n){let s=1,a=0,o=[],c=[],d=e,p=new Map,m=new Set,x=q=>(m.add(q),()=>m.delete(q)),b=()=>{c=Array.from(p.values()),m.forEach(q=>q())},w=({containerId:q,toastId:V,updateId:H})=>{let B=q?q!==t:t!==1,U=p.has(V)&&H==null;return B||U},_=(q,V)=>{p.forEach(H=>{var B;(V==null||V===H.props.toastId)&&((B=H.toggle)==null||B.call(H,q))})},S=q=>{var V,H;(H=(V=q.props)==null?void 0:V.onClose)==null||H.call(V,q.removalReason),q.isActive=!1},L=q=>{if(q==null)p.forEach(S);else{let V=p.get(q);V&&S(V)}b()},z=()=>{a-=o.length,o=[]},F=q=>{var V,H;let{toastId:B,updateId:U}=q.props,j=U==null;q.staleId&&p.delete(q.staleId),q.isActive=!0,p.set(B,q),b(),n(Wv(q,j?"added":"updated")),j&&((H=(V=q.props).onOpen)==null||H.call(V))};return{id:t,props:d,observe:x,toggle:_,removeToast:L,toasts:p,clearQueue:z,buildToast:(q,V)=>{if(w(V))return;let{toastId:H,updateId:B,data:U,staleId:j,delay:C}=V,I=B==null;I&&a++;let A={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(V).filter(([O,R])=>R!=null)),toastId:H,updateId:B,data:U,isIn:!1,className:sp(V.className||d.toastClassName),progressClassName:sp(V.progressClassName||d.progressClassName),autoClose:V.isLoading?!1:B7(V.autoClose,d.autoClose),closeToast(O){p.get(H).removalReason=O,L(H)},deleteToast(){let O=p.get(H);if(O!=null){if(n(Wv(O,"removed")),p.delete(H),a--,a<0&&(a=0),o.length>0){F(o.shift());return}b()}}};A.closeButton=d.closeButton,V.closeButton===!1||ip(V.closeButton)?A.closeButton=V.closeButton:V.closeButton===!0&&(A.closeButton=ip(d.closeButton)?d.closeButton:!0);let M={content:q,props:A,staleId:j};d.limit&&d.limit>0&&a>d.limit&&I?o.push(M):ou(C)?setTimeout(()=>{F(M)},C):F(M)},setProps(q){d=q},setToggle:(q,V)=>{let H=p.get(q);H&&(H.toggle=V)},isToastActive:q=>{var V;return(V=p.get(q))==null?void 0:V.isActive},getSnapshot:()=>c}}var Un=new Map,Qc=[],ap=new Set,Q7=t=>ap.forEach(e=>e(t)),m4=()=>Un.size>0;function X7(){Qc.forEach(t=>g4(t.content,t.options)),Qc=[]}var K7=(t,{containerId:e})=>{var n;return(n=Un.get(e||1))==null?void 0:n.toasts.get(t)};function p4(t,e){var n;if(e)return!!((n=Un.get(e))!=null&&n.isToastActive(t));let s=!1;return Un.forEach(a=>{a.isToastActive(t)&&(s=!0)}),s}function Z7(t){if(!m4()){Qc=Qc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||U7(t))Un.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Un.get(t.containerId);e?e.removeToast(t.id):Un.forEach(n=>{n.removeToast(t.id)})}}var J7=(t={})=>{Un.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function g4(t,e){ip(t)&&(m4()||Qc.push({content:t,options:e}),Un.forEach(n=>{n.buildToast(t,e)}))}function W7(t){var e;(e=Un.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function x4(t,e){Un.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function eI(t){let e=t.containerId||1;return{subscribe(n){let s=Y7(e,t,Q7);Un.set(e,s);let a=s.observe(n);return X7(),()=>{a(),Un.delete(e)}},setProps(n){var s;(s=Un.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=Un.get(e))==null?void 0:n.getSnapshot()}}}function tI(t){return ap.add(t),()=>{ap.delete(t)}}function nI(t){return t&&(Ua(t.toastId)||ou(t.toastId))?t.toastId:h4()}function cu(t,e){return g4(t,e),e.toastId}function Fd(t,e){return{...e,type:e&&e.type||t,toastId:nI(e)}}function Hd(t){return(e,n)=>cu(e,Fd(t,n))}function Te(t,e){return cu(t,Fd("default",e))}Te.loading=(t,e)=>cu(t,Fd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function rI(t,{pending:e,error:n,success:s},a){let o;e&&(o=Ua(e)?Te.loading(e,a):Te.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,x,b)=>{if(x==null){Te.dismiss(o);return}let w={type:m,...c,...a,data:b},_=Ua(x)?{render:x}:x;return o?Te.update(o,{...w,..._}):Te(_.render,{...w,..._}),b},p=Xs(t)?t():t;return p.then(m=>d("success",s,m)).catch(m=>d("error",n,m)),p}Te.promise=rI;Te.success=Hd("success");Te.info=Hd("info");Te.error=Hd("error");Te.warning=Hd("warning");Te.warn=Te.warning;Te.dark=(t,e)=>cu(t,Fd("default",{theme:"dark",...e}));function sI(t){Z7(t)}Te.dismiss=sI;Te.clearWaitingQueue=J7;Te.isActive=p4;Te.update=(t,e={})=>{let n=K7(t,e);if(n){let{props:s,content:a}=n,o={delay:100,...s,...e,toastId:e.toastId||t,updateId:h4()};o.toastId!==t&&(o.staleId=t);let c=o.render||a;delete o.render,cu(c,o)}};Te.done=t=>{Te.update(t,{progress:1})};Te.onChange=tI;Te.play=t=>x4(!0,t);Te.pause=t=>x4(!1,t);function iI(t){var e;let{subscribe:n,getSnapshot:s,setProps:a}=X.useRef(eI(t)).current;a(t);let o=(e=X.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function c(d){if(!o)return[];let p=new Map;return t.newestOnTop&&o.reverse(),o.forEach(m=>{let{position:x}=m.props;p.has(x)||p.set(x,[]),p.get(x).push(m)}),Array.from(p,m=>d(m[0],m[1]))}return{getToastToRender:c,isToastActive:p4,count:o?.length}}function aI(t){let[e,n]=X.useState(!1),[s,a]=X.useState(!1),o=X.useRef(null),c=X.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:m,onClick:x,closeOnClick:b}=t;W7({id:t.toastId,containerId:t.containerId,fn:n}),X.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{_()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||F(),window.addEventListener("focus",z),window.addEventListener("blur",F)}function _(){window.removeEventListener("focus",z),window.removeEventListener("blur",F)}function S(j){if(t.draggable===!0||t.draggable===j.pointerType){q();let C=o.current;c.canCloseOnClick=!0,c.canDrag=!0,C.style.transition="none",t.draggableDirection==="x"?(c.start=j.clientX,c.removalDistance=C.offsetWidth*(t.draggablePercent/100)):(c.start=j.clientY,c.removalDistance=C.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function L(j){let{top:C,bottom:I,left:A,right:M}=o.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&t.pauseOnHover&&j.clientX>=A&&j.clientX<=M&&j.clientY>=C&&j.clientY<=I?F():z()}function z(){n(!0)}function F(){n(!1)}function q(){c.didMove=!1,document.addEventListener("pointermove",H),document.addEventListener("pointerup",B)}function V(){document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",B)}function H(j){let C=o.current;if(c.canDrag&&C){c.didMove=!0,e&&F(),t.draggableDirection==="x"?c.delta=j.clientX-c.start:c.delta=j.clientY-c.start,c.start!==j.clientX&&(c.canCloseOnClick=!1);let I=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;C.style.transform=`translate3d(${I},0)`,C.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function B(){V();let j=o.current;if(c.canDrag&&c.didMove&&j){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let U={onPointerDown:S,onPointerUp:L};return d&&p&&(U.onMouseEnter=F,t.stacked||(U.onMouseLeave=z)),b&&(U.onClick=j=>{x&&x(j),c.canCloseOnClick&&m(!0)}),{playToast:z,pauseToast:F,isRunning:e,preventExitTransition:s,toastRef:o,eventHandlers:U}}var lI=typeof window<"u"?X.useLayoutEffect:X.useEffect,$d=({theme:t,type:e,isLoading:n,...s})=>gt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function oI(t){return gt.createElement($d,{...t},gt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function cI(t){return gt.createElement($d,{...t},gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function uI(t){return gt.createElement($d,{...t},gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function fI(t){return gt.createElement($d,{...t},gt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function dI(){return gt.createElement("div",{className:"Toastify__spinner"})}var lp={info:cI,warning:oI,success:uI,error:fI,spinner:dI},hI=t=>t in lp;function mI({theme:t,type:e,isLoading:n,icon:s}){let a=null,o={theme:t,type:e};return s===!1||(Xs(s)?a=s({...o,isLoading:n}):X.isValidElement(s)?a=X.cloneElement(s,o):n?a=lp.spinner():hI(e)&&(a=lp[e](o))),a}var pI=t=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:a,playToast:o}=aI(t),{closeButton:c,children:d,autoClose:p,onClick:m,type:x,hideProgressBar:b,closeToast:w,transition:_,position:S,className:L,style:z,progressClassName:F,updateId:q,role:V,progress:H,rtl:B,toastId:U,deleteToast:j,isIn:C,isLoading:I,closeOnClick:A,theme:M,ariaLabel:O}=t,R=Ma("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":B},{"Toastify__toast--close-on-click":A}),ae=Xs(L)?L({rtl:B,position:S,type:x,defaultClassName:R}):Ma(R,L),xe=mI(t),Q=!!H||!p,fe={closeToast:w,type:x,theme:M},re=null;return c===!1||(Xs(c)?re=c(fe):X.isValidElement(c)?re=X.cloneElement(c,fe):re=H7(fe)),gt.createElement(_,{isIn:C,done:j,position:S,preventExitTransition:n,nodeRef:s,playToast:o},gt.createElement("div",{id:U,tabIndex:0,onClick:m,"data-in":C,className:ae,...a,style:z,ref:s,...C&&{role:V,"aria-label":O}},xe!=null&&gt.createElement("div",{className:Ma("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},xe),d4(d,t,!e),re,!t.customProgressBar&&gt.createElement($7,{...q&&!Q?{key:`p-${q}`}:{},rtl:B,theme:M,delay:p,isRunning:e,isIn:C,closeToast:w,hide:b,type:x,className:F,controlledProgress:Q,progress:H||0})))},gI=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),xI=F7(gI("bounce",!0)),yI={position:"top-right",transition:xI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function bI(t){let e={...yI,...t},n=t.stacked,[s,a]=X.useState(!0),o=X.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=iI(e),{className:m,style:x,rtl:b,containerId:w,hotKeys:_}=e;function S(z){let F=Ma("Toastify__toast-container",`Toastify__toast-container--${z}`,{"Toastify__toast-container--rtl":b});return Xs(m)?m({position:z,rtl:b,defaultClassName:F}):Ma(F,sp(m))}function L(){n&&(a(!0),Te.play())}return lI(()=>{var z;if(n){let F=o.current.querySelectorAll('[data-in="true"]'),q=12,V=(z=e.position)==null?void 0:z.includes("top"),H=0,B=0;Array.from(F).reverse().forEach((U,j)=>{let C=U;C.classList.add("Toastify__toast--stacked"),j>0&&(C.dataset.collapsed=`${s}`),C.dataset.pos||(C.dataset.pos=V?"top":"bot");let I=H*(s?.2:1)+(s?0:q*j);C.style.setProperty("--y",`${V?I:I*-1}px`),C.style.setProperty("--g",`${q}`),C.style.setProperty("--s",`${1-(s?B:0)}`),H+=C.offsetHeight,B+=.025})}},[s,p,n]),X.useEffect(()=>{function z(F){var q;let V=o.current;_(F)&&((q=V.querySelector('[tabIndex="0"]'))==null||q.focus(),a(!1),Te.pause()),F.key==="Escape"&&(document.activeElement===V||V!=null&&V.contains(document.activeElement))&&(a(!0),Te.play())}return document.addEventListener("keydown",z),()=>{document.removeEventListener("keydown",z)}},[_]),gt.createElement("section",{ref:o,className:"Toastify",id:w,onMouseEnter:()=>{n&&(a(!1),Te.pause())},onMouseLeave:L,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((z,F)=>{let q=F.length?{...x}:{...x,pointerEvents:"none"};return gt.createElement("div",{tabIndex:-1,className:S(z),"data-stacked":n,style:q,key:`c-${z}`},F.map(({content:V,props:H})=>gt.createElement(pI,{...H,stacked:n,collapseAll:L,isIn:d(H.toastId,H.containerId),key:`t-${H.key}`},V)))}))}function vI({selectedStudent:t}){const{students:e}=iw(),{notices:n,isLoading:s,isSaving:a,isAdmin:o,isCoLeader:c,canManageNotices:d,createNotice:p,deleteNotice:m,editNotice:x,updateNoticePermissions:b,updateNoticesOrder:w,voteInPoll:_,toggleChecklistItem:S,toggleTodo:L}=Z_(t),[z,F]=X.useState(!1),[q,V]=X.useState(!1),[H,B]=X.useState(!1),[U,j]=X.useState(null),[C,I]=X.useState("all"),[A,M]=X.useState(""),[O,R]=X.useState(!1),[ae,xe]=X.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),Q=n.filter(Ne=>{const Fe=C==="all"||Ne.type===C,Tt=!A||Ne.content.toLowerCase().includes(A.toLowerCase())||Ne.createdBy.toLowerCase().includes(A.toLowerCase());return Fe&&Tt}),fe=[{id:"all",label:"All",icon:Ci,count:n.length},{id:"notice",label:"Notices",icon:Ci,count:n.filter(Ne=>Ne.type==="notice").length},{id:"checklist",label:"Checklists",icon:dp,count:n.filter(Ne=>Ne.type==="checklist").length},{id:"poll",label:"Polls",icon:cp,count:n.filter(Ne=>Ne.type==="poll").length},{id:"reminder",label:"Reminders",icon:Dc,count:n.filter(Ne=>Ne.type==="reminder").length},{id:"todo",label:"Todos",icon:$s,count:n.filter(Ne=>Ne.type==="todo").length},{id:"assessment",label:"Assessments",icon:Ci,count:n.filter(Ne=>Ne.type==="assessment").length}],re=Ne=>{xe(Ne),R(!0)},ye=()=>{ae.onConfirm(),R(!1)},E=()=>{R(!1)},se=async Ne=>{if(!d){Te.error(" Only admin and co-leaders can create notices");return}await p(Ne.type,Ne.content,Ne.meta,Ne.allowedUsers||[],Ne.isPublic||!1)?(F(!1),Te.success(" Notice created successfully!")):Te.error(" Failed to create notice. Please try again.")},[W,k]=X.useState(null),oe=async(Ne,Fe)=>{if(!d)return Te.error(" Only admin and co-leaders can edit notices"),!1;const{id:Tt,...Kt}=Fe,dn=await x(Ne,Kt);return dn?(Te.success(" Notice updated successfully!"),k(null)):Te.error(" Failed to update notice. Please try again."),dn},ve=async Ne=>{if(!d){Te.error(" Only admin and co-leaders can delete notices");return}re({title:"Delete Notice",message:"Are you sure you want to delete this notice? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{await m(Ne)?Te.success(" Notice deleted successfully!"):Te.error(" Failed to delete notice. Please try again.")}})},le=Ne=>{j(Ne),V(!0)},_e=async(Ne,Fe)=>{if(U)try{await b(U.id,Ne,Fe)?(V(!1),j(null),Te.success(" Permissions updated successfully!")):Te.error(" Failed to update permissions")}catch(Tt){Te.error(" Error updating permissions: "+Tt.message)}},Se=async Ne=>{await w(Ne)?(B(!1),Te.success(" Notices reordered successfully!")):Te.error(" Failed to reorder notices")},xt=Ne=>{const Fe={notice:Ne,currentUser:t?.rollNo,students:e,isAdmin:o,isCoLeader:c,canManageNotices:d,onDelete:ve,onEdit:oe,onManagePermissions:()=>le(Ne)};switch(Ne.type){case"checklist":return u.jsx(R7,{...Fe,onToggleItem:Tt=>S(Ne.id,Tt,t?.rollNo)},Ne.id);case"poll":return u.jsx(D7,{...Fe,onVote:(Tt,Kt)=>_(Ne.id,Tt,Kt)},Ne.id);case"reminder":return u.jsx(I7,{...Fe},Ne.id);case"todo":return u.jsx(M7,{...Fe,onToggle:()=>L(Ne.id,t?.rollNo)},Ne.id);case"assessment":return u.jsx(O7,{...Fe,onRequestEdit:Tt=>k(Tt)},Ne.id);default:return u.jsx(k7,{...Fe},Ne.id)}};return t?s?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(wn,{className:"w-6 h-6 animate-spin text-blue-600"}),u.jsx("span",{className:"text-lg text-gray-600",children:"Loading notice board..."})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[u.jsx(u4,{open:O,title:ae.title,message:ae.message,confirmText:ae.confirmText,cancelText:ae.cancelText,confirmColor:ae.confirmColor,icon:ae.icon,onConfirm:ye,onCancel:E}),u.jsxs("div",{className:"flex items-center justify-between sticky top-0 z-20 bg-gray-50/95 backdrop-blur supports-[backdrop-filter]:bg-gray-50/60 py-4 transition-all -mx-4 px-4 rounded-b-2xl mb-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[u.jsx(ka,{className:"w-8 h-8 text-blue-600"}),"Global Notice Board",o&&u.jsx(Fs,{className:"w-6 h-6 text-yellow-600",title:"Admin View"}),c&&u.jsx(vn,{className:"w-6 h-6 text-purple-600",title:"Co-Leader View"})]}),u.jsx("p",{className:"text-gray-600",children:d?`${o?"Admin":"Co-Leader"}: Create and manage notices for all students`:"Stay updated with announcements, polls, and reminders"})]}),d&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>B(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all",title:"Reorder Notices",children:u.jsx(lE,{className:"w-5 h-5"})}),u.jsxs("button",{onClick:()=>F(!0),disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50",children:[u.jsx(ls,{className:"w-4 h-4"}),"Create Notice"]})]})]}),d&&u.jsx("div",{className:`rounded-2xl p-4 border ${o?"bg-yellow-50 border-yellow-200":"bg-purple-50 border-purple-200"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[o?u.jsx(Fs,{className:"w-5 h-5 text-yellow-600 mt-0.5"}):u.jsx(vn,{className:"w-5 h-5 text-purple-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:`font-medium mb-1 ${o?"text-yellow-900":"text-purple-900"}`,children:o?"Admin Privileges":"Co-Leader Privileges"}),u.jsxs("ul",{className:`text-sm space-y-1 ${o?"text-yellow-700":"text-purple-700"}`,children:[u.jsx("li",{children:" Create, edit and manage notices with user visibility"}),u.jsx("li",{children:" View who voted for each poll option and completed checklist items"}),u.jsx("li",{children:" Create multi-select or single-choice polls"}),u.jsx("li",{children:" Edit existing notices, polls, and checklists"}),o&&u.jsx("li",{children:" Assign co-leader roles to other students"})]})]})]})}),!d&&u.jsx("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-200",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ka,{className:"w-5 h-5 text-blue-600"}),u.jsx("div",{children:u.jsx("p",{className:"text-sm text-blue-700",children:"You can view and interact with notices shared with you. Click on voter counts in polls or completion counts in checklists to see who participated."})})]})}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:fe.map(Ne=>u.jsxs("button",{onClick:()=>I(Ne.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-xl transition-all
                ${C===Ne.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
              `,children:[u.jsx(Ne.icon,{className:"w-4 h-4"}),u.jsx("span",{children:Ne.label}),u.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:Ne.count})]},Ne.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(yd,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"text",placeholder:"Search notices...",value:A,onChange:Ne=>M(Ne.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),A&&u.jsx("button",{onClick:()=>M(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(fn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]})]}),(z||W)&&d&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsx("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsx(V7,{onSubmit:W?Ne=>oe(W.id,Ne):se,onCancel:()=>{F(!1),k(null)},isLoading:a,students:e,initialData:W})})}),H&&d&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsx(L7,{notices:n,onSave:Se,onCancel:()=>B(!1),isLoading:a})}),q&&U&&d&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsx(P7,{notice:U,students:e,onUpdate:_e,onCancel:()=>V(!1)})}),u.jsx("div",{className:"space-y-4",children:Q.length>0?Q.map(xt):u.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border border-gray-100",children:[u.jsx(ka,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No notices found"}),u.jsx("p",{className:"text-gray-600 mb-4",children:A||C!=="all"?"Try adjusting your filters or search terms":d?"Create the first notice to get started!":"No notices have been shared with you yet."}),d&&u.jsxs("button",{onClick:()=>F(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:[u.jsx(ls,{className:"w-4 h-4"}),"Create First Notice"]})]})})]}):u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ka,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),u.jsx("p",{className:"text-gray-600",children:"Please select a student to view the notice board"})]})})}function _I(t){const[e,n]=X.useState(""),[s,a]=X.useState(!0),[o,c]=X.useState(!1),[d,p]=X.useState(null),[m,x]=X.useState(null);return X.useEffect(()=>{if(!t){n(""),a(!1);return}(async()=>{try{a(!0),x(null);const S=Rn(Ot,"userNotes",t),L=await U5(S);L.exists()?(n(L.data().content||""),p(L.data().updatedAt?L.data().updatedAt.toDate():null)):(n(""),p(null))}catch(S){console.error("Error loading notes:",S),x(S.message)}finally{a(!1)}})()},[t]),X.useEffect(()=>{if(!t||s)return;const _=setTimeout(async()=>{try{c(!0);const S=Rn(Ot,"userNotes",t);await qs(S,{content:e,updatedAt:Gl(),userId:t}),p(new Date),x(null)}catch(S){console.error("Error saving notes:",S),x("Failed to save notes: "+S.message)}finally{c(!1)}},1e3);return()=>clearTimeout(_)},[e,t,s]),{notes:e,updateNotes:_=>{n(_)},clearNotes:async()=>{if(t)try{c(!0);const _=Rn(Ot,"userNotes",t);await qs(_,{content:"",updatedAt:Gl(),userId:t}),n(""),p(new Date)}catch(_){console.error("Error clearing notes:",_),x("Failed to clear notes: "+_.message)}finally{c(!1)}},isLoading:s,isSaving:o,lastSaved:d,error:m}}function wI({selectedStudent:t}){const{notes:e,updateNotes:n,clearNotes:s,isLoading:a,isSaving:o,lastSaved:c,error:d}=_I(t?.rollNo),[p,m]=X.useState("split"),[x,b]=X.useState(!1),[w,_]=X.useState(!1),S=X.useRef(!1),L=X.useRef(null);X.useEffect(()=>{!S.current&&!a&&(e&&e.trim().length>0&&m("preview"),S.current=!0)},[e,a]),X.useEffect(()=>{S.current=!1},[t]),X.useEffect(()=>{L.current&&(L.current.style.height="auto",L.current.style.height=L.current.scrollHeight+"px")},[e,p]);const z=async()=>{window.confirm(" Are you sure you want to clear all your notes? This action cannot be undone.")&&(await s(),alert(" Notes cleared successfully!"))},F=(H,B="",U="")=>{const j=document.getElementById("notes-textarea");if(!j)return;const C=j.selectionStart,I=j.selectionEnd,A=e.substring(C,I),M=H+(A||U)+B,O=e.substring(0,C)+M+e.substring(I);n(O),setTimeout(()=>{j.focus();const R=C+H.length+(A||U).length;j.setSelectionRange(R,R)},0)},q=[{icon:hE,title:"Bold",action:()=>F("**","**","bold text")},{icon:JE,title:"Italic",action:()=>F("*","*","italic text")},{icon:KE,title:"Heading",action:()=>F("# ","","Heading")},{icon:lT,title:"List",action:()=>F("- ","","List item")},{icon:yT,title:"Quote",action:()=>F("> ","","Quote")},{icon:PE,title:"Inline Code",action:()=>F("`","`","code")},{icon:Ci,title:"Code Block",action:()=>F("\n```\n","\n```\n","code block")},{icon:nT,title:"Link",action:()=>F("[","](url)","link text")},{icon:fT,title:"Spacer (Empty Line)",action:()=>F(`

>>>

`,"","")}],V=H=>{if(!H)return"Never saved";const U=new Date-H;return U<6e4?"Saved just now":U<36e5?`Saved ${Math.floor(U/6e4)} minutes ago`:U<864e5?`Saved ${Math.floor(U/36e5)} hours ago`:`Saved on ${H.toLocaleDateString()} at ${H.toLocaleTimeString()}`};return t?a?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(wn,{className:"w-6 h-6 animate-spin text-blue-600"}),u.jsx("span",{className:"text-lg text-gray-600",children:"Loading your notes..."})]})}):u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[u.jsx(_0,{className:"w-8 h-8 text-yellow-600"}),"Personal Notes"]}),u.jsxs("p",{className:"text-gray-600",children:["Private notes for ",u.jsx("strong",{children:t.name})," (",t.rollNo,")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>_(!w),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all text-sm ${w?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(H1,{className:"w-4 h-4"}),"Tips"]}),u.jsx("button",{onClick:()=>b(!x),className:`px-4 py-2 rounded-xl transition-all text-sm ${x?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Markdown Help"}),u.jsxs("button",{onClick:z,disabled:o||!e.trim(),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(ds,{className:"w-4 h-4"}),"Clear All"]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"w-4 h-4 animate-spin text-blue-600"}),u.jsx("span",{className:"text-sm text-blue-600",children:"Saving..."})]}):d?u.jsxs(u.Fragment,{children:[u.jsx(SE,{className:"w-4 h-4 text-red-600"}),u.jsx("span",{className:"text-sm text-red-600",children:"Error saving"})]}):u.jsxs(u.Fragment,{children:[u.jsx(qi,{className:"w-4 h-4 text-green-600"}),u.jsx("span",{className:"text-sm text-gray-600",children:V(c)})]})}),u.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[u.jsx(Ci,{className:"w-4 h-4"}),u.jsxs("span",{children:[e.length," characters"]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-xl p-1",children:[u.jsxs("button",{onClick:()=>m("edit"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="edit"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[u.jsx(Ba,{className:"w-4 h-4"}),"Edit"]}),u.jsxs("button",{onClick:()=>m("split"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="split"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[u.jsxs("div",{className:"w-4 h-4 border border-current rounded-sm flex",children:[u.jsx("div",{className:"w-1/2 border-r border-current"}),u.jsx("div",{className:"w-1/2"})]}),"Split"]}),u.jsxs("button",{onClick:()=>m("preview"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="preview"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[u.jsx(Oa,{className:"w-4 h-4"}),"Preview"]})]})]}),d&&u.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:d})]}),w&&u.jsx("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-200 animate-in fade-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(H1,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:" Tips for better note-taking:"}),u.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[u.jsx("li",{children:" Your notes are private and only visible to you"}),u.jsx("li",{children:" Use headings (#) to organize your content"}),u.jsx("li",{children:" Add links to external resources for quick access"}),u.jsx("li",{children:" Use --- for a page break/divider"}),u.jsx("li",{children:" Use >>> for a large empty line/gap"}),u.jsx("li",{children:" Notes are automatically saved as you type"}),u.jsx("li",{children:" Use the split view to see formatting in real-time"})]})]})]})}),x&&u.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[u.jsx("h3",{className:"font-bold text-blue-900 mb-4",children:"Markdown Quick Reference"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"# Heading 1"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"## Heading 2"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"**bold text**"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"*italic text*"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"`inline code`"})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"[Link](https://example.com)"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"- List item"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"> Quote"})}),u.jsxs("div",{className:"mb-2",children:[u.jsx("code",{children:"---"})," (horizontal rule)"]}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"``````"})})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(p==="edit"||p==="split")&&u.jsx("div",{className:"border-b border-gray-200 p-3",children:u.jsx("div",{className:"flex items-center gap-1",children:q.map((H,B)=>u.jsx("button",{onClick:H.action,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:H.title,children:u.jsx(H.icon,{className:"w-4 h-4"})},B))})}),u.jsxs("div",{className:"flex min-h-[500px] items-stretch",children:[(p==="edit"||p==="split")&&u.jsx("div",{className:`${p==="split"?"w-1/2 border-r border-gray-200":"w-full"} bg-white`,children:u.jsx("textarea",{ref:L,id:"notes-textarea",value:e,onChange:H=>{n(H.target.value),H.target.style.height="auto",H.target.style.height=H.target.scrollHeight+"px"},className:"w-full h-full p-6 border-none outline-none resize-none font-mono text-sm overflow-hidden min-h-[500px]",placeholder:`Write your personal notes here, ${t.name}...

You can use Markdown syntax:
# Headings
**Bold** and *italic* text
[Links](https://example.com)
- Lists
> Quotes
\`code\`

Your notes are automatically saved as you type.`})}),(p==="preview"||p==="split")&&u.jsx("div",{className:`${p==="split"?"w-1/2":"w-full"} bg-gray-50/50`,children:u.jsx("div",{className:"p-6 prose prose-sm max-w-none",children:e.trim()?u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:H,children:B})=>u.jsx("a",{href:H,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:B}),h1:({children:H})=>u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:H}),h2:({children:H})=>u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:H}),h3:({children:H})=>u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:H}),hr:()=>u.jsx("hr",{className:"my-8 border-t-2 border-gray-200"}),ul:({children:H})=>u.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-2 space-y-1",children:H}),ol:({children:H})=>u.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-2 space-y-1",children:H}),li:({children:H})=>u.jsx("li",{className:"text-gray-700",children:H}),blockquote:({children:H})=>u.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 py-1 text-gray-600 italic my-2",children:H}),code:({node:H,inline:B,className:U,children:j,...C})=>{const[I,A]=X.useState(!1),M=/language-(\w+)/.exec(U||"");if(B)return u.jsx("code",{className:U,...C,children:j});const O=()=>{navigator.clipboard.writeText(String(j).replace(/\n$/,"")),A(!0),setTimeout(()=>A(!1),2e3)};return u.jsxs("div",{className:"relative group my-4",children:[u.jsx("div",{className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{onClick:O,className:"p-1.5 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 hover:text-white transition-all shadow-lg",title:"Copy code",children:I?u.jsx(to,{className:"w-4 h-4 text-green-400"}):u.jsx(zE,{className:"w-4 h-4"})})}),u.jsxs("pre",{className:"!mt-0 !mb-0 rounded-xl overflow-hidden bg-gray-900 !p-0",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20 border border-red-500/50"}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20 border border-green-500/50"})]}),u.jsx("span",{className:"text-xs text-gray-400 font-mono",children:M?M[1]:"text"})]}),u.jsx("code",{className:`${U} block p-4 text-sm font-mono text-gray-300 overflow-x-auto`,...C,children:j})]})]})}},children:e.replace(/>>>/g,`

&nbsp;

`).replace(/\n/g,`  
`)}):u.jsxs("div",{className:"text-gray-500 italic",children:["Your notes will appear here as you type...",u.jsx("br",{}),u.jsx("br",{}),"Try writing some ",u.jsx("strong",{children:"Markdown"}),":",u.jsx("br",{}),"# This is a heading",u.jsx("br",{}),"**This is bold text**",u.jsx("br",{}),"[This is a link](https://example.com)"]})})})]})]})]}):u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"text-center",children:[u.jsx(_0,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),u.jsx("p",{className:"text-gray-600",children:"Please select a student to view their personal notes"})]})})}function e2({options:t,value:e,onChange:n,label:s,placeholder:a="Select an option"}){const[o,c]=X.useState(!1),d=X.useRef(null),p=t.find(m=>m.value===e);return X.useEffect(()=>{const m=x=>{d.current&&!d.current.contains(x.target)&&c(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),u.jsxs("div",{className:"relative",ref:d,children:[s&&u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s}),u.jsxs("button",{type:"button",onClick:()=>c(!o),className:`
                    w-full p-4 flex items-center justify-between
                    bg-white border-2 rounded-2xl transition-all duration-300
                    ${o?"border-blue-500 ring-4 ring-blue-500/20 shadow-xl":"border-gray-200 hover:border-blue-300 hover:shadow-md"}
                `,children:[u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[p?.icon&&u.jsx("div",{className:`p-1.5 rounded-lg ${p.iconBg||"bg-gray-100"}`,children:u.jsx(p.icon,{className:`w-5 h-5 ${p.iconColor||"text-gray-600"}`})}),u.jsx("span",{className:`text-lg font-medium ${p?"text-gray-900":"text-gray-500"}`,children:p?p.label:a})]}),u.jsx(gd,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-blue-500":""}`})]}),u.jsx("div",{className:`
                    absolute z-50 w-full mt-2 bg-white rounded-2xl border border-gray-100 shadow-2xl overflow-hidden origin-top transition-all duration-300 ease-out
                    ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-4 pointer-events-none"}
                `,children:u.jsx("div",{className:"p-2 space-y-1 max-h-80 overflow-y-auto custom-scrollbar",children:t.map(m=>{const x=m.value===e;return u.jsxs("button",{onClick:()=>{n(m.value),c(!1)},className:`
                                    w-full p-3 flex items-center justify-between rounded-xl transition-all
                                    ${x?"bg-blue-50 text-blue-900":"hover:bg-gray-50 text-gray-700"}
                                `,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[m.icon&&u.jsx("div",{className:`p-1.5 rounded-lg ${m.iconBg||"bg-gray-100"}`,children:u.jsx(m.icon,{className:`w-4 h-4 ${m.iconColor||"text-gray-500"}`})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:`font-medium ${x?"text-blue-900":"text-gray-900"}`,children:m.label}),m.description&&u.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:m.description})]})]}),x&&u.jsx(to,{className:"w-5 h-5 text-blue-600"})]},m.value)})})})]})}function NI({semester:t,setSemester:e,studentManagement:n}){const{students:s,selectedStudent:a,isAdmin:o,isLoading:c,createStudent:d,deleteStudent:p,selectStudent:m,authenticateStudent:x,updateStudentPassword:b,updateStudentRole:w,updateStudentName:_}=n,S=a?.role==="co-leader"&&a?.rollNo!==Pe.rollNo,L=a?.permissions||{},z=o||S&&L.canCreateUsers,F=o||S&&L.canAppointCoLeaders,[q,V]=X.useState(!1),[H,B]=X.useState({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1}),[U,j]=X.useState(!1),[C,I]=X.useState(!1),[A,M]=X.useState(!1),[O,R]=X.useState(null),[ae,xe]=X.useState(null),[Q,fe]=X.useState(""),[re,ye]=X.useState(!1),[E,se]=X.useState(""),[W,k]=X.useState(!1),[oe,ve]=X.useState(!1),[le,_e]=X.useState(""),[Se,xt]=X.useState(!1),[Ne,Fe]=X.useState(""),[Tt,Kt]=X.useState(!1),[dn,Fn]=X.useState(""),[Br,Dt]=X.useState(""),[qr,fr]=X.useState(null),[Hn,dr]=X.useState(!1),[Yi,hr]=X.useState(!1),[$n,xs]=X.useState(null),[te,me]=X.useState({password:"",confirmPassword:""}),[ke,De]=X.useState(!1),[Ge,hn]=X.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),rn=X.useMemo(()=>{if(!Q.trim())return s;const ce=Q.toLowerCase();return s.filter(Ue=>Ue.name.toLowerCase().includes(ce)||Ue.rollNo.toLowerCase().includes(ce))},[s,Q]),Zt=()=>{se(a.name),ye(!0)},Tn=()=>{ye(!1),se("")},Bt=async()=>{if(!E.trim()){Te.error("Name cannot be empty");return}try{k(!0),await _(a.rollNo,E),Te.success(" Name updated successfully!"),ye(!1)}catch(ce){Te.error(` Error updating name: ${ce.message}`)}finally{k(!1)}},jt=ce=>{hn(ce),De(!0)},Sn=()=>{Ge.onConfirm(),De(!1)},mn=()=>{De(!1)},Qi=async ce=>{if(ce.rollNo===Pe.rollNo&&a?.rollNo!==Pe.rollNo){ve(!0),Fe("");return}if(ce.isProtected&&ce.rollNo!==a?.rollNo){fr(ce),Fn(""),Dt(""),Kt(!0);return}m(ce)},Xi=async ce=>{if(ce.preventDefault(),!le.trim()){Fe("Please enter admin password");return}xt(!0),Fe(""),setTimeout(async()=>{const Ue=s.find(Ji=>Ji.rollNo===Pe.rollNo);await x(Ue,le)?(m(Ue),ve(!1),_e("")):(Fe("Incorrect admin password. Please try again."),_e("")),xt(!1)},800)},Cr=async ce=>{if(ce.preventDefault(),!dn.trim()){Dt("Please enter password");return}dr(!0),Dt("");try{await x(qr,dn)?(m(qr),Kt(!1),fr(null),Fn("")):(Dt("Incorrect password. Please try again."),Fn(""))}catch{Dt("Authentication failed. Please try again.")}finally{dr(!1)}},kr=()=>{Kt(!1),fr(null),Fn(""),Dt("")},Ki=()=>{ve(!1),_e(""),Fe("")},mr=async ce=>{if(ce.preventDefault(),!H.rollNo.trim()||!H.name.trim()){Te.error("Please fill in both roll number and name");return}if(U&&!H.password.trim()){Te.error("Please enter a password or uncheck password protection");return}try{M(!0);const Ue=Number(H.admissionYear),St=new Date().getFullYear();if(!Number.isInteger(Ue)||Ue<2e3||Ue>St){Te.error("Please enter a valid admission year"),M(!1);return}await d(H.rollNo.trim(),H.name.trim(),U?H.password.trim():"",H.role,Ue,H.isDSY),B({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1}),j(!1),V(!1),Te.success(" Student created successfully!")}catch(Ue){Te.error(` Error creating student: ${Ue.message}`)}finally{M(!1)}},Zi=async(ce,Ue)=>{if(ce===Pe.rollNo){Te.error("Cannot delete admin student");return}jt({title:"Delete Student",message:`Are you sure you want to delete "${Ue}" (${ce})?

This will permanently delete all their academic data and cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{try{R(ce),await p(ce),Te.success(" Student deleted successfully!")}catch(St){Te.error(` Error deleting student: ${St.message}`)}finally{R(null)}}})},Rr=async(ce,Ue)=>{if(ce.rollNo===Pe.rollNo){Te.error("Cannot change admin role");return}const St={student:"Student","co-leader":"Co-Leader"};jt({title:"Change Role",message:`Change ${ce.name}'s role to ${St[Ue]}?

${Ue==="co-leader"?"Co-leaders can create and manage notices.":"Students have standard access only."}`,confirmText:"Change Role",cancelText:"Cancel",confirmColor:"blue",icon:"warning",onConfirm:async()=>{try{xe(ce.rollNo),await w(ce.rollNo,Ue),Te.success(` ${ce.name}'s role updated to ${St[Ue]}!`)}catch(Ji){Te.error(` Error updating role: ${Ji.message}`)}finally{xe(null)}}})},ys=ce=>{xs(ce),hr(!0),me({password:"",confirmPassword:""})},Fr=async ce=>{if(ce.preventDefault(),te.password!==te.confirmPassword){Te.error("Passwords do not match");return}if(!te.password.trim()){Te.error("Please enter a password");return}try{const Ue=$n?.isProtected;await b($n.rollNo,te.password),hr(!1),xs(null),Ue?Te.success(" Password updated successfully!"):Te.success(" Password added successfully!")}catch(Ue){Te.error(` Error updating password: ${Ue.message}`)}},Ga=async ce=>{jt({title:"Remove Password Protection",message:`Remove password protection from ${ce.name}?

This will allow unrestricted access to their account.`,confirmText:"Remove",cancelText:"Cancel",confirmColor:"orange",icon:"warning",onConfirm:async()=>{try{await b(ce.rollNo,"",!0),Te.success(" Password protection removed!")}catch(Ue){Te.error(` Error removing password: ${Ue.message}`)}}})},vt=()=>{fe("")},_t=ce=>{switch(ce){case"admin":return{name:"Admin",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:Jn};case"co-leader":return{name:"Co-Leader",color:"text-purple-600",bgColor:"bg-purple-100",icon:vn};default:return{name:"Student",color:"text-blue-600",bgColor:"bg-blue-100",icon:Lr}}};return c?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(wn,{className:"w-6 h-6 animate-spin text-blue-600"}),u.jsx("span",{className:"text-lg text-gray-600",children:"Loading students..."})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[u.jsx(u4,{open:ke,title:Ge.title,message:Ge.message,confirmText:Ge.confirmText,cancelText:Ge.cancelText,confirmColor:Ge.confirmColor,icon:Ge.icon,onConfirm:Sn,onCancel:mn}),oe&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Jn,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),u.jsxs("p",{className:"text-gray-600",children:["Enter admin password to switch to ",Pe.name]})]}),u.jsxs("form",{onSubmit:Xi,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Yt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Admin password",value:le,onChange:ce=>_e(ce.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:Se,autoFocus:!0})]}),Ne&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:Ne}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",disabled:Se||!le.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:Se?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Authenticating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Jn,{className:"w-4 h-4"}),u.jsx("span",{children:"Switch to Admin"})]})}),u.jsx("button",{type:"button",onClick:Ki,disabled:Se,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),Tt&&qr&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Yt,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Student Authentication"}),u.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",qr.name,"'s account"]})]}),u.jsxs("form",{onSubmit:Cr,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Yt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Enter password",value:dn,onChange:ce=>Fn(ce.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:Hn,autoFocus:!0})]}),Br&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:Br}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",disabled:Hn||!dn.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:Hn?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Authenticating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Yt,{className:"w-4 h-4"}),u.jsx("span",{children:"Access Account"})]})}),u.jsx("button",{type:"button",onClick:kr,disabled:Hn,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),Yi&&$n&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Si,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:$n?.isProtected?"Change Password":"Add Password"}),u.jsxs("p",{className:"text-gray-600",children:["Set new password for ",$n.name]})]}),u.jsxs("form",{onSubmit:Fr,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Yt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"New password",value:te.password,onChange:ce=>me({...te,password:ce.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,autoFocus:!0})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Yt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Confirm password",value:te.confirmPassword,onChange:ce=>me({...te,confirmPassword:ce.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all font-medium",children:[u.jsx(Si,{className:"w-4 h-4"}),u.jsx("span",{children:$n?.isProtected?"Update Password":"Set Password"})]}),u.jsx("button",{type:"button",onClick:()=>hr(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Student & Semester Management"}),u.jsx("p",{className:"text-gray-600",children:"Manage students, roles, and select current semester"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Lr,{className:"w-5 h-5"}),"Current Student",a?.rollNo===Pe.rollNo&&u.jsx(Jn,{className:"w-4 h-4 text-yellow-500"})]}),a&&u.jsx("div",{className:`relative overflow-hidden rounded-2xl p-0.5 shadow-lg transition-all hover:shadow-xl ${a.rollNo===Pe.rollNo?"bg-gradient-to-br from-amber-200 via-yellow-100 to-orange-100":a.role==="co-leader"?"bg-gradient-to-br from-purple-200 via-fuchsia-100 to-pink-100":"bg-gradient-to-br from-blue-200 via-sky-100 to-indigo-100"}`,children:u.jsx("div",{className:`relative rounded-[14px] p-4 backdrop-blur-sm ${a.rollNo===Pe.rollNo||a.role==="co-leader"?"bg-white/60":"bg-white/80"}`,children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center gap-2",children:re?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:E,onChange:ce=>se(ce.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-bold text-gray-900",autoFocus:!0,onKeyDown:ce=>{ce.key==="Enter"&&Bt(),ce.key==="Escape"&&Tn()}}),u.jsx("button",{onClick:Bt,disabled:W,className:"p-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all",title:"Save Name",children:W?u.jsx(wn,{className:"w-4 h-4 animate-spin"}):u.jsx(to,{className:"w-4 h-4"})}),u.jsx("button",{onClick:Tn,disabled:W,className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",title:"Cancel",children:u.jsx(fn,{className:"w-4 h-4"})})]}):u.jsxs("div",{className:"flex items-center gap-2 group",children:[u.jsx("p",{className:`font-bold ${a.rollNo===Pe.rollNo?"text-yellow-900":a.role==="co-leader"?"text-purple-900":"text-blue-900"}`,children:a.name}),u.jsx("button",{onClick:Zt,className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-blue-600 transition-all",title:"Edit Name",children:u.jsx(Ba,{className:"w-3 h-3"})})]})}),u.jsxs("p",{className:`text-sm ${a.rollNo===Pe.rollNo?"text-yellow-700":a.role==="co-leader"?"text-purple-700":"text-blue-700"}`,children:["Roll No: ",a.rollNo]}),a.admissionYear&&u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Admission: ",a.admissionYear||"N/A"," ",a.isDSY?"(DSY)":""]}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsxs("div",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${_t(a.role||"student").bgColor}`,children:[gt.createElement(_t(a.role||"student").icon,{className:`w-3 h-3 ${_t(a.role||"student").color}`}),u.jsx("span",{className:_t(a.role||"student").color,children:_t(a.role||"student").name})]}),a.isProtected&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Yt,{className:"w-3 h-3 text-blue-600"}),u.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]})]})})})})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Semester"}),u.jsxs("div",{className:"relative z-20",children:[" ",u.jsx(e2,{options:(a?.isDSY?[3,4,5,6,7,8]:[1,2,3,4,5,6,7,8]).map(ce=>({value:ce,label:`Semester ${ce}`,description:`${Ai[ce].theory.length} theory + ${Ai[ce].practical.length} practical`,icon:vn,iconColor:"text-blue-500",iconBg:"bg-blue-50"})),value:t,onChange:ce=>e(Number(ce)),placeholder:"Select Semester"})]}),u.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(vn,{className:"w-4 h-4 text-blue-600 mt-1"}),u.jsxs("div",{children:[u.jsxs("h4",{className:"font-medium text-blue-900 text-sm",children:["Semester ",t," Overview"]}),u.jsxs("p",{className:"text-xs text-blue-700",children:[Ai[t].theory.length," theory subjects and ",Ai[t].practical.length," practical labs"]})]})]})}),a?.isDSY&&u.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-xl border border-yellow-200 text-sm text-yellow-700",children:"Note: DSY students start from Semester 3  Semesters 1 & 2 are hidden for DSY students."})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(hs,{className:"w-5 h-5"}),"Select Student (",s.length," total)"]}),z&&u.jsxs("button",{onClick:()=>V(!q),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:[u.jsx(ls,{className:"w-4 h-4"}),"Add Student"]})]}),u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(yd,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:Q,onChange:ce=>fe(ce.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Q&&u.jsx("button",{onClick:vt,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(fn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),q&&z&&u.jsxs("form",{onSubmit:mr,className:"mb-6 p-4 bg-green-50 rounded-2xl border border-green-200",children:[u.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Create New Student"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[u.jsx("input",{type:"text",placeholder:"Roll Number (e.g., 2405226)",value:H.rollNo,onChange:ce=>B({...H,rollNo:ce.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),u.jsx("input",{type:"text",placeholder:"Full Name",value:H.name,onChange:ce=>B({...H,name:ce.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),u.jsxs("div",{className:"mb-3 relative z-10",children:[" ",u.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Role"}),u.jsx(e2,{options:[{value:"student",label:"Student",icon:Lr,iconColor:"text-blue-500",iconBg:"bg-blue-50",description:"Standard access"},{value:"co-leader",label:"Co-Leader",icon:vn,iconColor:"text-purple-500",iconBg:"bg-purple-50",description:"Can manage certain notices"}],value:H.role,onChange:ce=>B({...H,role:ce}),placeholder:"Select Role"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Admission Year"}),u.jsx("input",{type:"number",min:"2000",max:new Date().getFullYear(),value:H.admissionYear,onChange:ce=>B({...H,admissionYear:ce.target.value}),className:"w-full p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Direct Second Year (DSY)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{id:"is-dsy",type:"checkbox",checked:H.isDSY,onChange:ce=>B({...H,isDSY:ce.target.checked}),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),u.jsx("label",{htmlFor:"is-dsy",className:"text-sm text-gray-700",children:"Is DSY (Direct Second Year)"})]})]})]}),u.jsx("div",{className:"mb-3",children:u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:U,onChange:ce=>j(ce.target.checked),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),u.jsxs("span",{className:"text-sm font-medium text-green-900 flex items-center gap-1",children:[u.jsx(Fs,{className:"w-4 h-4"}),"Password protect this account"]})]})}),U&&u.jsxs("div",{className:"relative mb-3",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Yt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:C?"text":"password",placeholder:"Password",value:H.password,onChange:ce=>B({...H,password:ce.target.value}),className:"w-full pl-10 pr-10 p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:U}),u.jsx("button",{type:"button",onClick:()=>I(!C),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:C?u.jsx(Oi,{className:"w-4 h-4 text-gray-400"}):u.jsx(Oa,{className:"w-4 h-4 text-gray-400"})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"submit",disabled:A,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all disabled:opacity-50",children:[A?u.jsx(wn,{className:"w-4 h-4 animate-spin"}):u.jsx(ls,{className:"w-4 h-4"}),A?"Creating...":"Create Student"]}),u.jsx("button",{type:"button",onClick:()=>V(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]}),S&&z&&!o&&u.jsx("div",{className:"mb-4 p-3 bg-purple-50 rounded-xl border border-purple-200",children:u.jsxs("p",{className:"text-sm text-purple-700",children:[u.jsx(vn,{className:"w-4 h-4 inline mr-1"}),"As a co-leader, you can create new student accounts with your granted permissions."]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:rn.length>0?rn.map(ce=>{const Ue=_t(ce.role||"student");return u.jsxs("div",{className:`
                    p-4 rounded-2xl border-2 transition-all cursor-pointer relative
                    ${a?.rollNo===ce.rollNo?ce.rollNo===Pe.rollNo?"border-yellow-500 bg-yellow-50":ce.role==="co-leader"?"border-purple-500 bg-purple-50":"border-blue-500 bg-blue-50":ce.rollNo===Pe.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300":ce.role==="co-leader"?"border-purple-200 bg-purple-50 hover:border-purple-300":ce.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300":"border-gray-200 bg-gray-50 hover:border-blue-300"}
                  `,onClick:()=>Qi(ce),children:[ce.isProtected&&u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx(Yt,{className:"w-4 h-4 text-blue-600"})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h4",{className:"font-bold text-gray-900",children:ce.name}),gt.createElement(Ue.icon,{className:`w-4 h-4 ${Ue.color}`})]}),u.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Roll: ",ce.rollNo]}),u.jsx("div",{className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full ${Ue.bgColor}`,children:u.jsx("span",{className:Ue.color,children:Ue.name})}),u.jsx("div",{className:"mt-2",children:a?.rollNo===ce.rollNo?u.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Currently Selected"}):ce.isProtected?u.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Password Protected"}):null})]}),(o||F)&&ce.rollNo!==Pe.rollNo&&u.jsx("div",{className:"flex flex-col gap-1",children:u.jsxs("div",{className:"flex gap-1",children:[ce.role!=="co-leader"&&u.jsx("button",{onClick:St=>{St.stopPropagation(),Rr(ce,"co-leader")},disabled:ae===ce.rollNo,className:"p-1 text-purple-500 hover:bg-purple-100 rounded transition-all",title:"Make Co-Leader",children:u.jsx(hp,{className:"w-3 h-3"})}),ce.role==="co-leader"&&u.jsx("button",{onClick:St=>{St.stopPropagation(),Rr(ce,"student")},disabled:ae===ce.rollNo,className:"p-1 text-gray-500 hover:bg-gray-100 rounded transition-all",title:"Remove Co-Leader",children:u.jsx(VT,{className:"w-3 h-3"})})]})}),o&&ce.rollNo!==Pe.rollNo&&u.jsxs("div",{className:"flex flex-col gap-1",children:[ce.isProtected?u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:St=>{St.stopPropagation(),ys(ce)},className:"p-1 text-blue-500 hover:bg-blue-100 rounded transition-all",title:"Change Password",children:u.jsx(Si,{className:"w-3 h-3"})}),u.jsx("button",{onClick:St=>{St.stopPropagation(),Ga(ce)},className:"p-1 text-orange-500 hover:bg-orange-100 rounded transition-all",title:"Remove Password",children:u.jsx(Fs,{className:"w-3 h-3"})})]}):u.jsx("div",{className:"flex gap-1",children:u.jsx("button",{onClick:St=>{St.stopPropagation(),ys(ce)},className:"p-1 text-green-500 hover:bg-green-100 rounded transition-all",title:"Add Password",children:u.jsx(Si,{className:"w-3 h-3"})})}),u.jsx("button",{onClick:St=>{St.stopPropagation(),Zi(ce.rollNo,ce.name)},disabled:O===ce.rollNo,className:"p-1 text-red-500 hover:bg-red-100 rounded transition-all disabled:opacity-50",title:"Delete Student",children:O===ce.rollNo?u.jsx(wn,{className:"w-3 h-3 animate-spin"}):u.jsx(ds,{className:"w-3 h-3"})})]})]})]},ce.rollNo)}):u.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[u.jsx(hs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsxs("p",{children:['No students found matching "',Q,'"']})]})})]})]})}function EI({selectedStudent:t}){const[e,n]=X.useState(!1),[s,a]=X.useState(!1);if(!t)return null;const o=Number(t.admissionYear)||null,c=o?o+4:null,d=new Date().getFullYear(),p=c&&d>=c,m=()=>{n(!0),Te.success(` Congratulations! ${t.name} marked as graduated!`)},x=()=>{a(!0),setTimeout(()=>{a(!1),Te.success(" Transcript exported successfully!")},1500)};return u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[u.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 text-center bg-gray-900 border border-gray-800 shadow-2xl",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-green-500 to-emerald-800 rounded-full blur-[100px] opacity-20"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-blue-500 to-indigo-800 rounded-full blur-[100px] opacity-20"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",children:u.jsx(Va,{className:"w-10 h-10 text-green-400 drop-shadow-[0_0_15px_rgba(74,222,128,0.5)]"})}),u.jsx("h2",{className:"text-3xl font-extrabold text-white mb-2 tracking-tight",children:"Degree Completion"}),u.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-lg",children:"Track graduation eligibility and manage degree certification"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden",children:[u.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:u.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(n2,{className:"w-5 h-5 text-indigo-500"}),"Current Status"]})}),u.jsxs("div",{className:"p-8",children:[u.jsx("div",{className:`p-6 rounded-2xl border mb-8 ${e?"bg-green-50 border-green-200":p?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${e?"bg-green-500 text-white shadow-lg shadow-green-200":p?"bg-blue-500 text-white shadow-lg shadow-blue-200":"bg-gray-200 text-gray-500"}`,children:e?u.jsx($1,{className:"w-6 h-6"}):u.jsx(xd,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h4",{className:`text-xl font-bold mb-1 ${e?"text-green-900":p?"text-blue-900":"text-gray-900"}`,children:e?"Graduated":p?"Eligible for Graduation":"In Progress"}),u.jsx("p",{className:`${e?"text-green-700":p?"text-blue-700":"text-gray-500"}`,children:e?`${t.name} has successfully completed their degree.`:p?`${t.name} has completed the required academic period.`:`${t.name} is currently pursuing their degree.`})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!e&&u.jsxs("button",{onClick:m,disabled:!p&&t.rollNo!==Pe.rollNo,className:`p-4 rounded-xl border-2 border-dashed flex flex-col items-center justify-center gap-3 transition-all ${p||t.rollNo===Pe.rollNo?"border-green-300 bg-green-50 hover:bg-green-100 cursor-pointer hover:border-green-400 hover:shadow-md":"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed"}`,children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:u.jsx(hp,{className:"w-5 h-5"})}),u.jsx("span",{className:"font-semibold text-green-900",children:"Mark as Graduated"})]}),u.jsxs("button",{onClick:x,disabled:s,className:"p-4 rounded-xl border-2 border-dashed border-indigo-200 bg-indigo-50 hover:bg-indigo-100 flex flex-col items-center justify-center gap-3 transition-all cursor-pointer hover:border-indigo-300 hover:shadow-md",children:[s?u.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:u.jsx($1,{className:"w-6 h-6 text-indigo-500 animate-spin"})}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600",children:u.jsx(Ci,{className:"w-5 h-5"})}),u.jsx("span",{className:"font-semibold text-indigo-900",children:s?"Exporting...":"Export Transcript"})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-6 h-fit",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[u.jsx($s,{className:"w-5 h-5 text-orange-500"}),"Timeline"]}),u.jsxs("div",{className:"space-y-6 relative before:absolute before:left-3.5 before:top-2 before:bottom-2 before:w-0.5 before:bg-gray-100",children:[u.jsxs("div",{className:"relative pl-10",children:[u.jsx("div",{className:"absolute left-0 top-0 w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center border-4 border-white shadow-sm z-10",children:u.jsx("span",{className:"text-xs font-bold text-orange-600",children:"1"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Admission"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic Year"}),u.jsx("p",{className:"font-mono text-sm text-gray-700 font-medium bg-gray-50 inline-block px-2 py-1 rounded mt-1",children:o||"N/A"})]})]}),u.jsxs("div",{className:"relative pl-10",children:[u.jsx("div",{className:"absolute left-0 top-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center border-4 border-white shadow-sm z-10",children:u.jsx("span",{className:"text-xs font-bold text-green-600",children:"4"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Expected Completion"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"4-Year Program"}),u.jsx("p",{className:"font-mono text-sm text-gray-700 font-medium bg-gray-50 inline-block px-2 py-1 rounded mt-1",children:c||"N/A"})]})]})]}),u.jsx("div",{className:"mt-8 p-4 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl border border-yellow-100 text-center",children:u.jsx("p",{className:"text-yellow-800 text-sm italic font-medium",children:'"Success is the sum of small efforts, repeated day in and day out."'})})]})]})]})}const bc={canCreateUsers:!1,canPostNotices:!0,canAppointCoLeaders:!1,canManagePasswords:!1};function TI({selectedStudent:t,studentManagement:e,onNavigateToTab:n}){const{students:s,isAdmin:a,updateStudentRole:o,updateStudentPassword:c,updateCoLeaderPermissions:d}=e,[p,m]=X.useState(null),[x,b]=X.useState(""),[w,_]=X.useState(!1),[S,L]=X.useState(null),[z,F]=X.useState("add"),[q,V]=X.useState(""),[H,B]=X.useState(""),[U,j]=X.useState(!1),[C,I]=X.useState(null),[A,M]=X.useState(!1),O=t?.role==="co-leader"&&t?.rollNo!==Pe.rollNo,R=X.useMemo(()=>a?null:O?t?.permissions||bc:null,[a,O,t]),ae=X.useMemo(()=>s.filter(W=>W.role==="co-leader"&&W.rollNo!==Pe.rollNo),[s]),xe=X.useMemo(()=>{let W=s;if(O&&!a&&(W=W.filter(oe=>oe.rollNo!==Pe.rollNo)),!x.trim())return W;const k=x.toLowerCase();return W.filter(oe=>oe.name.toLowerCase().includes(k)||oe.rollNo.toLowerCase().includes(k))},[s,x,O,a]),Q=async(W,k,oe)=>{if(!a){Te.error("Only admin can modify co-leader permissions");return}I(`${W}-${k}`);try{const _e={...s.find(Se=>Se.rollNo===W)?.permissions||bc,[k]:!oe};await d(W,_e),Te.success("Permission updated successfully!")}catch(ve){Te.error(`Failed to update permission: ${ve.message}`)}finally{I(null)}},fe=(W,k)=>{L(W),F(k),V(""),B(""),j(!1),_(!0)},re=async()=>{if(z!=="remove"){if(!q.trim()){Te.error("Please enter a password");return}if(q!==H){Te.error("Passwords do not match");return}}M(!0);try{z==="remove"?(await c(S.rollNo,"",!0),Te.success("Password removed successfully!")):(await c(S.rollNo,q),Te.success(z==="add"?"Password added successfully!":"Password changed successfully!")),_(!1)}catch(W){Te.error(`Failed to ${z} password: ${W.message}`)}finally{M(!1)}},ye=W=>{switch(W){case"createUser":n(4,{showCreateForm:!0});break;case"manageNotices":n(2);break;case"viewStudents":n(4);break}},E={canCreateUsers:{label:"Create Users",desc:"Can create new student accounts",icon:Y1},canPostNotices:{label:"Post Notices",desc:"Can create and manage notices",icon:ka},canAppointCoLeaders:{label:"Appoint Co-Leaders",desc:"Can promote students to co-leader role",icon:vn},canManagePasswords:{label:"Manage Passwords",desc:"Can add, change, or remove user passwords",icon:Si}},se=(W,k)=>{const ve=(W.permissions||bc)[k]??bc[k],le=C===`${W.rollNo}-${k}`,_e=E[k].icon;return u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${ve?"bg-green-100":"bg-gray-200"}`,children:u.jsx(_e,{className:`w-4 h-4 ${ve?"text-green-600":"text-gray-500"}`})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 text-sm",children:E[k].label}),u.jsx("p",{className:"text-xs text-gray-500",children:E[k].desc})]})]}),u.jsx("button",{onClick:()=>Q(W.rollNo,k,ve),disabled:le||!a,className:`relative w-12 h-6 rounded-full transition-all ${ve?"bg-green-500":"bg-gray-300"} ${a?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:le?u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx(wn,{className:"w-4 h-4 animate-spin text-white"})}):u.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-all ${ve?"left-6":"left-0.5"}`})})]},k)};return t?!a&&!O?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Fs,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),u.jsx("p",{className:"text-gray-600",children:"Only admins and co-leaders can access this panel"})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[w&&S&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 ${z==="remove"?"bg-gradient-to-r from-red-500 to-orange-500":"bg-gradient-to-r from-blue-500 to-purple-500"}`,children:u.jsx(Si,{className:"w-8 h-8 text-white"})}),u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[z==="add"&&"Add Password",z==="change"&&"Change Password",z==="remove"&&"Remove Password"]}),u.jsx("p",{className:"text-gray-600",children:z==="remove"?`Remove password protection from ${S.name}?`:`Set password for ${S.name}`})]}),z!=="remove"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Yt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:U?"text":"password",placeholder:"New password",value:q,onChange:W=>V(W.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),u.jsx("button",{type:"button",onClick:()=>j(!U),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:U?u.jsx(Oi,{className:"w-5 h-5 text-gray-400"}):u.jsx(Oa,{className:"w-5 h-5 text-gray-400"})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Yt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:U?"text":"password",placeholder:"Confirm password",value:H,onChange:W=>B(W.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),z==="remove"&&u.jsx("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200 mb-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Uf,{className:"w-5 h-5 text-red-600 mt-0.5"}),u.jsx("p",{className:"text-sm text-red-700",children:"This will allow anyone to access this student's account without a password."})]})}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{onClick:re,disabled:A,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium ${z==="remove"?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"}`,children:A?u.jsxs(u.Fragment,{children:[u.jsx(wn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Processing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Si,{className:"w-4 h-4"}),u.jsx("span",{children:z==="remove"?"Remove Password":"Save Password"})]})}),u.jsx("button",{type:"button",onClick:()=>_(!1),disabled:A,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})}),u.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 mb-8 text-center bg-gray-900 border border-gray-800 shadow-2xl",children:[u.jsx("div",{className:`absolute top-0 right-0 w-64 h-64 bg-gradient-to-br rounded-full blur-[100px] opacity-30 ${a?"from-yellow-600 to-amber-800":"from-purple-600 to-pink-800"}`}),u.jsx("div",{className:`absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr rounded-full blur-[100px] opacity-30 ${a?"from-amber-600 to-yellow-800":"from-pink-600 to-purple-800"}`}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",children:a?u.jsx(Jn,{className:"w-10 h-10 text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"}):u.jsx(vn,{className:"w-10 h-10 text-purple-400 drop-shadow-[0_0_15px_rgba(192,132,252,0.5)]"})}),u.jsx("h2",{className:"text-4xl font-extrabold text-white mb-2 tracking-tight",children:"Admin Privileges"}),u.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-lg",children:a?"Manage co-leader permissions and quick admin actions with executive control":"View your assigned permissions and accessible management tools"})]})]}),u.jsxs("div",{className:`relative overflow-hidden rounded-3xl p-1 border shadow-xl ${a?"bg-gradient-to-br from-amber-200/50 via-yellow-100/50 to-orange-100/50 border-amber-200":"bg-gradient-to-br from-purple-200/50 via-fuchsia-100/50 to-pink-100/50 border-purple-200"}`,children:[u.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-overlay bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),u.jsxs("div",{className:"relative flex items-center gap-6 p-6 rounded-[20px] backdrop-blur-sm bg-white/40",children:[u.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg ${a?"bg-gradient-to-br from-yellow-400 to-amber-600 text-white":"bg-gradient-to-br from-purple-500 to-fuchsia-600 text-white"}`,children:a?u.jsx(Jn,{className:"w-8 h-8 drop-shadow-md"}):u.jsx(vn,{className:"w-8 h-8 drop-shadow-md"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h3",{className:`font-bold text-2xl ${a?"text-amber-900":"text-purple-900"}`,children:a?"Administrator":"Co-Leader"}),u.jsx("span",{className:`px-3 py-0.5 rounded-full text-xs font-bold uppercase tracking-wider ${a?"bg-amber-900/10 text-amber-900":"bg-purple-900/10 text-purple-900"}`,children:"Verified"})]}),u.jsxs("p",{className:`font-medium ${a?"text-amber-700":"text-purple-700"}`,children:[t.name," ",u.jsx("span",{className:"opacity-60",children:""})," ",t.rollNo]})]}),u.jsx("div",{className:"ml-auto hidden md:block opacity-10 scale-150 transform translate-x-4",children:a?u.jsx(Jn,{size:120}):u.jsx(vn,{size:120})})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg",children:u.jsx(qa,{className:"w-5 h-5 text-gray-700"})}),"Quick Actions"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(a||R?.canCreateUsers)&&u.jsxs("button",{onClick:()=>ye("createUser"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-green-50 hover:from-green-50 hover:to-green-100 rounded-2xl border border-green-100 hover:border-green-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(Y1,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{className:"text-left z-10",children:[u.jsx("p",{className:"font-bold text-green-900 text-lg group-hover:text-green-800",children:"Create User"}),u.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Add new student"})]}),u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-green-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-green-300/30 transition-all"})]}),(a||R?.canPostNotices)&&u.jsxs("button",{onClick:()=>ye("manageNotices"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-blue-50 hover:from-blue-50 hover:to-blue-100 rounded-2xl border border-blue-100 hover:border-blue-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(ka,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{className:"text-left z-10",children:[u.jsx("p",{className:"font-bold text-blue-900 text-lg group-hover:text-blue-800",children:"Manage Notices"}),u.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Create & edit notices"})]}),u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-blue-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-blue-300/30 transition-all"})]}),u.jsxs("button",{onClick:()=>ye("viewStudents"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-purple-50 hover:from-purple-50 hover:to-purple-100 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-fuchsia-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(hs,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{className:"text-left z-10",children:[u.jsx("p",{className:"font-bold text-purple-900 text-lg group-hover:text-purple-800",children:"View Students"}),u.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Student management"})]}),u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-purple-300/30 transition-all"})]})]})]}),a&&u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(vn,{className:"w-5 h-5 text-purple-500"}),"Co-Leader Permissions",u.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",ae.length," co-leader",ae.length!==1?"s":"",")"]})]}),ae.length===0?u.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-2xl",children:[u.jsx(vn,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),u.jsx("p",{className:"text-gray-600 mb-2",children:"No co-leaders appointed yet"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Go to Student & Settings to promote students to co-leader role"})]}):u.jsx("div",{className:"space-y-4",children:ae.map(W=>u.jsxs("div",{className:"border border-gray-200 rounded-2xl overflow-hidden",children:[u.jsxs("button",{onClick:()=>m(p===W.rollNo?null:W.rollNo),className:"w-full flex items-center justify-between p-4 bg-purple-50 hover:bg-purple-100 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-xl flex items-center justify-center",children:u.jsx(vn,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-purple-900",children:W.name}),u.jsx("p",{className:"text-sm text-purple-700",children:W.rollNo})]})]}),p===W.rollNo?u.jsx(up,{className:"w-5 h-5 text-purple-600"}):u.jsx(gd,{className:"w-5 h-5 text-purple-600"})]}),p===W.rollNo&&u.jsx("div",{className:"p-4 space-y-3 bg-white",children:Object.keys(E).map(k=>se(W,k))})]},W.rollNo))})]}),O&&R&&u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Fs,{className:"w-5 h-5 text-purple-500"}),"Your Permissions"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(E).map(([W,k])=>{const oe=R[W]??bc[W],ve=k.icon;return u.jsx("div",{className:`p-4 rounded-2xl border ${oe?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${oe?"bg-green-500":"bg-gray-400"}`,children:u.jsx(ve,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:`font-medium ${oe?"text-green-900":"text-gray-700"}`,children:k.label}),u.jsx("p",{className:"text-xs text-gray-500",children:k.desc})]}),u.jsx("div",{className:"ml-auto",children:oe?u.jsx(to,{className:"w-5 h-5 text-green-600"}):u.jsx(fn,{className:"w-5 h-5 text-gray-400"})})]})},W)})})]}),(a||R?.canManagePasswords)&&u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Si,{className:"w-5 h-5 text-blue-500"}),"Password Management"]}),u.jsxs("div",{className:"relative mb-4",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(yd,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:x,onChange:W=>b(W.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),x&&u.jsx("button",{onClick:()=>b(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(fn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:xe.map(W=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${W.rollNo===Pe.rollNo?"bg-yellow-100":W.role==="co-leader"?"bg-purple-100":"bg-blue-100"}`,children:W.rollNo===Pe.rollNo?u.jsx(Jn,{className:"w-4 h-4 text-yellow-600"}):W.role==="co-leader"?u.jsx(vn,{className:"w-4 h-4 text-purple-600"}):u.jsx(hp,{className:"w-4 h-4 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 text-sm",children:W.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:W.rollNo}),W.isProtected&&u.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[u.jsx(Yt,{className:"w-3 h-3"}),"Protected"]})]})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:W.isProtected?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>fe(W,"change"),className:"px-3 py-1.5 text-xs font-medium bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all",children:"Change"}),W.rollNo!==Pe.rollNo&&u.jsx("button",{onClick:()=>fe(W,"remove"),className:"px-3 py-1.5 text-xs font-medium bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:"Remove"})]}):u.jsx("button",{onClick:()=>fe(W,"add"),className:"px-3 py-1.5 text-xs font-medium bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all",children:"Add Password"})})]},W.rollNo))})]})]}):u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Fs,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),u.jsx("p",{className:"text-gray-600",children:"Please select a student to view admin privileges"})]})})}function SI({selectedStudent:t}){const{notices:e}=Z_(t),[n,s]=X.useState(new Date),[a,o]=X.useState(new Date),c=(V,H)=>V.getDate()===H.getDate()&&V.getMonth()===H.getMonth()&&V.getFullYear()===H.getFullYear(),d=X.useMemo(()=>e.flatMap(V=>{const H={id:V.id,type:V.type,meta:V.meta};if(V.type==="todo"&&V.meta.dueDate){const B=new Date(V.meta.dueDate);return isNaN(B)?null:{...H,title:V.content,date:B,color:"bg-blue-500",icon:sT}}if(V.type==="reminder"&&V.meta.reminderDate){const B=new Date(V.meta.reminderDate);return isNaN(B)?null:{...H,title:V.content,date:B,color:"bg-yellow-500",icon:Dc}}if(V.type==="assessment"){if(V.meta.assessments?.length>0)return V.meta.assessments.map((B,U)=>{const j=new Date(B.date);return isNaN(j)?null:{id:`${V.id}-${U}`,type:"assessment",title:`${B.subject}${B.assessmentName?": "+B.assessmentName:""} (${B.assessmentType})`,date:j,color:"bg-purple-500",icon:Va,meta:V.meta}}).filter(Boolean);if(V.meta.date){const B=new Date(V.meta.date);return isNaN(B)?null:{...H,title:`${V.meta.subject}${V.meta.assessmentName?": "+V.meta.assessmentName:""} (${V.meta.assessmentType})`,date:B,color:"bg-purple-500",icon:Va}}}return null}).filter(Boolean),[e]),p=[{day:25,month:11,title:"Christmas Day",type:"holiday"},{day:26,month:0,title:"Republic Day",type:"holiday"},{day:19,month:1,title:"Shiv Jayanti",type:"holiday"},{day:14,month:3,title:"Ambedkar Jayanti",type:"holiday"},{day:1,month:4,title:"Maharashtra Day",type:"holiday"},{day:15,month:7,title:"Independence Day",type:"holiday"},{day:2,month:9,title:"Gandhi Jayanti",type:"holiday"}],m=V=>p.find(H=>H.day===V.getDate()&&H.month===V.getMonth()),x=X.useMemo(()=>d,[d]),b=V=>{const H=x.filter(U=>c(U.date,V)),B=m(V);return B&&H.unshift({id:`holiday-${V.getTime()}`,type:"holiday",title:B.title,date:V,color:"bg-red-600",icon:vn}),H},w=b(a),_=(V,H)=>new Date(V,H+1,0).getDate(),S=(V,H)=>(new Date(V,H,1).getDay()+6)%7,L=_(n.getFullYear(),n.getMonth()),z=S(n.getFullYear(),n.getMonth()),F=()=>{s(new Date(n.getFullYear(),n.getMonth()+1))},q=()=>{s(new Date(n.getFullYear(),n.getMonth()-1))};return u.jsx("div",{className:"max-w-6xl mx-auto space-y-6",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[u.jsxs("div",{className:"flex-1 bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[u.jsx($s,{className:"w-6 h-6 text-blue-600"}),n.toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),u.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:q,className:"p-2 hover:bg-white rounded-md shadow-sm transition-all text-gray-600",children:u.jsx(wE,{className:"w-5 h-5"})}),u.jsx("button",{onClick:F,className:"p-2 hover:bg-white rounded-md shadow-sm transition-all text-gray-600",children:u.jsx(r2,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((V,H)=>u.jsx("div",{className:`text-center text-sm font-semibold py-2
                                        ${H===6?"text-red-500":H===4?"text-green-600":"text-gray-500"}`,children:V},V))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:z}).map((V,H)=>u.jsx("div",{className:"h-24 sm:h-32 bg-gray-50/50 rounded-xl"},`empty-${H}`)),Array.from({length:L}).map((V,H)=>{const B=H+1,U=new Date(n.getFullYear(),n.getMonth(),B),j=c(U,new Date),C=c(U,a),I=b(U),A=m(U),M=U.getDay(),ae=j?"bg-blue-600 text-white shadow-md shadow-blue-200":A||M===0?"text-red-600 drop-shadow-[0_0_8px_rgba(239,68,68,0.5)] font-bold":M===5?"text-green-600 drop-shadow-[0_0_8px_rgba(22,163,74,0.5)] font-bold":"text-gray-700";return u.jsxs("button",{onClick:()=>o(U),className:`
                      relative h-24 sm:h-32 rounded-xl border p-2 transition-all text-left flex flex-col justify-between
                      ${C?"border-blue-500 ring-2 ring-blue-100 bg-blue-50/30":"border-transparent hover:bg-gray-50"}
                      ${j?"bg-blue-50":""}
                      ${A?"bg-red-50/30":""} 
                    `,children:[u.jsx("span",{className:`
                      w-7 h-7 flex items-center justify-center rounded-full text-sm font-medium
                      ${ae}
                    `,children:B}),u.jsxs("div",{className:"space-y-1 w-full",children:[I.slice(0,3).map((xe,Q)=>u.jsxs("div",{className:`
                            text-[10px] truncate px-1.5 py-0.5 rounded-full flex items-center gap-1
                            ${xe.type==="assessment"?"bg-purple-100 text-purple-700":xe.type==="todo"?"bg-blue-100 text-blue-700":xe.type==="holiday"?"bg-red-100 text-red-700 font-medium":"bg-yellow-100 text-yellow-700"}
                          `,children:[u.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${xe.type==="holiday"?"bg-red-500":xe.color}`}),u.jsx("span",{className:"hidden sm:inline",children:xe.title})]},Q)),I.length>3&&u.jsxs("div",{className:"text-[10px] text-gray-400 pl-1",children:["+",I.length-3," more"]})]})]},B)})]})]})]}),u.jsx("div",{className:"lg:w-80 w-full space-y-6",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 h-full min-h-[500px]",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[a.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),u.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-auto",children:[w.length," Events"]})]}),u.jsx("div",{className:"space-y-4",children:w.length>0?w.map(V=>u.jsxs("div",{className:`
                      p-3 rounded-xl border flex gap-3
                      ${V.type==="assessment"?"bg-purple-50 border-purple-100":V.type==="todo"?"bg-blue-50 border-blue-100":V.type==="holiday"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-100"}
                    `,children:[u.jsx("div",{className:`
                       mt-1 w-8 h-8 rounded-full flex items-center justify-center shrink-0
                       ${V.type==="assessment"?"bg-purple-100 text-purple-600":V.type==="todo"?"bg-blue-100 text-blue-600":V.type==="holiday"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}
                     `,children:u.jsx(V.icon,{className:"w-4 h-4"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-bold uppercase tracking-wider opacity-70 mb-0.5",children:V.type}),u.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:V.title}),V.type!=="holiday"&&u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[u.jsx(Mi,{className:"w-3 h-3"}),V.date.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]},V.id)):u.jsxs("div",{className:"text-center py-10 text-gray-400",children:[u.jsx(Mi,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),u.jsx("p",{children:"No events for this day"})]})})]})})]})})}function AI(t,e){const[n,s]=X.useState(()=>{try{const c=window.localStorage.getItem(t);return c?JSON.parse(c):e}catch(c){return console.error(`Error loading localStorage key "${t}":`,c),e}});return[n,c=>{try{s(c),window.localStorage.setItem(t,JSON.stringify(c))}catch(d){console.error(`Error setting localStorage key "${t}":`,d)}},()=>{try{s(e),window.localStorage.removeItem(t)}catch(c){console.error(`Error clearing localStorage key "${t}":`,c)}}]}function jI(t){const[e,n]=X.useState(navigator.onLine),[s,a]=X.useState(!1),[o,c]=X.useState(null);return X.useEffect(()=>{const m=()=>n(!0),x=()=>n(!1);return window.addEventListener("online",m),window.addEventListener("offline",x),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",x)}},[]),{isOnline:e,isSyncing:s,lastSynced:o,saveToFirestore:async(m,x,b,w)=>{if(!t)return!1;try{a(!0);const _=Rn(Ot,"academic-data",`${t}-${m}-${x}`);return await qs(_,{studentId:t,semester:m,subject:x,type:w,data:b,timestamp:Gl(),lastModified:new Date().toISOString()}),c(new Date),!0}catch(_){return console.error("Error saving to Firestore:",_),!1}finally{a(!1)}},loadAllData:async()=>{if(!t)return{};try{a(!0);const m=Zp(Fc(Ot,"academic-data"),$_("studentId","==",t));return new Promise((x,b)=>Q_(m,_=>{const S={};_.forEach(L=>{const z=L.data(),F=`${z.semester}-${z.subject}`;S[F]=z}),c(new Date),x(S)},_=>{console.error("Error loading all data:",_),b(_)}))}catch(m){return console.error("Error setting up real-time listener:",m),{}}finally{a(!1)}}}}function CI(){const[t,e]=X.useState(0),[n,s]=X.useState(5),[a,o]=X.useState(!1),c=iw(),{students:d,selectedStudent:p,isLoading:m,hasInitialized:x,selectStudent:b}=c,w=p?`academic-data-${p.rollNo}`:"academic-data-temp",[_,S]=AI(w,{}),L=p?.rollNo,{isOnline:z,isSyncing:F,lastSynced:q,saveToFirestore:V,loadAllData:H}=jI(L);X.useEffect(()=>{let M=!1;if(!p){S({});return}return o(!0),S({}),setTimeout(async()=>{if(!M){if(z&&p)try{const O=await H();M||O&&Object.keys(O).length>0&&S(O)}catch{M||S({})}M||o(!1)}},50),()=>{M=!0}},[p,z]);const B=M=>{if(!M||!M.admissionYear)return!1;const O=new Date;return(O.getMonth()+1>=7?O.getFullYear():O.getFullYear()-1)-Number(M.admissionYear)>=4};X.useEffect(()=>{if(p){const M=j(p);M?s(M):p.isDSY&&s(O=>O<3?3:O),B(p)&&e(5),!B(p)&&t===5&&e(0)}},[p]);const U=async(M,O,R="theory")=>{if(!p)return;const ae=`${n}-${M}`,xe={data:O,type:R,semester:n,subject:M},Q={..._,[ae]:xe};if(S(Q),z)try{await V(n,M,O,R)}catch(fe){console.error("Error syncing to Firestore:",fe)}},j=M=>{if(!M||!M.admissionYear)return null;const O=new Date,R=O.getMonth()+1,ae=R>=7?O.getFullYear():O.getFullYear()-1,xe=Number(M.admissionYear);let Q=ae-xe;Q<0&&(Q=0);const fe=M.isDSY?3:1,re=R>=7?0:1;let ye=fe+Q*2+re;return ye<fe&&(ye=fe),ye>8&&(ye=8),ye},C=M=>{S({});const O=j(M);O&&s(O),b(M)};if(!p||m||!x||a)return u.jsx(BT,{students:d,onStudentSelect:C,isLoading:m||!x||a,studentManagement:c});const I={isOnline:z,isSyncing:F,lastSynced:q},A=()=>{b(null),localStorage.removeItem("selected-student"),S({})};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[u.jsx(qT,{semester:n,syncStatus:I,selectedStudent:p,onStudentSwitch:A}),u.jsx(HT,{activeTab:t,onTabChange:e,showDegreeTab:B(p),showAdminTab:p?.rollNo===Pe.rollNo||p?.role==="co-leader"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[u.jsx(Ni,{value:t,index:0,children:u.jsx(GT,{semester:n,allData:_,handleDataChange:U})}),u.jsx(Ni,{value:t,index:1,children:u.jsx(QT,{semester:n,allData:_,handleDataChange:U})}),u.jsx(Ni,{value:t,index:2,children:u.jsx(vI,{selectedStudent:p})}),u.jsx(Ni,{value:t,index:3,children:u.jsx(wI,{selectedStudent:p})}),u.jsx(Ni,{value:t,index:4,children:u.jsx(NI,{semester:n,setSemester:s,studentManagement:c})}),u.jsx(Ni,{value:t,index:5,children:u.jsx(EI,{selectedStudent:p})}),u.jsx(Ni,{value:t,index:6,children:u.jsx(TI,{selectedStudent:p,studentManagement:c,onNavigateToTab:(M,O)=>{e(M)}})}),u.jsx(Ni,{value:t,index:7,children:u.jsx(SI,{selectedStudent:p})})]})]})}function kI({children:t}){return u.jsxs(u.Fragment,{children:[t,u.jsx(bI,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastStyle:{fontSize:"14px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"}})]})}JN.createRoot(document.getElementById("root")).render(u.jsx(gt.StrictMode,{children:u.jsx(kI,{children:u.jsx(CI,{})})}));
