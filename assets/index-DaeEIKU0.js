(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function xf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hm={exports:{}},hc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1;function WN(){if($1)return hc;$1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var f in i)f!=="key"&&(o[f]=i[f])}else o=i;return i=o.ref,{$$typeof:t,type:s,key:u,ref:i!==void 0?i:null,props:o}}return hc.Fragment=e,hc.jsx=n,hc.jsxs=n,hc}var H1;function eE(){return H1||(H1=1,Hm.exports=WN()),Hm.exports}var c=eE(),Ym={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function tE(){if(Y1)return qe;Y1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=b&&T[b]||T["@@iterator"],typeof T=="function"?T:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function z(T,re,J){this.props=T,this.context=re,this.refs=R,this.updater=J||_}z.prototype.isReactComponent={},z.prototype.setState=function(T,re){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,re,"setState")},z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function F(){}F.prototype=z.prototype;function V(T,re,J){this.props=T,this.context=re,this.refs=R,this.updater=J||_}var B=V.prototype=new F;B.constructor=V,A(B,z.prototype),B.isPureReactComponent=!0;var H=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function I(T,re,J,E,Y,ue){return J=ue.ref,{$$typeof:t,type:T,key:re,ref:J!==void 0?J:null,props:ue}}function j(T,re){return I(T.type,re,void 0,void 0,void 0,T.props)}function D(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function k(T){var re={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return re[J]})}var P=/\/+/g;function O(T,re){return typeof T=="object"&&T!==null&&T.key!=null?k(""+T.key):re.toString(36)}function C(){}function se(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(C,C):(T.status="pending",T.then(function(re){T.status==="pending"&&(T.status="fulfilled",T.value=re)},function(re){T.status==="pending"&&(T.status="rejected",T.reason=re)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ye(T,re,J,E,Y){var ue=typeof T;(ue==="undefined"||ue==="boolean")&&(T=null);var ae=!1;if(T===null)ae=!0;else switch(ue){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(T.$$typeof){case t:case e:ae=!0;break;case x:return ae=T._init,ye(ae(T._payload),re,J,E,Y)}}if(ae)return Y=Y(T),ae=E===""?"."+O(T,0):E,H(Y)?(J="",ae!=null&&(J=ae.replace(P,"$&/")+"/"),ye(Y,re,J,"",function(it){return it})):Y!=null&&(D(Y)&&(Y=j(Y,J+(Y.key==null||T&&T.key===Y.key?"":(""+Y.key).replace(P,"$&/")+"/")+ae)),re.push(Y)),1;ae=0;var be=E===""?".":E+":";if(H(T))for(var Te=0;Te<T.length;Te++)E=T[Te],ue=be+O(E,Te),ae+=ye(E,re,J,ue,Y);else if(Te=w(T),typeof Te=="function")for(T=Te.call(T),Te=0;!(E=T.next()).done;)E=E.value,ue=be+O(E,Te++),ae+=ye(E,re,J,ue,Y);else if(ue==="object"){if(typeof T.then=="function")return ye(se(T),re,J,E,Y);throw re=String(T),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ae}function Q(T,re,J){if(T==null)return T;var E=[],Y=0;return ye(T,E,"","",function(ue){return re.call(J,ue,Y++)}),E}function fe(T){if(T._status===-1){var re=T._result;re=re(),re.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=re)}if(T._status===1)return T._result.default;throw T._result}var ee=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function ve(){}return qe.Children={map:Q,forEach:function(T,re,J){Q(T,function(){re.apply(this,arguments)},J)},count:function(T){var re=0;return Q(T,function(){re++}),re},toArray:function(T){return Q(T,function(re){return re})||[]},only:function(T){if(!D(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},qe.Component=z,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=V,qe.StrictMode=s,qe.Suspense=m,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,qe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return X.H.useMemoCache(T)}},qe.cache=function(T){return function(){return T.apply(null,arguments)}},qe.cloneElement=function(T,re,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var E=A({},T.props),Y=T.key,ue=void 0;if(re!=null)for(ae in re.ref!==void 0&&(ue=void 0),re.key!==void 0&&(Y=""+re.key),re)!L.call(re,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&re.ref===void 0||(E[ae]=re[ae]);var ae=arguments.length-2;if(ae===1)E.children=J;else if(1<ae){for(var be=Array(ae),Te=0;Te<ae;Te++)be[Te]=arguments[Te+2];E.children=be}return I(T.type,Y,void 0,void 0,ue,E)},qe.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:o,_context:T},T},qe.createElement=function(T,re,J){var E,Y={},ue=null;if(re!=null)for(E in re.key!==void 0&&(ue=""+re.key),re)L.call(re,E)&&E!=="key"&&E!=="__self"&&E!=="__source"&&(Y[E]=re[E]);var ae=arguments.length-2;if(ae===1)Y.children=J;else if(1<ae){for(var be=Array(ae),Te=0;Te<ae;Te++)be[Te]=arguments[Te+2];Y.children=be}if(T&&T.defaultProps)for(E in ae=T.defaultProps,ae)Y[E]===void 0&&(Y[E]=ae[E]);return I(T,ue,void 0,void 0,null,Y)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(T){return{$$typeof:f,render:T}},qe.isValidElement=D,qe.lazy=function(T){return{$$typeof:x,_payload:{_status:-1,_result:T},_init:fe}},qe.memo=function(T,re){return{$$typeof:p,type:T,compare:re===void 0?null:re}},qe.startTransition=function(T){var re=X.T,J={};X.T=J;try{var E=T(),Y=X.S;Y!==null&&Y(J,E),typeof E=="object"&&E!==null&&typeof E.then=="function"&&E.then(ve,ee)}catch(ue){ee(ue)}finally{X.T=re}},qe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},qe.use=function(T){return X.H.use(T)},qe.useActionState=function(T,re,J){return X.H.useActionState(T,re,J)},qe.useCallback=function(T,re){return X.H.useCallback(T,re)},qe.useContext=function(T){return X.H.useContext(T)},qe.useDebugValue=function(){},qe.useDeferredValue=function(T,re){return X.H.useDeferredValue(T,re)},qe.useEffect=function(T,re,J){var E=X.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return E.useEffect(T,re)},qe.useId=function(){return X.H.useId()},qe.useImperativeHandle=function(T,re,J){return X.H.useImperativeHandle(T,re,J)},qe.useInsertionEffect=function(T,re){return X.H.useInsertionEffect(T,re)},qe.useLayoutEffect=function(T,re){return X.H.useLayoutEffect(T,re)},qe.useMemo=function(T,re){return X.H.useMemo(T,re)},qe.useOptimistic=function(T,re){return X.H.useOptimistic(T,re)},qe.useReducer=function(T,re,J){return X.H.useReducer(T,re,J)},qe.useRef=function(T){return X.H.useRef(T)},qe.useState=function(T){return X.H.useState(T)},qe.useSyncExternalStore=function(T,re,J){return X.H.useSyncExternalStore(T,re,J)},qe.useTransition=function(){return X.H.useTransition()},qe.version="19.1.1",qe}var G1;function vp(){return G1||(G1=1,Ym.exports=tE()),Ym.exports}var G=vp();const vt=xf(G);var Gm={exports:{}},mc={},Qm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function nE(){return Q1||(Q1=1,(function(t){function e(Q,fe){var ee=Q.length;Q.push(fe);e:for(;0<ee;){var ve=ee-1>>>1,T=Q[ve];if(0<i(T,fe))Q[ve]=fe,Q[ee]=T,ee=ve;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var fe=Q[0],ee=Q.pop();if(ee!==fe){Q[0]=ee;e:for(var ve=0,T=Q.length,re=T>>>1;ve<re;){var J=2*(ve+1)-1,E=Q[J],Y=J+1,ue=Q[Y];if(0>i(E,ee))Y<T&&0>i(ue,E)?(Q[ve]=ue,Q[Y]=ee,ve=Y):(Q[ve]=E,Q[J]=ee,ve=J);else if(Y<T&&0>i(ue,ee))Q[ve]=ue,Q[Y]=ee,ve=Y;else break e}}return fe}function i(Q,fe){var ee=Q.sortIndex-fe.sortIndex;return ee!==0?ee:Q.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],x=1,b=null,w=3,_=!1,A=!1,R=!1,z=!1,F=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function H(Q){for(var fe=n(p);fe!==null;){if(fe.callback===null)s(p);else if(fe.startTime<=Q)s(p),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=n(p)}}function X(Q){if(R=!1,H(Q),!A)if(n(m)!==null)A=!0,L||(L=!0,O());else{var fe=n(p);fe!==null&&ye(X,fe.startTime-Q)}}var L=!1,I=-1,j=5,D=-1;function k(){return z?!0:!(t.unstable_now()-D<j)}function P(){if(z=!1,L){var Q=t.unstable_now();D=Q;var fe=!0;try{e:{A=!1,R&&(R=!1,V(I),I=-1),_=!0;var ee=w;try{t:{for(H(Q),b=n(m);b!==null&&!(b.expirationTime>Q&&k());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,w=b.priorityLevel;var T=ve(b.expirationTime<=Q);if(Q=t.unstable_now(),typeof T=="function"){b.callback=T,H(Q),fe=!0;break t}b===n(m)&&s(m),H(Q)}else s(m);b=n(m)}if(b!==null)fe=!0;else{var re=n(p);re!==null&&ye(X,re.startTime-Q),fe=!1}}break e}finally{b=null,w=ee,_=!1}fe=void 0}}finally{fe?O():L=!1}}}var O;if(typeof B=="function")O=function(){B(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,se=C.port2;C.port1.onmessage=P,O=function(){se.postMessage(null)}}else O=function(){F(P,0)};function ye(Q,fe){I=F(function(){Q(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var ee=w;w=fe;try{return Q()}finally{w=ee}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(Q,fe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ee=w;w=Q;try{return fe()}finally{w=ee}},t.unstable_scheduleCallback=function(Q,fe,ee){var ve=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ve+ee:ve):ee=ve,Q){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ee+T,Q={id:x++,callback:fe,priorityLevel:Q,startTime:ee,expirationTime:T,sortIndex:-1},ee>ve?(Q.sortIndex=ee,e(p,Q),n(m)===null&&Q===n(p)&&(R?(V(I),I=-1):R=!0,ye(X,ee-ve))):(Q.sortIndex=T,e(m,Q),A||_||(A=!0,L||(L=!0,O()))),Q},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(Q){var fe=w;return function(){var ee=w;w=fe;try{return Q.apply(this,arguments)}finally{w=ee}}}})(Xm)),Xm}var X1;function rE(){return X1||(X1=1,Qm.exports=nE()),Qm.exports}var Km={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function sE(){if(K1)return Cn;K1=1;var t=vp();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(m,p,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:m,containerInfo:p,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Cn.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(m,p,null,x)},Cn.flushSync=function(m){var p=u.T,x=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=x,s.d.f()}},Cn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Cn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Cn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,b=f(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:_}):x==="script"&&s.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Cn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Cn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,b=f(x,p.crossOrigin);s.d.L(m,x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Cn.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Cn.requestFormReset=function(m){s.d.r(m)},Cn.unstable_batchedUpdates=function(m,p){return m(p)},Cn.useFormState=function(m,p,x){return u.H.useFormState(m,p,x)},Cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Cn.version="19.1.1",Cn}var Z1;function aE(){if(Z1)return Km.exports;Z1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Km.exports=sE(),Km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function iE(){if(J1)return mc;J1=1;var t=rE(),e=vp(),n=aE();function s(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(s(188))}function m(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(s(188));return a!==r?null:r}for(var l=r,d=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return f(g),r;if(y===d)return f(g),a;y=y.sibling}throw Error(s(188))}if(l.return!==d.return)l=g,d=y;else{for(var S=!1,M=g.child;M;){if(M===l){S=!0,l=g,d=y;break}if(M===d){S=!0,d=g,l=y;break}M=M.sibling}if(!S){for(M=y.child;M;){if(M===l){S=!0,l=y,d=g;break}if(M===d){S=!0,d=y,l=g;break}M=M.sibling}if(!S)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),B=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function O(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function se(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case z:return"Profiler";case R:return"StrictMode";case X:return"Suspense";case L:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case B:return(r.displayName||"Context")+".Provider";case V:return(r._context.displayName||"Context")+".Consumer";case H:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return a=r.displayName||null,a!==null?a:se(r.type)||"Memo";case j:a=r._payload,r=r._init;try{return se(r(a))}catch{}}return null}var ye=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ve=[],T=-1;function re(r){return{current:r}}function J(r){0>T||(r.current=ve[T],ve[T]=null,T--)}function E(r,a){T++,ve[T]=r.current,r.current=a}var Y=re(null),ue=re(null),ae=re(null),be=re(null);function Te(r,a){switch(E(ae,a),E(ue,r),E(Y,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?y1(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=y1(a),r=b1(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(Y),E(Y,r)}function it(){J(Y),J(ue),J(ae)}function ot(r){r.memoizedState!==null&&E(be,r);var a=Y.current,l=b1(a,r.type);a!==l&&(E(ue,r),E(Y,l))}function ft(r){ue.current===r&&(J(Y),J(ue)),be.current===r&&(J(be),oc._currentValue=ee)}var Vn=Object.prototype.hasOwnProperty,pn=t.unstable_scheduleCallback,_e=t.unstable_cancelCallback,We=t.unstable_shouldYield,Ot=t.unstable_requestPaint,Nt=t.unstable_now,er=t.unstable_getCurrentPriorityLevel,fr=t.unstable_ImmediatePriority,Hn=t.unstable_UserBlockingPriority,hr=t.unstable_NormalPriority,Xa=t.unstable_LowPriority,mr=t.unstable_IdlePriority,Yn=t.log,vs=t.unstable_setDisableYieldValue,ie=null,pe=null;function Ce(r){if(typeof Yn=="function"&&vs(r),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(ie,r)}catch{}}var De=Math.clz32?Math.clz32:ln,He=Math.log,gn=Math.LN2;function ln(r){return r>>>=0,r===0?32:31-(He(r)/gn|0)|0}var Jt=256,An=4194304;function qt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Rt(r,a,l){var d=r.pendingLanes;if(d===0)return 0;var g=0,y=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var M=d&134217727;return M!==0?(d=M&~y,d!==0?g=qt(d):(S&=M,S!==0?g=qt(S):l||(l=M&~r,l!==0&&(g=qt(l))))):(M=d&~y,M!==0?g=qt(M):S!==0?g=qt(S):l||(l=d&~r,l!==0&&(g=qt(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function jn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function xn(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ka(){var r=Jt;return Jt<<=1,(Jt&4194048)===0&&(Jt=256),r}function Za(){var r=An;return An<<=1,(An&62914560)===0&&(An=4194304),r}function Dr(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Ir(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ja(r,a,l,d,g,y){var S=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var M=r.entanglements,q=r.expirationTimes,te=r.hiddenUpdates;for(l=S&~l;0<l;){var de=31-De(l),ge=1<<de;M[de]=0,q[de]=-1;var ne=te[de];if(ne!==null)for(te[de]=null,de=0;de<ne.length;de++){var le=ne[de];le!==null&&(le.lane&=-536870913)}l&=~ge}d!==0&&pr(r,d,0),y!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=y&~(S&~a))}function pr(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-De(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|l&4194090}function Wa(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var d=31-De(l),g=1<<d;g&a|r[d]&a&&(r[d]|=a),l&=~g}}function Mr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ws(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function $r(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:L1(r.type))}function Yi(r,a){var l=fe.p;try{return fe.p=r,a()}finally{fe.p=l}}var Et=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Et,ce="__reactProps$"+Et,Ue="__reactContainer$"+Et,kt="__reactEvents$"+Et,ei="__reactListeners$"+Et,na="__reactHandles$"+Et,uu="__reactResources$"+Et,ti="__reactMarker$"+Et;function ra(r){delete r[Tt],delete r[ce],delete r[kt],delete r[ei],delete r[na]}function _s(r){var a=r[Tt];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Ue]||l[Tt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=N1(r);r!==null;){if(l=r[Tt])return l;r=N1(r)}return a}r=l,l=r.parentNode}return null}function Hr(r){if(r=r[Tt]||r[Ue]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Yr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(s(33))}function Pn(r){var a=r[uu];return a||(a=r[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function zt(r){r[ti]=!0}var mo=new Set,Gi={};function Or(r,a){Ns(r,a),Ns(r+"Capture",a)}function Ns(r,a){for(Gi[r]=a,r=0;r<a.length;r++)mo.add(a[r])}var du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fu={},ni={};function hu(r){return Vn.call(ni,r)?!0:Vn.call(fu,r)?!1:du.test(r)?ni[r]=!0:(fu[r]=!0,!1)}function sa(r,a,l){if(hu(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Gr(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function yn(r,a,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+d)}}var ri,mu;function Es(r){if(ri===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ri=a&&a[1]||"",mu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+r+mu}var Qi=!1;function Xi(r,a){if(!r||Qi)return"";Qi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(le){var ne=le}Reflect.construct(r,[],ge)}else{try{ge.call()}catch(le){ne=le}r.call(ge.prototype)}}else{try{throw Error()}catch(le){ne=le}(ge=r())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(le){if(le&&ne&&typeof le.stack=="string")return[le.stack,ne.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],M=y[1];if(S&&M){var q=S.split(`
`),te=M.split(`
`);for(g=d=0;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(d===q.length||g===te.length)for(d=q.length-1,g=te.length-1;1<=d&&0<=g&&q[d]!==te[g];)g--;for(;1<=d&&0<=g;d--,g--)if(q[d]!==te[g]){if(d!==1||g!==1)do if(d--,g--,0>g||q[d]!==te[g]){var de=`
`+q[d].replace(" at new "," at ");return r.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",r.displayName)),de}while(1<=d&&0<=g);break}}}finally{Qi=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Es(l):""}function po(r){switch(r.tag){case 26:case 27:case 5:return Es(r.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 15:return Xi(r.type,!1);case 11:return Xi(r.type.render,!1);case 1:return Xi(r.type,!0);case 31:return Es("Activity");default:return""}}function Ki(r){try{var a="";do a+=po(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function go(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xf(r){var a=go(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Zi(r){r._valueTracker||(r._valueTracker=Xf(r))}function xo(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return r&&(d=go(r)?r.checked?"true":"false":r.value),r=d,r!==l?(a.setValue(r),!0):!1}function si(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Kf=/[\n"\\]/g;function $t(r){return r.replace(Kf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function tr(r,a,l,d,g,y,S,M){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Ln(a)):r.value!==""+Ln(a)&&(r.value=""+Ln(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?aa(r,S,Ln(a)):l!=null?aa(r,S,Ln(l)):d!=null&&r.removeAttribute("value"),g==null&&y!=null&&(r.defaultChecked=!!y),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.name=""+Ln(M):r.removeAttribute("name")}function ai(r,a,l,d,g,y,S,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Ln(l):"",a=a!=null?""+Ln(a):l,M||a===r.value||(r.value=a),r.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=M?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function aa(r,a,l){a==="number"&&si(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Ts(r,a,l,d){if(r=r.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=a.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Ln(l),a=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function pt(r,a,l){if(a!=null&&(a=""+Ln(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+Ln(l):""}function ii(r,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(s(92));if(ye(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=Ln(a),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d)}function gr(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var li=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(r,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,l):typeof l!="number"||l===0||li.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function yo(r,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in a)d=a[g],a.hasOwnProperty(g)&&l[g]!==d&&pu(r,g,d)}else for(var y in a)a.hasOwnProperty(y)&&pu(r,y,a[y])}function bo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ji(r){return Jf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ss=null;function xr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var As=null,js=null;function vo(r){var a=Hr(r);if(a&&(r=a.stateNode)){var l=r[ce]||null;e:switch(r=a.stateNode,a.type){case"input":if(tr(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+$t(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==r&&d.form===r.form){var g=d[ce]||null;if(!g)throw Error(s(90));tr(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===r.form&&xo(d)}break e;case"textarea":pt(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ts(r,!!l.multiple,a,!1)}}}var Qr=!1;function gu(r,a,l){if(Qr)return r(a,l);Qr=!0;try{var d=r(a);return d}finally{if(Qr=!1,(As!==null||js!==null)&&(cd(),As&&(a=As,r=js,js=As=null,vo(a),r)))for(a=0;a<r.length;a++)vo(r[a])}}function oi(r,a){var l=r.stateNode;if(l===null)return null;var d=l[ce]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Vr)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){yr=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{yr=!1}var Xr=null,ia=null,ks=null;function wo(){if(ks)return ks;var r,a=ia,l=a.length,d,g="value"in Xr?Xr.value:Xr.textContent,y=g.length;for(r=0;r<l&&a[r]===g[r];r++);var S=l-r;for(d=1;d<=S&&a[l-d]===g[y-d];d++);return ks=g.slice(r,1<d?1-d:void 0)}function Kr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Zr(){return!0}function _o(){return!1}function on(r){function a(l,d,g,y,S){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(l=r[M],this[M]=l?l(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Zr:_o,this.isPropagationStopped=_o,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),a}var ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=on(ut),ui=x({},ut,{view:0,detail:0}),xu=on(ui),el,tl,Jr,di=x({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jr&&(Jr&&r.type==="mousemove"?(el=r.screenX-Jr.screenX,tl=r.screenY-Jr.screenY):tl=el=0,Jr=r),el)},movementY:function(r){return"movementY"in r?r.movementY:tl}}),br=on(di),yu=x({},di,{dataTransfer:0}),Wf=on(yu),fi=x({},ui,{relatedTarget:0}),nl=on(fi),No=x({},ut,{animationName:0,elapsedTime:0,pseudoElement:0}),rl=on(No),bu=x({},ut,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),sl=on(bu),eh=x({},ut,{data:0}),Eo=on(eh),hi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=wu[r])?!!a[r]:!1}function mi(){return To}var _u=x({},ui,{key:function(r){if(r.key){var a=hi[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Kr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(r){return r.type==="keypress"?Kr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Kr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),al=on(_u),Nu=x({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=on(Nu),Cs=x({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),Eu=on(Cs),Tu=x({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=on(Tu),Au=x({},di,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),il=on(Au),zn=x({},ut,{newState:0,oldState:0}),ju=on(zn),ku=[9,13,27,32],Wr=Vr&&"CompositionEvent"in window,h=null;Vr&&"documentMode"in document&&(h=document.documentMode);var v=Vr&&"TextEvent"in window&&!h,N=Vr&&(!Wr||h&&8<h&&11>=h),U=" ",Z=!1;function oe(r,a){switch(r){case"keyup":return ku.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ne(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var et=!1;function Wt(r,a){switch(r){case"compositionend":return Ne(a);case"keypress":return a.which!==32?null:(Z=!0,U);case"textInput":return r=a.data,r===U&&Z?null:r;default:return null}}function tt(r,a){if(et)return r==="compositionend"||!Wr&&oe(r,a)?(r=wo(),ks=ia=Xr=null,et=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return N&&a.locale!=="ko"?null:a.data;default:return null}}var cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!cn[r.type]:a==="textarea"}function Rs(r,a,l,d){As?js?js.push(d):js=[d]:As=d,a=pd(a,"onChange"),0<a.length&&(l=new Wi("onChange","change",null,l,d),r.push({event:l,listeners:a}))}var bn=null,es=null;function Ao(r){h1(r,0)}function Cu(r){var a=Yr(r);if(xo(a))return r}function Mg(r,a){if(r==="change")return a}var Og=!1;if(Vr){var th;if(Vr){var nh="oninput"in document;if(!nh){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),nh=typeof Vg.oninput=="function"}th=nh}else th=!1;Og=th&&(!document.documentMode||9<document.documentMode)}function Pg(){bn&&(bn.detachEvent("onpropertychange",Lg),es=bn=null)}function Lg(r){if(r.propertyName==="value"&&Cu(es)){var a=[];Rs(a,es,r,xr(r)),gu(Ao,a)}}function k4(r,a,l){r==="focusin"?(Pg(),bn=a,es=l,bn.attachEvent("onpropertychange",Lg)):r==="focusout"&&Pg()}function C4(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Cu(es)}function R4(r,a){if(r==="click")return Cu(a)}function D4(r,a){if(r==="input"||r==="change")return Cu(a)}function I4(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var nr=typeof Object.is=="function"?Object.is:I4;function jo(r,a){if(nr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!Vn.call(a,g)||!nr(r[g],a[g]))return!1}return!0}function zg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ug(r,a){var l=zg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=a&&d>=a)return{node:l,offset:a-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zg(l)}}function Bg(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Bg(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Fg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=si(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=si(r.document)}return a}function rh(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var M4=Vr&&"documentMode"in document&&11>=document.documentMode,ll=null,sh=null,ko=null,ah=!1;function qg(r,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ah||ll==null||ll!==si(d)||(d=ll,"selectionStart"in d&&rh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ko&&jo(ko,d)||(ko=d,d=pd(sh,"onSelect"),0<d.length&&(a=new Wi("onSelect","select",null,a,l),r.push({event:a,listeners:d}),a.target=ll)))}function pi(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var ol={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionrun:pi("Transition","TransitionRun"),transitionstart:pi("Transition","TransitionStart"),transitioncancel:pi("Transition","TransitionCancel"),transitionend:pi("Transition","TransitionEnd")},ih={},$g={};Vr&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function gi(r){if(ih[r])return ih[r];if(!ol[r])return r;var a=ol[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in $g)return ih[r]=a[l];return r}var Hg=gi("animationend"),Yg=gi("animationiteration"),Gg=gi("animationstart"),O4=gi("transitionrun"),V4=gi("transitionstart"),P4=gi("transitioncancel"),Qg=gi("transitionend"),Xg=new Map,lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lh.push("scrollEnd");function Pr(r,a){Xg.set(r,a),Or(a,[r])}var Kg=new WeakMap;function vr(r,a){if(typeof r=="object"&&r!==null){var l=Kg.get(r);return l!==void 0?l:(a={value:r,source:a,stack:Ki(a)},Kg.set(r,a),a)}return{value:r,source:a,stack:Ki(a)}}var wr=[],cl=0,oh=0;function Ru(){for(var r=cl,a=oh=cl=0;a<r;){var l=wr[a];wr[a++]=null;var d=wr[a];wr[a++]=null;var g=wr[a];wr[a++]=null;var y=wr[a];if(wr[a++]=null,d!==null&&g!==null){var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}y!==0&&Zg(l,g,y)}}function Du(r,a,l,d){wr[cl++]=r,wr[cl++]=a,wr[cl++]=l,wr[cl++]=d,oh|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function ch(r,a,l,d){return Du(r,a,l,d),Iu(r)}function ul(r,a){return Du(r,null,null,a),Iu(r)}function Zg(r,a,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var g=!1,y=r.return;y!==null;)y.childLanes|=l,d=y.alternate,d!==null&&(d.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(g=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,g&&a!==null&&(g=31-De(l),r=y.hiddenUpdates,d=r[g],d===null?r[g]=[a]:d.push(a),a.lane=l|536870912),y):null}function Iu(r){if(50<ec)throw ec=0,pm=null,Error(s(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var dl={};function L4(r,a,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(r,a,l,d){return new L4(r,a,l,d)}function uh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ds(r,a){var l=r.alternate;return l===null?(l=rr(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Jg(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Mu(r,a,l,d,g,y){var S=0;if(d=r,typeof r=="function")uh(r)&&(S=1);else if(typeof r=="string")S=UN(r,l,Y.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=rr(31,l,a,g),r.elementType=D,r.lanes=y,r;case A:return xi(l.children,g,y,a);case R:S=8,g|=24;break;case z:return r=rr(12,l,a,g|2),r.elementType=z,r.lanes=y,r;case X:return r=rr(13,l,a,g),r.elementType=X,r.lanes=y,r;case L:return r=rr(19,l,a,g),r.elementType=L,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case B:S=10;break e;case V:S=9;break e;case H:S=11;break e;case I:S=14;break e;case j:S=16,d=null;break e}S=29,l=Error(s(130,r===null?"null":typeof r,"")),d=null}return a=rr(S,l,a,g),a.elementType=r,a.type=d,a.lanes=y,a}function xi(r,a,l,d){return r=rr(7,r,d,a),r.lanes=l,r}function dh(r,a,l){return r=rr(6,r,null,a),r.lanes=l,r}function fh(r,a,l){return a=rr(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var fl=[],hl=0,Ou=null,Vu=0,_r=[],Nr=0,yi=null,Is=1,Ms="";function bi(r,a){fl[hl++]=Vu,fl[hl++]=Ou,Ou=r,Vu=a}function Wg(r,a,l){_r[Nr++]=Is,_r[Nr++]=Ms,_r[Nr++]=yi,yi=r;var d=Is;r=Ms;var g=32-De(d)-1;d&=~(1<<g),l+=1;var y=32-De(a)+g;if(30<y){var S=g-g%5;y=(d&(1<<S)-1).toString(32),d>>=S,g-=S,Is=1<<32-De(a)+g|l<<g|d,Ms=y+r}else Is=1<<y|l<<g|d,Ms=r}function hh(r){r.return!==null&&(bi(r,1),Wg(r,1,0))}function mh(r){for(;r===Ou;)Ou=fl[--hl],fl[hl]=null,Vu=fl[--hl],fl[hl]=null;for(;r===yi;)yi=_r[--Nr],_r[Nr]=null,Ms=_r[--Nr],_r[Nr]=null,Is=_r[--Nr],_r[Nr]=null}var Un=null,Vt=null,ct=!1,vi=null,ts=!1,ph=Error(s(519));function wi(r){var a=Error(s(418,""));throw Do(vr(a,r)),ph}function ex(r){var a=r.stateNode,l=r.type,d=r.memoizedProps;switch(a[Tt]=r,a[ce]=d,l){case"dialog":Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":case"embed":Xe("load",a);break;case"video":case"audio":for(l=0;l<nc.length;l++)Xe(nc[l],a);break;case"source":Xe("error",a);break;case"img":case"image":case"link":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"input":Xe("invalid",a),ai(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Zi(a);break;case"select":Xe("invalid",a);break;case"textarea":Xe("invalid",a),ii(a,d.value,d.defaultValue,d.children),Zi(a)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||x1(a.textContent,l)?(d.popover!=null&&(Xe("beforetoggle",a),Xe("toggle",a)),d.onScroll!=null&&Xe("scroll",a),d.onScrollEnd!=null&&Xe("scrollend",a),d.onClick!=null&&(a.onclick=gd),a=!0):a=!1,a||wi(r)}function tx(r){for(Un=r.return;Un;)switch(Un.tag){case 5:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:Un=Un.return}}function Co(r){if(r!==Un)return!1;if(!ct)return tx(r),ct=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Rm(r.type,r.memoizedProps)),l=!l),l&&Vt&&wi(r),tx(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){Vt=zr(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}Vt=null}}else a===27?(a=Vt,_a(r.type)?(r=Om,Om=null,Vt=r):Vt=a):Vt=Un?zr(r.stateNode.nextSibling):null;return!0}function Ro(){Vt=Un=null,ct=!1}function nx(){var r=vi;return r!==null&&(Xn===null?Xn=r:Xn.push.apply(Xn,r),vi=null),r}function Do(r){vi===null?vi=[r]:vi.push(r)}var gh=re(null),_i=null,Os=null;function la(r,a,l){E(gh,a._currentValue),a._currentValue=l}function Vs(r){r._currentValue=gh.current,J(gh)}function xh(r,a,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===l)break;r=r.return}}function yh(r,a,l,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=g;for(var q=0;q<a.length;q++)if(M.context===a[q]){y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),xh(y.return,l,r),d||(S=null);break e}y=M.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(s(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),xh(S,l,r),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===r){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Io(r,a,l,d){r=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var M=g.type;nr(g.pendingProps.value,S.value)||(r!==null?r.push(M):r=[M])}}else if(g===be.current){if(S=g.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(oc):r=[oc])}g=g.return}r!==null&&yh(a,r,l,d),a.flags|=262144}function Pu(r){for(r=r.firstContext;r!==null;){if(!nr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ni(r){_i=r,Os=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function kn(r){return rx(_i,r)}function Lu(r,a){return _i===null&&Ni(r),rx(r,a)}function rx(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Os===null){if(r===null)throw Error(s(308));Os=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Os=Os.next=a;return l}var z4=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},U4=t.unstable_scheduleCallback,B4=t.unstable_NormalPriority,tn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bh(){return{controller:new z4,data:new Map,refCount:0}}function Mo(r){r.refCount--,r.refCount===0&&U4(B4,function(){r.controller.abort()})}var Oo=null,vh=0,ml=0,pl=null;function F4(r,a){if(Oo===null){var l=Oo=[];vh=0,ml=_m(),pl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return vh++,a.then(sx,sx),a}function sx(){if(--vh===0&&Oo!==null){pl!==null&&(pl.status="fulfilled");var r=Oo;Oo=null,ml=0,pl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function q4(r,a){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var ax=Q.S;Q.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&F4(r,a),ax!==null&&ax(r,a)};var Ei=re(null);function wh(){var r=Ei.current;return r!==null?r:St.pooledCache}function zu(r,a){a===null?E(Ei,Ei.current):E(Ei,a.pool)}function ix(){var r=wh();return r===null?null:{parent:tn._currentValue,pool:r}}var Vo=Error(s(460)),lx=Error(s(474)),Uu=Error(s(542)),_h={then:function(){}};function ox(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Bu(){}function cx(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(Bu,Bu),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,dx(r),r;default:if(typeof a.status=="string")a.then(Bu,Bu);else{if(r=St,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=d}},function(d){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,dx(r),r}throw Po=a,Vo}}var Po=null;function ux(){if(Po===null)throw Error(s(459));var r=Po;return Po=null,r}function dx(r){if(r===Vo||r===Uu)throw Error(s(483))}var oa=!1;function Nh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eh(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ca(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ua(r,a,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(ht&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=Iu(r),Zg(r,null,l),a}return Du(r,d,a,l),Iu(r)}function Lo(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,Wa(r,l)}}function Th(r,a){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Sh=!1;function zo(){if(Sh){var r=pl;if(r!==null)throw r}}function Uo(r,a,l,d){Sh=!1;var g=r.updateQueue;oa=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var q=M,te=q.next;q.next=null,S===null?y=te:S.next=te,S=q;var de=r.alternate;de!==null&&(de=de.updateQueue,M=de.lastBaseUpdate,M!==S&&(M===null?de.firstBaseUpdate=te:M.next=te,de.lastBaseUpdate=q))}if(y!==null){var ge=g.baseState;S=0,de=te=q=null,M=y;do{var ne=M.lane&-536870913,le=ne!==M.lane;if(le?(nt&ne)===ne:(d&ne)===ne){ne!==0&&ne===ml&&(Sh=!0),de!==null&&(de=de.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ze=r,Oe=M;ne=a;var yt=l;switch(Oe.tag){case 1:if(ze=Oe.payload,typeof ze=="function"){ge=ze.call(yt,ge,ne);break e}ge=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Oe.payload,ne=typeof ze=="function"?ze.call(yt,ge,ne):ze,ne==null)break e;ge=x({},ge,ne);break e;case 2:oa=!0}}ne=M.callback,ne!==null&&(r.flags|=64,le&&(r.flags|=8192),le=g.callbacks,le===null?g.callbacks=[ne]:le.push(ne))}else le={lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},de===null?(te=de=le,q=ge):de=de.next=le,S|=ne;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;le=M,M=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);de===null&&(q=ge),g.baseState=q,g.firstBaseUpdate=te,g.lastBaseUpdate=de,y===null&&(g.shared.lanes=0),ya|=S,r.lanes=S,r.memoizedState=ge}}function fx(r,a){if(typeof r!="function")throw Error(s(191,r));r.call(a)}function hx(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)fx(l[r],a)}var gl=re(null),Fu=re(0);function mx(r,a){r=qs,E(Fu,r),E(gl,a),qs=r|a.baseLanes}function Ah(){E(Fu,qs),E(gl,gl.current)}function jh(){qs=Fu.current,J(gl),J(Fu)}var da=0,Ye=null,gt=null,Ht=null,qu=!1,xl=!1,Ti=!1,$u=0,Bo=0,yl=null,$4=0;function Ut(){throw Error(s(321))}function kh(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!nr(r[l],a[l]))return!1;return!0}function Ch(r,a,l,d,g,y){return da=y,Ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=r===null||r.memoizedState===null?Zx:Jx,Ti=!1,y=l(d,g),Ti=!1,xl&&(y=gx(a,l,d,g)),px(r),y}function px(r){Q.H=Ku;var a=gt!==null&&gt.next!==null;if(da=0,Ht=gt=Ye=null,qu=!1,Bo=0,yl=null,a)throw Error(s(300));r===null||un||(r=r.dependencies,r!==null&&Pu(r)&&(un=!0))}function gx(r,a,l,d){Ye=r;var g=0;do{if(xl&&(yl=null),Bo=0,xl=!1,25<=g)throw Error(s(301));if(g+=1,Ht=gt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=Z4,y=a(l,d)}while(xl);return y}function H4(){var r=Q.H,a=r.useState()[0];return a=typeof a.then=="function"?Fo(a):a,r=r.useState()[0],(gt!==null?gt.memoizedState:null)!==r&&(Ye.flags|=1024),a}function Rh(){var r=$u!==0;return $u=0,r}function Dh(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Ih(r){if(qu){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}qu=!1}da=0,Ht=gt=Ye=null,xl=!1,Bo=$u=0,yl=null}function Gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ye.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function Yt(){if(gt===null){var r=Ye.alternate;r=r!==null?r.memoizedState:null}else r=gt.next;var a=Ht===null?Ye.memoizedState:Ht.next;if(a!==null)Ht=a,gt=r;else{if(r===null)throw Ye.alternate===null?Error(s(467)):Error(s(310));gt=r,r={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Ht===null?Ye.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function Mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(r){var a=Bo;return Bo+=1,yl===null&&(yl=[]),r=cx(yl,r,a),a=Ye,(Ht===null?a.memoizedState:Ht.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?Zx:Jx),r}function Hu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Fo(r);if(r.$$typeof===B)return kn(r)}throw Error(s(438,String(r)))}function Oh(r){var a=null,l=Ye.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=Ye.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Mh(),Ye.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),d=0;d<r;d++)l[d]=k;return a.index++,l}function Ps(r,a){return typeof a=="function"?a(r):a}function Yu(r){var a=Yt();return Vh(a,gt,r)}function Vh(r,a,l){var d=r.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var g=r.baseQueue,y=d.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}a.baseQueue=g=y,d.pending=null}if(y=r.baseState,g===null)r.memoizedState=y;else{a=g.next;var M=S=null,q=null,te=a,de=!1;do{var ge=te.lane&-536870913;if(ge!==te.lane?(nt&ge)===ge:(da&ge)===ge){var ne=te.revertLane;if(ne===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ge===ml&&(de=!0);else if((da&ne)===ne){te=te.next,ne===ml&&(de=!0);continue}else ge={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},q===null?(M=q=ge,S=y):q=q.next=ge,Ye.lanes|=ne,ya|=ne;ge=te.action,Ti&&l(y,ge),y=te.hasEagerState?te.eagerState:l(y,ge)}else ne={lane:ge,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},q===null?(M=q=ne,S=y):q=q.next=ne,Ye.lanes|=ge,ya|=ge;te=te.next}while(te!==null&&te!==a);if(q===null?S=y:q.next=M,!nr(y,r.memoizedState)&&(un=!0,de&&(l=pl,l!==null)))throw l;r.memoizedState=y,r.baseState=S,r.baseQueue=q,d.lastRenderedState=y}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Ph(r){var a=Yt(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var d=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do y=r(y,S.action),S=S.next;while(S!==g);nr(y,a.memoizedState)||(un=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,d]}function xx(r,a,l){var d=Ye,g=Yt(),y=ct;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=a();var S=!nr((gt||g).memoizedState,l);S&&(g.memoizedState=l,un=!0),g=g.queue;var M=vx.bind(null,d,g,r);if(qo(2048,8,M,[r]),g.getSnapshot!==a||S||Ht!==null&&Ht.memoizedState.tag&1){if(d.flags|=2048,bl(9,Gu(),bx.bind(null,d,g,l,a),null),St===null)throw Error(s(349));y||(da&124)!==0||yx(d,a,l)}return l}function yx(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Ye.updateQueue,a===null?(a=Mh(),Ye.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function bx(r,a,l,d){a.value=l,a.getSnapshot=d,wx(a)&&_x(r)}function vx(r,a,l){return l(function(){wx(a)&&_x(r)})}function wx(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!nr(r,l)}catch{return!0}}function _x(r){var a=ul(r,2);a!==null&&or(a,r,2)}function Lh(r){var a=Gn();if(typeof r=="function"){var l=r;if(r=l(),Ti){Ce(!0);try{l()}finally{Ce(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:r},a}function Nx(r,a,l,d){return r.baseState=l,Vh(r,gt,typeof d=="function"?d:Ps)}function Y4(r,a,l,d,g){if(Xu(r))throw Error(s(485));if(r=a.action,r!==null){var y={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};Q.T!==null?l(!0):y.isTransition=!1,d(y),l=a.pending,l===null?(y.next=a.pending=y,Ex(a,y)):(y.next=l.next,a.pending=l.next=y)}}function Ex(r,a){var l=a.action,d=a.payload,g=r.state;if(a.isTransition){var y=Q.T,S={};Q.T=S;try{var M=l(g,d),q=Q.S;q!==null&&q(S,M),Tx(r,a,M)}catch(te){zh(r,a,te)}finally{Q.T=y}}else try{y=l(g,d),Tx(r,a,y)}catch(te){zh(r,a,te)}}function Tx(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Sx(r,a,d)},function(d){return zh(r,a,d)}):Sx(r,a,l)}function Sx(r,a,l){a.status="fulfilled",a.value=l,Ax(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,Ex(r,l)))}function zh(r,a,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,Ax(a),a=a.next;while(a!==d)}r.action=null}function Ax(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function jx(r,a){return a}function kx(r,a){if(ct){var l=St.formState;if(l!==null){e:{var d=Ye;if(ct){if(Vt){t:{for(var g=Vt,y=ts;g.nodeType!==8;){if(!y){g=null;break t}if(g=zr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Vt=zr(g.nextSibling),d=g.data==="F!";break e}}wi(d)}d=!1}d&&(a=l[0])}}return l=Gn(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jx,lastRenderedState:a},l.queue=d,l=Qx.bind(null,Ye,d),d.dispatch=l,d=Lh(!1),y=$h.bind(null,Ye,!1,d.queue),d=Gn(),g={state:a,dispatch:null,action:r,pending:null},d.queue=g,l=Y4.bind(null,Ye,g,y,l),g.dispatch=l,d.memoizedState=r,[a,l,!1]}function Cx(r){var a=Yt();return Rx(a,gt,r)}function Rx(r,a,l){if(a=Vh(r,a,jx)[0],r=Yu(Ps)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Fo(a)}catch(S){throw S===Vo?Uu:S}else d=a;a=Yt();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(Ye.flags|=2048,bl(9,Gu(),G4.bind(null,g,l),null)),[d,y,r]}function G4(r,a){r.action=a}function Dx(r){var a=Yt(),l=gt;if(l!==null)return Rx(a,l,r);Yt(),a=a.memoizedState,l=Yt();var d=l.queue.dispatch;return l.memoizedState=r,[a,d,!1]}function bl(r,a,l,d){return r={tag:r,create:l,deps:d,inst:a,next:null},a=Ye.updateQueue,a===null&&(a=Mh(),Ye.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,a.lastEffect=r),r}function Gu(){return{destroy:void 0,resource:void 0}}function Ix(){return Yt().memoizedState}function Qu(r,a,l,d){var g=Gn();d=d===void 0?null:d,Ye.flags|=r,g.memoizedState=bl(1|a,Gu(),l,d)}function qo(r,a,l,d){var g=Yt();d=d===void 0?null:d;var y=g.memoizedState.inst;gt!==null&&d!==null&&kh(d,gt.memoizedState.deps)?g.memoizedState=bl(a,y,l,d):(Ye.flags|=r,g.memoizedState=bl(1|a,y,l,d))}function Mx(r,a){Qu(8390656,8,r,a)}function Ox(r,a){qo(2048,8,r,a)}function Vx(r,a){return qo(4,2,r,a)}function Px(r,a){return qo(4,4,r,a)}function Lx(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function zx(r,a,l){l=l!=null?l.concat([r]):null,qo(4,4,Lx.bind(null,a,r),l)}function Uh(){}function Ux(r,a){var l=Yt();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&kh(a,d[1])?d[0]:(l.memoizedState=[r,a],r)}function Bx(r,a){var l=Yt();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&kh(a,d[1]))return d[0];if(d=r(),Ti){Ce(!0);try{r()}finally{Ce(!1)}}return l.memoizedState=[d,a],d}function Bh(r,a,l){return l===void 0||(da&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=$y(),Ye.lanes|=r,ya|=r,l)}function Fx(r,a,l,d){return nr(l,a)?l:gl.current!==null?(r=Bh(r,l,d),nr(r,a)||(un=!0),r):(da&42)===0?(un=!0,r.memoizedState=l):(r=$y(),Ye.lanes|=r,ya|=r,a)}function qx(r,a,l,d,g){var y=fe.p;fe.p=y!==0&&8>y?y:8;var S=Q.T,M={};Q.T=M,$h(r,!1,a,l);try{var q=g(),te=Q.S;if(te!==null&&te(M,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var de=q4(q,d);$o(r,a,de,lr(r))}else $o(r,a,d,lr(r))}catch(ge){$o(r,a,{then:function(){},status:"rejected",reason:ge},lr())}finally{fe.p=y,Q.T=S}}function Q4(){}function Fh(r,a,l,d){if(r.tag!==5)throw Error(s(476));var g=$x(r).queue;qx(r,g,a,ee,l===null?Q4:function(){return Hx(r),l(d)})}function $x(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:ee},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Hx(r){var a=$x(r).next.queue;$o(r,a,{},lr())}function qh(){return kn(oc)}function Yx(){return Yt().memoizedState}function Gx(){return Yt().memoizedState}function X4(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=lr();r=ca(l);var d=ua(a,r,l);d!==null&&(or(d,a,l),Lo(d,a,l)),a={cache:bh()},r.payload=a;return}a=a.return}}function K4(r,a,l){var d=lr();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(r)?Xx(a,l):(l=ch(r,a,l,d),l!==null&&(or(l,r,d),Kx(l,a,d)))}function Qx(r,a,l){var d=lr();$o(r,a,l,d)}function $o(r,a,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xu(r))Xx(a,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,M=y(S,l);if(g.hasEagerState=!0,g.eagerState=M,nr(M,S))return Du(r,a,g,0),St===null&&Ru(),!1}catch{}finally{}if(l=ch(r,a,g,d),l!==null)return or(l,r,d),Kx(l,a,d),!0}return!1}function $h(r,a,l,d){if(d={lane:2,revertLane:_m(),action:d,hasEagerState:!1,eagerState:null,next:null},Xu(r)){if(a)throw Error(s(479))}else a=ch(r,l,d,2),a!==null&&or(a,r,2)}function Xu(r){var a=r.alternate;return r===Ye||a!==null&&a===Ye}function Xx(r,a){xl=qu=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function Kx(r,a,l){if((l&4194048)!==0){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,Wa(r,l)}}var Ku={readContext:kn,use:Hu,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},Zx={readContext:kn,use:Hu,useCallback:function(r,a){return Gn().memoizedState=[r,a===void 0?null:a],r},useContext:kn,useEffect:Mx,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,Qu(4194308,4,Lx.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Qu(4194308,4,r,a)},useInsertionEffect:function(r,a){Qu(4,2,r,a)},useMemo:function(r,a){var l=Gn();a=a===void 0?null:a;var d=r();if(Ti){Ce(!0);try{r()}finally{Ce(!1)}}return l.memoizedState=[d,a],d},useReducer:function(r,a,l){var d=Gn();if(l!==void 0){var g=l(a);if(Ti){Ce(!0);try{l(a)}finally{Ce(!1)}}}else g=a;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=K4.bind(null,Ye,r),[d.memoizedState,r]},useRef:function(r){var a=Gn();return r={current:r},a.memoizedState=r},useState:function(r){r=Lh(r);var a=r.queue,l=Qx.bind(null,Ye,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:Uh,useDeferredValue:function(r,a){var l=Gn();return Bh(l,r,a)},useTransition:function(){var r=Lh(!1);return r=qx.bind(null,Ye,r.queue,!0,!1),Gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var d=Ye,g=Gn();if(ct){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),St===null)throw Error(s(349));(nt&124)!==0||yx(d,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,Mx(vx.bind(null,d,y,r),[r]),d.flags|=2048,bl(9,Gu(),bx.bind(null,d,y,l,a),null),l},useId:function(){var r=Gn(),a=St.identifierPrefix;if(ct){var l=Ms,d=Is;l=(d&~(1<<32-De(d)-1)).toString(32)+l,a=""+a+"R"+l,l=$u++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=$4++,a=""+a+"r"+l.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:qh,useFormState:kx,useActionState:kx,useOptimistic:function(r){var a=Gn();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=$h.bind(null,Ye,!0,l),l.dispatch=a,[r,a]},useMemoCache:Oh,useCacheRefresh:function(){return Gn().memoizedState=X4.bind(null,Ye)}},Jx={readContext:kn,use:Hu,useCallback:Ux,useContext:kn,useEffect:Ox,useImperativeHandle:zx,useInsertionEffect:Vx,useLayoutEffect:Px,useMemo:Bx,useReducer:Yu,useRef:Ix,useState:function(){return Yu(Ps)},useDebugValue:Uh,useDeferredValue:function(r,a){var l=Yt();return Fx(l,gt.memoizedState,r,a)},useTransition:function(){var r=Yu(Ps)[0],a=Yt().memoizedState;return[typeof r=="boolean"?r:Fo(r),a]},useSyncExternalStore:xx,useId:Yx,useHostTransitionStatus:qh,useFormState:Cx,useActionState:Cx,useOptimistic:function(r,a){var l=Yt();return Nx(l,gt,r,a)},useMemoCache:Oh,useCacheRefresh:Gx},Z4={readContext:kn,use:Hu,useCallback:Ux,useContext:kn,useEffect:Ox,useImperativeHandle:zx,useInsertionEffect:Vx,useLayoutEffect:Px,useMemo:Bx,useReducer:Ph,useRef:Ix,useState:function(){return Ph(Ps)},useDebugValue:Uh,useDeferredValue:function(r,a){var l=Yt();return gt===null?Bh(l,r,a):Fx(l,gt.memoizedState,r,a)},useTransition:function(){var r=Ph(Ps)[0],a=Yt().memoizedState;return[typeof r=="boolean"?r:Fo(r),a]},useSyncExternalStore:xx,useId:Yx,useHostTransitionStatus:qh,useFormState:Dx,useActionState:Dx,useOptimistic:function(r,a){var l=Yt();return gt!==null?Nx(l,gt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Oh,useCacheRefresh:Gx},vl=null,Ho=0;function Zu(r){var a=Ho;return Ho+=1,vl===null&&(vl=[]),cx(vl,r,a)}function Yo(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Ju(r,a){throw a.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Wx(r){var a=r._init;return a(r._payload)}function ey(r){function a(K,$){if(r){var W=K.deletions;W===null?(K.deletions=[$],K.flags|=16):W.push($)}}function l(K,$){if(!r)return null;for(;$!==null;)a(K,$),$=$.sibling;return null}function d(K){for(var $=new Map;K!==null;)K.key!==null?$.set(K.key,K):$.set(K.index,K),K=K.sibling;return $}function g(K,$){return K=Ds(K,$),K.index=0,K.sibling=null,K}function y(K,$,W){return K.index=W,r?(W=K.alternate,W!==null?(W=W.index,W<$?(K.flags|=67108866,$):W):(K.flags|=67108866,$)):(K.flags|=1048576,$)}function S(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function M(K,$,W,me){return $===null||$.tag!==6?($=dh(W,K.mode,me),$.return=K,$):($=g($,W),$.return=K,$)}function q(K,$,W,me){var ke=W.type;return ke===A?de(K,$,W.props.children,me,W.key):$!==null&&($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===j&&Wx(ke)===$.type)?($=g($,W.props),Yo($,W),$.return=K,$):($=Mu(W.type,W.key,W.props,null,K.mode,me),Yo($,W),$.return=K,$)}function te(K,$,W,me){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=fh(W,K.mode,me),$.return=K,$):($=g($,W.children||[]),$.return=K,$)}function de(K,$,W,me,ke){return $===null||$.tag!==7?($=xi(W,K.mode,me,ke),$.return=K,$):($=g($,W),$.return=K,$)}function ge(K,$,W){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=dh(""+$,K.mode,W),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return W=Mu($.type,$.key,$.props,null,K.mode,W),Yo(W,$),W.return=K,W;case _:return $=fh($,K.mode,W),$.return=K,$;case j:var me=$._init;return $=me($._payload),ge(K,$,W)}if(ye($)||O($))return $=xi($,K.mode,W,null),$.return=K,$;if(typeof $.then=="function")return ge(K,Zu($),W);if($.$$typeof===B)return ge(K,Lu(K,$),W);Ju(K,$)}return null}function ne(K,$,W,me){var ke=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ke!==null?null:M(K,$,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return W.key===ke?q(K,$,W,me):null;case _:return W.key===ke?te(K,$,W,me):null;case j:return ke=W._init,W=ke(W._payload),ne(K,$,W,me)}if(ye(W)||O(W))return ke!==null?null:de(K,$,W,me,null);if(typeof W.then=="function")return ne(K,$,Zu(W),me);if(W.$$typeof===B)return ne(K,$,Lu(K,W),me);Ju(K,W)}return null}function le(K,$,W,me,ke){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return K=K.get(W)||null,M($,K,""+me,ke);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case w:return K=K.get(me.key===null?W:me.key)||null,q($,K,me,ke);case _:return K=K.get(me.key===null?W:me.key)||null,te($,K,me,ke);case j:var Ge=me._init;return me=Ge(me._payload),le(K,$,W,me,ke)}if(ye(me)||O(me))return K=K.get(W)||null,de($,K,me,ke,null);if(typeof me.then=="function")return le(K,$,W,Zu(me),ke);if(me.$$typeof===B)return le(K,$,W,Lu($,me),ke);Ju($,me)}return null}function ze(K,$,W,me){for(var ke=null,Ge=null,Re=$,Ve=$=0,fn=null;Re!==null&&Ve<W.length;Ve++){Re.index>Ve?(fn=Re,Re=null):fn=Re.sibling;var lt=ne(K,Re,W[Ve],me);if(lt===null){Re===null&&(Re=fn);break}r&&Re&&lt.alternate===null&&a(K,Re),$=y(lt,$,Ve),Ge===null?ke=lt:Ge.sibling=lt,Ge=lt,Re=fn}if(Ve===W.length)return l(K,Re),ct&&bi(K,Ve),ke;if(Re===null){for(;Ve<W.length;Ve++)Re=ge(K,W[Ve],me),Re!==null&&($=y(Re,$,Ve),Ge===null?ke=Re:Ge.sibling=Re,Ge=Re);return ct&&bi(K,Ve),ke}for(Re=d(Re);Ve<W.length;Ve++)fn=le(Re,K,Ve,W[Ve],me),fn!==null&&(r&&fn.alternate!==null&&Re.delete(fn.key===null?Ve:fn.key),$=y(fn,$,Ve),Ge===null?ke=fn:Ge.sibling=fn,Ge=fn);return r&&Re.forEach(function(Aa){return a(K,Aa)}),ct&&bi(K,Ve),ke}function Oe(K,$,W,me){if(W==null)throw Error(s(151));for(var ke=null,Ge=null,Re=$,Ve=$=0,fn=null,lt=W.next();Re!==null&&!lt.done;Ve++,lt=W.next()){Re.index>Ve?(fn=Re,Re=null):fn=Re.sibling;var Aa=ne(K,Re,lt.value,me);if(Aa===null){Re===null&&(Re=fn);break}r&&Re&&Aa.alternate===null&&a(K,Re),$=y(Aa,$,Ve),Ge===null?ke=Aa:Ge.sibling=Aa,Ge=Aa,Re=fn}if(lt.done)return l(K,Re),ct&&bi(K,Ve),ke;if(Re===null){for(;!lt.done;Ve++,lt=W.next())lt=ge(K,lt.value,me),lt!==null&&($=y(lt,$,Ve),Ge===null?ke=lt:Ge.sibling=lt,Ge=lt);return ct&&bi(K,Ve),ke}for(Re=d(Re);!lt.done;Ve++,lt=W.next())lt=le(Re,K,Ve,lt.value,me),lt!==null&&(r&&lt.alternate!==null&&Re.delete(lt.key===null?Ve:lt.key),$=y(lt,$,Ve),Ge===null?ke=lt:Ge.sibling=lt,Ge=lt);return r&&Re.forEach(function(JN){return a(K,JN)}),ct&&bi(K,Ve),ke}function yt(K,$,W,me){if(typeof W=="object"&&W!==null&&W.type===A&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case w:e:{for(var ke=W.key;$!==null;){if($.key===ke){if(ke=W.type,ke===A){if($.tag===7){l(K,$.sibling),me=g($,W.props.children),me.return=K,K=me;break e}}else if($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===j&&Wx(ke)===$.type){l(K,$.sibling),me=g($,W.props),Yo(me,W),me.return=K,K=me;break e}l(K,$);break}else a(K,$);$=$.sibling}W.type===A?(me=xi(W.props.children,K.mode,me,W.key),me.return=K,K=me):(me=Mu(W.type,W.key,W.props,null,K.mode,me),Yo(me,W),me.return=K,K=me)}return S(K);case _:e:{for(ke=W.key;$!==null;){if($.key===ke)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){l(K,$.sibling),me=g($,W.children||[]),me.return=K,K=me;break e}else{l(K,$);break}else a(K,$);$=$.sibling}me=fh(W,K.mode,me),me.return=K,K=me}return S(K);case j:return ke=W._init,W=ke(W._payload),yt(K,$,W,me)}if(ye(W))return ze(K,$,W,me);if(O(W)){if(ke=O(W),typeof ke!="function")throw Error(s(150));return W=ke.call(W),Oe(K,$,W,me)}if(typeof W.then=="function")return yt(K,$,Zu(W),me);if(W.$$typeof===B)return yt(K,$,Lu(K,W),me);Ju(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,$!==null&&$.tag===6?(l(K,$.sibling),me=g($,W),me.return=K,K=me):(l(K,$),me=dh(W,K.mode,me),me.return=K,K=me),S(K)):l(K,$)}return function(K,$,W,me){try{Ho=0;var ke=yt(K,$,W,me);return vl=null,ke}catch(Re){if(Re===Vo||Re===Uu)throw Re;var Ge=rr(29,Re,null,K.mode);return Ge.lanes=me,Ge.return=K,Ge}finally{}}}var wl=ey(!0),ty=ey(!1),Er=re(null),ns=null;function fa(r){var a=r.alternate;E(nn,nn.current&1),E(Er,r),ns===null&&(a===null||gl.current!==null||a.memoizedState!==null)&&(ns=r)}function ny(r){if(r.tag===22){if(E(nn,nn.current),E(Er,r),ns===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(ns=r)}}else ha()}function ha(){E(nn,nn.current),E(Er,Er.current)}function Ls(r){J(Er),ns===r&&(ns=null),J(nn)}var nn=re(0);function Wu(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Mm(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Hh(r,a,l,d){a=r.memoizedState,l=l(d,a),l=l==null?a:x({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Yh={enqueueSetState:function(r,a,l){r=r._reactInternals;var d=lr(),g=ca(d);g.payload=a,l!=null&&(g.callback=l),a=ua(r,g,d),a!==null&&(or(a,r,d),Lo(a,r,d))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var d=lr(),g=ca(d);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=ua(r,g,d),a!==null&&(or(a,r,d),Lo(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=lr(),d=ca(l);d.tag=2,a!=null&&(d.callback=a),a=ua(r,d,l),a!==null&&(or(a,r,l),Lo(a,r,l))}};function ry(r,a,l,d,g,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,S):a.prototype&&a.prototype.isPureReactComponent?!jo(l,d)||!jo(g,y):!0}function sy(r,a,l,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==r&&Yh.enqueueReplaceState(a,a.state,null)}function Si(r,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(r=r.defaultProps){l===a&&(l=x({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}var ed=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function ay(r){ed(r)}function iy(r){console.error(r)}function ly(r){ed(r)}function td(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function oy(r,a,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Gh(r,a,l){return l=ca(l),l.tag=3,l.payload={element:null},l.callback=function(){td(r,a)},l}function cy(r){return r=ca(r),r.tag=3,r}function uy(r,a,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=d.value;r.payload=function(){return g(y)},r.callback=function(){oy(a,l,d)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){oy(a,l,d),typeof g!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function J4(r,a,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&Io(a,l,g,!0),l=Er.current,l!==null){switch(l.tag){case 13:return ns===null?xm():l.alternate===null&&Pt===0&&(Pt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===_h?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),bm(r,d,g)),!1;case 22:return l.flags|=65536,d===_h?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),bm(r,d,g)),!1}throw Error(s(435,l.tag))}return bm(r,d,g),xm(),!1}if(ct)return a=Er.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==ph&&(r=Error(s(422),{cause:d}),Do(vr(r,l)))):(d!==ph&&(a=Error(s(423),{cause:d}),Do(vr(a,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=vr(d,l),g=Gh(r.stateNode,d,g),Th(r,g),Pt!==4&&(Pt=2)),!1;var y=Error(s(520),{cause:d});if(y=vr(y,l),Wo===null?Wo=[y]:Wo.push(y),Pt!==4&&(Pt=2),a===null)return!0;d=vr(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=Gh(l.stateNode,d,r),Th(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ba===null||!ba.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=cy(g),uy(g,r,l,d),Th(l,g),!1}l=l.return}while(l!==null);return!1}var dy=Error(s(461)),un=!1;function vn(r,a,l,d){a.child=r===null?ty(a,null,l,d):wl(a,r.child,l,d)}function fy(r,a,l,d,g){l=l.render;var y=a.ref;if("ref"in d){var S={};for(var M in d)M!=="ref"&&(S[M]=d[M])}else S=d;return Ni(a),d=Ch(r,a,l,S,y,g),M=Rh(),r!==null&&!un?(Dh(r,a,g),zs(r,a,g)):(ct&&M&&hh(a),a.flags|=1,vn(r,a,d,g),a.child)}function hy(r,a,l,d,g){if(r===null){var y=l.type;return typeof y=="function"&&!uh(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,my(r,a,y,d,g)):(r=Mu(l.type,null,d,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!tm(r,g)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:jo,l(S,d)&&r.ref===a.ref)return zs(r,a,g)}return a.flags|=1,r=Ds(y,d),r.ref=a.ref,r.return=a,a.child=r}function my(r,a,l,d,g){if(r!==null){var y=r.memoizedProps;if(jo(y,d)&&r.ref===a.ref)if(un=!1,a.pendingProps=d=y,tm(r,g))(r.flags&131072)!==0&&(un=!0);else return a.lanes=r.lanes,zs(r,a,g)}return Qh(r,a,l,d,g)}function py(r,a,l){var d=a.pendingProps,g=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=y!==null?y.baseLanes|l:l,r!==null){for(g=a.child=r.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~d}else a.childLanes=0,a.child=null;return gy(r,a,d,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&zu(a,y!==null?y.cachePool:null),y!==null?mx(a,y):Ah(),ny(a);else return a.lanes=a.childLanes=536870912,gy(r,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(zu(a,y.cachePool),mx(a,y),ha(),a.memoizedState=null):(r!==null&&zu(a,null),Ah(),ha());return vn(r,a,g,l),a.child}function gy(r,a,l,d){var g=wh();return g=g===null?null:{parent:tn._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},r!==null&&zu(a,null),Ah(),ny(a),r!==null&&Io(r,a,d,!0),null}function nd(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Qh(r,a,l,d,g){return Ni(a),l=Ch(r,a,l,d,void 0,g),d=Rh(),r!==null&&!un?(Dh(r,a,g),zs(r,a,g)):(ct&&d&&hh(a),a.flags|=1,vn(r,a,l,g),a.child)}function xy(r,a,l,d,g,y){return Ni(a),a.updateQueue=null,l=gx(a,d,l,g),px(r),d=Rh(),r!==null&&!un?(Dh(r,a,y),zs(r,a,y)):(ct&&d&&hh(a),a.flags|=1,vn(r,a,l,y),a.child)}function yy(r,a,l,d,g){if(Ni(a),a.stateNode===null){var y=dl,S=l.contextType;typeof S=="object"&&S!==null&&(y=kn(S)),y=new l(d,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Yh,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=d,y.state=a.memoizedState,y.refs={},Nh(a),S=l.contextType,y.context=typeof S=="object"&&S!==null?kn(S):dl,y.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Hh(a,l,S,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Yh.enqueueReplaceState(y,y.state,null),Uo(a,d,y,g),zo(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){y=a.stateNode;var M=a.memoizedProps,q=Si(l,M);y.props=q;var te=y.context,de=l.contextType;S=dl,typeof de=="object"&&de!==null&&(S=kn(de));var ge=l.getDerivedStateFromProps;de=typeof ge=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||te!==S)&&sy(a,y,d,S),oa=!1;var ne=a.memoizedState;y.state=ne,Uo(a,d,y,g),zo(),te=a.memoizedState,M||ne!==te||oa?(typeof ge=="function"&&(Hh(a,l,ge,d),te=a.memoizedState),(q=oa||ry(a,l,q,d,ne,te,S))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=te),y.props=d,y.state=te,y.context=S,d=q):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{y=a.stateNode,Eh(r,a),S=a.memoizedProps,de=Si(l,S),y.props=de,ge=a.pendingProps,ne=y.context,te=l.contextType,q=dl,typeof te=="object"&&te!==null&&(q=kn(te)),M=l.getDerivedStateFromProps,(te=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ge||ne!==q)&&sy(a,y,d,q),oa=!1,ne=a.memoizedState,y.state=ne,Uo(a,d,y,g),zo();var le=a.memoizedState;S!==ge||ne!==le||oa||r!==null&&r.dependencies!==null&&Pu(r.dependencies)?(typeof M=="function"&&(Hh(a,l,M,d),le=a.memoizedState),(de=oa||ry(a,l,de,d,ne,le,q)||r!==null&&r.dependencies!==null&&Pu(r.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,le,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,le,q)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&ne===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&ne===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=le),y.props=d,y.state=le,y.context=q,d=de):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&ne===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&ne===r.memoizedState||(a.flags|=1024),d=!1)}return y=d,nd(r,a),d=(a.flags&128)!==0,y||d?(y=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&d?(a.child=wl(a,r.child,null,g),a.child=wl(a,null,l,g)):vn(r,a,l,g),a.memoizedState=y.state,r=a.child):r=zs(r,a,g),r}function by(r,a,l,d){return Ro(),a.flags|=256,vn(r,a,l,d),a.child}var Xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(r){return{baseLanes:r,cachePool:ix()}}function Zh(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Tr),r}function vy(r,a,l){var d=a.pendingProps,g=!1,y=(a.flags&128)!==0,S;if((S=y)||(S=r!==null&&r.memoizedState===null?!1:(nn.current&2)!==0),S&&(g=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(ct){if(g?fa(a):ha(),ct){var M=Vt,q;if(q=M){e:{for(q=M,M=ts;q.nodeType!==8;){if(!M){M=null;break e}if(q=zr(q.nextSibling),q===null){M=null;break e}}M=q}M!==null?(a.memoizedState={dehydrated:M,treeContext:yi!==null?{id:Is,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},q=rr(18,null,null,0),q.stateNode=M,q.return=a,a.child=q,Un=a,Vt=null,q=!0):q=!1}q||wi(a)}if(M=a.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Mm(M)?a.lanes=32:a.lanes=536870912,null;Ls(a)}return M=d.children,d=d.fallback,g?(ha(),g=a.mode,M=rd({mode:"hidden",children:M},g),d=xi(d,g,l,null),M.return=a,d.return=a,M.sibling=d,a.child=M,g=a.child,g.memoizedState=Kh(l),g.childLanes=Zh(r,S,l),a.memoizedState=Xh,d):(fa(a),Jh(a,M))}if(q=r.memoizedState,q!==null&&(M=q.dehydrated,M!==null)){if(y)a.flags&256?(fa(a),a.flags&=-257,a=Wh(r,a,l)):a.memoizedState!==null?(ha(),a.child=r.child,a.flags|=128,a=null):(ha(),g=d.fallback,M=a.mode,d=rd({mode:"visible",children:d.children},M),g=xi(g,M,l,null),g.flags|=2,d.return=a,g.return=a,d.sibling=g,a.child=d,wl(a,r.child,null,l),d=a.child,d.memoizedState=Kh(l),d.childLanes=Zh(r,S,l),a.memoizedState=Xh,a=g);else if(fa(a),Mm(M)){if(S=M.nextSibling&&M.nextSibling.dataset,S)var te=S.dgst;S=te,d=Error(s(419)),d.stack="",d.digest=S,Do({value:d,source:null,stack:null}),a=Wh(r,a,l)}else if(un||Io(r,a,l,!1),S=(l&r.childLanes)!==0,un||S){if(S=St,S!==null&&(d=l&-l,d=(d&42)!==0?1:Mr(d),d=(d&(S.suspendedLanes|l))!==0?0:d,d!==0&&d!==q.retryLane))throw q.retryLane=d,ul(r,d),or(S,r,d),dy;M.data==="$?"||xm(),a=Wh(r,a,l)}else M.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=q.treeContext,Vt=zr(M.nextSibling),Un=a,ct=!0,vi=null,ts=!1,r!==null&&(_r[Nr++]=Is,_r[Nr++]=Ms,_r[Nr++]=yi,Is=r.id,Ms=r.overflow,yi=a),a=Jh(a,d.children),a.flags|=4096);return a}return g?(ha(),g=d.fallback,M=a.mode,q=r.child,te=q.sibling,d=Ds(q,{mode:"hidden",children:d.children}),d.subtreeFlags=q.subtreeFlags&65011712,te!==null?g=Ds(te,g):(g=xi(g,M,l,null),g.flags|=2),g.return=a,d.return=a,d.sibling=g,a.child=d,d=g,g=a.child,M=r.child.memoizedState,M===null?M=Kh(l):(q=M.cachePool,q!==null?(te=tn._currentValue,q=q.parent!==te?{parent:te,pool:te}:q):q=ix(),M={baseLanes:M.baseLanes|l,cachePool:q}),g.memoizedState=M,g.childLanes=Zh(r,S,l),a.memoizedState=Xh,d):(fa(a),l=r.child,r=l.sibling,l=Ds(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=l,a.memoizedState=null,l)}function Jh(r,a){return a=rd({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function rd(r,a){return r=rr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Wh(r,a,l){return wl(a,r.child,null,l),r=Jh(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function wy(r,a,l){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),xh(r.return,a,l)}function em(r,a,l,d,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=g)}function _y(r,a,l){var d=a.pendingProps,g=d.revealOrder,y=d.tail;if(vn(r,a,d.children,l),d=nn.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&wy(r,l,a);else if(r.tag===19)wy(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(E(nn,d),g){case"forwards":for(l=a.child,g=null;l!==null;)r=l.alternate,r!==null&&Wu(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),em(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&Wu(r)===null){a.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}em(a,!0,l,null,y);break;case"together":em(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function zs(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),ya|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(Io(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,l=Ds(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Ds(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function tm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Pu(r)))}function W4(r,a,l){switch(a.tag){case 3:Te(a,a.stateNode.containerInfo),la(a,tn,r.memoizedState.cache),Ro();break;case 27:case 5:ot(a);break;case 4:Te(a,a.stateNode.containerInfo);break;case 10:la(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(fa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?vy(r,a,l):(fa(a),r=zs(r,a,l),r!==null?r.sibling:null);fa(a);break;case 19:var g=(r.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(Io(r,a,l,!1),d=(l&a.childLanes)!==0),g){if(d)return _y(r,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),E(nn,nn.current),d)break;return null;case 22:case 23:return a.lanes=0,py(r,a,l);case 24:la(a,tn,r.memoizedState.cache)}return zs(r,a,l)}function Ny(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)un=!0;else{if(!tm(r,l)&&(a.flags&128)===0)return un=!1,W4(r,a,l);un=(r.flags&131072)!==0}else un=!1,ct&&(a.flags&1048576)!==0&&Wg(a,Vu,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var d=a.elementType,g=d._init;if(d=g(d._payload),a.type=d,typeof d=="function")uh(d)?(r=Si(d,r),a.tag=1,a=yy(null,a,d,r,l)):(a.tag=0,a=Qh(null,a,d,r,l));else{if(d!=null){if(g=d.$$typeof,g===H){a.tag=11,a=fy(null,a,d,r,l);break e}else if(g===I){a.tag=14,a=hy(null,a,d,r,l);break e}}throw a=se(d)||d,Error(s(306,a,""))}}return a;case 0:return Qh(r,a,a.type,a.pendingProps,l);case 1:return d=a.type,g=Si(d,a.pendingProps),yy(r,a,d,g,l);case 3:e:{if(Te(a,a.stateNode.containerInfo),r===null)throw Error(s(387));d=a.pendingProps;var y=a.memoizedState;g=y.element,Eh(r,a),Uo(a,d,null,l);var S=a.memoizedState;if(d=S.cache,la(a,tn,d),d!==y.cache&&yh(a,[tn],l,!0),zo(),d=S.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=by(r,a,d,l);break e}else if(d!==g){g=vr(Error(s(424)),a),Do(g),a=by(r,a,d,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Vt=zr(r.firstChild),Un=a,ct=!0,vi=null,ts=!0,l=ty(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ro(),d===g){a=zs(r,a,l);break e}vn(r,a,d,l)}a=a.child}return a;case 26:return nd(r,a),r===null?(l=A1(a.type,null,a.pendingProps,null))?a.memoizedState=l:ct||(l=a.type,r=a.pendingProps,d=xd(ae.current).createElement(l),d[Tt]=a,d[ce]=r,_n(d,l,r),zt(d),a.stateNode=d):a.memoizedState=A1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return ot(a),r===null&&ct&&(d=a.stateNode=E1(a.type,a.pendingProps,ae.current),Un=a,ts=!0,g=Vt,_a(a.type)?(Om=g,Vt=zr(d.firstChild)):Vt=g),vn(r,a,a.pendingProps.children,l),nd(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&ct&&((g=d=Vt)&&(d=AN(d,a.type,a.pendingProps,ts),d!==null?(a.stateNode=d,Un=a,Vt=zr(d.firstChild),ts=!1,g=!0):g=!1),g||wi(a)),ot(a),g=a.type,y=a.pendingProps,S=r!==null?r.memoizedProps:null,d=y.children,Rm(g,y)?d=null:S!==null&&Rm(g,S)&&(a.flags|=32),a.memoizedState!==null&&(g=Ch(r,a,H4,null,null,l),oc._currentValue=g),nd(r,a),vn(r,a,d,l),a.child;case 6:return r===null&&ct&&((r=l=Vt)&&(l=jN(l,a.pendingProps,ts),l!==null?(a.stateNode=l,Un=a,Vt=null,r=!0):r=!1),r||wi(a)),null;case 13:return vy(r,a,l);case 4:return Te(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=wl(a,null,d,l):vn(r,a,d,l),a.child;case 11:return fy(r,a,a.type,a.pendingProps,l);case 7:return vn(r,a,a.pendingProps,l),a.child;case 8:return vn(r,a,a.pendingProps.children,l),a.child;case 12:return vn(r,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,la(a,a.type,d.value),vn(r,a,d.children,l),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,Ni(a),g=kn(g),d=d(g),a.flags|=1,vn(r,a,d,l),a.child;case 14:return hy(r,a,a.type,a.pendingProps,l);case 15:return my(r,a,a.type,a.pendingProps,l);case 19:return _y(r,a,l);case 31:return d=a.pendingProps,l=a.mode,d={mode:d.mode,children:d.children},r===null?(l=rd(d,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ds(r.child,d),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return py(r,a,l);case 24:return Ni(a),d=kn(tn),r===null?(g=wh(),g===null&&(g=St,y=bh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:d,cache:g},Nh(a),la(a,tn,g)):((r.lanes&l)!==0&&(Eh(r,a),Uo(a,null,null,l),zo()),g=r.memoizedState,y=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),la(a,tn,d)):(d=y.cache,la(a,tn,d),d!==g.cache&&yh(a,[tn],l,!0))),vn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Us(r){r.flags|=4}function Ey(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!D1(a)){if(a=Er.current,a!==null&&((nt&4194048)===nt?ns!==null:(nt&62914560)!==nt&&(nt&536870912)===0||a!==ns))throw Po=_h,lx;r.flags|=8192}}function sd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Za():536870912,r.lanes|=a,Tl|=a)}function Go(r,a){if(!ct)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function It(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(a)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=l,a}function eN(r,a,l){var d=a.pendingProps;switch(mh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(a),null;case 1:return It(a),null;case 3:return l=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Vs(tn),it(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Co(a)?Us(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,nx())),It(a),null;case 26:return l=a.memoizedState,r===null?(Us(a),l!==null?(It(a),Ey(a,l)):(It(a),a.flags&=-16777217)):l?l!==r.memoizedState?(Us(a),It(a),Ey(a,l)):(It(a),a.flags&=-16777217):(r.memoizedProps!==d&&Us(a),It(a),a.flags&=-16777217),null;case 27:ft(a),l=ae.current;var g=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Us(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return It(a),null}r=Y.current,Co(a)?ex(a):(r=E1(g,d,l),a.stateNode=r,Us(a))}return It(a),null;case 5:if(ft(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Us(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return It(a),null}if(r=Y.current,Co(a))ex(a);else{switch(g=xd(ae.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}r[Tt]=a,r[ce]=d;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=r;e:switch(_n(r,l,d),l){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Us(a)}}return It(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&Us(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(r=ae.current,Co(a)){if(r=a.stateNode,l=a.memoizedProps,d=null,g=Un,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[Tt]=a,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||x1(r.nodeValue,l)),r||wi(a)}else r=xd(r).createTextNode(d),r[Tt]=a,a.stateNode=r}return It(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Co(a),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Tt]=a}else Ro(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),g=!1}else g=nx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Ls(a),a):(Ls(a),null)}if(Ls(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=d!==null,r=r!==null&&r.memoizedState!==null,l){d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),sd(a,a.updateQueue),It(a),null;case 4:return it(),r===null&&Sm(a.stateNode.containerInfo),It(a),null;case 10:return Vs(a.type),It(a),null;case 19:if(J(nn),g=a.memoizedState,g===null)return It(a),null;if(d=(a.flags&128)!==0,y=g.rendering,y===null)if(d)Go(g,!1);else{if(Pt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Wu(r),y!==null){for(a.flags|=128,Go(g,!1),r=y.updateQueue,a.updateQueue=r,sd(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)Jg(l,r),l=l.sibling;return E(nn,nn.current&1|2),a.child}r=r.sibling}g.tail!==null&&Nt()>ld&&(a.flags|=128,d=!0,Go(g,!1),a.lanes=4194304)}else{if(!d)if(r=Wu(y),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,sd(a,r),Go(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!ct)return It(a),null}else 2*Nt()-g.renderingStartTime>ld&&l!==536870912&&(a.flags|=128,d=!0,Go(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(r=g.last,r!==null?r.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Nt(),a.sibling=null,r=nn.current,E(nn,d?r&1|2:r&1),a):(It(a),null);case 22:case 23:return Ls(a),jh(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(It(a),a.subtreeFlags&6&&(a.flags|=8192)):It(a),l=a.updateQueue,l!==null&&sd(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),r!==null&&J(Ei),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Vs(tn),It(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function tN(r,a){switch(mh(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Vs(tn),it(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return ft(a),null;case 13:if(Ls(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Ro()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return J(nn),null;case 4:return it(),null;case 10:return Vs(a.type),null;case 22:case 23:return Ls(a),jh(),r!==null&&J(Ei),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Vs(tn),null;case 25:return null;default:return null}}function Ty(r,a){switch(mh(a),a.tag){case 3:Vs(tn),it();break;case 26:case 27:case 5:ft(a);break;case 4:it();break;case 13:Ls(a);break;case 19:J(nn);break;case 10:Vs(a.type);break;case 22:case 23:Ls(a),jh(),r!==null&&J(Ei);break;case 24:Vs(tn)}}function Qo(r,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&r)===r){d=void 0;var y=l.create,S=l.inst;d=y(),S.destroy=d}l=l.next}while(l!==g)}}catch(M){wt(a,a.return,M)}}function ma(r,a,l){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&r)===r){var S=d.inst,M=S.destroy;if(M!==void 0){S.destroy=void 0,g=a;var q=l,te=M;try{te()}catch(de){wt(g,q,de)}}}d=d.next}while(d!==y)}}catch(de){wt(a,a.return,de)}}function Sy(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{hx(a,l)}catch(d){wt(r,r.return,d)}}}function Ay(r,a,l){l.props=Si(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){wt(r,a,d)}}function Xo(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(g){wt(r,a,g)}}function rs(r,a){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){wt(r,a,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){wt(r,a,g)}else l.current=null}function jy(r){var a=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){wt(r,r.return,g)}}function nm(r,a,l){try{var d=r.stateNode;_N(d,r.type,l,a),d[ce]=a}catch(g){wt(r,r.return,g)}}function ky(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_a(r.type)||r.tag===4}function rm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ky(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_a(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sm(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=gd));else if(d!==4&&(d===27&&_a(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(sm(r,a,l),r=r.sibling;r!==null;)sm(r,a,l),r=r.sibling}function ad(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(d!==4&&(d===27&&_a(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(ad(r,a,l),r=r.sibling;r!==null;)ad(r,a,l),r=r.sibling}function Cy(r){var a=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);_n(a,d,l),a[Tt]=r,a[ce]=l}catch(y){wt(r,r.return,y)}}var Bs=!1,Bt=!1,am=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,dn=null;function nN(r,a){if(r=r.containerInfo,km=Nd,r=Fg(r),rh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,M=-1,q=-1,te=0,de=0,ge=r,ne=null;t:for(;;){for(var le;ge!==l||g!==0&&ge.nodeType!==3||(M=S+g),ge!==y||d!==0&&ge.nodeType!==3||(q=S+d),ge.nodeType===3&&(S+=ge.nodeValue.length),(le=ge.firstChild)!==null;)ne=ge,ge=le;for(;;){if(ge===r)break t;if(ne===l&&++te===g&&(M=S),ne===y&&++de===d&&(q=S),(le=ge.nextSibling)!==null)break;ge=ne,ne=ge.parentNode}ge=le}l=M===-1||q===-1?null:{start:M,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cm={focusedElem:r,selectionRange:l},Nd=!1,dn=a;dn!==null;)if(a=dn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,dn=r;else for(;dn!==null;){switch(a=dn,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,d=l.stateNode;try{var ze=Si(l.type,g,l.elementType===l.type);r=d.getSnapshotBeforeUpdate(ze,y),d.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){wt(l,l.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)Im(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Im(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=a.sibling,r!==null){r.return=a.return,dn=r;break}dn=a.return}}function Dy(r,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:pa(r,l),d&4&&Qo(5,l);break;case 1:if(pa(r,l),d&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(S){wt(l,l.return,S)}else{var g=Si(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(g,a,r.__reactInternalSnapshotBeforeUpdate)}catch(S){wt(l,l.return,S)}}d&64&&Sy(l),d&512&&Xo(l,l.return);break;case 3:if(pa(r,l),d&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{hx(r,a)}catch(S){wt(l,l.return,S)}}break;case 27:a===null&&d&4&&Cy(l);case 26:case 5:pa(r,l),a===null&&d&4&&jy(l),d&512&&Xo(l,l.return);break;case 12:pa(r,l);break;case 13:pa(r,l),d&4&&Oy(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=dN.bind(null,l),kN(r,l))));break;case 22:if(d=l.memoizedState!==null||Bs,!d){a=a!==null&&a.memoizedState!==null||Bt,g=Bs;var y=Bt;Bs=d,(Bt=a)&&!y?ga(r,l,(l.subtreeFlags&8772)!==0):pa(r,l),Bs=g,Bt=y}break;case 30:break;default:pa(r,l)}}function Iy(r){var a=r.alternate;a!==null&&(r.alternate=null,Iy(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ra(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Dt=null,Qn=!1;function Fs(r,a,l){for(l=l.child;l!==null;)My(r,a,l),l=l.sibling}function My(r,a,l){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(ie,l)}catch{}switch(l.tag){case 26:Bt||rs(l,a),Fs(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bt||rs(l,a);var d=Dt,g=Qn;_a(l.type)&&(Dt=l.stateNode,Qn=!1),Fs(r,a,l),sc(l.stateNode),Dt=d,Qn=g;break;case 5:Bt||rs(l,a);case 6:if(d=Dt,g=Qn,Dt=null,Fs(r,a,l),Dt=d,Qn=g,Dt!==null)if(Qn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(l.stateNode)}catch(y){wt(l,a,y)}else try{Dt.removeChild(l.stateNode)}catch(y){wt(l,a,y)}break;case 18:Dt!==null&&(Qn?(r=Dt,_1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),fc(r)):_1(Dt,l.stateNode));break;case 4:d=Dt,g=Qn,Dt=l.stateNode.containerInfo,Qn=!0,Fs(r,a,l),Dt=d,Qn=g;break;case 0:case 11:case 14:case 15:Bt||ma(2,l,a),Bt||ma(4,l,a),Fs(r,a,l);break;case 1:Bt||(rs(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Ay(l,a,d)),Fs(r,a,l);break;case 21:Fs(r,a,l);break;case 22:Bt=(d=Bt)||l.memoizedState!==null,Fs(r,a,l),Bt=d;break;default:Fs(r,a,l)}}function Oy(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fc(r)}catch(l){wt(a,a.return,l)}}function rN(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Ry),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Ry),a;default:throw Error(s(435,r.tag))}}function im(r,a){var l=rN(r);a.forEach(function(d){var g=fN.bind(null,r,d);l.has(d)||(l.add(d),d.then(g,g))})}function sr(r,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],y=r,S=a,M=S;e:for(;M!==null;){switch(M.tag){case 27:if(_a(M.type)){Dt=M.stateNode,Qn=!1;break e}break;case 5:Dt=M.stateNode,Qn=!1;break e;case 3:case 4:Dt=M.stateNode.containerInfo,Qn=!0;break e}M=M.return}if(Dt===null)throw Error(s(160));My(y,S,g),Dt=null,Qn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Vy(a,r),a=a.sibling}var Lr=null;function Vy(r,a){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:sr(a,r),ar(r),d&4&&(ma(3,r,r.return),Qo(3,r),ma(5,r,r.return));break;case 1:sr(a,r),ar(r),d&512&&(Bt||l===null||rs(l,l.return)),d&64&&Bs&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=Lr;if(sr(a,r),ar(r),d&512&&(Bt||l===null||rs(l,l.return)),d&4){var y=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ti]||y[Tt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(d),g.head.insertBefore(y,g.querySelector("head > title"))),_n(y,d,l),y[Tt]=r,zt(y),d=y;break e;case"link":var S=C1("link","href",g).get(d+(l.href||""));if(S){for(var M=0;M<S.length;M++)if(y=S[M],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(M,1);break t}}y=g.createElement(d),_n(y,d,l),g.head.appendChild(y);break;case"meta":if(S=C1("meta","content",g).get(d+(l.content||""))){for(M=0;M<S.length;M++)if(y=S[M],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(M,1);break t}}y=g.createElement(d),_n(y,d,l),g.head.appendChild(y);break;default:throw Error(s(468,d))}y[Tt]=r,zt(y),d=y}r.stateNode=d}else R1(g,r.type,r.stateNode);else r.stateNode=k1(g,d,r.memoizedProps);else y!==d?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,d===null?R1(g,r.type,r.stateNode):k1(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&nm(r,r.memoizedProps,l.memoizedProps)}break;case 27:sr(a,r),ar(r),d&512&&(Bt||l===null||rs(l,l.return)),l!==null&&d&4&&nm(r,r.memoizedProps,l.memoizedProps);break;case 5:if(sr(a,r),ar(r),d&512&&(Bt||l===null||rs(l,l.return)),r.flags&32){g=r.stateNode;try{gr(g,"")}catch(le){wt(r,r.return,le)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,nm(r,g,l!==null?l.memoizedProps:g)),d&1024&&(am=!0);break;case 6:if(sr(a,r),ar(r),d&4){if(r.stateNode===null)throw Error(s(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(le){wt(r,r.return,le)}}break;case 3:if(vd=null,g=Lr,Lr=yd(a.containerInfo),sr(a,r),Lr=g,ar(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{fc(a.containerInfo)}catch(le){wt(r,r.return,le)}am&&(am=!1,Py(r));break;case 4:d=Lr,Lr=yd(r.stateNode.containerInfo),sr(a,r),ar(r),Lr=d;break;case 12:sr(a,r),ar(r);break;case 13:sr(a,r),ar(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fm=Nt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,im(r,d)));break;case 22:g=r.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,te=Bs,de=Bt;if(Bs=te||g,Bt=de||q,sr(a,r),Bt=de,Bs=te,ar(r),d&8192)e:for(a=r.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||q||Bs||Bt||Ai(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){q=l=a;try{if(y=q.stateNode,g)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{M=q.stateNode;var ge=q.memoizedProps.style,ne=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;M.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(le){wt(q,q.return,le)}}}else if(a.tag===6){if(l===null){q=a;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(le){wt(q,q.return,le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,im(r,l))));break;case 19:sr(a,r),ar(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,im(r,d)));break;case 30:break;case 21:break;default:sr(a,r),ar(r)}}function ar(r){var a=r.flags;if(a&2){try{for(var l,d=r.return;d!==null;){if(ky(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,y=rm(r);ad(r,y,g);break;case 5:var S=l.stateNode;l.flags&32&&(gr(S,""),l.flags&=-33);var M=rm(r);ad(r,M,S);break;case 3:case 4:var q=l.stateNode.containerInfo,te=rm(r);sm(r,te,q);break;default:throw Error(s(161))}}catch(de){wt(r,r.return,de)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Py(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Py(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function pa(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Dy(r,a.alternate,a),a=a.sibling}function Ai(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ma(4,a,a.return),Ai(a);break;case 1:rs(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Ay(a,a.return,l),Ai(a);break;case 27:sc(a.stateNode);case 26:case 5:rs(a,a.return),Ai(a);break;case 22:a.memoizedState===null&&Ai(a);break;case 30:Ai(a);break;default:Ai(a)}r=r.sibling}}function ga(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,g=r,y=a,S=y.flags;switch(y.tag){case 0:case 11:case 15:ga(g,y,l),Qo(4,y);break;case 1:if(ga(g,y,l),d=y,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){wt(d,d.return,te)}if(d=y,g=d.updateQueue,g!==null){var M=d.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)fx(q[g],M)}catch(te){wt(d,d.return,te)}}l&&S&64&&Sy(y),Xo(y,y.return);break;case 27:Cy(y);case 26:case 5:ga(g,y,l),l&&d===null&&S&4&&jy(y),Xo(y,y.return);break;case 12:ga(g,y,l);break;case 13:ga(g,y,l),l&&S&4&&Oy(g,y);break;case 22:y.memoizedState===null&&ga(g,y,l),Xo(y,y.return);break;case 30:break;default:ga(g,y,l)}a=a.sibling}}function lm(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Mo(l))}function om(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Mo(r))}function ss(r,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ly(r,a,l,d),a=a.sibling}function Ly(r,a,l,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:ss(r,a,l,d),g&2048&&Qo(9,a);break;case 1:ss(r,a,l,d);break;case 3:ss(r,a,l,d),g&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Mo(r)));break;case 12:if(g&2048){ss(r,a,l,d),r=a.stateNode;try{var y=a.memoizedProps,S=y.id,M=y.onPostCommit;typeof M=="function"&&M(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){wt(a,a.return,q)}}else ss(r,a,l,d);break;case 13:ss(r,a,l,d);break;case 23:break;case 22:y=a.stateNode,S=a.alternate,a.memoizedState!==null?y._visibility&2?ss(r,a,l,d):Ko(r,a):y._visibility&2?ss(r,a,l,d):(y._visibility|=2,_l(r,a,l,d,(a.subtreeFlags&10256)!==0)),g&2048&&lm(S,a);break;case 24:ss(r,a,l,d),g&2048&&om(a.alternate,a);break;default:ss(r,a,l,d)}}function _l(r,a,l,d,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,S=a,M=l,q=d,te=S.flags;switch(S.tag){case 0:case 11:case 15:_l(y,S,M,q,g),Qo(8,S);break;case 23:break;case 22:var de=S.stateNode;S.memoizedState!==null?de._visibility&2?_l(y,S,M,q,g):Ko(y,S):(de._visibility|=2,_l(y,S,M,q,g)),g&&te&2048&&lm(S.alternate,S);break;case 24:_l(y,S,M,q,g),g&&te&2048&&om(S.alternate,S);break;default:_l(y,S,M,q,g)}a=a.sibling}}function Ko(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,d=a,g=d.flags;switch(d.tag){case 22:Ko(l,d),g&2048&&lm(d.alternate,d);break;case 24:Ko(l,d),g&2048&&om(d.alternate,d);break;default:Ko(l,d)}a=a.sibling}}var Zo=8192;function Nl(r){if(r.subtreeFlags&Zo)for(r=r.child;r!==null;)zy(r),r=r.sibling}function zy(r){switch(r.tag){case 26:Nl(r),r.flags&Zo&&r.memoizedState!==null&&FN(Lr,r.memoizedState,r.memoizedProps);break;case 5:Nl(r);break;case 3:case 4:var a=Lr;Lr=yd(r.stateNode.containerInfo),Nl(r),Lr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Zo,Zo=16777216,Nl(r),Zo=a):Nl(r));break;default:Nl(r)}}function Uy(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Jo(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];dn=d,Fy(d,r)}Uy(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)By(r),r=r.sibling}function By(r){switch(r.tag){case 0:case 11:case 15:Jo(r),r.flags&2048&&ma(9,r,r.return);break;case 3:Jo(r);break;case 12:Jo(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,id(r)):Jo(r);break;default:Jo(r)}}function id(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];dn=d,Fy(d,r)}Uy(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ma(8,a,a.return),id(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,id(a));break;default:id(a)}r=r.sibling}}function Fy(r,a){for(;dn!==null;){var l=dn;switch(l.tag){case 0:case 11:case 15:ma(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Mo(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,dn=d;else e:for(l=r;dn!==null;){d=dn;var g=d.sibling,y=d.return;if(Iy(d),d===l){dn=null;break e}if(g!==null){g.return=y,dn=g;break e}dn=y}}}var sN={getCacheForType:function(r){var a=kn(tn),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},aN=typeof WeakMap=="function"?WeakMap:Map,ht=0,St=null,Qe=null,nt=0,mt=0,ir=null,xa=!1,El=!1,cm=!1,qs=0,Pt=0,ya=0,ji=0,um=0,Tr=0,Tl=0,Wo=null,Xn=null,dm=!1,fm=0,ld=1/0,od=null,ba=null,wn=0,va=null,Sl=null,Al=0,hm=0,mm=null,qy=null,ec=0,pm=null;function lr(){if((ht&2)!==0&&nt!==0)return nt&-nt;if(Q.T!==null){var r=ml;return r!==0?r:_m()}return $r()}function $y(){Tr===0&&(Tr=(nt&536870912)===0||ct?Ka():536870912);var r=Er.current;return r!==null&&(r.flags|=32),Tr}function or(r,a,l){(r===St&&(mt===2||mt===9)||r.cancelPendingCommit!==null)&&(jl(r,0),wa(r,nt,Tr,!1)),Ir(r,l),((ht&2)===0||r!==St)&&(r===St&&((ht&2)===0&&(ji|=l),Pt===4&&wa(r,nt,Tr,!1)),as(r))}function Hy(r,a,l){if((ht&6)!==0)throw Error(s(327));var d=!l&&(a&124)===0&&(a&r.expiredLanes)===0||jn(r,a),g=d?oN(r,a):ym(r,a,!0),y=d;do{if(g===0){El&&!d&&wa(r,a,0,!1);break}else{if(l=r.current.alternate,y&&!iN(l)){g=ym(r,a,!1),y=!1;continue}if(g===2){if(y=a,r.errorRecoveryDisabledLanes&y)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var M=r;g=Wo;var q=M.current.memoizedState.isDehydrated;if(q&&(jl(M,S).flags|=256),S=ym(M,S,!1),S!==2){if(cm&&!q){M.errorRecoveryDisabledLanes|=y,ji|=y,g=4;break e}y=Xn,Xn=g,y!==null&&(Xn===null?Xn=y:Xn.push.apply(Xn,y))}g=S}if(y=!1,g!==2)continue}}if(g===1){jl(r,0),wa(r,a,0,!0);break}e:{switch(d=r,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:wa(d,a,Tr,!xa);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(g=fm+300-Nt(),10<g)){if(wa(d,a,Tr,!xa),Rt(d,0,!0)!==0)break e;d.timeoutHandle=v1(Yy.bind(null,d,l,Xn,od,dm,a,Tr,ji,Tl,xa,y,2,-0,0),g);break e}Yy(d,l,Xn,od,dm,a,Tr,ji,Tl,xa,y,0,-0,0)}}break}while(!0);as(r)}function Yy(r,a,l,d,g,y,S,M,q,te,de,ge,ne,le){if(r.timeoutHandle=-1,ge=a.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(lc={stylesheets:null,count:0,unsuspend:BN},zy(a),ge=qN(),ge!==null)){r.cancelPendingCommit=ge(Wy.bind(null,r,a,y,l,d,g,S,M,q,de,1,ne,le)),wa(r,y,S,!te);return}Wy(r,a,y,l,d,g,S,M,q)}function iN(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],y=g.getSnapshot;g=g.value;try{if(!nr(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wa(r,a,l,d){a&=~um,a&=~ji,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var g=a;0<g;){var y=31-De(g),S=1<<y;d[y]=-1,g&=~S}l!==0&&pr(r,l,a)}function cd(){return(ht&6)===0?(tc(0),!1):!0}function gm(){if(Qe!==null){if(mt===0)var r=Qe.return;else r=Qe,Os=_i=null,Ih(r),vl=null,Ho=0,r=Qe;for(;r!==null;)Ty(r.alternate,r),r=r.return;Qe=null}}function jl(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,EN(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),gm(),St=r,Qe=l=Ds(r.current,null),nt=a,mt=0,ir=null,xa=!1,El=jn(r,a),cm=!1,Tl=Tr=um=ji=ya=Pt=0,Xn=Wo=null,dm=!1,(a&8)!==0&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var g=31-De(d),y=1<<g;a|=r[g],d&=~y}return qs=a,Ru(),l}function Gy(r,a){Ye=null,Q.H=Ku,a===Vo||a===Uu?(a=ux(),mt=3):a===lx?(a=ux(),mt=4):mt=a===dy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ir=a,Qe===null&&(Pt=1,td(r,vr(a,r.current)))}function Qy(){var r=Q.H;return Q.H=Ku,r===null?Ku:r}function Xy(){var r=Q.A;return Q.A=sN,r}function xm(){Pt=4,xa||(nt&4194048)!==nt&&Er.current!==null||(El=!0),(ya&134217727)===0&&(ji&134217727)===0||St===null||wa(St,nt,Tr,!1)}function ym(r,a,l){var d=ht;ht|=2;var g=Qy(),y=Xy();(St!==r||nt!==a)&&(od=null,jl(r,a)),a=!1;var S=Pt;e:do try{if(mt!==0&&Qe!==null){var M=Qe,q=ir;switch(mt){case 8:gm(),S=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(a=!0);var te=mt;if(mt=0,ir=null,kl(r,M,q,te),l&&El){S=0;break e}break;default:te=mt,mt=0,ir=null,kl(r,M,q,te)}}lN(),S=Pt;break}catch(de){Gy(r,de)}while(!0);return a&&r.shellSuspendCounter++,Os=_i=null,ht=d,Q.H=g,Q.A=y,Qe===null&&(St=null,nt=0,Ru()),S}function lN(){for(;Qe!==null;)Ky(Qe)}function oN(r,a){var l=ht;ht|=2;var d=Qy(),g=Xy();St!==r||nt!==a?(od=null,ld=Nt()+500,jl(r,a)):El=jn(r,a);e:do try{if(mt!==0&&Qe!==null){a=Qe;var y=ir;t:switch(mt){case 1:mt=0,ir=null,kl(r,a,y,1);break;case 2:case 9:if(ox(y)){mt=0,ir=null,Zy(a);break}a=function(){mt!==2&&mt!==9||St!==r||(mt=7),as(r)},y.then(a,a);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:ox(y)?(mt=0,ir=null,Zy(a)):(mt=0,ir=null,kl(r,a,y,7));break;case 5:var S=null;switch(Qe.tag){case 26:S=Qe.memoizedState;case 5:case 27:var M=Qe;if(!S||D1(S)){mt=0,ir=null;var q=M.sibling;if(q!==null)Qe=q;else{var te=M.return;te!==null?(Qe=te,ud(te)):Qe=null}break t}}mt=0,ir=null,kl(r,a,y,5);break;case 6:mt=0,ir=null,kl(r,a,y,6);break;case 8:gm(),Pt=6;break e;default:throw Error(s(462))}}cN();break}catch(de){Gy(r,de)}while(!0);return Os=_i=null,Q.H=d,Q.A=g,ht=l,Qe!==null?0:(St=null,nt=0,Ru(),Pt)}function cN(){for(;Qe!==null&&!We();)Ky(Qe)}function Ky(r){var a=Ny(r.alternate,r,qs);r.memoizedProps=r.pendingProps,a===null?ud(r):Qe=a}function Zy(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=xy(l,a,a.pendingProps,a.type,void 0,nt);break;case 11:a=xy(l,a,a.pendingProps,a.type.render,a.ref,nt);break;case 5:Ih(a);default:Ty(l,a),a=Qe=Jg(a,qs),a=Ny(l,a,qs)}r.memoizedProps=r.pendingProps,a===null?ud(r):Qe=a}function kl(r,a,l,d){Os=_i=null,Ih(a),vl=null,Ho=0;var g=a.return;try{if(J4(r,g,a,l,nt)){Pt=1,td(r,vr(l,r.current)),Qe=null;return}}catch(y){if(g!==null)throw Qe=g,y;Pt=1,td(r,vr(l,r.current)),Qe=null;return}a.flags&32768?(ct||d===1?r=!0:El||(nt&536870912)!==0?r=!1:(xa=r=!0,(d===2||d===9||d===3||d===6)&&(d=Er.current,d!==null&&d.tag===13&&(d.flags|=16384))),Jy(a,r)):ud(a)}function ud(r){var a=r;do{if((a.flags&32768)!==0){Jy(a,xa);return}r=a.return;var l=eN(a.alternate,a,qs);if(l!==null){Qe=l;return}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=r}while(a!==null);Pt===0&&(Pt=5)}function Jy(r,a){do{var l=tN(r.alternate,r);if(l!==null){l.flags&=32767,Qe=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Qe=r;return}Qe=r=l}while(r!==null);Pt=6,Qe=null}function Wy(r,a,l,d,g,y,S,M,q){r.cancelPendingCommit=null;do dd();while(wn!==0);if((ht&6)!==0)throw Error(s(327));if(a!==null){if(a===r.current)throw Error(s(177));if(y=a.lanes|a.childLanes,y|=oh,Ja(r,l,y,S,M,q),r===St&&(Qe=St=null,nt=0),Sl=a,va=r,Al=l,hm=y,mm=g,qy=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,hN(hr,function(){return s1(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=Q.T,Q.T=null,g=fe.p,fe.p=2,S=ht,ht|=4;try{nN(r,a,l)}finally{ht=S,fe.p=g,Q.T=d}}wn=1,e1(),t1(),n1()}}function e1(){if(wn===1){wn=0;var r=va,a=Sl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var d=fe.p;fe.p=2;var g=ht;ht|=4;try{Vy(a,r);var y=Cm,S=Fg(r.containerInfo),M=y.focusedElem,q=y.selectionRange;if(S!==M&&M&&M.ownerDocument&&Bg(M.ownerDocument.documentElement,M)){if(q!==null&&rh(M)){var te=q.start,de=q.end;if(de===void 0&&(de=te),"selectionStart"in M)M.selectionStart=te,M.selectionEnd=Math.min(de,M.value.length);else{var ge=M.ownerDocument||document,ne=ge&&ge.defaultView||window;if(ne.getSelection){var le=ne.getSelection(),ze=M.textContent.length,Oe=Math.min(q.start,ze),yt=q.end===void 0?Oe:Math.min(q.end,ze);!le.extend&&Oe>yt&&(S=yt,yt=Oe,Oe=S);var K=Ug(M,Oe),$=Ug(M,yt);if(K&&$&&(le.rangeCount!==1||le.anchorNode!==K.node||le.anchorOffset!==K.offset||le.focusNode!==$.node||le.focusOffset!==$.offset)){var W=ge.createRange();W.setStart(K.node,K.offset),le.removeAllRanges(),Oe>yt?(le.addRange(W),le.extend($.node,$.offset)):(W.setEnd($.node,$.offset),le.addRange(W))}}}}for(ge=[],le=M;le=le.parentNode;)le.nodeType===1&&ge.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ge.length;M++){var me=ge[M];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Nd=!!km,Cm=km=null}finally{ht=g,fe.p=d,Q.T=l}}r.current=a,wn=2}}function t1(){if(wn===2){wn=0;var r=va,a=Sl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var d=fe.p;fe.p=2;var g=ht;ht|=4;try{Dy(r,a.alternate,a)}finally{ht=g,fe.p=d,Q.T=l}}wn=3}}function n1(){if(wn===4||wn===3){wn=0,Ot();var r=va,a=Sl,l=Al,d=qy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?wn=5:(wn=0,Sl=va=null,r1(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(ba=null),ws(l),a=a.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(ie,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=Q.T,g=fe.p,fe.p=2,Q.T=null;try{for(var y=r.onRecoverableError,S=0;S<d.length;S++){var M=d[S];y(M.value,{componentStack:M.stack})}}finally{Q.T=a,fe.p=g}}(Al&3)!==0&&dd(),as(r),g=r.pendingLanes,(l&4194090)!==0&&(g&42)!==0?r===pm?ec++:(ec=0,pm=r):ec=0,tc(0)}}function r1(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Mo(a)))}function dd(r){return e1(),t1(),n1(),s1()}function s1(){if(wn!==5)return!1;var r=va,a=hm;hm=0;var l=ws(Al),d=Q.T,g=fe.p;try{fe.p=32>l?32:l,Q.T=null,l=mm,mm=null;var y=va,S=Al;if(wn=0,Sl=va=null,Al=0,(ht&6)!==0)throw Error(s(331));var M=ht;if(ht|=4,By(y.current),Ly(y,y.current,S,l),ht=M,tc(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(ie,y)}catch{}return!0}finally{fe.p=g,Q.T=d,r1(r,a)}}function a1(r,a,l){a=vr(l,a),a=Gh(r.stateNode,a,2),r=ua(r,a,2),r!==null&&(Ir(r,2),as(r))}function wt(r,a,l){if(r.tag===3)a1(r,r,l);else for(;a!==null;){if(a.tag===3){a1(a,r,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ba===null||!ba.has(d))){r=vr(l,r),l=cy(2),d=ua(a,l,2),d!==null&&(uy(l,d,a,r),Ir(d,2),as(d));break}}a=a.return}}function bm(r,a,l){var d=r.pingCache;if(d===null){d=r.pingCache=new aN;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(l)||(cm=!0,g.add(l),r=uN.bind(null,r,a,l),a.then(r,r))}function uN(r,a,l){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,St===r&&(nt&l)===l&&(Pt===4||Pt===3&&(nt&62914560)===nt&&300>Nt()-fm?(ht&2)===0&&jl(r,0):um|=l,Tl===nt&&(Tl=0)),as(r)}function i1(r,a){a===0&&(a=Za()),r=ul(r,a),r!==null&&(Ir(r,a),as(r))}function dN(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),i1(r,l)}function fN(r,a){var l=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(a),i1(r,l)}function hN(r,a){return pn(r,a)}var fd=null,Cl=null,vm=!1,hd=!1,wm=!1,ki=0;function as(r){r!==Cl&&r.next===null&&(Cl===null?fd=Cl=r:Cl=Cl.next=r),hd=!0,vm||(vm=!0,pN())}function tc(r,a){if(!wm&&hd){wm=!0;do for(var l=!1,d=fd;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var y=0;else{var S=d.suspendedLanes,M=d.pingedLanes;y=(1<<31-De(42|r)+1)-1,y&=g&~(S&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,u1(d,y))}else y=nt,y=Rt(d,d===St?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||jn(d,y)||(l=!0,u1(d,y));d=d.next}while(l);wm=!1}}function mN(){l1()}function l1(){hd=vm=!1;var r=0;ki!==0&&(NN()&&(r=ki),ki=0);for(var a=Nt(),l=null,d=fd;d!==null;){var g=d.next,y=o1(d,a);y===0?(d.next=null,l===null?fd=g:l.next=g,g===null&&(Cl=l)):(l=d,(r!==0||(y&3)!==0)&&(hd=!0)),d=g}tc(r)}function o1(r,a){for(var l=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var S=31-De(y),M=1<<S,q=g[S];q===-1?((M&l)===0||(M&d)!==0)&&(g[S]=xn(M,a)):q<=a&&(r.expiredLanes|=M),y&=~M}if(a=St,l=nt,l=Rt(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===a&&(mt===2||mt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&_e(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||jn(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(d!==null&&_e(d),ws(l)){case 2:case 8:l=Hn;break;case 32:l=hr;break;case 268435456:l=mr;break;default:l=hr}return d=c1.bind(null,r),l=pn(l,d),r.callbackPriority=a,r.callbackNode=l,a}return d!==null&&d!==null&&_e(d),r.callbackPriority=2,r.callbackNode=null,2}function c1(r,a){if(wn!==0&&wn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(dd()&&r.callbackNode!==l)return null;var d=nt;return d=Rt(r,r===St?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Hy(r,d,a),o1(r,Nt()),r.callbackNode!=null&&r.callbackNode===l?c1.bind(null,r):null)}function u1(r,a){if(dd())return null;Hy(r,a,!0)}function pN(){TN(function(){(ht&6)!==0?pn(fr,mN):l1()})}function _m(){return ki===0&&(ki=Ka()),ki}function d1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ji(""+r)}function f1(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function gN(r,a,l,d,g){if(a==="submit"&&l&&l.stateNode===g){var y=d1((g[ce]||null).action),S=d.submitter;S&&(a=(a=S[ce]||null)?d1(a.formAction):S.getAttribute("formAction"),a!==null&&(y=a,S=null));var M=new Wi("action","action",null,d,g);r.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ki!==0){var q=S?f1(g,S):new FormData(g);Fh(l,{pending:!0,data:q,method:g.method,action:y},null,q)}}else typeof y=="function"&&(M.preventDefault(),q=S?f1(g,S):new FormData(g),Fh(l,{pending:!0,data:q,method:g.method,action:y},y,q))},currentTarget:g}]})}}for(var Nm=0;Nm<lh.length;Nm++){var Em=lh[Nm],xN=Em.toLowerCase(),yN=Em[0].toUpperCase()+Em.slice(1);Pr(xN,"on"+yN)}Pr(Hg,"onAnimationEnd"),Pr(Yg,"onAnimationIteration"),Pr(Gg,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(O4,"onTransitionRun"),Pr(V4,"onTransitionStart"),Pr(P4,"onTransitionCancel"),Pr(Qg,"onTransitionEnd"),Ns("onMouseEnter",["mouseout","mouseover"]),Ns("onMouseLeave",["mouseout","mouseover"]),Ns("onPointerEnter",["pointerout","pointerover"]),Ns("onPointerLeave",["pointerout","pointerover"]),Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Or("onBeforeInput",["compositionend","keypress","textInput","paste"]),Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nc));function h1(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],g=d.event;d=d.listeners;e:{var y=void 0;if(a)for(var S=d.length-1;0<=S;S--){var M=d[S],q=M.instance,te=M.currentTarget;if(M=M.listener,q!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=te;try{y(g)}catch(de){ed(de)}g.currentTarget=null,y=q}else for(S=0;S<d.length;S++){if(M=d[S],q=M.instance,te=M.currentTarget,M=M.listener,q!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=te;try{y(g)}catch(de){ed(de)}g.currentTarget=null,y=q}}}}function Xe(r,a){var l=a[kt];l===void 0&&(l=a[kt]=new Set);var d=r+"__bubble";l.has(d)||(m1(a,r,2,!1),l.add(d))}function Tm(r,a,l){var d=0;a&&(d|=4),m1(l,r,d,a)}var md="_reactListening"+Math.random().toString(36).slice(2);function Sm(r){if(!r[md]){r[md]=!0,mo.forEach(function(l){l!=="selectionchange"&&(bN.has(l)||Tm(l,!1,r),Tm(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[md]||(a[md]=!0,Tm("selectionchange",!1,a))}}function m1(r,a,l,d){switch(L1(a)){case 2:var g=YN;break;case 8:g=GN;break;default:g=Um}l=g.bind(null,a,l,r),g=void 0,!yr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(a,l,{capture:!0,passive:g}):r.addEventListener(a,l,!0):g!==void 0?r.addEventListener(a,l,{passive:g}):r.addEventListener(a,l,!1)}function Am(r,a,l,d,g){var y=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var M=d.stateNode.containerInfo;if(M===g)break;if(S===4)for(S=d.return;S!==null;){var q=S.tag;if((q===3||q===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;M!==null;){if(S=_s(M),S===null)return;if(q=S.tag,q===5||q===6||q===26||q===27){d=y=S;continue e}M=M.parentNode}}d=d.return}gu(function(){var te=y,de=xr(l),ge=[];e:{var ne=Xg.get(r);if(ne!==void 0){var le=Wi,ze=r;switch(r){case"keypress":if(Kr(l)===0)break e;case"keydown":case"keyup":le=al;break;case"focusin":ze="focus",le=nl;break;case"focusout":ze="blur",le=nl;break;case"beforeblur":case"afterblur":le=nl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=br;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Eu;break;case Hg:case Yg:case Gg:le=rl;break;case Qg:le=Su;break;case"scroll":case"scrollend":le=xu;break;case"wheel":le=il;break;case"copy":case"cut":case"paste":le=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=So;break;case"toggle":case"beforetoggle":le=ju}var Oe=(a&4)!==0,yt=!Oe&&(r==="scroll"||r==="scrollend"),K=Oe?ne!==null?ne+"Capture":null:ne;Oe=[];for(var $=te,W;$!==null;){var me=$;if(W=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||W===null||K===null||(me=oi($,K),me!=null&&Oe.push(rc($,me,W))),yt)break;$=$.return}0<Oe.length&&(ne=new le(ne,ze,null,l,de),ge.push({event:ne,listeners:Oe}))}}if((a&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",ne&&l!==Ss&&(ze=l.relatedTarget||l.fromElement)&&(_s(ze)||ze[Ue]))break e;if((le||ne)&&(ne=de.window===de?de:(ne=de.ownerDocument)?ne.defaultView||ne.parentWindow:window,le?(ze=l.relatedTarget||l.toElement,le=te,ze=ze?_s(ze):null,ze!==null&&(yt=o(ze),Oe=ze.tag,ze!==yt||Oe!==5&&Oe!==27&&Oe!==6)&&(ze=null)):(le=null,ze=te),le!==ze)){if(Oe=br,me="onMouseLeave",K="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=So,me="onPointerLeave",K="onPointerEnter",$="pointer"),yt=le==null?ne:Yr(le),W=ze==null?ne:Yr(ze),ne=new Oe(me,$+"leave",le,l,de),ne.target=yt,ne.relatedTarget=W,me=null,_s(de)===te&&(Oe=new Oe(K,$+"enter",ze,l,de),Oe.target=W,Oe.relatedTarget=yt,me=Oe),yt=me,le&&ze)t:{for(Oe=le,K=ze,$=0,W=Oe;W;W=Rl(W))$++;for(W=0,me=K;me;me=Rl(me))W++;for(;0<$-W;)Oe=Rl(Oe),$--;for(;0<W-$;)K=Rl(K),W--;for(;$--;){if(Oe===K||K!==null&&Oe===K.alternate)break t;Oe=Rl(Oe),K=Rl(K)}Oe=null}else Oe=null;le!==null&&p1(ge,ne,le,Oe,!1),ze!==null&&yt!==null&&p1(ge,yt,ze,Oe,!0)}}e:{if(ne=te?Yr(te):window,le=ne.nodeName&&ne.nodeName.toLowerCase(),le==="select"||le==="input"&&ne.type==="file")var ke=Mg;else if(en(ne))if(Og)ke=D4;else{ke=C4;var Ge=k4}else le=ne.nodeName,!le||le.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&bo(te.elementType)&&(ke=Mg):ke=R4;if(ke&&(ke=ke(r,te))){Rs(ge,ke,l,de);break e}Ge&&Ge(r,ne,te),r==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&aa(ne,"number",ne.value)}switch(Ge=te?Yr(te):window,r){case"focusin":(en(Ge)||Ge.contentEditable==="true")&&(ll=Ge,sh=te,ko=null);break;case"focusout":ko=sh=ll=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,qg(ge,l,de);break;case"selectionchange":if(M4)break;case"keydown":case"keyup":qg(ge,l,de)}var Re;if(Wr)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else et?oe(r,l)&&(Ve="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(N&&l.locale!=="ko"&&(et||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&et&&(Re=wo()):(Xr=de,ia="value"in Xr?Xr.value:Xr.textContent,et=!0)),Ge=pd(te,Ve),0<Ge.length&&(Ve=new Eo(Ve,r,null,l,de),ge.push({event:Ve,listeners:Ge}),Re?Ve.data=Re:(Re=Ne(l),Re!==null&&(Ve.data=Re)))),(Re=v?Wt(r,l):tt(r,l))&&(Ve=pd(te,"onBeforeInput"),0<Ve.length&&(Ge=new Eo("onBeforeInput","beforeinput",null,l,de),ge.push({event:Ge,listeners:Ve}),Ge.data=Re)),gN(ge,r,te,l,de)}h1(ge,a)})}function rc(r,a,l){return{instance:r,listener:a,currentTarget:l}}function pd(r,a){for(var l=a+"Capture",d=[];r!==null;){var g=r,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=oi(r,l),g!=null&&d.unshift(rc(r,g,y)),g=oi(r,a),g!=null&&d.push(rc(r,g,y))),r.tag===3)return d;r=r.return}return[]}function Rl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function p1(r,a,l,d,g){for(var y=a._reactName,S=[];l!==null&&l!==d;){var M=l,q=M.alternate,te=M.stateNode;if(M=M.tag,q!==null&&q===d)break;M!==5&&M!==26&&M!==27||te===null||(q=te,g?(te=oi(l,y),te!=null&&S.unshift(rc(l,te,q))):g||(te=oi(l,y),te!=null&&S.push(rc(l,te,q)))),l=l.return}S.length!==0&&r.push({event:a,listeners:S})}var vN=/\r\n?/g,wN=/\u0000|\uFFFD/g;function g1(r){return(typeof r=="string"?r:""+r).replace(vN,`
`).replace(wN,"")}function x1(r,a){return a=g1(a),g1(r)===a}function gd(){}function xt(r,a,l,d,g,y){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||gr(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&gr(r,""+d);break;case"className":Gr(r,"class",d);break;case"tabIndex":Gr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Gr(r,l,d);break;case"style":yo(r,d,y);break;case"data":if(a!=="object"){Gr(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Ji(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&xt(r,a,"name",g.name,g,null),xt(r,a,"formEncType",g.formEncType,g,null),xt(r,a,"formMethod",g.formMethod,g,null),xt(r,a,"formTarget",g.formTarget,g,null)):(xt(r,a,"encType",g.encType,g,null),xt(r,a,"method",g.method,g,null),xt(r,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Ji(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=gd);break;case"onScroll":d!=null&&Xe("scroll",r);break;case"onScrollEnd":d!=null&&Xe("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=Ji(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":Xe("beforetoggle",r),Xe("toggle",r),sa(r,"popover",d);break;case"xlinkActuate":yn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":yn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":yn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":yn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":yn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":yn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":yn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":yn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":yn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":sa(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Zf.get(l)||l,sa(r,l,d))}}function jm(r,a,l,d,g,y){switch(l){case"style":yo(r,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof d=="string"?gr(r,d):(typeof d=="number"||typeof d=="bigint")&&gr(r,""+d);break;case"onScroll":d!=null&&Xe("scroll",r);break;case"onScrollEnd":d!=null&&Xe("scrollend",r);break;case"onClick":d!=null&&(r.onclick=gd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=r[ce]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,g),typeof d=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,d,g);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):sa(r,l,d)}}}function _n(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",r),Xe("load",r);var d=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:xt(r,a,y,S,l,null)}}g&&xt(r,a,"srcSet",l.srcSet,l,null),d&&xt(r,a,"src",l.src,l,null);return;case"input":Xe("invalid",r);var M=y=S=g=null,q=null,te=null;for(d in l)if(l.hasOwnProperty(d)){var de=l[d];if(de!=null)switch(d){case"name":g=de;break;case"type":S=de;break;case"checked":q=de;break;case"defaultChecked":te=de;break;case"value":y=de;break;case"defaultValue":M=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,a));break;default:xt(r,a,d,de,l,null)}}ai(r,y,M,q,te,S,g,!1),Zi(r);return;case"select":Xe("invalid",r),d=S=y=null;for(g in l)if(l.hasOwnProperty(g)&&(M=l[g],M!=null))switch(g){case"value":y=M;break;case"defaultValue":S=M;break;case"multiple":d=M;default:xt(r,a,g,M,l,null)}a=y,l=S,r.multiple=!!d,a!=null?Ts(r,!!d,a,!1):l!=null&&Ts(r,!!d,l,!0);return;case"textarea":Xe("invalid",r),y=g=d=null;for(S in l)if(l.hasOwnProperty(S)&&(M=l[S],M!=null))switch(S){case"value":d=M;break;case"defaultValue":g=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:xt(r,a,S,M,l,null)}ii(r,d,g,y),Zi(r);return;case"option":for(q in l)if(l.hasOwnProperty(q)&&(d=l[q],d!=null))switch(q){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:xt(r,a,q,d,l,null)}return;case"dialog":Xe("beforetoggle",r),Xe("toggle",r),Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":Xe("load",r);break;case"video":case"audio":for(d=0;d<nc.length;d++)Xe(nc[d],r);break;case"image":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"embed":case"source":case"link":Xe("error",r),Xe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(d=l[te],d!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:xt(r,a,te,d,l,null)}return;default:if(bo(a)){for(de in l)l.hasOwnProperty(de)&&(d=l[de],d!==void 0&&jm(r,a,de,d,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(d=l[M],d!=null&&xt(r,a,M,d,l,null))}function _N(r,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,M=null,q=null,te=null,de=null;for(le in l){var ge=l[le];if(l.hasOwnProperty(le)&&ge!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":q=ge;default:d.hasOwnProperty(le)||xt(r,a,le,null,d,ge)}}for(var ne in d){var le=d[ne];if(ge=l[ne],d.hasOwnProperty(ne)&&(le!=null||ge!=null))switch(ne){case"type":y=le;break;case"name":g=le;break;case"checked":te=le;break;case"defaultChecked":de=le;break;case"value":S=le;break;case"defaultValue":M=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,a));break;default:le!==ge&&xt(r,a,ne,le,d,ge)}}tr(r,S,M,q,te,de,y,g);return;case"select":le=S=M=ne=null;for(y in l)if(q=l[y],l.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":le=q;default:d.hasOwnProperty(y)||xt(r,a,y,null,d,q)}for(g in d)if(y=d[g],q=l[g],d.hasOwnProperty(g)&&(y!=null||q!=null))switch(g){case"value":ne=y;break;case"defaultValue":M=y;break;case"multiple":S=y;default:y!==q&&xt(r,a,g,y,d,q)}a=M,l=S,d=le,ne!=null?Ts(r,!!l,ne,!1):!!d!=!!l&&(a!=null?Ts(r,!!l,a,!0):Ts(r,!!l,l?[]:"",!1));return;case"textarea":le=ne=null;for(M in l)if(g=l[M],l.hasOwnProperty(M)&&g!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:xt(r,a,M,null,d,g)}for(S in d)if(g=d[S],y=l[S],d.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":ne=g;break;case"defaultValue":le=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&xt(r,a,S,g,d,y)}pt(r,ne,le);return;case"option":for(var ze in l)if(ne=l[ze],l.hasOwnProperty(ze)&&ne!=null&&!d.hasOwnProperty(ze))switch(ze){case"selected":r.selected=!1;break;default:xt(r,a,ze,null,d,ne)}for(q in d)if(ne=d[q],le=l[q],d.hasOwnProperty(q)&&ne!==le&&(ne!=null||le!=null))switch(q){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:xt(r,a,q,ne,d,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)ne=l[Oe],l.hasOwnProperty(Oe)&&ne!=null&&!d.hasOwnProperty(Oe)&&xt(r,a,Oe,null,d,ne);for(te in d)if(ne=d[te],le=l[te],d.hasOwnProperty(te)&&ne!==le&&(ne!=null||le!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,a));break;default:xt(r,a,te,ne,d,le)}return;default:if(bo(a)){for(var yt in l)ne=l[yt],l.hasOwnProperty(yt)&&ne!==void 0&&!d.hasOwnProperty(yt)&&jm(r,a,yt,void 0,d,ne);for(de in d)ne=d[de],le=l[de],!d.hasOwnProperty(de)||ne===le||ne===void 0&&le===void 0||jm(r,a,de,ne,d,le);return}}for(var K in l)ne=l[K],l.hasOwnProperty(K)&&ne!=null&&!d.hasOwnProperty(K)&&xt(r,a,K,null,d,ne);for(ge in d)ne=d[ge],le=l[ge],!d.hasOwnProperty(ge)||ne===le||ne==null&&le==null||xt(r,a,ge,ne,d,le)}var km=null,Cm=null;function xd(r){return r.nodeType===9?r:r.ownerDocument}function y1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Rm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dm=null;function NN(){var r=window.event;return r&&r.type==="popstate"?r===Dm?!1:(Dm=r,!0):(Dm=null,!1)}var v1=typeof setTimeout=="function"?setTimeout:void 0,EN=typeof clearTimeout=="function"?clearTimeout:void 0,w1=typeof Promise=="function"?Promise:void 0,TN=typeof queueMicrotask=="function"?queueMicrotask:typeof w1<"u"?function(r){return w1.resolve(null).then(r).catch(SN)}:v1;function SN(r){setTimeout(function(){throw r})}function _a(r){return r==="head"}function _1(r,a){var l=a,d=0,g=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<d&&8>d){l=d;var S=r.ownerDocument;if(l&1&&sc(S.documentElement),l&2&&sc(S.body),l&4)for(l=S.head,sc(l),S=l.firstChild;S;){var M=S.nextSibling,q=S.nodeName;S[ti]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=M}}if(g===0){r.removeChild(y),fc(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=y}while(l);fc(a)}function Im(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Im(l),ra(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function AN(r,a,l,d){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[ti])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=zr(r.nextSibling),r===null)break}return null}function jN(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=zr(r.nextSibling),r===null))return null;return r}function Mm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function kN(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function zr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Om=null;function N1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function E1(r,a,l){switch(a=xd(l),r){case"html":if(r=a.documentElement,!r)throw Error(s(452));return r;case"head":if(r=a.head,!r)throw Error(s(453));return r;case"body":if(r=a.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function sc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);ra(r)}var Sr=new Map,T1=new Set;function yd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var $s=fe.d;fe.d={f:CN,r:RN,D:DN,C:IN,L:MN,m:ON,X:PN,S:VN,M:LN};function CN(){var r=$s.f(),a=cd();return r||a}function RN(r){var a=Hr(r);a!==null&&a.tag===5&&a.type==="form"?Hx(a):$s.r(r)}var Dl=typeof document>"u"?null:document;function S1(r,a,l){var d=Dl;if(d&&typeof a=="string"&&a){var g=$t(a);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),T1.has(g)||(T1.add(g),r={rel:r,crossOrigin:l,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),_n(a,"link",r),zt(a),d.head.appendChild(a)))}}function DN(r){$s.D(r),S1("dns-prefetch",r,null)}function IN(r,a){$s.C(r,a),S1("preconnect",r,a)}function MN(r,a,l){$s.L(r,a,l);var d=Dl;if(d&&r&&a){var g='link[rel="preload"][as="'+$t(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+$t(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+$t(l.imageSizes)+'"]')):g+='[href="'+$t(r)+'"]';var y=g;switch(a){case"style":y=Il(r);break;case"script":y=Ml(r)}Sr.has(y)||(r=x({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Sr.set(y,r),d.querySelector(g)!==null||a==="style"&&d.querySelector(ac(y))||a==="script"&&d.querySelector(ic(y))||(a=d.createElement("link"),_n(a,"link",r),zt(a),d.head.appendChild(a)))}}function ON(r,a){$s.m(r,a);var l=Dl;if(l&&r){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+$t(d)+'"][href="'+$t(r)+'"]',y=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ml(r)}if(!Sr.has(y)&&(r=x({rel:"modulepreload",href:r},a),Sr.set(y,r),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ic(y)))return}d=l.createElement("link"),_n(d,"link",r),zt(d),l.head.appendChild(d)}}}function VN(r,a,l){$s.S(r,a,l);var d=Dl;if(d&&r){var g=Pn(d).hoistableStyles,y=Il(r);a=a||"default";var S=g.get(y);if(!S){var M={loading:0,preload:null};if(S=d.querySelector(ac(y)))M.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Sr.get(y))&&Vm(r,l);var q=S=d.createElement("link");zt(q),_n(q,"link",r),q._p=new Promise(function(te,de){q.onload=te,q.onerror=de}),q.addEventListener("load",function(){M.loading|=1}),q.addEventListener("error",function(){M.loading|=2}),M.loading|=4,bd(S,a,d)}S={type:"stylesheet",instance:S,count:1,state:M},g.set(y,S)}}}function PN(r,a){$s.X(r,a);var l=Dl;if(l&&r){var d=Pn(l).hoistableScripts,g=Ml(r),y=d.get(g);y||(y=l.querySelector(ic(g)),y||(r=x({src:r,async:!0},a),(a=Sr.get(g))&&Pm(r,a),y=l.createElement("script"),zt(y),_n(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function LN(r,a){$s.M(r,a);var l=Dl;if(l&&r){var d=Pn(l).hoistableScripts,g=Ml(r),y=d.get(g);y||(y=l.querySelector(ic(g)),y||(r=x({src:r,async:!0,type:"module"},a),(a=Sr.get(g))&&Pm(r,a),y=l.createElement("script"),zt(y),_n(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function A1(r,a,l,d){var g=(g=ae.current)?yd(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Il(l.href),l=Pn(g).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Il(l.href);var y=Pn(g).hoistableStyles,S=y.get(r);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,S),(y=g.querySelector(ac(r)))&&!y._p&&(S.instance=y,S.state.loading=5),Sr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Sr.set(r,l),y||zN(g,r,l,S.state))),a&&d===null)throw Error(s(528,""));return S}if(a&&d!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ml(l),l=Pn(g).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Il(r){return'href="'+$t(r)+'"'}function ac(r){return'link[rel="stylesheet"]['+r+"]"}function j1(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function zN(r,a,l,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),_n(a,"link",l),zt(a),r.head.appendChild(a))}function Ml(r){return'[src="'+$t(r)+'"]'}function ic(r){return"script[async]"+r}function k1(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+$t(l.href)+'"]');if(d)return a.instance=d,zt(d),d;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),zt(d),_n(d,"style",g),bd(d,l.precedence,r),a.instance=d;case"stylesheet":g=Il(l.href);var y=r.querySelector(ac(g));if(y)return a.state.loading|=4,a.instance=y,zt(y),y;d=j1(l),(g=Sr.get(g))&&Vm(d,g),y=(r.ownerDocument||r).createElement("link"),zt(y);var S=y;return S._p=new Promise(function(M,q){S.onload=M,S.onerror=q}),_n(y,"link",d),a.state.loading|=4,bd(y,l.precedence,r),a.instance=y;case"script":return y=Ml(l.src),(g=r.querySelector(ic(y)))?(a.instance=g,zt(g),g):(d=l,(g=Sr.get(y))&&(d=x({},l),Pm(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),zt(g),_n(g,"link",d),r.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,bd(d,l.precedence,r));return a.instance}function bd(r,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,y=g,S=0;S<d.length;S++){var M=d[S];if(M.dataset.precedence===a)y=M;else if(y!==g)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function Vm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Pm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var vd=null;function C1(r,a,l){if(vd===null){var d=new Map,g=vd=new Map;g.set(l,d)}else g=vd,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var y=l[g];if(!(y[ti]||y[Tt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(a)||"";S=r+S;var M=d.get(S);M?M.push(y):d.set(S,[y])}}return d}function R1(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function UN(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function D1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var lc=null;function BN(){}function FN(r,a,l){if(lc===null)throw Error(s(475));var d=lc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Il(l.href),y=r.querySelector(ac(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=wd.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=y,zt(y);return}y=r.ownerDocument||r,l=j1(l),(g=Sr.get(g))&&Vm(l,g),y=y.createElement("link"),zt(y);var S=y;S._p=new Promise(function(M,q){S.onload=M,S.onerror=q}),_n(y,"link",l),a.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=wd.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function qN(){if(lc===null)throw Error(s(475));var r=lc;return r.stylesheets&&r.count===0&&Lm(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&Lm(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function wd(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var _d=null;function Lm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,_d=new Map,a.forEach($N,r),_d=null,wd.call(r))}function $N(r,a){if(!(a.state.loading&4)){var l=_d.get(r);if(l)var d=l.get(null);else{l=new Map,_d.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),d=S)}d&&l.set(null,d)}g=a.instance,S=g.getAttribute("data-precedence"),y=l.get(S)||d,y===d&&l.set(null,g),l.set(S,g),this.count++,d=wd.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),y?y.parentNode.insertBefore(g,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),a.state.loading|=4}}var oc={$$typeof:B,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function HN(r,a,l,d,g,y,S,M){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function I1(r,a,l,d,g,y,S,M,q,te,de,ge){return r=new HN(r,a,l,S,M,q,te,ge),a=1,y===!0&&(a|=24),y=rr(3,null,null,a),r.current=y,y.stateNode=r,a=bh(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:d,isDehydrated:l,cache:a},Nh(y),r}function M1(r){return r?(r=dl,r):dl}function O1(r,a,l,d,g,y){g=M1(g),d.context===null?d.context=g:d.pendingContext=g,d=ca(a),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=ua(r,d,a),l!==null&&(or(l,r,a),Lo(l,r,a))}function V1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function zm(r,a){V1(r,a),(r=r.alternate)&&V1(r,a)}function P1(r){if(r.tag===13){var a=ul(r,67108864);a!==null&&or(a,r,67108864),zm(r,67108864)}}var Nd=!0;function YN(r,a,l,d){var g=Q.T;Q.T=null;var y=fe.p;try{fe.p=2,Um(r,a,l,d)}finally{fe.p=y,Q.T=g}}function GN(r,a,l,d){var g=Q.T;Q.T=null;var y=fe.p;try{fe.p=8,Um(r,a,l,d)}finally{fe.p=y,Q.T=g}}function Um(r,a,l,d){if(Nd){var g=Bm(d);if(g===null)Am(r,a,d,Ed,l),z1(r,d);else if(XN(g,r,a,l,d))d.stopPropagation();else if(z1(r,d),a&4&&-1<QN.indexOf(r)){for(;g!==null;){var y=Hr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=qt(y.pendingLanes);if(S!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;S;){var q=1<<31-De(S);M.entanglements[1]|=q,S&=~q}as(y),(ht&6)===0&&(ld=Nt()+500,tc(0))}}break;case 13:M=ul(y,2),M!==null&&or(M,y,2),cd(),zm(y,2)}if(y=Bm(d),y===null&&Am(r,a,d,Ed,l),y===g)break;g=y}g!==null&&d.stopPropagation()}else Am(r,a,d,null,l)}}function Bm(r){return r=xr(r),Fm(r)}var Ed=null;function Fm(r){if(Ed=null,r=_s(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Ed=r,null}function L1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case fr:return 2;case Hn:return 8;case hr:case Xa:return 32;case mr:return 268435456;default:return 32}default:return 32}}var qm=!1,Na=null,Ea=null,Ta=null,cc=new Map,uc=new Map,Sa=[],QN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z1(r,a){switch(r){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":cc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(a.pointerId)}}function dc(r,a,l,d,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Hr(a),a!==null&&P1(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function XN(r,a,l,d,g){switch(a){case"focusin":return Na=dc(Na,r,a,l,d,g),!0;case"dragenter":return Ea=dc(Ea,r,a,l,d,g),!0;case"mouseover":return Ta=dc(Ta,r,a,l,d,g),!0;case"pointerover":var y=g.pointerId;return cc.set(y,dc(cc.get(y)||null,r,a,l,d,g)),!0;case"gotpointercapture":return y=g.pointerId,uc.set(y,dc(uc.get(y)||null,r,a,l,d,g)),!0}return!1}function U1(r){var a=_s(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,Yi(r.priority,function(){if(l.tag===13){var d=lr();d=Mr(d);var g=ul(l,d);g!==null&&or(g,l,d),zm(l,d)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Td(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=Bm(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Ss=d,l.target.dispatchEvent(d),Ss=null}else return a=Hr(l),a!==null&&P1(a),r.blockedOn=l,!1;a.shift()}return!0}function B1(r,a,l){Td(r)&&l.delete(a)}function KN(){qm=!1,Na!==null&&Td(Na)&&(Na=null),Ea!==null&&Td(Ea)&&(Ea=null),Ta!==null&&Td(Ta)&&(Ta=null),cc.forEach(B1),uc.forEach(B1)}function Sd(r,a){r.blockedOn===a&&(r.blockedOn=null,qm||(qm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KN)))}var Ad=null;function F1(r){Ad!==r&&(Ad=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ad===r&&(Ad=null);for(var a=0;a<r.length;a+=3){var l=r[a],d=r[a+1],g=r[a+2];if(typeof d!="function"){if(Fm(d||l)===null)continue;break}var y=Hr(l);y!==null&&(r.splice(a,3),a-=3,Fh(y,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function fc(r){function a(q){return Sd(q,r)}Na!==null&&Sd(Na,r),Ea!==null&&Sd(Ea,r),Ta!==null&&Sd(Ta,r),cc.forEach(a),uc.forEach(a);for(var l=0;l<Sa.length;l++){var d=Sa[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Sa.length&&(l=Sa[0],l.blockedOn===null);)U1(l),l.blockedOn===null&&Sa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],y=l[d+1],S=g[ce]||null;if(typeof y=="function")S||F1(l);else if(S){var M=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[ce]||null)M=S.formAction;else if(Fm(g)!==null)continue}else M=S.action;typeof M=="function"?l[d+1]=M:(l.splice(d,3),d-=3),F1(l)}}}function $m(r){this._internalRoot=r}jd.prototype.render=$m.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,d=lr();O1(l,d,r,a,null,null)},jd.prototype.unmount=$m.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;O1(r.current,2,null,r,null,null),cd(),a[Ue]=null}};function jd(r){this._internalRoot=r}jd.prototype.unstable_scheduleHydration=function(r){if(r){var a=$r();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Sa.length&&a!==0&&a<Sa[l].priority;l++);Sa.splice(l,0,r),l===0&&U1(r)}};var q1=e.version;if(q1!=="19.1.1")throw Error(s(527,q1,"19.1.1"));fe.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var ZN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{ie=kd.inject(ZN),pe=kd}catch{}}return mc.createRoot=function(r,a){if(!i(r))throw Error(s(299));var l=!1,d="",g=ay,y=iy,S=ly,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks)),a=I1(r,1,!1,null,null,l,d,g,y,S,M,null),r[Ue]=a.current,Sm(r),new $m(a)},mc.hydrateRoot=function(r,a,l){if(!i(r))throw Error(s(299));var d=!1,g="",y=ay,S=iy,M=ly,q=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(q=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),a=I1(r,1,!0,a,l??null,d,g,y,S,M,q,te),a.context=M1(null),l=a.current,d=lr(),d=Mr(d),g=ca(d),g.callback=null,ua(l,g,d),l=d,a.current.lanes=l,Ir(a,l),as(a),r[Ue]=a.current,Sm(r),new jd(a)},mc.version="19.1.1",mc}var W1;function lE(){if(W1)return Gm.exports;W1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gm.exports=iE(),Gm.exports}var oE=lE();const cE=xf(oE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),eb=t=>{const e=dE(t);return e.charAt(0).toUpperCase()+e.slice(1)},g2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),fE=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:u,...f},m)=>G.createElement("svg",{ref:m,...hE,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:g2("lucide",i),...!o&&!fE(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,x])=>G.createElement(p,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=G.forwardRef(({className:s,...i},o)=>G.createElement(mE,{ref:o,iconNode:e,className:g2(`lucide-${uE(eb(t))}`,`lucide-${t}`,s),...i}));return n.displayName=eb(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],gE=Ee("arrow-down",pE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],yE=Ee("arrow-up-down",xE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],vE=Ee("arrow-up",bE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],x2=Ee("award",wE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ic=Ee("bell",_E);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],EE=Ee("bold",NE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Gd=Ee("book-open",TE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],AE=Ee("calculator",SE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kr=Ee("calendar",jE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],wp=Ee("chart-column",kE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],no=Ee("check",CE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yf=Ee("chevron-down",RE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],y2=Ee("chevron-left",DE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_p=Ee("chevron-right",IE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Np=Ee("chevron-up",ME);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VE=Ee("circle-alert",OE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bf=Ee("circle-check-big",PE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],S0=Ee("circle-check",LE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UE=Ee("circle",zE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cs=Ee("clock",BE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],tb=Ee("cloud-off",FE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],nb=Ee("cloud",qE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],HE=Ee("code-xml",$E);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],GE=Ee("code",YE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],XE=Ee("copy",QE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Cr=Ee("crown",KE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Pa=Ee("eye-off",ZE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pi=Ee("eye",JE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3.072",key:"n6s66f"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m6.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.88.001l-1.846.85a.5.5 0 0 1-.693-.593l1.29-4.88",key:"1e6yvx"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],e5=Ee("file-badge",WE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Gs=Ee("file-text",t5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],b2=Ee("flask-conical",n5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],s5=Ee("github",r5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ep=Ee("globe",a5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Xs=Ee("graduation-cap",i5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],o5=Ee("hash",l5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],u5=Ee("heart",c5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],f5=Ee("info",d5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],m5=Ee("italic",h5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ra=Ee("key",p5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],rb=Ee("lightbulb",g5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],y5=Ee("link",x5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],v5=Ee("list-todo",b5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mn=Ee("loader-circle",w5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],N5=Ee("list",_5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xt=Ee("lock",E5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sb=Ee("log-out",T5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Di=Ee("megaphone",S5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M5 12h14",key:"1ays0h"}]],j5=Ee("minus",A5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],C5=Ee("moon",k5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],D5=Ee("move-vertical",R5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],ab=Ee("party-popper",I5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Fi=Ee("pen-line",M5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],V5=Ee("pen",O5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],L5=Ee("pin-off",P5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],A0=Ee("pin",z5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],os=Ee("plus",U5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],F5=Ee("quote",B5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$5=Ee("refresh-cw",q5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ea=Ee("save",H5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vf=Ee("search",Y5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],La=Ee("settings",G5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],v2=Ee("shield-alert",Q5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],us=Ee("shield",X5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ib=Ee("sparkles",K5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tp=Ee("square-check-big",Z5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nn=Ee("star",J5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],j0=Ee("sticky-note",W5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tT=Ee("sun",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],lb=Ee("target",nT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],k0=Ee("toggle-left",rT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],C0=Ee("toggle-right",sT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ps=Ee("trash-2",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zd=Ee("triangle-alert",iT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],oT=Ee("trophy",lT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sp=Ee("user-check",cT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ob=Ee("user-plus",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],fT=Ee("user-x",dT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Br=Ee("user",hT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gs=Ee("users",mT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],an=Ee("x",pT),Ys={1:{theory:["Mathematics-I","Physics","Programming Fundamentals","English"],practical:["Physics Lab","Programming Lab"]},2:{theory:["Mathematics-II","Chemistry","Data Structures","Digital Logic"],practical:["Chemistry Lab","DS Lab"]},3:{theory:["OOP","Discrete Math","Computer Architecture","Statistics"],practical:["OOP Lab","Hardware Lab"]},4:{theory:["DBMS","Operating Systems","Computer Networks","Software Engineering"],practical:["DBMS Lab","Networks Lab"]},5:{theory:["AIA","DAA","DBMS","ES","MLA","MDM","OE-4"],practical:["DAA Lab","DBMS Lab","MLA Lab","ES Lab"]},6:{theory:["CNN","CVPR","DV","K.ENG","MDM","SR"],practical:["CNN Lab","DV Lab","K.ENG Lab","MAD Lab","SR Lab"]},7:{theory:["Deep Learning","Big Data Analytics","Cybersecurity","Project Management"],practical:["ML Lab","Security Lab"]},8:{theory:["Major Project","Technical Seminar","Industry Training"],practical:["Project Implementation"]}},gT=["Assignment","Test","Presentation","Quiz","Certificate","Project","Other"],Pe={rollNo:"2405225",name:"Shaikh Mujahid",admissionYear:2024,isDSY:!1},R0=t=>{if(!t||!t.admissionYear)return null;const e=new Date,n=e.getMonth()+1,s=n>=7?e.getFullYear():e.getFullYear()-1,i=Number(t.admissionYear);let o=s-i;o<0&&(o=0);const u=t.isDSY?3:1,f=n>=7?0:1;let m=u+o*2+f;return m<u&&(m=u),m>8&&(m=8),m},D0=t=>{if(!t||!t.admissionYear)return null;const e=R0(t),n=new Date,s=n.getMonth()+1,o=(s>=7?n.getFullYear():n.getFullYear()-1)-Number(t.admissionYear),u=t.isDSY?3:4;return o>=u&&(s>=7||o>u)?"Passout":e<=2?"1st Year":e<=4?"2nd Year":e<=6?"3rd Year":e<=8?"4th Year":"Passout"},Zm=t=>{if(!t||!t.admissionYear)return!1;const e=new Date;return(e.getMonth()+1>=7?e.getFullYear():e.getFullYear()-1)-Number(t.admissionYear)>=4},xT=t=>{if(!t||!t.admissionYear)return!1;const e=new Date,i=(e.getMonth()+1>=7?e.getFullYear():e.getFullYear()-1)-Number(t.admissionYear),u=(t.isDSY?3:4)+1;return i>=u};function yT({students:t,onStudentSelect:e,isLoading:n,studentManagement:s,theme:i,onThemeToggle:o}){const[u,f]=G.useState(""),[m,p]=G.useState(!1),[x,b]=G.useState(null),[w,_]=G.useState(""),[A,R]=G.useState(!1),[z,F]=G.useState(""),V=i==="dark",B=G.useMemo(()=>{if(!u.trim())return t;const j=u.toLowerCase();return t.filter(D=>D.name.toLowerCase().includes(j)||D.rollNo.toLowerCase().includes(j))},[t,u]),H=async j=>{j.isProtected?(b(j),p(!0),_(""),F("")):e(j)},X=async j=>{if(j.preventDefault(),!w.trim()){F("Please enter password");return}R(!0),F("");try{await s.authenticateStudent(x,w)?(e(x),p(!1)):(F("Incorrect password. Please try again."),_(""))}catch{F("Authentication failed. Please try again.")}finally{R(!1)}},L=()=>{p(!1),b(null),_(""),F("")},I=()=>{f("")};return n?c.jsx("div",{className:"w-full flex items-center justify-center py-20",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"relative inline-block mb-6",children:[c.jsx("div",{className:`absolute inset-0 blur-2xl opacity-20 animate-pulse ${V?"bg-blue-500":"bg-blue-600"}`}),c.jsx(Xs,{className:`w-20 h-20 relative z-10 ${V?"text-white":"text-blue-600"}`})]}),c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(mn,{className:`w-8 h-8 animate-spin ${V?"text-white/80":"text-blue-600"}`}),c.jsx("h1",{className:`text-3xl font-extrabold tracking-tight ${V?"text-white":"text-gray-900"}`,children:"Initializing Portal..."})]}),c.jsx("p",{className:`font-medium tracking-wide ${V?"text-blue-100/60":"text-gray-500"}`,children:"Syncing with MGM University Databases"})]})]})}):m&&x?c.jsx("div",{className:"w-full max-w-md animate-in fade-in zoom-in duration-300 px-4",children:c.jsxs("div",{className:`
          ${V?"glass-card":"glass-card-light"} 
          rounded-[2.5rem] p-8 md:p-10 shadow-2xl relative overflow-hidden group
        `,children:[c.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 rounded-full -mr-16 -mt-16 blur-3xl transition-all duration-500 ${V?"bg-white/5 group-hover:bg-white/10":"bg-blue-500/5 group-hover:bg-blue-500/10"}`}),c.jsxs("div",{className:"text-center mb-8 relative z-10",children:[c.jsx("div",{className:`
              w-20 h-20 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg transition-transform duration-500 group-hover:scale-110
              ${x.rollNo===Pe.rollNo?"bg-gradient-to-br from-amber-400 to-orange-600":"bg-gradient-to-br from-blue-500 to-indigo-700"}
            `,children:x.rollNo===Pe.rollNo?c.jsx(Cr,{className:"w-10 h-10 text-white drop-shadow-md"}):c.jsx(Xt,{className:"w-10 h-10 text-white drop-shadow-md"})}),c.jsx("h2",{className:`text-3xl font-black mb-2 tracking-tight ${V?"text-white":"text-gray-900"}`,children:x.rollNo===Pe.rollNo?"Admin Access":"Account Locked"}),c.jsxs("p",{className:`${V?"text-white/60":"text-gray-500"} font-medium`,children:["Enter credentials for ",x.name]})]}),c.jsx("div",{className:`mb-8 p-5 backdrop-blur-md rounded-[1.5rem] border ${V?"bg-white/5 border-white/10":"bg-gray-50 border-gray-100"}`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${V?"bg-white/10":"bg-blue-100"}`,children:c.jsx(Br,{className:`w-6 h-6 ${V?"text-white":"text-blue-600"}`})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:`font-bold text-lg truncate ${V?"text-white":"text-gray-900"}`,children:x.name}),c.jsxs("p",{className:`text-sm font-mono tracking-wider ${V?"text-white/50":"text-gray-400"}`,children:["ID: ",x.rollNo]})]})]})}),c.jsxs("form",{onSubmit:X,className:"space-y-6",children:[c.jsxs("div",{className:"relative group/input",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center transition-colors",children:c.jsx(us,{className:`w-5 h-5 transition-colors ${V?"text-white/40":"text-gray-400"}`})}),c.jsx("input",{type:"password",placeholder:"Secure Password",value:w,onChange:j=>_(j.target.value),className:`
                  w-full pl-12 pr-4 py-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all font-medium
                  ${V?"bg-white/5 border border-white/10 text-white placeholder-white/30 focus:bg-white/10":"bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-400 focus:bg-white"}
                `,required:!0,disabled:A,autoFocus:!0})]}),z&&c.jsxs("div",{className:`p-3 border rounded-xl text-sm font-medium flex items-center gap-2 ${V?"bg-red-500/10 border-red-500/20 text-red-400":"bg-red-50 border-red-100 text-red-600"}`,children:[c.jsx(an,{className:"w-4 h-4"}),z]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("button",{type:"submit",disabled:A||!w.trim(),className:`
                  w-full flex items-center justify-center gap-3 py-4 rounded-2xl font-bold text-white transition-all shadow-xl hover:shadow-2xl active:scale-[0.98] disabled:opacity-50
                  ${x.rollNo===Pe.rollNo?"bg-gradient-to-r from-amber-500 to-orange-600":"bg-gradient-to-r from-blue-600 to-indigo-600"}
                `,children:A?c.jsxs(c.Fragment,{children:[c.jsx(mn,{className:"w-5 h-5 animate-spin"}),c.jsx("span",{children:"Verifying Identity..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Xt,{className:"w-5 h-5"}),c.jsx("span",{children:"Unlock Account"})]})}),c.jsx("button",{type:"button",onClick:L,disabled:A,className:`w-full py-4 font-bold transition-colors ${V?"text-white/40 hover:text-white/80":"text-gray-400 hover:text-gray-600"}`,children:"Go Back"})]})]})]})}):c.jsxs("div",{className:"w-full max-w-4xl animate-in fade-in slide-in-from-bottom-8 duration-700 px-4 relative",children:[c.jsx("div",{className:"absolute top-0 right-4 z-20",children:c.jsx("button",{onClick:o,className:`
            p-3 rounded-2xl transition-all shadow-lg hover:scale-110 active:scale-95
            ${V?"bg-white/10 text-white hover:bg-white/20 border border-white/10":"bg-white text-gray-900 hover:bg-gray-50 border border-gray-200 shadow-blue-500/10"}
          `,title:`Switch to ${V?"Light":"Dark"} Mode`,children:V?c.jsx(tT,{className:"w-5 h-5 text-amber-400"}):c.jsx(C5,{className:"w-5 h-5 text-indigo-600"})})}),c.jsxs("div",{className:"text-center mb-12 relative",children:[c.jsxs("div",{className:"relative inline-block mb-8 group",children:[c.jsx("div",{className:`absolute inset-0 blur-3xl opacity-20 group-hover:opacity-40 transition-opacity duration-1000 ${V?"bg-blue-400":"bg-blue-600"}`}),c.jsx("div",{className:`
            w-24 h-24 backdrop-blur-2xl rounded-[2rem] flex items-center justify-center mx-auto shadow-2xl transform transition-transform group-hover:scale-110 group-hover:rotate-6 duration-500 border
            ${V?"bg-white/10 border-white/10":"bg-white border-blue-100"}
          `,children:c.jsx(Xs,{className:`w-12 h-12 drop-shadow-md ${V?"text-white":"text-blue-600"}`})})]}),c.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4 tracking-tighter px-2",children:[c.jsx("span",{className:`bg-clip-text text-transparent bg-gradient-to-r ${V?"from-blue-200 via-white to-indigo-200":"from-blue-600 via-indigo-700 to-purple-800"}`,children:"Academic Progress"}),c.jsx("br",{}),c.jsx("span",{className:`bg-clip-text text-transparent bg-gradient-to-r ${V?"from-blue-400 to-indigo-400":"from-blue-500 to-indigo-600"}`,children:"Tracker Portal"})]}),c.jsx("p",{className:`font-medium text-lg max-w-md mx-auto leading-relaxed ${V?"text-slate-300":"text-gray-600"}`,children:"The unified digital portal for MGM University engineering students. Select your identity to begin."})]}),c.jsxs("div",{className:`
        ${V?"glass-card":"glass-card-light"} 
        rounded-[3rem] p-4 md:p-10 shadow-2xl relative
      `,children:[c.jsx("div",{className:`absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-transparent via-blue-500/30 to-transparent rounded-full ${V?"opacity-50":"opacity-30"}`}),c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 px-4 pt-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ring-1 ${V?"bg-blue-500/20 ring-white/10":"bg-blue-100 ring-blue-200"}`,children:c.jsx(gs,{className:`w-6 h-6 ${V?"text-blue-400":"text-blue-600"}`})}),c.jsxs("div",{children:[c.jsx("h2",{className:`text-2xl font-black tracking-tight ${V?"text-white":"text-gray-900"}`,children:"Student Profiles"}),c.jsxs("span",{className:`text-sm font-bold tracking-widest uppercase ${V?"text-slate-400":"text-gray-500"}`,children:[t.length," Registered"]})]})]}),c.jsxs("div",{className:"relative group/search flex-1 max-w-md",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:c.jsx(vf,{className:`w-5 h-5 transition-colors ${V?"text-slate-500 group-focus-within/search:text-blue-400":"text-gray-400"}`})}),c.jsx("input",{type:"text",placeholder:"Filter by name or roll...",value:u,onChange:j=>f(j.target.value),className:`
                w-full pl-12 pr-12 py-4 border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all font-medium
                ${V?"bg-slate-900/40 border-white/5 text-white placeholder-slate-500 focus:bg-slate-900/60":"bg-gray-50 border-gray-100 text-gray-900 placeholder-gray-400 focus:bg-white"}
              `}),u&&c.jsx("button",{onClick:I,className:`absolute inset-y-0 right-0 pr-4 flex items-center transition-colors ${V?"text-slate-500 hover:text-white":"text-gray-400 hover:text-gray-600"}`,children:c.jsx(an,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide p-2",children:B.length>0?B.map(j=>c.jsx("button",{onClick:()=>H(j),className:`
                  w-full flex items-center p-5 rounded-[1.75rem] border transition-all text-left hover-lift relative group/student
                  ${V?j.rollNo===Pe.rollNo?"border-amber-500/30 bg-amber-500/5 hover:border-amber-400 hover:bg-amber-500/10":j.isProtected?"border-indigo-500/30 bg-indigo-500/5 hover:border-indigo-400 hover:bg-indigo-500/10":"border-white/5 bg-white/5 hover:border-blue-400/30 hover:bg-white/10":j.rollNo===Pe.rollNo?"border-amber-200 bg-amber-50/50 hover:border-amber-400 hover:bg-amber-50":j.isProtected?"border-blue-200 bg-blue-50/50 hover:border-blue-400 hover:bg-blue-50":"border-gray-100 bg-gray-50/50 hover:border-blue-300 hover:bg-white hover:shadow-lg hover:shadow-blue-500/5"}
                `,children:c.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[c.jsx("div",{className:`
                    w-14 h-14 rounded-2xl flex items-center justify-center shadow-inner shrink-0 scale-95 group-hover/student:scale-100 transition-transform duration-300
                    ${j.rollNo===Pe.rollNo?"bg-gradient-to-br from-amber-400 to-orange-500 text-amber-950 shadow-lg shadow-amber-500/20":j.isProtected?"bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg shadow-indigo-500/20":V?"bg-white/10 text-slate-300":"bg-blue-100 text-blue-600"}
                  `,children:j.rollNo===Pe.rollNo?c.jsx(Cr,{className:"w-7 h-7"}):j.isProtected?c.jsx(Xt,{className:"w-7 h-7"}):c.jsx(Br,{className:"w-7 h-7"})}),c.jsxs("div",{className:"min-w-0 pr-2",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[c.jsx("h3",{className:`font-bold text-lg leading-tight truncate ${V?"text-white":"text-gray-900"}`,children:j.name}),j.rollNo===Pe.rollNo&&c.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-black uppercase tracking-wider border ${V?"bg-amber-400/20 text-amber-300 border-amber-400/30":"bg-amber-100 text-amber-700 border-amber-200"}`,children:"Admin"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[j.admissionYear&&c.jsx("span",{className:`text-[10px] font-black uppercase tracking-tighter px-2.5 py-1 rounded-lg border ${V?"text-blue-300 bg-blue-500/20 border-blue-500/20":"text-blue-600 bg-blue-50 border-blue-100"}`,children:D0(j)}),c.jsxs("span",{className:`text-sm font-bold tracking-wide ${V?"text-slate-500 font-mono":"text-gray-600"}`,children:["ROLL: ",j.rollNo]})]})]}),j.isProtected&&c.jsx("div",{className:`ml-auto transition-opacity ${V?"opacity-40 group-hover/student:opacity-100":"text-blue-400"}`,children:c.jsx(us,{className:"w-4 h-4"})})]})},j.rollNo)):c.jsxs("div",{className:`col-span-full text-center py-20 rounded-3xl border border-dashed ${V?"bg-white/5 border-white/10":"bg-gray-50 border-gray-200"}`,children:[c.jsx(gs,{className:`w-16 h-16 mx-auto mb-4 ${V?"text-white/5":"text-gray-200"}`}),c.jsx("p",{className:`font-bold text-xl ${V?"text-slate-500":"text-gray-400"}`,children:"No profiles match your search"}),c.jsx("button",{onClick:I,className:"mt-4 text-blue-500 font-bold hover:underline",children:"Clear all filters"})]})}),c.jsx("div",{className:`mt-8 p-6 backdrop-blur-md rounded-[2rem] border mx-2 ${V?"bg-slate-900/40 border-white/5 text-slate-400":"bg-gray-50 border-gray-100 text-gray-500"}`,children:c.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium leading-relaxed justify-center md:justify-start",children:[c.jsx(Xt,{className:`w-4 h-4 shrink-0 ${V?"text-blue-400/60":"text-blue-500"}`}),c.jsxs("p",{className:"text-center md:text-left",children:["Secure authentication enabled. Profiles marked with ",c.jsx(Xt,{className:"w-3 h-3 inline mx-0.5 mb-1"}),"require unique passwords managed by the administrator."]})]})})]})]})}function bT({semester:t,syncStatus:e,selectedStudent:n,onStudentSwitch:s,onNavigate:i}){const{isOnline:o,isSyncing:u,lastSynced:f}=e;return c.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200 sticky top-0 z-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-2 sm:py-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 sm:hidden",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm",children:c.jsx(Xs,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("h1",{className:"text-lg font-bold text-gray-900 truncate leading-tight",children:"Academic Tracker"}),c.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Semester ",t]})]})]}),n&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>i(4),className:"p-2 bg-blue-50 text-blue-600 rounded-xl border border-blue-100 active:scale-95 transition-all shadow-sm",title:"Students & Settings",children:c.jsx(La,{className:"w-5 h-5"})}),c.jsxs("button",{onClick:s,className:"flex items-center gap-2 pl-3 py-1.5 pr-1.5 bg-gray-50 rounded-full border border-gray-200 active:scale-95 transition-all shadow-sm",title:"Switch Student",children:[c.jsx("div",{className:"text-right hidden xs:block",children:c.jsx("div",{className:"text-xs font-semibold text-gray-900 truncate max-w-[80px]",children:n.name.split(" ")[0]})}),c.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center border border-gray-100",children:c.jsx(sb,{className:"w-3.5 h-3.5 text-gray-400"})})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs border-t border-gray-100 pt-1.5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[u?c.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 font-medium",children:[c.jsx(mn,{className:"w-3.5 h-3.5 animate-spin"}),c.jsx("span",{children:"Syncing..."})]}):o?c.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 font-medium",children:[c.jsxs("div",{className:"relative",children:[c.jsx(nb,{className:"w-3.5 h-3.5"}),f&&c.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-green-500 rounded-full border border-white"})]}),c.jsx("span",{children:"Online"})]}):c.jsxs("div",{className:"flex items-center gap-1.5 text-orange-600 font-medium",children:[c.jsx(tb,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:"Offline"})]}),c.jsx("div",{className:"w-px h-3 bg-gray-300"}),c.jsx("div",{className:"text-gray-500",children:(()=>{const m=new Date,p=m.getFullYear(),x=m.getMonth()>=5?p:p-1;return`${x}-${(x+1).toString().slice(-2)}`})()})]}),n&&c.jsxs("span",{className:"text-gray-400 font-mono",children:["#",n.rollNo]})]})]}),c.jsxs("div",{className:"hidden sm:flex items-center justify-between gap-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-md",children:c.jsx(Xs,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 truncate",children:"Academic Progress Tracker"}),c.jsxs("p",{className:"text-sm text-gray-600 truncate",children:["Semester ",t,"  Track your academic journey"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 md:gap-8",children:[c.jsxs("div",{className:"hidden md:flex flex-col items-end text-right",children:[c.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:"Academic Year"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900 flex items-center gap-1.5",children:[c.jsx(kr,{className:"w-4 h-4 text-blue-500"}),(()=>{const m=new Date,p=m.getFullYear(),x=m.getMonth()>=5?p:p-1;return`${x}-${(x+1).toString().slice(-2)}`})()]})]}),c.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[c.jsx("div",{className:"flex items-center gap-2 text-sm",children:u?c.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 font-medium bg-blue-50 px-2 py-0.5 rounded-full",children:[c.jsx(mn,{className:"w-3.5 h-3.5 animate-spin"}),c.jsx("span",{children:"Syncing..."})]}):o?c.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 font-medium bg-green-50 px-2 py-0.5 rounded-full border border-green-100",children:[c.jsx(nb,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:"Online"}),f&&c.jsx(bf,{className:"w-3 h-3 ml-1"})]}):c.jsxs("div",{className:"flex items-center gap-1.5 text-orange-600 font-medium bg-orange-50 px-2 py-0.5 rounded-full border border-orange-100",children:[c.jsx(tb,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:"Offline"})]})}),f&&c.jsxs("div",{className:"text-[10px] text-gray-400 font-medium",children:["Synced: ",f.toLocaleTimeString()]})]}),n&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>i(4),className:"flex items-center gap-2 px-3 py-2 bg-gray-50 text-gray-600 rounded-xl hover:bg-blue-50 hover:text-blue-600 border border-transparent hover:border-blue-100 transition-all font-medium text-sm group",children:[c.jsx(La,{className:"w-4 h-4 group-hover:rotate-45 transition-transform"}),c.jsx("span",{children:"Manage"})]}),c.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 bg-gray-50 text-gray-600 rounded-xl hover:bg-orange-50 hover:text-orange-600 border border-transparent hover:border-orange-100 transition-all font-medium text-sm group",children:[c.jsx(sb,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"}),c.jsx("span",{children:"Switch"})]})]}),c.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right hidden lg:block",children:[c.jsxs("div",{className:"flex items-center gap-1.5 justify-end",children:[c.jsx("span",{className:"text-sm font-bold text-gray-900",children:n.name}),n.rollNo==="2405225"&&c.jsx(Cr,{className:"w-3.5 h-3.5 text-yellow-500"})]}),c.jsx("span",{className:"text-xs text-gray-500 font-mono bg-gray-100 px-1.5 py-0.5 rounded",children:n.rollNo})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-10 h-10 bg-white border-2 border-gray-100 rounded-xl flex items-center justify-center shadow-sm",children:c.jsx(Br,{className:"w-5 h-5 text-gray-400"})}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center border-2 border-white text-white text-[10px] font-bold shadow-sm",children:n.name.charAt(0)})]})]})]})]})]})]})})}const vT=[{id:0,label:"Theory Subjects",icon:Gd},{id:1,label:"Practicals",icon:b2},{id:2,label:"Notice Board",icon:Di},{id:3,label:"Personal Notes",icon:j0},{id:7,label:"Calendar",icon:kr}];function wT({activeTab:t,onTabChange:e,showDegreeTab:n=!1,showAdminTab:s=!1}){const i=G.useRef(null),[o,u]=G.useState(!1),[f,m]=G.useState(0),[p,x]=G.useState(0);let b=[...vT];n&&b.push({id:5,label:"Degree Completion",icon:bf}),s&&b.push({id:6,label:"Admin Privileges",icon:us});const w=z=>{u(!0),m(z.pageX-i.current.offsetLeft),x(i.current.scrollLeft)},_=()=>{u(!1)},A=()=>{u(!1)},R=z=>{if(!o)return;z.preventDefault();const V=(z.pageX-i.current.offsetLeft-f)*2;i.current.scrollLeft=p-V};return G.useEffect(()=>{const z=i.current;if(z){const F=V=>{V.deltaY!==0&&(V.preventDefault(),z.scrollTo({left:z.scrollLeft+V.deltaY,behavior:"smooth"}))};return z.addEventListener("wheel",F),()=>z.removeEventListener("wheel",F)}},[]),c.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-[92px] sm:top-[72px] z-40",children:c.jsx("div",{className:"max-w-7xl mx-auto px-2 md:px-6",children:c.jsx("div",{ref:i,className:`flex space-x-1 overflow-x-auto pb-2 scrollbar-hide ${o?"cursor-grabbing":"cursor-grab"}`,onMouseDown:w,onMouseLeave:_,onMouseUp:A,onMouseMove:R,children:b.map(z=>c.jsxs("button",{onClick:()=>{o||e(z.id)},className:`
                flex items-center gap-2 px-3 py-3 md:px-6 md:py-4 font-medium transition-all duration-200 border-b-2 relative whitespace-nowrap text-sm md:text-base select-none
                ${t===z.id?z.id===6?"text-yellow-600 border-yellow-600 bg-yellow-50":"text-blue-600 border-blue-600 bg-blue-50":"text-gray-600 border-transparent hover:text-gray-900 hover:bg-gray-50"}
              `,children:[c.jsx(z.icon,{className:"w-4 h-4 md:w-5 md:h-5"}),c.jsx("span",{children:z.label}),t===z.id&&c.jsx(_p,{className:"w-3 h-3 md:w-4 md:h-4 ml-1"})]},z.id))})})})}function ja({children:t,value:e,index:n,className:s=""}){return c.jsx("div",{className:`transition-all duration-300 ${e!==n?"hidden opacity-0":"opacity-100"}`,style:{display:e!==n?"none":"block"},children:c.jsx("div",{className:`p-6 ${s}`,children:t})})}const _T=G.memo(function({subject:e,onDataChange:n,initialData:s,assessmentNotices:i=[]}){const[o,u]=G.useState({ca1:{type:"",date:"",marks:"",source:null},ca2:{type:"",date:"",marks:"",source:null},ca3:{type:"",date:"",marks:"",source:null},ca4:{type:"",date:"",marks:"",source:null},midSem:{date:"",marks:"",source:null}}),[f,m]=G.useState(!1);G.useEffect(()=>{s&&u(s)},[s]),G.useEffect(()=>{const A={};i.forEach(F=>{(F.meta?.assessments||[]).forEach(B=>{if(B.subject?.toLowerCase().trim()===e?.toLowerCase().trim()){const X=B.assessmentType?.toLowerCase().replace("-","");let L=X;X==="midsem"&&(L="midSem"),o[L]&&(A[L]={date:B.date?B.date.split("T")[0]:"",type:B.assessmentName||""})}})});let R=!1;const z={...o};Object.keys(z).forEach(F=>{const V=A[F],B=z[F];V?(!B.date&&V.date||!B.type&&V.type&&F!=="midSem"||B.source==="notice"&&(B.date!==V.date||F!=="midSem"&&B.type!==V.type))&&(z[F]={...B,date:V.date,type:F==="midSem"?B.type:V.type,source:"notice"},R=!0):B.source==="notice"&&(z[F]={...B,date:"",type:"",source:null},R=!0)}),R&&(u(z),n&&n(e,z))},[i,e]);const p=(A,R,z)=>{if(R==="marks"&&z!==""){const V=parseFloat(z),B=A==="midSem"?20:10;if(V<0||V>B)return}const F={...o,[A]:{...o[A],[R]:z,source:R==="date"||R==="type"?"manual":o[A].source}};u(F),n&&n(e,F)},x=()=>{let R=0;return["ca1","ca2","ca3","ca4"].forEach(z=>{o[z].type&&R++,o[z].date&&R++,o[z].marks&&R++}),o.midSem.date&&R++,o.midSem.marks&&R++,Math.round(R/14*100)},b=()=>{let A=0;["ca1","ca2","ca3","ca4"].forEach(z=>{const F=parseFloat(o[z].marks);isNaN(F)||(A+=F)});const R=parseFloat(o.midSem.marks);return isNaN(R)||(A+=R),A},w=x(),_=b();return c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white cursor-pointer",onClick:()=>m(!f),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Gd,{className:"w-6 h-6"}),c.jsx("h3",{className:"text-lg font-bold",children:e})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"text-sm opacity-90",children:[w,"%"]}),c.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${w}%`}})})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[c.jsx(AE,{className:"w-4 h-4"}),c.jsx("span",{children:"Internal Assessment"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"text-right",children:c.jsxs("div",{className:"text-lg font-bold",children:[_,"/60"]})}),c.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg hover:bg-white/30 transition-colors",children:f?c.jsx(lb,{className:"w-4 h-4"}):c.jsx(Gd,{className:"w-4 h-4"})})]})]})]}),!f&&c.jsxs("div",{className:"p-4 bg-gray-50/50 cursor-pointer",onClick:()=>m(!0),children:[c.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2 text-center",children:[["ca1","ca2","ca3","ca4"].map((A,R)=>c.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl border border-gray-100 bg-white shadow-sm",children:[c.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:["CA-",R+1]}),c.jsx("span",{className:`font-mono font-bold ${o[A].marks?"text-gray-800 text-lg":"text-gray-300"}`,children:o[A].marks||"0"})]},A)),c.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl border border-orange-100 bg-orange-50 shadow-sm",children:[c.jsx("span",{className:"text-xs font-bold text-orange-400 uppercase tracking-wider mb-1",children:"Mid"}),c.jsx("span",{className:`font-mono font-bold ${o.midSem.marks?"text-orange-900 text-lg":"text-orange-300"}`,children:o.midSem.marks||"0"})]})]}),c.jsx("div",{className:"mt-3 text-center",children:c.jsx("span",{className:"text-xs font-medium text-blue-500 hover:text-blue-600 transition-colors uppercase tracking-widest border-b border-dashed border-blue-300 pb-0.5",children:"Tap card to edit details"})})]}),f&&c.jsxs("div",{className:"p-6 space-y-6 animate-in slide-in-from-top-4 duration-300",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[c.jsx(lb,{className:"w-4 h-4"}),"Continuous Assessment (4  10 = 40 marks)"]}),[1,2,3,4].map(A=>c.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3 border border-gray-100 hover:border-blue-200 transition-colors",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"font-medium text-gray-800",children:["CA-",A]}),o[`ca${A}`].marks&&c.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:[o[`ca${A}`].marks,"/10"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",value:o[`ca${A}`].type,onChange:R=>p(`ca${A}`,"type",R.target.value),children:[c.jsx("option",{value:"",children:"Select Type"}),gT.map(R=>c.jsx("option",{value:R,children:R},R))]}),c.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o[`ca${A}`].date,onChange:R=>p(`ca${A}`,"date",R.target.value)}),c.jsx("input",{type:"number",min:"0",max:"10",step:"0.5",placeholder:"Marks (0-10)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o[`ca${A}`].marks,onChange:R=>p(`ca${A}`,"marks",R.target.value),onKeyDown:R=>{(R.key==="-"||R.key==="+")&&R.preventDefault()}})]})]},A))]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[c.jsx(x2,{className:"w-4 h-4"}),"Mid Semester Exam (20 marks)"]}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-4 border border-orange-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"font-medium text-gray-800",children:"Mid-Sem Exam"}),o.midSem.marks&&c.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium",children:[o.midSem.marks,"/20"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:o.midSem.date,onChange:A=>p("midSem","date",A.target.value)}),c.jsx("input",{type:"number",min:"0",max:"20",step:"0.5",placeholder:"Marks (0-20)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:o.midSem.marks,onChange:A=>p("midSem","marks",A.target.value),onKeyDown:A=>{(A.key==="-"||A.key==="+")&&A.preventDefault()}})]})]})]}),c.jsx("button",{onClick:A=>{A.stopPropagation(),m(!1)},className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-600 font-bold rounded-xl transition-colors uppercase tracking-wide text-sm",children:"Done Editing"})]})]})}),NT=()=>{};var cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ET=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[s++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],u=t[n++],f=t[n++],m=((i&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],u=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},_2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const o=t[i],u=i+1<t.length,f=u?t[i+1]:0,m=i+2<t.length,p=m?t[i+2]:0,x=o>>2,b=(o&3)<<4|f>>4;let w=(f&15)<<2|p>>6,_=p&63;m||(_=64,u||(w=64)),s.push(n[x],n[b],n[w],n[_])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ET(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],f=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const b=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||f==null||p==null||b==null)throw new TT;const w=o<<2|f>>4;if(s.push(w),p!==64){const _=f<<4&240|p>>2;if(s.push(_),b!==64){const A=p<<6&192|b;s.push(A)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ST=function(t){const e=w2(t);return _2.encodeByteArray(e,!0)},Qd=function(t){return ST(t).replace(/\./g,"")},AT=function(t){try{return _2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=()=>jT().__FIREBASE_DEFAULTS__,CT=()=>{if(typeof process>"u"||typeof cb>"u")return;const t=cb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AT(t[1]);return e&&JSON.parse(e)},Ap=()=>{try{return NT()||kT()||CT()||RT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DT=t=>Ap()?.emulatorHosts?.[t],IT=t=>{const e=DT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},N2=()=>Ap()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qd(JSON.stringify(n)),Qd(JSON.stringify(u)),""].join(".")}const Tc={};function PT(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?t.emulator.push(e):t.prod.push(e);return t}function LT(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ub=!1;function zT(t,e){if(typeof window>"u"||typeof document>"u"||!jp(window.location.host)||Tc[t]===e||Tc[t]||ub)return;Tc[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",o=PT().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,_){w.setAttribute("width","24"),w.setAttribute("id",_),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{ub=!0,u()},w}function x(w,_){w.setAttribute("id",_),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=LT(s),_=n("text"),A=document.getElementById(_)||document.createElement("span"),R=n("learnmore"),z=document.getElementById(R)||document.createElement("a"),F=n("preprendIcon"),V=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const B=w.element;f(B),x(z,R);const H=p();m(V,F),B.append(V,A,z,H),document.body.appendChild(B)}o?(A.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BT(){const t=Ap()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FT(){return!BT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qT(){try{return typeof indexedDB=="object"}catch{return!1}}function $T(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="FirebaseError";class ro extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=HT,Object.setPrototypeOf(this,ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E2.prototype.create)}}class E2{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?YT(o,s):"Error",f=`${this.serviceName}: ${u} (${i}).`;return new ro(i,f,s)}}function YT(t,e){return t.replace(GT,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const GT=/\{\$([^}]+)}/g;function Xd(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const o=t[i],u=e[i];if(db(o)&&db(u)){if(!Xd(o,u))return!1}else if(o!==u)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function db(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){return t&&t._delegate?t._delegate:t}class Mc{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new MT;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KT(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});s.resolve(o)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);s===f&&u.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XT(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XT(t){return t===Ri?void 0:t}function KT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const JT={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},WT=st.INFO,e3={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},t3=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=e3[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T2{constructor(e){this.name=e,this._logLevel=WT,this._logHandler=t3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const n3=(t,e)=>e.some(n=>t instanceof n);let fb,hb;function r3(){return fb||(fb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s3(){return hb||(hb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S2=new WeakMap,I0=new WeakMap,A2=new WeakMap,Jm=new WeakMap,kp=new WeakMap;function a3(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Ia(t.result)),i()},u=()=>{s(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&S2.set(n,t)}).catch(()=>{}),kp.set(e,t),e}function i3(t){if(I0.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),i()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});I0.set(t,e)}let M0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return I0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ia(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function l3(t){M0=t(M0)}function o3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Wm(this),e,...n);return A2.set(s,e.sort?e.sort():[e]),Ia(s)}:s3().includes(t)?function(...e){return t.apply(Wm(this),e),Ia(S2.get(this))}:function(...e){return Ia(t.apply(Wm(this),e))}}function c3(t){return typeof t=="function"?o3(t):(t instanceof IDBTransaction&&i3(t),n3(t,r3())?new Proxy(t,M0):t)}function Ia(t){if(t instanceof IDBRequest)return a3(t);if(Jm.has(t))return Jm.get(t);const e=c3(t);return e!==t&&(Jm.set(t,e),kp.set(e,t)),e}const Wm=t=>kp.get(t);function u3(t,e,{blocked:n,upgrade:s,blocking:i,terminated:o}={}){const u=indexedDB.open(t,e),f=Ia(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Ia(u.result),m.oldVersion,m.newVersion,Ia(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{o&&m.addEventListener("close",()=>o()),i&&m.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const d3=["get","getKey","getAll","getAllKeys","count"],f3=["put","add","delete","clear"],e0=new Map;function mb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(e0.get(e))return e0.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=f3.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||d3.includes(n)))return;const o=async function(u,...f){const m=this.transaction(u,i?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),i&&m.done]))[0]};return e0.set(e,o),o}l3(t=>({...t,get:(e,n,s)=>mb(e,n)||t.get(e,n,s),has:(e,n)=>!!mb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m3(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function m3(t){return t.getComponent()?.type==="VERSION"}const O0="@firebase/app",pb="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new T2("@firebase/app"),p3="@firebase/app-compat",g3="@firebase/analytics-compat",x3="@firebase/analytics",y3="@firebase/app-check-compat",b3="@firebase/app-check",v3="@firebase/auth",w3="@firebase/auth-compat",_3="@firebase/database",N3="@firebase/data-connect",E3="@firebase/database-compat",T3="@firebase/functions",S3="@firebase/functions-compat",A3="@firebase/installations",j3="@firebase/installations-compat",k3="@firebase/messaging",C3="@firebase/messaging-compat",R3="@firebase/performance",D3="@firebase/performance-compat",I3="@firebase/remote-config",M3="@firebase/remote-config-compat",O3="@firebase/storage",V3="@firebase/storage-compat",P3="@firebase/firestore",L3="@firebase/ai",z3="@firebase/firestore-compat",U3="firebase",B3="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="[DEFAULT]",F3={[O0]:"fire-core",[p3]:"fire-core-compat",[x3]:"fire-analytics",[g3]:"fire-analytics-compat",[b3]:"fire-app-check",[y3]:"fire-app-check-compat",[v3]:"fire-auth",[w3]:"fire-auth-compat",[_3]:"fire-rtdb",[N3]:"fire-data-connect",[E3]:"fire-rtdb-compat",[T3]:"fire-fn",[S3]:"fire-fn-compat",[A3]:"fire-iid",[j3]:"fire-iid-compat",[k3]:"fire-fcm",[C3]:"fire-fcm-compat",[R3]:"fire-perf",[D3]:"fire-perf-compat",[I3]:"fire-rc",[M3]:"fire-rc-compat",[O3]:"fire-gcs",[V3]:"fire-gcs-compat",[P3]:"fire-fst",[z3]:"fire-fst-compat",[L3]:"fire-vertex","fire-js":"fire-js",[U3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Map,q3=new Map,P0=new Map;function gb(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zd(t){const e=t.name;if(P0.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;P0.set(e,t);for(const n of Kd.values())gb(n,t);for(const n of q3.values())gb(n,t);return!0}function $3(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function H3(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new E2("app","Firebase",Y3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Mc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=B3;function j2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:V0,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw Ma.create("bad-app-name",{appName:String(i)});if(n||(n=N2()),!n)throw Ma.create("no-options");const o=Kd.get(i);if(o){if(Xd(n,o.options)&&Xd(s,o.config))return o;throw Ma.create("duplicate-app",{appName:i})}const u=new ZT(i);for(const m of P0.values())u.addComponent(m);const f=new G3(n,s,u);return Kd.set(i,f),f}function X3(t=V0){const e=Kd.get(t);if(!e&&t===V0&&N2())return j2();if(!e)throw Ma.create("no-app",{appName:t});return e}function $l(t,e,n){let s=F3[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const u=[`Unable to register library "${s}" with version "${e}":`];i&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(u.join(" "));return}Zd(new Mc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="firebase-heartbeat-database",Z3=1,Oc="firebase-heartbeat-store";let t0=null;function k2(){return t0||(t0=u3(K3,Z3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ma.create("idb-open",{originalErrorMessage:t.message})})),t0}async function J3(t){try{const n=(await k2()).transaction(Oc),s=await n.objectStore(Oc).get(C2(t));return await n.done,s}catch(e){if(e instanceof ro)Ks.warn(e.message);else{const n=Ma.create("idb-get",{originalErrorMessage:e?.message});Ks.warn(n.message)}}}async function xb(t,e){try{const s=(await k2()).transaction(Oc,"readwrite");await s.objectStore(Oc).put(e,C2(t)),await s.done}catch(n){if(n instanceof ro)Ks.warn(n.message);else{const s=Ma.create("idb-set",{originalErrorMessage:n?.message});Ks.warn(s.message)}}}function C2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=1024,eS=30;class tS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>eS){const i=sS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yb(),{heartbeatsToSend:n,unsentEntries:s}=nS(this._heartbeatsCache.heartbeats),i=Qd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ks.warn(e),""}}}function yb(){return new Date().toISOString().substring(0,10)}function nS(t,e=W3){const n=[];let s=t.slice();for(const i of t){const o=n.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),bb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qT()?$T().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bb(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}function sS(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){Zd(new Mc("platform-logger",e=>new h3(e),"PRIVATE")),Zd(new Mc("heartbeat",e=>new tS(e),"PRIVATE")),$l(O0,pb,t),$l(O0,pb,"esm2020"),$l("fire-js","")}aS("");var vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oa,R2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,j){function D(){}D.prototype=j.prototype,I.D=j.prototype,I.prototype=new D,I.prototype.constructor=I,I.C=function(k,P,O){for(var C=Array(arguments.length-2),se=2;se<arguments.length;se++)C[se-2]=arguments[se];return j.prototype[P].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,j,D){D||(D=0);var k=Array(16);if(typeof j=="string")for(var P=0;16>P;++P)k[P]=j.charCodeAt(D++)|j.charCodeAt(D++)<<8|j.charCodeAt(D++)<<16|j.charCodeAt(D++)<<24;else for(P=0;16>P;++P)k[P]=j[D++]|j[D++]<<8|j[D++]<<16|j[D++]<<24;j=I.g[0],D=I.g[1],P=I.g[2];var O=I.g[3],C=j+(O^D&(P^O))+k[0]+3614090360&4294967295;j=D+(C<<7&4294967295|C>>>25),C=O+(P^j&(D^P))+k[1]+3905402710&4294967295,O=j+(C<<12&4294967295|C>>>20),C=P+(D^O&(j^D))+k[2]+606105819&4294967295,P=O+(C<<17&4294967295|C>>>15),C=D+(j^P&(O^j))+k[3]+3250441966&4294967295,D=P+(C<<22&4294967295|C>>>10),C=j+(O^D&(P^O))+k[4]+4118548399&4294967295,j=D+(C<<7&4294967295|C>>>25),C=O+(P^j&(D^P))+k[5]+1200080426&4294967295,O=j+(C<<12&4294967295|C>>>20),C=P+(D^O&(j^D))+k[6]+2821735955&4294967295,P=O+(C<<17&4294967295|C>>>15),C=D+(j^P&(O^j))+k[7]+4249261313&4294967295,D=P+(C<<22&4294967295|C>>>10),C=j+(O^D&(P^O))+k[8]+1770035416&4294967295,j=D+(C<<7&4294967295|C>>>25),C=O+(P^j&(D^P))+k[9]+2336552879&4294967295,O=j+(C<<12&4294967295|C>>>20),C=P+(D^O&(j^D))+k[10]+4294925233&4294967295,P=O+(C<<17&4294967295|C>>>15),C=D+(j^P&(O^j))+k[11]+2304563134&4294967295,D=P+(C<<22&4294967295|C>>>10),C=j+(O^D&(P^O))+k[12]+1804603682&4294967295,j=D+(C<<7&4294967295|C>>>25),C=O+(P^j&(D^P))+k[13]+4254626195&4294967295,O=j+(C<<12&4294967295|C>>>20),C=P+(D^O&(j^D))+k[14]+2792965006&4294967295,P=O+(C<<17&4294967295|C>>>15),C=D+(j^P&(O^j))+k[15]+1236535329&4294967295,D=P+(C<<22&4294967295|C>>>10),C=j+(P^O&(D^P))+k[1]+4129170786&4294967295,j=D+(C<<5&4294967295|C>>>27),C=O+(D^P&(j^D))+k[6]+3225465664&4294967295,O=j+(C<<9&4294967295|C>>>23),C=P+(j^D&(O^j))+k[11]+643717713&4294967295,P=O+(C<<14&4294967295|C>>>18),C=D+(O^j&(P^O))+k[0]+3921069994&4294967295,D=P+(C<<20&4294967295|C>>>12),C=j+(P^O&(D^P))+k[5]+3593408605&4294967295,j=D+(C<<5&4294967295|C>>>27),C=O+(D^P&(j^D))+k[10]+38016083&4294967295,O=j+(C<<9&4294967295|C>>>23),C=P+(j^D&(O^j))+k[15]+3634488961&4294967295,P=O+(C<<14&4294967295|C>>>18),C=D+(O^j&(P^O))+k[4]+3889429448&4294967295,D=P+(C<<20&4294967295|C>>>12),C=j+(P^O&(D^P))+k[9]+568446438&4294967295,j=D+(C<<5&4294967295|C>>>27),C=O+(D^P&(j^D))+k[14]+3275163606&4294967295,O=j+(C<<9&4294967295|C>>>23),C=P+(j^D&(O^j))+k[3]+4107603335&4294967295,P=O+(C<<14&4294967295|C>>>18),C=D+(O^j&(P^O))+k[8]+1163531501&4294967295,D=P+(C<<20&4294967295|C>>>12),C=j+(P^O&(D^P))+k[13]+2850285829&4294967295,j=D+(C<<5&4294967295|C>>>27),C=O+(D^P&(j^D))+k[2]+4243563512&4294967295,O=j+(C<<9&4294967295|C>>>23),C=P+(j^D&(O^j))+k[7]+1735328473&4294967295,P=O+(C<<14&4294967295|C>>>18),C=D+(O^j&(P^O))+k[12]+2368359562&4294967295,D=P+(C<<20&4294967295|C>>>12),C=j+(D^P^O)+k[5]+4294588738&4294967295,j=D+(C<<4&4294967295|C>>>28),C=O+(j^D^P)+k[8]+2272392833&4294967295,O=j+(C<<11&4294967295|C>>>21),C=P+(O^j^D)+k[11]+1839030562&4294967295,P=O+(C<<16&4294967295|C>>>16),C=D+(P^O^j)+k[14]+4259657740&4294967295,D=P+(C<<23&4294967295|C>>>9),C=j+(D^P^O)+k[1]+2763975236&4294967295,j=D+(C<<4&4294967295|C>>>28),C=O+(j^D^P)+k[4]+1272893353&4294967295,O=j+(C<<11&4294967295|C>>>21),C=P+(O^j^D)+k[7]+4139469664&4294967295,P=O+(C<<16&4294967295|C>>>16),C=D+(P^O^j)+k[10]+3200236656&4294967295,D=P+(C<<23&4294967295|C>>>9),C=j+(D^P^O)+k[13]+681279174&4294967295,j=D+(C<<4&4294967295|C>>>28),C=O+(j^D^P)+k[0]+3936430074&4294967295,O=j+(C<<11&4294967295|C>>>21),C=P+(O^j^D)+k[3]+3572445317&4294967295,P=O+(C<<16&4294967295|C>>>16),C=D+(P^O^j)+k[6]+76029189&4294967295,D=P+(C<<23&4294967295|C>>>9),C=j+(D^P^O)+k[9]+3654602809&4294967295,j=D+(C<<4&4294967295|C>>>28),C=O+(j^D^P)+k[12]+3873151461&4294967295,O=j+(C<<11&4294967295|C>>>21),C=P+(O^j^D)+k[15]+530742520&4294967295,P=O+(C<<16&4294967295|C>>>16),C=D+(P^O^j)+k[2]+3299628645&4294967295,D=P+(C<<23&4294967295|C>>>9),C=j+(P^(D|~O))+k[0]+4096336452&4294967295,j=D+(C<<6&4294967295|C>>>26),C=O+(D^(j|~P))+k[7]+1126891415&4294967295,O=j+(C<<10&4294967295|C>>>22),C=P+(j^(O|~D))+k[14]+2878612391&4294967295,P=O+(C<<15&4294967295|C>>>17),C=D+(O^(P|~j))+k[5]+4237533241&4294967295,D=P+(C<<21&4294967295|C>>>11),C=j+(P^(D|~O))+k[12]+1700485571&4294967295,j=D+(C<<6&4294967295|C>>>26),C=O+(D^(j|~P))+k[3]+2399980690&4294967295,O=j+(C<<10&4294967295|C>>>22),C=P+(j^(O|~D))+k[10]+4293915773&4294967295,P=O+(C<<15&4294967295|C>>>17),C=D+(O^(P|~j))+k[1]+2240044497&4294967295,D=P+(C<<21&4294967295|C>>>11),C=j+(P^(D|~O))+k[8]+1873313359&4294967295,j=D+(C<<6&4294967295|C>>>26),C=O+(D^(j|~P))+k[15]+4264355552&4294967295,O=j+(C<<10&4294967295|C>>>22),C=P+(j^(O|~D))+k[6]+2734768916&4294967295,P=O+(C<<15&4294967295|C>>>17),C=D+(O^(P|~j))+k[13]+1309151649&4294967295,D=P+(C<<21&4294967295|C>>>11),C=j+(P^(D|~O))+k[4]+4149444226&4294967295,j=D+(C<<6&4294967295|C>>>26),C=O+(D^(j|~P))+k[11]+3174756917&4294967295,O=j+(C<<10&4294967295|C>>>22),C=P+(j^(O|~D))+k[2]+718787259&4294967295,P=O+(C<<15&4294967295|C>>>17),C=D+(O^(P|~j))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+j&4294967295,I.g[1]=I.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+O&4294967295}s.prototype.u=function(I,j){j===void 0&&(j=I.length);for(var D=j-this.blockSize,k=this.B,P=this.h,O=0;O<j;){if(P==0)for(;O<=D;)i(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<j;)if(k[P++]=I.charCodeAt(O++),P==this.blockSize){i(this,k),P=0;break}}else for(;O<j;)if(k[P++]=I[O++],P==this.blockSize){i(this,k),P=0;break}}this.h=P,this.o+=j},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var j=1;j<I.length-8;++j)I[j]=0;var D=8*this.o;for(j=I.length-8;j<I.length;++j)I[j]=D&255,D/=256;for(this.u(I),I=Array(16),j=D=0;4>j;++j)for(var k=0;32>k;k+=8)I[D++]=this.g[j]>>>k&255;return I};function o(I,j){var D=f;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=j(I)}function u(I,j){this.h=j;for(var D=[],k=!0,P=I.length-1;0<=P;P--){var O=I[P]|0;k&&O==j||(D[P]=O,k=!1)}this.g=D}var f={};function m(I){return-128<=I&&128>I?o(I,function(j){return new u([j|0],0>j?-1:0)}):new u([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return b;if(0>I)return z(p(-I));for(var j=[],D=1,k=0;I>=D;k++)j[k]=I/D|0,D*=4294967296;return new u(j,0)}function x(I,j){if(I.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(I.charAt(0)=="-")return z(x(I.substring(1),j));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(j,8)),k=b,P=0;P<I.length;P+=8){var O=Math.min(8,I.length-P),C=parseInt(I.substring(P,P+O),j);8>O?(O=p(Math.pow(j,O)),k=k.j(O).add(p(C))):(k=k.j(D),k=k.add(p(C)))}return k}var b=m(0),w=m(1),_=m(16777216);t=u.prototype,t.m=function(){if(R(this))return-z(this).m();for(var I=0,j=1,D=0;D<this.g.length;D++){var k=this.i(D);I+=(0<=k?k:4294967296+k)*j,j*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(R(this))return"-"+z(this).toString(I);for(var j=p(Math.pow(I,6)),D=this,k="";;){var P=H(D,j).g;D=F(D,P.j(j));var O=((0<D.g.length?D.g[0]:D.h)>>>0).toString(I);if(D=P,A(D))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var j=0;j<I.g.length;j++)if(I.g[j]!=0)return!1;return!0}function R(I){return I.h==-1}t.l=function(I){return I=F(this,I),R(I)?-1:A(I)?0:1};function z(I){for(var j=I.g.length,D=[],k=0;k<j;k++)D[k]=~I.g[k];return new u(D,~I.h).add(w)}t.abs=function(){return R(this)?z(this):this},t.add=function(I){for(var j=Math.max(this.g.length,I.g.length),D=[],k=0,P=0;P<=j;P++){var O=k+(this.i(P)&65535)+(I.i(P)&65535),C=(O>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);k=C>>>16,O&=65535,C&=65535,D[P]=C<<16|O}return new u(D,D[D.length-1]&-2147483648?-1:0)};function F(I,j){return I.add(z(j))}t.j=function(I){if(A(this)||A(I))return b;if(R(this))return R(I)?z(this).j(z(I)):z(z(this).j(I));if(R(I))return z(this.j(z(I)));if(0>this.l(_)&&0>I.l(_))return p(this.m()*I.m());for(var j=this.g.length+I.g.length,D=[],k=0;k<2*j;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<I.g.length;P++){var O=this.i(k)>>>16,C=this.i(k)&65535,se=I.i(P)>>>16,ye=I.i(P)&65535;D[2*k+2*P]+=C*ye,V(D,2*k+2*P),D[2*k+2*P+1]+=O*ye,V(D,2*k+2*P+1),D[2*k+2*P+1]+=C*se,V(D,2*k+2*P+1),D[2*k+2*P+2]+=O*se,V(D,2*k+2*P+2)}for(k=0;k<j;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=j;k<2*j;k++)D[k]=0;return new u(D,0)};function V(I,j){for(;(I[j]&65535)!=I[j];)I[j+1]+=I[j]>>>16,I[j]&=65535,j++}function B(I,j){this.g=I,this.h=j}function H(I,j){if(A(j))throw Error("division by zero");if(A(I))return new B(b,b);if(R(I))return j=H(z(I),j),new B(z(j.g),z(j.h));if(R(j))return j=H(I,z(j)),new B(z(j.g),j.h);if(30<I.g.length){if(R(I)||R(j))throw Error("slowDivide_ only works with positive integers.");for(var D=w,k=j;0>=k.l(I);)D=X(D),k=X(k);var P=L(D,1),O=L(k,1);for(k=L(k,2),D=L(D,2);!A(k);){var C=O.add(k);0>=C.l(I)&&(P=P.add(D),O=C),k=L(k,1),D=L(D,1)}return j=F(I,P.j(j)),new B(P,j)}for(P=b;0<=I.l(j);){for(D=Math.max(1,Math.floor(I.m()/j.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=p(D),C=O.j(j);R(C)||0<C.l(I);)D-=k,O=p(D),C=O.j(j);A(O)&&(O=w),P=P.add(O),I=F(I,C)}return new B(P,I)}t.A=function(I){return H(this,I).h},t.and=function(I){for(var j=Math.max(this.g.length,I.g.length),D=[],k=0;k<j;k++)D[k]=this.i(k)&I.i(k);return new u(D,this.h&I.h)},t.or=function(I){for(var j=Math.max(this.g.length,I.g.length),D=[],k=0;k<j;k++)D[k]=this.i(k)|I.i(k);return new u(D,this.h|I.h)},t.xor=function(I){for(var j=Math.max(this.g.length,I.g.length),D=[],k=0;k<j;k++)D[k]=this.i(k)^I.i(k);return new u(D,this.h^I.h)};function X(I){for(var j=I.g.length+1,D=[],k=0;k<j;k++)D[k]=I.i(k)<<1|I.i(k-1)>>>31;return new u(D,I.h)}function L(I,j){var D=j>>5;j%=32;for(var k=I.g.length-D,P=[],O=0;O<k;O++)P[O]=0<j?I.i(O+D)>>>j|I.i(O+D+1)<<32-j:I.i(O+D);return new u(P,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,R2=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=x,Oa=u}).apply(typeof vb<"u"?vb:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D2,wc,I2,Ud,L0,M2,O2,V2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,N){return h==Array.prototype||h==Object.prototype||(h[v]=N.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var v=0;v<h.length;++v){var N=h[v];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var s=n(this);function i(h,v){if(v)e:{var N=s;h=h.split(".");for(var U=0;U<h.length-1;U++){var Z=h[U];if(!(Z in N))break e;N=N[Z]}h=h[h.length-1],U=N[h],v=v(U),v!=U&&v!=null&&e(N,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var N=0,U=!1,Z={next:function(){if(!U&&N<h.length){var oe=N++;return{value:v(oe,h[oe]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}i("Array.prototype.values",function(h){return h||function(){return o(this,function(v,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function x(h,v,N){return h.call.apply(h.bind,arguments)}function b(h,v,N){if(!h)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,U),h.apply(v,Z)}}return function(){return h.apply(v,arguments)}}function w(h,v,N){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:b,w.apply(null,arguments)}function _(h,v){var N=Array.prototype.slice.call(arguments,1);return function(){var U=N.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function A(h,v){function N(){}N.prototype=v.prototype,h.aa=v.prototype,h.prototype=new N,h.prototype.constructor=h,h.Qb=function(U,Z,oe){for(var Ne=Array(arguments.length-2),et=2;et<arguments.length;et++)Ne[et-2]=arguments[et];return v.prototype[Z].apply(U,Ne)}}function R(h){const v=h.length;if(0<v){const N=Array(v);for(let U=0;U<v;U++)N[U]=h[U];return N}return[]}function z(h,v){for(let N=1;N<arguments.length;N++){const U=arguments[N];if(m(U)){const Z=h.length||0,oe=U.length||0;h.length=Z+oe;for(let Ne=0;Ne<oe;Ne++)h[Z+Ne]=U[Ne]}else h.push(U)}}class F{constructor(v,N){this.i=v,this.j=N,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function H(h){return H[" "](h),h}H[" "]=function(){};var X=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function L(h,v,N){for(const U in h)v.call(N,h[U],U,h)}function I(h,v){for(const N in h)v.call(void 0,h[N],N,h)}function j(h){const v={};for(const N in h)v[N]=h[N];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,v){let N,U;for(let Z=1;Z<arguments.length;Z++){U=arguments[Z];for(N in U)h[N]=U[N];for(let oe=0;oe<D.length;oe++)N=D[oe],Object.prototype.hasOwnProperty.call(U,N)&&(h[N]=U[N])}}function P(h){var v=1;h=h.split(":");const N=[];for(;0<v&&h.length;)N.push(h.shift()),v--;return h.length&&N.push(h.join(":")),N}function O(h){f.setTimeout(()=>{throw h},0)}function C(){var h=ve;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class se{constructor(){this.h=this.g=null}add(v,N){const U=ye.get();U.set(v,N),this.h?this.h.next=U:this.g=U,this.h=U}}var ye=new F(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,N){this.h=v,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ee=!1,ve=new se,T=()=>{const h=f.Promise.resolve(void 0);fe=()=>{h.then(re)}};var re=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(N){O(N)}var v=ye;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ee=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};f.addEventListener("test",N,v),f.removeEventListener("test",N,v)}catch{}return h})();function ue(h,v){if(E.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var N=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(X){e:{try{H(v.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(v=null)}}else N=="mouseover"?v=h.fromElement:N=="mouseout"&&(v=h.toElement);this.relatedTarget=v,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ae[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ue.aa.h.call(this)}}A(ue,E);var ae={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Te=0;function it(h,v,N,U,Z){this.listener=h,this.proxy=null,this.src=v,this.type=N,this.capture=!!U,this.ha=Z,this.key=++Te,this.da=this.fa=!1}function ot(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,N,U,Z){var oe=h.toString();h=this.g[oe],h||(h=this.g[oe]=[],this.h++);var Ne=pn(h,v,U,Z);return-1<Ne?(v=h[Ne],N||(v.fa=!1)):(v=new it(v,this.src,oe,!!U,Z),v.fa=N,h.push(v)),v};function Vn(h,v){var N=v.type;if(N in h.g){var U=h.g[N],Z=Array.prototype.indexOf.call(U,v,void 0),oe;(oe=0<=Z)&&Array.prototype.splice.call(U,Z,1),oe&&(ot(v),h.g[N].length==0&&(delete h.g[N],h.h--))}}function pn(h,v,N,U){for(var Z=0;Z<h.length;++Z){var oe=h[Z];if(!oe.da&&oe.listener==v&&oe.capture==!!N&&oe.ha==U)return Z}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),We={};function Ot(h,v,N,U,Z){if(Array.isArray(v)){for(var oe=0;oe<v.length;oe++)Ot(h,v[oe],N,U,Z);return null}return N=vs(N),h&&h[be]?h.K(v,N,p(U)?!!U.capture:!1,Z):Nt(h,v,N,!1,U,Z)}function Nt(h,v,N,U,Z,oe){if(!v)throw Error("Invalid event type");var Ne=p(Z)?!!Z.capture:!!Z,et=mr(h);if(et||(h[_e]=et=new ft(h)),N=et.add(v,N,U,Ne,oe),N.proxy)return N;if(U=er(),N.proxy=U,U.src=h,U.listener=N,h.addEventListener)Y||(Z=Ne),Z===void 0&&(Z=!1),h.addEventListener(v.toString(),U,Z);else if(h.attachEvent)h.attachEvent(hr(v.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return N}function er(){function h(N){return v.call(h.src,h.listener,N)}const v=Xa;return h}function fr(h,v,N,U,Z){if(Array.isArray(v))for(var oe=0;oe<v.length;oe++)fr(h,v[oe],N,U,Z);else U=p(U)?!!U.capture:!!U,N=vs(N),h&&h[be]?(h=h.i,v=String(v).toString(),v in h.g&&(oe=h.g[v],N=pn(oe,N,U,Z),-1<N&&(ot(oe[N]),Array.prototype.splice.call(oe,N,1),oe.length==0&&(delete h.g[v],h.h--)))):h&&(h=mr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=pn(v,N,U,Z)),(N=-1<h?v[h]:null)&&Hn(N))}function Hn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[be])Vn(v.i,h);else{var N=h.type,U=h.proxy;v.removeEventListener?v.removeEventListener(N,U,h.capture):v.detachEvent?v.detachEvent(hr(N),U):v.addListener&&v.removeListener&&v.removeListener(U),(N=mr(v))?(Vn(N,h),N.h==0&&(N.src=null,v[_e]=null)):ot(h)}}}function hr(h){return h in We?We[h]:We[h]="on"+h}function Xa(h,v){if(h.da)h=!0;else{v=new ue(v,this);var N=h.listener,U=h.ha||h.src;h.fa&&Hn(h),h=N.call(U,v)}return h}function mr(h){return h=h[_e],h instanceof ft?h:null}var Yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function vs(h){return typeof h=="function"?h:(h[Yn]||(h[Yn]=function(v){return h.handleEvent(v)}),h[Yn])}function ie(){J.call(this),this.i=new ft(this),this.M=this,this.F=null}A(ie,J),ie.prototype[be]=!0,ie.prototype.removeEventListener=function(h,v,N,U){fr(this,h,v,N,U)};function pe(h,v){var N,U=h.F;if(U)for(N=[];U;U=U.F)N.push(U);if(h=h.M,U=v.type||v,typeof v=="string")v=new E(v,h);else if(v instanceof E)v.target=v.target||h;else{var Z=v;v=new E(U,h),k(v,Z)}if(Z=!0,N)for(var oe=N.length-1;0<=oe;oe--){var Ne=v.g=N[oe];Z=Ce(Ne,U,!0,v)&&Z}if(Ne=v.g=h,Z=Ce(Ne,U,!0,v)&&Z,Z=Ce(Ne,U,!1,v)&&Z,N)for(oe=0;oe<N.length;oe++)Ne=v.g=N[oe],Z=Ce(Ne,U,!1,v)&&Z}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var N=h.g[v],U=0;U<N.length;U++)ot(N[U]);delete h.g[v],h.h--}}this.F=null},ie.prototype.K=function(h,v,N,U){return this.i.add(String(h),v,!1,N,U)},ie.prototype.L=function(h,v,N,U){return this.i.add(String(h),v,!0,N,U)};function Ce(h,v,N,U){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Z=!0,oe=0;oe<v.length;++oe){var Ne=v[oe];if(Ne&&!Ne.da&&Ne.capture==N){var et=Ne.listener,Wt=Ne.ha||Ne.src;Ne.fa&&Vn(h.i,Ne),Z=et.call(Wt,U)!==!1&&Z}}return Z&&!U.defaultPrevented}function De(h,v,N){if(typeof h=="function")N&&(h=w(h,N));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function He(h){h.g=De(()=>{h.g=null,h.i&&(h.i=!1,He(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class gn extends J{constructor(v,N){super(),this.m=v,this.l=N,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ln(h){J.call(this),this.h=h,this.g={}}A(ln,J);var Jt=[];function An(h){L(h.g,function(v,N){this.g.hasOwnProperty(N)&&Hn(v)},h),h.g={}}ln.prototype.N=function(){ln.aa.N.call(this),An(this)},ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=f.JSON.stringify,Rt=f.JSON.parse,jn=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function xn(){}xn.prototype.h=null;function Ka(h){return h.h||(h.h=h.i())}function Za(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ir(){E.call(this,"d")}A(Ir,E);function Ja(){E.call(this,"c")}A(Ja,E);var pr={},Wa=null;function Mr(){return Wa=Wa||new ie}pr.La="serverreachability";function ws(h){E.call(this,pr.La,h)}A(ws,E);function $r(h){const v=Mr();pe(v,new ws(v))}pr.STAT_EVENT="statevent";function Yi(h,v){E.call(this,pr.STAT_EVENT,h),this.stat=v}A(Yi,E);function Et(h){const v=Mr();pe(v,new Yi(v,h))}pr.Ma="timingevent";function Tt(h,v){E.call(this,pr.Ma,h),this.size=v}A(Tt,E);function ce(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Ue(){this.g=!0}Ue.prototype.xa=function(){this.g=!1};function kt(h,v,N,U,Z,oe){h.info(function(){if(h.g)if(oe)for(var Ne="",et=oe.split("&"),Wt=0;Wt<et.length;Wt++){var tt=et[Wt].split("=");if(1<tt.length){var cn=tt[0];tt=tt[1];var en=cn.split("_");Ne=2<=en.length&&en[1]=="type"?Ne+(cn+"="+tt+"&"):Ne+(cn+"=redacted&")}}else Ne=null;else Ne=oe;return"XMLHTTP REQ ("+U+") [attempt "+Z+"]: "+v+`
`+N+`
`+Ne})}function ei(h,v,N,U,Z,oe,Ne){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Z+"]: "+v+`
`+N+`
`+oe+" "+Ne})}function na(h,v,N,U){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ti(h,N)+(U?" "+U:"")})}function uu(h,v){h.info(function(){return"TIMEOUT: "+v})}Ue.prototype.info=function(){};function ti(h,v){if(!h.g)return v;if(!v)return null;try{var N=JSON.parse(v);if(N){for(h=0;h<N.length;h++)if(Array.isArray(N[h])){var U=N[h];if(!(2>U.length)){var Z=U[1];if(Array.isArray(Z)&&!(1>Z.length)){var oe=Z[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var Ne=1;Ne<Z.length;Ne++)Z[Ne]=""}}}}return qt(N)}catch{return v}}var ra={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_s={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hr;function Yr(){}A(Yr,xn),Yr.prototype.g=function(){return new XMLHttpRequest},Yr.prototype.i=function(){return{}},Hr=new Yr;function Pn(h,v,N,U){this.j=h,this.i=v,this.l=N,this.R=U||1,this.U=new ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zt}function zt(){this.i=null,this.g="",this.h=!1}var mo={},Gi={};function Or(h,v,N){h.L=1,h.v=ii(tr(v)),h.m=N,h.P=!0,Ns(h,null)}function Ns(h,v){h.F=Date.now(),ni(h),h.A=tr(h.v);var N=h.A,U=h.R;Array.isArray(U)||(U=[String(U)]),vo(N.i,"t",U),h.C=0,N=h.j.J,h.h=new zt,h.g=Su(h.j,N?v:null,!h.m),0<h.O&&(h.M=new gn(w(h.Y,h,h.g),h.O)),v=h.U,N=h.g,U=h.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Jt[0]=Z.toString()),Z=Jt);for(var oe=0;oe<Z.length;oe++){var Ne=Ot(N,Z[oe],U||v.handleEvent,!1,v.h||v);if(!Ne)break;v.g[Ne.key]=Ne}v=h.H?j(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),$r(),kt(h.i,h.u,h.A,h.l,h.R,h.m)}Pn.prototype.ca=function(h){h=h.target;const v=this.M;v&&br(h)==3?v.j():this.Y(h)},Pn.prototype.Y=function(h){try{if(h==this.g)e:{const en=br(this.g);var v=this.g.Ba();const Rs=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||en!=4||v==7||(v==8||0>=Rs?$r(3):$r(2)),sa(this);var N=this.g.Z();this.X=N;t:if(du(this)){var U=yu(this.g);h="";var Z=U.length,oe=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Gr(this);var Ne="";break t}this.h.i=new f.TextDecoder}for(v=0;v<Z;v++)this.h.h=!0,h+=this.h.i.decode(U[v],{stream:!(oe&&v==Z-1)});U.length=0,this.h.g+=h,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=N==200,ei(this.i,this.u,this.A,this.l,this.R,en,N),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Wt=this.g;if((et=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(et)){var tt=et;break t}}tt=null}if(N=tt)na(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ri(this,N);else{this.o=!1,this.s=3,Et(12),yn(this),Gr(this);break e}}if(this.P){N=!0;let bn;for(;!this.J&&this.C<Ne.length;)if(bn=fu(this,Ne),bn==Gi){en==4&&(this.s=4,Et(14),N=!1),na(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==mo){this.s=4,Et(15),na(this.i,this.l,Ne,"[Invalid Chunk]"),N=!1;break}else na(this.i,this.l,bn,null),ri(this,bn);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||Ne.length!=0||this.h.h||(this.s=1,Et(16),N=!1),this.o=this.o&&N,!N)na(this.i,this.l,Ne,"[Invalid Chunked Response]"),yn(this),Gr(this);else if(0<Ne.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),mi(cn),cn.M=!0,Et(11))}}else na(this.i,this.l,Ne,null),ri(this,Ne);en==4&&yn(this),this.o&&!this.J&&(en==4?Nu(this.j,this):(this.o=!1,ni(this)))}else Wf(this.g),N==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),yn(this),Gr(this)}}}catch{}finally{}};function du(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function fu(h,v){var N=h.C,U=v.indexOf(`
`,N);return U==-1?Gi:(N=Number(v.substring(N,U)),isNaN(N)?mo:(U+=1,U+N>v.length?Gi:(v=v.slice(U,U+N),h.C=U+N,v)))}Pn.prototype.cancel=function(){this.J=!0,yn(this)};function ni(h){h.S=Date.now()+h.I,hu(h,h.I)}function hu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ce(w(h.ba,h),v)}function sa(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Pn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(uu(this.i,this.A),this.L!=2&&($r(),Et(17)),yn(this),this.s=2,Gr(this)):hu(this,this.S-h)};function Gr(h){h.j.G==0||h.J||Nu(h.j,h)}function yn(h){sa(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,An(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function ri(h,v){try{var N=h.j;if(N.G!=0&&(N.g==h||po(N.h,h))){if(!h.K&&po(N.h,h)&&N.G==3){try{var U=N.Da.g.parse(v)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Z=U;if(Z[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<h.F)al(N),rl(N);else break e;To(N),Et(18)}}else N.za=Z[1],0<N.za-N.T&&37500>Z[2]&&N.F&&N.v==0&&!N.C&&(N.C=ce(w(N.Za,N),6e3));if(1>=Xi(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Cs(N,11)}else if((h.K||N.g==h)&&al(N),!V(v))for(Z=N.Da.g.parse(v),v=0;v<Z.length;v++){let tt=Z[v];if(N.T=tt[0],tt=tt[1],N.G==2)if(tt[0]=="c"){N.K=tt[1],N.ia=tt[2];const cn=tt[3];cn!=null&&(N.la=cn,N.j.info("VER="+N.la));const en=tt[4];en!=null&&(N.Aa=en,N.j.info("SVER="+N.Aa));const Rs=tt[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(U=1.5*Rs,N.L=U,N.j.info("backChannelRequestTimeoutMs_="+U)),U=N;const bn=h.g;if(bn){const es=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var oe=U.h;oe.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Ki(oe,oe.h),oe.h=null))}if(U.D){const Ao=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(U.ya=Ao,pt(U.I,U.D,Ao))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-h.F,N.j.info("Handshake RTT: "+N.R+"ms")),U=N;var Ne=h;if(U.qa=Tu(U,U.J?U.ia:null,U.W),Ne.K){Ln(U.h,Ne);var et=Ne,Wt=U.L;Wt&&(et.I=Wt),et.B&&(sa(et),ni(et)),U.g=Ne}else wu(U);0<N.i.length&&sl(N)}else tt[0]!="stop"&&tt[0]!="close"||Cs(N,7);else N.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Cs(N,7):No(N):tt[0]!="noop"&&N.l&&N.l.ta(tt),N.v=0)}}$r(4)}catch{}}var mu=class{constructor(h,v){this.g=h,this.map=v}};function Es(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xi(h){return h.h?1:h.g?h.g.size:0}function po(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ki(h,v){h.g?h.g.add(v):h.h=v}function Ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Es.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function go(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const N of h.g.values())v=v.concat(N.D);return v}return R(h.i)}function Xf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],N=h.length,U=0;U<N;U++)v.push(h[U]);return v}v=[],N=0;for(U in h)v[N++]=h[U];return v}function Zi(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var N=0;N<h;N++)v.push(N);return v}v=[],N=0;for(const U in h)v[N++]=U;return v}}}function xo(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var N=Zi(h),U=Xf(h),Z=U.length,oe=0;oe<Z;oe++)v.call(void 0,U[oe],N&&N[oe],h)}var si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kf(h,v){if(h){h=h.split("&");for(var N=0;N<h.length;N++){var U=h[N].indexOf("="),Z=null;if(0<=U){var oe=h[N].substring(0,U);Z=h[N].substring(U+1)}else oe=h[N];v(oe,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function $t(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof $t){this.h=h.h,ai(this,h.j),this.o=h.o,this.g=h.g,aa(this,h.s),this.l=h.l;var v=h.i,N=new Ss;N.i=v.i,v.g&&(N.g=new Map(v.g),N.h=v.h),Ts(this,N),this.m=h.m}else h&&(v=String(h).match(si))?(this.h=!1,ai(this,v[1]||"",!0),this.o=gr(v[2]||""),this.g=gr(v[3]||"",!0),aa(this,v[4]),this.l=gr(v[5]||"",!0),Ts(this,v[6]||"",!0),this.m=gr(v[7]||"")):(this.h=!1,this.i=new Ss(null,this.h))}$t.prototype.toString=function(){var h=[],v=this.j;v&&h.push(li(v,yo,!0),":");var N=this.g;return(N||v=="file")&&(h.push("//"),(v=this.o)&&h.push(li(v,yo,!0),"@"),h.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&h.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(li(N,N.charAt(0)=="/"?Zf:bo,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",li(N,Ji)),h.join("")};function tr(h){return new $t(h)}function ai(h,v,N){h.j=N?gr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function aa(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ts(h,v,N){v instanceof Ss?(h.i=v,gu(h.i,h.h)):(N||(v=li(v,Jf)),h.i=new Ss(v,h.h))}function pt(h,v,N){h.i.set(v,N)}function ii(h){return pt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function gr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function li(h,v,N){return typeof h=="string"?(h=encodeURI(h).replace(v,pu),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var yo=/[#\/\?@]/g,bo=/[#\?:]/g,Zf=/[#\?]/g,Jf=/[#\?@]/g,Ji=/#/g;function Ss(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function xr(h){h.g||(h.g=new Map,h.h=0,h.i&&Kf(h.i,function(v,N){h.add(decodeURIComponent(v.replace(/\+/g," ")),N)}))}t=Ss.prototype,t.add=function(h,v){xr(this),this.i=null,h=Qr(this,h);var N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(v),this.h+=1,this};function As(h,v){xr(h),v=Qr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function js(h,v){return xr(h),v=Qr(h,v),h.g.has(v)}t.forEach=function(h,v){xr(this),this.g.forEach(function(N,U){N.forEach(function(Z){h.call(v,Z,U,this)},this)},this)},t.na=function(){xr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),N=[];for(let U=0;U<v.length;U++){const Z=h[U];for(let oe=0;oe<Z.length;oe++)N.push(v[U])}return N},t.V=function(h){xr(this);let v=[];if(typeof h=="string")js(this,h)&&(v=v.concat(this.g.get(Qr(this,h))));else{h=Array.from(this.g.values());for(let N=0;N<h.length;N++)v=v.concat(h[N])}return v},t.set=function(h,v){return xr(this),this.i=null,h=Qr(this,h),js(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function vo(h,v,N){As(h,v),0<N.length&&(h.i=null,h.g.set(Qr(h,v),R(N)),h.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var N=0;N<v.length;N++){var U=v[N];const oe=encodeURIComponent(String(U)),Ne=this.V(U);for(U=0;U<Ne.length;U++){var Z=oe;Ne[U]!==""&&(Z+="="+encodeURIComponent(String(Ne[U]))),h.push(Z)}}return this.i=h.join("&")};function Qr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function gu(h,v){v&&!h.j&&(xr(h),h.i=null,h.g.forEach(function(N,U){var Z=U.toLowerCase();U!=Z&&(As(this,U),vo(this,Z,N))},h)),h.j=v}function oi(h,v){const N=new Ue;if(f.Image){const U=new Image;U.onload=_(yr,N,"TestLoadImage: loaded",!0,v,U),U.onerror=_(yr,N,"TestLoadImage: error",!1,v,U),U.onabort=_(yr,N,"TestLoadImage: abort",!1,v,U),U.ontimeout=_(yr,N,"TestLoadImage: timeout",!1,v,U),f.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else v(!1)}function Vr(h,v){const N=new Ue,U=new AbortController,Z=setTimeout(()=>{U.abort(),yr(N,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:U.signal}).then(oe=>{clearTimeout(Z),oe.ok?yr(N,"TestPingServer: ok",!0,v):yr(N,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Z),yr(N,"TestPingServer: error",!1,v)})}function yr(h,v,N,U,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),U(N)}catch{}}function ci(){this.g=new jn}function Xr(h,v,N){const U=N||"";try{xo(h,function(Z,oe){let Ne=Z;p(Z)&&(Ne=qt(Z)),v.push(U+oe+"="+encodeURIComponent(Ne))})}catch(Z){throw v.push(U+"type="+encodeURIComponent("_badmap")),Z}}function ia(h){this.l=h.Ub||null,this.j=h.eb||!1}A(ia,xn),ia.prototype.g=function(){return new ks(this.l,this.j)},ia.prototype.i=(function(h){return function(){return h}})({});function ks(h,v){ie.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ks,ie),t=ks.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Zr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function wo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Kr(this):Zr(this),this.readyState==3&&wo(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Kr(this))},t.Qa=function(h){this.g&&(this.response=h,Kr(this))},t.ga=function(){this.g&&Kr(this)};function Kr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Zr(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var N=v.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=v.next();return h.join(`\r
`)};function Zr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function _o(h){let v="";return L(h,function(N,U){v+=U,v+=":",v+=N,v+=`\r
`}),v}function on(h,v,N){e:{for(U in N){var U=!1;break e}U=!0}U||(N=_o(N),typeof h=="string"?N!=null&&encodeURIComponent(String(N)):pt(h,v,N))}function ut(h){ie.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ut,ie);var Wi=/^https?$/i,ui=["POST","PUT"];t=ut.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,N,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hr.g(),this.v=this.o?Ka(this.o):Ka(Hr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(oe){xu(this,oe);return}if(h=N||"",N=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Z in U)N.set(Z,U[Z]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const oe of U.keys())N.set(oe,U.get(oe));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(N.keys()).find(oe=>oe.toLowerCase()=="content-type"),Z=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ui,v,void 0))||U||Z||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Ne]of N)this.g.setRequestHeader(oe,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{di(this),this.u=!0,this.g.send(h),this.u=!1}catch(oe){xu(this,oe)}};function xu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,el(h),Jr(h)}function el(h){h.A||(h.A=!0,pe(h,"complete"),pe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,pe(this,"complete"),pe(this,"abort"),Jr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jr(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tl(this):this.bb())},t.bb=function(){tl(this)};function tl(h){if(h.h&&typeof u<"u"&&(!h.v[1]||br(h)!=4||h.Z()!=2)){if(h.u&&br(h)==4)De(h.Ea,0,h);else if(pe(h,"readystatechange"),br(h)==4){h.h=!1;try{const Ne=h.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var N;if(!(N=v)){var U;if(U=Ne===0){var Z=String(h.D).match(si)[1]||null;!Z&&f.self&&f.self.location&&(Z=f.self.location.protocol.slice(0,-1)),U=!Wi.test(Z?Z.toLowerCase():"")}N=U}if(N)pe(h,"complete"),pe(h,"success");else{h.m=6;try{var oe=2<br(h)?h.g.statusText:""}catch{oe=""}h.l=oe+" ["+h.Z()+"]",el(h)}}finally{Jr(h)}}}}function Jr(h,v){if(h.g){di(h);const N=h.g,U=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||pe(h,"ready");try{N.onreadystatechange=U}catch{}}}function di(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function br(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Rt(v)}};function yu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wf(h){const v={};h=(h.g&&2<=br(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(V(h[U]))continue;var N=P(h[U]);const Z=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const oe=v[Z]||[];v[Z]=oe,oe.push(N)}I(v,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(h,v,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||v}function nl(h){this.Aa=0,this.i=[],this.j=new Ue,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fi("baseRetryDelayMs",5e3,h),this.cb=fi("retryDelaySeedMs",1e4,h),this.Wa=fi("forwardChannelMaxRetries",2,h),this.wa=fi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Es(h&&h.concurrentRequestLimit),this.Da=new ci,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nl.prototype,t.la=8,t.G=1,t.connect=function(h,v,N,U){Et(0),this.W=h,this.H=v||{},N&&U!==void 0&&(this.H.OSID=N,this.H.OAID=U),this.F=this.X,this.I=Tu(this,null,this.W),sl(this)};function No(h){if(bu(h),h.G==3){var v=h.U++,N=tr(h.I);if(pt(N,"SID",h.K),pt(N,"RID",v),pt(N,"TYPE","terminate"),hi(h,N),v=new Pn(h,h.j,v),v.L=2,v.v=ii(tr(N)),N=!1,f.navigator&&f.navigator.sendBeacon)try{N=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!N&&f.Image&&(new Image().src=v.v,N=!0),N||(v.g=Su(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ni(v)}Eu(h)}function rl(h){h.g&&(mi(h),h.g.cancel(),h.g=null)}function bu(h){rl(h),h.u&&(f.clearTimeout(h.u),h.u=null),al(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function sl(h){if(!Qi(h.h)&&!h.s){h.s=!0;var v=h.Ga;fe||T(),ee||(fe(),ee=!0),ve.add(v,h),h.B=0}}function eh(h,v){return Xi(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ce(w(h.Ga,h,v),So(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Z=new Pn(this,this.j,h);let oe=this.o;if(this.S&&(oe?(oe=j(oe),k(oe,this.S)):oe=this.S),this.m!==null||this.O||(Z.H=oe,oe=null),this.P)e:{for(var v=0,N=0;N<this.i.length;N++){t:{var U=this.i[N];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(v+=U,4096<v){v=N;break e}if(v===4096||N===this.i.length-1){v=N+1;break e}}v=1e3}else v=1e3;v=vu(this,Z,v),N=tr(this.I),pt(N,"RID",h),pt(N,"CVER",22),this.D&&pt(N,"X-HTTP-Session-Id",this.D),hi(this,N),oe&&(this.O?v="headers="+encodeURIComponent(String(_o(oe)))+"&"+v:this.m&&on(N,this.m,oe)),Ki(this.h,Z),this.Ua&&pt(N,"TYPE","init"),this.P?(pt(N,"$req",v),pt(N,"SID","null"),Z.T=!0,Or(Z,N,null)):Or(Z,N,v),this.G=2}}else this.G==3&&(h?Eo(this,h):this.i.length==0||Qi(this.h)||Eo(this))};function Eo(h,v){var N;v?N=v.l:N=h.U++;const U=tr(h.I);pt(U,"SID",h.K),pt(U,"RID",N),pt(U,"AID",h.T),hi(h,U),h.m&&h.o&&on(U,h.m,h.o),N=new Pn(h,h.j,N,h.B+1),h.m===null&&(N.H=h.o),v&&(h.i=v.D.concat(h.i)),v=vu(h,N,1e3),N.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ki(h.h,N),Or(N,U,v)}function hi(h,v){h.H&&L(h.H,function(N,U){pt(v,U,N)}),h.l&&xo({},function(N,U){pt(v,U,N)})}function vu(h,v,N){N=Math.min(h.i.length,N);var U=h.l?w(h.l.Na,h.l,h):null;e:{var Z=h.i;let oe=-1;for(;;){const Ne=["count="+N];oe==-1?0<N?(oe=Z[0].g,Ne.push("ofs="+oe)):oe=0:Ne.push("ofs="+oe);let et=!0;for(let Wt=0;Wt<N;Wt++){let tt=Z[Wt].g;const cn=Z[Wt].map;if(tt-=oe,0>tt)oe=Math.max(0,Z[Wt].g-100),et=!1;else try{Xr(cn,Ne,"req"+tt+"_")}catch{U&&U(cn)}}if(et){U=Ne.join("&");break e}}}return h=h.i.splice(0,N),v.D=h,U}function wu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;fe||T(),ee||(fe(),ee=!0),ve.add(v,h),h.v=0}}function To(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ce(w(h.Fa,h),So(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ce(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),rl(this),_u(this))};function mi(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function _u(h){h.g=new Pn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=tr(h.qa);pt(v,"RID","rpc"),pt(v,"SID",h.K),pt(v,"AID",h.T),pt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&pt(v,"TO",h.ja),pt(v,"TYPE","xmlhttp"),hi(h,v),h.m&&h.o&&on(v,h.m,h.o),h.L&&(h.g.I=h.L);var N=h.g;h=h.ia,N.L=1,N.v=ii(tr(v)),N.m=null,N.P=!0,Ns(N,h)}t.Za=function(){this.C!=null&&(this.C=null,rl(this),To(this),Et(19))};function al(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Nu(h,v){var N=null;if(h.g==v){al(h),mi(h),h.g=null;var U=2}else if(po(h.h,v))N=v.D,Ln(h.h,v),U=1;else return;if(h.G!=0){if(v.o)if(U==1){N=v.m?v.m.length:0,v=Date.now()-v.F;var Z=h.B;U=Mr(),pe(U,new Tt(U,N)),sl(h)}else wu(h);else if(Z=v.s,Z==3||Z==0&&0<v.X||!(U==1&&eh(h,v)||U==2&&To(h)))switch(N&&0<N.length&&(v=h.h,v.i=v.i.concat(N)),Z){case 1:Cs(h,5);break;case 4:Cs(h,10);break;case 3:Cs(h,6);break;default:Cs(h,2)}}}function So(h,v){let N=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(N*=2),N*v}function Cs(h,v){if(h.j.info("Error code "+v),v==2){var N=w(h.fb,h),U=h.Xa;const Z=!U;U=new $t(U||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ai(U,"https"),ii(U),Z?oi(U.toString(),N):Vr(U.toString(),N)}else Et(2);h.G=0,h.l&&h.l.sa(v),Eu(h),bu(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Eu(h){if(h.G=0,h.ka=[],h.l){const v=go(h.h);(v.length!=0||h.i.length!=0)&&(z(h.ka,v),z(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function Tu(h,v,N){var U=N instanceof $t?tr(N):new $t(N);if(U.g!="")v&&(U.g=v+"."+U.g),aa(U,U.s);else{var Z=f.location;U=Z.protocol,v=v?v+"."+Z.hostname:Z.hostname,Z=+Z.port;var oe=new $t(null);U&&ai(oe,U),v&&(oe.g=v),Z&&aa(oe,Z),N&&(oe.l=N),U=oe}return N=h.D,v=h.ya,N&&v&&pt(U,N,v),pt(U,"VER",h.la),hi(h,U),U}function Su(h,v,N){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ut(new ia({eb:N})):new ut(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}t=Au.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function il(){}il.prototype.g=function(h,v){return new zn(h,v)};function zn(h,v){ie.call(this),this.g=new nl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!V(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Wr(this)}A(zn,ie),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){No(this.g)},zn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.u&&(N={},N.__data__=qt(h),h=N);v.i.push(new mu(v.Ya++,h)),v.G==3&&sl(v)},zn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,zn.aa.N.call(this)};function ju(h){Ir.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const N in v){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}A(ju,Ir);function ku(){Ja.call(this),this.status=1}A(ku,Ja);function Wr(h){this.g=h}A(Wr,Au),Wr.prototype.ua=function(){pe(this.g,"a")},Wr.prototype.ta=function(h){pe(this.g,new ju(h))},Wr.prototype.sa=function(h){pe(this.g,new ku)},Wr.prototype.ra=function(){pe(this.g,"b")},il.prototype.createWebChannel=il.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,V2=function(){return new il},O2=function(){return Mr()},M2=pr,L0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Ud=ra,_s.COMPLETE="complete",I2=_s,Za.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",ie.prototype.listen=ie.prototype.K,wc=Za,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,D2=ut}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});const wb="@firebase/firestore",_b="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new T2("@firebase/firestore");function Ll(){return Li.logLevel}function je(t,...e){if(Li.logLevel<=st.DEBUG){const n=e.map(Cp);Li.debug(`Firestore (${so}): ${t}`,...n)}}function Zs(t,...e){if(Li.logLevel<=st.ERROR){const n=e.map(Cp);Li.error(`Firestore (${so}): ${t}`,...n)}}function Xl(t,...e){if(Li.logLevel<=st.WARN){const n=e.map(Cp);Li.warn(`Firestore (${so}): ${t}`,...n)}}function Cp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,P2(t,s,n)}function P2(t,e,n){let s=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Zs(s),new Error(s)}function dt(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||P2(e,i,s)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class lS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oS{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let s=this.i;const i=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let o=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qs,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await i(this.currentUser)}))},f=m=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(dt(typeof s.accessToken=="string",31837,{l:s}),new L2(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class cS{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uS{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new cS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,H3(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const s=o=>{o.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,je("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const i=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=fS(40);for(let o=0;o<i.length;++o)s.length<20&&i[o]<n&&(s+=e.charAt(i[o]%62))}return s}}function Ze(t,e){return t<e?-1:t>e?1:0}function z0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),o=e.charAt(s);if(i!==o)return n0(i)===n0(o)?Ze(i,o):n0(i)?1:-1}return Ze(t.length,e.length)}const hS=55296,mS=57343;function n0(t){const e=t.charCodeAt(0);return e>=hS&&e<=mS}function Kl(t,e,n){return t.length===e.length&&t.every(((s,i)=>n(s,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__name__";class ls{constructor(e,n,s){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Le(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ls?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const o=ls.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ze(e.length,n.length)}static compareSegments(e,n){const s=ls.isNumericId(e),i=ls.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?ls.extractNumericId(e).compare(ls.extractNumericId(n)):z0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oa.fromString(e.substring(4,e.length-2))}}class jt extends ls{construct(e,n,s){return new jt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((i=>i.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const pS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends ls{construct(e,n,s){return new Tn(e,n,s)}static isValidIdentifier(e){return pS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Eb}static keyField(){return new Tn([Eb])}static fromServerFormat(e){const n=[];let s="",i=0;const o=()=>{if(s.length===0)throw new Se(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new Se(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Se(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,i+=2}else f==="`"?(u=!u,i++):f!=="."||u?(s+=f,i++):(o(),i++)}if(o(),u)throw new Se(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(jt.fromString(e))}static fromName(e){return new Ie(jt.fromString(e).popFirst(5))}static empty(){return new Ie(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e,n){if(!n)throw new Se(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gS(t,e,n,s){if(e===!0&&s===!0)throw new Se(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Tb(t){if(!Ie.isDocumentKey(t))throw new Se(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sb(t){if(Ie.isDocumentKey(t))throw new Se(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function U2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wf(t);throw new Se(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xc(t,e){if(!U2(t))throw new Se(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(i&&typeof u!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${s}' field to equal '${o.value}'`;break}}if(n)throw new Se(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=-62135596800,jb=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jb);return new Ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ab)throw new Se(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jb}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xc(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ab;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:Zt("string",Ct._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Ct(0,0))}static max(){return new Be(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=-1;function xS(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(s===1e9?new Ct(n+1,0):new Ct(n,s));return new za(i,Ie.empty(),e)}function yS(t){return new za(t.readTime,t.key,Vc)}class za{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new za(Be.min(),Ie.empty(),Vc)}static max(){return new za(Be.max(),Ie.empty(),Vc)}}function bS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==vS)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe(((s,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(s,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.reject(n)}static resolve(e){return new xe(((n,s)=>{n(e)}))}static reject(e){return new xe(((n,s)=>{s(e)}))}static waitFor(e){return new xe(((n,s)=>{let i=0,o=0,u=!1;e.forEach((f=>{++i,f.next((()=>{++o,u&&o===i&&n()}),(m=>s(m)))})),u=!0,o===i&&n()}))}static or(e){let n=xe.resolve(!1);for(const s of e)n=n.next((i=>i?xe.resolve(i):s()));return n}static forEach(e,n){const s=[];return e.forEach(((i,o)=>{s.push(n.call(this,i,o))})),this.waitFor(s)}static mapArray(e,n){return new xe(((s,i)=>{const o=e.length,u=new Array(o);let f=0;for(let m=0;m<o;m++){const p=m;n(e[p]).next((x=>{u[p]=x,++f,f===o&&s(u)}),(x=>i(x)))}}))}static doWhile(e,n){return new xe(((s,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):s()};o()}))}}function _S(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_f.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=-1;function Nf(t){return t==null}function Jd(t){return t===0&&1/t==-1/0}function NS(t){return typeof t=="number"&&Number.isInteger(t)&&!Jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="";function ES(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kb(e)),e=TS(t.get(n),e);return kb(e)}function TS(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case B2:n+="";break;default:n+=o}}return n}function kb(t){return t+B2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rd(this.root,e,this.comparator,!0)}}class Rd{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?s(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,s,i,o){this.key=e,this.value=n,this.color=s??En.RED,this.left=i??En.EMPTY,this.right=o??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,o){return new En(e??this.key,n??this.value,s??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const o=s(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,s),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return En.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,s,i,o){return this}insert(e,n,s){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rb(this.data.getIterator())}getIteratorFrom(e){return new Rb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=s.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class Rb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new ur([])}unionWith(e){let n=new sn(Tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new q2("Invalid base64 string: "+o):o}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const SS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=SS.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ba(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="server_timestamp",H2="__type__",Y2="__previous_value__",G2="__local_write_time__";function Ip(t){return(t?.mapValue?.fields||{})[H2]?.stringValue===$2}function Ef(t){const e=t.mapValue.fields[Y2];return Ip(e)?Ef(e):e}function Pc(t){const e=Ua(t.mapValue.fields[G2].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,s,i,o,u,f,m,p,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=x}}const Wd="(default)";class Lc{constructor(e,n){this.projectId=e,this.database=n||Wd}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="__type__",jS="__max__",Dd={mapValue:{}},X2="__vector__",ef="value";function Fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ip(t)?4:CS(t)?9007199254740991:kS(t)?10:11:Le(28295,{value:t})}function xs(t,e){if(t===e)return!0;const n=Fa(t);if(n!==Fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pc(t).isEqual(Pc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Ua(i.timestampValue),f=Ua(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Ba(i.bytesValue).isEqual(Ba(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ft(i.geoPointValue.latitude)===Ft(o.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ft(i.integerValue)===Ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=Ft(i.doubleValue),f=Ft(o.doubleValue);return u===f?Jd(u)===Jd(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Kl(t.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return(function(i,o){const u=i.mapValue.fields||{},f=o.mapValue.fields||{};if(Cb(u)!==Cb(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!xs(u[m],f[m])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function zc(t,e){return(t.values||[]).find((n=>xs(n,e)))!==void 0}function Zl(t,e){if(t===e)return 0;const n=Fa(t),s=Fa(e);if(n!==s)return Ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const f=Ft(o.integerValue||o.doubleValue),m=Ft(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return Db(t.timestampValue,e.timestampValue);case 4:return Db(Pc(t),Pc(e));case 5:return z0(t.stringValue,e.stringValue);case 6:return(function(o,u){const f=Ba(o),m=Ba(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const f=o.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const x=Ze(f[p],m[p]);if(x!==0)return x}return Ze(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const f=Ze(Ft(o.latitude),Ft(u.latitude));return f!==0?f:Ze(Ft(o.longitude),Ft(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ib(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const f=o.fields||{},m=u.fields||{},p=f[ef]?.arrayValue,x=m[ef]?.arrayValue,b=Ze(p?.values?.length||0,x?.values?.length||0);return b!==0?b:Ib(p,x)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Dd.mapValue&&u===Dd.mapValue)return 0;if(o===Dd.mapValue)return 1;if(u===Dd.mapValue)return-1;const f=o.fields||{},m=Object.keys(f),p=u.fields||{},x=Object.keys(p);m.sort(),x.sort();for(let b=0;b<m.length&&b<x.length;++b){const w=z0(m[b],x[b]);if(w!==0)return w;const _=Zl(f[m[b]],p[x[b]]);if(_!==0)return _}return Ze(m.length,x.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function Db(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=Ua(t),s=Ua(e),i=Ze(n.seconds,s.seconds);return i!==0?i:Ze(n.nanos,s.nanos)}function Ib(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const o=Zl(n[i],s[i]);if(o)return o}return Ze(n.length,s.length)}function Jl(t){return U0(t)}function U0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ua(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ba(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",i=!0;for(const o of n.values||[])i?i=!1:s+=",",s+=U0(o);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const u of s)o?o=!1:i+=",",i+=`${u}:${U0(n.fields[u])}`;return i+"}"})(t.mapValue):Le(61005,{value:t})}function Bd(t){switch(Fa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(t);return e?16+Bd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ba(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((i,o)=>i+Bd(o)),0)})(t.arrayValue);case 10:case 11:return(function(s){let i=0;return Ha(s.fields,((o,u)=>{i+=o.length+Bd(u)})),i})(t.mapValue);default:throw Le(13486,{value:t})}}function Mb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function B0(t){return!!t&&"integerValue"in t}function Mp(t){return!!t&&"arrayValue"in t}function Ob(t){return!!t&&"nullValue"in t}function Vb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function kS(t){return(t?.mapValue?.fields||{})[Q2]?.stringValue===X2}function Sc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ha(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Sc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return{...t}}function CS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=Tn.emptyPath(),s={},i=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,i),s={},i=[],n=f.popLast()}u?s[f.lastSegment()]=Sc(u):i.push(f.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,s,i)}delete(e){const n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Ha(n,((i,o)=>e[i]=o));for(const i of s)delete e[i]}clone(){return new Jn(Sc(this.value))}}function K2(t){const e=[];return Ha(t.fields,((n,s)=>{const i=new Tn([n]);if(Fd(s)){const o=K2(s.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)})),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,s,i,o,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new In(e,0,Be.min(),Be.min(),Be.min(),Jn.empty(),0)}static newFoundDocument(e,n,s,i){return new In(e,1,n,Be.min(),s,i,0)}static newNoDocument(e,n){return new In(e,2,n,Be.min(),Be.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Be.min(),Be.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.position=e,this.inclusive=n}}function Pb(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const o=e[i],u=t.position[i];if(o.field.isKeyField()?s=Ie.comparator(Ie.fromName(u.referenceValue),n.key):s=Zl(u,n.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function Lb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n="asc"){this.field=e,this.dir=n}}function RS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{}class Kt extends Z2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new IS(e,n,s):n==="array-contains"?new VS(e,s):n==="in"?new PS(e,s):n==="not-in"?new LS(e,s):n==="array-contains-any"?new zS(e,s):new Kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new MS(e,s):new OS(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zl(n,this.value)):n!==null&&Fa(this.value)===Fa(n)&&this.matchesComparison(Zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends Z2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qr(e,n)}matches(e){return J2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function J2(t){return t.op==="and"}function W2(t){return DS(t)&&J2(t)}function DS(t){for(const e of t.filters)if(e instanceof qr)return!1;return!0}function F0(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+Jl(t.value);if(W2(t))return t.filters.map((e=>F0(e))).join(",");{const e=t.filters.map((n=>F0(n))).join(",");return`${t.op}(${e})`}}function ew(t,e){return t instanceof Kt?(function(s,i){return i instanceof Kt&&s.op===i.op&&s.field.isEqual(i.field)&&xs(s.value,i.value)})(t,e):t instanceof qr?(function(s,i){return i instanceof qr&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce(((o,u,f)=>o&&ew(u,i.filters[f])),!0):!1})(t,e):void Le(19439)}function tw(t){return t instanceof Kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jl(n.value)}`})(t):t instanceof qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(tw).join(" ,")+"}"})(t):"Filter"}class IS extends Kt{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class MS extends Kt{constructor(e,n){super(e,"in",n),this.keys=nw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class OS extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=nw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nw(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class VS extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&zc(n.arrayValue,this.value)}}class PS extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zc(this.value.arrayValue,n)}}class LS extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zc(this.value.arrayValue,n)}}class zS extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>zc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n=null,s=[],i=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=o,this.startAt=u,this.endAt=f,this.Te=null}}function zb(t,e=null,n=[],s=[],i=null,o=null,u=null){return new US(t,e,n,s,i,o,u)}function Op(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>F0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),Nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Jl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Jl(s))).join(",")),e.Te=n}return e.Te}function Vp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ew(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lb(t.startAt,e.startAt)&&Lb(t.endAt,e.endAt)}function q0(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n=null,s=[],i=[],o=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BS(t,e,n,s,i,o,u,f){return new lo(t,e,n,s,i,o,u,f)}function Tf(t){return new lo(t)}function Ub(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rw(t){return t.collectionGroup!==null}function Ac(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new sn(Tn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Uc(o,s))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new Uc(Tn.keyField(),s))}return e.Ie}function ds(t){const e=Fe(t);return e.Ee||(e.Ee=FS(e,Ac(t))),e.Ee}function FS(t,e){if(t.limitType==="F")return zb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Uc(i.field,o)}));const n=t.endAt?new tf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new tf(t.startAt.position,t.startAt.inclusive):null;return zb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function $0(t,e){const n=t.filters.concat([e]);return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function H0(t,e,n){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sf(t,e){return Vp(ds(t),ds(e))&&t.limitType===e.limitType}function sw(t){return`${Op(ds(t))}|lt:${t.limitType}`}function zl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((i=>tw(i))).join(", ")}]`),Nf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((i=>Jl(i))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((i=>Jl(i))).join(",")),`Target(${s})`})(ds(t))}; limitType=${t.limitType})`}function Af(t,e){return e.isFoundDocument()&&(function(s,i){const o=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Ie.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(t,e)&&(function(s,i){for(const o of Ac(s))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(s,i){for(const o of s.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(s,i){return!(s.startAt&&!(function(u,f,m){const p=Pb(u,f,m);return u.inclusive?p<=0:p<0})(s.startAt,Ac(s),i)||s.endAt&&!(function(u,f,m){const p=Pb(u,f,m);return u.inclusive?p>=0:p>0})(s.endAt,Ac(s),i))})(t,e)}function qS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aw(t){return(e,n)=>{let s=!1;for(const i of Ac(t)){const o=$S(i,e,n);if(o!==0)return o;s=s||i.field.isKeyField()}return 0}}function $S(t,e,n){const s=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(o,u,f){const m=u.data.field(o),p=f.data.field(o);return m!==null&&p!==null?Zl(m,p):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,o]of s)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,((n,s)=>{for(const[i,o]of s)e(i,o)}))}isEmpty(){return F2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new Mt(Ie.comparator);function Js(){return HS}const iw=new Mt(Ie.comparator);function _c(...t){let e=iw;for(const n of t)e=e.insert(n.key,n);return e}function lw(t){let e=iw;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ii(){return jc()}function ow(){return jc()}function jc(){return new qi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const YS=new Mt(Ie.comparator),GS=new sn(Ie.comparator);function Je(...t){let e=GS;for(const n of t)e=e.add(n);return e}const QS=new sn(Ze);function XS(){return QS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function cw(t){return{integerValue:""+t}}function KS(t,e){return NS(e)?cw(e):Pp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this._=void 0}}function ZS(t,e,n){return t instanceof Bc?(function(i,o){const u={fields:{[H2]:{stringValue:$2},[G2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ip(o)&&(o=Ef(o)),o&&(u.fields[Y2]=o),{mapValue:u}})(n,e):t instanceof Fc?dw(t,e):t instanceof qc?fw(t,e):(function(i,o){const u=uw(i,o),f=Bb(u)+Bb(i.Ae);return B0(u)&&B0(i.Ae)?cw(f):Pp(i.serializer,f)})(t,e)}function JS(t,e,n){return t instanceof Fc?dw(t,e):t instanceof qc?fw(t,e):n}function uw(t,e){return t instanceof nf?(function(s){return B0(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Bc extends jf{}class Fc extends jf{constructor(e){super(),this.elements=e}}function dw(t,e){const n=hw(e);for(const s of t.elements)n.some((i=>xs(i,s)))||n.push(s);return{arrayValue:{values:n}}}class qc extends jf{constructor(e){super(),this.elements=e}}function fw(t,e){let n=hw(e);for(const s of t.elements)n=n.filter((i=>!xs(i,s)));return{arrayValue:{values:n}}}class nf extends jf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Bb(t){return Ft(t.integerValue||t.doubleValue)}function hw(t){return Mp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.field=e,this.transform=n}}function e6(t,e){return t.field.isEqual(e.field)&&(function(s,i){return s instanceof Fc&&i instanceof Fc||s instanceof qc&&i instanceof qc?Kl(s.elements,i.elements,xs):s instanceof nf&&i instanceof nf?xs(s.Ae,i.Ae):s instanceof Bc&&i instanceof Bc})(t.transform,e.transform)}class t6{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kf{}function mw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cf(t.key,$n.none()):new Kc(t.key,t.data,$n.none());{const n=t.data,s=Jn.empty();let i=new sn(Tn.comparator);for(let o of e.fields)if(!i.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?s.delete(o):s.set(o,u),i=i.add(o)}return new Ya(t.key,s,new ur(i.toArray()),$n.none())}}function n6(t,e,n){t instanceof Kc?(function(i,o,u){const f=i.value.clone(),m=qb(i.fieldTransforms,o,u.transformResults);f.setAll(m),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Ya?(function(i,o,u){if(!qd(i.precondition,o))return void o.convertToUnknownDocument(u.version);const f=qb(i.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(pw(i)),m.setAll(f),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function kc(t,e,n,s){return t instanceof Kc?(function(o,u,f,m){if(!qd(o.precondition,u))return f;const p=o.value.clone(),x=$b(o.fieldTransforms,m,u);return p.setAll(x),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ya?(function(o,u,f,m){if(!qd(o.precondition,u))return f;const p=$b(o.fieldTransforms,m,u),x=u.data;return x.setAll(pw(o)),x.setAll(p),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(o,u,f){return qd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function r6(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),o=uw(s.transform,i||null);o!=null&&(n===null&&(n=Jn.empty()),n.set(s.field,o))}return n||null}function Fb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Kl(s,i,((o,u)=>e6(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends kf{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ya extends kf{constructor(e,n,s,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function qb(t,e,n){const s=new Map;dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],u=o.transform,f=e.data.field(o.field);s.set(o.field,JS(u,f,n[i]))}return s}function $b(t,e,n){const s=new Map;for(const i of t){const o=i.transform,u=n.data.field(i.field);s.set(i.field,ZS(o,u,e))}return s}class Cf extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s6 extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&n6(o,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=kc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=kc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ow();return this.mutations.forEach((i=>{const o=e.get(i.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=n.has(i.key)?null:f;const m=mw(u,f);m!==null&&s.set(i.key,m),u.isValidDocument()||u.convertToNoDocument(Be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Kl(this.mutations,e.mutations,((n,s)=>Fb(n,s)))&&Kl(this.baseMutations,e.baseMutations,((n,s)=>Fb(n,s)))}}class Lp{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){dt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=(function(){return YS})();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,s[u].version);return new Lp(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,rt;function o6(t){switch(t){case he.OK:return Le(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function gw(t){if(t===void 0)return Zs("GRPC error has no .code"),he.UNKNOWN;switch(t){case Gt.OK:return he.OK;case Gt.CANCELLED:return he.CANCELLED;case Gt.UNKNOWN:return he.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return he.INTERNAL;case Gt.UNAVAILABLE:return he.UNAVAILABLE;case Gt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Gt.NOT_FOUND:return he.NOT_FOUND;case Gt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Gt.ABORTED:return he.ABORTED;case Gt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Gt.DATA_LOSS:return he.DATA_LOSS;default:return Le(39323,{code:t})}}(rt=Gt||(Gt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=new Oa([4294967295,4294967295],0);function Hb(t){const e=c6().encode(t),n=new R2;return n.update(e),new Uint8Array(n.digest())}function Yb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Oa([n,s],0),new Oa([i,o],0)]}class zp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(s<0)throw new Nc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Oa.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(Oa.fromNumber(s)));return i.compare(u6)===1&&(i=new Oa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Hb(e),[s,i]=Yb(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(s,i,o);if(!this.we(u))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new zp(o,i,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=Hb(e),[s,i]=Yb(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(s,i,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,s,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Rf(Be.min(),i,new Mt(Ze),Js(),Je())}}class Zc{constructor(e,n,s,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Zc(s,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,s,i){this.be=e,this.removedTargetIds=n,this.key=s,this.De=i}}class xw{constructor(e,n){this.targetId=e,this.Ce=n}}class yw{constructor(e,n,s=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class Gb{constructor(){this.ve=0,this.Fe=Qb(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),s=Je();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:Le(38017,{changeType:o})}})),new Zc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Qb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class d6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Js(),this.Je=Id(),this.He=Id(),this.Ye=new Mt(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(q0(o))if(s===0){const u=new Ie(o.path);this.et(n,u,In.newNoDocument(u,Be.min()))}else dt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:o=0}=n;let u,f;try{u=Ba(s).toUint8Array()}catch(m){if(m instanceof q2)return Xl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new zp(u,i,o)}catch(m){return Xl(m instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach((o=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const f=this.ot(u);if(f){if(o.current&&q0(f.target)){const m=new Ie(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,In.newNoDocument(m,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let s=Je();this.He.forEach(((o,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const i=new Rf(e,n,this.Ye,this.je,s);return this.je=Js(),this.Je=Id(),this.He=Id(),this.Ye=new Mt(Ze),i}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Gb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new sn(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new sn(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Id(){return new Mt(Ie.comparator)}function Qb(){return new Mt(Ie.comparator)}const f6={asc:"ASCENDING",desc:"DESCENDING"},h6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m6={and:"AND",or:"OR"};class p6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Y0(t,e){return t.useProto3Json||Nf(e)?e:{value:e}}function rf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g6(t,e){return rf(t,e.toTimestamp())}function fs(t){return dt(!!t,49232),Be.fromTimestamp((function(n){const s=Ua(n);return new Ct(s.seconds,s.nanos)})(t))}function Up(t,e){return G0(t,e).canonicalString()}function G0(t,e){const n=(function(i){return new jt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function vw(t){const e=jt.fromString(t);return dt(Tw(e),10190,{key:e.toString()}),e}function Q0(t,e){return Up(t.databaseId,e.path)}function r0(t,e){const n=vw(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(_w(n))}function ww(t,e){return Up(t.databaseId,e)}function x6(t){const e=vw(t);return e.length===4?jt.emptyPath():_w(e)}function X0(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _w(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Xb(t,e,n){return{name:Q0(t,e),fields:n.value.mapValue.fields}}function y6(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(p,x){return p.useProto3Json?(dt(x===void 0||typeof x=="string",58123),Sn.fromBase64String(x||"")):(dt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Sn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const x=p.code===void 0?he.UNKNOWN:gw(p.code);return new Se(x,p.message||"")})(u);n=new yw(s,i,o,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=r0(t,s.document.name),o=fs(s.document.updateTime),u=s.document.createTime?fs(s.document.createTime):Be.min(),f=new Jn({mapValue:{fields:s.document.fields}}),m=In.newFoundDocument(i,o,u,f),p=s.targetIds||[],x=s.removedTargetIds||[];n=new $d(p,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=r0(t,s.document),o=s.readTime?fs(s.readTime):Be.min(),u=In.newNoDocument(i,o),f=s.removedTargetIds||[];n=new $d([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=r0(t,s.document),o=s.removedTargetIds||[];n=new $d([],o,i,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:o}=s,u=new l6(i,o),f=s.targetId;n=new xw(f,u)}}return n}function b6(t,e){let n;if(e instanceof Kc)n={update:Xb(t,e.key,e.value)};else if(e instanceof Cf)n={delete:Q0(t,e.key)};else if(e instanceof Ya)n={update:Xb(t,e.key,e.data),updateMask:j6(e.fieldMask)};else{if(!(e instanceof s6))return Le(16599,{Vt:e.type});n={verify:Q0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(o,u){const f=u.transform;if(f instanceof Bc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Fc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof qc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nf)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Le(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:g6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function v6(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map((n=>(function(i,o){let u=i.updateTime?fs(i.updateTime):fs(o);return u.isEqual(Be.min())&&(u=fs(o)),new t6(u,i.transformResults||[])})(n,e)))):[]}function w6(t,e){return{documents:[ww(t,e.path)]}}function _6(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ww(t,i);const o=(function(p){if(p.length!==0)return Ew(qr.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((x=>(function(w){return{field:Ul(w.field),direction:T6(w.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Y0(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function N6(t){let e=x6(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){dt(s===1,65062);const x=n.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=(function(b){const w=Nw(b);return w instanceof qr&&W2(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((w=>(function(A){return new Uc(Bl(A.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let w;return w=typeof b=="object"?b.value:b,Nf(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,_=b.values||[];return new tf(_,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,_=b.values||[];return new tf(_,w)})(n.endAt)),BS(e,i,u,o,f,"F",m,p)}function E6(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Bl(n.unaryFilter.field);return Kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Bl(n.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bl(n.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bl(n.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Kt.create(Bl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return qr.create(n.compositeFilter.filters.map((s=>Nw(s))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function T6(t){return f6[t]}function S6(t){return h6[t]}function A6(t){return m6[t]}function Ul(t){return{fieldPath:t.canonicalString()}}function Bl(t){return Tn.fromServerFormat(t.fieldPath)}function Ew(t){return t instanceof Kt?(function(n){if(n.op==="=="){if(Vb(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NAN"}};if(Ob(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vb(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NAN"}};if(Ob(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(n.field),op:S6(n.op),value:n.value}}})(t):t instanceof qr?(function(n){const s=n.getFilters().map((i=>Ew(i)));return s.length===1?s[0]:{compositeFilter:{op:A6(n.op),filters:s}}})(t):Le(54877,{filter:t})}function j6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Tw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,s,i,o=Be.min(),u=Be.min(),f=Sn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.yt=e}}function C6(t){const e=N6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?H0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.Cn=new D6}addToCollectionParentIndex(e,n){return this.Cn.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(za.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(za.min())}updateCollectionGroup(e,n,s){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class D6{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new sn(jt.comparator),o=!i.has(s);return this.index[n]=i.add(s),o}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new sn(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sw=41943040;class Zn{static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(Sw,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wl(0)}static cr(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="LruGarbageCollector",I6=1048576;function Jb([t,e],[n,s]){const i=Ze(t,n);return i===0?Ze(e,s):i}class M6{constructor(e){this.Ir=e,this.buffer=new sn(Jb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Jb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O6{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){je(Zb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?je(Zb,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.Vr(3e5)}))}}class V6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return xe.resolve(_f.ce);const s=new M6(n);return this.mr.forEachTarget(e,(i=>s.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>s.Ar(i))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(Kb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,i,o,u,f,m,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,u=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(o=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),Ll()<=st.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${i} in `+(f-u)+`ms
	Removed ${o} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-x}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:b}))))}}function P6(t,e){return new V6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.changes=new qi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?xe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(s=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(s!==null&&kc(s.mutation,i,ur.empty(),Ct.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Je()){const i=Ii();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,s).next((o=>{let u=_c();return o.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Ii();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Je())))}populateOverlays(e,n,s){const i=[];return s.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,i){let o=Js();const u=jc(),f=(function(){return jc()})();return n.forEach(((m,p)=>{const x=s.get(p.key);i.has(p.key)&&(x===void 0||x.mutation instanceof Ya)?o=o.insert(p.key,p):x!==void 0?(u.set(p.key,x.mutation.getFieldMask()),kc(x.mutation,p,x.mutation.getFieldMask(),Ct.now())):u.set(p.key,ur.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((p,x)=>u.set(p,x))),n.forEach(((p,x)=>f.set(p,new z6(x,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=jc();let i=new Mt(((u,f)=>u-f)),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let x=s.get(m)||ur.empty();x=f.applyToLocalView(p,x),s.set(m,x);const b=(i.get(f.batchId)||Je()).add(m);i=i.insert(f.batchId,b)}))})).next((()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,x=m.value,b=ow();x.forEach((w=>{if(!o.has(w)){const _=mw(n.get(w),s.get(w));_!==null&&b.set(w,_),o=o.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return xe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,i){return(function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next((o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-o.size):xe.resolve(Ii());let f=Vc,m=o;return u.next((p=>xe.forEach(p,((x,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),o.get(x)?xe.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{m=m.insert(x,w)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,m,p,Je()))).next((x=>({batchId:f,changes:lw(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let i=_c();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const o=n.collectionGroup;let u=_c();return this.indexManager.getCollectionParents(e,o).next((f=>xe.forEach(f,(m=>{const p=(function(b,w){return new lo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,s,i).next((x=>{x.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o,i)))).next((u=>{o.forEach(((m,p)=>{const x=p.getKey();u.get(x)===null&&(u=u.insert(x,In.newInvalidDocument(x)))}));let f=_c();return u.forEach(((m,p)=>{const x=o.get(m);x!==void 0&&kc(x.mutation,p,ur.empty(),Ct.now()),Af(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return xe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:fs(i.createTime)}})(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:C6(i.bundledQuery),readTime:fs(i.readTime)}})(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(){this.overlays=new Mt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ii();return xe.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&s.set(i,o)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((i,o)=>{this.St(e,n,o)})),xe.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(s)),xe.resolve()}getOverlaysForCollection(e,n,s){const i=Ii(),o=n.length+1,u=new Ie(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>s&&i.set(m.getKey(),m)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let o=new Mt(((p,x)=>p-x));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let x=o.get(p.largestBatchId);x===null&&(x=Ii(),o=o.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const f=Ii(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,x)=>f.set(p,x))),!(f.size()>=i)););return xe.resolve(f)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new i6(n,s));let o=this.qr.get(n);o===void 0&&(o=Je(),this.qr.set(n,o)),this.qr.set(n,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.Qr=new sn(hn.$r),this.Ur=new sn(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new hn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ie(new jt([])),s=new hn(n,e),i=new hn(n,e+1),o=[];return this.Ur.forEachInRange([s,i],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new jt([])),s=new hn(n,e),i=new hn(n,e+1);let o=Je();return this.Ur.forEachInRange([s,i],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new hn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new sn(hn.$r)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new a6(o,n,s,i);this.mutationQueue.push(u);for(const f of i)this.Zr=this.Zr.add(new hn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return xe.resolve(u)}lookupMutationBatch(e,n){return xe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ei(s),o=i<0?0:i;return xe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?Dp:this.tr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new hn(n,0),i=new hn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,i],(u=>{const f=this.Xr(u.Yr);o.push(f)})),xe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new sn(Ze);return n.forEach((i=>{const o=new hn(i,0),u=new hn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(f=>{s=s.add(f.Yr)}))})),xe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let o=s;Ie.isDocumentKey(o)||(o=o.child(""));const u=new hn(new Ie(o),0);let f=new sn(Ze);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===i&&(f=f.add(m.Yr)),!0)}),u),xe.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const i=this.Xr(s);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return xe.forEach(n.mutations,(i=>{const o=new hn(i.key,n.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new hn(n,0),i=this.Zr.firstAfterOrEqual(s);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.ri=e,this.docs=(function(){return new Mt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),o=i?i.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return xe.resolve(s?s.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let s=Js();return n.forEach((i=>{const o=this.docs.get(i);s=s.insert(i,o?o.document.mutableCopy():In.newInvalidDocument(i))})),xe.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let o=Js();const u=n.path,f=new Ie(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:x}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||bS(yS(x),s)<=0||(i.has(x.key)||Af(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return xe.resolve(o)}getAllFromCollectionGroup(e,n,s,i){Le(9500)}ii(e,n){return xe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Y6(this)}getSize(e){return xe.resolve(this.size)}}class Y6 extends L6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)})),xe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.persistence=e,this.si=new qi((n=>Op(n)),Vp),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new Bp,this.targetCount=0,this.ai=Wl.ur()}forEachTarget(e,n){return this.si.forEach(((s,i)=>n(i))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),xe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.Pr(n),xe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,s){let i=0;const o=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)})),xe.waitFor(o).next((()=>i))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return xe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),xe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((u=>{o.push(i.markPotentiallyOrphaned(e,u))})),xe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return xe.resolve(s)}containsKey(e,n){return xe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.ui={},this.overlays={},this.ci=new _f(0),this.li=!1,this.li=!0,this.hi=new q6,this.referenceDelegate=e(this),this.Pi=new G6(this),this.indexManager=new R6,this.remoteDocumentCache=(function(i){return new H6(i)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new k6(n),this.Ii=new B6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new F6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new $6(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){je("MemoryPersistence","Starting transaction:",e);const i=new Q6(this.ci.next());return this.referenceDelegate.Ei(),s(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return xe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Q6 extends wS{constructor(e){super(),this.currentSequenceNumber=e}}class Fp{constructor(e){this.persistence=e,this.Ri=new Bp,this.Vi=null}static mi(e){return new Fp(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),xe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.fi,(s=>{const i=Ie.fromPath(s);return this.gi(e,i).next((o=>{o||n.removeEntry(i,Be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return xe.or([()=>xe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sf{constructor(e,n){this.persistence=e,this.pi=new qi((s=>ES(s.path)),((s,i)=>s.isEqual(i))),this.garbageCollector=P6(this,n)}static mi(e,n){return new sf(e,n)}Ei(){}di(e){return xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((i=>s+i))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return xe.forEach(this.pi,((s,i)=>this.br(e,s,i).next((o=>o?xe.resolve():n(i)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,n).next((f=>{f||(s++,o.removeEntry(u,Be.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),xe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bd(e.data.value)),n}br(e,n,s){return xe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return xe.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=i}static As(e,n){let s=Je(),i=Je();for(const o of n.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new qp(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FT()?8:_S(UT())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,i,s).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new X6;return this.Ss(e,n,u).next((f=>{if(o.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>o.result))}bs(e,n,s,i){return s.documentReadCount<this.fs?(Ll()<=st.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xe.resolve()):(Ll()<=st.DEBUG&&je("QueryEngine","Query:",zl(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(Ll()<=st.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):xe.resolve())}ys(e,n){if(Ub(n))return xe.resolve(null);let s=ds(n);return this.indexManager.getIndexType(e,s).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=H0(n,null,"F"),s=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const u=Je(...o);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,u,m.readTime)?this.ys(e,H0(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,i){return Ub(n)||i.isEqual(Be.min())?xe.resolve(null):this.ps.getDocuments(e,s).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,s,i)?xe.resolve(null):(Ll()<=st.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zl(n)),this.vs(e,u,n,xS(i,Vc)).next((f=>f)))}))}Ds(e,n){let s=new sn(aw(e));return n.forEach(((i,o)=>{Af(e,o)&&(s=s.add(o))})),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,s){return Ll()<=st.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",zl(n)),this.ps.getDocumentsMatchingQuery(e,n,za.min(),s)}vs(e,n,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="LocalStore",Z6=3e8;class J6{constructor(e,n,s,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Mt(Ze),this.xs=new qi((o=>Op(o)),Vp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function W6(t,e,n,s){return new J6(t,e,n,s)}async function jw(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((o=>{const u=[],f=[];let m=Je();for(const p of i){u.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}for(const p of o){f.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function eA(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,x){const b=p.batch,w=b.keys();let _=xe.resolve();return w.forEach((A=>{_=_.next((()=>x.getEntry(m,A))).next((R=>{const z=p.docVersions.get(A);dt(z!==null,48541),R.version.compareTo(z)<0&&(b.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),x.addEntry(R)))}))})),_.next((()=>f.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,o).next((()=>o.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Je();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,i)))}))}function kw(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tA(t,e){const n=Fe(t),s=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const f=[];e.targetChanges.forEach(((x,b)=>{const w=i.get(b);if(!w)return;f.push(n.Pi.removeMatchingKeys(o,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,x.addedDocuments,b))));let _=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?_=_.withResumeToken(Sn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):x.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(x.resumeToken,s)),i=i.insert(b,_),(function(R,z,F){return R.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Z6?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,_,x)&&f.push(n.Pi.updateTargetData(o,_))}));let m=Js(),p=Je();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))})),f.push(nA(o,u,e.documentUpdates).next((x=>{m=x.ks,p=x.qs}))),!s.isEqual(Be.min())){const x=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,s)));f.push(x)}return xe.waitFor(f).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,m,p))).next((()=>m))})).then((o=>(n.Ms=i,o)))}function nA(t,e,n){let s=Je(),i=Je();return n.forEach((o=>s=s.add(o))),e.getEntries(t,s).next((o=>{let u=Js();return n.forEach(((f,m)=>{const p=o.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(Be.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):je($p,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:i}}))}function rA(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function sA(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let i;return n.Pi.getTargetData(s,e).next((o=>o?(i=o,xe.resolve(i)):n.Pi.allocateTargetId(s).next((u=>(i=new Da(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,i).next((()=>i)))))))})).then((s=>{const i=n.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function K0(t,e,n){const s=Fe(t),i=s.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",o,(u=>s.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!io(u))throw u;je($p,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function Wb(t,e,n){const s=Fe(t);let i=Be.min(),o=Je();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,x){const b=Fe(m),w=b.xs.get(x);return w!==void 0?xe.resolve(b.Ms.get(w)):b.Pi.getTargetData(p,x)})(s,u,ds(e)).next((f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{o=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?i:Be.min(),n?o:Je()))).next((f=>(aA(s,qS(e),f),{documents:f,Qs:o})))))}function aA(t,e,n){let s=t.Os.get(e)||Be.min();n.forEach(((i,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),t.Os.set(e,s)}class ev{constructor(){this.activeTargetIds=XS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iA{constructor(){this.Mo=new ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ev,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="ConnectivityMonitor";class nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){je(tv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){je(tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md=null;function Z0(){return Md===null?Md=(function(){return 268435456+Math.round(2147483648*Math.random())})():Md++,"0x"+Md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="RestConnection",oA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===Wd?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,n,s,i,o){const u=Z0(),f=this.zo(e,n.toUriEncodedString());je(s0,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,i,o);const{host:p}=new URL(f),x=jp(p);return this.Jo(e,f,m,s,x).then((b=>(je(s0,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Xl(s0,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,i,o,u){return this.Go(e,n,s,i,o)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),s&&s.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const s=oA[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class dA extends cA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,o){const u=Z0();return new Promise(((f,m)=>{const p=new D2;p.setWithCredentials(!0),p.listenOnce(I2.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ud.NO_ERROR:const b=p.getResponseJson();je(Rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case Ud.TIMEOUT:je(Rn,`RPC '${e}' ${u} timed out`),m(new Se(he.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const w=p.getStatus();if(je(Rn,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let _=p.getResponseJson();Array.isArray(_)&&(_=_[0]);const A=_?.error;if(A&&A.status&&A.message){const R=(function(F){const V=F.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(V)>=0?V:he.UNKNOWN})(A.status);m(new Se(R,A.message))}else m(new Se(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Se(he.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{je(Rn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(i);je(Rn,`RPC '${e}' ${u} sending request:`,i),p.send(n,"POST",x,s,15)}))}T_(e,n,s){const i=Z0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=V2(),f=O2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const x=o.join("");je(Rn,`Creating RPC '${e}' stream ${i}: ${x}`,m);const b=u.createWebChannel(x,m);this.I_(b);let w=!1,_=!1;const A=new uA({Yo:z=>{_?je(Rn,`Not sending because RPC '${e}' stream ${i} is closed:`,z):(w||(je(Rn,`Opening RPC '${e}' stream ${i} transport.`),b.open(),w=!0),je(Rn,`RPC '${e}' stream ${i} sending:`,z),b.send(z))},Zo:()=>b.close()}),R=(z,F,V)=>{z.listen(F,(B=>{try{V(B)}catch(H){setTimeout((()=>{throw H}),0)}}))};return R(b,wc.EventType.OPEN,(()=>{_||(je(Rn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),R(b,wc.EventType.CLOSE,(()=>{_||(_=!0,je(Rn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(b))})),R(b,wc.EventType.ERROR,(z=>{_||(_=!0,Xl(Rn,`RPC '${e}' stream ${i} transport errored. Name:`,z.name,"Message:",z.message),A.a_(new Se(he.UNAVAILABLE,"The operation could not be completed")))})),R(b,wc.EventType.MESSAGE,(z=>{if(!_){const F=z.data[0];dt(!!F,16349);const V=F,B=V?.error||V[0]?.error;if(B){je(Rn,`RPC '${e}' stream ${i} received error:`,B);const H=B.status;let X=(function(j){const D=Gt[j];if(D!==void 0)return gw(D)})(H),L=B.message;X===void 0&&(X=he.INTERNAL,L="Unknown error status: "+H+" with message "+B.message),_=!0,A.a_(new Se(X,L)),b.close()}else je(Rn,`RPC '${e}' stream ${i} received:`,F),A.u_(F)}})),R(f,M2.STAT_EVENT,(z=>{z.stat===L0.PROXY?je(Rn,`RPC '${e}' stream ${i} detected buffering proxy`):z.stat===L0.NOPROXY&&je(Rn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function a0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){return new p6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,s=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="PersistentStream";class Rw{constructor(e,n,s,i,o,u,f,m){this.Mi=e,this.S_=s,this.b_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Zs(n.toString()),Zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,i])=>{this.D_===n&&this.G_(s,i)}),(s=>{e((()=>{const i=new Se(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{s((()=>this.z_(i)))})),this.stream.onMessage((i=>{s((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return je(rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(je(rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fA extends Rw{constructor(e,n,s,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=y6(this.serializer,e),s=(function(o){if(!("targetChange"in o))return Be.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?fs(u.readTime):Be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=X0(this.serializer),n.addTarget=(function(o,u){let f;const m=u.target;if(f=q0(m)?{documents:w6(o,m)}:{query:_6(o,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=bw(o,u.resumeToken);const p=Y0(o,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Be.min())>0){f.readTime=rf(o,u.snapshotVersion.toTimestamp());const p=Y0(o,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=E6(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=X0(this.serializer),n.removeTarget=e,this.q_(n)}}class hA extends Rw{constructor(e,n,s,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=v6(e.writeResults,e.commitTime),s=fs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=X0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>b6(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{}class pA extends mA{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Se(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,G0(n,s),i,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(he.UNKNOWN,o.toString())}))}Ho(e,n,s,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,G0(n,s),i,u,f,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zs(n),this.aa=!1):je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class xA{constructor(e,n,s,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{$i(this)&&(je(zi,"Restarting streams for network reachability change."),await(async function(m){const p=Fe(m);p.Ea.add(4),await Jc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await If(p)})(this))}))})),this.Ra=new gA(s,i)}}async function If(t){if($i(t))for(const e of t.da)await e(!0)}async function Jc(t){for(const e of t.da)await e(!1)}function Dw(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qp(n)?Gp(n):oo(n).O_()&&Yp(n,e))}function Hp(t,e){const n=Fe(t),s=oo(n);n.Ia.delete(e),s.O_()&&Iw(n,e),n.Ia.size===0&&(s.O_()?s.L_():$i(n)&&n.Ra.set("Unknown"))}function Yp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oo(t).Y_(e)}function Iw(t,e){t.Va.Ue(e),oo(t).Z_(e)}function Gp(t){t.Va=new d6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),oo(t).start(),t.Ra.ua()}function Qp(t){return $i(t)&&!oo(t).x_()&&t.Ia.size>0}function $i(t){return Fe(t).Ea.size===0}function Mw(t){t.Va=void 0}async function yA(t){t.Ra.set("Online")}async function bA(t){t.Ia.forEach(((e,n)=>{Yp(t,e)}))}async function vA(t,e){Mw(t),Qp(t)?(t.Ra.ha(e),Gp(t)):t.Ra.set("Unknown")}async function wA(t,e,n){if(t.Ra.set("Online"),e instanceof yw&&e.state===2&&e.cause)try{await(async function(i,o){const u=o.cause;for(const f of o.targetIds)i.Ia.has(f)&&(await i.remoteSyncer.rejectListen(f,u),i.Ia.delete(f),i.Va.removeTarget(f))})(t,e)}catch(s){je(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await af(t,s)}else if(e instanceof $d?t.Va.Ze(e):e instanceof xw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Be.min()))try{const s=await kw(t.localStore);n.compareTo(s)>=0&&await(function(o,u){const f=o.Va.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const x=o.Ia.get(p);x&&o.Ia.set(p,x.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const x=o.Ia.get(m);if(!x)return;o.Ia.set(m,x.withResumeToken(Sn.EMPTY_BYTE_STRING,x.snapshotVersion)),Iw(o,m);const b=new Da(x.target,m,p,x.sequenceNumber);Yp(o,b)})),o.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){je(zi,"Failed to raise snapshot:",s),await af(t,s)}}async function af(t,e,n){if(!io(e))throw e;t.Ea.add(1),await Jc(t),t.Ra.set("Offline"),n||(n=()=>kw(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{je(zi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await If(t)}))}function Ow(t,e){return e().catch((n=>af(t,n,e)))}async function Mf(t){const e=Fe(t),n=qa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dp;for(;_A(e);)try{const i=await rA(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,NA(e,i)}catch(i){await af(e,i)}Vw(e)&&Pw(e)}function _A(t){return $i(t)&&t.Ta.length<10}function NA(t,e){t.Ta.push(e);const n=qa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Vw(t){return $i(t)&&!qa(t).x_()&&t.Ta.length>0}function Pw(t){qa(t).start()}async function EA(t){qa(t).ra()}async function TA(t){const e=qa(t);for(const n of t.Ta)e.ea(n.mutations)}async function SA(t,e,n){const s=t.Ta.shift(),i=Lp.from(s,e,n);await Ow(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Mf(t)}async function AA(t,e){e&&qa(t).X_&&await(async function(s,i){if((function(u){return o6(u)&&u!==he.ABORTED})(i.code)){const o=s.Ta.shift();qa(s).B_(),await Ow(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Mf(s)}})(t,e),Vw(t)&&Pw(t)}async function sv(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),je(zi,"RemoteStore received new credentials");const s=$i(n);n.Ea.add(3),await Jc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await If(n)}async function jA(t,e){const n=Fe(t);e?(n.Ea.delete(2),await If(n)):e||(n.Ea.add(2),await Jc(n),n.Ra.set("Unknown"))}function oo(t){return t.ma||(t.ma=(function(n,s,i){const o=Fe(n);return o.sa(),new fA(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:yA.bind(null,t),t_:bA.bind(null,t),r_:vA.bind(null,t),H_:wA.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Qp(t)?Gp(t):t.Ra.set("Unknown")):(await t.ma.stop(),Mw(t))}))),t.ma}function qa(t){return t.fa||(t.fa=(function(n,s,i){const o=Fe(n);return o.sa(),new hA(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:EA.bind(null,t),r_:AA.bind(null,t),ta:TA.bind(null,t),na:SA.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Mf(t)):(await t.fa.stop(),t.Ta.length>0&&(je(zi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,s,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=o,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,o){const u=Date.now()+s,f=new Xp(e,n,u,i,o);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(t,e){if(Zs("AsyncQueue",`${e}: ${t}`),io(t))return new Se(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static emptySet(e){return new Hl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=_c(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=s.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Hl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.ga=new Mt(Ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class eo{constructor(e,n,s,i,o,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,i,o){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new eo(e,n,Hl.emptySet(n),u,s,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CA{constructor(){this.queries=iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Fe(n),o=i.queries;i.queries=iv(),o.forEach(((u,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new Se(he.ABORTED,"Firestore shutting down"))}}function iv(){return new qi((t=>sw(t)),Sf)}async function Zp(t,e){const n=Fe(t);let s=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(s=2):(o=new kA,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const f=Kp(u,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(f)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Wp(n)}async function Jp(t,e){const n=Fe(t),s=e.query;let i=3;const o=n.queries.get(s);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function RA(t,e){const n=Fe(t);let s=!1;for(const i of e){const o=i.query,u=n.queries.get(o);if(u){for(const f of u.Sa)f.Fa(i)&&(s=!0);u.wa=i}}s&&Wp(n)}function DA(t,e,n){const s=Fe(t),i=s.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);s.queries.delete(e)}function Wp(t){t.Ca.forEach((e=>{e.next()}))}var J0,lv;(lv=J0||(J0={})).Ma="default",lv.Cache="cache";class eg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==J0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.key=e}}class zw{constructor(e){this.key=e}}class IA{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=aw(e),this.tu=new Hl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new av,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=i,f=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((x,b)=>{const w=i.get(x),_=Af(this.query,b)?b:null,A=!!w&&this.mutatedKeys.has(w.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let z=!1;w&&_?w.data.isEqual(_.data)?A!==R&&(s.track({type:3,doc:_}),z=!0):this.su(w,_)||(s.track({type:2,doc:_}),z=!0,(m&&this.eu(_,m)>0||p&&this.eu(_,p)<0)&&(f=!0)):!w&&_?(s.track({type:0,doc:_}),z=!0):w&&!_&&(s.track({type:1,doc:w}),z=!0,(m||p)&&(f=!0)),z&&(_?(u=u.add(_),o=R?o.add(x):o.delete(x)):(u=u.delete(x),o=o.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),o=o.delete(x.key),s.track({type:1,doc:x})}return{tu:u,iu:s,Cs:f,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,b)=>(function(_,A){const R=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:z})}};return R(_)-R(A)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(s),i=i??!1;const f=n&&!i?this._u():[],m=this.Xa.size===0&&this.current&&!i?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new eo(this.query,e.tu,o,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new zw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Lw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tg="SyncEngine";class MA{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class OA{constructor(e){this.key=e,this.hu=!1}}class VA{constructor(e,n,s,i,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new qi((f=>sw(f)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Ie.comparator),this.Au=new Map,this.Ru=new Bp,this.Vu={},this.mu=new Map,this.fu=Wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PA(t,e,n=!0){const s=Hw(t);let i;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Uw(s,e,n,!0),i}async function LA(t,e){const n=Hw(t);await Uw(n,e,!0,!1)}async function Uw(t,e,n,s){const i=await sA(t.localStore,ds(e)),o=i.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let f;return s&&(f=await zA(t,e,o,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&Dw(t.remoteStore,i),f}async function zA(t,e,n,s,i){t.pu=(b,w,_)=>(async function(R,z,F,V){let B=z.view.ru(F);B.Cs&&(B=await Wb(R.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,B))));const H=V&&V.targetChanges.get(z.targetId),X=V&&V.targetMismatches.get(z.targetId)!=null,L=z.view.applyChanges(B,R.isPrimaryClient,H,X);return cv(R,z.targetId,L.au),L.snapshot})(t,b,w,_);const o=await Wb(t.localStore,e,!0),u=new IA(e,o.Qs),f=u.ru(o.documents),m=Zc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),p=u.applyChanges(f,t.isPrimaryClient,m);cv(t,n,p.au);const x=new MA(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function UA(t,e,n){const s=Fe(t),i=s.Tu.get(e),o=s.Iu.get(i.targetId);if(o.length>1)return s.Iu.set(i.targetId,o.filter((u=>!Sf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await K0(s.localStore,i.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(i.targetId),n&&Hp(s.remoteStore,i.targetId),W0(s,i.targetId)})).catch(ao)):(W0(s,i.targetId),await K0(s.localStore,i.targetId,!0))}async function BA(t,e){const n=Fe(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function FA(t,e,n){const s=XA(t);try{const i=await(function(u,f){const m=Fe(u),p=Ct.now(),x=f.reduce(((_,A)=>_.add(A.key)),Je());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let A=Js(),R=Je();return m.Ns.getEntries(_,x).next((z=>{A=z,A.forEach(((F,V)=>{V.isValidDocument()||(R=R.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(_,A))).next((z=>{b=z;const F=[];for(const V of f){const B=r6(V,b.get(V.key).overlayedDocument);B!=null&&F.push(new Ya(V.key,B,K2(B.value.mapValue),$n.exists(!0)))}return m.mutationQueue.addMutationBatch(_,p,F,f)})).next((z=>{w=z;const F=z.applyToLocalDocumentSet(b,R);return m.documentOverlayCache.saveOverlays(_,z.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:lw(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),(function(u,f,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new Mt(Ze)),p=p.insert(f,m),u.Vu[u.currentUser.toKey()]=p})(s,i.batchId,n),await Wc(s,i.changes),await Mf(s.remoteStore)}catch(i){const o=Kp(i,"Failed to persist write");n.reject(o)}}async function Bw(t,e){const n=Fe(t);try{const s=await tA(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const u=n.Au.get(o);u&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?dt(u.hu,14607):i.removedDocuments.size>0&&(dt(u.hu,42227),u.hu=!1))})),await Wc(n,s,e)}catch(s){await ao(s)}}function ov(t,e,n){const s=Fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach(((o,u)=>{const f=u.view.va(e);f.snapshot&&i.push(f.snapshot)})),(function(u,f){const m=Fe(u);m.onlineState=f;let p=!1;m.queries.forEach(((x,b)=>{for(const w of b.Sa)w.va(f)&&(p=!0)})),p&&Wp(m)})(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qA(t,e,n){const s=Fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),o=i&&i.key;if(o){let u=new Mt(Ie.comparator);u=u.insert(o,In.newNoDocument(o,Be.min()));const f=Je().add(o),m=new Rf(Be.min(),new Map,new Mt(Ze),u,f);await Bw(s,m),s.du=s.du.remove(o),s.Au.delete(e),ng(s)}else await K0(s.localStore,e,!1).then((()=>W0(s,e,n))).catch(ao)}async function $A(t,e){const n=Fe(t),s=e.batch.batchId;try{const i=await eA(n.localStore,e);qw(n,s,null),Fw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Wc(n,i)}catch(i){await ao(i)}}async function HA(t,e,n){const s=Fe(t);try{const i=await(function(u,f){const m=Fe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return m.mutationQueue.lookupMutationBatch(p,f).next((b=>(dt(b!==null,37113),x=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,x,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>m.localDocuments.getDocuments(p,x)))}))})(s.localStore,e);qw(s,e,n),Fw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Wc(s,i)}catch(i){await ao(i)}}function Fw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function qw(t,e,n){const s=Fe(t);let i=s.Vu[s.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function W0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||$w(t,s)}))}function $w(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Hp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ng(t))}function cv(t,e,n){for(const s of n)s instanceof Lw?(t.Ru.addReference(s.key,e),YA(t,s)):s instanceof zw?(je(tg,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||$w(t,s.key)):Le(19791,{wu:s})}function YA(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(je(tg,"New document in limbo: "+n),t.Eu.add(s),ng(t))}function ng(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(jt.fromString(e)),s=t.fu.next();t.Au.set(s,new OA(n)),t.du=t.du.insert(n,s),Dw(t.remoteStore,new Da(ds(Tf(n.path)),s,"TargetPurposeLimboResolution",_f.ce))}}async function Wc(t,e,n){const s=Fe(t),i=[],o=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const x=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(p){i.push(p);const x=qp.As(m.targetId,p);o.push(x)}})))})),await Promise.all(u),s.Pu.H_(i),await(async function(m,p){const x=Fe(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>xe.forEach(p,(w=>xe.forEach(w.Es,(_=>x.persistence.referenceDelegate.addReference(b,w.targetId,_))).next((()=>xe.forEach(w.ds,(_=>x.persistence.referenceDelegate.removeReference(b,w.targetId,_)))))))))}catch(b){if(!io(b))throw b;je($p,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const _=x.Ms.get(w),A=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(A);x.Ms=x.Ms.insert(w,R)}}})(s.localStore,o))}async function GA(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){je(tg,"User change. New user:",e.toKey());const s=await jw(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((f=>{f.forEach((m=>{m.reject(new Se(he.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wc(n,s.Ls)}}function QA(t,e){const n=Fe(t),s=n.Au.get(e);if(s&&s.hu)return Je().add(s.key);{let i=Je();const o=n.Iu.get(e);if(!o)return i;for(const u of o){const f=n.Tu.get(u);i=i.unionWith(f.view.nu)}return i}}function Hw(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qA.bind(null,e),e.Pu.H_=RA.bind(null,e.eventManager),e.Pu.yu=DA.bind(null,e.eventManager),e}function XA(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$A.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HA.bind(null,e),e}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return W6(this.persistence,new K6,e.initialUser,this.serializer)}Cu(e){return new Aw(Fp.mi,this.serializer)}Du(e){return new iA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class KA extends lf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new O6(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new Aw((s=>sf.mi(s,n)),this.serializer)}}class ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ov(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GA.bind(null,this.syncEngine),await jA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CA})()}createDatastore(e){const n=Df(e.databaseInfo.databaseId),s=(function(o){return new dA(o)})(e.databaseInfo);return(function(o,u,f,m){return new pA(o,u,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,i,o,u,f){return new xA(s,i,o,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>ov(this.syncEngine,n,0)),(function(){return nv.v()?new nv:new lA})())}createSyncEngine(e,n){return(function(i,o,u,f,m,p,x){const b=new VA(i,o,u,f,m,p);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Fe(n);je(zi,"RemoteStore shutting down."),s.Ea.add(5),await Jc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ep.provider={build:()=>new ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="FirestoreClient";class ZA{constructor(e,n,s,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=Rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async u=>{je($a,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(je($a,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Kp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function i0(t,e){t.asyncQueue.verifyOperationInProgress(),je($a,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async i=>{s.isEqual(i)||(await jw(e.localStore,i),s=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function uv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JA(t);je($a,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>sv(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,i)=>sv(e.remoteStore,i))),t._onlineComponents=e}async function JA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je($a,"Using user provided OfflineComponentProvider");try{await i0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Xl("Error using user provided cache. Falling back to memory cache: "+n),await i0(t,new lf)}}else je($a,"Using default OfflineComponentProvider"),await i0(t,new KA(void 0));return t._offlineComponents}async function Yw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je($a,"Using user provided OnlineComponentProvider"),await uv(t,t._uninitializedComponentsProvider._online)):(je($a,"Using default OnlineComponentProvider"),await uv(t,new ep))),t._onlineComponents}function WA(t){return Yw(t).then((e=>e.syncEngine))}async function of(t){const e=await Yw(t),n=e.eventManager;return n.onListen=PA.bind(null,e.syncEngine),n.onUnlisten=UA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BA.bind(null,e.syncEngine),n}function ej(t,e,n={}){const s=new Qs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,f,m,p){const x=new rg({next:w=>{x.Nu(),u.enqueueAndForget((()=>Jp(o,b)));const _=w.docs.has(f);!_&&w.fromCache?p.reject(new Se(he.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&w.fromCache&&m&&m.source==="server"?p.reject(new Se(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new eg(Tf(f.path),x,{includeMetadataChanges:!0,qa:!0});return Zp(o,b)})(await of(t),t.asyncQueue,e,n,s))),s.promise}function tj(t,e,n={}){const s=new Qs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,f,m,p){const x=new rg({next:w=>{x.Nu(),u.enqueueAndForget((()=>Jp(o,b))),w.fromCache&&m.source==="server"?p.reject(new Se(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new eg(f,x,{includeMetadataChanges:!0,qa:!0});return Zp(o,b)})(await of(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firestore.googleapis.com",fv=!0;class hv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qw,this.ssl=fv}else this.host=e.host,this.ssl=e.ssl??fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I6)throw new Se(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,i){return s.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iS;switch(s.type){case"firstParty":return new uS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=dv.get(n);s&&(je("ComponentProvider","Removing Datastore"),dv.delete(n),s.terminate())})(this),Promise.resolve()}}function nj(t,e,n,s={}){t=qn(t,Of);const i=jp(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;i&&(OT(`https://${f}`),zT("Firestore",!0)),o.host!==Qw&&o.host!==f&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:f,ssl:i,emulatorOptions:s};if(!Xd(m,u)&&(t._setSettings(m),s.mockUserToken)){let p,x;if(typeof s.mockUserToken=="string")p=s.mockUserToken,x=Dn.MOCK_USER;else{p=VT(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Se(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Dn(b)}t._authCredentials=new lS(new L2(p,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ga(this.firestore,e,this._query)}}class Lt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Xc(n,Lt._jsonSchema))return new Lt(e,s||null,new Ie(jt.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Zt("string",Lt._jsonSchemaVersion),referencePath:Zt("string")};class Va extends Ga{constructor(e,n,s){super(e,n,Tf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ie(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function Yl(t,e,...n){if(t=Rr(t),z2("collection","path",e),t instanceof Of){const s=jt.fromString(e,...n);return Sb(s),new Va(t,null,s)}{if(!(t instanceof Lt||t instanceof Va))throw new Se(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(jt.fromString(e,...n));return Sb(s),new Va(t.firestore,null,s)}}function rn(t,e,...n){if(t=Rr(t),arguments.length===1&&(e=Rp.newId()),z2("doc","path",e),t instanceof Of){const s=jt.fromString(e,...n);return Tb(s),new Lt(t,null,new Ie(s))}{if(!(t instanceof Lt||t instanceof Va))throw new Se(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(jt.fromString(e,...n));return Tb(s),new Lt(t.firestore,t instanceof Va?t.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="AsyncQueue";class pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cw(this,"async_queue_retry"),this._c=()=>{const s=a0();s&&je(mv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=a0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=a0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!io(e))throw e;je(mv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Zs("INTERNAL UNHANDLED ERROR: ",gv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Xp.createAndSchedule(this,e,n,s,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Le(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of s)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ys extends Of{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new pv,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function rj(t,e){const n=typeof t=="object"?t:X3(),s=typeof t=="string"?t:Wd,i=$3(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const o=IT("firestore");o&&nj(i,...o)}return i}function eu(t){if(t._terminated)throw new Se(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sj(t),t._firestoreClient}function sj(t){const e=t._freezeSettings(),n=(function(i,o,u,f){return new AS(i,o,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Gw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ZA(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jr(Sn.fromBase64String(e))}catch(n){throw new Se(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jr(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xc(e,jr._jsonSchema))return jr.fromBase64String(e.bytes)}}jr._jsonSchemaVersion="firestore/bytes/1.0",jr._jsonSchema={type:Zt("string",jr._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if(Xc(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:Zt("string",hs._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,i){if(s.length!==i.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xc(e,ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ms(e.vectorValues);throw new Se(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ms._jsonSchemaVersion="firestore/vectorValue/1.0",ms._jsonSchema={type:Zt("string",ms._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=/^__.*__$/;class ij{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kc(e,this.data,n,this.fieldTransforms)}}class Xw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Kw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class sg{constructor(e,n,s,i,o,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Kw(this.Ac)&&aj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lj{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Df(e)}Cc(e,n,s,i=!1){return new sg({Ac:e,methodName:n,Dc:s,path:Tn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nu(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new lj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ag(t,e,n,s,i,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);lg("Data must be an object, but it was:",u,s);const f=Ww(s,u);let m,p;if(o.merge)m=new ur(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const x=[];for(const b of o.mergeFields){const w=tp(e,b,n);if(!u.contains(w))throw new Se(he.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);t_(x,w)||x.push(w)}m=new ur(x),p=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=u.fieldTransforms;return new ij(new Jn(f),m,p)}class Pf extends Vf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}class ig extends Vf{_toFieldTransform(e){return new WS(e.path,new Bc)}isEqual(e){return e instanceof ig}}function Zw(t,e,n,s){const i=t.Cc(1,e,n);lg("Data must be an object, but it was:",i,s);const o=[],u=Jn.empty();Ha(s,((m,p)=>{const x=og(e,m,n);p=Rr(p);const b=i.yc(x);if(p instanceof Pf)o.push(x);else{const w=ru(p,b);w!=null&&(o.push(x),u.set(x,w))}}));const f=new ur(o);return new Xw(u,f,i.fieldTransforms)}function Jw(t,e,n,s,i,o){const u=t.Cc(1,e,n),f=[tp(e,s,n)],m=[i];if(o.length%2!=0)throw new Se(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)f.push(tp(e,o[w])),m.push(o[w+1]);const p=[],x=Jn.empty();for(let w=f.length-1;w>=0;--w)if(!t_(p,f[w])){const _=f[w];let A=m[w];A=Rr(A);const R=u.yc(_);if(A instanceof Pf)p.push(_);else{const z=ru(A,R);z!=null&&(p.push(_),x.set(_,z))}}const b=new ur(p);return new Xw(x,b,u.fieldTransforms)}function oj(t,e,n,s=!1){return ru(n,t.Cc(s?4:3,e))}function ru(t,e){if(e_(t=Rr(t)))return lg("Unsupported field value:",e,t),Ww(t,e);if(t instanceof Vf)return(function(s,i){if(!Kw(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,i){const o=[];let u=0;for(const f of s){let m=ru(f,i.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}})(t,e)}return(function(s,i){if((s=Rr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KS(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=Ct.fromDate(s);return{timestampValue:rf(i.serializer,o)}}if(s instanceof Ct){const o=new Ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rf(i.serializer,o)}}if(s instanceof hs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jr)return{bytesValue:bw(i.serializer,s._byteString)};if(s instanceof Lt){const o=i.databaseId,u=s.firestore._databaseId;if(!u.isEqual(o))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Up(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof ms)return(function(u,f){return{mapValue:{fields:{[Q2]:{stringValue:X2},[ef]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Pp(f.serializer,p)}))}}}}}})(s,i);throw i.Sc(`Unsupported field value: ${wf(s)}`)})(t,e)}function Ww(t,e){const n={};return F2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(t,((s,i)=>{const o=ru(i,e.mc(s));o!=null&&(n[s]=o)})),{mapValue:{fields:n}}}function e_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof hs||t instanceof jr||t instanceof Lt||t instanceof Vf||t instanceof ms)}function lg(t,e,n){if(!e_(n)||!U2(n)){const s=wf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function tp(t,e,n){if((e=Rr(e))instanceof tu)return e._internalPath;if(typeof e=="string")return og(t,e);throw cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const cj=new RegExp("[~\\*/\\[\\]]");function og(t,e,n){if(e.search(cj)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tu(...e.split("."))._internalPath}catch{throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cf(t,e,n,s,i){const o=s&&!s.isEmpty(),u=i!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${s}`),u&&(m+=` in document ${i}`),m+=")"),new Se(he.INVALID_ARGUMENT,f+t+m)}function t_(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n,s,i,o){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uj extends n_{data(){return super.data()}}function Lf(t,e){return typeof e=="string"?og(t,e):e instanceof tu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class s_ extends cg{}function uf(t,e,...n){let s=[];e instanceof cg&&s.push(e),s=s.concat(n),(function(o){const u=o.filter((m=>m instanceof ug)).length,f=o.filter((m=>m instanceof zf)).length;if(u>1||u>0&&f>0)throw new Se(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const i of s)t=i._apply(t);return t}class zf extends s_{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new zf(e,n,s)}_apply(e){const n=this._parse(e);return a_(e._query,n),new Ga(e.firestore,e.converter,$0(e._query,n))}_parse(e){const n=nu(e.firestore);return(function(o,u,f,m,p,x,b){let w;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Se(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){bv(b,x);const A=[];for(const R of b)A.push(yv(m,o,R));w={arrayValue:{values:A}}}else w=yv(m,o,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||bv(b,x),w=oj(f,u,b,x==="in"||x==="not-in");return Kt.create(p,x,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function np(t,e,n){const s=e,i=Lf("where",t);return zf._create(i,s,n)}class ug extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ug(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:qr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let u=i;const f=o.getFlattenedFilters();for(const m of f)a_(u,m),u=$0(u,m)})(e._query,n),new Ga(e.firestore,e.converter,$0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dg extends s_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dg(e,n)}_apply(e){const n=(function(i,o,u){if(i.startAt!==null)throw new Se(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uc(o,u)})(e._query,this._field,this._direction);return new Ga(e.firestore,e.converter,(function(i,o){const u=i.explicitOrderBy.concat([o]);return new lo(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function dj(t,e="asc"){const n=e,s=Lf("orderBy",t);return dg._create(s,n)}function yv(t,e,n){if(typeof(n=Rr(n))=="string"){if(n==="")throw new Se(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(e)&&n.indexOf("/")!==-1)throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(jt.fromString(n));if(!Ie.isDocumentKey(s))throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Mb(t,new Ie(s))}if(n instanceof Lt)return Mb(t,n._key);throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(n)}.`)}function bv(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a_(t,e){const n=(function(i,o){for(const u of i)for(const f of u.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Se(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fj{convertValue(e,n="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ha(e,((i,o)=>{s[i]=this.convertValue(o,n)})),s}convertVectorValue(e){const n=e.fields?.[ef].arrayValue?.values?.map((s=>Ft(s.doubleValue)));return new ms(n)}convertGeoPoint(e){return new hs(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const n=Ua(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=jt.fromString(e);dt(Tw(s),9688,{name:e});const i=new Lc(s.get(1),s.get(3)),o=new Ie(s.popFirst(5));return i.isEqual(n)||Zs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mi extends n_{constructor(e,n,s,i,o,u){super(e,n,s,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Lf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mi._jsonSchema={type:Zt("string",Mi._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Hd extends Mi{data(e={}){return super.data(e)}}class Oi{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ec(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Hd(this._firestore,this._userDataWriter,s.key,s,new Ec(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((f=>{const m=new Hd(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Ec(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((f=>o||f.type!==3)).map((f=>{const m=new Hd(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Ec(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,x=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),x=u.indexOf(f.doc.key)),{type:hj(f.type),doc:m,oldIndex:p,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){t=qn(t,Lt);const e=qn(t.firestore,ys);return ej(eu(e),t._key).then((n=>o_(e,t,n)))}Oi._jsonSchemaVersion="firestore/querySnapshot/1.0",Oi._jsonSchema={type:Zt("string",Oi._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class hg extends fj{constructor(e){super(),this.firestore=e}convertBytes(e){return new jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function l0(t){t=qn(t,Ga);const e=qn(t.firestore,ys),n=eu(e),s=new hg(e);return r_(t._query),tj(n,t._query).then((i=>new Oi(e,s,t,i)))}function Hs(t,e,n){t=qn(t,Lt);const s=qn(t.firestore,ys),i=fg(t.converter,e,n);return su(s,[ag(nu(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$n.none())])}function pj(t,e,n,...s){t=qn(t,Lt);const i=qn(t.firestore,ys),o=nu(i);let u;return u=typeof(e=Rr(e))=="string"||e instanceof tu?Jw(o,"updateDoc",t._key,e,n,s):Zw(o,"updateDoc",t._key,e),su(i,[u.toMutation(t._key,$n.exists(!0))])}function i_(t){return su(qn(t.firestore,ys),[new Cf(t._key,$n.none())])}function gj(t,e){const n=qn(t.firestore,ys),s=rn(t),i=fg(t.converter,e);return su(n,[ag(nu(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then((()=>s))}function l_(t,...e){t=Rr(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||xv(e[s])||(n=e[s++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xv(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let o,u,f;if(t instanceof Lt)u=qn(t.firestore,ys),f=Tf(t._key.path),o={next:m=>{e[s]&&e[s](o_(u,t,m))},error:e[s+1],complete:e[s+2]};else{const m=qn(t,Ga);u=qn(m.firestore,ys),f=m._query;const p=new hg(u);o={next:x=>{e[s]&&e[s](new Oi(u,p,m,x))},error:e[s+1],complete:e[s+2]},r_(t._query)}return(function(p,x,b,w){const _=new rg(w),A=new eg(x,_,b);return p.asyncQueue.enqueueAndForget((async()=>Zp(await of(p),A))),()=>{_.Nu(),p.asyncQueue.enqueueAndForget((async()=>Jp(await of(p),A)))}})(eu(u),f,i,o)}function su(t,e){return(function(s,i){const o=new Qs;return s.asyncQueue.enqueueAndForget((async()=>FA(await WA(s),i,o))),o.promise})(eu(t),e)}function o_(t,e,n){const s=n.docs.get(e._key),i=new hg(t);return new Mi(t,i,e._key,s,new Ec(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nu(e)}set(e,n,s){this._verifyNotCommitted();const i=o0(e,this._firestore),o=fg(i.converter,n,s),u=ag(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,s);return this._mutations.push(u.toMutation(i._key,$n.none())),this}update(e,n,s,...i){this._verifyNotCommitted();const o=o0(e,this._firestore);let u;return u=typeof(n=Rr(n))=="string"||n instanceof tu?Jw(this._dataReader,"WriteBatch.update",o._key,n,s,i):Zw(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(u.toMutation(o._key,$n.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=o0(e,this._firestore);return this._mutations=this._mutations.concat(new Cf(n._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function o0(t,e){if((t=Rr(t)).firestore!==e)throw new Se(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Gl(){return new ig("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){return eu(t=qn(t,ys)),new xj(t,(e=>su(t,e)))}(function(e,n=!0){(function(i){so=i})(Q3),Zd(new Mc("firestore",((s,{instanceIdentifier:i,options:o})=>{const u=s.getProvider("app").getImmediate(),f=new ys(new oS(s.getProvider("auth-internal")),new dS(u,s.getProvider("app-check-internal")),(function(p,x){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(p.options.projectId,x)})(u,i),u);return o={useFetchStreams:n,...o},f._setSettings(o),f}),"PUBLIC").setMultipleInstances(!0)),$l(wb,_b,e),$l(wb,_b,"esm2020")})();var yj="firebase",bj="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$l(yj,bj,"app");const vj={apiKey:"AIzaSyC2RM2HldOB3ScxGRpGxkSj9wvuDqAwWm4",authDomain:"academic-progress-tracke-4774a.firebaseapp.com",projectId:"academic-progress-tracke-4774a",storageBucket:"academic-progress-tracke-4774a.firebasestorage.app",messagingSenderId:"660250554925",appId:"1:660250554925:web:55db1dfd08215d6e493ea4"},wj=j2(vj),bt=rj(wj);function Uf(t,e){const[n,s]=G.useState([]),[i,o]=G.useState(!0),[u,f]=G.useState(!1),m=t?.rollNo===Pe.rollNo,p=t?.role==="co-leader",x=j=>m?!0:p?t?.permissions?t.permissions[j]!==!1:!0:!1,b=m||p&&x("canPostNotices"),w=m||p&&x("canCreateUsers"),_=m||p&&x("canManagePasswords");G.useEffect(()=>{if(!t){s([]),o(!1);return}const j=uf(Yl(bt,"noticeBoard"),dj("createdAt","desc")),D=l_(j,k=>{const P=[];k.forEach(O=>{const C={id:O.id,...O.data()};if(C.semester&&C.semester!==e||C.deleteAt&&(C.deleteAt.toDate?C.deleteAt.toDate():new Date(C.deleteAt))<new Date)return;const se=C.allowedUsers||[],ye=C.isPublic||!1,Q=C.createdByRoll===t.rollNo,fe=se.includes(t.rollNo);m?P.push(C):p?(ye||Q||fe)&&P.push(C):(ye||fe)&&P.push(C)}),P.sort((O,C)=>{const se=O.order!==void 0?O.order:0,ye=C.order!==void 0?C.order:0;return se!==ye?se-ye:(C.createdAt?.toMillis?.()||0)-(O.createdAt?.toMillis?.()||0)}),s(P),o(!1)},k=>{console.error("Error loading notices:",k),o(!1)});return()=>D()},[t,b,e,m]),G.useEffect(()=>{if(!b||n.length===0)return;let j;if(b){const D=new Date,k=df(bt);let P=!1;n.forEach(O=>{O.deleteAt&&(O.deleteAt.toDate?O.deleteAt.toDate():new Date(O.deleteAt))<D&&(k.delete(rn(bt,"noticeBoard",O.id)),P=!0)}),P&&k.commit().catch(O=>console.error("Cleanup error:",O))}return()=>j&&j()},[b,n.length]);const A=async(j,D,k={},P=[],O=!1,C=null)=>{if(!b)throw new Error("Only admin and co-leaders can create notices");try{return f(!0),await gj(Yl(bt,"noticeBoard"),{type:j,content:D,meta:k,semester:e,createdBy:t.name,createdByRoll:t.rollNo,allowedUsers:P,isPublic:O,deleteAt:C,createdAt:Gl(),updatedAt:Gl()}),!0}catch(se){return console.error("Error creating notice:",se),!1}finally{f(!1)}},R=async(j,D,k="admin")=>{try{const P=rn(bt,"noticeBoard",j);if(k==="admin"&&!b)throw new Error("Only admin and co-leaders can manage notices");return await pj(P,{...D,updatedAt:Gl()}),!0}catch(P){return console.error("Error updating notice:",P),!1}};return{notices:n,isLoading:i,isSaving:u,isAdmin:m,isCoLeader:p,canManageNotices:b,canCreateUsers:w,canManagePasswords:_,hasPermission:x,createNotice:A,updateNotice:R,editNotice:async(j,D)=>{if(!b)throw new Error("Only admin and co-leaders can edit notices");try{return await R(j,D,"admin"),!0}catch(k){return console.error("Error editing notice:",k),!1}},deleteNotice:async j=>{if(!b)throw new Error("Only admin and co-leaders can delete notices");try{return await i_(rn(bt,"noticeBoard",j)),!0}catch(D){return console.error("Error deleting notice:",D),!1}},updateNoticePermissions:async(j,D,k)=>{if(!b)throw new Error("Only admin and co-leaders can update permissions");try{return await R(j,{allowedUsers:D,isPublic:k},"admin"),!0}catch(P){return console.error("Error updating permissions:",P),!1}},updateNoticesOrder:async j=>{if(!b)throw new Error("Permission denied");try{f(!0);const D=df(bt);return j.forEach((k,P)=>{const O=rn(bt,"noticeBoard",k);D.update(O,{order:P})}),await D.commit(),!0}catch(D){return console.error("Error reordering notices:",D),!1}finally{f(!1)}},voteInPoll:async(j,D,k)=>{try{const P=n.find(se=>se.id===j);if(!P||P.type!=="poll")return!1;const O=[...P.meta.options];if(P.meta.isAnonymous||!1){D.forEach(Q=>{O[Q].anonymousVotes||(O[Q].anonymousVotes=0)});const se=P.meta.userVotes||{};(se[k]||[]).forEach(Q=>{O[Q].anonymousVotes>0&&O[Q].anonymousVotes--}),D.forEach(Q=>{O[Q].anonymousVotes++}),se[k]=D,await R(j,{meta:{...P.meta,options:O,userVotes:se}},"user")}else O.forEach(se=>{se.votes=se.votes?.filter(ye=>ye!==k)||[]}),D.forEach(se=>{O[se].votes||(O[se].votes=[]),O[se].votes.push(k)}),await R(j,{meta:{...P.meta,options:O}},"user");return!0}catch(P){return console.error("Error voting:",P),!1}},toggleChecklistItem:async(j,D,k)=>{try{const P=n.find(se=>se.id===j);if(!P||P.type!=="checklist")return!1;const O=[...P.meta.items];if(P.meta.isAnonymous||!1){O[D].anonymousCompletions||(O[D].anonymousCompletions=0);const se=P.meta.userCompletions||{},ye=se[k]||[];ye.includes(D)?(se[k]=ye.filter(Q=>Q!==D),O[D].anonymousCompletions=Math.max(0,O[D].anonymousCompletions-1)):(se[k]=[...ye,D],O[D].anonymousCompletions++),await R(j,{meta:{...P.meta,items:O,userCompletions:se}},"user")}else{O[D].completedBy||(O[D].completedBy=[]);const se=O[D].completedBy.indexOf(k);se>-1?O[D].completedBy.splice(se,1):O[D].completedBy.push(k),await R(j,{meta:{...P.meta,items:O}},"user")}return!0}catch(P){return console.error("Error toggling checklist:",P),!1}},toggleTodo:async(j,D)=>{try{const k=n.find(se=>se.id===j);if(!k||k.type!=="todo")return!1;const P=k.meta.completedBy||[],O=P.indexOf(D);let C;return O>-1?C=P.filter(se=>se!==D):C=[...P,D],await R(j,{meta:{...k.meta,completedBy:C}},"user"),!0}catch(k){return console.error("Error toggling todo:",k),!1}},togglePin:async(j,D)=>{if(!b)throw new Error("Only admin and co-leaders can pin/unpin notices");try{return await R(j,{isPinned:!D},"admin"),!0}catch(k){return console.error("Error toggling pin:",k),!1}}}}function _j({semester:t,allData:e,handleDataChange:n,selectedStudent:s}){const{notices:i}=Uf(s,t),o=G.useMemo(()=>i.filter(u=>u.type==="assessment"),[i]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Theory Subjects"}),c.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",Ys[t].theory.length," subjects"]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Ys[t].theory.map(u=>c.jsx(_T,{subject:u,onDataChange:(f,m)=>n(f,m,"theory"),initialData:e[`${t}-${u}`]?.data,assessmentNotices:o},`${t}-${u}`))})]})}const Nj=G.memo(function({subject:e,onDataChange:n,initialData:s,notices:i=[],onToggleTodo:o,currentUserRollNo:u}){const[f,m]=G.useState(new Set);G.useEffect(()=>{s&&Array.isArray(s)&&m(new Set(s))},[s]);const p=G.useMemo(()=>{const _=new Set;return!u||!i.length||i.forEach(A=>{A.type==="todo"&&A.meta?.practicalSubject===e&&A.meta?.labNumber&&A.meta?.completedBy?.includes(u)&&(Array.isArray(A.meta.labNumber)?A.meta.labNumber.forEach(R=>_.add(Number(R))):_.add(Number(A.meta.labNumber)))}),_},[i,e,u]),x=G.useMemo(()=>new Set([...f,...p]),[f,p]),b=_=>{if(x.has(_)){if(f.has(_)){const R=new Set(f);R.delete(_),m(R),n&&n(e,Array.from(R))}o&&u&&i.forEach(R=>{if(R.type==="todo"&&R.meta?.practicalSubject===e&&R.meta?.labNumber&&R.meta?.completedBy?.includes(u)){let z=!1;Array.isArray(R.meta.labNumber)?z=R.meta.labNumber.some(F=>Number(F)===_):z=Number(R.meta.labNumber)===_,z&&o(R.id,u)}})}else{const R=new Set(f);R.add(_),m(R),n&&n(e,Array.from(R)),o&&u&&i.forEach(z=>{if(z.type==="todo"&&z.meta?.practicalSubject===e&&z.meta?.labNumber&&!z.meta?.completedBy?.includes(u)){let F=!1;if(Array.isArray(z.meta.labNumber)?F=z.meta.labNumber.some(V=>Number(V)===_):F=Number(z.meta.labNumber)===_,F){let V=!0;Array.isArray(z.meta.labNumber)?V=z.meta.labNumber.every(B=>R.has(Number(B))):V=!0,V&&o(z.id,u)}}})}},w=x.size/10*100;return c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 p-4 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(b2,{className:"w-6 h-6"}),c.jsx("h3",{className:"text-lg font-bold",children:e}),c.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Practical"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"text-sm opacity-90",children:[x.size,"/10"]}),c.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${w}%`}})})]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-4 flex items-center gap-2",children:[c.jsx(S0,{className:"w-4 h-4"}),"Lab Experiments (",x.size,"/10 completed)",p.size>0&&c.jsxs("span",{className:"text-xs text-yellow-600 flex items-center gap-1",children:[c.jsx(ib,{className:"w-3 h-3"}),p.size," auto"]})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Array.from({length:10},(_,A)=>A+1).map(_=>{const A=p.has(_),R=x.has(_);return c.jsx("button",{onClick:()=>b(_),title:A?"Auto-marked from TODO notice (Click to unmark both)":void 0,className:`
                  flex items-center justify-center p-4 rounded-2xl border-2 transition-all duration-200 font-medium
                  ${A?"bg-yellow-100 border-yellow-500 text-yellow-700 shadow-md":R?"bg-green-100 border-green-500 text-green-700 shadow-md":"bg-gray-50 border-gray-200 text-gray-600 hover:border-green-300 hover:bg-green-50"}
                `,children:c.jsxs("div",{className:"flex items-center gap-2",children:[A?c.jsx(ib,{className:"w-4 h-4"}):R?c.jsx(S0,{className:"w-4 h-4"}):c.jsx(UE,{className:"w-4 h-4"}),c.jsxs("span",{children:["Lab ",_]})]})},_)})}),w===100&&c.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:c.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[c.jsx(oT,{className:"w-5 h-5"}),c.jsx("span",{className:"font-medium",children:"All labs completed! Great work! "})]})})]})]})});function Ej({semester:t,allData:e,handleDataChange:n,selectedStudent:s}){const{notices:i,toggleTodo:o}=Uf(s,t);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practical Subjects"}),c.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",Ys[t].practical.length," labs"]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Ys[t].practical.map(u=>c.jsx(Nj,{subject:u,onDataChange:(f,m)=>n(f,m,"practical"),initialData:e[`${t}-${u}`]?.data,notices:i,onToggleTodo:o,currentUserRollNo:s?.rollNo},`${t}-${u}`))})]})}const Tj={};var rp=null;function Sj(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return Tj.randomBytes(t)}catch{}if(!rp)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return rp(t)}function Aj(t){rp=t}function mg(t,e){if(t=t||pg,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(ff(Sj($c),$c)),n.join("")}function c_(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=pg;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function s(i){Ur(function(){try{i(null,mg(t))}catch(o){i(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(i,o){s(function(u,f){if(u){o(u);return}i(f)})})}function u_(t,e){if(typeof e>"u"&&(e=pg),typeof e=="number"&&(e=mg(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return sp(t,e)}function d_(t,e,n,s){function i(o){typeof t=="string"&&typeof e=="number"?c_(e,function(u,f){sp(t,f,o,s)}):typeof t=="string"&&typeof e=="string"?sp(t,e,o,s):Ur(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(o,u){i(function(f,m){if(f){u(f);return}o(m)})})}function f_(t,e){for(var n=t.length^e.length,s=0;s<t.length;++s)n|=t.charCodeAt(s)^e.charCodeAt(s);return n===0}function jj(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:f_(u_(t,e.substring(0,e.length-31)),e)}function kj(t,e,n,s){function i(o){if(typeof t!="string"||typeof e!="string"){Ur(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Ur(o.bind(this,null,!1));return}d_(t,e.substring(0,29),function(u,f){u?o(u):o(null,f_(f,e))},s)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(o,u){i(function(f,m){if(f){u(f);return}o(m)})})}function Cj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function Rj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function Dj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return h_(t)>72}var Ur=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function h_(t){for(var e=0,n=0,s=0;s<t.length;++s)n=t.charCodeAt(s),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(s+1)&64512)===56320?(++s,e+=4):e+=3;return e}function Ij(t){for(var e=0,n,s,i=new Array(h_(t)),o=0,u=t.length;o<u;++o)n=t.charCodeAt(o),n<128?i[e++]=n:n<2048?(i[e++]=n>>6|192,i[e++]=n&63|128):(n&64512)===55296&&((s=t.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(s&1023),++o,i[e++]=n>>18|240,i[e++]=n>>12&63|128,i[e++]=n>>6&63|128,i[e++]=n&63|128):(i[e++]=n>>12|224,i[e++]=n>>6&63|128,i[e++]=n&63|128);return i}var Ol="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ka=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function ff(t,e){var n=0,s=[],i,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(i=t[n++]&255,s.push(Ol[i>>2&63]),i=(i&3)<<4,n>=e){s.push(Ol[i&63]);break}if(o=t[n++]&255,i|=o>>4&15,s.push(Ol[i&63]),i=(o&15)<<2,n>=e){s.push(Ol[i&63]);break}o=t[n++]&255,i|=o>>6&3,s.push(Ol[i&63]),s.push(Ol[o&63])}return s.join("")}function m_(t,e){var n=0,s=t.length,i=0,o=[],u,f,m,p,x,b;if(e<=0)throw Error("Illegal len: "+e);for(;n<s-1&&i<e&&(b=t.charCodeAt(n++),u=b<ka.length?ka[b]:-1,b=t.charCodeAt(n++),f=b<ka.length?ka[b]:-1,!(u==-1||f==-1||(x=u<<2>>>0,x|=(f&48)>>4,o.push(String.fromCharCode(x)),++i>=e||n>=s)||(b=t.charCodeAt(n++),m=b<ka.length?ka[b]:-1,m==-1)||(x=(f&15)<<4>>>0,x|=(m&60)>>2,o.push(String.fromCharCode(x)),++i>=e||n>=s)));)b=t.charCodeAt(n++),p=b<ka.length?ka[b]:-1,x=(m&3)<<6>>>0,x|=p,o.push(String.fromCharCode(x)),++i;var w=[];for(n=0;n<i;n++)w.push(o[n].charCodeAt(0));return w}var $c=16,pg=10,Mj=16,Oj=100,vv=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],wv=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],p_=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Hc(t,e,n,s){var i,o=t[e],u=t[e+1];return o^=n[0],i=s[o>>>24],i+=s[256|o>>16&255],i^=s[512|o>>8&255],i+=s[768|o&255],u^=i^n[1],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],o^=i^n[2],i=s[o>>>24],i+=s[256|o>>16&255],i^=s[512|o>>8&255],i+=s[768|o&255],u^=i^n[3],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],o^=i^n[4],i=s[o>>>24],i+=s[256|o>>16&255],i^=s[512|o>>8&255],i+=s[768|o&255],u^=i^n[5],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],o^=i^n[6],i=s[o>>>24],i+=s[256|o>>16&255],i^=s[512|o>>8&255],i+=s[768|o&255],u^=i^n[7],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],o^=i^n[8],i=s[o>>>24],i+=s[256|o>>16&255],i^=s[512|o>>8&255],i+=s[768|o&255],u^=i^n[9],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],o^=i^n[10],i=s[o>>>24],i+=s[256|o>>16&255],i^=s[512|o>>8&255],i+=s[768|o&255],u^=i^n[11],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],o^=i^n[12],i=s[o>>>24],i+=s[256|o>>16&255],i^=s[512|o>>8&255],i+=s[768|o&255],u^=i^n[13],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],o^=i^n[14],i=s[o>>>24],i+=s[256|o>>16&255],i^=s[512|o>>8&255],i+=s[768|o&255],u^=i^n[15],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],o^=i^n[16],t[e]=u^n[Mj+1],t[e+1]=o,t}function Fl(t,e){for(var n=0,s=0;n<4;++n)s=s<<8|t[e]&255,e=(e+1)%t.length;return{key:s,offp:e}}function _v(t,e,n){for(var s=0,i=[0,0],o=e.length,u=n.length,f,m=0;m<o;m++)f=Fl(t,s),s=f.offp,e[m]=e[m]^f.key;for(m=0;m<o;m+=2)i=Hc(i,0,e,n),e[m]=i[0],e[m+1]=i[1];for(m=0;m<u;m+=2)i=Hc(i,0,e,n),n[m]=i[0],n[m+1]=i[1]}function Vj(t,e,n,s){for(var i=0,o=[0,0],u=n.length,f=s.length,m,p=0;p<u;p++)m=Fl(e,i),i=m.offp,n[p]=n[p]^m.key;for(i=0,p=0;p<u;p+=2)m=Fl(t,i),i=m.offp,o[0]^=m.key,m=Fl(t,i),i=m.offp,o[1]^=m.key,o=Hc(o,0,n,s),n[p]=o[0],n[p+1]=o[1];for(p=0;p<f;p+=2)m=Fl(t,i),i=m.offp,o[0]^=m.key,m=Fl(t,i),i=m.offp,o[1]^=m.key,o=Hc(o,0,n,s),s[p]=o[0],s[p+1]=o[1]}function Nv(t,e,n,s,i){var o=p_.slice(),u=o.length,f;if(n<4||n>31)if(f=Error("Illegal number of rounds (4-31): "+n),s){Ur(s.bind(this,f));return}else throw f;if(e.length!==$c)if(f=Error("Illegal salt length: "+e.length+" != "+$c),s){Ur(s.bind(this,f));return}else throw f;n=1<<n>>>0;var m,p,x=0,b;typeof Int32Array=="function"?(m=new Int32Array(vv),p=new Int32Array(wv)):(m=vv.slice(),p=wv.slice()),Vj(e,t,m,p);function w(){if(i&&i(x/n),x<n)for(var A=Date.now();x<n&&(x=x+1,_v(t,m,p),_v(e,m,p),!(Date.now()-A>Oj)););else{for(x=0;x<64;x++)for(b=0;b<u>>1;b++)Hc(o,b<<1,m,p);var R=[];for(x=0;x<u;x++)R.push((o[x]>>24&255)>>>0),R.push((o[x]>>16&255)>>>0),R.push((o[x]>>8&255)>>>0),R.push((o[x]&255)>>>0);if(s){s(null,R);return}else return R}s&&Ur(w)}if(typeof s<"u")w();else for(var _;;)if(typeof(_=w())<"u")return _||[]}function sp(t,e,n,s){var i;if(typeof t!="string"||typeof e!="string")if(i=Error("Invalid string / salt: Not a string"),n){Ur(n.bind(this,i));return}else throw i;var o,u;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(i=Error("Invalid salt version: "+e.substring(0,2)),n){Ur(n.bind(this,i));return}else throw i;if(e.charAt(2)==="$")o="\0",u=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+e.substring(2,4)),n){Ur(n.bind(this,i));return}else throw i;u=4}if(e.charAt(u+2)>"$")if(i=Error("Missing salt rounds"),n){Ur(n.bind(this,i));return}else throw i;var f=parseInt(e.substring(u,u+1),10)*10,m=parseInt(e.substring(u+1,u+2),10),p=f+m,x=e.substring(u+3,u+25);t+=o>="a"?"\0":"";var b=Ij(t),w=m_(x,$c);function _(A){var R=[];return R.push("$2"),o>="a"&&R.push(o),R.push("$"),p<10&&R.push("0"),R.push(p.toString()),R.push("$"),R.push(ff(w,w.length)),R.push(ff(A,p_.length*4-1)),R.join("")}if(typeof n>"u")return _(Nv(b,w,p));Nv(b,w,p,function(A,R){A?n(A,null):n(null,_(R))},s)}function Pj(t,e){return ff(t,e)}function Lj(t,e){return m_(t,e)}const pc={setRandomFallback:Aj,genSaltSync:mg,genSalt:c_,hashSync:u_,hash:d_,compareSync:jj,compare:kj,getRounds:Cj,getSalt:Rj,truncates:Dj,encodeBase64:Pj,decodeBase64:Lj};function g_(){const[t,e]=G.useState([]),[n,s]=G.useState(null),[i,o]=G.useState(!0),[u,f]=G.useState(!1),m=n&&n.rollNo===Pe.rollNo,p=async()=>{try{o(!0);const V=await l0(Yl(bt,"students")),B=[];if(V.forEach(L=>{B.push(L.data())}),!B.some(L=>L.rollNo===Pe.rollNo)){const L={...Pe,password:pc.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Pe.admissionYear||new Date().getFullYear(),isDSY:Pe.isDSY||!1};B.push(L),await Hs(rn(bt,"students",Pe.rollNo),L)}const X=B.filter(L=>L.rollNo!==Pe.rollNo&&xT(L));if(X.length>0){console.log(`Auto-deleting ${X.length} expired student profiles.`);const L=df(bt);for(const j of X){L.delete(rn(bt,"students",j.rollNo)),L.delete(rn(bt,"userNotes",j.rollNo));const D=uf(Yl(bt,"academic-data"),np("studentId","==",j.rollNo));(await l0(D)).forEach(P=>L.delete(P.ref))}await L.commit();const I=B.filter(j=>!X.some(D=>D.rollNo===j.rollNo));e(I),B.splice(0,B.length,...I)}else e(B);try{const L=localStorage.getItem("selected-student");if(L){const I=JSON.parse(L),j=B.find(D=>D.rollNo===I.rollNo);j?s(j):localStorage.removeItem("selected-student")}}catch{localStorage.removeItem("selected-student")}f(!0)}catch(V){console.error("Error loading students:",V);const B={...Pe,password:pc.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Pe.admissionYear,isDSY:!1};e([B]),f(!0)}finally{o(!1)}},x=async(V,B,H="",X="student",L=new Date().getFullYear(),I=!1)=>{try{const j=Number(L);if(!Number.isInteger(j)||j<2e3||j>new Date().getFullYear())throw new Error("Invalid admission year");if(typeof I!="boolean")throw new Error("Invalid DSY flag");const D={rollNo:V,name:B,admissionYear:j,isDSY:I,isProtected:!!H,password:H?pc.hashSync(H,10):null,role:X};if(t.some(P=>P.rollNo===V))throw new Error("Student with this roll number already exists");return await Hs(rn(bt,"students",V),D),e([...t,D]),!0}catch(j){throw console.error("Error creating student:",j),j}},b=async(V,B)=>{try{if(V===Pe.rollNo)throw new Error("Cannot change admin role");const H=t.find(L=>L.rollNo===V);if(!H)throw new Error("Student not found");let X={...H,role:B};return B==="co-leader"&&!H.permissions&&(X.permissions={canCreateUsers:!0,canPostNotices:!0,canAppointCoLeaders:!1,canManagePasswords:!1}),B==="student"&&H.role==="co-leader"&&delete X.permissions,await Hs(rn(bt,"students",V),X),e(t.map(L=>L.rollNo===V?X:L)),n&&n.rollNo===V&&(s(X),localStorage.setItem("selected-student",JSON.stringify(X))),!0}catch(H){throw console.error("Error updating role:",H),H}},w=async(V,B)=>{try{if(!B||!B.trim())throw new Error("Name cannot be empty");const H=t.find(L=>L.rollNo===V);if(!H)throw new Error("Student not found");const X={...H,name:B.trim()};return await Hs(rn(bt,"students",V),X),e(t.map(L=>L.rollNo===V?X:L)),n&&n.rollNo===V&&(s(X),localStorage.setItem("selected-student",JSON.stringify(X))),!0}catch(H){throw console.error("Error updating name:",H),H}},_=async V=>{try{if(V===Pe.rollNo)throw new Error("Cannot delete admin student");await i_(rn(bt,"students",V));const B=df(bt),H=uf(Yl(bt,"academic-data"),np("studentId","==",V));(await l0(H)).forEach(I=>{B.delete(I.ref)});const L=rn(bt,"userNotes",V);return B.delete(L),await B.commit(),e(t.filter(I=>I.rollNo!==V)),n&&n.rollNo===V&&(s(null),localStorage.removeItem("selected-student")),!0}catch(B){throw console.error("Error deleting student:",B),B}},A=async(V,B)=>{try{return V.isProtected?B?await pc.compare(B,V.password):!1:!0}catch(H){return console.error("Error authenticating student:",H),!1}},R=async(V,B,H=!1)=>{try{const X=t.find(I=>I.rollNo===V);if(!X)throw new Error("Student not found");const L={...X,password:H?null:pc.hashSync(B,10),isProtected:!H};return await Hs(rn(bt,"students",V),L),e(t.map(I=>I.rollNo===V?L:I)),!0}catch(X){throw console.error("Error updating password:",X),X}},z=async(V,B)=>{try{const H=t.find(L=>L.rollNo===V);if(!H)throw new Error("Student not found");if(H.role!=="co-leader")throw new Error("Can only update permissions for co-leaders");const X={...H,permissions:B};return await Hs(rn(bt,"students",V),X),e(t.map(L=>L.rollNo===V?X:L)),n&&n.rollNo===V&&(s(X),localStorage.setItem("selected-student",JSON.stringify(X))),!0}catch(H){throw console.error("Error updating co-leader permissions:",H),H}},F=V=>{const B=n;if(B&&B.rollNo!==V?.rollNo){const H=`academic-data-${B.rollNo}`;localStorage.removeItem(H)}s(V),V?localStorage.setItem("selected-student",JSON.stringify(V)):localStorage.removeItem("selected-student")};return G.useEffect(()=>{p()},[]),{students:t,selectedStudent:n,isAdmin:m,isLoading:i,hasInitialized:u,createStudent:x,deleteStudent:_,selectStudent:F,authenticateStudent:A,updateStudentPassword:R,updateStudentRole:b,updateCoLeaderPermissions:z,updateStudentName:w,loadStudents:p}}function zj(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Uj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Bj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Fj={};function Ev(t,e){return(Fj.jsx?Bj:Uj).test(t)}const qj=/[ \t\n\f\r]/g;function $j(t){return typeof t=="object"?t.type==="text"?Tv(t.value):!1:Tv(t)}function Tv(t){return t.replace(qj,"")===""}class au{constructor(e,n,s){this.normal=n,this.property=e,s&&(this.space=s)}}au.prototype.normal={};au.prototype.property={};au.prototype.space=void 0;function x_(t,e){const n={},s={};for(const i of t)Object.assign(n,i.property),Object.assign(s,i.normal);return new au(n,s,e)}function ap(t){return t.toLowerCase()}class Wn{constructor(e,n){this.attribute=n,this.property=e}}Wn.prototype.attribute="";Wn.prototype.booleanish=!1;Wn.prototype.boolean=!1;Wn.prototype.commaOrSpaceSeparated=!1;Wn.prototype.commaSeparated=!1;Wn.prototype.defined=!1;Wn.prototype.mustUseProperty=!1;Wn.prototype.number=!1;Wn.prototype.overloadedBoolean=!1;Wn.prototype.property="";Wn.prototype.spaceSeparated=!1;Wn.prototype.space=void 0;let Hj=0;const $e=Hi(),Qt=Hi(),ip=Hi(),we=Hi(),At=Hi(),Ql=Hi(),cr=Hi();function Hi(){return 2**++Hj}const lp=Object.freeze(Object.defineProperty({__proto__:null,boolean:$e,booleanish:Qt,commaOrSpaceSeparated:cr,commaSeparated:Ql,number:we,overloadedBoolean:ip,spaceSeparated:At},Symbol.toStringTag,{value:"Module"})),c0=Object.keys(lp);class gg extends Wn{constructor(e,n,s,i){let o=-1;if(super(e,n),Sv(this,"space",i),typeof s=="number")for(;++o<c0.length;){const u=c0[o];Sv(this,c0[o],(s&lp[u])===lp[u])}}}gg.prototype.defined=!0;function Sv(t,e,n){n&&(t[e]=n)}function co(t){const e={},n={};for(const[s,i]of Object.entries(t.properties)){const o=new gg(s,t.transform(t.attributes||{},s),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),e[s]=o,n[ap(s)]=s,n[ap(o.attribute)]=s}return new au(e,n,t.space)}const y_=co({properties:{ariaActiveDescendant:null,ariaAtomic:Qt,ariaAutoComplete:null,ariaBusy:Qt,ariaChecked:Qt,ariaColCount:we,ariaColIndex:we,ariaColSpan:we,ariaControls:At,ariaCurrent:null,ariaDescribedBy:At,ariaDetails:null,ariaDisabled:Qt,ariaDropEffect:At,ariaErrorMessage:null,ariaExpanded:Qt,ariaFlowTo:At,ariaGrabbed:Qt,ariaHasPopup:null,ariaHidden:Qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:At,ariaLevel:we,ariaLive:null,ariaModal:Qt,ariaMultiLine:Qt,ariaMultiSelectable:Qt,ariaOrientation:null,ariaOwns:At,ariaPlaceholder:null,ariaPosInSet:we,ariaPressed:Qt,ariaReadOnly:Qt,ariaRelevant:null,ariaRequired:Qt,ariaRoleDescription:At,ariaRowCount:we,ariaRowIndex:we,ariaRowSpan:we,ariaSelected:Qt,ariaSetSize:we,ariaSort:null,ariaValueMax:we,ariaValueMin:we,ariaValueNow:we,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function b_(t,e){return e in t?t[e]:e}function v_(t,e){return b_(t,e.toLowerCase())}const Yj=co({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ql,acceptCharset:At,accessKey:At,action:null,allow:null,allowFullScreen:$e,allowPaymentRequest:$e,allowUserMedia:$e,alt:null,as:null,async:$e,autoCapitalize:null,autoComplete:At,autoFocus:$e,autoPlay:$e,blocking:At,capture:null,charSet:null,checked:$e,cite:null,className:At,cols:we,colSpan:null,content:null,contentEditable:Qt,controls:$e,controlsList:At,coords:we|Ql,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$e,defer:$e,dir:null,dirName:null,disabled:$e,download:ip,draggable:Qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$e,formTarget:null,headers:At,height:we,hidden:ip,high:we,href:null,hrefLang:null,htmlFor:At,httpEquiv:At,id:null,imageSizes:null,imageSrcSet:null,inert:$e,inputMode:null,integrity:null,is:null,isMap:$e,itemId:null,itemProp:At,itemRef:At,itemScope:$e,itemType:At,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$e,low:we,manifest:null,max:null,maxLength:we,media:null,method:null,min:null,minLength:we,multiple:$e,muted:$e,name:null,nonce:null,noModule:$e,noValidate:$e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$e,optimum:we,pattern:null,ping:At,placeholder:null,playsInline:$e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$e,referrerPolicy:null,rel:At,required:$e,reversed:$e,rows:we,rowSpan:we,sandbox:At,scope:null,scoped:$e,seamless:$e,selected:$e,shadowRootClonable:$e,shadowRootDelegatesFocus:$e,shadowRootMode:null,shape:null,size:we,sizes:null,slot:null,span:we,spellCheck:Qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:we,step:null,style:null,tabIndex:we,target:null,title:null,translate:null,type:null,typeMustMatch:$e,useMap:null,value:Qt,width:we,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:At,axis:null,background:null,bgColor:null,border:we,borderColor:null,bottomMargin:we,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$e,declare:$e,event:null,face:null,frame:null,frameBorder:null,hSpace:we,leftMargin:we,link:null,longDesc:null,lowSrc:null,marginHeight:we,marginWidth:we,noResize:$e,noHref:$e,noShade:$e,noWrap:$e,object:null,profile:null,prompt:null,rev:null,rightMargin:we,rules:null,scheme:null,scrolling:Qt,standby:null,summary:null,text:null,topMargin:we,valueType:null,version:null,vAlign:null,vLink:null,vSpace:we,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$e,disableRemotePlayback:$e,prefix:null,property:null,results:we,security:null,unselectable:null},space:"html",transform:v_}),Gj=co({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cr,accentHeight:we,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:we,amplitude:we,arabicForm:null,ascent:we,attributeName:null,attributeType:null,azimuth:we,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:we,by:null,calcMode:null,capHeight:we,className:At,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:we,diffuseConstant:we,direction:null,display:null,dur:null,divisor:we,dominantBaseline:null,download:$e,dx:null,dy:null,edgeMode:null,editable:null,elevation:we,enableBackground:null,end:null,event:null,exponent:we,externalResourcesRequired:null,fill:null,fillOpacity:we,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ql,g2:Ql,glyphName:Ql,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:we,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:we,horizOriginX:we,horizOriginY:we,id:null,ideographic:we,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:we,k:we,k1:we,k2:we,k3:we,k4:we,kernelMatrix:cr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:we,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:we,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:we,overlineThickness:we,paintOrder:null,panose1:null,path:null,pathLength:we,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:At,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:we,pointsAtY:we,pointsAtZ:we,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cr,rev:cr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cr,requiredFeatures:cr,requiredFonts:cr,requiredFormats:cr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:we,specularExponent:we,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:we,strikethroughThickness:we,string:null,stroke:null,strokeDashArray:cr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:we,strokeOpacity:we,strokeWidth:null,style:null,surfaceScale:we,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cr,tabIndex:we,tableValues:null,target:null,targetX:we,targetY:we,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:we,underlineThickness:we,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:we,values:null,vAlphabetic:we,vMathematical:we,vectorEffect:null,vHanging:we,vIdeographic:we,version:null,vertAdvY:we,vertOriginX:we,vertOriginY:we,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:we,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:b_}),w_=co({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),__=co({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:v_}),N_=co({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Qj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Xj=/[A-Z]/g,Av=/-[a-z]/g,Kj=/^data[-\w.:]+$/i;function Zj(t,e){const n=ap(e);let s=e,i=Wn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Kj.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Av,Wj);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Av.test(o)){let u=o.replace(Xj,Jj);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}i=gg}return new i(s,e)}function Jj(t){return"-"+t.toLowerCase()}function Wj(t){return t.charAt(1).toUpperCase()}const ek=x_([y_,Yj,w_,__,N_],"html"),xg=x_([y_,Gj,w_,__,N_],"svg");function tk(t){return t.join(" ").trim()}var Vl={},u0,jv;function nk(){if(jv)return u0;jv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,m=`
`,p="/",x="*",b="",w="comment",_="declaration";u0=function(R,z){if(typeof R!="string")throw new TypeError("First argument must be a string");if(!R)return[];z=z||{};var F=1,V=1;function B(C){var se=C.match(e);se&&(F+=se.length);var ye=C.lastIndexOf(m);V=~ye?C.length-ye:V+C.length}function H(){var C={line:F,column:V};return function(se){return se.position=new X(C),j(),se}}function X(C){this.start=C,this.end={line:F,column:V},this.source=z.source}X.prototype.content=R;function L(C){var se=new Error(z.source+":"+F+":"+V+": "+C);if(se.reason=C,se.filename=z.source,se.line=F,se.column=V,se.source=R,!z.silent)throw se}function I(C){var se=C.exec(R);if(se){var ye=se[0];return B(ye),R=R.slice(ye.length),se}}function j(){I(n)}function D(C){var se;for(C=C||[];se=k();)se!==!1&&C.push(se);return C}function k(){var C=H();if(!(p!=R.charAt(0)||x!=R.charAt(1))){for(var se=2;b!=R.charAt(se)&&(x!=R.charAt(se)||p!=R.charAt(se+1));)++se;if(se+=2,b===R.charAt(se-1))return L("End of comment missing");var ye=R.slice(2,se-2);return V+=2,B(ye),R=R.slice(se),V+=2,C({type:w,comment:ye})}}function P(){var C=H(),se=I(s);if(se){if(k(),!I(i))return L("property missing ':'");var ye=I(o),Q=C({type:_,property:A(se[0].replace(t,b)),value:ye?A(ye[0].replace(t,b)):b});return I(u),Q}}function O(){var C=[];D(C);for(var se;se=P();)se!==!1&&(C.push(se),D(C));return C}return j(),O()};function A(R){return R?R.replace(f,b):b}return u0}var kv;function rk(){if(kv)return Vl;kv=1;var t=Vl&&Vl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.default=n;var e=t(nk());function n(s,i){var o=null;if(!s||typeof s!="string")return o;var u=(0,e.default)(s),f=typeof i=="function";return u.forEach(function(m){if(m.type==="declaration"){var p=m.property,x=m.value;f?i(p,x,m):x&&(o=o||{},o[p]=x)}}),o}return Vl}var gc={},Cv;function sk(){if(Cv)return gc;Cv=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(p){return!p||n.test(p)||t.test(p)},u=function(p,x){return x.toUpperCase()},f=function(p,x){return"".concat(x,"-")},m=function(p,x){return x===void 0&&(x={}),o(p)?p:(p=p.toLowerCase(),x.reactCompat?p=p.replace(i,f):p=p.replace(s,f),p.replace(e,u))};return gc.camelCase=m,gc}var xc,Rv;function ak(){if(Rv)return xc;Rv=1;var t=xc&&xc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(rk()),n=sk();function s(i,o){var u={};return!i||typeof i!="string"||(0,e.default)(i,function(f,m){f&&m&&(u[(0,n.camelCase)(f,o)]=m)}),u}return s.default=s,xc=s,xc}var ik=ak();const lk=xf(ik),E_=T_("end"),yg=T_("start");function T_(t){return e;function e(n){const s=n&&n.position&&n.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function ok(t){const e=yg(t),n=E_(t);if(e&&n)return{start:e,end:n}}function Cc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Dv(t.position):"start"in t||"end"in t?Dv(t):"line"in t||"column"in t?op(t):""}function op(t){return Iv(t&&t.line)+":"+Iv(t&&t.column)}function Dv(t){return op(t&&t.start)+"-"+op(t&&t.end)}function Iv(t){return t&&typeof t=="number"?t:1}class On extends Error{constructor(e,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let i="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(u=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof s=="string"){const m=s.indexOf(":");m===-1?o.ruleId=s:(o.source=s.slice(0,m),o.ruleId=s.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const f=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=f?f.line:void 0,this.name=Cc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}On.prototype.file="";On.prototype.name="";On.prototype.reason="";On.prototype.message="";On.prototype.stack="";On.prototype.column=void 0;On.prototype.line=void 0;On.prototype.ancestors=void 0;On.prototype.cause=void 0;On.prototype.fatal=void 0;On.prototype.place=void 0;On.prototype.ruleId=void 0;On.prototype.source=void 0;const bg={}.hasOwnProperty,ck=new Map,uk=/[A-Z]/g,dk=new Set(["table","tbody","thead","tfoot","tr"]),fk=new Set(["td","th"]),S_="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hk(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let s;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=wk(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=vk(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?xg:ek,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=A_(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function A_(t,e,n){if(e.type==="element")return mk(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return pk(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return xk(t,e,n);if(e.type==="mdxjsEsm")return gk(t,e);if(e.type==="root")return yk(t,e,n);if(e.type==="text")return bk(t,e)}function mk(t,e,n){const s=t.schema;let i=s;e.tagName.toLowerCase()==="svg"&&s.space==="html"&&(i=xg,t.schema=i),t.ancestors.push(e);const o=k_(t,e.tagName,!1),u=_k(t,e);let f=wg(t,e);return dk.has(e.tagName)&&(f=f.filter(function(m){return typeof m=="string"?!$j(m):!0})),j_(t,u,o,e),vg(u,f),t.ancestors.pop(),t.schema=s,t.create(e,o,u,n)}function pk(t,e){if(e.data&&e.data.estree&&t.evaluater){const s=e.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}Yc(t,e.position)}function gk(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Yc(t,e.position)}function xk(t,e,n){const s=t.schema;let i=s;e.name==="svg"&&s.space==="html"&&(i=xg,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:k_(t,e.name,!0),u=Nk(t,e),f=wg(t,e);return j_(t,u,o,e),vg(u,f),t.ancestors.pop(),t.schema=s,t.create(e,o,u,n)}function yk(t,e,n){const s={};return vg(s,wg(t,e)),t.create(e,t.Fragment,s,n)}function bk(t,e){return e.value}function j_(t,e,n,s){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=s)}function vg(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function vk(t,e,n){return s;function s(i,o,u,f){const p=Array.isArray(u.children)?n:e;return f?p(o,u,f):p(o,u)}}function wk(t,e){return n;function n(s,i,o,u){const f=Array.isArray(o.children),m=yg(s);return e(i,o,u,f,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function _k(t,e){const n={};let s,i;for(i in e.properties)if(i!=="children"&&bg.call(e.properties,i)){const o=Ek(t,i,e.properties[i]);if(o){const[u,f]=o;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&fk.has(e.tagName)?s=f:n[u]=f}}if(s){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function Nk(t,e){const n={};for(const s of e.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const o=s.data.estree.body[0];o.type;const u=o.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else Yc(t,e.position);else{const i=s.name;let o;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const f=s.value.data.estree.body[0];f.type,o=t.evaluater.evaluateExpression(f.expression)}else Yc(t,e.position);else o=s.value===null?!0:s.value;n[i]=o}return n}function wg(t,e){const n=[];let s=-1;const i=t.passKeys?new Map:ck;for(;++s<e.children.length;){const o=e.children[s];let u;if(t.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const p=i.get(m)||0;u=m+"-"+p,i.set(m,p+1)}}const f=A_(t,o,u);f!==void 0&&n.push(f)}return n}function Ek(t,e,n){const s=Zj(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?zj(n):tk(n)),s.property==="style"){let i=typeof n=="object"?n:Tk(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Sk(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&s.space?Qj[s.property]||s.property:s.attribute,n]}}function Tk(t,e){try{return lk(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const s=n,i=new On("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=S_+"#cannot-parse-style-attribute",i}}function k_(t,e,n){let s;if(!n)s={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,u;for(;++o<i.length;){const f=Ev(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(o&&f.type==="Literal"),optional:!1}:f}s=u}else s=Ev(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(s.type==="Literal"){const i=s.value;return bg.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(s);Yc(t)}function Yc(t,e){const n=new On("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=S_+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Sk(t){const e={};let n;for(n in t)bg.call(t,n)&&(e[Ak(n)]=t[n]);return e}function Ak(t){let e=t.replace(uk,jk);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function jk(t){return"-"+t.toLowerCase()}const d0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},kk={};function _g(t,e){const n=kk,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return C_(t,s,i)}function C_(t,e,n){if(Ck(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Mv(t.children,e,n)}return Array.isArray(t)?Mv(t,e,n):""}function Mv(t,e,n){const s=[];let i=-1;for(;++i<t.length;)s[i]=C_(t[i],e,n);return s.join("")}function Ck(t){return!!(t&&typeof t=="object")}const Ov=document.createElement("i");function Ng(t){const e="&"+t+";";Ov.innerHTML=e;const n=Ov.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function dr(t,e,n,s){const i=t.length;let o=0,u;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,s.length<1e4)u=Array.from(s),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<s.length;)u=s.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function Ar(t,e){return t.length>0?(dr(t,t.length,0,e),t):e}const Vv={}.hasOwnProperty;function R_(t){const e={};let n=-1;for(;++n<t.length;)Rk(e,t[n]);return e}function Rk(t,e){let n;for(n in e){const i=(Vv.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){Vv.call(i,u)||(i[u]=[]);const f=o[u];Dk(i[u],Array.isArray(f)?f:f?[f]:[])}}}function Dk(t,e){let n=-1;const s=[];for(;++n<e.length;)(e[n].add==="after"?t:s).push(e[n]);dr(t,0,0,s)}function D_(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Fr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Bn=Qa(/[A-Za-z]/),Mn=Qa(/[\dA-Za-z]/),Ik=Qa(/[#-'*+\--9=?A-Z^-~]/);function hf(t){return t!==null&&(t<32||t===127)}const cp=Qa(/\d/),Mk=Qa(/[\dA-Fa-f]/),Ok=Qa(/[!-/:-@[-`{-~]/);function Me(t){return t!==null&&t<-2}function _t(t){return t!==null&&(t<0||t===32)}function Ke(t){return t===-2||t===-1||t===32}const Bf=Qa(new RegExp("\\p{P}|\\p{S}","u")),Ui=Qa(/\s/);function Qa(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function uo(t){const e=[];let n=-1,s=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&Mn(t.charCodeAt(n+1))&&Mn(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const f=t.charCodeAt(n+1);o<56320&&f>56319&&f<57344?(u=String.fromCharCode(o,f),i=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(s,n),encodeURIComponent(u)),s=n+i+1,u=""),i&&(n+=i,i=0)}return e.join("")+t.slice(s)}function at(t,e,n,s){const i=s?s-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(m){return Ke(m)?(t.enter(n),f(m)):e(m)}function f(m){return Ke(m)&&o++<i?(t.consume(m),f):(t.exit(n),e(m))}}const Vk={tokenize:Pk};function Pk(t){const e=t.attempt(this.parser.constructs.contentInitial,s,i);let n;return e;function s(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),at(t,e,"linePrefix")}function i(f){return t.enter("paragraph"),o(f)}function o(f){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Me(f)?(t.consume(f),t.exit("chunkText"),o):(t.consume(f),u)}}const Lk={tokenize:zk},Pv={tokenize:Uk};function zk(t){const e=this,n=[];let s=0,i,o,u;return f;function f(B){if(s<n.length){const H=n[s];return e.containerState=H[1],t.attempt(H[0].continuation,m,p)(B)}return p(B)}function m(B){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&V();const H=e.events.length;let X=H,L;for(;X--;)if(e.events[X][0]==="exit"&&e.events[X][1].type==="chunkFlow"){L=e.events[X][1].end;break}F(s);let I=H;for(;I<e.events.length;)e.events[I][1].end={...L},I++;return dr(e.events,X+1,0,e.events.slice(H)),e.events.length=I,p(B)}return f(B)}function p(B){if(s===n.length){if(!i)return w(B);if(i.currentConstruct&&i.currentConstruct.concrete)return A(B);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Pv,x,b)(B)}function x(B){return i&&V(),F(s),w(B)}function b(B){return e.parser.lazy[e.now().line]=s!==n.length,u=e.now().offset,A(B)}function w(B){return e.containerState={},t.attempt(Pv,_,A)(B)}function _(B){return s++,n.push([e.currentConstruct,e.containerState]),w(B)}function A(B){if(B===null){i&&V(),F(0),t.consume(B);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),R(B)}function R(B){if(B===null){z(t.exit("chunkFlow"),!0),F(0),t.consume(B);return}return Me(B)?(t.consume(B),z(t.exit("chunkFlow")),s=0,e.interrupt=void 0,f):(t.consume(B),R)}function z(B,H){const X=e.sliceStream(B);if(H&&X.push(null),B.previous=o,o&&(o.next=B),o=B,i.defineSkip(B.start),i.write(X),e.parser.lazy[B.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<u&&(!i.events[L][1].end||i.events[L][1].end.offset>u))return;const I=e.events.length;let j=I,D,k;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(D){k=e.events[j][1].end;break}D=!0}for(F(s),L=I;L<e.events.length;)e.events[L][1].end={...k},L++;dr(e.events,j+1,0,e.events.slice(I)),e.events.length=L}}function F(B){let H=n.length;for(;H-- >B;){const X=n[H];e.containerState=X[1],X[0].exit.call(e,t)}n.length=B}function V(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Uk(t,e,n){return at(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function to(t){if(t===null||_t(t)||Ui(t))return 1;if(Bf(t))return 2}function Ff(t,e,n){const s=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!s.includes(o)&&(e=o(e,n),s.push(o))}return e}const up={name:"attention",resolveAll:Bk,tokenize:Fk};function Bk(t,e){let n=-1,s,i,o,u,f,m,p,x;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(s=n;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&e.sliceSerialize(t[s][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[s][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[s][1].end.offset-t[s][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[s][1].end},w={...t[n][1].start};Lv(b,-m),Lv(w,m),u={type:m>1?"strongSequence":"emphasisSequence",start:b,end:{...t[s][1].end}},f={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},o={type:m>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[n][1].start}},i={type:m>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[s][1].end={...u.start},t[n][1].start={...f.end},p=[],t[s][1].end.offset-t[s][1].start.offset&&(p=Ar(p,[["enter",t[s][1],e],["exit",t[s][1],e]])),p=Ar(p,[["enter",i,e],["enter",u,e],["exit",u,e],["enter",o,e]]),p=Ar(p,Ff(e.parser.constructs.insideSpan.null,t.slice(s+1,n),e)),p=Ar(p,[["exit",o,e],["enter",f,e],["exit",f,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(x=2,p=Ar(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):x=0,dr(t,s-1,n-s+3,p),n=s+p.length-x-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Fk(t,e){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,i=to(s);let o;return u;function u(m){return o=m,t.enter("attentionSequence"),f(m)}function f(m){if(m===o)return t.consume(m),f;const p=t.exit("attentionSequence"),x=to(m),b=!x||x===2&&i||n.includes(m),w=!i||i===2&&x||n.includes(s);return p._open=!!(o===42?b:b&&(i||!w)),p._close=!!(o===42?w:w&&(x||!b)),e(m)}}function Lv(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const qk={name:"autolink",tokenize:$k};function $k(t,e,n){let s=0;return i;function i(_){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(_){return Bn(_)?(t.consume(_),u):_===64?n(_):p(_)}function u(_){return _===43||_===45||_===46||Mn(_)?(s=1,f(_)):p(_)}function f(_){return _===58?(t.consume(_),s=0,m):(_===43||_===45||_===46||Mn(_))&&s++<32?(t.consume(_),f):(s=0,p(_))}function m(_){return _===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):_===null||_===32||_===60||hf(_)?n(_):(t.consume(_),m)}function p(_){return _===64?(t.consume(_),x):Ik(_)?(t.consume(_),p):n(_)}function x(_){return Mn(_)?b(_):n(_)}function b(_){return _===46?(t.consume(_),s=0,x):_===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):w(_)}function w(_){if((_===45||Mn(_))&&s++<63){const A=_===45?w:b;return t.consume(_),A}return n(_)}}const iu={partial:!0,tokenize:Hk};function Hk(t,e,n){return s;function s(o){return Ke(o)?at(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Me(o)?e(o):n(o)}}const I_={continuation:{tokenize:Gk},exit:Qk,name:"blockQuote",tokenize:Yk};function Yk(t,e,n){const s=this;return i;function i(u){if(u===62){const f=s.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return Ke(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function Gk(t,e,n){const s=this;return i;function i(u){return Ke(u)?at(t,o,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(I_,e,n)(u)}}function Qk(t){t.exit("blockQuote")}const M_={name:"characterEscape",tokenize:Xk};function Xk(t,e,n){return s;function s(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return Ok(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const O_={name:"characterReference",tokenize:Kk};function Kk(t,e,n){const s=this;let i=0,o,u;return f;function f(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),m}function m(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),o=31,u=Mn,x(b))}function p(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=Mk,x):(t.enter("characterReferenceValue"),o=7,u=cp,x(b))}function x(b){if(b===59&&i){const w=t.exit("characterReferenceValue");return u===Mn&&!Ng(s.sliceSerialize(w))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(b)&&i++<o?(t.consume(b),x):n(b)}}const zv={partial:!0,tokenize:Jk},Uv={concrete:!0,name:"codeFenced",tokenize:Zk};function Zk(t,e,n){const s=this,i={partial:!0,tokenize:X};let o=0,u=0,f;return m;function m(L){return p(L)}function p(L){const I=s.events[s.events.length-1];return o=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,f=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(L)}function x(L){return L===f?(u++,t.consume(L),x):u<3?n(L):(t.exit("codeFencedFenceSequence"),Ke(L)?at(t,b,"whitespace")(L):b(L))}function b(L){return L===null||Me(L)?(t.exit("codeFencedFence"),s.interrupt?e(L):t.check(zv,R,H)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(L))}function w(L){return L===null||Me(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(L)):Ke(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),at(t,_,"whitespace")(L)):L===96&&L===f?n(L):(t.consume(L),w)}function _(L){return L===null||Me(L)?b(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),A(L))}function A(L){return L===null||Me(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(L)):L===96&&L===f?n(L):(t.consume(L),A)}function R(L){return t.attempt(i,H,z)(L)}function z(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),F}function F(L){return o>0&&Ke(L)?at(t,V,"linePrefix",o+1)(L):V(L)}function V(L){return L===null||Me(L)?t.check(zv,R,H)(L):(t.enter("codeFlowValue"),B(L))}function B(L){return L===null||Me(L)?(t.exit("codeFlowValue"),V(L)):(t.consume(L),B)}function H(L){return t.exit("codeFenced"),e(L)}function X(L,I,j){let D=0;return k;function k(ye){return L.enter("lineEnding"),L.consume(ye),L.exit("lineEnding"),P}function P(ye){return L.enter("codeFencedFence"),Ke(ye)?at(L,O,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ye):O(ye)}function O(ye){return ye===f?(L.enter("codeFencedFenceSequence"),C(ye)):j(ye)}function C(ye){return ye===f?(D++,L.consume(ye),C):D>=u?(L.exit("codeFencedFenceSequence"),Ke(ye)?at(L,se,"whitespace")(ye):se(ye)):j(ye)}function se(ye){return ye===null||Me(ye)?(L.exit("codeFencedFence"),I(ye)):j(ye)}}}function Jk(t,e,n){const s=this;return i;function i(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return s.parser.lazy[s.now().line]?n(u):e(u)}}const f0={name:"codeIndented",tokenize:eC},Wk={partial:!0,tokenize:tC};function eC(t,e,n){const s=this;return i;function i(p){return t.enter("codeIndented"),at(t,o,"linePrefix",5)(p)}function o(p){const x=s.events[s.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?u(p):n(p)}function u(p){return p===null?m(p):Me(p)?t.attempt(Wk,u,m)(p):(t.enter("codeFlowValue"),f(p))}function f(p){return p===null||Me(p)?(t.exit("codeFlowValue"),u(p)):(t.consume(p),f)}function m(p){return t.exit("codeIndented"),e(p)}}function tC(t,e,n){const s=this;return i;function i(u){return s.parser.lazy[s.now().line]?n(u):Me(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),i):at(t,o,"linePrefix",5)(u)}function o(u){const f=s.events[s.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):Me(u)?i(u):n(u)}}const nC={name:"codeText",previous:sC,resolve:rC,tokenize:aC};function rC(t){let e=t.length-4,n=3,s,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(s=n;++s<e;)if(t[s][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(s=n-1,e++;++s<=e;)i===void 0?s!==e&&t[s][1].type!=="lineEnding"&&(i=s):(s===e||t[s][1].type==="lineEnding")&&(t[i][1].type="codeTextData",s!==i+2&&(t[i][1].end=t[s-1][1].end,t.splice(i+2,s-i-2),e-=s-i-2,s=i+2),i=void 0);return t}function sC(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aC(t,e,n){let s=0,i,o;return u;function u(b){return t.enter("codeText"),t.enter("codeTextSequence"),f(b)}function f(b){return b===96?(t.consume(b),s++,f):(t.exit("codeTextSequence"),m(b))}function m(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),m):b===96?(o=t.enter("codeTextSequence"),i=0,x(b)):Me(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m):(t.enter("codeTextData"),p(b))}function p(b){return b===null||b===32||b===96||Me(b)?(t.exit("codeTextData"),m(b)):(t.consume(b),p)}function x(b){return b===96?(t.consume(b),i++,x):i===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(o.type="codeTextData",p(b))}}class iC{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,n,s){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return s&&yc(this.left,s),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),yc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);yc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yc(this.left,n.reverse())}}}function yc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function V_(t){const e={};let n=-1,s,i,o,u,f,m,p;const x=new iC(t);for(;++n<x.length;){for(;n in e;)n=e[n];if(s=x.get(n),n&&s[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(m=s[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(Object.assign(e,lC(x,n)),n=e[n],p=!0);else if(s[1]._container){for(o=n,i=void 0;o--;)if(u=x.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(i&&(x.get(i)[1].type="lineEndingBlank"),u[1].type="lineEnding",i=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;i&&(s[1].end={...x.get(i)[1].start},f=x.slice(i,n),f.unshift(s),x.splice(i,n-i+1,f))}}return dr(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!p}function lC(t,e){const n=t.get(e)[1],s=t.get(e)[2];let i=e-1;const o=[];let u=n._tokenizer;u||(u=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,m=[],p={};let x,b,w=-1,_=n,A=0,R=0;const z=[R];for(;_;){for(;t.get(++i)[1]!==_;);o.push(i),_._tokenizer||(x=s.sliceStream(_),_.next||x.push(null),b&&u.defineSkip(_.start),_._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(x),_._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),b=_,_=_.next}for(_=n;++w<f.length;)f[w][0]==="exit"&&f[w-1][0]==="enter"&&f[w][1].type===f[w-1][1].type&&f[w][1].start.line!==f[w][1].end.line&&(R=w+1,z.push(R),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(u.events=[],_?(_._tokenizer=void 0,_.previous=void 0):z.pop(),w=z.length;w--;){const F=f.slice(z[w],z[w+1]),V=o.pop();m.push([V,V+F.length-1]),t.splice(V,2,F)}for(m.reverse(),w=-1;++w<m.length;)p[A+m[w][0]]=A+m[w][1],A+=m[w][1]-m[w][0]-1;return p}const oC={resolve:uC,tokenize:dC},cC={partial:!0,tokenize:fC};function uC(t){return V_(t),t}function dC(t,e){let n;return s;function s(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(f)}function i(f){return f===null?o(f):Me(f)?t.check(cC,u,o)(f):(t.consume(f),i)}function o(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function fC(t,e,n){const s=this;return i;function i(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),at(t,o,"linePrefix")}function o(u){if(u===null||Me(u))return n(u);const f=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(s.parser.constructs.flow,n,e)(u)}}function P_(t,e,n,s,i,o,u,f,m){const p=m||Number.POSITIVE_INFINITY;let x=0;return b;function b(F){return F===60?(t.enter(s),t.enter(i),t.enter(o),t.consume(F),t.exit(o),w):F===null||F===32||F===41||hf(F)?n(F):(t.enter(s),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),R(F))}function w(F){return F===62?(t.enter(o),t.consume(F),t.exit(o),t.exit(i),t.exit(s),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),_(F))}function _(F){return F===62?(t.exit("chunkString"),t.exit(f),w(F)):F===null||F===60||Me(F)?n(F):(t.consume(F),F===92?A:_)}function A(F){return F===60||F===62||F===92?(t.consume(F),_):_(F)}function R(F){return!x&&(F===null||F===41||_t(F))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(s),e(F)):x<p&&F===40?(t.consume(F),x++,R):F===41?(t.consume(F),x--,R):F===null||F===32||F===40||hf(F)?n(F):(t.consume(F),F===92?z:R)}function z(F){return F===40||F===41||F===92?(t.consume(F),R):R(F)}}function L_(t,e,n,s,i,o){const u=this;let f=0,m;return p;function p(_){return t.enter(s),t.enter(i),t.consume(_),t.exit(i),t.enter(o),x}function x(_){return f>999||_===null||_===91||_===93&&!m||_===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(_):_===93?(t.exit(o),t.enter(i),t.consume(_),t.exit(i),t.exit(s),e):Me(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),b(_))}function b(_){return _===null||_===91||_===93||Me(_)||f++>999?(t.exit("chunkString"),x(_)):(t.consume(_),m||(m=!Ke(_)),_===92?w:b)}function w(_){return _===91||_===92||_===93?(t.consume(_),f++,b):b(_)}}function z_(t,e,n,s,i,o){let u;return f;function f(w){return w===34||w===39||w===40?(t.enter(s),t.enter(i),t.consume(w),t.exit(i),u=w===40?41:w,m):n(w)}function m(w){return w===u?(t.enter(i),t.consume(w),t.exit(i),t.exit(s),e):(t.enter(o),p(w))}function p(w){return w===u?(t.exit(o),m(u)):w===null?n(w):Me(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),at(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(w))}function x(w){return w===u||w===null||Me(w)?(t.exit("chunkString"),p(w)):(t.consume(w),w===92?b:x)}function b(w){return w===u||w===92?(t.consume(w),x):x(w)}}function Rc(t,e){let n;return s;function s(i){return Me(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,s):Ke(i)?at(t,s,n?"linePrefix":"lineSuffix")(i):e(i)}}const hC={name:"definition",tokenize:pC},mC={partial:!0,tokenize:gC};function pC(t,e,n){const s=this;let i;return o;function o(_){return t.enter("definition"),u(_)}function u(_){return L_.call(s,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function f(_){return i=Fr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),_===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),m):n(_)}function m(_){return _t(_)?Rc(t,p)(_):p(_)}function p(_){return P_(t,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function x(_){return t.attempt(mC,b,b)(_)}function b(_){return Ke(_)?at(t,w,"whitespace")(_):w(_)}function w(_){return _===null||Me(_)?(t.exit("definition"),s.parser.defined.push(i),e(_)):n(_)}}function gC(t,e,n){return s;function s(f){return _t(f)?Rc(t,i)(f):n(f)}function i(f){return z_(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function o(f){return Ke(f)?at(t,u,"whitespace")(f):u(f)}function u(f){return f===null||Me(f)?e(f):n(f)}}const xC={name:"hardBreakEscape",tokenize:yC};function yC(t,e,n){return s;function s(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Me(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const bC={name:"headingAtx",resolve:vC,tokenize:wC};function vC(t,e){let n=t.length-2,s=3,i,o;return t[s][1].type==="whitespace"&&(s+=2),n-2>s&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&t[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(i={type:"atxHeadingText",start:t[s][1].start,end:t[n][1].end},o={type:"chunkText",start:t[s][1].start,end:t[n][1].end,contentType:"text"},dr(t,s,n-s+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function wC(t,e,n){let s=0;return i;function i(x){return t.enter("atxHeading"),o(x)}function o(x){return t.enter("atxHeadingSequence"),u(x)}function u(x){return x===35&&s++<6?(t.consume(x),u):x===null||_t(x)?(t.exit("atxHeadingSequence"),f(x)):n(x)}function f(x){return x===35?(t.enter("atxHeadingSequence"),m(x)):x===null||Me(x)?(t.exit("atxHeading"),e(x)):Ke(x)?at(t,f,"whitespace")(x):(t.enter("atxHeadingText"),p(x))}function m(x){return x===35?(t.consume(x),m):(t.exit("atxHeadingSequence"),f(x))}function p(x){return x===null||x===35||_t(x)?(t.exit("atxHeadingText"),f(x)):(t.consume(x),p)}}const _C=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Bv=["pre","script","style","textarea"],NC={concrete:!0,name:"htmlFlow",resolveTo:SC,tokenize:AC},EC={partial:!0,tokenize:kC},TC={partial:!0,tokenize:jC};function SC(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function AC(t,e,n){const s=this;let i,o,u,f,m;return p;function p(E){return x(E)}function x(E){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(E),b}function b(E){return E===33?(t.consume(E),w):E===47?(t.consume(E),o=!0,R):E===63?(t.consume(E),i=3,s.interrupt?e:T):Bn(E)?(t.consume(E),u=String.fromCharCode(E),z):n(E)}function w(E){return E===45?(t.consume(E),i=2,_):E===91?(t.consume(E),i=5,f=0,A):Bn(E)?(t.consume(E),i=4,s.interrupt?e:T):n(E)}function _(E){return E===45?(t.consume(E),s.interrupt?e:T):n(E)}function A(E){const Y="CDATA[";return E===Y.charCodeAt(f++)?(t.consume(E),f===Y.length?s.interrupt?e:O:A):n(E)}function R(E){return Bn(E)?(t.consume(E),u=String.fromCharCode(E),z):n(E)}function z(E){if(E===null||E===47||E===62||_t(E)){const Y=E===47,ue=u.toLowerCase();return!Y&&!o&&Bv.includes(ue)?(i=1,s.interrupt?e(E):O(E)):_C.includes(u.toLowerCase())?(i=6,Y?(t.consume(E),F):s.interrupt?e(E):O(E)):(i=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(E):o?V(E):B(E))}return E===45||Mn(E)?(t.consume(E),u+=String.fromCharCode(E),z):n(E)}function F(E){return E===62?(t.consume(E),s.interrupt?e:O):n(E)}function V(E){return Ke(E)?(t.consume(E),V):k(E)}function B(E){return E===47?(t.consume(E),k):E===58||E===95||Bn(E)?(t.consume(E),H):Ke(E)?(t.consume(E),B):k(E)}function H(E){return E===45||E===46||E===58||E===95||Mn(E)?(t.consume(E),H):X(E)}function X(E){return E===61?(t.consume(E),L):Ke(E)?(t.consume(E),X):B(E)}function L(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),m=E,I):Ke(E)?(t.consume(E),L):j(E)}function I(E){return E===m?(t.consume(E),m=null,D):E===null||Me(E)?n(E):(t.consume(E),I)}function j(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||_t(E)?X(E):(t.consume(E),j)}function D(E){return E===47||E===62||Ke(E)?B(E):n(E)}function k(E){return E===62?(t.consume(E),P):n(E)}function P(E){return E===null||Me(E)?O(E):Ke(E)?(t.consume(E),P):n(E)}function O(E){return E===45&&i===2?(t.consume(E),Q):E===60&&i===1?(t.consume(E),fe):E===62&&i===4?(t.consume(E),re):E===63&&i===3?(t.consume(E),T):E===93&&i===5?(t.consume(E),ve):Me(E)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(EC,J,C)(E)):E===null||Me(E)?(t.exit("htmlFlowData"),C(E)):(t.consume(E),O)}function C(E){return t.check(TC,se,J)(E)}function se(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),ye}function ye(E){return E===null||Me(E)?C(E):(t.enter("htmlFlowData"),O(E))}function Q(E){return E===45?(t.consume(E),T):O(E)}function fe(E){return E===47?(t.consume(E),u="",ee):O(E)}function ee(E){if(E===62){const Y=u.toLowerCase();return Bv.includes(Y)?(t.consume(E),re):O(E)}return Bn(E)&&u.length<8?(t.consume(E),u+=String.fromCharCode(E),ee):O(E)}function ve(E){return E===93?(t.consume(E),T):O(E)}function T(E){return E===62?(t.consume(E),re):E===45&&i===2?(t.consume(E),T):O(E)}function re(E){return E===null||Me(E)?(t.exit("htmlFlowData"),J(E)):(t.consume(E),re)}function J(E){return t.exit("htmlFlow"),e(E)}}function jC(t,e,n){const s=this;return i;function i(u){return Me(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return s.parser.lazy[s.now().line]?n(u):e(u)}}function kC(t,e,n){return s;function s(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(iu,e,n)}}const CC={name:"htmlText",tokenize:RC};function RC(t,e,n){const s=this;let i,o,u;return f;function f(T){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(T),m}function m(T){return T===33?(t.consume(T),p):T===47?(t.consume(T),X):T===63?(t.consume(T),B):Bn(T)?(t.consume(T),j):n(T)}function p(T){return T===45?(t.consume(T),x):T===91?(t.consume(T),o=0,A):Bn(T)?(t.consume(T),V):n(T)}function x(T){return T===45?(t.consume(T),_):n(T)}function b(T){return T===null?n(T):T===45?(t.consume(T),w):Me(T)?(u=b,fe(T)):(t.consume(T),b)}function w(T){return T===45?(t.consume(T),_):b(T)}function _(T){return T===62?Q(T):T===45?w(T):b(T)}function A(T){const re="CDATA[";return T===re.charCodeAt(o++)?(t.consume(T),o===re.length?R:A):n(T)}function R(T){return T===null?n(T):T===93?(t.consume(T),z):Me(T)?(u=R,fe(T)):(t.consume(T),R)}function z(T){return T===93?(t.consume(T),F):R(T)}function F(T){return T===62?Q(T):T===93?(t.consume(T),F):R(T)}function V(T){return T===null||T===62?Q(T):Me(T)?(u=V,fe(T)):(t.consume(T),V)}function B(T){return T===null?n(T):T===63?(t.consume(T),H):Me(T)?(u=B,fe(T)):(t.consume(T),B)}function H(T){return T===62?Q(T):B(T)}function X(T){return Bn(T)?(t.consume(T),L):n(T)}function L(T){return T===45||Mn(T)?(t.consume(T),L):I(T)}function I(T){return Me(T)?(u=I,fe(T)):Ke(T)?(t.consume(T),I):Q(T)}function j(T){return T===45||Mn(T)?(t.consume(T),j):T===47||T===62||_t(T)?D(T):n(T)}function D(T){return T===47?(t.consume(T),Q):T===58||T===95||Bn(T)?(t.consume(T),k):Me(T)?(u=D,fe(T)):Ke(T)?(t.consume(T),D):Q(T)}function k(T){return T===45||T===46||T===58||T===95||Mn(T)?(t.consume(T),k):P(T)}function P(T){return T===61?(t.consume(T),O):Me(T)?(u=P,fe(T)):Ke(T)?(t.consume(T),P):D(T)}function O(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(t.consume(T),i=T,C):Me(T)?(u=O,fe(T)):Ke(T)?(t.consume(T),O):(t.consume(T),se)}function C(T){return T===i?(t.consume(T),i=void 0,ye):T===null?n(T):Me(T)?(u=C,fe(T)):(t.consume(T),C)}function se(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||_t(T)?D(T):(t.consume(T),se)}function ye(T){return T===47||T===62||_t(T)?D(T):n(T)}function Q(T){return T===62?(t.consume(T),t.exit("htmlTextData"),t.exit("htmlText"),e):n(T)}function fe(T){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),ee}function ee(T){return Ke(T)?at(t,ve,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):ve(T)}function ve(T){return t.enter("htmlTextData"),u(T)}}const Eg={name:"labelEnd",resolveAll:OC,resolveTo:VC,tokenize:PC},DC={tokenize:LC},IC={tokenize:zC},MC={tokenize:UC};function OC(t){let e=-1;const n=[];for(;++e<t.length;){const s=t[e][1];if(n.push(t[e]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const i=s.type==="labelImage"?4:2;s.type="data",e+=i}}return t.length!==n.length&&dr(t,0,t.length,n),t}function VC(t,e){let n=t.length,s=0,i,o,u,f;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){s=2;break}}else i.type==="labelEnd"&&(u=n);const m={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},x={type:"labelText",start:{...t[o+s+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",m,e],["enter",p,e]],f=Ar(f,t.slice(o+1,o+s+3)),f=Ar(f,[["enter",x,e]]),f=Ar(f,Ff(e.parser.constructs.insideSpan.null,t.slice(o+s+4,u-3),e)),f=Ar(f,[["exit",x,e],t[u-2],t[u-1],["exit",p,e]]),f=Ar(f,t.slice(u+1)),f=Ar(f,[["exit",m,e]]),dr(t,o,t.length,f),t}function PC(t,e,n){const s=this;let i=s.events.length,o,u;for(;i--;)if((s.events[i][1].type==="labelImage"||s.events[i][1].type==="labelLink")&&!s.events[i][1]._balanced){o=s.events[i][1];break}return f;function f(w){return o?o._inactive?b(w):(u=s.parser.defined.includes(Fr(s.sliceSerialize({start:o.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),m):n(w)}function m(w){return w===40?t.attempt(DC,x,u?x:b)(w):w===91?t.attempt(IC,x,u?p:b)(w):u?x(w):b(w)}function p(w){return t.attempt(MC,x,b)(w)}function x(w){return e(w)}function b(w){return o._balanced=!0,n(w)}}function LC(t,e,n){return s;function s(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),i}function i(b){return _t(b)?Rc(t,o)(b):o(b)}function o(b){return b===41?x(b):P_(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function u(b){return _t(b)?Rc(t,m)(b):x(b)}function f(b){return n(b)}function m(b){return b===34||b===39||b===40?z_(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function p(b){return _t(b)?Rc(t,x)(b):x(b)}function x(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function zC(t,e,n){const s=this;return i;function i(f){return L_.call(s,t,o,u,"reference","referenceMarker","referenceString")(f)}function o(f){return s.parser.defined.includes(Fr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function UC(t,e,n){return s;function s(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const BC={name:"labelStartImage",resolveAll:Eg.resolveAll,tokenize:FC};function FC(t,e,n){const s=this;return i;function i(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),o}function o(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):e(f)}}const qC={name:"labelStartLink",resolveAll:Eg.resolveAll,tokenize:$C};function $C(t,e,n){const s=this;return i;function i(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(u):e(u)}}const h0={name:"lineEnding",tokenize:HC};function HC(t,e){return n;function n(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),at(t,e,"linePrefix")}}const Yd={name:"thematicBreak",tokenize:YC};function YC(t,e,n){let s=0,i;return o;function o(p){return t.enter("thematicBreak"),u(p)}function u(p){return i=p,f(p)}function f(p){return p===i?(t.enter("thematicBreakSequence"),m(p)):s>=3&&(p===null||Me(p))?(t.exit("thematicBreak"),e(p)):n(p)}function m(p){return p===i?(t.consume(p),s++,m):(t.exit("thematicBreakSequence"),Ke(p)?at(t,f,"whitespace")(p):f(p))}}const Kn={continuation:{tokenize:KC},exit:JC,name:"list",tokenize:XC},GC={partial:!0,tokenize:WC},QC={partial:!0,tokenize:ZC};function XC(t,e,n){const s=this,i=s.events[s.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,u=0;return f;function f(_){const A=s.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!s.containerState.marker||_===s.containerState.marker:cp(_)){if(s.containerState.type||(s.containerState.type=A,t.enter(A,{_container:!0})),A==="listUnordered")return t.enter("listItemPrefix"),_===42||_===45?t.check(Yd,n,p)(_):p(_);if(!s.interrupt||_===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(_)}return n(_)}function m(_){return cp(_)&&++u<10?(t.consume(_),m):(!s.interrupt||u<2)&&(s.containerState.marker?_===s.containerState.marker:_===41||_===46)?(t.exit("listItemValue"),p(_)):n(_)}function p(_){return t.enter("listItemMarker"),t.consume(_),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||_,t.check(iu,s.interrupt?n:x,t.attempt(GC,w,b))}function x(_){return s.containerState.initialBlankLine=!0,o++,w(_)}function b(_){return Ke(_)?(t.enter("listItemPrefixWhitespace"),t.consume(_),t.exit("listItemPrefixWhitespace"),w):n(_)}function w(_){return s.containerState.size=o+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(_)}}function KC(t,e,n){const s=this;return s.containerState._closeFlow=void 0,t.check(iu,i,o);function i(f){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,at(t,e,"listItemIndent",s.containerState.size+1)(f)}function o(f){return s.containerState.furtherBlankLines||!Ke(f)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,u(f)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(QC,e,u)(f))}function u(f){return s.containerState._closeFlow=!0,s.interrupt=void 0,at(t,t.attempt(Kn,e,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function ZC(t,e,n){const s=this;return at(t,i,"listItemIndent",s.containerState.size+1);function i(o){const u=s.events[s.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===s.containerState.size?e(o):n(o)}}function JC(t){t.exit(this.containerState.type)}function WC(t,e,n){const s=this;return at(t,i,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const u=s.events[s.events.length-1];return!Ke(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const Fv={name:"setextUnderline",resolveTo:e9,tokenize:t9};function e9(t,e){let n=t.length,s,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){s=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",u,e]),t.splice(o+1,0,["exit",t[s][1],e]),t[s][1].end={...t[o][1].end}):t[s][1]=u,t.push(["exit",u,e]),t}function t9(t,e,n){const s=this;let i;return o;function o(p){let x=s.events.length,b;for(;x--;)if(s.events[x][1].type!=="lineEnding"&&s.events[x][1].type!=="linePrefix"&&s.events[x][1].type!=="content"){b=s.events[x][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||b)?(t.enter("setextHeadingLine"),i=p,u(p)):n(p)}function u(p){return t.enter("setextHeadingLineSequence"),f(p)}function f(p){return p===i?(t.consume(p),f):(t.exit("setextHeadingLineSequence"),Ke(p)?at(t,m,"lineSuffix")(p):m(p))}function m(p){return p===null||Me(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const n9={tokenize:r9};function r9(t){const e=this,n=t.attempt(iu,s,t.attempt(this.parser.constructs.flowInitial,i,at(t,t.attempt(this.parser.constructs.flow,i,t.attempt(oC,i)),"linePrefix")));return n;function s(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const s9={resolveAll:B_()},a9=U_("string"),i9=U_("text");function U_(t){return{resolveAll:B_(t==="text"?l9:void 0),tokenize:e};function e(n){const s=this,i=this.parser.constructs[t],o=n.attempt(i,u,f);return u;function u(x){return p(x)?o(x):f(x)}function f(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),m}function m(x){return p(x)?(n.exit("data"),o(x)):(n.consume(x),m)}function p(x){if(x===null)return!0;const b=i[x];let w=-1;if(b)for(;++w<b.length;){const _=b[w];if(!_.previous||_.previous.call(s,s.previous))return!0}return!1}}}function B_(t){return e;function e(n,s){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,s):n}}function l9(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const s=t[n-1][1],i=e.sliceStream(s);let o=i.length,u=-1,f=0,m;for(;o--;){const p=i[o];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(p===-2)m=!0,f++;else if(p!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const p={type:n===t.length||m||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:s.start._bufferIndex+u,_index:s.start._index+o,line:s.end.line,column:s.end.column-f,offset:s.end.offset-f},end:{...s.end}};s.end={...p.start},s.start.offset===s.end.offset?Object.assign(s,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const o9={42:Kn,43:Kn,45:Kn,48:Kn,49:Kn,50:Kn,51:Kn,52:Kn,53:Kn,54:Kn,55:Kn,56:Kn,57:Kn,62:I_},c9={91:hC},u9={[-2]:f0,[-1]:f0,32:f0},d9={35:bC,42:Yd,45:[Fv,Yd],60:NC,61:Fv,95:Yd,96:Uv,126:Uv},f9={38:O_,92:M_},h9={[-5]:h0,[-4]:h0,[-3]:h0,33:BC,38:O_,42:up,60:[qk,CC],91:qC,92:[xC,M_],93:Eg,95:up,96:nC},m9={null:[up,s9]},p9={null:[42,95]},g9={null:[]},x9=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:p9,contentInitial:c9,disable:g9,document:o9,flow:d9,flowInitial:u9,insideSpan:m9,string:f9,text:h9},Symbol.toStringTag,{value:"Module"}));function y9(t,e,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let u=[],f=[];const m={attempt:I(X),check:I(L),consume:V,enter:B,exit:H,interrupt:I(L,{interrupt:!0})},p={code:null,containerState:{},defineSkip:R,events:[],now:A,parser:t,previous:null,sliceSerialize:w,sliceStream:_,write:b};let x=e.tokenize.call(p,m);return e.resolveAll&&o.push(e),p;function b(P){return u=Ar(u,P),z(),u[u.length-1]!==null?[]:(j(e,0),p.events=Ff(o,p.events,p),p.events)}function w(P,O){return v9(_(P),O)}function _(P){return b9(u,P)}function A(){const{_bufferIndex:P,_index:O,line:C,column:se,offset:ye}=s;return{_bufferIndex:P,_index:O,line:C,column:se,offset:ye}}function R(P){i[P.line]=P.column,k()}function z(){let P;for(;s._index<u.length;){const O=u[s._index];if(typeof O=="string")for(P=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===P&&s._bufferIndex<O.length;)F(O.charCodeAt(s._bufferIndex));else F(O)}}function F(P){x=x(P)}function V(P){Me(P)?(s.line++,s.column=1,s.offset+=P===-3?2:1,k()):P!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===u[s._index].length&&(s._bufferIndex=-1,s._index++)),p.previous=P}function B(P,O){const C=O||{};return C.type=P,C.start=A(),p.events.push(["enter",C,p]),f.push(C),C}function H(P){const O=f.pop();return O.end=A(),p.events.push(["exit",O,p]),O}function X(P,O){j(P,O.from)}function L(P,O){O.restore()}function I(P,O){return C;function C(se,ye,Q){let fe,ee,ve,T;return Array.isArray(se)?J(se):"tokenize"in se?J([se]):re(se);function re(ae){return be;function be(Te){const it=Te!==null&&ae[Te],ot=Te!==null&&ae.null,ft=[...Array.isArray(it)?it:it?[it]:[],...Array.isArray(ot)?ot:ot?[ot]:[]];return J(ft)(Te)}}function J(ae){return fe=ae,ee=0,ae.length===0?Q:E(ae[ee])}function E(ae){return be;function be(Te){return T=D(),ve=ae,ae.partial||(p.currentConstruct=ae),ae.name&&p.parser.constructs.disable.null.includes(ae.name)?ue():ae.tokenize.call(O?Object.assign(Object.create(p),O):p,m,Y,ue)(Te)}}function Y(ae){return P(ve,T),ye}function ue(ae){return T.restore(),++ee<fe.length?E(fe[ee]):Q}}}function j(P,O){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&dr(p.events,O,p.events.length-O,P.resolve(p.events.slice(O),p)),P.resolveTo&&(p.events=P.resolveTo(p.events,p))}function D(){const P=A(),O=p.previous,C=p.currentConstruct,se=p.events.length,ye=Array.from(f);return{from:se,restore:Q};function Q(){s=P,p.previous=O,p.currentConstruct=C,p.events.length=se,f=ye,k()}}function k(){s.line in i&&s.column<2&&(s.column=i[s.line],s.offset+=i[s.line]-1)}}function b9(t,e){const n=e.start._index,s=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let u;if(n===i)u=[t[n].slice(s,o)];else{if(u=t.slice(n,i),s>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(s):u.shift()}o>0&&u.push(t[i].slice(0,o))}return u}function v9(t,e){let n=-1;const s=[];let i;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&i)continue;u=" ";break}default:u=String.fromCharCode(o)}i=o===-2,s.push(u)}return s.join("")}function w9(t){const s={constructs:R_([x9,...(t||{}).extensions||[]]),content:i(Vk),defined:[],document:i(Lk),flow:i(n9),lazy:{},string:i(a9),text:i(i9)};return s;function i(o){return u;function u(f){return y9(s,o,f)}}}function _9(t){for(;!V_(t););return t}const qv=/[\0\t\n\r]/g;function N9(){let t=1,e="",n=!0,s;return i;function i(o,u,f){const m=[];let p,x,b,w,_;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(qv.lastIndex=b,p=qv.exec(o),w=p&&p.index!==void 0?p.index:o.length,_=o.charCodeAt(w),!p){e=o.slice(b);break}if(_===10&&b===w&&s)m.push(-3),s=void 0;else switch(s&&(m.push(-5),s=void 0),b<w&&(m.push(o.slice(b,w)),t+=w-b),_){case 0:{m.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,m.push(-2);t++<x;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:s=!0,t=1}b=w+1}return f&&(s&&m.push(-5),e&&m.push(e),m.push(null)),m}}const E9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function T9(t){return t.replace(E9,S9)}function S9(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return D_(n.slice(o?2:1),o?16:10)}return Ng(n)||t}const F_={}.hasOwnProperty;function A9(t,e,n){return typeof e!="string"&&(n=e,e=void 0),j9(n)(_9(w9(n).document().write(N9()(t,e,!0))))}function j9(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(fr),autolinkProtocol:D,autolinkEmail:D,atxHeading:o(We),blockQuote:o(ot),characterEscape:D,characterReference:D,codeFenced:o(ft),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(ft,u),codeText:o(Vn,u),codeTextData:D,data:D,codeFlowValue:D,definition:o(pn),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(_e),hardBreakEscape:o(Ot),hardBreakTrailing:o(Ot),htmlFlow:o(Nt,u),htmlFlowData:D,htmlText:o(Nt,u),htmlTextData:D,image:o(er),label:u,link:o(fr),listItem:o(hr),listItemValue:w,listOrdered:o(Hn,b),listUnordered:o(Hn),paragraph:o(Xa),reference:E,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(We),strong:o(mr),thematicBreak:o(vs)},exit:{atxHeading:m(),atxHeadingSequence:X,autolink:m(),autolinkEmail:it,autolinkProtocol:Te,blockQuote:m(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:ae,characterReference:be,codeFenced:m(z),codeFencedFence:R,codeFencedFenceInfo:_,codeFencedFenceMeta:A,codeFlowValue:k,codeIndented:m(F),codeText:m(ye),codeTextData:k,data:k,definition:m(),definitionDestinationString:H,definitionLabelString:V,definitionTitleString:B,emphasis:m(),hardBreakEscape:m(O),hardBreakTrailing:m(O),htmlFlow:m(C),htmlFlowData:k,htmlText:m(se),htmlTextData:k,image:m(fe),label:ve,labelText:ee,lineEnding:P,link:m(Q),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:Y,resourceDestinationString:T,resourceTitleString:re,resource:J,setextHeading:m(j),setextHeadingLineSequence:I,setextHeadingText:L,strong:m(),thematicBreak:m()}};q_(e,(t||{}).mdastExtensions||[]);const n={};return s;function s(ie){let pe={type:"root",children:[]};const Ce={stack:[pe],tokenStack:[],config:e,enter:f,exit:p,buffer:u,resume:x,data:n},De=[];let He=-1;for(;++He<ie.length;)if(ie[He][1].type==="listOrdered"||ie[He][1].type==="listUnordered")if(ie[He][0]==="enter")De.push(He);else{const gn=De.pop();He=i(ie,gn,He)}for(He=-1;++He<ie.length;){const gn=e[ie[He][0]];F_.call(gn,ie[He][1].type)&&gn[ie[He][1].type].call(Object.assign({sliceSerialize:ie[He][2].sliceSerialize},Ce),ie[He][1])}if(Ce.tokenStack.length>0){const gn=Ce.tokenStack[Ce.tokenStack.length-1];(gn[1]||$v).call(Ce,void 0,gn[0])}for(pe.position={start:Ca(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:Ca(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<e.transforms.length;)pe=e.transforms[He](pe)||pe;return pe}function i(ie,pe,Ce){let De=pe-1,He=-1,gn=!1,ln,Jt,An,qt;for(;++De<=Ce;){const Rt=ie[De];switch(Rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Rt[0]==="enter"?He++:He--,qt=void 0;break}case"lineEndingBlank":{Rt[0]==="enter"&&(ln&&!qt&&!He&&!An&&(An=De),qt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:qt=void 0}if(!He&&Rt[0]==="enter"&&Rt[1].type==="listItemPrefix"||He===-1&&Rt[0]==="exit"&&(Rt[1].type==="listUnordered"||Rt[1].type==="listOrdered")){if(ln){let jn=De;for(Jt=void 0;jn--;){const xn=ie[jn];if(xn[1].type==="lineEnding"||xn[1].type==="lineEndingBlank"){if(xn[0]==="exit")continue;Jt&&(ie[Jt][1].type="lineEndingBlank",gn=!0),xn[1].type="lineEnding",Jt=jn}else if(!(xn[1].type==="linePrefix"||xn[1].type==="blockQuotePrefix"||xn[1].type==="blockQuotePrefixWhitespace"||xn[1].type==="blockQuoteMarker"||xn[1].type==="listItemIndent"))break}An&&(!Jt||An<Jt)&&(ln._spread=!0),ln.end=Object.assign({},Jt?ie[Jt][1].start:Rt[1].end),ie.splice(Jt||De,0,["exit",ln,Rt[2]]),De++,Ce++}if(Rt[1].type==="listItemPrefix"){const jn={type:"listItem",_spread:!1,start:Object.assign({},Rt[1].start),end:void 0};ln=jn,ie.splice(De,0,["enter",jn,Rt[2]]),De++,Ce++,An=void 0,qt=!0}}}return ie[pe][1]._spread=gn,Ce}function o(ie,pe){return Ce;function Ce(De){f.call(this,ie(De),De),pe&&pe.call(this,De)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(ie,pe,Ce){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([pe,Ce||void 0]),ie.position={start:Ca(pe.start),end:void 0}}function m(ie){return pe;function pe(Ce){ie&&ie.call(this,Ce),p.call(this,Ce)}}function p(ie,pe){const Ce=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==ie.type&&(pe?pe.call(this,ie,De[0]):(De[1]||$v).call(this,ie,De[0]));else throw new Error("Cannot close `"+ie.type+"` ("+Cc({start:ie.start,end:ie.end})+"): its not open");Ce.position.end=Ca(ie.end)}function x(){return _g(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function w(ie){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function _(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=ie}function A(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=ie}function R(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function z(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function F(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ie.replace(/(\r?\n|\r)$/g,"")}function V(ie){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=pe,Ce.identifier=Fr(this.sliceSerialize(ie)).toLowerCase()}function B(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ie}function H(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ie}function X(ie){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Ce=this.sliceSerialize(ie).length;pe.depth=Ce}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function I(ie){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function D(ie){const Ce=this.stack[this.stack.length-1].children;let De=Ce[Ce.length-1];(!De||De.type!=="text")&&(De=Yn(),De.position={start:Ca(ie.start),end:void 0},Ce.push(De)),this.stack.push(De)}function k(ie){const pe=this.stack.pop();pe.value+=this.sliceSerialize(ie),pe.position.end=Ca(ie.end)}function P(ie){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=pe.children[pe.children.length-1];Ce.position.end=Ca(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(pe.type)&&(D.call(this,ie),k.call(this,ie))}function O(){this.data.atHardBreak=!0}function C(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ie}function se(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ie}function ye(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ie}function Q(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=pe,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function fe(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=pe,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function ee(ie){const pe=this.sliceSerialize(ie),Ce=this.stack[this.stack.length-2];Ce.label=T9(pe),Ce.identifier=Fr(pe).toLowerCase()}function ve(){const ie=this.stack[this.stack.length-1],pe=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const De=ie.children;Ce.children=De}else Ce.alt=pe}function T(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ie}function re(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ie}function J(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function Y(ie){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=pe,Ce.identifier=Fr(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function ue(ie){this.data.characterReferenceType=ie.type}function ae(ie){const pe=this.sliceSerialize(ie),Ce=this.data.characterReferenceType;let De;Ce?(De=D_(pe,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=Ng(pe);const He=this.stack[this.stack.length-1];He.value+=De}function be(ie){const pe=this.stack.pop();pe.position.end=Ca(ie.end)}function Te(ie){k.call(this,ie);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(ie)}function it(ie){k.call(this,ie);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(ie)}function ot(){return{type:"blockquote",children:[]}}function ft(){return{type:"code",lang:null,meta:null,value:""}}function Vn(){return{type:"inlineCode",value:""}}function pn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _e(){return{type:"emphasis",children:[]}}function We(){return{type:"heading",depth:0,children:[]}}function Ot(){return{type:"break"}}function Nt(){return{type:"html",value:""}}function er(){return{type:"image",title:null,url:"",alt:null}}function fr(){return{type:"link",title:null,url:"",children:[]}}function Hn(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function hr(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function Xa(){return{type:"paragraph",children:[]}}function mr(){return{type:"strong",children:[]}}function Yn(){return{type:"text",value:""}}function vs(){return{type:"thematicBreak"}}}function Ca(t){return{line:t.line,column:t.column,offset:t.offset}}function q_(t,e){let n=-1;for(;++n<e.length;){const s=e[n];Array.isArray(s)?q_(t,s):k9(t,s)}}function k9(t,e){let n;for(n in e)if(F_.call(e,n))switch(n){case"canContainEols":{const s=e[n];s&&t[n].push(...s);break}case"transforms":{const s=e[n];s&&t[n].push(...s);break}case"enter":case"exit":{const s=e[n];s&&Object.assign(t[n],s);break}}}function $v(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Cc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Cc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Cc({start:e.start,end:e.end})+") is still open")}function C9(t){const e=this;e.parser=n;function n(s){return A9(s,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function R9(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function D9(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function I9(t,e){const n=e.value?e.value+`
`:"",s={};e.lang&&(s.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function M9(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function O9(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function V9(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),i=uo(s.toLowerCase()),o=t.footnoteOrder.indexOf(s);let u,f=t.footnoteCounts.get(s);f===void 0?(f=0,t.footnoteOrder.push(s),u=t.footnoteOrder.length):u=o+1,f+=1,t.footnoteCounts.set(s,f);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,m);const p={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,p),t.applyData(e,p)}function P9(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function L9(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function $_(t,e){const n=e.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+s}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const u=i[i.length-1];return u&&u.type==="text"?u.value+=s:i.push({type:"text",value:s}),i}function z9(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return $_(t,e);const i={src:uo(s.url||""),alt:e.alt};s.title!==null&&s.title!==void 0&&(i.title=s.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function U9(t,e){const n={src:uo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,s),t.applyData(e,s)}function B9(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,s),t.applyData(e,s)}function F9(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return $_(t,e);const i={href:uo(s.url||"")};s.title!==null&&s.title!==void 0&&(i.title=s.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function q9(t,e){const n={href:uo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function $9(t,e,n){const s=t.all(e),i=n?H9(n):H_(e),o={},u=[];if(typeof e.checked=="boolean"){const x=s[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},s.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let f=-1;for(;++f<s.length;){const x=s[f];(i||f!==0||x.type!=="element"||x.tagName!=="p")&&u.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!i?u.push(...x.children):u.push(x)}const m=s[s.length-1];m&&(i||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,p),t.applyData(e,p)}function H9(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let s=-1;for(;!e&&++s<n.length;)e=H_(n[s])}return e}function H_(t){const e=t.spread;return e??t.children.length>1}function Y9(t,e){const n={},s=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<s.length;){const u=s[i];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function G9(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Q9(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function X9(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function K9(t,e){const n=t.all(e),s=n.shift(),i=[];if(s){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(e.children[0],u),i.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=yg(e.children[1]),m=E_(e.children[e.children.length-1]);f&&m&&(u.position={start:f,end:m}),i.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function Z9(t,e,n){const s=n?n.children:void 0,o=(s?s.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let m=-1;const p=[];for(;++m<f;){const b=e.children[m],w={},_=u?u[m]:void 0;_&&(w.align=_);let A={type:"element",tagName:o,properties:w,children:[]};b&&(A.children=t.all(b),t.patch(b,A),A=t.applyData(b,A)),p.push(A)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,x),t.applyData(e,x)}function J9(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Hv=9,Yv=32;function W9(t){const e=String(t),n=/\r?\n|\r/g;let s=n.exec(e),i=0;const o=[];for(;s;)o.push(Gv(e.slice(i,s.index),i>0,!0),s[0]),i=s.index+s[0].length,s=n.exec(e);return o.push(Gv(e.slice(i),i>0,!1)),o.join("")}function Gv(t,e,n){let s=0,i=t.length;if(e){let o=t.codePointAt(s);for(;o===Hv||o===Yv;)s++,o=t.codePointAt(s)}if(n){let o=t.codePointAt(i-1);for(;o===Hv||o===Yv;)i--,o=t.codePointAt(i-1)}return i>s?t.slice(s,i):""}function e7(t,e){const n={type:"text",value:W9(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function t7(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const n7={blockquote:R9,break:D9,code:I9,delete:M9,emphasis:O9,footnoteReference:V9,heading:P9,html:L9,imageReference:z9,image:U9,inlineCode:B9,linkReference:F9,link:q9,listItem:$9,list:Y9,paragraph:G9,root:Q9,strong:X9,table:K9,tableCell:J9,tableRow:Z9,text:e7,thematicBreak:t7,toml:Od,yaml:Od,definition:Od,footnoteDefinition:Od};function Od(){}const Y_=-1,qf=0,Dc=1,mf=2,Tg=3,Sg=4,Ag=5,jg=6,G_=7,Q_=8,Qv=typeof self=="object"?self:globalThis,r7=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),s=i=>{if(t.has(i))return t.get(i);const[o,u]=e[i];switch(o){case qf:case Y_:return n(u,i);case Dc:{const f=n([],i);for(const m of u)f.push(s(m));return f}case mf:{const f=n({},i);for(const[m,p]of u)f[s(m)]=s(p);return f}case Tg:return n(new Date(u),i);case Sg:{const{source:f,flags:m}=u;return n(new RegExp(f,m),i)}case Ag:{const f=n(new Map,i);for(const[m,p]of u)f.set(s(m),s(p));return f}case jg:{const f=n(new Set,i);for(const m of u)f.add(s(m));return f}case G_:{const{name:f,message:m}=u;return n(new Qv[f](m),i)}case Q_:return n(BigInt(u),i);case"BigInt":return n(Object(BigInt(u)),i);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new Qv[o](u),i)};return s},Xv=t=>r7(new Map,t)(0),Pl="",{toString:s7}={},{keys:a7}=Object,bc=t=>{const e=typeof t;if(e!=="object"||!t)return[qf,e];const n=s7.call(t).slice(8,-1);switch(n){case"Array":return[Dc,Pl];case"Object":return[mf,Pl];case"Date":return[Tg,Pl];case"RegExp":return[Sg,Pl];case"Map":return[Ag,Pl];case"Set":return[jg,Pl];case"DataView":return[Dc,n]}return n.includes("Array")?[Dc,n]:n.includes("Error")?[G_,n]:[mf,n]},Vd=([t,e])=>t===qf&&(e==="function"||e==="symbol"),i7=(t,e,n,s)=>{const i=(u,f)=>{const m=s.push(u)-1;return n.set(f,m),m},o=u=>{if(n.has(u))return n.get(u);let[f,m]=bc(u);switch(f){case qf:{let x=u;switch(m){case"bigint":f=Q_,x=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);x=null;break;case"undefined":return i([Y_],u)}return i([f,x],u)}case Dc:{if(m){let w=u;return m==="DataView"?w=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(w=new Uint8Array(u)),i([m,[...w]],u)}const x=[],b=i([f,x],u);for(const w of u)x.push(o(w));return b}case mf:{if(m)switch(m){case"BigInt":return i([m,u.toString()],u);case"Boolean":case"Number":case"String":return i([m,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const x=[],b=i([f,x],u);for(const w of a7(u))(t||!Vd(bc(u[w])))&&x.push([o(w),o(u[w])]);return b}case Tg:return i([f,u.toISOString()],u);case Sg:{const{source:x,flags:b}=u;return i([f,{source:x,flags:b}],u)}case Ag:{const x=[],b=i([f,x],u);for(const[w,_]of u)(t||!(Vd(bc(w))||Vd(bc(_))))&&x.push([o(w),o(_)]);return b}case jg:{const x=[],b=i([f,x],u);for(const w of u)(t||!Vd(bc(w)))&&x.push(o(w));return b}}const{message:p}=u;return i([f,{name:m,message:p}],u)};return o},Kv=(t,{json:e,lossy:n}={})=>{const s=[];return i7(!(e||n),!!e,new Map,s)(t),s},pf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Xv(Kv(t,e)):structuredClone(t):(t,e)=>Xv(Kv(t,e));function l7(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function o7(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function c7(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||l7,s=t.options.footnoteBackLabel||o7,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let m=-1;for(;++m<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[m]);if(!p)continue;const x=t.all(p),b=String(p.identifier).toUpperCase(),w=uo(b.toLowerCase());let _=0;const A=[],R=t.footnoteCounts.get(b);for(;R!==void 0&&++_<=R;){A.length>0&&A.push({type:"text",value:" "});let V=typeof n=="string"?n:n(m,_);typeof V=="string"&&(V={type:"text",value:V}),A.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+w+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(m,_),className:["data-footnote-backref"]},children:Array.isArray(V)?V:[V]})}const z=x[x.length-1];if(z&&z.type==="element"&&z.tagName==="p"){const V=z.children[z.children.length-1];V&&V.type==="text"?V.value+=" ":z.children.push({type:"text",value:" "}),z.children.push(...A)}else x.push(...A);const F={type:"element",tagName:"li",properties:{id:e+"fn-"+w},children:t.wrap(x,!0)};t.patch(p,F),f.push(F)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...pf(u),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const $f=(function(t){if(t==null)return h7;if(typeof t=="function")return Hf(t);if(typeof t=="object")return Array.isArray(t)?u7(t):d7(t);if(typeof t=="string")return f7(t);throw new Error("Expected function, string, or object as test")});function u7(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=$f(t[n]);return Hf(s);function s(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function d7(t){const e=t;return Hf(n);function n(s){const i=s;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function f7(t){return Hf(e);function e(n){return n&&n.type===t}}function Hf(t){return e;function e(n,s,i){return!!(m7(n)&&t.call(this,n,typeof s=="number"?s:void 0,i||void 0))}}function h7(){return!0}function m7(t){return t!==null&&typeof t=="object"&&"type"in t}const X_=[],p7=!0,dp=!1,g7="skip";function K_(t,e,n,s){let i;typeof e=="function"&&typeof n!="function"?(s=n,n=e):i=e;const o=$f(i),u=s?-1:1;f(t,void 0,[])();function f(m,p,x){const b=m&&typeof m=="object"?m:{};if(typeof b.type=="string"){const _=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(m.type+(_?"<"+_+">":""))+")"})}return w;function w(){let _=X_,A,R,z;if((!e||o(m,p,x[x.length-1]||void 0))&&(_=x7(n(m,x)),_[0]===dp))return _;if("children"in m&&m.children){const F=m;if(F.children&&_[0]!==g7)for(R=(s?F.children.length:-1)+u,z=x.concat(F);R>-1&&R<F.children.length;){const V=F.children[R];if(A=f(V,R,z)(),A[0]===dp)return A;R=typeof A[1]=="number"?A[1]:R+u}}return _}}}function x7(t){return Array.isArray(t)?t:typeof t=="number"?[p7,t]:t==null?X_:[t]}function kg(t,e,n,s){let i,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,i=n):(o=e,u=n,i=s),K_(t,o,f,i);function f(m,p){const x=p[p.length-1],b=x?x.children.indexOf(m):void 0;return u(m,b,x)}}const fp={}.hasOwnProperty,y7={};function b7(t,e){const n=e||y7,s=new Map,i=new Map,o=new Map,u={...n7,...n.handlers},f={all:p,applyData:w7,definitionById:s,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:u,one:m,options:n,patch:v7,wrap:N7};return kg(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?s:i,w=String(x.identifier).toUpperCase();b.has(w)||b.set(w,x)}}),f;function m(x,b){const w=x.type,_=f.handlers[w];if(fp.call(f.handlers,w)&&_)return _(f,x,b);if(f.options.passThrough&&f.options.passThrough.includes(w)){if("children"in x){const{children:R,...z}=x,F=pf(z);return F.children=f.all(x),F}return pf(x)}return(f.options.unknownHandler||_7)(f,x,b)}function p(x){const b=[];if("children"in x){const w=x.children;let _=-1;for(;++_<w.length;){const A=f.one(w[_],x);if(A){if(_&&w[_-1].type==="break"&&(!Array.isArray(A)&&A.type==="text"&&(A.value=Zv(A.value)),!Array.isArray(A)&&A.type==="element")){const R=A.children[0];R&&R.type==="text"&&(R.value=Zv(R.value))}Array.isArray(A)?b.push(...A):b.push(A)}}}return b}}function v7(t,e){t.position&&(e.position=ok(t))}function w7(t,e){let n=e;if(t&&t.data){const s=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const u="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,pf(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function _7(t,e){const n=e.data||{},s="value"in e&&!(fp.call(n,"hProperties")||fp.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function N7(t,e){const n=[];let s=-1;for(e&&n.push({type:"text",value:`
`});++s<t.length;)s&&n.push({type:"text",value:`
`}),n.push(t[s]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Zv(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Jv(t,e){const n=b7(t,e),s=n.one(t,void 0),i=c7(n),o=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function E7(t,e){return t&&"run"in t?async function(n,s){const i=Jv(n,{file:s,...e});await t.run(i,s)}:function(n,s){return Jv(n,{file:s,...t||e})}}function Wv(t){if(t)throw t}var m0,e2;function T7(){if(e2)return m0;e2=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},o=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var x=t.call(p,"constructor"),b=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!b)return!1;var w;for(w in p);return typeof w>"u"||t.call(p,w)},u=function(p,x){n&&x.name==="__proto__"?n(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},f=function(p,x){if(x==="__proto__")if(t.call(p,x)){if(s)return s(p,x).value}else return;return p[x]};return m0=function m(){var p,x,b,w,_,A,R=arguments[0],z=1,F=arguments.length,V=!1;for(typeof R=="boolean"&&(V=R,R=arguments[1]||{},z=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});z<F;++z)if(p=arguments[z],p!=null)for(x in p)b=f(R,x),w=f(p,x),R!==w&&(V&&w&&(o(w)||(_=i(w)))?(_?(_=!1,A=b&&i(b)?b:[]):A=b&&o(b)?b:{},u(R,{name:x,newValue:m(V,A,w)})):typeof w<"u"&&u(R,{name:x,newValue:w}));return R},m0}var S7=T7();const p0=xf(S7);function hp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function A7(){const t=[],e={run:n,use:s};return e;function n(...i){let o=-1;const u=i.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...i);function f(m,...p){const x=t[++o];let b=-1;if(m){u(m);return}for(;++b<i.length;)(p[b]===null||p[b]===void 0)&&(p[b]=i[b]);i=p,x?j7(x,f)(...p):u(null,...p)}}function s(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function j7(t,e){let n;return s;function s(...u){const f=t.length>u.length;let m;f&&u.push(i);try{m=t.apply(this,u)}catch(p){const x=p;if(f&&n)throw x;return i(x)}f||(m&&m.then&&typeof m.then=="function"?m.then(o,i):m instanceof Error?i(m):o(m))}function i(u,...f){n||(n=!0,e(u,...f))}function o(u){i(null,u)}}const is={basename:k7,dirname:C7,extname:R7,join:D7,sep:"/"};function k7(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');lu(t);let n=0,s=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1);return s<0?"":t.slice(n,s)}if(e===t)return"";let u=-1,f=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else u<0&&(o=!0,u=i+1),f>-1&&(t.codePointAt(i)===e.codePointAt(f--)?f<0&&(s=i):(f=-1,s=u));return n===s?s=u:s<0&&(s=t.length),t.slice(n,s)}function C7(t){if(lu(t),t.length===0)return".";let e=-1,n=t.length,s;for(;--n;)if(t.codePointAt(n)===47){if(s){e=n;break}}else s||(s=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function R7(t){lu(t);let e=t.length,n=-1,s=0,i=-1,o=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){s=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===s+1?"":t.slice(i,n)}function D7(...t){let e=-1,n;for(;++e<t.length;)lu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":I7(n)}function I7(t){lu(t);const e=t.codePointAt(0)===47;let n=M7(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function M7(t,e){let n="",s=0,i=-1,o=0,u=-1,f,m;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(i===u-1||o===1))if(i!==u-1&&o===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",s=0):(n=n.slice(0,m),s=n.length-1-n.lastIndexOf("/")),i=u,o=0;continue}}else if(n.length>0){n="",s=0,i=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+t.slice(i+1,u):n=t.slice(i+1,u),s=u-i-1;i=u,o=0}else f===46&&o>-1?o++:o=-1}return n}function lu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const O7={cwd:V7};function V7(){return"/"}function mp(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function P7(t){if(typeof t=="string")t=new URL(t);else if(!mp(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return L7(t)}function L7(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const s=e.codePointAt(n+2);if(s===70||s===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const g0=["history","path","basename","stem","extname","dirname"];class Z_{constructor(e){let n;e?mp(e)?n={path:e}:typeof e=="string"||z7(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":O7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<g0.length;){const o=g0[s];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)g0.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?is.basename(this.path):void 0}set basename(e){y0(e,"basename"),x0(e,"basename"),this.path=is.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?is.dirname(this.path):void 0}set dirname(e){t2(this.basename,"dirname"),this.path=is.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?is.extname(this.path):void 0}set extname(e){if(x0(e,"extname"),t2(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=is.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){mp(e)&&(e=P7(e)),y0(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?is.basename(this.path,this.extname):void 0}set stem(e){y0(e,"stem"),x0(e,"stem"),this.path=is.join(this.dirname||"",e+(this.extname||""))}fail(e,n,s){const i=this.message(e,n,s);throw i.fatal=!0,i}info(e,n,s){const i=this.message(e,n,s);return i.fatal=void 0,i}message(e,n,s){const i=new On(e,n,s);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function x0(t,e){if(t&&t.includes(is.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+is.sep+"`")}function y0(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function t2(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function z7(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const U7=(function(t){const s=this.constructor.prototype,i=s[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,s),o}),B7={}.hasOwnProperty;class Cg extends U7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=A7()}copy(){const e=new Cg;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];e.use(...s)}return e.data(p0(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(w0("data",this.frozen),this.namespace[e]=n,this):B7.call(this.namespace,e)&&this.namespace[e]||void 0:e?(w0("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const i=n.call(e,...s);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Pd(e),s=this.parser||this.Parser;return b0("parse",s),s(String(n),n)}process(e,n){const s=this;return this.freeze(),b0("process",this.parser||this.Parser),v0("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,u){const f=Pd(e),m=s.parse(f);s.run(m,f,function(x,b,w){if(x||!b||!w)return p(x);const _=b,A=s.stringify(_,w);$7(A)?w.value=A:w.result=A,p(x,w)});function p(x,b){x||!b?u(x):o?o(b):n(void 0,b)}}}processSync(e){let n=!1,s;return this.freeze(),b0("processSync",this.parser||this.Parser),v0("processSync",this.compiler||this.Compiler),this.process(e,i),r2("processSync","process",n),s;function i(o,u){n=!0,Wv(o),s=u}}run(e,n,s){n2(e),this.freeze();const i=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?o(void 0,s):new Promise(o);function o(u,f){const m=Pd(n);i.run(e,m,p);function p(x,b,w){const _=b||e;x?f(x):u?u(_):s(void 0,_,w)}}}runSync(e,n){let s=!1,i;return this.run(e,n,o),r2("runSync","run",s),i;function o(u,f){Wv(u),i=f,s=!0}}stringify(e,n){this.freeze();const s=Pd(n),i=this.compiler||this.Compiler;return v0("stringify",i),n2(e),i(e,s)}use(e,...n){const s=this.attachers,i=this.namespace;if(w0("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(p){if(typeof p=="function")m(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[x,...b]=p;m(x,b)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(p.plugins),p.settings&&(i.settings=p0(!0,i.settings,p.settings))}function f(p){let x=-1;if(p!=null)if(Array.isArray(p))for(;++x<p.length;){const b=p[x];o(b)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function m(p,x){let b=-1,w=-1;for(;++b<s.length;)if(s[b][0]===p){w=b;break}if(w===-1)s.push([p,...x]);else if(x.length>0){let[_,...A]=x;const R=s[w][1];hp(R)&&hp(_)&&(_=p0(!0,R,_)),s[w]=[p,_,...A]}}}}const F7=new Cg().freeze();function b0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function v0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function w0(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function n2(t){if(!hp(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function r2(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Pd(t){return q7(t)?t:new Z_(t)}function q7(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function $7(t){return typeof t=="string"||H7(t)}function H7(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Y7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",s2=[],a2={allowDangerousHtml:!0},G7=/^(https?|ircs?|mailto|xmpp)$/i,Q7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function fo(t){const e=X7(t),n=K7(t);return Z7(e.runSync(e.parse(n),n),t)}function X7(t){const e=t.rehypePlugins||s2,n=t.remarkPlugins||s2,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...a2}:a2;return F7().use(C9).use(n).use(E7,s).use(e)}function K7(t){const e=t.children||"",n=new Z_;return typeof e=="string"&&(n.value=e),n}function Z7(t,e){const n=e.allowedElements,s=e.allowElement,i=e.components,o=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,m=e.urlTransform||J7;for(const x of Q7)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+Y7+x.id,void 0);return kg(t,p),hk(t,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function p(x,b,w){if(x.type==="raw"&&w&&typeof b=="number")return u?w.children.splice(b,1):w.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let _;for(_ in d0)if(Object.hasOwn(d0,_)&&Object.hasOwn(x.properties,_)){const A=x.properties[_],R=d0[_];(R===null||R.includes(x.tagName))&&(x.properties[_]=m(String(A||""),_,x))}}if(x.type==="element"){let _=n?!n.includes(x.tagName):o?o.includes(x.tagName):!1;if(!_&&s&&typeof b=="number"&&(_=!s(x,b,w)),_&&w&&typeof b=="number")return f&&x.children?w.children.splice(b,1,...x.children):w.children.splice(b,1),b}}}function J7(t){const e=t.indexOf(":"),n=t.indexOf("?"),s=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||s!==-1&&e>s||G7.test(t.slice(0,e))?t:""}function i2(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let s=0,i=n.indexOf(e);for(;i!==-1;)s++,i=n.indexOf(e,i+e.length);return s}function W7(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function eR(t,e,n){const i=$f((n||{}).ignore||[]),o=tR(e);let u=-1;for(;++u<o.length;)K_(t,"text",f);function f(p,x){let b=-1,w;for(;++b<x.length;){const _=x[b],A=w?w.children:void 0;if(i(_,A?A.indexOf(_):void 0,w))return;w=_}if(w)return m(p,x)}function m(p,x){const b=x[x.length-1],w=o[u][0],_=o[u][1];let A=0;const z=b.children.indexOf(p);let F=!1,V=[];w.lastIndex=0;let B=w.exec(p.value);for(;B;){const H=B.index,X={index:B.index,input:B.input,stack:[...x,p]};let L=_(...B,X);if(typeof L=="string"&&(L=L.length>0?{type:"text",value:L}:void 0),L===!1?w.lastIndex=H+1:(A!==H&&V.push({type:"text",value:p.value.slice(A,H)}),Array.isArray(L)?V.push(...L):L&&V.push(L),A=H+B[0].length,F=!0),!w.global)break;B=w.exec(p.value)}return F?(A<p.value.length&&V.push({type:"text",value:p.value.slice(A)}),b.children.splice(z,1,...V)):V=[p],z+V.length}}function tR(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let s=-1;for(;++s<n.length;){const i=n[s];e.push([nR(i[0]),rR(i[1])])}return e}function nR(t){return typeof t=="string"?new RegExp(W7(t),"g"):t}function rR(t){return typeof t=="function"?t:function(){return t}}const _0="phrasing",N0=["autolink","link","image","label"];function sR(){return{transforms:[dR],enter:{literalAutolink:iR,literalAutolinkEmail:E0,literalAutolinkHttp:E0,literalAutolinkWww:E0},exit:{literalAutolink:uR,literalAutolinkEmail:cR,literalAutolinkHttp:lR,literalAutolinkWww:oR}}}function aR(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:_0,notInConstruct:N0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:_0,notInConstruct:N0},{character:":",before:"[ps]",after:"\\/",inConstruct:_0,notInConstruct:N0}]}}function iR(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function E0(t){this.config.enter.autolinkProtocol.call(this,t)}function lR(t){this.config.exit.autolinkProtocol.call(this,t)}function oR(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function cR(t){this.config.exit.autolinkEmail.call(this,t)}function uR(t){this.exit(t)}function dR(t){eR(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,fR],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),hR]],{ignore:["link","linkReference"]})}function fR(t,e,n,s,i){let o="";if(!J_(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!mR(n)))return!1;const u=pR(n+s);if(!u[0])return!1;const f={type:"link",title:null,url:o+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[f,{type:"text",value:u[1]}]:f}function hR(t,e,n,s){return!J_(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function mR(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function pR(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],s=n.indexOf(")");const i=i2(t,"(");let o=i2(t,")");for(;s!==-1&&i>o;)t+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),o++;return[t,n]}function J_(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Ui(n)||Bf(n))&&(!e||n!==47)}W_.peek=ER;function gR(){this.buffer()}function xR(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function yR(){this.buffer()}function bR(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function vR(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Fr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function wR(t){this.exit(t)}function _R(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Fr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function NR(t){this.exit(t)}function ER(){return"["}function W_(t,e,n,s){const i=n.createTracker(s);let o=i.move("[^");const u=n.enter("footnoteReference"),f=n.enter("reference");return o+=i.move(n.safe(n.associationId(t),{after:"]",before:o})),f(),u(),o+=i.move("]"),o}function TR(){return{enter:{gfmFootnoteCallString:gR,gfmFootnoteCall:xR,gfmFootnoteDefinitionLabelString:yR,gfmFootnoteDefinition:bR},exit:{gfmFootnoteCallString:vR,gfmFootnoteCall:wR,gfmFootnoteDefinitionLabelString:_R,gfmFootnoteDefinition:NR}}}function SR(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:W_},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,i,o,u){const f=o.createTracker(u);let m=f.move("[^");const p=o.enter("footnoteDefinition"),x=o.enter("label");return m+=f.move(o.safe(o.associationId(s),{before:m,after:"]"})),x(),m+=f.move("]:"),s.children&&s.children.length>0&&(f.shift(4),m+=f.move((e?`
`:" ")+o.indentLines(o.containerFlow(s,f.current()),e?e4:AR))),p(),m}}function AR(t,e,n){return e===0?t:e4(t,e,n)}function e4(t,e,n){return(n?"":"    ")+t}const jR=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];t4.peek=IR;function kR(){return{canContainEols:["delete"],enter:{strikethrough:RR},exit:{strikethrough:DR}}}function CR(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:jR}],handlers:{delete:t4}}}function RR(t){this.enter({type:"delete",children:[]},t)}function DR(t){this.exit(t)}function t4(t,e,n,s){const i=n.createTracker(s),o=n.enter("strikethrough");let u=i.move("~~");return u+=n.containerPhrasing(t,{...i.current(),before:u,after:"~"}),u+=i.move("~~"),o(),u}function IR(){return"~"}function MR(t){return t.length}function OR(t,e){const n=e||{},s=(n.align||[]).concat(),i=n.stringLength||MR,o=[],u=[],f=[],m=[];let p=0,x=-1;for(;++x<t.length;){const R=[],z=[];let F=-1;for(t[x].length>p&&(p=t[x].length);++F<t[x].length;){const V=VR(t[x][F]);if(n.alignDelimiters!==!1){const B=i(V);z[F]=B,(m[F]===void 0||B>m[F])&&(m[F]=B)}R.push(V)}u[x]=R,f[x]=z}let b=-1;if(typeof s=="object"&&"length"in s)for(;++b<p;)o[b]=l2(s[b]);else{const R=l2(s);for(;++b<p;)o[b]=R}b=-1;const w=[],_=[];for(;++b<p;){const R=o[b];let z="",F="";R===99?(z=":",F=":"):R===108?z=":":R===114&&(F=":");let V=n.alignDelimiters===!1?1:Math.max(1,m[b]-z.length-F.length);const B=z+"-".repeat(V)+F;n.alignDelimiters!==!1&&(V=z.length+V+F.length,V>m[b]&&(m[b]=V),_[b]=V),w[b]=B}u.splice(1,0,w),f.splice(1,0,_),x=-1;const A=[];for(;++x<u.length;){const R=u[x],z=f[x];b=-1;const F=[];for(;++b<p;){const V=R[b]||"";let B="",H="";if(n.alignDelimiters!==!1){const X=m[b]-(z[b]||0),L=o[b];L===114?B=" ".repeat(X):L===99?X%2?(B=" ".repeat(X/2+.5),H=" ".repeat(X/2-.5)):(B=" ".repeat(X/2),H=B):H=" ".repeat(X)}n.delimiterStart!==!1&&!b&&F.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&V==="")&&(n.delimiterStart!==!1||b)&&F.push(" "),n.alignDelimiters!==!1&&F.push(B),F.push(V),n.alignDelimiters!==!1&&F.push(H),n.padding!==!1&&F.push(" "),(n.delimiterEnd!==!1||b!==p-1)&&F.push("|")}A.push(n.delimiterEnd===!1?F.join("").replace(/ +$/,""):F.join(""))}return A.join(`
`)}function VR(t){return t==null?"":String(t)}function l2(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function PR(t,e,n,s){const i=n.enter("blockquote"),o=n.createTracker(s);o.move("> "),o.shift(2);const u=n.indentLines(n.containerFlow(t,o.current()),LR);return i(),u}function LR(t,e,n){return">"+(n?"":" ")+t}function zR(t,e){return o2(t,e.inConstruct,!0)&&!o2(t,e.notInConstruct,!1)}function o2(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let s=-1;for(;++s<e.length;)if(t.includes(e[s]))return!0;return!1}function c2(t,e,n,s){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&zR(n.stack,n.unsafe[i]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function UR(t,e){const n=String(t);let s=n.indexOf(e),i=s,o=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===i?++o>u&&(u=o):o=1,i=s+e.length,s=n.indexOf(e,i);return u}function BR(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function FR(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function qR(t,e,n,s){const i=FR(n),o=t.value||"",u=i==="`"?"GraveAccent":"Tilde";if(BR(t,n)){const b=n.enter("codeIndented"),w=n.indentLines(o,$R);return b(),w}const f=n.createTracker(s),m=i.repeat(Math.max(UR(o,i)+1,3)),p=n.enter("codeFenced");let x=f.move(m);if(t.lang){const b=n.enter(`codeFencedLang${u}`);x+=f.move(n.safe(t.lang,{before:x,after:" ",encode:["`"],...f.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${u}`);x+=f.move(" "),x+=f.move(n.safe(t.meta,{before:x,after:`
`,encode:["`"],...f.current()})),b()}return x+=f.move(`
`),o&&(x+=f.move(o+`
`)),x+=f.move(m),p(),x}function $R(t,e,n){return(n?"":"    ")+t}function Rg(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function HR(t,e,n,s){const i=Rg(n),o=i==='"'?"Quote":"Apostrophe",u=n.enter("definition");let f=n.enter("label");const m=n.createTracker(s);let p=m.move("[");return p+=m.move(n.safe(n.associationId(t),{before:p,after:"]",...m.current()})),p+=m.move("]: "),f(),!t.url||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(f=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...m.current()}))),f(),t.title&&(f=n.enter(`title${o}`),p+=m.move(" "+i),p+=m.move(n.safe(t.title,{before:p,after:i,...m.current()})),p+=m.move(i),f()),u(),p}function YR(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Gc(t){return"&#x"+t.toString(16).toUpperCase()+";"}function gf(t,e,n){const s=to(t),i=to(e);return s===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}n4.peek=GR;function n4(t,e,n,s){const i=YR(n),o=n.enter("emphasis"),u=n.createTracker(s),f=u.move(i);let m=u.move(n.containerPhrasing(t,{after:i,before:f,...u.current()}));const p=m.charCodeAt(0),x=gf(s.before.charCodeAt(s.before.length-1),p,i);x.inside&&(m=Gc(p)+m.slice(1));const b=m.charCodeAt(m.length-1),w=gf(s.after.charCodeAt(0),b,i);w.inside&&(m=m.slice(0,-1)+Gc(b));const _=u.move(i);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:x.outside},f+m+_}function GR(t,e,n){return n.options.emphasis||"*"}function QR(t,e){let n=!1;return kg(t,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,dp}),!!((!t.depth||t.depth<3)&&_g(t)&&(e.options.setext||n))}function XR(t,e,n,s){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(s);if(QR(t,n)){const x=n.enter("headingSetext"),b=n.enter("phrasing"),w=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return b(),x(),w+`
`+(i===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}const u="#".repeat(i),f=n.enter("headingAtx"),m=n.enter("phrasing");o.move(u+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(p)&&(p=Gc(p.charCodeAt(0))+p.slice(1)),p=p?u+" "+p:u,n.options.closeAtx&&(p+=" "+u),m(),f(),p}r4.peek=KR;function r4(t){return t.value||""}function KR(){return"<"}s4.peek=ZR;function s4(t,e,n,s){const i=Rg(n),o=i==='"'?"Quote":"Apostrophe",u=n.enter("image");let f=n.enter("label");const m=n.createTracker(s);let p=m.move("![");return p+=m.move(n.safe(t.alt,{before:p,after:"]",...m.current()})),p+=m.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(f=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":")",...m.current()}))),f(),t.title&&(f=n.enter(`title${o}`),p+=m.move(" "+i),p+=m.move(n.safe(t.title,{before:p,after:i,...m.current()})),p+=m.move(i),f()),p+=m.move(")"),u(),p}function ZR(){return"!"}a4.peek=JR;function a4(t,e,n,s){const i=t.referenceType,o=n.enter("imageReference");let u=n.enter("label");const f=n.createTracker(s);let m=f.move("![");const p=n.safe(t.alt,{before:m,after:"]",...f.current()});m+=f.move(p+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...f.current()});return u(),n.stack=x,o(),i==="full"||!p||p!==b?m+=f.move(b+"]"):i==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function JR(){return"!"}i4.peek=WR;function i4(t,e,n){let s=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(s);)i+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++o<n.unsafe.length;){const u=n.unsafe[o],f=n.compilePattern(u);let m;if(u.atBreak)for(;m=f.exec(s);){let p=m.index;s.charCodeAt(p)===10&&s.charCodeAt(p-1)===13&&p--,s=s.slice(0,p)+" "+s.slice(m.index+1)}}return i+s+i}function WR(){return"`"}function l4(t,e){const n=_g(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}o4.peek=eD;function o4(t,e,n,s){const i=Rg(n),o=i==='"'?"Quote":"Apostrophe",u=n.createTracker(s);let f,m;if(l4(t,n)){const x=n.stack;n.stack=[],f=n.enter("autolink");let b=u.move("<");return b+=u.move(n.containerPhrasing(t,{before:b,after:">",...u.current()})),b+=u.move(">"),f(),n.stack=x,b}f=n.enter("link"),m=n.enter("label");let p=u.move("[");return p+=u.move(n.containerPhrasing(t,{before:p,after:"](",...u.current()})),p+=u.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),p+=u.move("<"),p+=u.move(n.safe(t.url,{before:p,after:">",...u.current()})),p+=u.move(">")):(m=n.enter("destinationRaw"),p+=u.move(n.safe(t.url,{before:p,after:t.title?" ":")",...u.current()}))),m(),t.title&&(m=n.enter(`title${o}`),p+=u.move(" "+i),p+=u.move(n.safe(t.title,{before:p,after:i,...u.current()})),p+=u.move(i),m()),p+=u.move(")"),f(),p}function eD(t,e,n){return l4(t,n)?"<":"["}c4.peek=tD;function c4(t,e,n,s){const i=t.referenceType,o=n.enter("linkReference");let u=n.enter("label");const f=n.createTracker(s);let m=f.move("[");const p=n.containerPhrasing(t,{before:m,after:"]",...f.current()});m+=f.move(p+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...f.current()});return u(),n.stack=x,o(),i==="full"||!p||p!==b?m+=f.move(b+"]"):i==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function tD(){return"["}function Dg(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function nD(t){const e=Dg(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function rD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function u4(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function sD(t,e,n,s){const i=n.enter("list"),o=n.bulletCurrent;let u=t.ordered?rD(n):Dg(n);const f=t.ordered?u==="."?")":".":nD(n);let m=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&x&&(!x.children||!x.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),u4(n)===u&&x){let b=-1;for(;++b<t.children.length;){const w=t.children[b];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=f),n.bulletCurrent=u;const p=n.containerFlow(t,s);return n.bulletLastUsed=u,n.bulletCurrent=o,i(),p}function aD(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function iD(t,e,n,s){const i=aD(n);let o=n.bulletCurrent||Dg(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let u=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const f=n.createTracker(s);f.move(o+" ".repeat(u-o.length)),f.shift(u);const m=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,f.current()),x);return m(),p;function x(b,w,_){return w?(_?"":" ".repeat(u))+b:(_?o:o+" ".repeat(u-o.length))+b}}function lD(t,e,n,s){const i=n.enter("paragraph"),o=n.enter("phrasing"),u=n.containerPhrasing(t,s);return o(),i(),u}const oD=$f(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cD(t,e,n,s){return(t.children.some(function(u){return oD(u)})?n.containerPhrasing:n.containerFlow).call(n,t,s)}function uD(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}d4.peek=dD;function d4(t,e,n,s){const i=uD(n),o=n.enter("strong"),u=n.createTracker(s),f=u.move(i+i);let m=u.move(n.containerPhrasing(t,{after:i,before:f,...u.current()}));const p=m.charCodeAt(0),x=gf(s.before.charCodeAt(s.before.length-1),p,i);x.inside&&(m=Gc(p)+m.slice(1));const b=m.charCodeAt(m.length-1),w=gf(s.after.charCodeAt(0),b,i);w.inside&&(m=m.slice(0,-1)+Gc(b));const _=u.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:x.outside},f+m+_}function dD(t,e,n){return n.options.strong||"*"}function fD(t,e,n,s){return n.safe(t.value,s)}function hD(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function mD(t,e,n){const s=(u4(n)+(n.options.ruleSpaces?" ":"")).repeat(hD(n));return n.options.ruleSpaces?s.slice(0,-1):s}const f4={blockquote:PR,break:c2,code:qR,definition:HR,emphasis:n4,hardBreak:c2,heading:XR,html:r4,image:s4,imageReference:a4,inlineCode:i4,link:o4,linkReference:c4,list:sD,listItem:iD,paragraph:lD,root:cD,strong:d4,text:fD,thematicBreak:mD};function pD(){return{enter:{table:gD,tableData:u2,tableHeader:u2,tableRow:yD},exit:{codeText:bD,table:xD,tableData:T0,tableHeader:T0,tableRow:T0}}}function gD(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function xD(t){this.exit(t),this.data.inTable=void 0}function yD(t){this.enter({type:"tableRow",children:[]},t)}function T0(t){this.exit(t)}function u2(t){this.enter({type:"tableCell",children:[]},t)}function bD(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,vD));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function vD(t,e){return e==="|"?e:t}function wD(t){const e=t||{},n=e.tableCellPadding,s=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:w,table:u,tableCell:m,tableRow:f}};function u(_,A,R,z){return p(x(_,R,z),_.align)}function f(_,A,R,z){const F=b(_,R,z),V=p([F]);return V.slice(0,V.indexOf(`
`))}function m(_,A,R,z){const F=R.enter("tableCell"),V=R.enter("phrasing"),B=R.containerPhrasing(_,{...z,before:o,after:o});return V(),F(),B}function p(_,A){return OR(_,{align:A,alignDelimiters:s,padding:n,stringLength:i})}function x(_,A,R){const z=_.children;let F=-1;const V=[],B=A.enter("table");for(;++F<z.length;)V[F]=b(z[F],A,R);return B(),V}function b(_,A,R){const z=_.children;let F=-1;const V=[],B=A.enter("tableRow");for(;++F<z.length;)V[F]=m(z[F],_,A,R);return B(),V}function w(_,A,R){let z=f4.inlineCode(_,A,R);return R.stack.includes("tableCell")&&(z=z.replace(/\|/g,"\\$&")),z}}function _D(){return{exit:{taskListCheckValueChecked:d2,taskListCheckValueUnchecked:d2,paragraph:ED}}}function ND(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:TD}}}function d2(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function ED(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const s=n.children[0];if(s&&s.type==="text"){const i=e.children;let o=-1,u;for(;++o<i.length;){const f=i[o];if(f.type==="paragraph"){u=f;break}}u===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(t)}function TD(t,e,n,s){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",f=n.createTracker(s);o&&f.move(u);let m=f4.listItem(t,e,n,{...s,...f.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),m;function p(x){return x+u}}function SD(){return[sR(),TR(),kR(),pD(),_D()]}function AD(t){return{extensions:[aR(),SR(t),CR(),wD(t),ND()]}}const jD={tokenize:MD,partial:!0},h4={tokenize:OD,partial:!0},m4={tokenize:VD,partial:!0},p4={tokenize:PD,partial:!0},kD={tokenize:LD,partial:!0},g4={name:"wwwAutolink",tokenize:DD,previous:y4},x4={name:"protocolAutolink",tokenize:ID,previous:b4},ta={name:"emailAutolink",tokenize:RD,previous:v4},bs={};function CD(){return{text:bs}}let Ci=48;for(;Ci<123;)bs[Ci]=ta,Ci++,Ci===58?Ci=65:Ci===91&&(Ci=97);bs[43]=ta;bs[45]=ta;bs[46]=ta;bs[95]=ta;bs[72]=[ta,x4];bs[104]=[ta,x4];bs[87]=[ta,g4];bs[119]=[ta,g4];function RD(t,e,n){const s=this;let i,o;return u;function u(b){return!pp(b)||!v4.call(s,s.previous)||Ig(s.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),f(b))}function f(b){return pp(b)?(t.consume(b),f):b===64?(t.consume(b),m):n(b)}function m(b){return b===46?t.check(kD,x,p)(b):b===45||b===95||Mn(b)?(o=!0,t.consume(b),m):x(b)}function p(b){return t.consume(b),i=!0,m}function x(b){return o&&i&&Bn(s.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(b)):n(b)}}function DD(t,e,n){const s=this;return i;function i(u){return u!==87&&u!==119||!y4.call(s,s.previous)||Ig(s.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(jD,t.attempt(h4,t.attempt(m4,o),n),n)(u))}function o(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function ID(t,e,n){const s=this;let i="",o=!1;return u;function u(b){return(b===72||b===104)&&b4.call(s,s.previous)&&!Ig(s.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(b),t.consume(b),f):n(b)}function f(b){if(Bn(b)&&i.length<5)return i+=String.fromCodePoint(b),t.consume(b),f;if(b===58){const w=i.toLowerCase();if(w==="http"||w==="https")return t.consume(b),m}return n(b)}function m(b){return b===47?(t.consume(b),o?p:(o=!0,m)):n(b)}function p(b){return b===null||hf(b)||_t(b)||Ui(b)||Bf(b)?n(b):t.attempt(h4,t.attempt(m4,x),n)(b)}function x(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(b)}}function MD(t,e,n){let s=0;return i;function i(u){return(u===87||u===119)&&s<3?(s++,t.consume(u),i):u===46&&s===3?(t.consume(u),o):n(u)}function o(u){return u===null?n(u):e(u)}}function OD(t,e,n){let s,i,o;return u;function u(p){return p===46||p===95?t.check(p4,m,f)(p):p===null||_t(p)||Ui(p)||p!==45&&Bf(p)?m(p):(o=!0,t.consume(p),u)}function f(p){return p===95?s=!0:(i=s,s=void 0),t.consume(p),u}function m(p){return i||s||!o?n(p):e(p)}}function VD(t,e){let n=0,s=0;return i;function i(u){return u===40?(n++,t.consume(u),i):u===41&&s<n?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(p4,e,o)(u):u===null||_t(u)||Ui(u)?e(u):(t.consume(u),i)}function o(u){return u===41&&s++,t.consume(u),i}}function PD(t,e,n){return s;function s(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(t.consume(f),s):f===38?(t.consume(f),o):f===93?(t.consume(f),i):f===60||f===null||_t(f)||Ui(f)?e(f):n(f)}function i(f){return f===null||f===40||f===91||_t(f)||Ui(f)?e(f):s(f)}function o(f){return Bn(f)?u(f):n(f)}function u(f){return f===59?(t.consume(f),s):Bn(f)?(t.consume(f),u):n(f)}}function LD(t,e,n){return s;function s(o){return t.consume(o),i}function i(o){return Mn(o)?n(o):e(o)}}function y4(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||_t(t)}function b4(t){return!Bn(t)}function v4(t){return!(t===47||pp(t))}function pp(t){return t===43||t===45||t===46||t===95||Mn(t)}function Ig(t){let e=t.length,n=!1;for(;e--;){const s=t[e][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const zD={tokenize:GD,partial:!0};function UD(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:$D,continuation:{tokenize:HD},exit:YD}},text:{91:{name:"gfmFootnoteCall",tokenize:qD},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:BD,resolveTo:FD}}}}function BD(t,e,n){const s=this;let i=s.events.length;const o=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let u;for(;i--;){const m=s.events[i][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return f;function f(m){if(!u||!u._balanced)return n(m);const p=Fr(s.sliceSerialize({start:u.end,end:s.now()}));return p.codePointAt(0)!==94||!o.includes(p.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function FD(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},f=[t[n+1],t[n+2],["enter",s,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",u,e],["exit",u,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",s,e]];return t.splice(n,t.length-n+1,...f),t}function qD(t,e,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o=0,u;return f;function f(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),m}function m(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",p)}function p(b){if(o>999||b===93&&!u||b===null||b===91||_t(b))return n(b);if(b===93){t.exit("chunkString");const w=t.exit("gfmFootnoteCallString");return i.includes(Fr(s.sliceSerialize(w)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(b)}return _t(b)||(u=!0),o++,t.consume(b),b===92?x:p}function x(b){return b===91||b===92||b===93?(t.consume(b),o++,p):p(b)}}function $D(t,e,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o,u=0,f;return m;function m(A){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(A),t.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(A){return A===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(A),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):n(A)}function x(A){if(u>999||A===93&&!f||A===null||A===91||_t(A))return n(A);if(A===93){t.exit("chunkString");const R=t.exit("gfmFootnoteDefinitionLabelString");return o=Fr(s.sliceSerialize(R)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(A),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),w}return _t(A)||(f=!0),u++,t.consume(A),A===92?b:x}function b(A){return A===91||A===92||A===93?(t.consume(A),u++,x):x(A)}function w(A){return A===58?(t.enter("definitionMarker"),t.consume(A),t.exit("definitionMarker"),i.includes(o)||i.push(o),at(t,_,"gfmFootnoteDefinitionWhitespace")):n(A)}function _(A){return e(A)}}function HD(t,e,n){return t.check(iu,e,t.attempt(zD,e,n))}function YD(t){t.exit("gfmFootnoteDefinition")}function GD(t,e,n){const s=this;return at(t,i,"gfmFootnoteDefinitionIndent",5);function i(o){const u=s.events[s.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(o):n(o)}}function QD(t){let n=(t||{}).singleTilde;const s={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function i(u,f){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let p=m;for(;p--;)if(u[p][0]==="exit"&&u[p][1].type==="strikethroughSequenceTemporary"&&u[p][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[p][1].end.offset-u[p][1].start.offset){u[m][1].type="strikethroughSequence",u[p][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},u[p][1].start),end:Object.assign({},u[m][1].end)},b={type:"strikethroughText",start:Object.assign({},u[p][1].end),end:Object.assign({},u[m][1].start)},w=[["enter",x,f],["enter",u[p][1],f],["exit",u[p][1],f],["enter",b,f]],_=f.parser.constructs.insideSpan.null;_&&dr(w,w.length,0,Ff(_,u.slice(p+1,m),f)),dr(w,w.length,0,[["exit",b,f],["enter",u[m][1],f],["exit",u[m][1],f],["exit",x,f]]),dr(u,p-1,m-p+3,w),m=p+w.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function o(u,f,m){const p=this.previous,x=this.events;let b=0;return w;function w(A){return p===126&&x[x.length-1][1].type!=="characterEscape"?m(A):(u.enter("strikethroughSequenceTemporary"),_(A))}function _(A){const R=to(p);if(A===126)return b>1?m(A):(u.consume(A),b++,_);if(b<2&&!n)return m(A);const z=u.exit("strikethroughSequenceTemporary"),F=to(A);return z._open=!F||F===2&&!!R,z._close=!R||R===2&&!!F,f(A)}}}class XD{constructor(){this.map=[]}add(e,n,s){KD(this,e,n,s)}consume(e){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];s.push(e.slice()),e.length=0;let i=s.pop();for(;i;){for(const o of i)e.push(o);i=s.pop()}this.map.length=0}}function KD(t,e,n,s){let i=0;if(!(n===0&&s.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...s);return}i+=1}t.map.push([e,n,s])}}function ZD(t,e){let n=!1;const s=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&s.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=s.length-1;s[o]=s[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return s}function JD(){return{flow:{null:{name:"table",tokenize:WD,resolveAll:e8}}}}function WD(t,e,n){const s=this;let i=0,o=0,u;return f;function f(k){let P=s.events.length-1;for(;P>-1;){const se=s.events[P][1].type;if(se==="lineEnding"||se==="linePrefix")P--;else break}const O=P>-1?s.events[P][1].type:null,C=O==="tableHead"||O==="tableRow"?L:m;return C===L&&s.parser.lazy[s.now().line]?n(k):C(k)}function m(k){return t.enter("tableHead"),t.enter("tableRow"),p(k)}function p(k){return k===124||(u=!0,o+=1),x(k)}function x(k){return k===null?n(k):Me(k)?o>1?(o=0,s.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),_):n(k):Ke(k)?at(t,x,"whitespace")(k):(o+=1,u&&(u=!1,i+=1),k===124?(t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),u=!0,x):(t.enter("data"),b(k)))}function b(k){return k===null||k===124||_t(k)?(t.exit("data"),x(k)):(t.consume(k),k===92?w:b)}function w(k){return k===92||k===124?(t.consume(k),b):b(k)}function _(k){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(k):(t.enter("tableDelimiterRow"),u=!1,Ke(k)?at(t,A,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):A(k))}function A(k){return k===45||k===58?z(k):k===124?(u=!0,t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),R):X(k)}function R(k){return Ke(k)?at(t,z,"whitespace")(k):z(k)}function z(k){return k===58?(o+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(k),t.exit("tableDelimiterMarker"),F):k===45?(o+=1,F(k)):k===null||Me(k)?H(k):X(k)}function F(k){return k===45?(t.enter("tableDelimiterFiller"),V(k)):X(k)}function V(k){return k===45?(t.consume(k),V):k===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(k),t.exit("tableDelimiterMarker"),B):(t.exit("tableDelimiterFiller"),B(k))}function B(k){return Ke(k)?at(t,H,"whitespace")(k):H(k)}function H(k){return k===124?A(k):k===null||Me(k)?!u||i!==o?X(k):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(k)):X(k)}function X(k){return n(k)}function L(k){return t.enter("tableRow"),I(k)}function I(k){return k===124?(t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),I):k===null||Me(k)?(t.exit("tableRow"),e(k)):Ke(k)?at(t,I,"whitespace")(k):(t.enter("data"),j(k))}function j(k){return k===null||k===124||_t(k)?(t.exit("data"),I(k)):(t.consume(k),k===92?D:j)}function D(k){return k===92||k===124?(t.consume(k),j):j(k)}}function e8(t,e){let n=-1,s=!0,i=0,o=[0,0,0,0],u=[0,0,0,0],f=!1,m=0,p,x,b;const w=new XD;for(;++n<t.length;){const _=t[n],A=_[1];_[0]==="enter"?A.type==="tableHead"?(f=!1,m!==0&&(f2(w,e,m,p,x),x=void 0,m=0),p={type:"table",start:Object.assign({},A.start),end:Object.assign({},A.end)},w.add(n,0,[["enter",p,e]])):A.type==="tableRow"||A.type==="tableDelimiterRow"?(s=!0,b=void 0,o=[0,0,0,0],u=[0,n+1,0,0],f&&(f=!1,x={type:"tableBody",start:Object.assign({},A.start),end:Object.assign({},A.end)},w.add(n,0,[["enter",x,e]])),i=A.type==="tableDelimiterRow"?2:x?3:1):i&&(A.type==="data"||A.type==="tableDelimiterMarker"||A.type==="tableDelimiterFiller")?(s=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],b=Ld(w,e,o,i,void 0,b),o=[0,0,0,0]),u[2]=n)):A.type==="tableCellDivider"&&(s?s=!1:(o[1]!==0&&(u[0]=u[1],b=Ld(w,e,o,i,void 0,b)),o=u,u=[o[1],n,0,0])):A.type==="tableHead"?(f=!0,m=n):A.type==="tableRow"||A.type==="tableDelimiterRow"?(m=n,o[1]!==0?(u[0]=u[1],b=Ld(w,e,o,i,n,b)):u[1]!==0&&(b=Ld(w,e,u,i,n,b)),i=0):i&&(A.type==="data"||A.type==="tableDelimiterMarker"||A.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&f2(w,e,m,p,x),w.consume(e.events),n=-1;++n<e.events.length;){const _=e.events[n];_[0]==="enter"&&_[1].type==="table"&&(_[1]._align=ZD(e.events,n))}return t}function Ld(t,e,n,s,i,o){const u=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(o.end=Object.assign({},ql(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const m=ql(e.events,n[1]);if(o={type:u,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const p=ql(e.events,n[2]),x=ql(e.events,n[3]),b={type:f,start:Object.assign({},p),end:Object.assign({},x)};if(t.add(n[2],0,[["enter",b,e]]),s!==2){const w=e.events[n[2]],_=e.events[n[3]];if(w[1].end=Object.assign({},_[1].end),w[1].type="chunkText",w[1].contentType="text",n[3]>n[2]+1){const A=n[2]+1,R=n[3]-n[2]-1;t.add(A,R,[])}}t.add(n[3]+1,0,[["exit",b,e]])}return i!==void 0&&(o.end=Object.assign({},ql(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function f2(t,e,n,s,i){const o=[],u=ql(e.events,n);i&&(i.end=Object.assign({},u),o.push(["exit",i,e])),s.end=Object.assign({},u),o.push(["exit",s,e]),t.add(n+1,0,o)}function ql(t,e){const n=t[e],s=n[0]==="enter"?"start":"end";return n[1][s]}const t8={name:"tasklistCheck",tokenize:r8};function n8(){return{text:{91:t8}}}function r8(t,e,n){const s=this;return i;function i(m){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),o)}function o(m){return _t(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),f):n(m)}function f(m){return Me(m)?e(m):Ke(m)?t.check({tokenize:s8},e,n)(m):n(m)}}function s8(t,e,n){return at(t,s,"whitespace");function s(i){return i===null?n(i):e(i)}}function a8(t){return R_([CD(),UD(),QD(t),JD(),n8()])}const i8={};function ho(t){const e=this,n=t||i8,s=e.data(),i=s.micromarkExtensions||(s.micromarkExtensions=[]),o=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),u=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);i.push(a8(n)),o.push(SD()),u.push(AD(n))}function l8({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,canManageNotices:i,onDelete:o,onManagePermissions:u,onEdit:f,onTogglePin:m}){const[p,x]=G.useState(!1),[b,w]=G.useState(t.content),_=i,A=i,R=i,z=L=>L?(L.toDate?L.toDate():new Date(L)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",F=()=>t.createdByRoll==="2405225"?"admin":"co-leader",V=()=>{w(t.content),x(!0)},B=()=>{x(!1),w(t.content)},H=async()=>{if(!b.trim()){alert("Please enter content for the notice");return}await f(t.id,{content:b.trim()})&&x(!1)},X=F();return p?c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Notice"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:H,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[c.jsx(ea,{className:"w-4 h-4"}),"Save"]}),c.jsxs("button",{onClick:B,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[c.jsx(an,{className:"w-4 h-4"}),"Cancel"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notice Content (Markdown supported)"}),c.jsx("textarea",{value:b,onChange:L=>w(L.target.value),rows:6,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:`Enter your notice content here. You can use Markdown formatting:\r
\r
**Bold text**\r
*Italic text*\r
[Link text](https://example.com)\r
- List item\r
> Quote\r
\`code\``})]}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:c.jsxs("p",{className:"text-sm text-blue-700",children:[c.jsx("strong",{children:"Tip:"})," Use Markdown formatting for rich text. Links will automatically open in new tabs."]})})]}):c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100 hover:shadow-xl transition-all",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[c.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-xl sm:rounded-2xl flex items-center justify-center shrink-0",children:c.jsx(Gs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("h3",{className:"font-bold text-gray-900 text-sm sm:text-base truncate",children:"Notice"}),c.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-sm text-gray-600",children:[c.jsx(Br,{className:"w-3 h-3 shrink-0"}),c.jsxs("span",{className:"truncate",children:["By ",t.createdBy]}),X==="admin"&&c.jsx(Cr,{className:"w-3 h-3 text-yellow-500 shrink-0",title:"Admin"}),X==="co-leader"&&t.createdByRoll!=="2405225"&&c.jsx(Nn,{className:"w-3 h-3 text-purple-500 shrink-0",title:"Co-Leader"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[c.jsx("div",{className:"flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full bg-gray-100",children:t.isPublic?c.jsxs(c.Fragment,{children:[c.jsx(Ep,{className:"w-2.5 h-2.5 text-green-600"}),c.jsx("span",{className:"text-green-700",children:"Public"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Xt,{className:"w-2.5 h-2.5 text-blue-600"}),c.jsxs("span",{className:"text-blue-700",children:[t.allowedUsers?.length||0," users"]})]})}),t.isPinned&&c.jsxs("div",{className:"flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full bg-orange-100 text-orange-700 border border-orange-200",children:[c.jsx(A0,{className:"w-2.5 h-2.5 fill-orange-700"}),c.jsx("span",{className:"font-medium",children:"Pinned"})]}),c.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500",children:[c.jsx(cs,{className:"w-3 h-3"}),c.jsx("span",{children:z(t.createdAt)})]}),c.jsxs("div",{className:"flex items-center gap-0.5 ml-auto sm:ml-0",children:[A&&c.jsx("button",{onClick:V,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Notice",children:c.jsx(Fi,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),R&&c.jsx("button",{onClick:u,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:c.jsx(La,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),i&&c.jsx("button",{onClick:m,className:`p-1.5 sm:p-2 rounded-lg transition-colors ${t.isPinned?"text-orange-600 hover:bg-orange-100":"text-gray-400 hover:bg-gray-100 hover:text-orange-600"}`,title:t.isPinned?"Unpin Notice":"Pin Notice",children:t.isPinned?c.jsx(L5,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):c.jsx(A0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),_&&c.jsx("button",{onClick:()=>o(t.id),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Notice",children:c.jsx(ps,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]}),c.jsx("div",{className:"prose prose-sm max-w-none",children:c.jsx(fo,{remarkPlugins:[ho],components:{a:({href:L,children:I})=>c.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:I}),p:({children:L})=>c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:L}),h1:({children:L})=>c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:L}),h2:({children:L})=>c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:L}),h3:({children:L})=>c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:L}),ul:({children:L})=>c.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-3 space-y-1",children:L}),ol:({children:L})=>c.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-3 space-y-1",children:L}),li:({children:L})=>c.jsx("li",{className:"text-gray-700",children:L}),blockquote:({children:L})=>c.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 text-gray-700 italic mb-3",children:L}),code:({children:L,className:I})=>I?c.jsx("code",{className:"block bg-gray-100 text-gray-800 p-3 rounded text-sm font-mono whitespace-pre-wrap mb-3",children:L}):c.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:L}),strong:({children:L})=>c.jsx("strong",{className:"font-bold text-gray-900",children:L}),em:({children:L})=>c.jsx("em",{className:"italic text-gray-700",children:L})},children:t.content})}),i&&!t.isPublic&&t.allowedUsers?.length>0&&c.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:c.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[c.jsx(gs,{className:"w-4 h-4"}),c.jsxs("span",{children:["Visible to: ",t.allowedUsers.length," selected students"]})]})})]})}function o8({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:i,canManageNotices:o,onDelete:u,onManagePermissions:f,onToggleItem:m,onEdit:p}){const[x,b]=G.useState(!1),[w,_]=G.useState(t.content),[A,R]=G.useState(t.meta.items||[]),[z,F]=G.useState(t.meta.isAnonymous||!1),[V,B]=G.useState(null),H=o,X=o,L=o,I=t.meta.isAnonymous||!1,j=E=>E?(E.toDate?E.toDate():new Date(E)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",D=E=>{const Y=n.find(ue=>ue.rollNo===E);return Y?Y.name:E},k=E=>{if(I)return[];const Y=t.meta.items[E];return!Y.completedBy||Y.completedBy.length===0?[]:Y.completedBy.map(ue=>D(ue))},P=E=>{const Y=t.meta.items[E];return I?Y.anonymousCompletions||0:Y.completedBy?.length||0},O=E=>{if(I)return((t.meta.userCompletions||{})[e]||[]).includes(E);{const Y=t.meta.items[E];return Y.completedBy&&Y.completedBy.includes(e)}},C=()=>{const E=t.meta.items?.length||0;let Y=0;for(let ue=0;ue<E;ue++)O(ue)&&Y++;return{totalItems:E,completedItems:Y}},se=E=>{I||B(V===E?null:E)},ye=()=>{_(t.content),R([...t.meta.items]),F(t.meta.isAnonymous||!1),b(!0)},Q=()=>{b(!1),_(t.content),R([...t.meta.items]),F(t.meta.isAnonymous||!1)},fe=async()=>{if(!w.trim()){alert("Please enter content for the checklist");return}if(A.length===0||A.every(Y=>!Y.text.trim())){alert("Please add at least one checklist item");return}await p(t.id,{content:w.trim(),meta:{...t.meta,items:A.filter(Y=>Y.text.trim()),isAnonymous:z}})&&b(!1)},ee=()=>{R([...A,{text:"",completedBy:[],anonymousCompletions:0}])},ve=(E,Y)=>{const ue=[...A];ue[E]={...ue[E],text:Y},R(ue)},T=E=>{if(A.length<=1){alert("Checklist must have at least 1 item");return}R(A.filter((Y,ue)=>ue!==E))},{totalItems:re,completedItems:J}=C();return x?c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Checklist"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:fe,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[c.jsx(ea,{className:"w-4 h-4"}),"Save"]}),c.jsxs("button",{onClick:Q,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[c.jsx(an,{className:"w-4 h-4"}),"Cancel"]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Description (Markdown supported)"}),c.jsx("textarea",{value:w,onChange:E=>_(E.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 font-mono text-sm",placeholder:"Enter checklist description. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous completion:"}),c.jsxs("button",{type:"button",onClick:()=>F(!z),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${z?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[z?c.jsx(Pa,{className:"w-4 h-4"}):c.jsx(Pi,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium",children:z?"Anonymous":"Show names"})]})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Items"}),A.map((E,Y)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:E.text,onChange:ue=>ve(Y,ue.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:`Item ${Y+1}`}),A.length>1&&c.jsx("button",{onClick:()=>T(Y),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:c.jsx(an,{className:"w-4 h-4"})})]},Y)),c.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-4 py-2 text-green-600 hover:bg-green-100 rounded-xl transition-colors",children:[c.jsx(os,{className:"w-4 h-4"}),"Add Item"]})]})]}):c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100 hover:shadow-xl transition-all",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[c.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-xl sm:rounded-2xl flex items-center justify-center shrink-0",children:c.jsx(Tp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center flex-wrap gap-1.5 sm:gap-2",children:[c.jsx("h3",{className:"font-bold text-gray-900 text-sm sm:text-base",children:"Checklist"}),I&&c.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-700 px-1.5 py-0.5 rounded-full font-medium",children:"Anon"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-sm text-gray-600",children:[c.jsx(Br,{className:"w-3 h-3 shrink-0"}),c.jsxs("span",{className:"truncate",children:["By ",t.createdBy]}),c.jsx("span",{children:""}),c.jsxs("span",{className:"whitespace-nowrap",children:[J,"/",re," done"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500",children:[c.jsx(cs,{className:"w-3 h-3"}),c.jsx("span",{children:j(t.createdAt)})]}),c.jsxs("div",{className:"flex items-center gap-0.5 ml-auto sm:ml-0",children:[X&&c.jsx("button",{onClick:ye,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Checklist",children:c.jsx(Fi,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),L&&c.jsx("button",{onClick:f,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:c.jsx(La,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),H&&c.jsx("button",{onClick:()=>u(t.id),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Checklist",children:c.jsx(ps,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]}),c.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:c.jsx(fo,{remarkPlugins:[ho],components:{a:({href:E,children:Y})=>c.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:Y}),p:({children:E})=>c.jsx("p",{className:"text-gray-700 leading-relaxed",children:E}),strong:({children:E})=>c.jsx("strong",{className:"font-bold text-gray-900",children:E}),em:({children:E})=>c.jsx("em",{className:"italic",children:E}),ul:({children:E})=>c.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:E}),ol:({children:E})=>c.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:E}),code:({children:E,className:Y})=>Y?c.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:E}):c.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:E})},children:t.content})}),c.jsx("div",{className:"space-y-3",children:t.meta.items?.map((E,Y)=>{const ue=O(Y),ae=k(Y),be=P(Y);return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:`
                  flex items-center justify-between p-2.5 sm:p-3 rounded-xl border-2 transition-all cursor-pointer
                  ${ue?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 hover:border-green-300"}
                `,onClick:()=>m(Y),children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[c.jsx("div",{className:`
                    w-5 h-5 sm:w-6 sm:h-6 rounded-lg border-2 flex items-center justify-center shrink-0
                    ${ue?"bg-green-500 border-green-500 text-white":"border-gray-300"}
                  `,children:ue&&c.jsx(no,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),c.jsx("span",{className:`text-sm sm:text-base truncate ${ue?"text-green-700 font-medium":"text-gray-700"}`,children:E.text})]}),be>0&&c.jsx("span",{className:"text-[10px] bg-gray-200 text-gray-600 px-1.5 py-0.5 rounded-full shrink-0 ml-2",children:be})]}),!I&&ae.length>0&&c.jsxs("div",{className:"ml-9",children:[c.jsxs("button",{onClick:()=>se(Y),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-800 transition-colors",children:[c.jsx(gs,{className:"w-4 h-4"}),c.jsxs("span",{children:[ae.length," completed by"]}),V===Y?c.jsx(Np,{className:"w-4 h-4"}):c.jsx(yf,{className:"w-4 h-4"})]}),V===Y&&c.jsx("div",{className:"mt-2 p-3 bg-green-50 rounded-lg border border-green-200",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:ae.map((Te,it)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:Te},it))})})]}),I&&be>0&&c.jsx("div",{className:"ml-9",children:c.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[c.jsx(Pa,{className:"w-4 h-4"}),c.jsxs("span",{children:[be," anonymous completion",be>1?"s":""]})]})})]},Y)})})]})}function c8({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:i,canManageNotices:o,onDelete:u,onManagePermissions:f,onVote:m,onEdit:p}){const[x,b]=G.useState([]),[w,_]=G.useState(!1),[A,R]=G.useState(t.content),[z,F]=G.useState(t.meta.options||[]),[V,B]=G.useState(t.meta.allowMultiple||!1),[H,X]=G.useState(t.meta.isAnonymous||!1),[L,I]=G.useState(null),j=o,D=o,k=o,P=t.meta.isAnonymous||!1;G.useEffect(()=>{if(t?.meta?.options)if(P){const be=(t.meta.userVotes||{})[e]||[];b(be)}else{const ae=[];t.meta.options.forEach((be,Te)=>{be.votes&&be.votes.includes(e)&&ae.push(Te)}),b(ae)}},[t,e,P]);const O=ae=>ae?(ae.toDate?ae.toDate():new Date(ae)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",C=()=>P?t.meta.options?.reduce((ae,be)=>ae+(be.anonymousVotes||0),0)||0:t.meta.options?.reduce((ae,be)=>ae+(be.votes?.length||0),0)||0,se=ae=>{const be=t.meta.options[ae];return P?be.anonymousVotes||0:be.votes?.length||0},ye=ae=>{const be=n.find(Te=>Te.rollNo===ae);return be?be.name:ae},Q=ae=>{if(P)return[];const be=t.meta.options[ae];return!be.votes||be.votes.length===0?[]:be.votes.map(Te=>ye(Te))},fe=ae=>{let be;t.meta.allowMultiple?x.includes(ae)?be=x.filter(Te=>Te!==ae):be=[...x,ae]:be=x.includes(ae)?[]:[ae],b(be),m(be,e)},ee=ae=>{P||I(L===ae?null:ae)},ve=()=>{R(t.content),F([...t.meta.options]),B(t.meta.allowMultiple||!1),X(t.meta.isAnonymous||!1),_(!0)},T=()=>{_(!1),R(t.content),F([...t.meta.options]),B(t.meta.allowMultiple||!1),X(t.meta.isAnonymous||!1)},re=async()=>{if(!A.trim()){alert("Please enter a question");return}if(z.length<2||z.some(be=>!be.text.trim())){alert("Please add at least 2 options with text");return}await p(t.id,{content:A.trim(),meta:{...t.meta,options:z,allowMultiple:V,isAnonymous:H}})&&_(!1)},J=()=>{F([...z,{text:"",votes:[],anonymousVotes:0}])},E=(ae,be)=>{const Te=[...z];Te[ae]={...Te[ae],text:be},F(Te)},Y=ae=>{if(z.length<=2){alert("Poll must have at least 2 options");return}F(z.filter((be,Te)=>Te!==ae))},ue=C();return w?c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Poll"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:re,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[c.jsx(ea,{className:"w-4 h-4"}),"Save"]}),c.jsxs("button",{onClick:T,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[c.jsx(an,{className:"w-4 h-4"}),"Cancel"]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Poll Question (Markdown supported)"}),c.jsx("textarea",{value:A,onChange:ae=>R(ae.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter your poll question. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Multiple selections:"}),c.jsxs("button",{type:"button",onClick:()=>B(!V),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${V?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[V?c.jsx(C0,{className:"w-4 h-4"}):c.jsx(k0,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium",children:V?"Enabled":"Disabled"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous voting:"}),c.jsxs("button",{type:"button",onClick:()=>X(!H),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${H?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[H?c.jsx(Pa,{className:"w-4 h-4"}):c.jsx(Pi,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium",children:H?"Anonymous":"Show names"})]})]})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[z.map((ae,be)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:ae.text,onChange:Te=>E(be,Te.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Option ${be+1}`}),z.length>2&&c.jsx("button",{onClick:()=>Y(be),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:c.jsx(an,{className:"w-4 h-4"})})]},be)),c.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[c.jsx(os,{className:"w-4 h-4"}),"Add Option"]})]})]}):c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100 hover:shadow-xl transition-all",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[c.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-purple-100 rounded-xl sm:rounded-2xl flex items-center justify-center shrink-0",children:c.jsx(wp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center flex-wrap gap-1.5 sm:gap-2",children:[c.jsx("h3",{className:"font-bold text-gray-900 text-sm sm:text-base",children:"Poll"}),t.meta.allowMultiple&&c.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded-full font-medium",children:"Multi"}),P&&c.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-700 px-1.5 py-0.5 rounded-full font-medium",children:"Anon"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-sm text-gray-600",children:[c.jsx(Br,{className:"w-3 h-3 shrink-0"}),c.jsxs("span",{className:"truncate",children:["By ",t.createdBy]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[ue," votes"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500",children:[c.jsx(cs,{className:"w-3 h-3"}),c.jsx("span",{children:O(t.createdAt)})]}),c.jsxs("div",{className:"flex items-center gap-0.5 ml-auto sm:ml-0",children:[D&&c.jsx("button",{onClick:ve,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Poll",children:c.jsx(Fi,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),k&&c.jsx("button",{onClick:f,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:c.jsx(La,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),j&&c.jsx("button",{onClick:()=>u(t.id),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Poll",children:c.jsx(ps,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]}),c.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:c.jsx(fo,{remarkPlugins:[ho],components:{a:({href:ae,children:be})=>c.jsx("a",{href:ae,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:be}),p:({children:ae})=>c.jsx("p",{className:"text-gray-700 leading-relaxed font-medium",children:ae}),strong:({children:ae})=>c.jsx("strong",{className:"font-bold text-gray-900",children:ae}),em:({children:ae})=>c.jsx("em",{className:"italic",children:ae}),code:({children:ae,className:be})=>be?c.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:ae}):c.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:ae})},children:t.content})}),c.jsx("div",{className:"space-y-3",children:t.meta.options?.map((ae,be)=>{const Te=se(be),it=ue>0?Te/ue*100:0,ot=x.includes(be),ft=Q(be);return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{onClick:()=>fe(be),className:`
                  w-full p-2.5 sm:p-3 rounded-xl border-2 transition-all text-left
                  ${ot?"bg-purple-50 border-purple-300":"bg-gray-50 border-gray-200 hover:border-purple-300"}
                `,children:[c.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2 text-sm sm:text-base",children:[c.jsx("span",{className:`font-medium ${ot?"text-purple-700":"text-gray-700"} truncate mr-2`,children:ae.text}),c.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 shrink-0",children:[Te," (",it.toFixed(0),"%)"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 sm:h-2",children:c.jsx("div",{className:`h-1.5 sm:h-2 rounded-full transition-all ${ot?"bg-purple-500":"bg-gray-400"}`,style:{width:`${it}%`}})})]}),!P&&ft.length>0&&c.jsxs("div",{className:"ml-4",children:[c.jsxs("button",{onClick:()=>ee(be),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-800 transition-colors",children:[c.jsx(gs,{className:"w-4 h-4"}),c.jsxs("span",{children:[ft.length," voter",ft.length>1?"s":""]}),L===be?c.jsx(Np,{className:"w-4 h-4"}):c.jsx(yf,{className:"w-4 h-4"})]}),L===be&&c.jsx("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:ft.map((Vn,pn)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:Vn},pn))})})]}),P&&Te>0&&c.jsx("div",{className:"ml-4",children:c.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[c.jsx(Pa,{className:"w-4 h-4"}),c.jsxs("span",{children:[Te," anonymous vote",Te>1?"s":""]})]})})]},be)})}),x.length>0&&c.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:c.jsx("div",{className:"text-sm text-purple-700 text-center",children:t.meta.allowMultiple?c.jsxs(c.Fragment,{children:["You voted for: ",c.jsxs("strong",{children:[x.length," option",x.length>1?"s":""]})]}):c.jsxs(c.Fragment,{children:["You voted for: ",c.jsx("strong",{children:t.meta.options[x[0]]?.text})]})})})]})}function u8({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,canManageNotices:i,onDelete:o,onManagePermissions:u,onEdit:f}){const[m,p]=G.useState(!1),[x,b]=G.useState(t.content),[w,_]=G.useState(t.meta.reminderDate),A=i,R=i,z=i,F=I=>I?(I.toDate?I.toDate():new Date(I)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",V=I=>I?new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",B=()=>t.meta.reminderDate?new Date(t.meta.reminderDate)<new Date:!1,H=()=>{b(t.content),_(t.meta.reminderDate),p(!0)},X=()=>{p(!1),b(t.content),_(t.meta.reminderDate)},L=async()=>{if(!x.trim()){alert("Please enter content for the reminder");return}if(!w){alert("Please set a reminder date");return}await f(t.id,{content:x.trim(),meta:{...t.meta,reminderDate:w}})&&p(!1)};return m?c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Reminder"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:L,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[c.jsx(ea,{className:"w-4 h-4"}),"Save"]}),c.jsxs("button",{onClick:X,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[c.jsx(an,{className:"w-4 h-4"}),"Cancel"]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Content (Markdown supported)"}),c.jsx("textarea",{value:x,onChange:I=>b(I.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 font-mono text-sm",placeholder:"Enter reminder content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Date & Time"}),c.jsx("input",{type:"datetime-local",value:w,onChange:I=>_(I.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}):c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center shrink-0 ${B()?"bg-red-100":"bg-orange-100"}`,children:c.jsx(Ic,{className:`w-5 h-5 ${B()?"text-red-600":"text-orange-600"}`})}),c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Reminder"}),B()&&c.jsx("span",{className:"text-[10px] sm:text-xs bg-red-100 text-red-700 px-2 py-0.5 sm:py-1 rounded-full whitespace-nowrap",children:"Past Due"})]}),c.jsx("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-gray-600 mt-0.5",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Br,{className:"w-3 h-3"}),c.jsxs("span",{className:"truncate max-w-[120px] sm:max-w-none",children:["By ",t.createdBy]})]})})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 w-full sm:w-auto pt-2 sm:pt-0 border-t sm:border-t-0 border-gray-50",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-full",children:[c.jsx(cs,{className:"w-3 h-3"}),c.jsx("span",{children:F(t.createdAt)})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[R&&c.jsx("button",{onClick:H,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Reminder",children:c.jsx(Fi,{className:"w-4 h-4"})}),z&&c.jsx("button",{onClick:u,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:c.jsx(La,{className:"w-4 h-4"})}),A&&c.jsx("button",{onClick:()=>o(t.id),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Reminder",children:c.jsx(ps,{className:"w-4 h-4"})})]})]})]}),c.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:c.jsx(fo,{remarkPlugins:[ho],components:{a:({href:I,children:j})=>c.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:j}),p:({children:I})=>c.jsx("p",{className:"text-gray-700 leading-relaxed",children:I}),strong:({children:I})=>c.jsx("strong",{className:"font-bold text-gray-900",children:I}),em:({children:I})=>c.jsx("em",{className:"italic",children:I}),ul:({children:I})=>c.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:I}),ol:({children:I})=>c.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:I}),code:({children:I,className:j})=>j?c.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:I}):c.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:I})},children:t.content})}),c.jsx("div",{className:`p-4 rounded-xl border-2 ${B()?"bg-red-50 border-red-200 shadow-sm":"bg-orange-50 border-orange-200"}`,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ic,{className:`w-4 h-4 ${B()?"text-red-600":"text-orange-600"}`}),c.jsx("span",{className:`text-sm font-medium ${B()?"text-red-700":"text-orange-700"}`,children:B()?"Was due:":"Reminder set for:"})]}),c.jsx("span",{className:`text-sm font-bold ${B()?"text-red-800":"text-orange-800"} sm:ml-auto`,children:V(t.meta.reminderDate)})]})})]})}function d8({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:i,canManageNotices:o,onDelete:u,onManagePermissions:f,onToggle:m,onEdit:p}){const[x,b]=G.useState(!1),[w,_]=G.useState(t.content),[A,R]=G.useState(t.meta.dueDate),z=o,F=o,V=o,B=C=>C?(C.toDate?C.toDate():new Date(C)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",H=C=>C?new Date(C).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",X=C=>{const se=n.find(ye=>ye.rollNo===C);return se?se.name:C},L=t.meta.completedBy&&t.meta.completedBy.includes(e),I=t.meta.completedBy?.length||0,j=t.meta.completedBy?.map(C=>X(C))||[],D=()=>t.meta.dueDate?new Date(t.meta.dueDate)<new Date:!1,k=()=>{_(t.content),R(t.meta.dueDate),b(!0)},P=()=>{b(!1),_(t.content),R(t.meta.dueDate)},O=async()=>{if(!w.trim()){alert("Please enter content for the todo");return}if(!A){alert("Please set a due date");return}await p(t.id,{content:w.trim(),meta:{...t.meta,dueDate:A}})&&b(!1)};return x?c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Todo"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:O,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[c.jsx(ea,{className:"w-4 h-4"}),"Save"]}),c.jsxs("button",{onClick:P,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[c.jsx(an,{className:"w-4 h-4"}),"Cancel"]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Todo Content (Markdown supported)"}),c.jsx("textarea",{value:w,onChange:C=>_(C.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Enter todo content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date & Time"}),c.jsx("input",{type:"datetime-local",value:A,onChange:C=>R(C.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}):c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center shrink-0 ${L?"bg-green-100":D()?"bg-red-100":"bg-indigo-100"}`,children:c.jsx(kr,{className:`w-5 h-5 ${L?"text-green-600":D()?"text-red-600":"text-indigo-600"}`})}),c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Todo"}),L&&c.jsx("span",{className:"text-[10px] sm:text-xs bg-green-100 text-green-700 px-2 py-0.5 sm:py-1 rounded-full whitespace-nowrap",children:"Completed"}),!L&&D()&&c.jsx("span",{className:"text-[10px] sm:text-xs bg-red-100 text-red-700 px-2 py-0.5 sm:py-1 rounded-full whitespace-nowrap",children:"Past Due"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-gray-600 mt-0.5",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Br,{className:"w-3 h-3"}),c.jsxs("span",{className:"truncate max-w-[100px] sm:max-w-none",children:["By ",t.createdBy]})]}),c.jsx("span",{className:"hidden sm:inline",children:""}),c.jsxs("span",{className:"text-gray-400",children:[I," completed"]})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 w-full sm:w-auto pt-2 sm:pt-0 border-t sm:border-t-0 border-gray-50",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-full",children:[c.jsx(cs,{className:"w-3 h-3"}),c.jsx("span",{children:B(t.createdAt)})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[F&&c.jsx("button",{onClick:k,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Todo",children:c.jsx(Fi,{className:"w-4 h-4"})}),V&&c.jsx("button",{onClick:f,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:c.jsx(La,{className:"w-4 h-4"})}),z&&c.jsx("button",{onClick:()=>u(t.id),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Todo",children:c.jsx(ps,{className:"w-4 h-4"})})]})]})]}),c.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:c.jsx(fo,{remarkPlugins:[ho],components:{a:({href:C,children:se})=>c.jsx("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:se}),h1:({children:C})=>c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:C}),h2:({children:C})=>c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:C}),h3:({children:C})=>c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:C}),p:({children:C})=>c.jsx("p",{className:"text-gray-700 leading-relaxed",children:C}),strong:({children:C})=>c.jsx("strong",{className:"font-bold text-gray-900",children:C}),em:({children:C})=>c.jsx("em",{className:"italic",children:C}),ul:({children:C})=>c.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:C}),ol:({children:C})=>c.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:C}),code:({children:C,className:se})=>se?c.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:C}):c.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:C})},children:t.content})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:m,className:`
            w-full flex items-center justify-center gap-3 p-3 rounded-xl border-2 transition-all
            ${L?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 hover:border-indigo-300 text-gray-700"}
          `,children:[c.jsx("div",{className:`
            w-6 h-6 rounded-lg border-2 flex items-center justify-center
            ${L?"bg-green-500 border-green-500 text-white":"border-gray-300"}
          `,children:L&&c.jsx(no,{className:"w-4 h-4"})}),c.jsx("span",{className:"font-medium",children:L?"Mark as Incomplete":"Mark as Complete"})]}),c.jsx("div",{className:`p-4 rounded-xl border-2 ${D()&&!L?"bg-red-50 border-red-200 shadow-sm":L?"bg-green-50 border-green-200":"bg-indigo-50 border-indigo-200"}`,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(kr,{className:`w-4 h-4 ${D()&&!L?"text-red-600":L?"text-green-600":"text-indigo-600"}`}),c.jsx("span",{className:`text-sm font-medium ${D()&&!L?"text-red-700":L?"text-green-700":"text-indigo-700"}`,children:D()&&!L?"Was due:":"Target Date:"})]}),c.jsx("span",{className:`text-sm font-bold ${D()&&!L?"text-red-800":L?"text-green-800":"text-indigo-800"} sm:ml-auto`,children:H(t.meta.dueDate)})]})}),j.length>0&&c.jsxs("div",{className:"p-3 bg-green-50 rounded-xl border border-green-200",children:[c.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"Completed by:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((C,se)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:C},se))})]})]})]})}function f8({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,onDelete:i,onRequestEdit:o}){const u=t.meta.assessments||[{subject:t.meta.subject,assessmentName:t.meta.assessmentName,assessmentType:t.meta.assessmentType,date:t.meta.date}],f=p=>{const x=p?.toLowerCase()||"";return x.includes("ca")?"bg-orange-100 text-orange-700 border-orange-200":x.includes("sem")?"bg-red-100 text-red-700 border-red-200":x.includes("quiz")?"bg-blue-100 text-blue-700 border-blue-200":x.includes("assign")?"bg-green-100 text-green-700 border-green-200":"bg-purple-100 text-purple-700 border-purple-200"},m=u.length>0?f(u[0].assessmentType):"bg-purple-100 text-purple-700 border-purple-200";return c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:`px-4 py-2 border-b flex justify-between items-center ${m.replace(/-100/,"-50").replace(/-700/,"-900")}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full uppercase border ${m}`,children:"Assessment"}),c.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Posted by ",t.createdBy]})]}),(n||s&&t.createdByRoll===e)&&c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>o(t),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:c.jsx(V5,{className:"w-3.5 h-3.5"})}),c.jsx("button",{onClick:()=>i(t.id),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:c.jsx(ps,{className:"w-3.5 h-3.5"})})]})]}),c.jsxs("div",{className:"p-0",children:[u.map((p,x)=>{const b=new Date(p.date),w=b.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_=b.toLocaleDateString("en-US",{weekday:"long"}),A=b.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),R=f(p.assessmentType);return c.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 divide-y md:divide-y-0 md:divide-x border-b border-gray-100 ${x>0?"border-t":""}`,children:[c.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center bg-gray-50/50",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[c.jsx(Gd,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Subject"})]}),c.jsx("div",{className:"font-bold text-gray-900 text-lg leading-tight",children:p.subject})]}),c.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[c.jsx(e5,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Assessment"})]}),c.jsx("div",{className:"font-bold text-gray-900 leading-tight",children:p.assessmentName}),c.jsx("div",{className:`mt-1 inline-flex text-xs font-bold px-2 py-0.5 rounded-md w-fit ${R}`,children:p.assessmentType})]}),c.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center bg-gray-50/50",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[c.jsx(kr,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Date"})]}),c.jsx("div",{className:"font-bold text-gray-900 text-lg",children:w}),c.jsx("div",{className:"text-sm font-medium text-blue-600",children:_})]}),c.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[c.jsx(cs,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Time"})]}),c.jsx("div",{className:"font-bold text-gray-900 text-lg",children:A})]})]},x)}),t.content&&c.jsx("div",{className:"p-4 bg-yellow-50/30",children:c.jsxs("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:[c.jsx("span",{className:"font-semibold text-gray-900",children:"Note: "}),t.content]})})]})]})}function h8({onSubmit:t,onCancel:e,isLoading:n,students:s,initialData:i=null,semester:o=5}){const[u,f]=G.useState(i?.type||"notice"),[m,p]=G.useState(i?.content||""),[x,b]=G.useState(i?.meta||{}),[w,_]=G.useState(i?i.isPublic:!0),[A,R]=G.useState(i?.allowedUsers||[]),[z,F]=G.useState(()=>{if(i?.deleteAt)return(i.deleteAt.toDate?i.deleteAt.toDate():new Date(i.deleteAt)).toISOString().slice(0,16);const E=new Date;return E.setFullYear(E.getFullYear()+1),E.toISOString().slice(0,16)}),[V,B]=G.useState(i?!!i.deleteAt:!0),H=!!i,X=[{id:"notice",label:"Simple Notice",icon:Gs,description:"Basic announcement or information"},{id:"checklist",label:"Checklist",icon:Tp,description:"List of items to be checked off"},{id:"poll",label:"Poll",icon:wp,description:"Survey with voting options"},{id:"reminder",label:"Reminder",icon:Ic,description:"Time-based reminder notification"},{id:"todo",label:"Todo",icon:kr,description:"Task with due date and completion tracking"},{id:"assessment",label:"Assessment",icon:Xs,description:"Exam or assignment schedule"}],L=s.filter(E=>E.rollNo!==Pe.rollNo),I=E=>{if(!(H&&E!==i.type&&!window.confirm("Changing notice type will reset specific fields. Continue?"))){if(f(E),H&&E===i.type){b(i.meta);return}switch(b({}),E){case"checklist":b({items:[{text:""}],isAnonymous:!1});break;case"poll":b({options:[{text:""},{text:""}],allowMultiple:!1,isAnonymous:!1});break;case"reminder":b({reminderDate:""});break;case"todo":b({dueDate:"",completedBy:[],practicalSubject:"",labNumber:[]});break;case"assessment":b({assessments:[{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]});break;default:b({})}}};u==="assessment"&&!x.assessments&&(x.subject||x.assessmentName)?b({...x,assessments:[{subject:x.subject||"",assessmentName:x.assessmentName||"",assessmentType:x.assessmentType||"CA-1",date:x.date||""}]}):u==="assessment"&&!x.assessments&&b({...x,assessments:[{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]});const j=E=>{A.includes(E)?R(A.filter(Y=>Y!==E)):R([...A,E])},D=()=>{A.length===L.length?R([]):R(L.map(E=>E.rollNo))},k=E=>{if(E.preventDefault(),u!=="assessment"&&!m.trim()){alert("Please enter content for the notice");return}if(!w&&A.length===0){alert("Please select users or make the notice public");return}if(u==="checklist"&&(!x.items||x.items.length===0||x.items.every(Y=>!Y.text.trim()))){alert("Please add at least one checklist item");return}if(u==="poll"&&(!x.options||x.options.length<2||x.options.some(Y=>!Y.text.trim()))){alert("Please add at least 2 poll options with text");return}if(u==="reminder"&&!x.reminderDate){alert("Please set a reminder date");return}if(u==="todo"&&!x.dueDate){alert("Please set a due date for the todo");return}if(u==="assessment"){const Y=x.assessments?.filter(ue=>ue.subject&&ue.date);if(!Y||Y.length===0){alert("Please add at least one complete assessment (Subject, Date)");return}x.assessments=Y}t({id:i?.id,type:u,content:m.trim(),meta:x,allowedUsers:w?[]:A,isPublic:w,deleteAt:V?new Date(z):null})},P=()=>{b({...x,items:[...x.items||[],{text:""}]})},O=(E,Y)=>{const ue=[...x.items];ue[E]={...ue[E],text:Y},b({...x,items:ue})},C=E=>{const Y=x.items.filter((ue,ae)=>ae!==E);b({...x,items:Y})},se=()=>{b({...x,options:[...x.options||[],{text:"",votes:[]}]})},ye=(E,Y)=>{const ue=[...x.options];ue[E]={...ue[E],text:Y},b({...x,options:ue})},Q=E=>{if(x.options.length<=2){alert("Poll must have at least 2 options");return}const Y=x.options.filter((ue,ae)=>ae!==E);b({...x,options:Y})},fe=()=>{b({...x,allowMultiple:!x.allowMultiple})},ee=()=>{b({...x,isAnonymous:!x.isAnonymous})},ve=()=>{b({...x,isAnonymous:!x.isAnonymous})},T=()=>{b({...x,assessments:[...x.assessments||[],{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]})},re=(E,Y,ue)=>{const ae=[...x.assessments||[]];ae[E]={...ae[E],[Y]:ue},b({...x,assessments:ae})},J=E=>{const Y=(x.assessments||[]).filter((ue,ae)=>ae!==E);b({...x,assessments:Y})};return c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 border border-gray-100 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:H?"Edit Notice":"Create New Notice"}),c.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(an,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:k,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Notice Type"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:X.map(E=>c.jsxs("button",{type:"button",onClick:()=>I(E.id),className:`
                  p-4 rounded-xl border-2 transition-all text-left
                  ${u===E.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}
                `,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(E.icon,{className:`w-5 h-5 ${u===E.id?"text-blue-600":"text-gray-600"}`}),c.jsx("span",{className:"font-medium text-gray-900",children:E.label})]}),c.jsx("p",{className:"text-xs text-gray-600",children:E.description})]},E.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:u==="poll"?"Poll Question":"Content"}),c.jsx("textarea",{value:m,onChange:E=>p(E.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:u==="poll"?"What question would you like to ask?":u==="reminder"?"What should people be reminded about?":u==="todo"?"What task needs to be completed?":u==="assessment"?"Any additional notes (syllabus, venue, etc.)?":"Enter your notice content...",required:u!=="assessment"})]}),u==="checklist"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Checklist Items"}),c.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous completion:"}),c.jsxs("button",{type:"button",onClick:ve,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${x.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[x.isAnonymous?c.jsx(Pa,{className:"w-4 h-4"}):c.jsx(Pi,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium",children:x.isAnonymous?"Anonymous":"Show names"})]})]}),c.jsxs("div",{className:"space-y-2",children:[x.items?.map((E,Y)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:E.text,onChange:ue=>O(Y,ue.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Item ${Y+1}`}),x.items.length>1&&c.jsx("button",{type:"button",onClick:()=>C(Y),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:c.jsx(ps,{className:"w-4 h-4"})})]},Y)),c.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[c.jsx(os,{className:"w-4 h-4"}),"Add Item"]})]})]}),u==="poll"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Poll Options"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Multiple selections:"}),c.jsxs("button",{type:"button",onClick:fe,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${x.allowMultiple?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[x.allowMultiple?c.jsx(C0,{className:"w-4 h-4"}):c.jsx(k0,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium",children:x.allowMultiple?"Multi-select":"Single choice"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous voting:"}),c.jsxs("button",{type:"button",onClick:ee,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${x.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[x.isAnonymous?c.jsx(Pa,{className:"w-4 h-4"}):c.jsx(Pi,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium",children:x.isAnonymous?"Anonymous":"Show names"})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[x.options?.map((E,Y)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:E.text,onChange:ue=>ye(Y,ue.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Option ${Y+1}`}),x.options.length>2&&c.jsx("button",{type:"button",onClick:()=>Q(Y),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:c.jsx(ps,{className:"w-4 h-4"})})]},Y)),c.jsxs("button",{type:"button",onClick:se,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[c.jsx(os,{className:"w-4 h-4"}),"Add Option"]})]})]}),u==="reminder"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reminder Date & Time"}),c.jsx("input",{type:"datetime-local",value:x.reminderDate,onChange:E=>b({...x,reminderDate:E.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u==="todo"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Due Date & Time"}),c.jsx("input",{type:"datetime-local",value:x.dueDate,onChange:E=>b({...x,dueDate:E.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[c.jsx("label",{className:"block text-sm font-semibold text-green-800 mb-3",children:" Link to Practical Lab (Optional)"}),c.jsx("p",{className:"text-xs text-green-600 mb-3",children:"If this TODO is for a practical lab, select the subject and lab number. When students mark this as complete, the lab will auto-mark in their Practical tab."}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Practical Subject"}),c.jsxs("select",{value:x.practicalSubject||"",onChange:E=>b({...x,practicalSubject:E.target.value,labNumber:[]}),className:"w-full p-2 border border-gray-200 rounded-lg text-sm bg-white",children:[c.jsx("option",{value:"",children:"-- Select Subject --"}),Ys[o]?.practical?.map(E=>c.jsx("option",{value:E,children:E},E))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Lab Number"}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:Array.from({length:10},(E,Y)=>Y+1).map(E=>{const Y=Array.isArray(x.labNumber)?x.labNumber.includes(E.toString())||x.labNumber.includes(E):x.labNumber==E;return c.jsx("button",{type:"button",onClick:()=>{const ue=Array.isArray(x.labNumber)?[...x.labNumber]:x.labNumber?[x.labNumber]:[],ae=E.toString();let be;ue.some(Te=>Te.toString()===ae)?be=ue.filter(Te=>Te.toString()!==ae):be=[...ue,E],b({...x,labNumber:be})},disabled:!x.practicalSubject,className:`
                            p-2 rounded-lg text-xs font-medium border transition-all
                            ${x.practicalSubject?Y?"bg-green-100 border-green-500 text-green-700":"bg-white border-gray-200 text-gray-600 hover:bg-green-50 hover:border-green-300":"opacity-50 cursor-not-allowed bg-gray-100 text-gray-400 border-gray-200"}
                          `,children:E},E)})})]})]})]})]}),u==="assessment"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assessments"}),x.assessments?.map((E,Y)=>c.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200 relative",children:[x.assessments.length>1&&c.jsx("button",{type:"button",onClick:()=>J(Y),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 transition-colors",children:c.jsx(an,{className:"w-4 h-4"})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsx("div",{children:c.jsx("input",{type:"text",value:E.subject,onChange:ue=>re(Y,"subject",ue.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm",placeholder:"Subject (e.g. Mathematics)"})}),c.jsx("div",{children:c.jsx("input",{type:"text",value:E.assessmentName,onChange:ue=>re(Y,"assessmentName",ue.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm",placeholder:"Exam Name (e.g. Unit Test)"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx("div",{children:c.jsxs("select",{value:E.assessmentType,onChange:ue=>re(Y,"assessmentType",ue.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm bg-white",children:[c.jsx("option",{value:"CA-1",children:"CA-1"}),c.jsx("option",{value:"CA-2",children:"CA-2"}),c.jsx("option",{value:"CA-3",children:"CA-3"}),c.jsx("option",{value:"CA-4",children:"CA-4"}),c.jsx("option",{value:"Mid-Sem",children:"Mid-Sem"}),c.jsx("option",{value:"End-Sem",children:"End-Sem"})]})}),c.jsx("div",{children:c.jsx("input",{type:"datetime-local",value:E.date,onChange:ue=>re(Y,"date",ue.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm"})})]})]},Y)),c.jsxs("button",{type:"button",onClick:T,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-xl text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-all flex items-center justify-center gap-2",children:[c.jsx(os,{className:"w-4 h-4"}),"Add Assessment Row"]})]}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Who can see this notice?"}),c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"visibility",checked:w,onChange:()=>_(!0),className:"w-4 h-4 text-blue-600"}),c.jsx(Ep,{className:"w-4 h-4 text-green-600"}),c.jsx("span",{className:"text-sm font-medium",children:"Public (Everyone can see)"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"visibility",checked:!w,onChange:()=>_(!1),className:"w-4 h-4 text-blue-600"}),c.jsx(Xt,{className:"w-4 h-4 text-blue-600"}),c.jsx("span",{className:"text-sm font-medium",children:"Private (Selected users only)"})]})]})}),!w&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select Students:"}),c.jsx("button",{type:"button",onClick:D,className:"text-sm text-blue-600 hover:text-blue-700",children:A.length===L.length?"Deselect All":"Select All"})]}),c.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:L.map(E=>c.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:A.includes(E.rollNo),onChange:()=>j(E.rollNo),className:"w-4 h-4 text-blue-600"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(gs,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:E.name}),c.jsxs("span",{className:"text-xs text-gray-500",children:["(",E.rollNo,")"]})]})]},E.rollNo))}),A.length>0&&c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[A.length," student",A.length>1?"s":""," selected"]})]})]}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[c.jsx(cs,{className:"w-4 h-4 text-orange-500"}),"Auto-delete Notice"]}),c.jsxs("button",{type:"button",onClick:()=>B(!V),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${V?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[V?c.jsx(C0,{className:"w-4 h-4"}):c.jsx(k0,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium",children:V?"Enabled":"Disabled"})]})]}),V&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"This notice will be automatically deleted at the specified time. Default is set to 1 year from now."}),c.jsx("input",{type:"datetime-local",value:z,onChange:E=>F(E.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"submit",disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n?c.jsxs(c.Fragment,{children:[c.jsx(mn,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{children:H?"Save Changes":"Create Notice"})]}):c.jsxs(c.Fragment,{children:[c.jsx(os,{className:"w-4 h-4"}),c.jsx("span",{children:H?"Save Changes":"Create Notice"})]})}),c.jsx("button",{type:"button",onClick:e,disabled:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function m8({notice:t,students:e,onUpdate:n,onCancel:s}){const[i,o]=G.useState(t.isPublic||!1),[u,f]=G.useState(t.allowedUsers||[]),[m,p]=G.useState(!1),x=e.filter(A=>A.rollNo!==Pe.rollNo);G.useEffect(()=>{o(t.isPublic||!1),f(t.allowedUsers||[])},[t]);const b=A=>{u.includes(A)?f(u.filter(R=>R!==A)):f([...u,A])},w=()=>{u.length===x.length?f([]):f(x.map(A=>A.rollNo))},_=async A=>{if(A.preventDefault(),!i&&u.length===0){alert("Please select users or make the notice public");return}p(!0);try{await n(i?[]:u,i)}finally{p(!1)}};return c.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Permissions"}),c.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(an,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[c.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["Notice: ",t.type]}),c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.content})]}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Visibility Settings"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[c.jsx("input",{type:"radio",name:"visibility",checked:i,onChange:()=>o(!0),className:"w-4 h-4 text-blue-600"}),c.jsx(Ep,{className:"w-4 h-4 text-green-600"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Public"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Everyone can see this notice"})]})]}),c.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[c.jsx("input",{type:"radio",name:"visibility",checked:!i,onChange:()=>o(!1),className:"w-4 h-4 text-blue-600"}),c.jsx(Xt,{className:"w-4 h-4 text-blue-600"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Private"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Only selected users can see"})]})]})]})]}),!i&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Select Students:"}),c.jsx("button",{type:"button",onClick:w,className:"text-sm text-blue-600 hover:text-blue-700",children:u.length===x.length?"Deselect All":"Select All"})]}),c.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:x.map(A=>c.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:u.includes(A.rollNo),onChange:()=>b(A.rollNo),className:"w-4 h-4 text-blue-600"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(gs,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:A.name}),c.jsxs("span",{className:"text-xs text-gray-500",children:["(",A.rollNo,")"]})]})]},A.rollNo))}),u.length>0&&c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[u.length," student",u.length>1?"s":""," selected"]})]}),c.jsx("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-200",children:c.jsxs("p",{className:"text-sm text-blue-700",children:[c.jsx("strong",{children:"Current:"})," ",t.isPublic?"Public":`Private (${t.allowedUsers?.length||0} users)`]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"submit",disabled:m,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 font-medium",children:m?c.jsxs(c.Fragment,{children:[c.jsx(mn,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{children:"Saving..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(ea,{className:"w-4 h-4"}),c.jsx("span",{children:"Update"})]})}),c.jsx("button",{type:"button",onClick:s,disabled:m,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function p8({notices:t,onSave:e,onCancel:n,isLoading:s}){const[i,o]=G.useState([]);G.useEffect(()=>{o([...t])},[t]);const u=(m,p)=>{const x=[...i],b=m+p;b>=0&&b<x.length&&([x[m],x[b]]=[x[b],x[m]],o(x))},f=()=>{const m=i.map(p=>p.id);e(m)};return c.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl flex flex-col max-h-[85vh]",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reorder Notices"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Adjust the display order of notices"})]}),c.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(an,{className:"w-6 h-6 text-gray-400"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:i.map((m,p)=>c.jsxs("div",{className:`
              flex items-center gap-4 p-4 rounded-xl border border-gray-200 bg-white
              hover:border-blue-300 hover:shadow-sm transition-all
              ${p===0?"bg-blue-50/50 border-blue-200":""}
            `,children:[c.jsx("div",{className:`p-2 rounded-lg ${p===0?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:c.jsx("span",{className:"font-mono font-bold w-4 text-center block",children:p+1})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full uppercase ${m.type==="notice"?"bg-blue-100 text-blue-700":m.type==="checklist"?"bg-purple-100 text-purple-700":m.type==="poll"?"bg-orange-100 text-orange-700":m.type==="todo"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:m.type}),c.jsx("span",{className:"text-xs text-gray-500",children:new Date(m.createdAt?.toDate?.()||m.createdAt).toLocaleDateString()})]}),c.jsx("p",{className:"text-gray-900 font-medium truncate",children:m.content})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("button",{onClick:()=>u(p,-1),disabled:p===0,className:"p-1.5 hover:bg-gray-100 rounded-lg text-gray-500 disabled:opacity-30 disabled:hover:bg-transparent",title:"Move Up",children:c.jsx(vE,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>u(p,1),disabled:p===i.length-1,className:"p-1.5 hover:bg-gray-100 rounded-lg text-gray-500 disabled:opacity-30 disabled:hover:bg-transparent",title:"Move Down",children:c.jsx(gE,{className:"w-4 h-4"})})]})]},m.id))}),c.jsxs("div",{className:"p-6 border-t border-gray-100 flex justify-end gap-3 bg-gray-50 rounded-b-2xl",children:[c.jsx("button",{onClick:n,className:"px-5 py-2.5 text-gray-700 font-medium hover:bg-white hover:shadow-sm rounded-xl transition-all",children:"Cancel"}),c.jsx("button",{onClick:f,disabled:s,className:"px-5 py-2.5 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:s?c.jsxs(c.Fragment,{children:[c.jsx(mn,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ea,{className:"w-4 h-4"}),"Save Order"]})})]})]})}function g8({pinnedNotices:t,onNoticeClick:e}){const[n,s]=G.useState(()=>typeof window<"u"?window.innerWidth<640:!1);return!t||t.length===0?null:c.jsx("div",{className:`fixed right-2 sm:right-4 top-[160px] sm:top-24 z-20 transition-all duration-300 ease-in-out ${n?"w-10 sm:w-12":"w-64"}`,children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-orange-100 overflow-hidden",children:[c.jsxs("div",{className:"bg-orange-50 p-3 flex items-center justify-between cursor-pointer border-b border-orange-100",onClick:()=>s(!n),children:[c.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[c.jsx(A0,{className:"w-4 h-4 text-orange-600 flex-shrink-0"}),!n&&c.jsx("span",{className:"font-bold text-orange-800 text-sm whitespace-nowrap",children:"Pinned Board"})]}),c.jsx("button",{className:"text-orange-400 hover:text-orange-600",children:n?c.jsx(y2,{className:"w-4 h-4"}):c.jsx(_p,{className:"w-4 h-4"})})]}),!n&&c.jsx("div",{className:"max-h-[60vh] overflow-y-auto p-2 space-y-2 custom-scrollbar",children:t.map(i=>c.jsx("div",{onClick:()=>e(i.id),className:"group p-2 rounded-lg hover:bg-orange-50 cursor-pointer transition-colors border border-transparent hover:border-orange-100",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400 mt-1.5 flex-shrink-0"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-800 line-clamp-2 group-hover:text-orange-800",children:i.content.substring(0,100).split(`
`)[0]||"Untitled Notice"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(i.createdAt?.toDate?.()||i.createdAt).toLocaleDateString()})]})]})},i.id))})]})})}function w4({open:t,title:e,message:n,confirmText:s="Confirm",cancelText:i="Cancel",confirmColor:o="red",onConfirm:u,onCancel:f,icon:m="warning"}){if(!t)return null;const p=()=>{switch(m){case"warning":return c.jsx(zd,{className:"w-12 h-12 text-orange-500"});case"success":return c.jsx(bf,{className:"w-12 h-12 text-green-500"});case"danger":return c.jsx(zd,{className:"w-12 h-12 text-red-500"});default:return c.jsx(zd,{className:"w-12 h-12 text-orange-500"})}},x=()=>{switch(o){case"red":return"bg-red-600 hover:bg-red-700 text-white";case"green":return"bg-green-600 hover:bg-green-700 text-white";case"blue":return"bg-blue-600 hover:bg-blue-700 text-white";case"orange":return"bg-orange-600 hover:bg-orange-700 text-white";default:return"bg-red-600 hover:bg-red-700 text-white"}};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out scale-100",children:[c.jsxs("div",{className:"relative p-6 pb-4",children:[c.jsx("button",{onClick:f,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(an,{className:"w-4 h-4"})}),c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsx("div",{className:"p-3 rounded-full bg-gray-50",children:p()})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:e}),c.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:n})]}),c.jsx("div",{className:"px-6 pb-6",children:c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:f,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:i}),c.jsx("button",{onClick:u,className:`flex-1 px-4 py-3 rounded-xl transition-colors font-medium ${x()}`,children:s})]})})]})})}function _4(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=_4(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Vi(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=_4(t))&&(s&&(s+=" "),s+=e);return s}function x8(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}x8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ou=t=>typeof t=="number"&&!isNaN(t),Bi=t=>typeof t=="string",Ws=t=>typeof t=="function",y8=t=>Bi(t)||ou(t),gp=t=>Bi(t)||Ws(t)?t:null,b8=(t,e)=>t===!1||ou(t)&&t>0?t:e,xp=t=>G.isValidElement(t)||Bi(t)||Ws(t)||ou(t);function v8(t,e,n=300){let{scrollHeight:s,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function w8({enter:t,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:i=300}){return function({children:o,position:u,preventExitTransition:f,done:m,nodeRef:p,isIn:x,playToast:b}){let w=n?`${t}--${u}`:t,_=n?`${e}--${u}`:e,A=G.useRef(0);return G.useLayoutEffect(()=>{let R=p.current,z=w.split(" "),F=V=>{V.target===p.current&&(b(),R.removeEventListener("animationend",F),R.removeEventListener("animationcancel",F),A.current===0&&V.type!=="animationcancel"&&R.classList.remove(...z))};R.classList.add(...z),R.addEventListener("animationend",F),R.addEventListener("animationcancel",F)},[]),G.useEffect(()=>{let R=p.current,z=()=>{R.removeEventListener("animationend",z),s?v8(R,m,i):m()};x||(f?z():(A.current=1,R.className+=` ${_}`,R.addEventListener("animationend",z)))},[x]),vt.createElement(vt.Fragment,null,o)}}function h2(t,e){return{content:N4(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function N4(t,e,n=!1){return G.isValidElement(t)&&!Bi(t.type)?G.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Ws(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function _8({closeToast:t,theme:e,ariaLabel:n="close"}){return vt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),t(!0)},"aria-label":n},vt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},vt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function N8({delay:t,isRunning:e,closeToast:n,type:s="default",hide:i,className:o,controlledProgress:u,progress:f,rtl:m,isIn:p,theme:x}){let b=i||u&&f===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};u&&(w.transform=`scaleX(${f})`);let _=Vi("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":m}),A=Ws(o)?o({rtl:m,type:s,defaultClassName:_}):Vi(_,o),R={[u&&f>=1?"onTransitionEnd":"onAnimationEnd"]:u&&f<1?null:()=>{p&&n()}};return vt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},vt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${s}`}),vt.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:A,style:w,...R}))}var E8=1,E4=()=>`${E8++}`;function T8(t,e,n){let s=1,i=0,o=[],u=[],f=e,m=new Map,p=new Set,x=V=>(p.add(V),()=>p.delete(V)),b=()=>{u=Array.from(m.values()),p.forEach(V=>V())},w=({containerId:V,toastId:B,updateId:H})=>{let X=V?V!==t:t!==1,L=m.has(B)&&H==null;return X||L},_=(V,B)=>{m.forEach(H=>{var X;(B==null||B===H.props.toastId)&&((X=H.toggle)==null||X.call(H,V))})},A=V=>{var B,H;(H=(B=V.props)==null?void 0:B.onClose)==null||H.call(B,V.removalReason),V.isActive=!1},R=V=>{if(V==null)m.forEach(A);else{let B=m.get(V);B&&A(B)}b()},z=()=>{i-=o.length,o=[]},F=V=>{var B,H;let{toastId:X,updateId:L}=V.props,I=L==null;V.staleId&&m.delete(V.staleId),V.isActive=!0,m.set(X,V),b(),n(h2(V,I?"added":"updated")),I&&((H=(B=V.props).onOpen)==null||H.call(B))};return{id:t,props:f,observe:x,toggle:_,removeToast:R,toasts:m,clearQueue:z,buildToast:(V,B)=>{if(w(B))return;let{toastId:H,updateId:X,data:L,staleId:I,delay:j}=B,D=X==null;D&&i++;let k={...f,style:f.toastStyle,key:s++,...Object.fromEntries(Object.entries(B).filter(([O,C])=>C!=null)),toastId:H,updateId:X,data:L,isIn:!1,className:gp(B.className||f.toastClassName),progressClassName:gp(B.progressClassName||f.progressClassName),autoClose:B.isLoading?!1:b8(B.autoClose,f.autoClose),closeToast(O){m.get(H).removalReason=O,R(H)},deleteToast(){let O=m.get(H);if(O!=null){if(n(h2(O,"removed")),m.delete(H),i--,i<0&&(i=0),o.length>0){F(o.shift());return}b()}}};k.closeButton=f.closeButton,B.closeButton===!1||xp(B.closeButton)?k.closeButton=B.closeButton:B.closeButton===!0&&(k.closeButton=xp(f.closeButton)?f.closeButton:!0);let P={content:V,props:k,staleId:I};f.limit&&f.limit>0&&i>f.limit&&D?o.push(P):ou(j)?setTimeout(()=>{F(P)},j):F(P)},setProps(V){f=V},setToggle:(V,B)=>{let H=m.get(V);H&&(H.toggle=B)},isToastActive:V=>{var B;return(B=m.get(V))==null?void 0:B.isActive},getSnapshot:()=>u}}var Fn=new Map,Qc=[],yp=new Set,S8=t=>yp.forEach(e=>e(t)),T4=()=>Fn.size>0;function A8(){Qc.forEach(t=>A4(t.content,t.options)),Qc=[]}var j8=(t,{containerId:e})=>{var n;return(n=Fn.get(e||1))==null?void 0:n.toasts.get(t)};function S4(t,e){var n;if(e)return!!((n=Fn.get(e))!=null&&n.isToastActive(t));let s=!1;return Fn.forEach(i=>{i.isToastActive(t)&&(s=!0)}),s}function k8(t){if(!T4()){Qc=Qc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||y8(t))Fn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Fn.get(t.containerId);e?e.removeToast(t.id):Fn.forEach(n=>{n.removeToast(t.id)})}}var C8=(t={})=>{Fn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function A4(t,e){xp(t)&&(T4()||Qc.push({content:t,options:e}),Fn.forEach(n=>{n.buildToast(t,e)}))}function R8(t){var e;(e=Fn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function j4(t,e){Fn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function D8(t){let e=t.containerId||1;return{subscribe(n){let s=T8(e,t,S8);Fn.set(e,s);let i=s.observe(n);return A8(),()=>{i(),Fn.delete(e)}},setProps(n){var s;(s=Fn.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=Fn.get(e))==null?void 0:n.getSnapshot()}}}function I8(t){return yp.add(t),()=>{yp.delete(t)}}function M8(t){return t&&(Bi(t.toastId)||ou(t.toastId))?t.toastId:E4()}function cu(t,e){return A4(t,e),e.toastId}function Yf(t,e){return{...e,type:e&&e.type||t,toastId:M8(e)}}function Gf(t){return(e,n)=>cu(e,Yf(t,n))}function Ae(t,e){return cu(t,Yf("default",e))}Ae.loading=(t,e)=>cu(t,Yf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function O8(t,{pending:e,error:n,success:s},i){let o;e&&(o=Bi(e)?Ae.loading(e,i):Ae.loading(e.render,{...i,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(p,x,b)=>{if(x==null){Ae.dismiss(o);return}let w={type:p,...u,...i,data:b},_=Bi(x)?{render:x}:x;return o?Ae.update(o,{...w,..._}):Ae(_.render,{...w,..._}),b},m=Ws(t)?t():t;return m.then(p=>f("success",s,p)).catch(p=>f("error",n,p)),m}Ae.promise=O8;Ae.success=Gf("success");Ae.info=Gf("info");Ae.error=Gf("error");Ae.warning=Gf("warning");Ae.warn=Ae.warning;Ae.dark=(t,e)=>cu(t,Yf("default",{theme:"dark",...e}));function V8(t){k8(t)}Ae.dismiss=V8;Ae.clearWaitingQueue=C8;Ae.isActive=S4;Ae.update=(t,e={})=>{let n=j8(t,e);if(n){let{props:s,content:i}=n,o={delay:100,...s,...e,toastId:e.toastId||t,updateId:E4()};o.toastId!==t&&(o.staleId=t);let u=o.render||i;delete o.render,cu(u,o)}};Ae.done=t=>{Ae.update(t,{progress:1})};Ae.onChange=I8;Ae.play=t=>j4(!0,t);Ae.pause=t=>j4(!1,t);function P8(t){var e;let{subscribe:n,getSnapshot:s,setProps:i}=G.useRef(D8(t)).current;i(t);let o=(e=G.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function u(f){if(!o)return[];let m=new Map;return t.newestOnTop&&o.reverse(),o.forEach(p=>{let{position:x}=p.props;m.has(x)||m.set(x,[]),m.get(x).push(p)}),Array.from(m,p=>f(p[0],p[1]))}return{getToastToRender:u,isToastActive:S4,count:o?.length}}function L8(t){let[e,n]=G.useState(!1),[s,i]=G.useState(!1),o=G.useRef(null),u=G.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:m,closeToast:p,onClick:x,closeOnClick:b}=t;R8({id:t.toastId,containerId:t.containerId,fn:n}),G.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{_()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||F(),window.addEventListener("focus",z),window.addEventListener("blur",F)}function _(){window.removeEventListener("focus",z),window.removeEventListener("blur",F)}function A(I){if(t.draggable===!0||t.draggable===I.pointerType){V();let j=o.current;u.canCloseOnClick=!0,u.canDrag=!0,j.style.transition="none",t.draggableDirection==="x"?(u.start=I.clientX,u.removalDistance=j.offsetWidth*(t.draggablePercent/100)):(u.start=I.clientY,u.removalDistance=j.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function R(I){let{top:j,bottom:D,left:k,right:P}=o.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&t.pauseOnHover&&I.clientX>=k&&I.clientX<=P&&I.clientY>=j&&I.clientY<=D?F():z()}function z(){n(!0)}function F(){n(!1)}function V(){u.didMove=!1,document.addEventListener("pointermove",H),document.addEventListener("pointerup",X)}function B(){document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",X)}function H(I){let j=o.current;if(u.canDrag&&j){u.didMove=!0,e&&F(),t.draggableDirection==="x"?u.delta=I.clientX-u.start:u.delta=I.clientY-u.start,u.start!==I.clientX&&(u.canCloseOnClick=!1);let D=t.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;j.style.transform=`translate3d(${D},0)`,j.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function X(){B();let I=o.current;if(u.canDrag&&u.didMove&&I){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let L={onPointerDown:A,onPointerUp:R};return f&&m&&(L.onMouseEnter=F,t.stacked||(L.onMouseLeave=z)),b&&(L.onClick=I=>{x&&x(I),u.canCloseOnClick&&p(!0)}),{playToast:z,pauseToast:F,isRunning:e,preventExitTransition:s,toastRef:o,eventHandlers:L}}var z8=typeof window<"u"?G.useLayoutEffect:G.useEffect,Qf=({theme:t,type:e,isLoading:n,...s})=>vt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function U8(t){return vt.createElement(Qf,{...t},vt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function B8(t){return vt.createElement(Qf,{...t},vt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function F8(t){return vt.createElement(Qf,{...t},vt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function q8(t){return vt.createElement(Qf,{...t},vt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function $8(){return vt.createElement("div",{className:"Toastify__spinner"})}var bp={info:B8,warning:U8,success:F8,error:q8,spinner:$8},H8=t=>t in bp;function Y8({theme:t,type:e,isLoading:n,icon:s}){let i=null,o={theme:t,type:e};return s===!1||(Ws(s)?i=s({...o,isLoading:n}):G.isValidElement(s)?i=G.cloneElement(s,o):n?i=bp.spinner():H8(e)&&(i=bp[e](o))),i}var G8=t=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:i,playToast:o}=L8(t),{closeButton:u,children:f,autoClose:m,onClick:p,type:x,hideProgressBar:b,closeToast:w,transition:_,position:A,className:R,style:z,progressClassName:F,updateId:V,role:B,progress:H,rtl:X,toastId:L,deleteToast:I,isIn:j,isLoading:D,closeOnClick:k,theme:P,ariaLabel:O}=t,C=Vi("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":k}),se=Ws(R)?R({rtl:X,position:A,type:x,defaultClassName:C}):Vi(C,R),ye=Y8(t),Q=!!H||!m,fe={closeToast:w,type:x,theme:P},ee=null;return u===!1||(Ws(u)?ee=u(fe):G.isValidElement(u)?ee=G.cloneElement(u,fe):ee=_8(fe)),vt.createElement(_,{isIn:j,done:I,position:A,preventExitTransition:n,nodeRef:s,playToast:o},vt.createElement("div",{id:L,tabIndex:0,onClick:p,"data-in":j,className:se,...i,style:z,ref:s,...j&&{role:B,"aria-label":O}},ye!=null&&vt.createElement("div",{className:Vi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},ye),N4(f,t,!e),ee,!t.customProgressBar&&vt.createElement(N8,{...V&&!Q?{key:`p-${V}`}:{},rtl:X,theme:P,delay:m,isRunning:e,isIn:j,closeToast:w,hide:b,type:x,className:F,controlledProgress:Q,progress:H||0})))},Q8=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),X8=w8(Q8("bounce",!0)),K8={position:"top-right",transition:X8,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Z8(t){let e={...K8,...t},n=t.stacked,[s,i]=G.useState(!0),o=G.useRef(null),{getToastToRender:u,isToastActive:f,count:m}=P8(e),{className:p,style:x,rtl:b,containerId:w,hotKeys:_}=e;function A(z){let F=Vi("Toastify__toast-container",`Toastify__toast-container--${z}`,{"Toastify__toast-container--rtl":b});return Ws(p)?p({position:z,rtl:b,defaultClassName:F}):Vi(F,gp(p))}function R(){n&&(i(!0),Ae.play())}return z8(()=>{var z;if(n){let F=o.current.querySelectorAll('[data-in="true"]'),V=12,B=(z=e.position)==null?void 0:z.includes("top"),H=0,X=0;Array.from(F).reverse().forEach((L,I)=>{let j=L;j.classList.add("Toastify__toast--stacked"),I>0&&(j.dataset.collapsed=`${s}`),j.dataset.pos||(j.dataset.pos=B?"top":"bot");let D=H*(s?.2:1)+(s?0:V*I);j.style.setProperty("--y",`${B?D:D*-1}px`),j.style.setProperty("--g",`${V}`),j.style.setProperty("--s",`${1-(s?X:0)}`),H+=j.offsetHeight,X+=.025})}},[s,m,n]),G.useEffect(()=>{function z(F){var V;let B=o.current;_(F)&&((V=B.querySelector('[tabIndex="0"]'))==null||V.focus(),i(!1),Ae.pause()),F.key==="Escape"&&(document.activeElement===B||B!=null&&B.contains(document.activeElement))&&(i(!0),Ae.play())}return document.addEventListener("keydown",z),()=>{document.removeEventListener("keydown",z)}},[_]),vt.createElement("section",{ref:o,className:"Toastify",id:w,onMouseEnter:()=>{n&&(i(!1),Ae.pause())},onMouseLeave:R,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((z,F)=>{let V=F.length?{...x}:{...x,pointerEvents:"none"};return vt.createElement("div",{tabIndex:-1,className:A(z),"data-stacked":n,style:V,key:`c-${z}`},F.map(({content:B,props:H})=>vt.createElement(G8,{...H,stacked:n,collapseAll:R,isIn:f(H.toastId,H.containerId),key:`t-${H.key}`},B)))}))}function J8({selectedStudent:t,semester:e}){const{students:n}=g_(),{notices:s,isLoading:i,isSaving:o,isAdmin:u,isCoLeader:f,canManageNotices:m,createNotice:p,deleteNotice:x,editNotice:b,updateNoticePermissions:w,updateNoticesOrder:_,voteInPoll:A,toggleChecklistItem:R,toggleTodo:z,togglePin:F}=Uf(t,e),[V,B]=G.useState(!1),[H,X]=G.useState(!1),[L,I]=G.useState(!1),[j,D]=G.useState(null),[k,P]=G.useState("all"),[O,C]=G.useState(""),[se,ye]=G.useState(!1),[Q,fe]=G.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),ee=s.filter(_e=>{const We=k==="all"||_e.type===k,Ot=!O||_e.content.toLowerCase().includes(O.toLowerCase())||_e.createdBy.toLowerCase().includes(O.toLowerCase());return We&&Ot}),ve=[{id:"all",label:"All",icon:Gs,count:s.length},{id:"notice",label:"Notices",icon:Gs,count:s.filter(_e=>_e.type==="notice").length},{id:"checklist",label:"Checklists",icon:Tp,count:s.filter(_e=>_e.type==="checklist").length},{id:"poll",label:"Polls",icon:wp,count:s.filter(_e=>_e.type==="poll").length},{id:"reminder",label:"Reminders",icon:Ic,count:s.filter(_e=>_e.type==="reminder").length},{id:"todo",label:"Todos",icon:kr,count:s.filter(_e=>_e.type==="todo").length},{id:"assessment",label:"Assessments",icon:Gs,count:s.filter(_e=>_e.type==="assessment").length}],T=_e=>{fe(_e),ye(!0)},re=()=>{Q.onConfirm(),ye(!1)},J=()=>{ye(!1)},E=async _e=>{if(!m){Ae.error(" Only admin and co-leaders can create notices");return}await p(_e.type,_e.content,_e.meta,_e.allowedUsers||[],_e.isPublic||!1,_e.deleteAt)?(B(!1),Ae.success(" Notice created successfully!")):Ae.error(" Failed to create notice. Please try again.")},[Y,ue]=G.useState(null),ae=async(_e,We)=>{if(!m)return Ae.error(" Only admin and co-leaders can edit notices"),!1;const{id:Ot,...Nt}=We,er=await b(_e,Nt);return er?(Ae.success(" Notice updated successfully!"),ue(null)):Ae.error(" Failed to update notice. Please try again."),er},be=async _e=>{if(!m){Ae.error(" Only admin and co-leaders can delete notices");return}T({title:"Delete Notice",message:"Are you sure you want to delete this notice? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{await x(_e)?Ae.success(" Notice deleted successfully!"):Ae.error(" Failed to delete notice. Please try again.")}})},Te=_e=>{D(_e),X(!0)},it=async(_e,We)=>{if(j)try{await w(j.id,_e,We)?(X(!1),D(null),Ae.success(" Permissions updated successfully!")):Ae.error(" Failed to update permissions")}catch(Ot){Ae.error(" Error updating permissions: "+Ot.message)}},ot=async _e=>{await _(_e)?(I(!1),Ae.success(" Notices reordered successfully!")):Ae.error(" Failed to reorder notices")},ft=_e=>{const We=document.getElementById(`notice-${_e}`);We&&(We.scrollIntoView({behavior:"smooth",block:"center"}),We.classList.add("ring-2","ring-orange-400","ring-offset-2"),setTimeout(()=>{We.classList.remove("ring-2","ring-orange-400","ring-offset-2")},2e3))},Vn=s.filter(_e=>_e.isPinned),pn=_e=>{const We={notice:_e,currentUser:t?.rollNo,students:n,isAdmin:u,isCoLeader:f,canManageNotices:m,onDelete:be,onEdit:ae,onManagePermissions:()=>Te(_e),onTogglePin:()=>F(_e.id,_e.isPinned)};switch(_e.type){case"checklist":return c.jsx(o8,{...We,onToggleItem:Ot=>R(_e.id,Ot,t?.rollNo)},_e.id);case"poll":return c.jsx(c8,{...We,onVote:(Ot,Nt)=>A(_e.id,Ot,Nt)},_e.id);case"reminder":return c.jsx(u8,{...We},_e.id);case"todo":return c.jsx(d8,{...We,onToggle:()=>z(_e.id,t?.rollNo)},_e.id);case"assessment":return c.jsx(f8,{...We,onRequestEdit:Ot=>ue(Ot)},_e.id);default:return c.jsx(l8,{...We},_e.id)}};return t?i?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(mn,{className:"w-6 h-6 animate-spin text-blue-600"}),c.jsx("span",{className:"text-lg text-gray-600",children:"Loading notice board..."})]})}):c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsx(w4,{open:se,title:Q.title,message:Q.message,confirmText:Q.confirmText,cancelText:Q.cancelText,confirmColor:Q.confirmColor,icon:Q.icon,onConfirm:re,onCancel:J}),c.jsxs("div",{className:"flex items-center justify-between sticky top-[136px] sm:top-[128px] z-10 bg-gray-50/95 backdrop-blur supports-[backdrop-filter]:bg-gray-50/60 py-2 sm:py-4 transition-all -mx-4 px-4 rounded-b-2xl mb-4 border-b border-gray-100 sm:border-none",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("h2",{className:"text-xl sm:text-3xl font-bold text-gray-900 mb-0.5 sm:mb-2 flex items-center gap-2 sm:gap-3",children:[c.jsx(Di,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 shrink-0"}),c.jsx("span",{className:"truncate",children:"Global Notice Board"}),u&&c.jsx(us,{className:"w-4 h-4 sm:w-6 sm:h-6 text-yellow-600 shrink-0",title:"Admin View"}),f&&c.jsx(Nn,{className:"w-4 h-4 sm:w-6 sm:h-6 text-purple-600 shrink-0",title:"Co-Leader View"})]}),c.jsx("p",{className:"text-xs sm:text-base text-gray-600 truncate",children:m?`${u?"Admin":"Co-Leader"}: Manage notices`:"Updates and announcements"})]}),m&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>I(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all",title:"Reorder Notices",children:c.jsx(yE,{className:"w-5 h-5"})}),c.jsxs("button",{onClick:()=>B(!0),disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50",children:[c.jsx(os,{className:"w-4 h-4"}),"Create Notice"]})]})]}),m&&c.jsx("div",{className:`rounded-2xl p-4 border ${u?"bg-yellow-50 border-yellow-200":"bg-purple-50 border-purple-200"}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[u?c.jsx(us,{className:"w-5 h-5 text-yellow-600 mt-0.5"}):c.jsx(Nn,{className:"w-5 h-5 text-purple-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:`font-medium mb-1 ${u?"text-yellow-900":"text-purple-900"}`,children:u?"Admin Privileges":"Co-Leader Privileges"}),c.jsxs("ul",{className:`text-sm space-y-1 ${u?"text-yellow-700":"text-purple-700"}`,children:[c.jsx("li",{children:" Create, edit and manage notices with user visibility"}),c.jsx("li",{children:" View who voted for each poll option and completed checklist items"}),c.jsx("li",{children:" Create multi-select or single-choice polls"}),c.jsx("li",{children:" Edit existing notices, polls, and checklists"}),u&&c.jsx("li",{children:" Assign co-leader roles to other students"})]})]})]})}),!m&&c.jsx("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-200",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Di,{className:"w-5 h-5 text-blue-600"}),c.jsx("div",{children:c.jsx("p",{className:"text-sm text-blue-700",children:"You can view and interact with notices shared with you. Click on voter counts in polls or completion counts in checklists to see who participated."})})]})}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100",children:[c.jsx("div",{className:"flex overflow-x-auto gap-2 mb-4 pb-2 scrollbar-hide -mx-1 px-1",children:ve.map(_e=>c.jsxs("button",{onClick:()=>P(_e.id),className:`
                flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 rounded-xl transition-all whitespace-nowrap text-xs sm:text-sm
                ${k===_e.id?"bg-blue-600 text-white shadow-md shadow-blue-100 scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
              `,children:[c.jsx(_e.icon,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),c.jsx("span",{children:_e.label}),c.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] sm:text-xs ${k===_e.id?"bg-white/20":"bg-gray-200"}`,children:_e.count})]},_e.id))}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:c.jsx(vf,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Search notices...",value:O,onChange:_e=>C(_e.target.value),className:"w-full pl-10 pr-10 py-2 sm:py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"}),O&&c.jsx("button",{onClick:()=>C(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c.jsx(an,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]})]}),(V||Y)&&m&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:c.jsx("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:c.jsx(h8,{onSubmit:Y?_e=>ae(Y.id,_e):E,onCancel:()=>{B(!1),ue(null)},isLoading:o,students:n,initialData:Y,semester:e})})}),L&&m&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:c.jsx(p8,{notices:s,onSave:ot,onCancel:()=>I(!1),isLoading:o})}),H&&j&&m&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:c.jsx(m8,{notice:j,students:n,onUpdate:it,onCancel:()=>X(!1)})}),c.jsx(g8,{pinnedNotices:Vn,onNoticeClick:ft}),c.jsx("div",{className:"space-y-4",children:ee.length>0?ee.map(_e=>c.jsx("div",{id:`notice-${_e.id}`,className:"scroll-mt-32 transition-all duration-300 rounded-2xl",children:pn(_e)},_e.id)):c.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border border-gray-100",children:[c.jsx(Di,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No notices found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:O||k!=="all"?"Try adjusting your filters or search terms":m?"Create the first notice to get started!":"No notices have been shared with you yet."}),m&&c.jsxs("button",{onClick:()=>B(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:[c.jsx(os,{className:"w-4 h-4"}),"Create First Notice"]})]})})]}):c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Di,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),c.jsx("p",{className:"text-gray-600",children:"Please select a student to view the notice board"})]})})}function W8(t){const[e,n]=G.useState(""),[s,i]=G.useState(!0),[o,u]=G.useState(!1),[f,m]=G.useState(null),[p,x]=G.useState(null),b=G.useCallback(async()=>{if(!t){n(""),i(!1);return}try{i(!0),x(null);const A=rn(bt,"userNotes",t),R=await mj(A);R.exists()?(n(R.data().content||""),m(R.data().updatedAt?R.data().updatedAt.toDate():null)):(n(""),m(null))}catch(A){console.error("Error loading notes:",A),x(A.message)}finally{i(!1)}},[t]);return G.useEffect(()=>{b()},[b]),G.useEffect(()=>{if(!t||s)return;const A=setTimeout(async()=>{try{u(!0);const R=rn(bt,"userNotes",t);await Hs(R,{content:e,updatedAt:Gl(),userId:t}),m(new Date),x(null)}catch(R){console.error("Error saving notes:",R),x("Failed to save notes: "+R.message)}finally{u(!1)}},1e3);return()=>clearTimeout(A)},[e,t,s]),{notes:e,updateNotes:A=>{n(A)},clearNotes:async()=>{if(t)try{u(!0);const A=rn(bt,"userNotes",t);await Hs(A,{content:"",updatedAt:Gl(),userId:t}),n(""),m(new Date)}catch(A){console.error("Error clearing notes:",A),x("Failed to clear notes: "+A.message)}finally{u(!1)}},refreshNotes:b,isLoading:s,isSaving:o,lastSaved:f,error:p}}function eI({selectedStudent:t}){const{notes:e,updateNotes:n,clearNotes:s,isLoading:i,isSaving:o,lastSaved:u,error:f,refreshNotes:m}=W8(t?.rollNo),[p,x]=G.useState("split"),[b,w]=G.useState(!1),[_,A]=G.useState(!1),R=G.useRef(!1),z=G.useRef(null),F=G.useRef(0);G.useEffect(()=>{!R.current&&!i&&(e&&e.trim().length>0&&x("preview"),R.current=!0)},[e,i]),G.useEffect(()=>{R.current=!1},[t]),G.useEffect(()=>{z.current&&(z.current.style.height="auto",z.current.style.height=z.current.scrollHeight+"px")},[e,p]);const V=async()=>{window.confirm(" Are you sure you want to clear all your notes? This action cannot be undone.")&&(await s(),alert(" Notes cleared successfully!"))},B=(L,I="",j="")=>{const D=document.getElementById("notes-textarea");if(!D)return;F.current=window.scrollY;const k=D.selectionStart,P=D.selectionEnd,O=e.substring(k,P),C=L+(O||j)+I,se=e.substring(0,k)+C+e.substring(P);n(se),requestAnimationFrame(()=>{D.focus({preventScroll:!0});const ye=k+L.length+(O||j).length;D.setSelectionRange(ye,ye),window.scrollTo(0,F.current)})},H=[{icon:EE,title:"Bold",action:()=>B("**","**","bold text")},{icon:m5,title:"Italic",action:()=>B("*","*","italic text")},{icon:o5,title:"Heading",action:()=>B("# ","","Heading")},{icon:N5,title:"List",action:()=>B("- ","","List item")},{icon:F5,title:"Quote",action:()=>B("> ","","Quote")},{icon:GE,title:"Inline Code",action:()=>B("`","`","code")},{icon:Gs,title:"Code Block",action:()=>B("\n```\n","\n```\n","code block")},{icon:y5,title:"Link",action:()=>B("[","](url)","link text")},{icon:j5,title:"Horizontal Line",action:()=>B(`
---
`,"","")},{icon:D5,title:"Spacer (Empty Line)",action:()=>B(`

>>>

`,"","")}],X=L=>{if(!L)return"Never saved";const j=new Date-L;return j<6e4?"Saved just now":j<36e5?`Saved ${Math.floor(j/6e4)} minutes ago`:j<864e5?`Saved ${Math.floor(j/36e5)} hours ago`:`Saved on ${L.toLocaleDateString()} at ${L.toLocaleTimeString()}`};return t?i?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(mn,{className:"w-6 h-6 animate-spin text-blue-600"}),c.jsx("span",{className:"text-lg text-gray-600",children:"Loading your notes..."})]})}):c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2 flex items-center gap-2 sm:gap-3",children:[c.jsx(j0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600"}),"Personal Notes"]}),c.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Private notes for ",c.jsx("strong",{children:t.name})," (",t.rollNo,")"]})]}),c.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto overflow-x-auto pb-1 sm:pb-0 scrollbar-hide",children:[c.jsxs("button",{onClick:()=>A(!_),className:`flex items-center gap-2 px-3 sm:px-4 py-2 rounded-xl transition-all text-xs sm:text-sm whitespace-nowrap ${_?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(rb,{className:"w-4 h-4"}),"Tips"]}),c.jsx("button",{onClick:()=>w(!b),className:`px-3 sm:px-4 py-2 rounded-xl transition-all text-xs sm:text-sm whitespace-nowrap ${b?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Markdown Help"}),c.jsxs("button",{onClick:V,disabled:o||!e.trim(),className:"flex items-center gap-2 px-3 sm:px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-xs sm:text-sm whitespace-nowrap",children:[c.jsx(ps,{className:"w-4 h-4"}),"Clear All"]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg py-2 px-3 sm:p-4 border border-gray-100 sticky top-[138px] sm:top-[128px] z-20 transition-all",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[c.jsx("button",{onClick:m,className:"p-1.5 -ml-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Refresh notes",children:c.jsx($5,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),c.jsx("div",{className:"flex items-center gap-2",children:o?c.jsxs(c.Fragment,{children:[c.jsx(mn,{className:"w-4 h-4 animate-spin text-blue-600"}),c.jsx("span",{className:"text-sm text-blue-600",children:"Saving..."})]}):f?c.jsxs(c.Fragment,{children:[c.jsx(VE,{className:"w-4 h-4 text-red-600"}),c.jsx("span",{className:"text-sm text-red-600",children:"Error saving"})]}):c.jsxs(c.Fragment,{children:[c.jsx(ea,{className:"w-4 h-4 text-green-600"}),c.jsx("span",{className:"text-sm text-gray-600",children:X(u)})]})}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[c.jsx(Gs,{className:"w-4 h-4"}),c.jsxs("span",{children:[e.length," characters"]})]})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-xl p-1",children:[c.jsxs("button",{onClick:()=>x("edit"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="edit"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[c.jsx(Fi,{className:"w-4 h-4"}),"Edit"]}),c.jsxs("button",{onClick:()=>x("split"),className:`hidden sm:flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="split"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[c.jsxs("div",{className:"w-4 h-4 border border-current rounded-sm flex",children:[c.jsx("div",{className:"w-1/2 border-r border-current"}),c.jsx("div",{className:"w-1/2"})]}),"Split"]}),c.jsxs("button",{onClick:()=>x("preview"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="preview"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[c.jsx(Pi,{className:"w-4 h-4"}),"Preview"]})]})]}),f&&c.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:f})]}),_&&c.jsx("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-200 animate-in fade-in slide-in-from-top-2",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(rb,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:" Tips for better note-taking:"}),c.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[c.jsx("li",{children:" Your notes are private and only visible to you"}),c.jsx("li",{children:" Use headings (#) to organize your content"}),c.jsx("li",{children:" Add links to external resources for quick access"}),c.jsx("li",{children:" Use --- for a page break/divider"}),c.jsx("li",{children:" Use >>> for a large empty line/gap"}),c.jsx("li",{children:" Notes are automatically saved as you type"}),c.jsx("li",{children:" Use the split view to see formatting in real-time"})]})]})]})}),b&&c.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[c.jsx("h3",{className:"font-bold text-blue-900 mb-4",children:"Markdown Quick Reference"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("div",{className:"mb-2",children:c.jsx("code",{children:"# Heading 1"})}),c.jsx("div",{className:"mb-2",children:c.jsx("code",{children:"## Heading 2"})}),c.jsx("div",{className:"mb-2",children:c.jsx("code",{children:"**bold text**"})}),c.jsx("div",{className:"mb-2",children:c.jsx("code",{children:"*italic text*"})}),c.jsx("div",{className:"mb-2",children:c.jsx("code",{children:"`inline code`"})})]}),c.jsxs("div",{children:[c.jsx("div",{className:"mb-2",children:c.jsx("code",{children:"[Link](https://example.com)"})}),c.jsx("div",{className:"mb-2",children:c.jsx("code",{children:"- List item"})}),c.jsx("div",{className:"mb-2",children:c.jsx("code",{children:"> Quote"})}),c.jsxs("div",{className:"mb-2",children:[c.jsx("code",{children:"---"})," (horizontal rule)"]}),c.jsx("div",{className:"mb-2",children:c.jsx("code",{children:"``````"})})]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[(p==="edit"||p==="split")&&c.jsx("div",{className:"sticky top-[250px] sm:top-[200px] z-10 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b border-gray-200 p-2 sm:p-3 rounded-t-2xl transition-all",children:c.jsx("div",{className:"flex items-center gap-1 overflow-x-auto scrollbar-hide pb-0.5",children:H.map((L,I)=>c.jsx("button",{type:"button",onClick:j=>{j.preventDefault(),L.action()},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:L.title,children:c.jsx(L.icon,{className:"w-4 h-4"})},I))})}),c.jsxs("div",{className:"flex flex-col sm:flex-row min-h-[500px] items-stretch",children:[(p==="edit"||p==="split")&&c.jsx("div",{className:`${p==="split"?"w-full sm:w-1/2 border-b sm:border-b-0 sm:border-r border-gray-200":"w-full"} bg-white`,children:c.jsx("textarea",{ref:z,id:"notes-textarea",value:e,onChange:L=>{F.current=window.scrollY,n(L.target.value),L.target.style.height="auto",L.target.style.height=L.target.scrollHeight+"px",requestAnimationFrame(()=>{window.scrollTo(0,F.current)})},className:"w-full h-full p-4 sm:p-6 border-none outline-none resize-none font-mono text-sm overflow-hidden min-h-[500px]",placeholder:`Write your personal notes here, ${t.name}...

You can use Markdown syntax:
# Headings
**Bold** and *italic* text
[Links](https://example.com)
- Lists
> Quotes
\`code\`

Your notes are automatically saved as you type.`})}),(p==="preview"||p==="split")&&c.jsx("div",{className:`${p==="split"?"w-full sm:w-1/2":"w-full"} bg-gray-50/50`,children:c.jsx("div",{className:"p-4 sm:p-6 prose prose-sm max-w-none",children:e.trim()?c.jsx(fo,{remarkPlugins:[ho],components:{a:({href:L,children:I})=>c.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:I}),h1:({children:L})=>c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:L}),h2:({children:L})=>c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:L}),h3:({children:L})=>c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:L}),hr:()=>c.jsx("hr",{className:"my-8 border-t-2 border-gray-200"}),ul:({children:L})=>c.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-2 space-y-1",children:L}),ol:({children:L})=>c.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-2 space-y-1",children:L}),li:({children:L})=>c.jsx("li",{className:"text-gray-700",children:L}),blockquote:({children:L})=>c.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 py-1 text-gray-600 italic my-2",children:L}),p:({children:L})=>c.jsx("div",{className:"mb-4 text-gray-700",children:L}),code:({node:L,inline:I,className:j,children:D,...k})=>{const[P,O]=G.useState(!1),C=/language-(\w+)/.exec(j||"");if(I)return c.jsx("code",{className:j,...k,children:D});const se=()=>{navigator.clipboard.writeText(String(D).replace(/\n$/,"")),O(!0),setTimeout(()=>O(!1),2e3)};return c.jsxs("div",{className:"relative group my-4",children:[c.jsx("div",{className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("button",{onClick:se,className:"p-1.5 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 hover:text-white transition-all shadow-lg",title:"Copy code",children:P?c.jsx(no,{className:"w-4 h-4 text-green-400"}):c.jsx(XE,{className:"w-4 h-4"})})}),c.jsxs("pre",{className:"!mt-0 !mb-0 rounded-xl overflow-hidden bg-gray-900 !p-0",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20 border border-red-500/50"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20 border border-green-500/50"})]}),c.jsx("span",{className:"text-xs text-gray-400 font-mono",children:C?C[1]:"text"})]}),c.jsx("code",{className:`${j} block p-4 text-sm font-mono text-gray-300 overflow-x-auto`,...k,children:D})]})]})}},children:e.replace(/>>>/g,`

&nbsp;

`).replace(/\n/g,`  
`)}):c.jsxs("div",{className:"text-gray-500 italic",children:["Your notes will appear here as you type...",c.jsx("br",{}),c.jsx("br",{}),"Try writing some ",c.jsx("strong",{children:"Markdown"}),":",c.jsx("br",{}),"# This is a heading",c.jsx("br",{}),"**This is bold text**",c.jsx("br",{}),"[This is a link](https://example.com)"]})})})]})]})]}):c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx(j0,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),c.jsx("p",{className:"text-gray-600",children:"Please select a student to view their personal notes"})]})})}function m2({options:t,value:e,onChange:n,label:s,placeholder:i="Select an option"}){const[o,u]=G.useState(!1),f=G.useRef(null),m=t.find(p=>p.value===e);return G.useEffect(()=>{const p=x=>{f.current&&!f.current.contains(x.target)&&u(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),c.jsxs("div",{className:"relative",ref:f,children:[s&&c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s}),c.jsxs("button",{type:"button",onClick:()=>u(!o),className:`
                    w-full p-4 flex items-center justify-between
                    bg-white border-2 rounded-2xl transition-all duration-300
                    ${o?"border-blue-500 ring-4 ring-blue-500/20 shadow-xl":"border-gray-200 hover:border-blue-300 hover:shadow-md"}
                `,children:[c.jsxs("div",{className:"flex items-center gap-3 text-left",children:[m?.icon&&c.jsx("div",{className:`p-1.5 rounded-lg ${m.iconBg||"bg-gray-100"}`,children:c.jsx(m.icon,{className:`w-5 h-5 ${m.iconColor||"text-gray-600"}`})}),c.jsx("span",{className:`text-lg font-medium ${m?"text-gray-900":"text-gray-500"}`,children:m?m.label:i})]}),c.jsx(yf,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-blue-500":""}`})]}),c.jsx("div",{className:`
                    absolute z-50 w-full mt-2 bg-white rounded-2xl border border-gray-100 shadow-2xl overflow-hidden origin-top transition-all duration-300 ease-out
                    ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-4 pointer-events-none"}
                `,children:c.jsx("div",{className:"p-2 space-y-1 max-h-80 overflow-y-auto custom-scrollbar",children:t.map(p=>{const x=p.value===e;return c.jsxs("button",{onClick:()=>{n(p.value),u(!1)},className:`
                                    w-full p-3 flex items-center justify-between rounded-xl transition-all
                                    ${x?"bg-blue-50 text-blue-900":"hover:bg-gray-50 text-gray-700"}
                                `,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[p.icon&&c.jsx("div",{className:`p-1.5 rounded-lg ${p.iconBg||"bg-gray-100"}`,children:c.jsx(p.icon,{className:`w-4 h-4 ${p.iconColor||"text-gray-500"}`})}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:`font-medium ${x?"text-blue-900":"text-gray-900"}`,children:p.label}),p.description&&c.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:p.description})]})]}),x&&c.jsx(no,{className:"w-5 h-5 text-blue-600"})]},p.value)})})})]})}function tI({semester:t,setSemester:e,studentManagement:n}){const{students:s,selectedStudent:i,isAdmin:o,isLoading:u,createStudent:f,deleteStudent:m,selectStudent:p,authenticateStudent:x,updateStudentPassword:b,updateStudentRole:w,updateStudentName:_}=n,A=i?.role==="co-leader"&&i?.rollNo!==Pe.rollNo,R=i?.permissions||{},z=o||A&&R.canCreateUsers,F=o||A&&R.canAppointCoLeaders,[V,B]=G.useState(!1),[H,X]=G.useState({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1}),[L,I]=G.useState(!1),[j,D]=G.useState(!1),[k,P]=G.useState(!1),[O,C]=G.useState(null),[se,ye]=G.useState(null),[Q,fe]=G.useState(""),[ee,ve]=G.useState(!1),[T,re]=G.useState(""),[J,E]=G.useState(!1),[Y,ue]=G.useState(!1),[ae,be]=G.useState(""),[Te,it]=G.useState(!1),[ot,ft]=G.useState(""),[Vn,pn]=G.useState(!1),[_e,We]=G.useState(""),[Ot,Nt]=G.useState(""),[er,fr]=G.useState(null),[Hn,hr]=G.useState(!1),[Xa,mr]=G.useState(!1),[Yn,vs]=G.useState(null),[ie,pe]=G.useState({password:"",confirmPassword:""}),[Ce,De]=G.useState(!1),[He,gn]=G.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),ln=G.useMemo(()=>{if(!Q.trim())return s;const ce=Q.toLowerCase();return s.filter(Ue=>Ue.name.toLowerCase().includes(ce)||Ue.rollNo.toLowerCase().includes(ce))},[s,Q]),Jt=()=>{re(i.name),ve(!0)},An=()=>{ve(!1),re("")},qt=async()=>{if(!T.trim()){Ae.error("Name cannot be empty");return}try{E(!0),await _(i.rollNo,T),Ae.success(" Name updated successfully!"),ve(!1)}catch(ce){Ae.error(` Error updating name: ${ce.message}`)}finally{E(!1)}},Rt=ce=>{gn(ce),De(!0)},jn=()=>{He.onConfirm(),De(!1)},xn=()=>{De(!1)},Ka=async ce=>{if(ce.rollNo===Pe.rollNo&&i?.rollNo!==Pe.rollNo){ue(!0),ft("");return}if(ce.isProtected&&ce.rollNo!==i?.rollNo){fr(ce),We(""),Nt(""),pn(!0);return}p(ce)},Za=async ce=>{if(ce.preventDefault(),!ae.trim()){ft("Please enter admin password");return}it(!0),ft(""),setTimeout(async()=>{const Ue=s.find(ei=>ei.rollNo===Pe.rollNo);await x(Ue,ae)?(p(Ue),ue(!1),be("")):(ft("Incorrect admin password. Please try again."),be("")),it(!1)},800)},Dr=async ce=>{if(ce.preventDefault(),!_e.trim()){Nt("Please enter password");return}hr(!0),Nt("");try{await x(er,_e)?(p(er),pn(!1),fr(null),We("")):(Nt("Incorrect password. Please try again."),We(""))}catch{Nt("Authentication failed. Please try again.")}finally{hr(!1)}},Ir=()=>{pn(!1),fr(null),We(""),Nt("")},Ja=()=>{ue(!1),be(""),ft("")},pr=async ce=>{if(ce.preventDefault(),!H.rollNo.trim()||!H.name.trim()){Ae.error("Please fill in both roll number and name");return}if(L&&!H.password.trim()){Ae.error("Please enter a password or uncheck password protection");return}try{P(!0);const Ue=Number(H.admissionYear),kt=new Date().getFullYear();if(!Number.isInteger(Ue)||Ue<2e3||Ue>kt){Ae.error("Please enter a valid admission year"),P(!1);return}await f(H.rollNo.trim(),H.name.trim(),L?H.password.trim():"",H.role,Ue,H.isDSY),X({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1}),I(!1),B(!1),Ae.success(" Student created successfully!")}catch(Ue){Ae.error(` Error creating student: ${Ue.message}`)}finally{P(!1)}},Wa=async(ce,Ue)=>{if(ce===Pe.rollNo){Ae.error("Cannot delete admin student");return}Rt({title:"Delete Student",message:`Are you sure you want to delete "${Ue}" (${ce})?

This will permanently delete all their academic data and cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{try{C(ce),await m(ce),Ae.success(" Student deleted successfully!")}catch(kt){Ae.error(` Error deleting student: ${kt.message}`)}finally{C(null)}}})},Mr=async(ce,Ue)=>{if(ce.rollNo===Pe.rollNo){Ae.error("Cannot change admin role");return}const kt={student:"Student","co-leader":"Co-Leader"};Rt({title:"Change Role",message:`Change ${ce.name}'s role to ${kt[Ue]}?

${Ue==="co-leader"?"Co-leaders can create and manage notices.":"Students have standard access only."}`,confirmText:"Change Role",cancelText:"Cancel",confirmColor:"blue",icon:"warning",onConfirm:async()=>{try{ye(ce.rollNo),await w(ce.rollNo,Ue),Ae.success(` ${ce.name}'s role updated to ${kt[Ue]}!`)}catch(ei){Ae.error(` Error updating role: ${ei.message}`)}finally{ye(null)}}})},ws=ce=>{vs(ce),mr(!0),pe({password:"",confirmPassword:""})},$r=async ce=>{if(ce.preventDefault(),ie.password!==ie.confirmPassword){Ae.error("Passwords do not match");return}if(!ie.password.trim()){Ae.error("Please enter a password");return}try{const Ue=Yn?.isProtected;await b(Yn.rollNo,ie.password),mr(!1),vs(null),Ue?Ae.success(" Password updated successfully!"):Ae.success(" Password added successfully!")}catch(Ue){Ae.error(` Error updating password: ${Ue.message}`)}},Yi=async ce=>{Rt({title:"Remove Password Protection",message:`Remove password protection from ${ce.name}?

This will allow unrestricted access to their account.`,confirmText:"Remove",cancelText:"Cancel",confirmColor:"orange",icon:"warning",onConfirm:async()=>{try{await b(ce.rollNo,"",!0),Ae.success(" Password protection removed!")}catch(Ue){Ae.error(` Error removing password: ${Ue.message}`)}}})},Et=()=>{fe("")},Tt=ce=>{switch(ce){case"admin":return{name:"Admin",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:Cr};case"co-leader":return{name:"Co-Leader",color:"text-purple-600",bgColor:"bg-purple-100",icon:Nn};default:return{name:"Student",color:"text-blue-600",bgColor:"bg-blue-100",icon:Br}}};return u?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(mn,{className:"w-6 h-6 animate-spin text-blue-600"}),c.jsx("span",{className:"text-lg text-gray-600",children:"Loading students..."})]})}):c.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[c.jsx(w4,{open:Ce,title:He.title,message:He.message,confirmText:He.confirmText,cancelText:He.cancelText,confirmColor:He.confirmColor,icon:He.icon,onConfirm:jn,onCancel:xn}),Y&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(Cr,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),c.jsxs("p",{className:"text-gray-600",children:["Enter admin password to switch to ",Pe.name]})]}),c.jsxs("form",{onSubmit:Za,className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:c.jsx(Xt,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:"password",placeholder:"Admin password",value:ae,onChange:ce=>be(ce.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:Te,autoFocus:!0})]}),ot&&c.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:ot}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"submit",disabled:Te||!ae.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:Te?c.jsxs(c.Fragment,{children:[c.jsx(mn,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{children:"Authenticating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Cr,{className:"w-4 h-4"}),c.jsx("span",{children:"Switch to Admin"})]})}),c.jsx("button",{type:"button",onClick:Ja,disabled:Te,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),Vn&&er&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(Xt,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Student Authentication"}),c.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",er.name,"'s account"]})]}),c.jsxs("form",{onSubmit:Dr,className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:c.jsx(Xt,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:"password",placeholder:"Enter password",value:_e,onChange:ce=>We(ce.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:Hn,autoFocus:!0})]}),Ot&&c.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:Ot}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"submit",disabled:Hn||!_e.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:Hn?c.jsxs(c.Fragment,{children:[c.jsx(mn,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{children:"Authenticating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Xt,{className:"w-4 h-4"}),c.jsx("span",{children:"Access Account"})]})}),c.jsx("button",{type:"button",onClick:Ir,disabled:Hn,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),Xa&&Yn&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(Ra,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:Yn?.isProtected?"Change Password":"Add Password"}),c.jsxs("p",{className:"text-gray-600",children:["Set new password for ",Yn.name]})]}),c.jsxs("form",{onSubmit:$r,className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:c.jsx(Xt,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:"password",placeholder:"New password",value:ie.password,onChange:ce=>pe({...ie,password:ce.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,autoFocus:!0})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:c.jsx(Xt,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:"password",placeholder:"Confirm password",value:ie.confirmPassword,onChange:ce=>pe({...ie,confirmPassword:ce.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all font-medium",children:[c.jsx(Ra,{className:"w-4 h-4"}),c.jsx("span",{children:Yn?.isProtected?"Update Password":"Set Password"})]}),c.jsx("button",{type:"button",onClick:()=>mr(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),c.jsxs("div",{className:"text-center px-4",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Student & Semester Management"}),c.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Manage students, roles, and select current semester"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[c.jsx(Br,{className:"w-5 h-5"}),"Current Student",i?.rollNo===Pe.rollNo&&c.jsx(Cr,{className:"w-4 h-4 text-yellow-500"})]}),i&&c.jsx("div",{className:`relative overflow-hidden rounded-2xl p-0.5 shadow-lg transition-all hover:shadow-xl ${i.rollNo===Pe.rollNo?"bg-gradient-to-br from-amber-200 via-yellow-100 to-orange-100":i.role==="co-leader"?"bg-gradient-to-br from-purple-200 via-fuchsia-100 to-pink-100":"bg-gradient-to-br from-blue-200 via-sky-100 to-indigo-100"}`,children:c.jsx("div",{className:`relative rounded-[14px] p-4 backdrop-blur-sm ${i.rollNo===Pe.rollNo||i.role==="co-leader"?"bg-white/60":"bg-white/80"}`,children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center gap-2",children:ee?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:T,onChange:ce=>re(ce.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-bold text-gray-900",autoFocus:!0,onKeyDown:ce=>{ce.key==="Enter"&&qt(),ce.key==="Escape"&&An()}}),c.jsx("button",{onClick:qt,disabled:J,className:"p-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all",title:"Save Name",children:J?c.jsx(mn,{className:"w-4 h-4 animate-spin"}):c.jsx(no,{className:"w-4 h-4"})}),c.jsx("button",{onClick:An,disabled:J,className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",title:"Cancel",children:c.jsx(an,{className:"w-4 h-4"})})]}):c.jsxs("div",{className:"flex items-center gap-2 group",children:[c.jsx("p",{className:`font-bold ${i.rollNo===Pe.rollNo?"text-yellow-900":i.role==="co-leader"?"text-purple-900":"text-blue-900"}`,children:i.name}),c.jsx("button",{onClick:Jt,className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-blue-600 transition-all",title:"Edit Name",children:c.jsx(Fi,{className:"w-3 h-3"})})]})}),c.jsxs("p",{className:`text-sm ${i.rollNo===Pe.rollNo?"text-yellow-700":i.role==="co-leader"?"text-purple-700":"text-blue-700"}`,children:["Roll No: ",i.rollNo]}),i.admissionYear&&c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full border ${i.rollNo===Pe.rollNo?"text-yellow-700 bg-yellow-50 border-yellow-200":i.role==="co-leader"?"text-purple-700 bg-purple-50 border-purple-200":"text-blue-700 bg-blue-50 border-blue-200"}`,children:D0(i)})}),i.admissionYear&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Admission: ",i.admissionYear||"N/A"," ",i.isDSY?"(DSY)":""]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsxs("div",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${Tt(i.role||"student").bgColor}`,children:[vt.createElement(Tt(i.role||"student").icon,{className:`w-3 h-3 ${Tt(i.role||"student").color}`}),c.jsx("span",{className:Tt(i.role||"student").color,children:Tt(i.role||"student").name})]}),i.isProtected&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Xt,{className:"w-3 h-3 text-blue-600"}),c.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]})]})})})}),c.jsx("div",{className:"mt-4 p-4 bg-amber-50 rounded-2xl border border-amber-200 shadow-sm transition-all hover:bg-amber-100/50",children:c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:c.jsx(v2,{className:"w-5 h-5 text-amber-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-sm font-bold text-amber-900 mb-1 flex items-center gap-2",children:"Data Retention Notice"}),c.jsxs("p",{className:"text-xs text-amber-800 leading-relaxed font-medium",children:["To maintain data privacy and system performance, student profiles and all associated data (Academic Progress, Notes) are automatically deleted ",c.jsx("span",{className:"text-amber-900 font-bold underline",children:"1 year after graduation"}),"."]})]})]})})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Semester"}),c.jsxs("div",{className:"relative",children:[" ",c.jsx(m2,{options:(i?.isDSY?[3,4,5,6,7,8]:[1,2,3,4,5,6,7,8]).map(ce=>({value:ce,label:`Semester ${ce}`,description:`${Ys[ce].theory.length} theory + ${Ys[ce].practical.length} practical`,icon:Nn,iconColor:"text-blue-500",iconBg:"bg-blue-50"})),value:t,onChange:ce=>e(Number(ce)),placeholder:"Select Semester"})]}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Nn,{className:"w-4 h-4 text-blue-600 mt-1"}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium text-blue-900 text-sm",children:["Semester ",t," Overview"]}),c.jsxs("p",{className:"text-xs text-blue-700",children:[Ys[t].theory.length," theory subjects and ",Ys[t].practical.length," practical labs"]})]})]})}),i?.isDSY&&c.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-xl border border-yellow-200 text-sm text-yellow-700",children:"Note: DSY students start from Semester 3  Semesters 1 & 2 are hidden for DSY students."})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(gs,{className:"w-5 h-5"}),"Select Student (",s.length," total)"]}),z&&c.jsxs("button",{onClick:()=>B(!V),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:[c.jsx(os,{className:"w-4 h-4"}),"Add Student"]})]}),c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:c.jsx(vf,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:Q,onChange:ce=>fe(ce.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Q&&c.jsx("button",{onClick:Et,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c.jsx(an,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),V&&z&&c.jsxs("form",{onSubmit:pr,className:"mb-6 p-4 bg-green-50 rounded-2xl border border-green-200",children:[c.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Create New Student"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[c.jsx("input",{type:"text",placeholder:"Roll Number (e.g., 2405226)",value:H.rollNo,onChange:ce=>X({...H,rollNo:ce.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),c.jsx("input",{type:"text",placeholder:"Full Name",value:H.name,onChange:ce=>X({...H,name:ce.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),c.jsxs("div",{className:"mb-3 relative",children:[" ",c.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Role"}),c.jsx(m2,{options:[{value:"student",label:"Student",icon:Br,iconColor:"text-blue-500",iconBg:"bg-blue-50",description:"Standard access"},{value:"co-leader",label:"Co-Leader",icon:Nn,iconColor:"text-purple-500",iconBg:"bg-purple-50",description:"Can manage certain notices"}],value:H.role,onChange:ce=>X({...H,role:ce}),placeholder:"Select Role"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Admission Year"}),c.jsx("input",{type:"number",min:"2000",max:new Date().getFullYear(),value:H.admissionYear,onChange:ce=>X({...H,admissionYear:ce.target.value}),className:"w-full p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Direct Second Year (DSY)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{id:"is-dsy",type:"checkbox",checked:H.isDSY,onChange:ce=>X({...H,isDSY:ce.target.checked}),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),c.jsx("label",{htmlFor:"is-dsy",className:"text-sm text-gray-700",children:"Is DSY (Direct Second Year)"})]})]})]}),c.jsx("div",{className:"mb-3",children:c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:L,onChange:ce=>I(ce.target.checked),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),c.jsxs("span",{className:"text-sm font-medium text-green-900 flex items-center gap-1",children:[c.jsx(us,{className:"w-4 h-4"}),"Password protect this account"]})]})}),L&&c.jsxs("div",{className:"relative mb-3",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:c.jsx(Xt,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:j?"text":"password",placeholder:"Password",value:H.password,onChange:ce=>X({...H,password:ce.target.value}),className:"w-full pl-10 pr-10 p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:L}),c.jsx("button",{type:"button",onClick:()=>D(!j),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:j?c.jsx(Pa,{className:"w-4 h-4 text-gray-400"}):c.jsx(Pi,{className:"w-4 h-4 text-gray-400"})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{type:"submit",disabled:k,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all disabled:opacity-50",children:[k?c.jsx(mn,{className:"w-4 h-4 animate-spin"}):c.jsx(os,{className:"w-4 h-4"}),k?"Creating...":"Create Student"]}),c.jsx("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]}),A&&z&&!o&&c.jsx("div",{className:"mb-4 p-3 bg-purple-50 rounded-xl border border-purple-200",children:c.jsxs("p",{className:"text-sm text-purple-700",children:[c.jsx(Nn,{className:"w-4 h-4 inline mr-1"}),"As a co-leader, you can create new student accounts with your granted permissions."]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:ln.length>0?ln.map(ce=>{const Ue=Tt(ce.role||"student");return c.jsxs("div",{className:`
                    p-4 rounded-2xl border-2 transition-all cursor-pointer relative
                    ${i?.rollNo===ce.rollNo?ce.rollNo===Pe.rollNo?"border-yellow-500 bg-yellow-50":ce.role==="co-leader"?"border-purple-500 bg-purple-50":"border-blue-500 bg-blue-50":ce.rollNo===Pe.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300":ce.role==="co-leader"?"border-purple-200 bg-purple-50 hover:border-purple-300":ce.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300":"border-gray-200 bg-gray-50 hover:border-blue-300"}
                  `,onClick:()=>Ka(ce),children:[ce.isProtected&&c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx(Xt,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h4",{className:"font-bold text-gray-900",children:ce.name}),vt.createElement(Ue.icon,{className:`w-4 h-4 ${Ue.color}`})]}),c.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Roll: ",ce.rollNo]}),ce.admissionYear&&c.jsx("div",{className:"mb-2",children:c.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full border ${ce.rollNo===Pe.rollNo?"text-yellow-700 bg-yellow-50 border-yellow-200":ce.role==="co-leader"?"text-purple-700 bg-purple-50 border-purple-200":"text-blue-700 bg-blue-50 border-blue-200"}`,children:D0(ce)})}),c.jsx("div",{className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full ${Ue.bgColor}`,children:c.jsx("span",{className:Ue.color,children:Ue.name})}),c.jsx("div",{className:"mt-2",children:i?.rollNo===ce.rollNo?c.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Currently Selected"}):ce.isProtected?c.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Password Protected"}):null})]}),(o||F)&&ce.rollNo!==Pe.rollNo&&c.jsx("div",{className:"flex flex-col gap-1",children:c.jsxs("div",{className:"flex gap-1",children:[ce.role!=="co-leader"&&c.jsx("button",{onClick:kt=>{kt.stopPropagation(),Mr(ce,"co-leader")},disabled:se===ce.rollNo,className:"p-1 text-purple-500 hover:bg-purple-100 rounded transition-all",title:"Make Co-Leader",children:c.jsx(Sp,{className:"w-3 h-3"})}),ce.role==="co-leader"&&c.jsx("button",{onClick:kt=>{kt.stopPropagation(),Mr(ce,"student")},disabled:se===ce.rollNo,className:"p-1 text-gray-500 hover:bg-gray-100 rounded transition-all",title:"Remove Co-Leader",children:c.jsx(fT,{className:"w-3 h-3"})})]})}),o&&ce.rollNo!==Pe.rollNo&&c.jsxs("div",{className:"flex flex-col gap-1",children:[ce.isProtected?c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:kt=>{kt.stopPropagation(),ws(ce)},className:"p-1 text-blue-500 hover:bg-blue-100 rounded transition-all",title:"Change Password",children:c.jsx(Ra,{className:"w-3 h-3"})}),c.jsx("button",{onClick:kt=>{kt.stopPropagation(),Yi(ce)},className:"p-1 text-orange-500 hover:bg-orange-100 rounded transition-all",title:"Remove Password",children:c.jsx(us,{className:"w-3 h-3"})})]}):c.jsx("div",{className:"flex gap-1",children:c.jsx("button",{onClick:kt=>{kt.stopPropagation(),ws(ce)},className:"p-1 text-green-500 hover:bg-green-100 rounded transition-all",title:"Add Password",children:c.jsx(Ra,{className:"w-3 h-3"})})}),c.jsx("button",{onClick:kt=>{kt.stopPropagation(),Wa(ce.rollNo,ce.name)},disabled:O===ce.rollNo,className:"p-1 text-red-500 hover:bg-red-100 rounded transition-all disabled:opacity-50",title:"Delete Student",children:O===ce.rollNo?c.jsx(mn,{className:"w-3 h-3 animate-spin"}):c.jsx(ps,{className:"w-3 h-3"})})]})]})]},ce.rollNo)}):c.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[c.jsx(gs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),c.jsxs("p",{children:['No students found matching "',Q,'"']})]})})]})]})}function nI({selectedStudent:t}){const[e,n]=G.useState(!1),[s,i]=G.useState(!1);if(!t)return null;const o=Number(t.admissionYear)||null,u=o?o+4:null,f=new Date().getFullYear(),m=u&&f>=u,p=()=>{n(!0),Ae.success(` Congratulations! ${t.name} marked as graduated!`)},x=()=>{i(!0),setTimeout(()=>{i(!1),Ae.success(" Transcript exported successfully!")},1500)};return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[c.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 text-center bg-gray-900 border border-gray-800 shadow-2xl",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-green-500 to-emerald-800 rounded-full blur-[100px] opacity-20"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-blue-500 to-indigo-800 rounded-full blur-[100px] opacity-20"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",children:c.jsx(Xs,{className:"w-10 h-10 text-green-400 drop-shadow-[0_0_15px_rgba(74,222,128,0.5)]"})}),c.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-white mb-2 tracking-tight",children:"Degree Completion"}),c.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-base sm:text-lg",children:"Track graduation eligibility and manage certification"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:c.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(x2,{className:"w-5 h-5 text-indigo-500"}),"Current Status"]})}),c.jsxs("div",{className:"p-8",children:[c.jsx("div",{className:`p-6 rounded-2xl border mb-8 ${e?"bg-green-50 border-green-200":m?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${e?"bg-green-500 text-white shadow-lg shadow-green-200":m?"bg-blue-500 text-white shadow-lg shadow-blue-200":"bg-gray-200 text-gray-500"}`,children:e?c.jsx(ab,{className:"w-6 h-6"}):c.jsx(bf,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h4",{className:`text-xl font-bold mb-1 ${e?"text-green-900":m?"text-blue-900":"text-gray-900"}`,children:e?"Graduated":m?"Eligible for Graduation":"In Progress"}),c.jsx("p",{className:`${e?"text-green-700":m?"text-blue-700":"text-gray-500"}`,children:e?`${t.name} has successfully completed their degree.`:m?`${t.name} has completed the required academic period.`:`${t.name} is currently pursuing their degree.`})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!e&&c.jsxs("button",{onClick:p,disabled:!m&&t.rollNo!==Pe.rollNo,className:`p-4 rounded-xl border-2 border-dashed flex flex-col items-center justify-center gap-3 transition-all ${m||t.rollNo===Pe.rollNo?"border-green-300 bg-green-50 hover:bg-green-100 cursor-pointer hover:border-green-400 hover:shadow-md":"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed"}`,children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:c.jsx(Sp,{className:"w-5 h-5"})}),c.jsx("span",{className:"font-semibold text-green-900",children:"Mark as Graduated"})]}),c.jsxs("button",{onClick:x,disabled:s,className:"p-4 rounded-xl border-2 border-dashed border-indigo-200 bg-indigo-50 hover:bg-indigo-100 flex flex-col items-center justify-center gap-3 transition-all cursor-pointer hover:border-indigo-300 hover:shadow-md",children:[s?c.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:c.jsx(ab,{className:"w-6 h-6 text-indigo-500 animate-spin"})}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600",children:c.jsx(Gs,{className:"w-5 h-5"})}),c.jsx("span",{className:"font-semibold text-indigo-900",children:s?"Exporting...":"Export Transcript"})]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-6 h-fit",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[c.jsx(kr,{className:"w-5 h-5 text-orange-500"}),"Timeline"]}),c.jsxs("div",{className:"space-y-6 relative before:absolute before:left-3.5 before:top-2 before:bottom-2 before:w-0.5 before:bg-gray-100",children:[c.jsxs("div",{className:"relative pl-10",children:[c.jsx("div",{className:"absolute left-0 top-0 w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center border-4 border-white shadow-sm z-10",children:c.jsx("span",{className:"text-xs font-bold text-orange-600",children:"1"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Admission"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic Year"}),c.jsx("p",{className:"font-mono text-sm text-gray-700 font-medium bg-gray-50 inline-block px-2 py-1 rounded mt-1",children:o||"N/A"})]})]}),c.jsxs("div",{className:"relative pl-10",children:[c.jsx("div",{className:"absolute left-0 top-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center border-4 border-white shadow-sm z-10",children:c.jsx("span",{className:"text-xs font-bold text-green-600",children:"4"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Expected Completion"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"4-Year Program"}),c.jsx("p",{className:"font-mono text-sm text-gray-700 font-medium bg-gray-50 inline-block px-2 py-1 rounded mt-1",children:u||"N/A"})]})]})]}),c.jsx("div",{className:"mt-8 p-4 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl border border-yellow-100 text-center",children:c.jsx("p",{className:"text-yellow-800 text-sm italic font-medium",children:'"Success is the sum of small efforts, repeated day in and day out."'})})]})]}),c.jsx("div",{className:"bg-amber-50 rounded-3xl p-6 border border-amber-200 shadow-sm transition-all hover:bg-amber-100/50",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-amber-100 rounded-2xl flex items-center justify-center shadow-sm",children:c.jsx(v2,{className:"w-6 h-6 text-amber-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold text-amber-900 mb-2",children:"Data Retention Policy"}),c.jsxs("p",{className:"text-amber-800 leading-relaxed font-medium",children:["To maintain data privacy and system performance, your student profile and all associated data (Academic Records, Personal Notes, and Settings) are automatically deleted ",c.jsx("span",{className:"text-amber-900 font-bold underline",children:"1 year after graduation"}),". Please ensure you export any necessary records before this period."]})]})]})})]})}const vc={canCreateUsers:!1,canPostNotices:!0,canAppointCoLeaders:!1,canManagePasswords:!1};function rI({selectedStudent:t,studentManagement:e,onNavigateToTab:n}){const{students:s,isAdmin:i,updateStudentRole:o,updateStudentPassword:u,updateCoLeaderPermissions:f}=e,[m,p]=G.useState(null),[x,b]=G.useState(""),[w,_]=G.useState(!1),[A,R]=G.useState(null),[z,F]=G.useState("add"),[V,B]=G.useState(""),[H,X]=G.useState(""),[L,I]=G.useState(!1),[j,D]=G.useState(null),[k,P]=G.useState(!1),O=t?.role==="co-leader"&&t?.rollNo!==Pe.rollNo,C=G.useMemo(()=>i?null:O?t?.permissions||vc:null,[i,O,t]),se=G.useMemo(()=>s.filter(J=>J.role==="co-leader"&&J.rollNo!==Pe.rollNo),[s]),ye=G.useMemo(()=>{let J=s;if(O&&!i&&(J=J.filter(Y=>Y.rollNo!==Pe.rollNo)),!x.trim())return J;const E=x.toLowerCase();return J.filter(Y=>Y.name.toLowerCase().includes(E)||Y.rollNo.toLowerCase().includes(E))},[s,x,O,i]),Q=async(J,E,Y)=>{if(!i){Ae.error("Only admin can modify co-leader permissions");return}D(`${J}-${E}`);try{const be={...s.find(Te=>Te.rollNo===J)?.permissions||vc,[E]:!Y};await f(J,be),Ae.success("Permission updated successfully!")}catch(ue){Ae.error(`Failed to update permission: ${ue.message}`)}finally{D(null)}},fe=(J,E)=>{R(J),F(E),B(""),X(""),I(!1),_(!0)},ee=async()=>{if(z!=="remove"){if(!V.trim()){Ae.error("Please enter a password");return}if(V!==H){Ae.error("Passwords do not match");return}}P(!0);try{z==="remove"?(await u(A.rollNo,"",!0),Ae.success("Password removed successfully!")):(await u(A.rollNo,V),Ae.success(z==="add"?"Password added successfully!":"Password changed successfully!")),_(!1)}catch(J){Ae.error(`Failed to ${z} password: ${J.message}`)}finally{P(!1)}},ve=J=>{switch(J){case"createUser":n(4,{showCreateForm:!0});break;case"manageNotices":n(2);break;case"viewStudents":n(4);break}},T={canCreateUsers:{label:"Create Users",desc:"Can create new student accounts",icon:ob},canPostNotices:{label:"Post Notices",desc:"Can create and manage notices",icon:Di},canAppointCoLeaders:{label:"Appoint Co-Leaders",desc:"Can promote students to co-leader role",icon:Nn},canManagePasswords:{label:"Manage Passwords",desc:"Can add, change, or remove user passwords",icon:Ra}},re=(J,E)=>{const ue=(J.permissions||vc)[E]??vc[E],ae=j===`${J.rollNo}-${E}`,be=T[E].icon;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${ue?"bg-green-100":"bg-gray-200"}`,children:c.jsx(be,{className:`w-4 h-4 ${ue?"text-green-600":"text-gray-500"}`})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 text-sm",children:T[E].label}),c.jsx("p",{className:"text-xs text-gray-500",children:T[E].desc})]})]}),c.jsx("button",{onClick:()=>Q(J.rollNo,E,ue),disabled:ae||!i,className:`relative w-12 h-6 rounded-full transition-all ${ue?"bg-green-500":"bg-gray-300"} ${i?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:ae?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(mn,{className:"w-4 h-4 animate-spin text-white"})}):c.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-all ${ue?"left-6":"left-0.5"}`})})]},E)};return t?!i&&!O?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx(us,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),c.jsx("p",{className:"text-gray-600",children:"Only admins and co-leaders can access this panel"})]})}):c.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[w&&A&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 ${z==="remove"?"bg-gradient-to-r from-red-500 to-orange-500":"bg-gradient-to-r from-blue-500 to-purple-500"}`,children:c.jsx(Ra,{className:"w-8 h-8 text-white"})}),c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[z==="add"&&"Add Password",z==="change"&&"Change Password",z==="remove"&&"Remove Password"]}),c.jsx("p",{className:"text-gray-600",children:z==="remove"?`Remove password protection from ${A.name}?`:`Set password for ${A.name}`})]}),z!=="remove"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:c.jsx(Xt,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:L?"text":"password",placeholder:"New password",value:V,onChange:J=>B(J.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),c.jsx("button",{type:"button",onClick:()=>I(!L),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:L?c.jsx(Pa,{className:"w-5 h-5 text-gray-400"}):c.jsx(Pi,{className:"w-5 h-5 text-gray-400"})})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:c.jsx(Xt,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:L?"text":"password",placeholder:"Confirm password",value:H,onChange:J=>X(J.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),z==="remove"&&c.jsx("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200 mb-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(zd,{className:"w-5 h-5 text-red-600 mt-0.5"}),c.jsx("p",{className:"text-sm text-red-700",children:"This will allow anyone to access this student's account without a password."})]})}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx("button",{onClick:ee,disabled:k,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium ${z==="remove"?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"}`,children:k?c.jsxs(c.Fragment,{children:[c.jsx(mn,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{children:"Processing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ra,{className:"w-4 h-4"}),c.jsx("span",{children:z==="remove"?"Remove Password":"Save Password"})]})}),c.jsx("button",{type:"button",onClick:()=>_(!1),disabled:k,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})}),c.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 mb-8 text-center bg-gray-900 border border-gray-800 shadow-2xl",children:[c.jsx("div",{className:`absolute top-0 right-0 w-64 h-64 bg-gradient-to-br rounded-full blur-[100px] opacity-30 ${i?"from-yellow-600 to-amber-800":"from-purple-600 to-pink-800"}`}),c.jsx("div",{className:`absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr rounded-full blur-[100px] opacity-30 ${i?"from-amber-600 to-yellow-800":"from-pink-600 to-purple-800"}`}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",children:i?c.jsx(Cr,{className:"w-10 h-10 text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"}):c.jsx(Nn,{className:"w-10 h-10 text-purple-400 drop-shadow-[0_0_15px_rgba(192,132,252,0.5)]"})}),c.jsx("h2",{className:"text-2xl sm:text-4xl font-extrabold text-white mb-2 tracking-tight",children:"Admin Privileges"}),c.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-base sm:text-lg",children:i?"Manage co-leader permissions and quick admin actions with executive control":"View your assigned permissions and accessible management tools"})]})]}),c.jsxs("div",{className:`relative overflow-hidden rounded-3xl p-1 border shadow-xl ${i?"bg-gradient-to-br from-amber-200/50 via-yellow-100/50 to-orange-100/50 border-amber-200":"bg-gradient-to-br from-purple-200/50 via-fuchsia-100/50 to-pink-100/50 border-purple-200"}`,children:[c.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-overlay bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),c.jsxs("div",{className:"relative flex items-center gap-6 p-6 rounded-[20px] backdrop-blur-sm bg-white/40",children:[c.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg ${i?"bg-gradient-to-br from-yellow-400 to-amber-600 text-white":"bg-gradient-to-br from-purple-500 to-fuchsia-600 text-white"}`,children:i?c.jsx(Cr,{className:"w-8 h-8 drop-shadow-md"}):c.jsx(Nn,{className:"w-8 h-8 drop-shadow-md"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:`font-bold text-xl sm:text-2xl ${i?"text-amber-900":"text-purple-900"}`,children:i?"Administrator":"Co-Leader"}),c.jsx("span",{className:`px-3 py-0.5 rounded-full text-xs font-bold uppercase tracking-wider ${i?"bg-amber-900/10 text-amber-900":"bg-purple-900/10 text-purple-900"}`,children:"Verified"})]}),c.jsxs("p",{className:`font-medium ${i?"text-amber-700":"text-purple-700"}`,children:[t.name," ",c.jsx("span",{className:"opacity-60",children:""})," ",t.rollNo]})]}),c.jsx("div",{className:"ml-auto hidden md:block opacity-10 scale-150 transform translate-x-4",children:i?c.jsx(Cr,{size:120}):c.jsx(Nn,{size:120})})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg",children:c.jsx(La,{className:"w-5 h-5 text-gray-700"})}),"Quick Actions"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(i||C?.canCreateUsers)&&c.jsxs("button",{onClick:()=>ve("createUser"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-green-50 hover:from-green-50 hover:to-green-100 rounded-2xl border border-green-100 hover:border-green-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:c.jsx(ob,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-bold text-green-900 text-lg group-hover:text-green-800",children:"Create User"}),c.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Add new student"})]}),c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-green-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-green-300/30 transition-all"})]}),(i||C?.canPostNotices)&&c.jsxs("button",{onClick:()=>ve("manageNotices"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-blue-50 hover:from-blue-50 hover:to-blue-100 rounded-2xl border border-blue-100 hover:border-blue-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:c.jsx(Di,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-bold text-blue-900 text-lg group-hover:text-blue-800",children:"Manage Notices"}),c.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Create & edit notices"})]}),c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-blue-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-blue-300/30 transition-all"})]}),c.jsxs("button",{onClick:()=>ve("viewStudents"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-purple-50 hover:from-purple-50 hover:to-purple-100 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-fuchsia-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:c.jsx(gs,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-bold text-purple-900 text-lg group-hover:text-purple-800",children:"View Students"}),c.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Student management"})]}),c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-purple-300/30 transition-all"})]})]})]}),i&&c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[c.jsx(Nn,{className:"w-5 h-5 text-purple-500"}),"Co-Leader Permissions",c.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",se.length," co-leader",se.length!==1?"s":"",")"]})]}),se.length===0?c.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-2xl",children:[c.jsx(Nn,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),c.jsx("p",{className:"text-gray-600 mb-2",children:"No co-leaders appointed yet"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Go to Student & Settings to promote students to co-leader role"})]}):c.jsx("div",{className:"space-y-4",children:se.map(J=>c.jsxs("div",{className:"border border-gray-200 rounded-2xl overflow-hidden",children:[c.jsxs("button",{onClick:()=>p(m===J.rollNo?null:J.rollNo),className:"w-full flex items-center justify-between p-4 bg-purple-50 hover:bg-purple-100 transition-all",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-xl flex items-center justify-center",children:c.jsx(Nn,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-medium text-purple-900",children:J.name}),c.jsx("p",{className:"text-sm text-purple-700",children:J.rollNo})]})]}),m===J.rollNo?c.jsx(Np,{className:"w-5 h-5 text-purple-600"}):c.jsx(yf,{className:"w-5 h-5 text-purple-600"})]}),m===J.rollNo&&c.jsx("div",{className:"p-4 space-y-3 bg-white",children:Object.keys(T).map(E=>re(J,E))})]},J.rollNo))})]}),O&&C&&c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[c.jsx(us,{className:"w-5 h-5 text-purple-500"}),"Your Permissions"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(T).map(([J,E])=>{const Y=C[J]??vc[J],ue=E.icon;return c.jsx("div",{className:`p-4 rounded-2xl border ${Y?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${Y?"bg-green-500":"bg-gray-400"}`,children:c.jsx(ue,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("p",{className:`font-medium ${Y?"text-green-900":"text-gray-700"}`,children:E.label}),c.jsx("p",{className:"text-xs text-gray-500",children:E.desc})]}),c.jsx("div",{className:"ml-auto",children:Y?c.jsx(no,{className:"w-5 h-5 text-green-600"}):c.jsx(an,{className:"w-5 h-5 text-gray-400"})})]})},J)})})]}),(i||C?.canManagePasswords)&&c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[c.jsx(Ra,{className:"w-5 h-5 text-blue-500"}),"Password Management"]}),c.jsxs("div",{className:"relative mb-4",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:c.jsx(vf,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:x,onChange:J=>b(J.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),x&&c.jsx("button",{onClick:()=>b(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c.jsx(an,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),c.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ye.map(J=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${J.rollNo===Pe.rollNo?"bg-yellow-100":J.role==="co-leader"?"bg-purple-100":"bg-blue-100"}`,children:J.rollNo===Pe.rollNo?c.jsx(Cr,{className:"w-4 h-4 text-yellow-600"}):J.role==="co-leader"?c.jsx(Nn,{className:"w-4 h-4 text-purple-600"}):c.jsx(Sp,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 text-sm",children:J.name}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-500",children:J.rollNo}),J.isProtected&&c.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[c.jsx(Xt,{className:"w-3 h-3"}),"Protected"]})]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:J.isProtected?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>fe(J,"change"),className:"px-3 py-1.5 text-xs font-medium bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all",children:"Change"}),J.rollNo!==Pe.rollNo&&c.jsx("button",{onClick:()=>fe(J,"remove"),className:"px-3 py-1.5 text-xs font-medium bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:"Remove"})]}):c.jsx("button",{onClick:()=>fe(J,"add"),className:"px-3 py-1.5 text-xs font-medium bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all",children:"Add Password"})})]},J.rollNo))})]})]}):c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx(us,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),c.jsx("p",{className:"text-gray-600",children:"Please select a student to view admin privileges"})]})})}function sI({selectedStudent:t,semester:e}){const{notices:n}=Uf(t,e),[s,i]=G.useState(new Date),[o,u]=G.useState(new Date),[f,m]=G.useState(new Date),[p,x]=G.useState(new Date),[b,w]=G.useState("month"),[_,A]=G.useState(0),[R,z]=G.useState(!1);G.useEffect(()=>{const ee=re=>{const J=new Date,E=re.getTime()-J.getTime();A(E),z(!0)},ve=async()=>{const re=async(E,Y={})=>{const{timeout:ue=5e3,...ae}=Y,be=new AbortController,Te=setTimeout(()=>be.abort(),ue);try{const it=await fetch(E,{...ae,signal:be.signal});return clearTimeout(Te),it}catch(it){throw clearTimeout(Te),it}},J=[async()=>{const E=await re("https://timeapi.io/api/Time/current/zone?timeZone=Asia/Kolkata",{timeout:5e3});if(!E.ok)throw new Error("TimeAPI failed");const Y=await E.json();return new Date(Y.dateTime+"+05:30")},async()=>{const E=await re("https://worldtimeapi.org/api/timezone/Asia/Kolkata",{timeout:5e3});if(!E.ok)throw new Error("WorldTimeAPI failed");const Y=await E.json();return new Date(Y.datetime)},async()=>{const Y=(await re("https://api.github.com",{method:"HEAD",timeout:5e3})).headers.get("date");if(!Y)throw new Error("No Date header");return new Date(Y)},async()=>{const E=await re("https://api.coindesk.com/v1/bpi/currentprice.json",{timeout:5e3});if(!E.ok)throw new Error("Coindesk failed");const Y=await E.json();return new Date(Y.time.updatedISO)}];for(let E=0;E<J.length;E++)try{const Y=await J[E]();ee(Y);return}catch{}z(!1)};ve();const T=setInterval(ve,300*1e3);return()=>clearInterval(T)},[]),G.useEffect(()=>{const ee=setInterval(()=>{m(new Date(Date.now()+_))},1e3);return()=>clearInterval(ee)},[_]),G.useEffect(()=>{n.length>0&&x(new Date(Date.now()+_))},[n,_]);const F=ee=>ee.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"}),V=ee=>ee.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",timeZone:"Asia/Kolkata"}),B=ee=>ee.toLocaleDateString("en-US",{weekday:"long",timeZone:"Asia/Kolkata"}),H=ee=>{if(!ee)return"Never updated";const ve=new Date-ee;return ve<6e4?"Updated just now":ve<36e5?`Updated ${Math.floor(ve/6e4)} minutes ago`:ve<864e5?`Updated ${Math.floor(ve/36e5)} hours ago`:`Updated on ${ee.toLocaleDateString()}`},X=(ee,ve)=>ee.getDate()===ve.getDate()&&ee.getMonth()===ve.getMonth()&&ee.getFullYear()===ve.getFullYear(),L=G.useMemo(()=>n.flatMap(ee=>{const ve={id:ee.id,type:ee.type,meta:ee.meta};if(ee.type==="todo"&&ee.meta.dueDate){const T=new Date(ee.meta.dueDate);return isNaN(T)?null:{...ve,title:ee.content,date:T,color:"bg-blue-500",icon:v5}}if(ee.type==="reminder"&&ee.meta.reminderDate){const T=new Date(ee.meta.reminderDate);return isNaN(T)?null:{...ve,title:ee.content,date:T,color:"bg-yellow-500",icon:Ic}}if(ee.type==="assessment"){if(ee.meta.assessments?.length>0)return ee.meta.assessments.map((T,re)=>{const J=new Date(T.date);return isNaN(J)?null:{id:`${ee.id}-${re}`,type:"assessment",title:`${T.subject}${T.assessmentName?": "+T.assessmentName:""} (${T.assessmentType})`,date:J,color:"bg-purple-500",icon:Xs,meta:ee.meta}}).filter(Boolean);if(ee.meta.date){const T=new Date(ee.meta.date);return isNaN(T)?null:{...ve,title:`${ee.meta.subject}${ee.meta.assessmentName?": "+ee.meta.assessmentName:""} (${ee.meta.assessmentType})`,date:T,color:"bg-purple-500",icon:Xs}}}return null}).filter(Boolean),[n]),I=[{day:25,month:11,title:"Christmas Day",type:"holiday"},{day:26,month:0,title:"Republic Day",type:"holiday"},{day:19,month:1,title:"Shiv Jayanti",type:"holiday"},{day:14,month:3,title:"Ambedkar Jayanti",type:"holiday"},{day:1,month:4,title:"Maharashtra Day",type:"holiday"},{day:15,month:7,title:"Independence Day",type:"holiday"},{day:2,month:9,title:"Gandhi Jayanti",type:"holiday"}],j=ee=>I.find(ve=>ve.day===ee.getDate()&&ve.month===ee.getMonth()),D=G.useMemo(()=>L,[L]),k=ee=>{const ve=D.filter(re=>X(re.date,ee)),T=j(ee);return T&&ve.unshift({id:`holiday-${ee.getTime()}`,type:"holiday",title:T.title,date:ee,color:"bg-red-600",icon:Nn}),ve},P=k(o),O=(ee,ve)=>new Date(ee,ve+1,0).getDate(),C=(ee,ve)=>(new Date(ee,ve,1).getDay()+6)%7,se=O(s.getFullYear(),s.getMonth()),ye=C(s.getFullYear(),s.getMonth()),Q=()=>{i(new Date(s.getFullYear(),s.getMonth()+1))},fe=()=>{i(new Date(s.getFullYear(),s.getMonth()-1))};return c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[c.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-3 sm:p-4 border border-gray-100 mb-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ea,{className:"w-4 h-4 text-green-600"}),c.jsx("span",{className:"text-sm text-gray-600",children:H(p)})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[c.jsx(kr,{className:"w-4 h-4"}),c.jsxs("span",{children:[D.length," Events"]})]})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-xl p-1",children:[c.jsxs("button",{onClick:()=>w("month"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${b==="month"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[c.jsx(kr,{className:"w-4 h-4"}),"Month"]}),c.jsxs("button",{onClick:()=>w("list"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${b==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[c.jsx(Gs,{className:"w-4 h-4"}),"List"]})]})]})}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsxs("div",{className:"flex-1 bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(kr,{className:"w-6 h-6 text-blue-600"}),s.toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),c.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[c.jsx("button",{onClick:fe,className:"p-2 hover:bg-white rounded-md shadow-sm transition-all text-gray-600",children:c.jsx(y2,{className:"w-5 h-5"})}),c.jsx("button",{onClick:Q,className:"p-2 hover:bg-white rounded-md shadow-sm transition-all text-gray-600",children:c.jsx(_p,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((ee,ve)=>c.jsx("div",{className:`text-center text-sm font-semibold py-2
                                        ${ve===6?"text-red-500":ve===4?"text-green-600":"text-gray-500"}`,children:ee},ee))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:ye}).map((ee,ve)=>c.jsx("div",{className:"h-16 sm:h-32 bg-gray-50/50 rounded-xl"},`empty-${ve}`)),Array.from({length:se}).map((ee,ve)=>{const T=ve+1,re=new Date(s.getFullYear(),s.getMonth(),T),J=X(re,f),E=X(re,o),Y=k(re),ue=j(re),ae=re.getDay(),it=J?"bg-blue-600 text-white shadow-md shadow-blue-200":ue||ae===0?"text-red-600 drop-shadow-[0_0_8px_rgba(239,68,68,0.5)] font-bold":ae===5?"text-green-600 drop-shadow-[0_0_8px_rgba(22,163,74,0.5)] font-bold":"text-gray-700";return c.jsxs("button",{onClick:()=>u(re),className:`
                      relative h-16 sm:h-32 rounded-xl border p-1 sm:p-2 transition-all text-left flex flex-col justify-between
                      ${E?"border-blue-500 ring-2 ring-blue-100 bg-blue-50/30":"border-transparent hover:bg-gray-50"}
                      ${J?"bg-blue-50":""}
                      ${ue?"bg-red-50/30":""} 
                    `,children:[c.jsx("span",{className:`
                      w-7 h-7 flex items-center justify-center rounded-full text-sm font-medium
                      ${it}
                    `,children:T}),c.jsxs("div",{className:"space-y-1 w-full",children:[Y.slice(0,3).map((ot,ft)=>c.jsxs("div",{className:`
                            text-[10px] truncate px-1.5 py-0.5 rounded-full flex items-center gap-1
                            ${ot.type==="assessment"?"bg-purple-100 text-purple-700":ot.type==="todo"?"bg-blue-100 text-blue-700":ot.type==="holiday"?"bg-red-100 text-red-700 font-medium":"bg-yellow-100 text-yellow-700"}
                          `,children:[c.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ot.type==="holiday"?"bg-red-500":ot.color}`}),c.jsx("span",{className:"hidden sm:inline",children:ot.title})]},ft)),Y.length>3&&c.jsxs("div",{className:"text-[10px] text-gray-400 pl-1",children:["+",Y.length-3," more"]})]})]},T)})]})]})]}),c.jsxs("div",{className:"lg:w-80 w-full flex flex-col gap-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 rounded-2xl shadow-xl p-6 text-white overflow-hidden relative z-0 group",children:[c.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl group-hover:bg-white/20 transition-all duration-700"}),c.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-20 h-20 bg-purple-500/20 rounded-full blur-xl"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[c.jsx("div",{className:"text-sm font-medium opacity-80 uppercase tracking-widest mb-1",children:B(f)}),c.jsxs("div",{className:"text-3xl sm:text-5xl font-black tracking-tighter mb-2 drop-shadow-md whitespace-nowrap",children:[F(f).split(" ")[0],c.jsx("span",{className:"text-lg sm:text-2xl font-bold opacity-60 ml-2 uppercase",children:F(f).split(" ")[1]})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-4 py-1.5 rounded-full backdrop-blur-sm border border-white/10",children:[c.jsx(kr,{className:"w-4 h-4 text-blue-200"}),c.jsx("span",{className:"text-sm font-bold tracking-tight",children:V(f)})]}),c.jsx("div",{className:`flex items-center gap-1 mt-2 text-xs px-3 py-1 rounded-full ${R?"bg-green-500/20 text-green-200":"bg-yellow-500/20 text-yellow-200"}`,children:R?c.jsxs(c.Fragment,{children:[c.jsx(S0,{className:"w-3 h-3"})," IST (Synced)"]}):c.jsxs(c.Fragment,{children:[c.jsx(cs,{className:"w-3 h-3"})," Local Clock"]})})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 flex-1 flex flex-col min-h-[400px]",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),c.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-auto",children:[P.length," Events"]})]}),c.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto -mr-2 pr-2",children:P.length>0?P.map(ee=>c.jsxs("div",{className:`
                      p-3 rounded-xl border flex gap-3
                      ${ee.type==="assessment"?"bg-purple-50 border-purple-100":ee.type==="todo"?"bg-blue-50 border-blue-100":ee.type==="holiday"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-100"}
                    `,children:[c.jsx("div",{className:`
                       mt-1 w-8 h-8 rounded-full flex items-center justify-center shrink-0
                       ${ee.type==="assessment"?"bg-purple-100 text-purple-600":ee.type==="todo"?"bg-blue-100 text-blue-600":ee.type==="holiday"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}
                     `,children:c.jsx(ee.icon,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider opacity-70 mb-0.5",children:ee.type}),c.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:ee.title}),ee.type!=="holiday"&&c.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[c.jsx(cs,{className:"w-3 h-3"}),ee.date.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]},ee.id)):c.jsxs("div",{className:"text-center py-10 text-gray-400",children:[c.jsx(cs,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),c.jsx("p",{children:"No events for this day"})]})})]})]})]})]})}function aI(t,e){const[n,s]=G.useState(()=>{try{const u=window.localStorage.getItem(t);return u?JSON.parse(u):e}catch(u){return console.error(`Error loading localStorage key "${t}":`,u),e}});return[n,u=>{try{s(u),window.localStorage.setItem(t,JSON.stringify(u))}catch(f){console.error(`Error setting localStorage key "${t}":`,f)}},()=>{try{s(e),window.localStorage.removeItem(t)}catch(u){console.error(`Error clearing localStorage key "${t}":`,u)}}]}function iI(t){const[e,n]=G.useState(navigator.onLine),[s,i]=G.useState(!1),[o,u]=G.useState(null);return G.useEffect(()=>{const p=()=>n(!0),x=()=>n(!1);return window.addEventListener("online",p),window.addEventListener("offline",x),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",x)}},[]),{isOnline:e,isSyncing:s,lastSynced:o,saveToFirestore:async(p,x,b,w)=>{if(!t)return!1;try{i(!0);const _=rn(bt,"academic-data",`${t}-${p}-${x}`);return await Hs(_,{studentId:t,semester:p,subject:x,type:w,data:b,timestamp:Gl(),lastModified:new Date().toISOString()}),u(new Date),!0}catch(_){return console.error("Error saving to Firestore:",_),!1}finally{i(!1)}},loadAllData:async()=>{if(!t)return{};try{i(!0);const p=uf(Yl(bt,"academic-data"),np("studentId","==",t));return new Promise((x,b)=>l_(p,_=>{const A={};_.forEach(R=>{const z=R.data(),F=`${z.semester}-${z.subject}`;A[F]=z}),u(new Date),x(A)},_=>{console.error("Error loading all data:",_),b(_)}))}catch(p){return console.error("Error setting up real-time listener:",p),{}}finally{i(!1)}}}}function p2(){const t=new Date().getFullYear();return c.jsxs("footer",{className:"w-full py-8 mt-auto bg-transparent border-t border-gray-100 flex flex-col items-center gap-4 transition-all duration-300",children:[c.jsxs("div",{className:"flex items-center gap-6 text-gray-400",children:[c.jsxs("div",{className:"flex items-center gap-2 group cursor-default",children:[c.jsx(HE,{className:"w-4 h-4 group-hover:text-blue-500 transition-colors"}),c.jsx("span",{className:"text-sm font-medium",children:"Shaikh Mujahid"})]}),c.jsx("div",{className:"h-4 w-px bg-gray-200"}),c.jsxs("div",{className:"flex items-center gap-2 group cursor-default",children:[c.jsx(Xs,{className:"w-4 h-4 group-hover:text-indigo-500 transition-colors"}),c.jsx("span",{className:"text-sm font-medium",children:"Academic Progress Tracker"})]})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[c.jsxs("p",{className:"text-xs text-gray-400 font-medium flex items-center gap-1.5 opacity-70",children:["Built with ",c.jsx(u5,{className:"w-3 h-3 text-red-500 animate-pulse fill-red-500"})," for MGM University Students"]}),c.jsxs("p",{className:"text-[10px] text-gray-300 uppercase tracking-widest font-bold",children:[" ",t,"  v4.2.0  Beta-1 Stable"]})]}),c.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[c.jsx("a",{href:"https://github.com/shaikhmujahid-7080",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-all duration-300",title:"GitHub - Shaikh Mujahid",children:c.jsx(s5,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>{alert(`Academic Progress Tracker

Designed to help students track their academic growth, manage practical experiments, and stay updated with class notices.

Developer: Shaikh Mujahid
University: MGM University`)},className:"p-2 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded-full transition-all duration-300",title:"App Info",children:c.jsx(f5,{className:"w-4 h-4"})})]})]})}function lI(){const[t,e]=G.useState(0),[n,s]=G.useState(5),[i,o]=G.useState(!1),u=g_(),{students:f,selectedStudent:m,isLoading:p,hasInitialized:x,selectStudent:b}=u,w=m?`academic-data-${m.rollNo}`:"academic-data-temp",[_,A]=aI(w,{}),R=m?.rollNo,{isOnline:z,isSyncing:F,lastSynced:V,saveToFirestore:B,loadAllData:H}=iI(R);G.useEffect(()=>{let O=!1;if(!m){A({});return}return o(!0),A({}),setTimeout(async()=>{if(!O){if(z&&m)try{const C=await H();O||C&&Object.keys(C).length>0&&A(C)}catch{O||A({})}O||o(!1)}},50),()=>{O=!0}},[m,z]),G.useEffect(()=>{if(m){const O=R0(m);O?s(O):m.isDSY&&s(C=>C<3?3:C),Zm(m)&&e(5),!Zm(m)&&t===5&&e(0)}},[m]);const X=async(O,C,se="theory")=>{if(!m)return;const ye=`${n}-${O}`,Q={data:C,type:se,semester:n,subject:O},fe={..._,[ye]:Q};if(A(fe),z)try{await B(n,O,C,se)}catch(ee){console.error("Error syncing to Firestore:",ee)}},L=O=>{A({});const C=R0(O);C&&s(C),b(O)},[I,j]=G.useState(()=>localStorage.getItem("loginTheme")||"light"),D=()=>{const O=I==="dark"?"light":"dark";j(O),localStorage.setItem("loginTheme",O)};if(!m||p||!x||i)return c.jsxs("div",{className:`
        min-h-screen transition-colors duration-700 relative overflow-hidden flex flex-col
        ${I==="dark"?"bg-gradient-to-br from-[#0f172a] via-[#1e1b4b] to-[#312e81]":"bg-gradient-to-br from-blue-50 via-indigo-100 to-purple-100"} animate-gradient
      `,children:[c.jsx("div",{className:`
          absolute top-[-10%] right-[-10%] w-[70%] h-[70%] rounded-full blur-[120px] animate-pulse transition-colors duration-700
          ${I==="dark"?"bg-blue-500/10":"bg-blue-400/20"}
        `}),c.jsx("div",{className:`
          absolute bottom-[-10%] left-[-10%] w-[70%] h-[70%] rounded-full blur-[120px] animate-pulse delay-700 transition-colors duration-700
          ${I==="dark"?"bg-indigo-500/10":"bg-indigo-400/20"}
        `}),c.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 px-4 py-8 md:py-12",children:c.jsx(yT,{students:f,onStudentSelect:L,isLoading:p||!x,studentManagement:u,theme:I,onThemeToggle:D})}),c.jsx(p2,{})]});const k={isOnline:z,isSyncing:F,lastSynced:V},P=()=>{b(null),localStorage.removeItem("selected-student"),A({})};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[c.jsx(bT,{semester:n,syncStatus:k,selectedStudent:m,onStudentSwitch:P,onNavigate:e}),c.jsx(wT,{activeTab:t,onTabChange:e,showDegreeTab:Zm(m),showAdminTab:m?.rollNo===Pe.rollNo||m?.role==="co-leader"}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:[c.jsx(ja,{value:t,index:0,children:c.jsx(_j,{semester:n,allData:_,handleDataChange:X,selectedStudent:m})}),c.jsx(ja,{value:t,index:1,children:c.jsx(Ej,{semester:n,allData:_,handleDataChange:X,selectedStudent:m})}),c.jsx(ja,{value:t,index:2,children:c.jsx(J8,{selectedStudent:m,semester:n})}),c.jsx(ja,{value:t,index:3,children:c.jsx(eI,{selectedStudent:m})}),c.jsx(ja,{value:t,index:4,children:c.jsx(tI,{semester:n,setSemester:s,studentManagement:u})}),c.jsx(ja,{value:t,index:5,children:c.jsx(nI,{selectedStudent:m})}),c.jsx(ja,{value:t,index:6,children:c.jsx(rI,{selectedStudent:m,studentManagement:u,onNavigateToTab:(O,C)=>{e(O)}})}),c.jsx(ja,{value:t,index:7,children:c.jsx(sI,{selectedStudent:m,semester:n})})]}),c.jsx(p2,{})]})}function oI({children:t}){return c.jsxs(c.Fragment,{children:[t,c.jsx(Z8,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastStyle:{fontSize:"14px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"}})]})}cE.createRoot(document.getElementById("root")).render(c.jsx(vt.StrictMode,{children:c.jsx(oI,{children:c.jsx(lI,{})})}));
