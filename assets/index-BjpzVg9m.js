(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ym={exports:{}},gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function l5(){if(Kb)return gc;Kb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,c){var u=null;if(c!==void 0&&(u=""+c),i.key!==void 0&&(u=""+i.key),"key"in i){c={};for(var f in i)f!=="key"&&(c[f]=i[f])}else c=i;return i=c.ref,{$$typeof:t,type:s,key:u,ref:i!==void 0?i:null,props:c}}return gc.Fragment=e,gc.jsx=n,gc.jsxs=n,gc}var Zb;function o5(){return Zb||(Zb=1,Ym.exports=l5()),Ym.exports}var o=o5(),Gm={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function c5(){if(Jb)return $e;Jb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function z(j,ee,pe){this.props=j,this.context=ee,this.refs=M,this.updater=pe||_}z.prototype.isReactComponent={},z.prototype.setState=function(j,ee){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ee,"setState")},z.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function O(){}O.prototype=z.prototype;function D(j,ee,pe){this.props=j,this.context=ee,this.refs=M,this.updater=pe||_}var F=D.prototype=new O;F.constructor=D,C(F,z.prototype),F.isPureReactComponent=!0;var q=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function V(j,ee,pe,T,H,oe){return pe=oe.ref,{$$typeof:t,type:j,key:ee,ref:pe!==void 0?pe:null,props:oe}}function A(j,ee){return V(j.type,ee,void 0,void 0,void 0,j.props)}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function k(j){var ee={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(pe){return ee[pe]})}var P=/\/+/g;function U(j,ee){return typeof j=="object"&&j!==null&&j.key!=null?k(""+j.key):ee.toString(36)}function E(){}function K(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(E,E):(j.status="pending",j.then(function(ee){j.status==="pending"&&(j.status="fulfilled",j.value=ee)},function(ee){j.status==="pending"&&(j.status="rejected",j.reason=ee)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ne(j,ee,pe,T,H){var oe=typeof j;(oe==="undefined"||oe==="boolean")&&(j=null);var se=!1;if(j===null)se=!0;else switch(oe){case"bigint":case"string":case"number":se=!0;break;case"object":switch(j.$$typeof){case t:case e:se=!0;break;case x:return se=j._init,ne(se(j._payload),ee,pe,T,H)}}if(se)return H=H(j),se=T===""?"."+U(j,0):T,q(H)?(pe="",se!=null&&(pe=se.replace(P,"$&/")+"/"),ne(H,ee,pe,"",function(Ye){return Ye})):H!=null&&(R(H)&&(H=A(H,pe+(H.key==null||j&&j.key===H.key?"":(""+H.key).replace(P,"$&/")+"/")+se)),ee.push(H)),1;se=0;var be=T===""?".":T+":";if(q(j))for(var Se=0;Se<j.length;Se++)T=j[Se],oe=be+U(T,Se),se+=ne(T,ee,pe,oe,H);else if(Se=w(j),typeof Se=="function")for(j=Se.call(j),Se=0;!(T=j.next()).done;)T=T.value,oe=be+U(T,Se++),se+=ne(T,ee,pe,oe,H);else if(oe==="object"){if(typeof j.then=="function")return ne(K(j),ee,pe,T,H);throw ee=String(j),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return se}function X(j,ee,pe){if(j==null)return j;var T=[],H=0;return ne(j,T,"","",function(oe){return ee.call(pe,oe,H++)}),T}function de(j){if(j._status===-1){var ee=j._result;ee=ee(),ee.then(function(pe){(j._status===0||j._status===-1)&&(j._status=1,j._result=pe)},function(pe){(j._status===0||j._status===-1)&&(j._status=2,j._result=pe)}),j._status===-1&&(j._status=0,j._result=ee)}if(j._status===1)return j._result.default;throw j._result}var J=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function ve(){}return $e.Children={map:X,forEach:function(j,ee,pe){X(j,function(){ee.apply(this,arguments)},pe)},count:function(j){var ee=0;return X(j,function(){ee++}),ee},toArray:function(j){return X(j,function(ee){return ee})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},$e.Component=z,$e.Fragment=n,$e.Profiler=i,$e.PureComponent=D,$e.StrictMode=s,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,$e.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Y.H.useMemoCache(j)}},$e.cache=function(j){return function(){return j.apply(null,arguments)}},$e.cloneElement=function(j,ee,pe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var T=C({},j.props),H=j.key,oe=void 0;if(ee!=null)for(se in ee.ref!==void 0&&(oe=void 0),ee.key!==void 0&&(H=""+ee.key),ee)!I.call(ee,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&ee.ref===void 0||(T[se]=ee[se]);var se=arguments.length-2;if(se===1)T.children=pe;else if(1<se){for(var be=Array(se),Se=0;Se<se;Se++)be[Se]=arguments[Se+2];T.children=be}return V(j.type,H,void 0,void 0,oe,T)},$e.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},$e.createElement=function(j,ee,pe){var T,H={},oe=null;if(ee!=null)for(T in ee.key!==void 0&&(oe=""+ee.key),ee)I.call(ee,T)&&T!=="key"&&T!=="__self"&&T!=="__source"&&(H[T]=ee[T]);var se=arguments.length-2;if(se===1)H.children=pe;else if(1<se){for(var be=Array(se),Se=0;Se<se;Se++)be[Se]=arguments[Se+2];H.children=be}if(j&&j.defaultProps)for(T in se=j.defaultProps,se)H[T]===void 0&&(H[T]=se[T]);return V(j,oe,void 0,void 0,null,H)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(j){return{$$typeof:f,render:j}},$e.isValidElement=R,$e.lazy=function(j){return{$$typeof:x,_payload:{_status:-1,_result:j},_init:de}},$e.memo=function(j,ee){return{$$typeof:p,type:j,compare:ee===void 0?null:ee}},$e.startTransition=function(j){var ee=Y.T,pe={};Y.T=pe;try{var T=j(),H=Y.S;H!==null&&H(pe,T),typeof T=="object"&&T!==null&&typeof T.then=="function"&&T.then(ve,J)}catch(oe){J(oe)}finally{Y.T=ee}},$e.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},$e.use=function(j){return Y.H.use(j)},$e.useActionState=function(j,ee,pe){return Y.H.useActionState(j,ee,pe)},$e.useCallback=function(j,ee){return Y.H.useCallback(j,ee)},$e.useContext=function(j){return Y.H.useContext(j)},$e.useDebugValue=function(){},$e.useDeferredValue=function(j,ee){return Y.H.useDeferredValue(j,ee)},$e.useEffect=function(j,ee,pe){var T=Y.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return T.useEffect(j,ee)},$e.useId=function(){return Y.H.useId()},$e.useImperativeHandle=function(j,ee,pe){return Y.H.useImperativeHandle(j,ee,pe)},$e.useInsertionEffect=function(j,ee){return Y.H.useInsertionEffect(j,ee)},$e.useLayoutEffect=function(j,ee){return Y.H.useLayoutEffect(j,ee)},$e.useMemo=function(j,ee){return Y.H.useMemo(j,ee)},$e.useOptimistic=function(j,ee){return Y.H.useOptimistic(j,ee)},$e.useReducer=function(j,ee,pe){return Y.H.useReducer(j,ee,pe)},$e.useRef=function(j){return Y.H.useRef(j)},$e.useState=function(j){return Y.H.useState(j)},$e.useSyncExternalStore=function(j,ee,pe){return Y.H.useSyncExternalStore(j,ee,pe)},$e.useTransition=function(){return Y.H.useTransition()},$e.version="19.1.1",$e}var Wb;function Np(){return Wb||(Wb=1,Gm.exports=c5()),Gm.exports}var G=Np();const wt=yf(G);var Qm={exports:{}},xc={},Xm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function u5(){return e1||(e1=1,(function(t){function e(X,de){var J=X.length;X.push(de);e:for(;0<J;){var ve=J-1>>>1,j=X[ve];if(0<i(j,de))X[ve]=de,X[J]=j,J=ve;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var de=X[0],J=X.pop();if(J!==de){X[0]=J;e:for(var ve=0,j=X.length,ee=j>>>1;ve<ee;){var pe=2*(ve+1)-1,T=X[pe],H=pe+1,oe=X[H];if(0>i(T,J))H<j&&0>i(oe,T)?(X[ve]=oe,X[H]=J,ve=H):(X[ve]=T,X[pe]=J,ve=pe);else if(H<j&&0>i(oe,J))X[ve]=oe,X[H]=J,ve=H;else break e}}return de}function i(X,de){var J=X.sortIndex-de.sortIndex;return J!==0?J:X.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],p=[],x=1,b=null,w=3,_=!1,C=!1,M=!1,z=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function q(X){for(var de=n(p);de!==null;){if(de.callback===null)s(p);else if(de.startTime<=X)s(p),de.sortIndex=de.expirationTime,e(h,de);else break;de=n(p)}}function Y(X){if(M=!1,q(X),!C)if(n(h)!==null)C=!0,I||(I=!0,U());else{var de=n(p);de!==null&&ne(Y,de.startTime-X)}}var I=!1,V=-1,A=5,R=-1;function k(){return z?!0:!(t.unstable_now()-R<A)}function P(){if(z=!1,I){var X=t.unstable_now();R=X;var de=!0;try{e:{C=!1,M&&(M=!1,D(V),V=-1),_=!0;var J=w;try{t:{for(q(X),b=n(h);b!==null&&!(b.expirationTime>X&&k());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,w=b.priorityLevel;var j=ve(b.expirationTime<=X);if(X=t.unstable_now(),typeof j=="function"){b.callback=j,q(X),de=!0;break t}b===n(h)&&s(h),q(X)}else s(h);b=n(h)}if(b!==null)de=!0;else{var ee=n(p);ee!==null&&ne(Y,ee.startTime-X),de=!1}}break e}finally{b=null,w=J,_=!1}de=void 0}}finally{de?U():I=!1}}}var U;if(typeof F=="function")U=function(){F(P)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,K=E.port2;E.port1.onmessage=P,U=function(){K.postMessage(null)}}else U=function(){O(P,0)};function ne(X,de){V=O(function(){X(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(X){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var J=w;w=de;try{return X()}finally{w=J}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var J=w;w=X;try{return de()}finally{w=J}},t.unstable_scheduleCallback=function(X,de,J){var ve=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ve+J:ve):J=ve,X){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=J+j,X={id:x++,callback:de,priorityLevel:X,startTime:J,expirationTime:j,sortIndex:-1},J>ve?(X.sortIndex=J,e(p,X),n(h)===null&&X===n(p)&&(M?(D(V),V=-1):M=!0,ne(Y,J-ve))):(X.sortIndex=j,e(h,X),C||_||(C=!0,I||(I=!0,U()))),X},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(X){var de=w;return function(){var J=w;w=de;try{return X.apply(this,arguments)}finally{w=J}}}})(Km)),Km}var t1;function d5(){return t1||(t1=1,Xm.exports=u5()),Xm.exports}var Zm={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function f5(){if(n1)return Rn;n1=1;var t=Np();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function c(h,p,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:h,containerInfo:p,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Rn.createPortal=function(h,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(h,p,null,x)},Rn.flushSync=function(h){var p=u.T,x=s.p;try{if(u.T=null,s.p=2,h)return h()}finally{u.T=p,s.p=x,s.d.f()}},Rn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(h,p))},Rn.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Rn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var x=p.as,b=f(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?s.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:_}):x==="script"&&s.d.X(h,{crossOrigin:b,integrity:w,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Rn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=f(p.as,p.crossOrigin);s.d.M(h,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(h)},Rn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,b=f(x,p.crossOrigin);s.d.L(h,x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Rn.preloadModule=function(h,p){if(typeof h=="string")if(p){var x=f(p.as,p.crossOrigin);s.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(h)},Rn.requestFormReset=function(h){s.d.r(h)},Rn.unstable_batchedUpdates=function(h,p){return h(p)},Rn.useFormState=function(h,p,x){return u.H.useFormState(h,p,x)},Rn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Rn.version="19.1.1",Rn}var r1;function h5(){if(r1)return Zm.exports;r1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zm.exports=f5(),Zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function m5(){if(s1)return xc;s1=1;var t=d5(),e=Np(),n=h5();function s(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(c(r)!==r)throw Error(s(188))}function h(r){var a=r.alternate;if(!a){if(a=c(r),a===null)throw Error(s(188));return a!==r?null:r}for(var l=r,d=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return f(g),r;if(y===d)return f(g),a;y=y.sibling}throw Error(s(188))}if(l.return!==d.return)l=g,d=y;else{for(var S=!1,L=g.child;L;){if(L===l){S=!0,l=g,d=y;break}if(L===d){S=!0,d=g,l=y;break}L=L.sibling}if(!S){for(L=y.child;L;){if(L===l){S=!0,l=y,d=g;break}if(L===d){S=!0,d=y,l=g;break}L=L.sibling}if(!S)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),F=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var E=Symbol.for("react.client.reference");function K(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===E?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case z:return"Profiler";case M:return"StrictMode";case Y:return"Suspense";case I:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case F:return(r.displayName||"Context")+".Provider";case D:return(r._context.displayName||"Context")+".Consumer";case q:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return a=r.displayName||null,a!==null?a:K(r.type)||"Memo";case A:a=r._payload,r=r._init;try{return K(r(a))}catch{}}return null}var ne=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ve=[],j=-1;function ee(r){return{current:r}}function pe(r){0>j||(r.current=ve[j],ve[j]=null,j--)}function T(r,a){j++,ve[j]=r.current,r.current=a}var H=ee(null),oe=ee(null),se=ee(null),be=ee(null);function Se(r,a){switch(T(se,a),T(oe,r),T(H,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Eb(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Eb(a),r=Tb(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(H),T(H,r)}function Ye(){pe(H),pe(oe),pe(se)}function Je(r){r.memoizedState!==null&&T(be,r);var a=H.current,l=Tb(a,r.type);a!==l&&(T(oe,r),T(H,l))}function Et(r){oe.current===r&&(pe(H),pe(oe)),be.current===r&&(pe(be),dc._currentValue=J)}var kn=Object.prototype.hasOwnProperty,en=t.unstable_scheduleCallback,tr=t.unstable_cancelCallback,Ne=t.unstable_shouldYield,ot=t.unstable_requestPaint,ct=t.unstable_now,pr=t.unstable_getCurrentPriorityLevel,dn=t.unstable_ImmediatePriority,Yn=t.unstable_UserBlockingPriority,nr=t.unstable_NormalPriority,Kr=t.unstable_LowPriority,Mr=t.unstable_IdlePriority,As=t.log,Zr=t.unstable_setDisableYieldValue,le=null,ge=null;function ke(r){if(typeof As=="function"&&Zr(r),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(le,r)}catch{}}var Re=Math.clz32?Math.clz32:Dt,tt=Math.log,tn=Math.LN2;function Dt(r){return r>>>=0,r===0?32:31-(tt(r)/tn|0)|0}var nn=256,Cn=4194304;function rn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Rt(r,a,l){var d=r.pendingLanes;if(d===0)return 0;var g=0,y=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var L=d&134217727;return L!==0?(d=L&~y,d!==0?g=rn(d):(S&=L,S!==0?g=rn(S):l||(l=L&~r,l!==0&&(g=rn(l))))):(L=d&~y,L!==0?g=rn(L):S!==0?g=rn(S):l||(l=d&~r,l!==0&&(g=rn(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function bn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function sn(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Za(){var r=nn;return nn<<=1,(nn&4194048)===0&&(nn=256),r}function Ja(){var r=Cn;return Cn<<=1,(Cn&62914560)===0&&(Cn=4194304),r}function Or(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Vr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Wa(r,a,l,d,g,y){var S=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var L=r.entanglements,$=r.expirationTimes,re=r.hiddenUpdates;for(l=S&~l;0<l;){var fe=31-Re(l),xe=1<<fe;L[fe]=0,$[fe]=-1;var ae=re[fe];if(ae!==null)for(re[fe]=null,fe=0;fe<ae.length;fe++){var ie=ae[fe];ie!==null&&(ie.lane&=-536870913)}l&=~xe}d!==0&&gr(r,d,0),y!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=y&~(S&~a))}function gr(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-Re(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|l&4194090}function ei(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var d=31-Re(l),g=1<<d;g&a|r[d]&a&&(r[d]|=a),l&=~g}}function Jr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function aa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Pr(){var r=de.p;return r!==0?r:(r=window.event,r===void 0?32:$b(r.type))}function ti(r,a){var l=de.p;try{return de.p=r,a()}finally{de.p=l}}var Tt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Tt,It="__reactProps$"+Tt,Gn="__reactContainer$"+Tt,ni="__reactEvents$"+Tt,Wr="__reactListeners$"+Tt,ue="__reactHandles$"+Tt,Fe="__reactResources$"+Tt,qe="__reactMarker$"+Tt;function xr(r){delete r[Bt],delete r[It],delete r[ni],delete r[Wr],delete r[ue]}function ks(r){var a=r[Bt];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Gn]||l[Bt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=kb(r);r!==null;){if(l=r[Bt])return l;r=kb(r)}return a}r=l,l=r.parentNode}return null}function es(r){if(r=r[Bt]||r[Gn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function ts(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(s(33))}function Ln(r){var a=r[Fe];return a||(a=r[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ft(r){r[qe]=!0}var xo=new Set,Qi={};function Lr(r,a){Cs(r,a),Cs(r+"Capture",a)}function Cs(r,a){for(Qi[r]=a,r=0;r<a.length;r++)xo.add(a[r])}var mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},ri={};function gu(r){return kn.call(ri,r)?!0:kn.call(pu,r)?!1:mu.test(r)?ri[r]=!0:(pu[r]=!0,!1)}function ia(r,a,l){if(gu(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function ns(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function vn(r,a,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+d)}}var si,xu;function Ds(r){if(si===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);si=a&&a[1]||"",xu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+si+r+xu}var Xi=!1;function Ki(r,a){if(!r||Xi)return"";Xi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ie){var ae=ie}Reflect.construct(r,[],xe)}else{try{xe.call()}catch(ie){ae=ie}r.call(xe.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(xe=r())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],L=y[1];if(S&&L){var $=S.split(`
`),re=L.split(`
`);for(g=d=0;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;for(;g<re.length&&!re[g].includes("DetermineComponentFrameRoot");)g++;if(d===$.length||g===re.length)for(d=$.length-1,g=re.length-1;1<=d&&0<=g&&$[d]!==re[g];)g--;for(;1<=d&&0<=g;d--,g--)if($[d]!==re[g]){if(d!==1||g!==1)do if(d--,g--,0>g||$[d]!==re[g]){var fe=`
`+$[d].replace(" at new "," at ");return r.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",r.displayName)),fe}while(1<=d&&0<=g);break}}}finally{Xi=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Ds(l):""}function yo(r){switch(r.tag){case 26:case 27:case 5:return Ds(r.type);case 16:return Ds("Lazy");case 13:return Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 15:return Ki(r.type,!1);case 11:return Ki(r.type.render,!1);case 1:return Ki(r.type,!0);case 31:return Ds("Activity");default:return""}}function Zi(r){try{var a="";do a+=yo(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function zn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function bo(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Kf(r){var a=bo(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ji(r){r._valueTracker||(r._valueTracker=Kf(r))}function vo(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return r&&(d=bo(r)?r.checked?"true":"false":r.value),r=d,r!==l?(a.setValue(r),!0):!1}function ai(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Zf=/[\n"\\]/g;function Yt(r){return r.replace(Zf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function rr(r,a,l,d,g,y,S,L){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+zn(a)):r.value!==""+zn(a)&&(r.value=""+zn(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?la(r,S,zn(a)):l!=null?la(r,S,zn(l)):d!=null&&r.removeAttribute("value"),g==null&&y!=null&&(r.defaultChecked=!!y),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.name=""+zn(L):r.removeAttribute("name")}function ii(r,a,l,d,g,y,S,L){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+zn(l):"",a=a!=null?""+zn(a):l,L||a===r.value||(r.value=a),r.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=L?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function la(r,a,l){a==="number"&&ai(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Rs(r,a,l,d){if(r=r.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=a.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&d&&(r[l].defaultSelected=!0)}else{for(l=""+zn(l),a=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function xt(r,a,l){if(a!=null&&(a=""+zn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+zn(l):""}function li(r,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(s(92));if(ne(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=zn(a),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d)}function yr(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var oi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(r,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,l):typeof l!="number"||l===0||oi.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function wo(r,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in a)d=a[g],a.hasOwnProperty(g)&&l[g]!==d&&yu(r,g,d)}else for(var y in a)a.hasOwnProperty(y)&&yu(r,y,a[y])}function _o(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(r){return Wf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Is=null;function br(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ms=null,Os=null;function No(r){var a=es(r);if(a&&(r=a.stateNode)){var l=r[It]||null;e:switch(r=a.stateNode,a.type){case"input":if(rr(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Yt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==r&&d.form===r.form){var g=d[It]||null;if(!g)throw Error(s(90));rr(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===r.form&&vo(d)}break e;case"textarea":xt(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Rs(r,!!l.multiple,a,!1)}}}var rs=!1;function bu(r,a,l){if(rs)return r(a,l);rs=!0;try{var d=r(a);return d}finally{if(rs=!1,(Ms!==null||Os!==null)&&(fd(),Ms&&(a=Ms,r=Os,Os=Ms=null,No(a),r)))for(a=0;a<r.length;a++)No(r[a])}}function ci(r,a){var l=r.stateNode;if(l===null)return null;var d=l[It]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(zr)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){vr=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{vr=!1}var ss=null,oa=null,Vs=null;function Eo(){if(Vs)return Vs;var r,a=oa,l=a.length,d,g="value"in ss?ss.value:ss.textContent,y=g.length;for(r=0;r<l&&a[r]===g[r];r++);var S=l-r;for(d=1;d<=S&&a[l-d]===g[y-d];d++);return Vs=g.slice(r,1<d?1-d:void 0)}function as(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function is(){return!0}function To(){return!1}function fn(r){function a(l,d,g,y,S){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var L in r)r.hasOwnProperty(L)&&(l=r[L],this[L]=l?l(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?is:To,this.isPropagationStopped=To,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),a}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=fn(ht),di=x({},ht,{view:0,detail:0}),vu=fn(di),tl,nl,ls,fi=x({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ls&&(ls&&r.type==="mousemove"?(tl=r.screenX-ls.screenX,nl=r.screenY-ls.screenY):nl=tl=0,ls=r),tl)},movementY:function(r){return"movementY"in r?r.movementY:nl}}),wr=fn(fi),wu=x({},fi,{dataTransfer:0}),eh=fn(wu),hi=x({},di,{relatedTarget:0}),rl=fn(hi),So=x({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),sl=fn(So),_u=x({},ht,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),al=fn(_u),th=x({},ht,{data:0}),jo=fn(th),mi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Eu[r])?!!a[r]:!1}function pi(){return Ao}var Tu=x({},di,{key:function(r){if(r.key){var a=mi[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=as(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Nu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pi,charCode:function(r){return r.type==="keypress"?as(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?as(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),il=fn(Tu),Su=x({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=fn(Su),Ps=x({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pi}),ju=fn(Ps),Au=x({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=fn(Au),Cu=x({},fi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ll=fn(Cu),Un=x({},ht,{newState:0,oldState:0}),Du=fn(Un),Ru=[9,13,27,32],os=zr&&"CompositionEvent"in window,m=null;zr&&"documentMode"in document&&(m=document.documentMode);var v=zr&&"TextEvent"in window&&!m,N=zr&&(!os||m&&8<m&&11>=m),B=" ",W=!1;function ce(r,a){switch(r){case"keyup":return Ru.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ee(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var nt=!1;function an(r,a){switch(r){case"compositionend":return Ee(a);case"keypress":return a.which!==32?null:(W=!0,B);case"textInput":return r=a.data,r===B&&W?null:r;default:return null}}function rt(r,a){if(nt)return r==="compositionend"||!os&&ce(r,a)?(r=Eo(),Vs=oa=ss=null,nt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return N&&a.locale!=="ko"?null:a.data;default:return null}}var hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!hn[r.type]:a==="textarea"}function Ls(r,a,l,d){Ms?Os?Os.push(d):Os=[d]:Ms=d,a=yd(a,"onChange"),0<a.length&&(l=new el("onChange","change",null,l,d),r.push({event:l,listeners:a}))}var wn=null,cs=null;function Co(r){bb(r,0)}function Iu(r){var a=ts(r);if(vo(a))return r}function Ug(r,a){if(r==="change")return a}var Bg=!1;if(zr){var nh;if(zr){var rh="oninput"in document;if(!rh){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),rh=typeof Fg.oninput=="function"}nh=rh}else nh=!1;Bg=nh&&(!document.documentMode||9<document.documentMode)}function qg(){wn&&(wn.detachEvent("onpropertychange",$g),cs=wn=null)}function $g(r){if(r.propertyName==="value"&&Iu(cs)){var a=[];Ls(a,cs,r,br(r)),bu(Co,a)}}function PN(r,a,l){r==="focusin"?(qg(),wn=a,cs=l,wn.attachEvent("onpropertychange",$g)):r==="focusout"&&qg()}function LN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Iu(cs)}function zN(r,a){if(r==="click")return Iu(a)}function UN(r,a){if(r==="input"||r==="change")return Iu(a)}function BN(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var sr=typeof Object.is=="function"?Object.is:BN;function Do(r,a){if(sr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!kn.call(a,g)||!sr(r[g],a[g]))return!1}return!0}function Hg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Yg(r,a){var l=Hg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=a&&d>=a)return{node:l,offset:a-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hg(l)}}function Gg(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Gg(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Qg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=ai(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=ai(r.document)}return a}function sh(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var FN=zr&&"documentMode"in document&&11>=document.documentMode,ol=null,ah=null,Ro=null,ih=!1;function Xg(r,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ih||ol==null||ol!==ai(d)||(d=ol,"selectionStart"in d&&sh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ro&&Do(Ro,d)||(Ro=d,d=yd(ah,"onSelect"),0<d.length&&(a=new el("onSelect","select",null,a,l),r.push({event:a,listeners:d}),a.target=ol)))}function gi(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var cl={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},lh={},Kg={};zr&&(Kg=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function xi(r){if(lh[r])return lh[r];if(!cl[r])return r;var a=cl[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Kg)return lh[r]=a[l];return r}var Zg=xi("animationend"),Jg=xi("animationiteration"),Wg=xi("animationstart"),qN=xi("transitionrun"),$N=xi("transitionstart"),HN=xi("transitioncancel"),ex=xi("transitionend"),tx=new Map,oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oh.push("scrollEnd");function Ur(r,a){tx.set(r,a),Lr(a,[r])}var nx=new WeakMap;function _r(r,a){if(typeof r=="object"&&r!==null){var l=nx.get(r);return l!==void 0?l:(a={value:r,source:a,stack:Zi(a)},nx.set(r,a),a)}return{value:r,source:a,stack:Zi(a)}}var Nr=[],ul=0,ch=0;function Mu(){for(var r=ul,a=ch=ul=0;a<r;){var l=Nr[a];Nr[a++]=null;var d=Nr[a];Nr[a++]=null;var g=Nr[a];Nr[a++]=null;var y=Nr[a];if(Nr[a++]=null,d!==null&&g!==null){var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}y!==0&&rx(l,g,y)}}function Ou(r,a,l,d){Nr[ul++]=r,Nr[ul++]=a,Nr[ul++]=l,Nr[ul++]=d,ch|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function uh(r,a,l,d){return Ou(r,a,l,d),Vu(r)}function dl(r,a){return Ou(r,null,null,a),Vu(r)}function rx(r,a,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var g=!1,y=r.return;y!==null;)y.childLanes|=l,d=y.alternate,d!==null&&(d.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(g=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,g&&a!==null&&(g=31-Re(l),r=y.hiddenUpdates,d=r[g],d===null?r[g]=[a]:d.push(a),a.lane=l|536870912),y):null}function Vu(r){if(50<rc)throw rc=0,gm=null,Error(s(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var fl={};function YN(r,a,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(r,a,l,d){return new YN(r,a,l,d)}function dh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zs(r,a){var l=r.alternate;return l===null?(l=ar(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function sx(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Pu(r,a,l,d,g,y){var S=0;if(d=r,typeof r=="function")dh(r)&&(S=1);else if(typeof r=="string")S=Q4(r,l,H.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=ar(31,l,a,g),r.elementType=R,r.lanes=y,r;case C:return yi(l.children,g,y,a);case M:S=8,g|=24;break;case z:return r=ar(12,l,a,g|2),r.elementType=z,r.lanes=y,r;case Y:return r=ar(13,l,a,g),r.elementType=Y,r.lanes=y,r;case I:return r=ar(19,l,a,g),r.elementType=I,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:case F:S=10;break e;case D:S=9;break e;case q:S=11;break e;case V:S=14;break e;case A:S=16,d=null;break e}S=29,l=Error(s(130,r===null?"null":typeof r,"")),d=null}return a=ar(S,l,a,g),a.elementType=r,a.type=d,a.lanes=y,a}function yi(r,a,l,d){return r=ar(7,r,d,a),r.lanes=l,r}function fh(r,a,l){return r=ar(6,r,null,a),r.lanes=l,r}function hh(r,a,l){return a=ar(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var hl=[],ml=0,Lu=null,zu=0,Er=[],Tr=0,bi=null,Us=1,Bs="";function vi(r,a){hl[ml++]=zu,hl[ml++]=Lu,Lu=r,zu=a}function ax(r,a,l){Er[Tr++]=Us,Er[Tr++]=Bs,Er[Tr++]=bi,bi=r;var d=Us;r=Bs;var g=32-Re(d)-1;d&=~(1<<g),l+=1;var y=32-Re(a)+g;if(30<y){var S=g-g%5;y=(d&(1<<S)-1).toString(32),d>>=S,g-=S,Us=1<<32-Re(a)+g|l<<g|d,Bs=y+r}else Us=1<<y|l<<g|d,Bs=r}function mh(r){r.return!==null&&(vi(r,1),ax(r,1,0))}function ph(r){for(;r===Lu;)Lu=hl[--ml],hl[ml]=null,zu=hl[--ml],hl[ml]=null;for(;r===bi;)bi=Er[--Tr],Er[Tr]=null,Bs=Er[--Tr],Er[Tr]=null,Us=Er[--Tr],Er[Tr]=null}var Bn=null,Pt=null,ft=!1,wi=null,us=!1,gh=Error(s(519));function _i(r){var a=Error(s(418,""));throw Oo(_r(a,r)),gh}function ix(r){var a=r.stateNode,l=r.type,d=r.memoizedProps;switch(a[Bt]=r,a[It]=d,l){case"dialog":Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":case"embed":Ke("load",a);break;case"video":case"audio":for(l=0;l<ac.length;l++)Ke(ac[l],a);break;case"source":Ke("error",a);break;case"img":case"image":case"link":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"input":Ke("invalid",a),ii(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ji(a);break;case"select":Ke("invalid",a);break;case"textarea":Ke("invalid",a),li(a,d.value,d.defaultValue,d.children),Ji(a)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||Nb(a.textContent,l)?(d.popover!=null&&(Ke("beforetoggle",a),Ke("toggle",a)),d.onScroll!=null&&Ke("scroll",a),d.onScrollEnd!=null&&Ke("scrollend",a),d.onClick!=null&&(a.onclick=bd),a=!0):a=!1,a||_i(r)}function lx(r){for(Bn=r.return;Bn;)switch(Bn.tag){case 5:case 13:us=!1;return;case 27:case 3:us=!0;return;default:Bn=Bn.return}}function Io(r){if(r!==Bn)return!1;if(!ft)return lx(r),ft=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Rm(r.type,r.memoizedProps)),l=!l),l&&Pt&&_i(r),lx(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){Pt=Fr(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}Pt=null}}else a===27?(a=Pt,Ea(r.type)?(r=Vm,Vm=null,Pt=r):Pt=a):Pt=Bn?Fr(r.stateNode.nextSibling):null;return!0}function Mo(){Pt=Bn=null,ft=!1}function ox(){var r=wi;return r!==null&&(Kn===null?Kn=r:Kn.push.apply(Kn,r),wi=null),r}function Oo(r){wi===null?wi=[r]:wi.push(r)}var xh=ee(null),Ni=null,Fs=null;function ca(r,a,l){T(xh,a._currentValue),a._currentValue=l}function qs(r){r._currentValue=xh.current,pe(xh)}function yh(r,a,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===l)break;r=r.return}}function bh(r,a,l,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;e:for(;y!==null;){var L=y;y=g;for(var $=0;$<a.length;$++)if(L.context===a[$]){y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),yh(y.return,l,r),d||(S=null);break e}y=L.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(s(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),yh(S,l,r),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===r){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Vo(r,a,l,d){r=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var L=g.type;sr(g.pendingProps.value,S.value)||(r!==null?r.push(L):r=[L])}}else if(g===be.current){if(S=g.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(dc):r=[dc])}g=g.return}r!==null&&bh(a,r,l,d),a.flags|=262144}function Uu(r){for(r=r.firstContext;r!==null;){if(!sr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ei(r){Ni=r,Fs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Dn(r){return cx(Ni,r)}function Bu(r,a){return Ni===null&&Ei(r),cx(r,a)}function cx(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Fs===null){if(r===null)throw Error(s(308));Fs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Fs=Fs.next=a;return l}var GN=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},QN=t.unstable_scheduleCallback,XN=t.unstable_NormalPriority,on={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vh(){return{controller:new GN,data:new Map,refCount:0}}function Po(r){r.refCount--,r.refCount===0&&QN(XN,function(){r.controller.abort()})}var Lo=null,wh=0,pl=0,gl=null;function KN(r,a){if(Lo===null){var l=Lo=[];wh=0,pl=Nm(),gl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return wh++,a.then(ux,ux),a}function ux(){if(--wh===0&&Lo!==null){gl!==null&&(gl.status="fulfilled");var r=Lo;Lo=null,pl=0,gl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function ZN(r,a){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var dx=X.S;X.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&KN(r,a),dx!==null&&dx(r,a)};var Ti=ee(null);function _h(){var r=Ti.current;return r!==null?r:St.pooledCache}function Fu(r,a){a===null?T(Ti,Ti.current):T(Ti,a.pool)}function fx(){var r=_h();return r===null?null:{parent:on._currentValue,pool:r}}var zo=Error(s(460)),hx=Error(s(474)),qu=Error(s(542)),Nh={then:function(){}};function mx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function $u(){}function px(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then($u,$u),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,xx(r),r;default:if(typeof a.status=="string")a.then($u,$u);else{if(r=St,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=d}},function(d){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,xx(r),r}throw Uo=a,zo}}var Uo=null;function gx(){if(Uo===null)throw Error(s(459));var r=Uo;return Uo=null,r}function xx(r){if(r===zo||r===qu)throw Error(s(483))}var ua=!1;function Eh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function da(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function fa(r,a,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(pt&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=Vu(r),rx(r,null,l),a}return Ou(r,d,a,l),Vu(r)}function Bo(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,ei(r,l)}}function Sh(r,a){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var jh=!1;function Fo(){if(jh){var r=gl;if(r!==null)throw r}}function qo(r,a,l,d){jh=!1;var g=r.updateQueue;ua=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var $=L,re=$.next;$.next=null,S===null?y=re:S.next=re,S=$;var fe=r.alternate;fe!==null&&(fe=fe.updateQueue,L=fe.lastBaseUpdate,L!==S&&(L===null?fe.firstBaseUpdate=re:L.next=re,fe.lastBaseUpdate=$))}if(y!==null){var xe=g.baseState;S=0,fe=re=$=null,L=y;do{var ae=L.lane&-536870913,ie=ae!==L.lane;if(ie?(st&ae)===ae:(d&ae)===ae){ae!==0&&ae===pl&&(jh=!0),fe!==null&&(fe=fe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var ze=r,Ve=L;ae=a;var vt=l;switch(Ve.tag){case 1:if(ze=Ve.payload,typeof ze=="function"){xe=ze.call(vt,xe,ae);break e}xe=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ve.payload,ae=typeof ze=="function"?ze.call(vt,xe,ae):ze,ae==null)break e;xe=x({},xe,ae);break e;case 2:ua=!0}}ae=L.callback,ae!==null&&(r.flags|=64,ie&&(r.flags|=8192),ie=g.callbacks,ie===null?g.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},fe===null?(re=fe=ie,$=xe):fe=fe.next=ie,S|=ae;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);fe===null&&($=xe),g.baseState=$,g.firstBaseUpdate=re,g.lastBaseUpdate=fe,y===null&&(g.shared.lanes=0),va|=S,r.lanes=S,r.memoizedState=xe}}function yx(r,a){if(typeof r!="function")throw Error(s(191,r));r.call(a)}function bx(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)yx(l[r],a)}var xl=ee(null),Hu=ee(0);function vx(r,a){r=Ks,T(Hu,r),T(xl,a),Ks=r|a.baseLanes}function Ah(){T(Hu,Ks),T(xl,xl.current)}function kh(){Ks=Hu.current,pe(xl),pe(Hu)}var ha=0,Ge=null,yt=null,Gt=null,Yu=!1,yl=!1,Si=!1,Gu=0,$o=0,bl=null,JN=0;function qt(){throw Error(s(321))}function Ch(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!sr(r[l],a[l]))return!1;return!0}function Dh(r,a,l,d,g,y){return ha=y,Ge=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=r===null||r.memoizedState===null?ry:sy,Si=!1,y=l(d,g),Si=!1,yl&&(y=_x(a,l,d,g)),wx(r),y}function wx(r){X.H=Wu;var a=yt!==null&&yt.next!==null;if(ha=0,Gt=yt=Ge=null,Yu=!1,$o=0,bl=null,a)throw Error(s(300));r===null||mn||(r=r.dependencies,r!==null&&Uu(r)&&(mn=!0))}function _x(r,a,l,d){Ge=r;var g=0;do{if(yl&&(bl=null),$o=0,yl=!1,25<=g)throw Error(s(301));if(g+=1,Gt=yt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}X.H=a4,y=a(l,d)}while(yl);return y}function WN(){var r=X.H,a=r.useState()[0];return a=typeof a.then=="function"?Ho(a):a,r=r.useState()[0],(yt!==null?yt.memoizedState:null)!==r&&(Ge.flags|=1024),a}function Rh(){var r=Gu!==0;return Gu=0,r}function Ih(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Mh(r){if(Yu){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Yu=!1}ha=0,Gt=yt=Ge=null,yl=!1,$o=Gu=0,bl=null}function Qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ge.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function Qt(){if(yt===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var a=Gt===null?Ge.memoizedState:Gt.next;if(a!==null)Gt=a,yt=r;else{if(r===null)throw Ge.alternate===null?Error(s(467)):Error(s(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Gt===null?Ge.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function Oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(r){var a=$o;return $o+=1,bl===null&&(bl=[]),r=px(bl,r,a),a=Ge,(Gt===null?a.memoizedState:Gt.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?ry:sy),r}function Qu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ho(r);if(r.$$typeof===F)return Dn(r)}throw Error(s(438,String(r)))}function Vh(r){var a=null,l=Ge.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=Ge.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Oh(),Ge.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),d=0;d<r;d++)l[d]=k;return a.index++,l}function $s(r,a){return typeof a=="function"?a(r):a}function Xu(r){var a=Qt();return Ph(a,yt,r)}function Ph(r,a,l){var d=r.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var g=r.baseQueue,y=d.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}a.baseQueue=g=y,d.pending=null}if(y=r.baseState,g===null)r.memoizedState=y;else{a=g.next;var L=S=null,$=null,re=a,fe=!1;do{var xe=re.lane&-536870913;if(xe!==re.lane?(st&xe)===xe:(ha&xe)===xe){var ae=re.revertLane;if(ae===0)$!==null&&($=$.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),xe===pl&&(fe=!0);else if((ha&ae)===ae){re=re.next,ae===pl&&(fe=!0);continue}else xe={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},$===null?(L=$=xe,S=y):$=$.next=xe,Ge.lanes|=ae,va|=ae;xe=re.action,Si&&l(y,xe),y=re.hasEagerState?re.eagerState:l(y,xe)}else ae={lane:xe,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},$===null?(L=$=ae,S=y):$=$.next=ae,Ge.lanes|=xe,va|=xe;re=re.next}while(re!==null&&re!==a);if($===null?S=y:$.next=L,!sr(y,r.memoizedState)&&(mn=!0,fe&&(l=gl,l!==null)))throw l;r.memoizedState=y,r.baseState=S,r.baseQueue=$,d.lastRenderedState=y}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Lh(r){var a=Qt(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var d=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do y=r(y,S.action),S=S.next;while(S!==g);sr(y,a.memoizedState)||(mn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,d]}function Nx(r,a,l){var d=Ge,g=Qt(),y=ft;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=a();var S=!sr((yt||g).memoizedState,l);S&&(g.memoizedState=l,mn=!0),g=g.queue;var L=Sx.bind(null,d,g,r);if(Yo(2048,8,L,[r]),g.getSnapshot!==a||S||Gt!==null&&Gt.memoizedState.tag&1){if(d.flags|=2048,vl(9,Ku(),Tx.bind(null,d,g,l,a),null),St===null)throw Error(s(349));y||(ha&124)!==0||Ex(d,a,l)}return l}function Ex(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Ge.updateQueue,a===null?(a=Oh(),Ge.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function Tx(r,a,l,d){a.value=l,a.getSnapshot=d,jx(a)&&Ax(r)}function Sx(r,a,l){return l(function(){jx(a)&&Ax(r)})}function jx(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!sr(r,l)}catch{return!0}}function Ax(r){var a=dl(r,2);a!==null&&ur(a,r,2)}function zh(r){var a=Qn();if(typeof r=="function"){var l=r;if(r=l(),Si){ke(!0);try{l()}finally{ke(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:r},a}function kx(r,a,l,d){return r.baseState=l,Ph(r,yt,typeof d=="function"?d:$s)}function e4(r,a,l,d,g){if(Ju(r))throw Error(s(485));if(r=a.action,r!==null){var y={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};X.T!==null?l(!0):y.isTransition=!1,d(y),l=a.pending,l===null?(y.next=a.pending=y,Cx(a,y)):(y.next=l.next,a.pending=l.next=y)}}function Cx(r,a){var l=a.action,d=a.payload,g=r.state;if(a.isTransition){var y=X.T,S={};X.T=S;try{var L=l(g,d),$=X.S;$!==null&&$(S,L),Dx(r,a,L)}catch(re){Uh(r,a,re)}finally{X.T=y}}else try{y=l(g,d),Dx(r,a,y)}catch(re){Uh(r,a,re)}}function Dx(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Rx(r,a,d)},function(d){return Uh(r,a,d)}):Rx(r,a,l)}function Rx(r,a,l){a.status="fulfilled",a.value=l,Ix(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,Cx(r,l)))}function Uh(r,a,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,Ix(a),a=a.next;while(a!==d)}r.action=null}function Ix(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Mx(r,a){return a}function Ox(r,a){if(ft){var l=St.formState;if(l!==null){e:{var d=Ge;if(ft){if(Pt){t:{for(var g=Pt,y=us;g.nodeType!==8;){if(!y){g=null;break t}if(g=Fr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Pt=Fr(g.nextSibling),d=g.data==="F!";break e}}_i(d)}d=!1}d&&(a=l[0])}}return l=Qn(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mx,lastRenderedState:a},l.queue=d,l=ey.bind(null,Ge,d),d.dispatch=l,d=zh(!1),y=Hh.bind(null,Ge,!1,d.queue),d=Qn(),g={state:a,dispatch:null,action:r,pending:null},d.queue=g,l=e4.bind(null,Ge,g,y,l),g.dispatch=l,d.memoizedState=r,[a,l,!1]}function Vx(r){var a=Qt();return Px(a,yt,r)}function Px(r,a,l){if(a=Ph(r,a,Mx)[0],r=Xu($s)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Ho(a)}catch(S){throw S===zo?qu:S}else d=a;a=Qt();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(Ge.flags|=2048,vl(9,Ku(),t4.bind(null,g,l),null)),[d,y,r]}function t4(r,a){r.action=a}function Lx(r){var a=Qt(),l=yt;if(l!==null)return Px(a,l,r);Qt(),a=a.memoizedState,l=Qt();var d=l.queue.dispatch;return l.memoizedState=r,[a,d,!1]}function vl(r,a,l,d){return r={tag:r,create:l,deps:d,inst:a,next:null},a=Ge.updateQueue,a===null&&(a=Oh(),Ge.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,a.lastEffect=r),r}function Ku(){return{destroy:void 0,resource:void 0}}function zx(){return Qt().memoizedState}function Zu(r,a,l,d){var g=Qn();d=d===void 0?null:d,Ge.flags|=r,g.memoizedState=vl(1|a,Ku(),l,d)}function Yo(r,a,l,d){var g=Qt();d=d===void 0?null:d;var y=g.memoizedState.inst;yt!==null&&d!==null&&Ch(d,yt.memoizedState.deps)?g.memoizedState=vl(a,y,l,d):(Ge.flags|=r,g.memoizedState=vl(1|a,y,l,d))}function Ux(r,a){Zu(8390656,8,r,a)}function Bx(r,a){Yo(2048,8,r,a)}function Fx(r,a){return Yo(4,2,r,a)}function qx(r,a){return Yo(4,4,r,a)}function $x(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Hx(r,a,l){l=l!=null?l.concat([r]):null,Yo(4,4,$x.bind(null,a,r),l)}function Bh(){}function Yx(r,a){var l=Qt();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&Ch(a,d[1])?d[0]:(l.memoizedState=[r,a],r)}function Gx(r,a){var l=Qt();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&Ch(a,d[1]))return d[0];if(d=r(),Si){ke(!0);try{r()}finally{ke(!1)}}return l.memoizedState=[d,a],d}function Fh(r,a,l){return l===void 0||(ha&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=Ky(),Ge.lanes|=r,va|=r,l)}function Qx(r,a,l,d){return sr(l,a)?l:xl.current!==null?(r=Fh(r,l,d),sr(r,a)||(mn=!0),r):(ha&42)===0?(mn=!0,r.memoizedState=l):(r=Ky(),Ge.lanes|=r,va|=r,a)}function Xx(r,a,l,d,g){var y=de.p;de.p=y!==0&&8>y?y:8;var S=X.T,L={};X.T=L,Hh(r,!1,a,l);try{var $=g(),re=X.S;if(re!==null&&re(L,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var fe=ZN($,d);Go(r,a,fe,cr(r))}else Go(r,a,d,cr(r))}catch(xe){Go(r,a,{then:function(){},status:"rejected",reason:xe},cr())}finally{de.p=y,X.T=S}}function n4(){}function qh(r,a,l,d){if(r.tag!==5)throw Error(s(476));var g=Kx(r).queue;Xx(r,g,a,J,l===null?n4:function(){return Zx(r),l(d)})}function Kx(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:J},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Zx(r){var a=Kx(r).next.queue;Go(r,a,{},cr())}function $h(){return Dn(dc)}function Jx(){return Qt().memoizedState}function Wx(){return Qt().memoizedState}function r4(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=cr();r=da(l);var d=fa(a,r,l);d!==null&&(ur(d,a,l),Bo(d,a,l)),a={cache:vh()},r.payload=a;return}a=a.return}}function s4(r,a,l){var d=cr();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(r)?ty(a,l):(l=uh(r,a,l,d),l!==null&&(ur(l,r,d),ny(l,a,d)))}function ey(r,a,l){var d=cr();Go(r,a,l,d)}function Go(r,a,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ju(r))ty(a,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,L=y(S,l);if(g.hasEagerState=!0,g.eagerState=L,sr(L,S))return Ou(r,a,g,0),St===null&&Mu(),!1}catch{}finally{}if(l=uh(r,a,g,d),l!==null)return ur(l,r,d),ny(l,a,d),!0}return!1}function Hh(r,a,l,d){if(d={lane:2,revertLane:Nm(),action:d,hasEagerState:!1,eagerState:null,next:null},Ju(r)){if(a)throw Error(s(479))}else a=uh(r,l,d,2),a!==null&&ur(a,r,2)}function Ju(r){var a=r.alternate;return r===Ge||a!==null&&a===Ge}function ty(r,a){yl=Yu=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function ny(r,a,l){if((l&4194048)!==0){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,ei(r,l)}}var Wu={readContext:Dn,use:Qu,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},ry={readContext:Dn,use:Qu,useCallback:function(r,a){return Qn().memoizedState=[r,a===void 0?null:a],r},useContext:Dn,useEffect:Ux,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,Zu(4194308,4,$x.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Zu(4194308,4,r,a)},useInsertionEffect:function(r,a){Zu(4,2,r,a)},useMemo:function(r,a){var l=Qn();a=a===void 0?null:a;var d=r();if(Si){ke(!0);try{r()}finally{ke(!1)}}return l.memoizedState=[d,a],d},useReducer:function(r,a,l){var d=Qn();if(l!==void 0){var g=l(a);if(Si){ke(!0);try{l(a)}finally{ke(!1)}}}else g=a;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=s4.bind(null,Ge,r),[d.memoizedState,r]},useRef:function(r){var a=Qn();return r={current:r},a.memoizedState=r},useState:function(r){r=zh(r);var a=r.queue,l=ey.bind(null,Ge,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:Bh,useDeferredValue:function(r,a){var l=Qn();return Fh(l,r,a)},useTransition:function(){var r=zh(!1);return r=Xx.bind(null,Ge,r.queue,!0,!1),Qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var d=Ge,g=Qn();if(ft){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),St===null)throw Error(s(349));(st&124)!==0||Ex(d,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,Ux(Sx.bind(null,d,y,r),[r]),d.flags|=2048,vl(9,Ku(),Tx.bind(null,d,y,l,a),null),l},useId:function(){var r=Qn(),a=St.identifierPrefix;if(ft){var l=Bs,d=Us;l=(d&~(1<<32-Re(d)-1)).toString(32)+l,a=""+a+"R"+l,l=Gu++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=JN++,a=""+a+"r"+l.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:$h,useFormState:Ox,useActionState:Ox,useOptimistic:function(r){var a=Qn();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Hh.bind(null,Ge,!0,l),l.dispatch=a,[r,a]},useMemoCache:Vh,useCacheRefresh:function(){return Qn().memoizedState=r4.bind(null,Ge)}},sy={readContext:Dn,use:Qu,useCallback:Yx,useContext:Dn,useEffect:Bx,useImperativeHandle:Hx,useInsertionEffect:Fx,useLayoutEffect:qx,useMemo:Gx,useReducer:Xu,useRef:zx,useState:function(){return Xu($s)},useDebugValue:Bh,useDeferredValue:function(r,a){var l=Qt();return Qx(l,yt.memoizedState,r,a)},useTransition:function(){var r=Xu($s)[0],a=Qt().memoizedState;return[typeof r=="boolean"?r:Ho(r),a]},useSyncExternalStore:Nx,useId:Jx,useHostTransitionStatus:$h,useFormState:Vx,useActionState:Vx,useOptimistic:function(r,a){var l=Qt();return kx(l,yt,r,a)},useMemoCache:Vh,useCacheRefresh:Wx},a4={readContext:Dn,use:Qu,useCallback:Yx,useContext:Dn,useEffect:Bx,useImperativeHandle:Hx,useInsertionEffect:Fx,useLayoutEffect:qx,useMemo:Gx,useReducer:Lh,useRef:zx,useState:function(){return Lh($s)},useDebugValue:Bh,useDeferredValue:function(r,a){var l=Qt();return yt===null?Fh(l,r,a):Qx(l,yt.memoizedState,r,a)},useTransition:function(){var r=Lh($s)[0],a=Qt().memoizedState;return[typeof r=="boolean"?r:Ho(r),a]},useSyncExternalStore:Nx,useId:Jx,useHostTransitionStatus:$h,useFormState:Lx,useActionState:Lx,useOptimistic:function(r,a){var l=Qt();return yt!==null?kx(l,yt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Vh,useCacheRefresh:Wx},wl=null,Qo=0;function ed(r){var a=Qo;return Qo+=1,wl===null&&(wl=[]),px(wl,r,a)}function Xo(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function td(r,a){throw a.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function ay(r){var a=r._init;return a(r._payload)}function iy(r){function a(Z,Q){if(r){var te=Z.deletions;te===null?(Z.deletions=[Q],Z.flags|=16):te.push(Q)}}function l(Z,Q){if(!r)return null;for(;Q!==null;)a(Z,Q),Q=Q.sibling;return null}function d(Z){for(var Q=new Map;Z!==null;)Z.key!==null?Q.set(Z.key,Z):Q.set(Z.index,Z),Z=Z.sibling;return Q}function g(Z,Q){return Z=zs(Z,Q),Z.index=0,Z.sibling=null,Z}function y(Z,Q,te){return Z.index=te,r?(te=Z.alternate,te!==null?(te=te.index,te<Q?(Z.flags|=67108866,Q):te):(Z.flags|=67108866,Q)):(Z.flags|=1048576,Q)}function S(Z){return r&&Z.alternate===null&&(Z.flags|=67108866),Z}function L(Z,Q,te,me){return Q===null||Q.tag!==6?(Q=fh(te,Z.mode,me),Q.return=Z,Q):(Q=g(Q,te),Q.return=Z,Q)}function $(Z,Q,te,me){var Ce=te.type;return Ce===C?fe(Z,Q,te.props.children,me,te.key):Q!==null&&(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===A&&ay(Ce)===Q.type)?(Q=g(Q,te.props),Xo(Q,te),Q.return=Z,Q):(Q=Pu(te.type,te.key,te.props,null,Z.mode,me),Xo(Q,te),Q.return=Z,Q)}function re(Z,Q,te,me){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==te.containerInfo||Q.stateNode.implementation!==te.implementation?(Q=hh(te,Z.mode,me),Q.return=Z,Q):(Q=g(Q,te.children||[]),Q.return=Z,Q)}function fe(Z,Q,te,me,Ce){return Q===null||Q.tag!==7?(Q=yi(te,Z.mode,me,Ce),Q.return=Z,Q):(Q=g(Q,te),Q.return=Z,Q)}function xe(Z,Q,te){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=fh(""+Q,Z.mode,te),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return te=Pu(Q.type,Q.key,Q.props,null,Z.mode,te),Xo(te,Q),te.return=Z,te;case _:return Q=hh(Q,Z.mode,te),Q.return=Z,Q;case A:var me=Q._init;return Q=me(Q._payload),xe(Z,Q,te)}if(ne(Q)||U(Q))return Q=yi(Q,Z.mode,te,null),Q.return=Z,Q;if(typeof Q.then=="function")return xe(Z,ed(Q),te);if(Q.$$typeof===F)return xe(Z,Bu(Z,Q),te);td(Z,Q)}return null}function ae(Z,Q,te,me){var Ce=Q!==null?Q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ce!==null?null:L(Z,Q,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return te.key===Ce?$(Z,Q,te,me):null;case _:return te.key===Ce?re(Z,Q,te,me):null;case A:return Ce=te._init,te=Ce(te._payload),ae(Z,Q,te,me)}if(ne(te)||U(te))return Ce!==null?null:fe(Z,Q,te,me,null);if(typeof te.then=="function")return ae(Z,Q,ed(te),me);if(te.$$typeof===F)return ae(Z,Q,Bu(Z,te),me);td(Z,te)}return null}function ie(Z,Q,te,me,Ce){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Z=Z.get(te)||null,L(Q,Z,""+me,Ce);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case w:return Z=Z.get(me.key===null?te:me.key)||null,$(Q,Z,me,Ce);case _:return Z=Z.get(me.key===null?te:me.key)||null,re(Q,Z,me,Ce);case A:var Qe=me._init;return me=Qe(me._payload),ie(Z,Q,te,me,Ce)}if(ne(me)||U(me))return Z=Z.get(te)||null,fe(Q,Z,me,Ce,null);if(typeof me.then=="function")return ie(Z,Q,te,ed(me),Ce);if(me.$$typeof===F)return ie(Z,Q,te,Bu(Q,me),Ce);td(Q,me)}return null}function ze(Z,Q,te,me){for(var Ce=null,Qe=null,De=Q,Pe=Q=0,gn=null;De!==null&&Pe<te.length;Pe++){De.index>Pe?(gn=De,De=null):gn=De.sibling;var ut=ae(Z,De,te[Pe],me);if(ut===null){De===null&&(De=gn);break}r&&De&&ut.alternate===null&&a(Z,De),Q=y(ut,Q,Pe),Qe===null?Ce=ut:Qe.sibling=ut,Qe=ut,De=gn}if(Pe===te.length)return l(Z,De),ft&&vi(Z,Pe),Ce;if(De===null){for(;Pe<te.length;Pe++)De=xe(Z,te[Pe],me),De!==null&&(Q=y(De,Q,Pe),Qe===null?Ce=De:Qe.sibling=De,Qe=De);return ft&&vi(Z,Pe),Ce}for(De=d(De);Pe<te.length;Pe++)gn=ie(De,Z,Pe,te[Pe],me),gn!==null&&(r&&gn.alternate!==null&&De.delete(gn.key===null?Pe:gn.key),Q=y(gn,Q,Pe),Qe===null?Ce=gn:Qe.sibling=gn,Qe=gn);return r&&De.forEach(function(ka){return a(Z,ka)}),ft&&vi(Z,Pe),Ce}function Ve(Z,Q,te,me){if(te==null)throw Error(s(151));for(var Ce=null,Qe=null,De=Q,Pe=Q=0,gn=null,ut=te.next();De!==null&&!ut.done;Pe++,ut=te.next()){De.index>Pe?(gn=De,De=null):gn=De.sibling;var ka=ae(Z,De,ut.value,me);if(ka===null){De===null&&(De=gn);break}r&&De&&ka.alternate===null&&a(Z,De),Q=y(ka,Q,Pe),Qe===null?Ce=ka:Qe.sibling=ka,Qe=ka,De=gn}if(ut.done)return l(Z,De),ft&&vi(Z,Pe),Ce;if(De===null){for(;!ut.done;Pe++,ut=te.next())ut=xe(Z,ut.value,me),ut!==null&&(Q=y(ut,Q,Pe),Qe===null?Ce=ut:Qe.sibling=ut,Qe=ut);return ft&&vi(Z,Pe),Ce}for(De=d(De);!ut.done;Pe++,ut=te.next())ut=ie(De,Z,Pe,ut.value,me),ut!==null&&(r&&ut.alternate!==null&&De.delete(ut.key===null?Pe:ut.key),Q=y(ut,Q,Pe),Qe===null?Ce=ut:Qe.sibling=ut,Qe=ut);return r&&De.forEach(function(i5){return a(Z,i5)}),ft&&vi(Z,Pe),Ce}function vt(Z,Q,te,me){if(typeof te=="object"&&te!==null&&te.type===C&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case w:e:{for(var Ce=te.key;Q!==null;){if(Q.key===Ce){if(Ce=te.type,Ce===C){if(Q.tag===7){l(Z,Q.sibling),me=g(Q,te.props.children),me.return=Z,Z=me;break e}}else if(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===A&&ay(Ce)===Q.type){l(Z,Q.sibling),me=g(Q,te.props),Xo(me,te),me.return=Z,Z=me;break e}l(Z,Q);break}else a(Z,Q);Q=Q.sibling}te.type===C?(me=yi(te.props.children,Z.mode,me,te.key),me.return=Z,Z=me):(me=Pu(te.type,te.key,te.props,null,Z.mode,me),Xo(me,te),me.return=Z,Z=me)}return S(Z);case _:e:{for(Ce=te.key;Q!==null;){if(Q.key===Ce)if(Q.tag===4&&Q.stateNode.containerInfo===te.containerInfo&&Q.stateNode.implementation===te.implementation){l(Z,Q.sibling),me=g(Q,te.children||[]),me.return=Z,Z=me;break e}else{l(Z,Q);break}else a(Z,Q);Q=Q.sibling}me=hh(te,Z.mode,me),me.return=Z,Z=me}return S(Z);case A:return Ce=te._init,te=Ce(te._payload),vt(Z,Q,te,me)}if(ne(te))return ze(Z,Q,te,me);if(U(te)){if(Ce=U(te),typeof Ce!="function")throw Error(s(150));return te=Ce.call(te),Ve(Z,Q,te,me)}if(typeof te.then=="function")return vt(Z,Q,ed(te),me);if(te.$$typeof===F)return vt(Z,Q,Bu(Z,te),me);td(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Q!==null&&Q.tag===6?(l(Z,Q.sibling),me=g(Q,te),me.return=Z,Z=me):(l(Z,Q),me=fh(te,Z.mode,me),me.return=Z,Z=me),S(Z)):l(Z,Q)}return function(Z,Q,te,me){try{Qo=0;var Ce=vt(Z,Q,te,me);return wl=null,Ce}catch(De){if(De===zo||De===qu)throw De;var Qe=ar(29,De,null,Z.mode);return Qe.lanes=me,Qe.return=Z,Qe}finally{}}}var _l=iy(!0),ly=iy(!1),Sr=ee(null),ds=null;function ma(r){var a=r.alternate;T(cn,cn.current&1),T(Sr,r),ds===null&&(a===null||xl.current!==null||a.memoizedState!==null)&&(ds=r)}function oy(r){if(r.tag===22){if(T(cn,cn.current),T(Sr,r),ds===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(ds=r)}}else pa()}function pa(){T(cn,cn.current),T(Sr,Sr.current)}function Hs(r){pe(Sr),ds===r&&(ds=null),pe(cn)}var cn=ee(0);function nd(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Om(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Yh(r,a,l,d){a=r.memoizedState,l=l(d,a),l=l==null?a:x({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Gh={enqueueSetState:function(r,a,l){r=r._reactInternals;var d=cr(),g=da(d);g.payload=a,l!=null&&(g.callback=l),a=fa(r,g,d),a!==null&&(ur(a,r,d),Bo(a,r,d))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var d=cr(),g=da(d);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=fa(r,g,d),a!==null&&(ur(a,r,d),Bo(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=cr(),d=da(l);d.tag=2,a!=null&&(d.callback=a),a=fa(r,d,l),a!==null&&(ur(a,r,l),Bo(a,r,l))}};function cy(r,a,l,d,g,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,S):a.prototype&&a.prototype.isPureReactComponent?!Do(l,d)||!Do(g,y):!0}function uy(r,a,l,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==r&&Gh.enqueueReplaceState(a,a.state,null)}function ji(r,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(r=r.defaultProps){l===a&&(l=x({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}var rd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function dy(r){rd(r)}function fy(r){console.error(r)}function hy(r){rd(r)}function sd(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function my(r,a,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Qh(r,a,l){return l=da(l),l.tag=3,l.payload={element:null},l.callback=function(){sd(r,a)},l}function py(r){return r=da(r),r.tag=3,r}function gy(r,a,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=d.value;r.payload=function(){return g(y)},r.callback=function(){my(a,l,d)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){my(a,l,d),typeof g!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var L=d.stack;this.componentDidCatch(d.value,{componentStack:L!==null?L:""})})}function i4(r,a,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&Vo(a,l,g,!0),l=Sr.current,l!==null){switch(l.tag){case 13:return ds===null?ym():l.alternate===null&&Lt===0&&(Lt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===Nh?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),vm(r,d,g)),!1;case 22:return l.flags|=65536,d===Nh?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),vm(r,d,g)),!1}throw Error(s(435,l.tag))}return vm(r,d,g),ym(),!1}if(ft)return a=Sr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==gh&&(r=Error(s(422),{cause:d}),Oo(_r(r,l)))):(d!==gh&&(a=Error(s(423),{cause:d}),Oo(_r(a,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=_r(d,l),g=Qh(r.stateNode,d,g),Sh(r,g),Lt!==4&&(Lt=2)),!1;var y=Error(s(520),{cause:d});if(y=_r(y,l),nc===null?nc=[y]:nc.push(y),Lt!==4&&(Lt=2),a===null)return!0;d=_r(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=Qh(l.stateNode,d,r),Sh(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wa===null||!wa.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=py(g),gy(g,r,l,d),Sh(l,g),!1}l=l.return}while(l!==null);return!1}var xy=Error(s(461)),mn=!1;function _n(r,a,l,d){a.child=r===null?ly(a,null,l,d):_l(a,r.child,l,d)}function yy(r,a,l,d,g){l=l.render;var y=a.ref;if("ref"in d){var S={};for(var L in d)L!=="ref"&&(S[L]=d[L])}else S=d;return Ei(a),d=Dh(r,a,l,S,y,g),L=Rh(),r!==null&&!mn?(Ih(r,a,g),Ys(r,a,g)):(ft&&L&&mh(a),a.flags|=1,_n(r,a,d,g),a.child)}function by(r,a,l,d,g){if(r===null){var y=l.type;return typeof y=="function"&&!dh(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,vy(r,a,y,d,g)):(r=Pu(l.type,null,d,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!nm(r,g)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Do,l(S,d)&&r.ref===a.ref)return Ys(r,a,g)}return a.flags|=1,r=zs(y,d),r.ref=a.ref,r.return=a,a.child=r}function vy(r,a,l,d,g){if(r!==null){var y=r.memoizedProps;if(Do(y,d)&&r.ref===a.ref)if(mn=!1,a.pendingProps=d=y,nm(r,g))(r.flags&131072)!==0&&(mn=!0);else return a.lanes=r.lanes,Ys(r,a,g)}return Xh(r,a,l,d,g)}function wy(r,a,l){var d=a.pendingProps,g=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=y!==null?y.baseLanes|l:l,r!==null){for(g=a.child=r.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~d}else a.childLanes=0,a.child=null;return _y(r,a,d,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Fu(a,y!==null?y.cachePool:null),y!==null?vx(a,y):Ah(),oy(a);else return a.lanes=a.childLanes=536870912,_y(r,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Fu(a,y.cachePool),vx(a,y),pa(),a.memoizedState=null):(r!==null&&Fu(a,null),Ah(),pa());return _n(r,a,g,l),a.child}function _y(r,a,l,d){var g=_h();return g=g===null?null:{parent:on._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},r!==null&&Fu(a,null),Ah(),oy(a),r!==null&&Vo(r,a,d,!0),null}function ad(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Xh(r,a,l,d,g){return Ei(a),l=Dh(r,a,l,d,void 0,g),d=Rh(),r!==null&&!mn?(Ih(r,a,g),Ys(r,a,g)):(ft&&d&&mh(a),a.flags|=1,_n(r,a,l,g),a.child)}function Ny(r,a,l,d,g,y){return Ei(a),a.updateQueue=null,l=_x(a,d,l,g),wx(r),d=Rh(),r!==null&&!mn?(Ih(r,a,y),Ys(r,a,y)):(ft&&d&&mh(a),a.flags|=1,_n(r,a,l,y),a.child)}function Ey(r,a,l,d,g){if(Ei(a),a.stateNode===null){var y=fl,S=l.contextType;typeof S=="object"&&S!==null&&(y=Dn(S)),y=new l(d,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Gh,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=d,y.state=a.memoizedState,y.refs={},Eh(a),S=l.contextType,y.context=typeof S=="object"&&S!==null?Dn(S):fl,y.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Yh(a,l,S,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Gh.enqueueReplaceState(y,y.state,null),qo(a,d,y,g),Fo(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){y=a.stateNode;var L=a.memoizedProps,$=ji(l,L);y.props=$;var re=y.context,fe=l.contextType;S=fl,typeof fe=="object"&&fe!==null&&(S=Dn(fe));var xe=l.getDerivedStateFromProps;fe=typeof xe=="function"||typeof y.getSnapshotBeforeUpdate=="function",L=a.pendingProps!==L,fe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(L||re!==S)&&uy(a,y,d,S),ua=!1;var ae=a.memoizedState;y.state=ae,qo(a,d,y,g),Fo(),re=a.memoizedState,L||ae!==re||ua?(typeof xe=="function"&&(Yh(a,l,xe,d),re=a.memoizedState),($=ua||cy(a,l,$,d,ae,re,S))?(fe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=re),y.props=d,y.state=re,y.context=S,d=$):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{y=a.stateNode,Th(r,a),S=a.memoizedProps,fe=ji(l,S),y.props=fe,xe=a.pendingProps,ae=y.context,re=l.contextType,$=fl,typeof re=="object"&&re!==null&&($=Dn(re)),L=l.getDerivedStateFromProps,(re=typeof L=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==xe||ae!==$)&&uy(a,y,d,$),ua=!1,ae=a.memoizedState,y.state=ae,qo(a,d,y,g),Fo();var ie=a.memoizedState;S!==xe||ae!==ie||ua||r!==null&&r.dependencies!==null&&Uu(r.dependencies)?(typeof L=="function"&&(Yh(a,l,L,d),ie=a.memoizedState),(fe=ua||cy(a,l,fe,d,ae,ie,$)||r!==null&&r.dependencies!==null&&Uu(r.dependencies))?(re||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ie,$),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ie,$)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&ae===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&ae===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=ie),y.props=d,y.state=ie,y.context=$,d=fe):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&ae===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&ae===r.memoizedState||(a.flags|=1024),d=!1)}return y=d,ad(r,a),d=(a.flags&128)!==0,y||d?(y=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&d?(a.child=_l(a,r.child,null,g),a.child=_l(a,null,l,g)):_n(r,a,l,g),a.memoizedState=y.state,r=a.child):r=Ys(r,a,g),r}function Ty(r,a,l,d){return Mo(),a.flags|=256,_n(r,a,l,d),a.child}var Kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zh(r){return{baseLanes:r,cachePool:fx()}}function Jh(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=jr),r}function Sy(r,a,l){var d=a.pendingProps,g=!1,y=(a.flags&128)!==0,S;if((S=y)||(S=r!==null&&r.memoizedState===null?!1:(cn.current&2)!==0),S&&(g=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(ft){if(g?ma(a):pa(),ft){var L=Pt,$;if($=L){e:{for($=L,L=us;$.nodeType!==8;){if(!L){L=null;break e}if($=Fr($.nextSibling),$===null){L=null;break e}}L=$}L!==null?(a.memoizedState={dehydrated:L,treeContext:bi!==null?{id:Us,overflow:Bs}:null,retryLane:536870912,hydrationErrors:null},$=ar(18,null,null,0),$.stateNode=L,$.return=a,a.child=$,Bn=a,Pt=null,$=!0):$=!1}$||_i(a)}if(L=a.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return Om(L)?a.lanes=32:a.lanes=536870912,null;Hs(a)}return L=d.children,d=d.fallback,g?(pa(),g=a.mode,L=id({mode:"hidden",children:L},g),d=yi(d,g,l,null),L.return=a,d.return=a,L.sibling=d,a.child=L,g=a.child,g.memoizedState=Zh(l),g.childLanes=Jh(r,S,l),a.memoizedState=Kh,d):(ma(a),Wh(a,L))}if($=r.memoizedState,$!==null&&(L=$.dehydrated,L!==null)){if(y)a.flags&256?(ma(a),a.flags&=-257,a=em(r,a,l)):a.memoizedState!==null?(pa(),a.child=r.child,a.flags|=128,a=null):(pa(),g=d.fallback,L=a.mode,d=id({mode:"visible",children:d.children},L),g=yi(g,L,l,null),g.flags|=2,d.return=a,g.return=a,d.sibling=g,a.child=d,_l(a,r.child,null,l),d=a.child,d.memoizedState=Zh(l),d.childLanes=Jh(r,S,l),a.memoizedState=Kh,a=g);else if(ma(a),Om(L)){if(S=L.nextSibling&&L.nextSibling.dataset,S)var re=S.dgst;S=re,d=Error(s(419)),d.stack="",d.digest=S,Oo({value:d,source:null,stack:null}),a=em(r,a,l)}else if(mn||Vo(r,a,l,!1),S=(l&r.childLanes)!==0,mn||S){if(S=St,S!==null&&(d=l&-l,d=(d&42)!==0?1:Jr(d),d=(d&(S.suspendedLanes|l))!==0?0:d,d!==0&&d!==$.retryLane))throw $.retryLane=d,dl(r,d),ur(S,r,d),xy;L.data==="$?"||ym(),a=em(r,a,l)}else L.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=$.treeContext,Pt=Fr(L.nextSibling),Bn=a,ft=!0,wi=null,us=!1,r!==null&&(Er[Tr++]=Us,Er[Tr++]=Bs,Er[Tr++]=bi,Us=r.id,Bs=r.overflow,bi=a),a=Wh(a,d.children),a.flags|=4096);return a}return g?(pa(),g=d.fallback,L=a.mode,$=r.child,re=$.sibling,d=zs($,{mode:"hidden",children:d.children}),d.subtreeFlags=$.subtreeFlags&65011712,re!==null?g=zs(re,g):(g=yi(g,L,l,null),g.flags|=2),g.return=a,d.return=a,d.sibling=g,a.child=d,d=g,g=a.child,L=r.child.memoizedState,L===null?L=Zh(l):($=L.cachePool,$!==null?(re=on._currentValue,$=$.parent!==re?{parent:re,pool:re}:$):$=fx(),L={baseLanes:L.baseLanes|l,cachePool:$}),g.memoizedState=L,g.childLanes=Jh(r,S,l),a.memoizedState=Kh,d):(ma(a),l=r.child,r=l.sibling,l=zs(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=l,a.memoizedState=null,l)}function Wh(r,a){return a=id({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function id(r,a){return r=ar(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function em(r,a,l){return _l(a,r.child,null,l),r=Wh(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function jy(r,a,l){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),yh(r.return,a,l)}function tm(r,a,l,d,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=g)}function Ay(r,a,l){var d=a.pendingProps,g=d.revealOrder,y=d.tail;if(_n(r,a,d.children,l),d=cn.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jy(r,l,a);else if(r.tag===19)jy(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(T(cn,d),g){case"forwards":for(l=a.child,g=null;l!==null;)r=l.alternate,r!==null&&nd(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),tm(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&nd(r)===null){a.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}tm(a,!0,l,null,y);break;case"together":tm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ys(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),va|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(Vo(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,l=zs(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=zs(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function nm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Uu(r)))}function l4(r,a,l){switch(a.tag){case 3:Se(a,a.stateNode.containerInfo),ca(a,on,r.memoizedState.cache),Mo();break;case 27:case 5:Je(a);break;case 4:Se(a,a.stateNode.containerInfo);break;case 10:ca(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(ma(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Sy(r,a,l):(ma(a),r=Ys(r,a,l),r!==null?r.sibling:null);ma(a);break;case 19:var g=(r.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(Vo(r,a,l,!1),d=(l&a.childLanes)!==0),g){if(d)return Ay(r,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),T(cn,cn.current),d)break;return null;case 22:case 23:return a.lanes=0,wy(r,a,l);case 24:ca(a,on,r.memoizedState.cache)}return Ys(r,a,l)}function ky(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)mn=!0;else{if(!nm(r,l)&&(a.flags&128)===0)return mn=!1,l4(r,a,l);mn=(r.flags&131072)!==0}else mn=!1,ft&&(a.flags&1048576)!==0&&ax(a,zu,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var d=a.elementType,g=d._init;if(d=g(d._payload),a.type=d,typeof d=="function")dh(d)?(r=ji(d,r),a.tag=1,a=Ey(null,a,d,r,l)):(a.tag=0,a=Xh(null,a,d,r,l));else{if(d!=null){if(g=d.$$typeof,g===q){a.tag=11,a=yy(null,a,d,r,l);break e}else if(g===V){a.tag=14,a=by(null,a,d,r,l);break e}}throw a=K(d)||d,Error(s(306,a,""))}}return a;case 0:return Xh(r,a,a.type,a.pendingProps,l);case 1:return d=a.type,g=ji(d,a.pendingProps),Ey(r,a,d,g,l);case 3:e:{if(Se(a,a.stateNode.containerInfo),r===null)throw Error(s(387));d=a.pendingProps;var y=a.memoizedState;g=y.element,Th(r,a),qo(a,d,null,l);var S=a.memoizedState;if(d=S.cache,ca(a,on,d),d!==y.cache&&bh(a,[on],l,!0),Fo(),d=S.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Ty(r,a,d,l);break e}else if(d!==g){g=_r(Error(s(424)),a),Oo(g),a=Ty(r,a,d,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Pt=Fr(r.firstChild),Bn=a,ft=!0,wi=null,us=!0,l=ly(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Mo(),d===g){a=Ys(r,a,l);break e}_n(r,a,d,l)}a=a.child}return a;case 26:return ad(r,a),r===null?(l=Ib(a.type,null,a.pendingProps,null))?a.memoizedState=l:ft||(l=a.type,r=a.pendingProps,d=vd(se.current).createElement(l),d[Bt]=a,d[It]=r,En(d,l,r),Ft(d),a.stateNode=d):a.memoizedState=Ib(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Je(a),r===null&&ft&&(d=a.stateNode=Cb(a.type,a.pendingProps,se.current),Bn=a,us=!0,g=Pt,Ea(a.type)?(Vm=g,Pt=Fr(d.firstChild)):Pt=g),_n(r,a,a.pendingProps.children,l),ad(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&ft&&((g=d=Pt)&&(d=O4(d,a.type,a.pendingProps,us),d!==null?(a.stateNode=d,Bn=a,Pt=Fr(d.firstChild),us=!1,g=!0):g=!1),g||_i(a)),Je(a),g=a.type,y=a.pendingProps,S=r!==null?r.memoizedProps:null,d=y.children,Rm(g,y)?d=null:S!==null&&Rm(g,S)&&(a.flags|=32),a.memoizedState!==null&&(g=Dh(r,a,WN,null,null,l),dc._currentValue=g),ad(r,a),_n(r,a,d,l),a.child;case 6:return r===null&&ft&&((r=l=Pt)&&(l=V4(l,a.pendingProps,us),l!==null?(a.stateNode=l,Bn=a,Pt=null,r=!0):r=!1),r||_i(a)),null;case 13:return Sy(r,a,l);case 4:return Se(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=_l(a,null,d,l):_n(r,a,d,l),a.child;case 11:return yy(r,a,a.type,a.pendingProps,l);case 7:return _n(r,a,a.pendingProps,l),a.child;case 8:return _n(r,a,a.pendingProps.children,l),a.child;case 12:return _n(r,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,ca(a,a.type,d.value),_n(r,a,d.children,l),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,Ei(a),g=Dn(g),d=d(g),a.flags|=1,_n(r,a,d,l),a.child;case 14:return by(r,a,a.type,a.pendingProps,l);case 15:return vy(r,a,a.type,a.pendingProps,l);case 19:return Ay(r,a,l);case 31:return d=a.pendingProps,l=a.mode,d={mode:d.mode,children:d.children},r===null?(l=id(d,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=zs(r.child,d),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return wy(r,a,l);case 24:return Ei(a),d=Dn(on),r===null?(g=_h(),g===null&&(g=St,y=vh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:d,cache:g},Eh(a),ca(a,on,g)):((r.lanes&l)!==0&&(Th(r,a),qo(a,null,null,l),Fo()),g=r.memoizedState,y=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),ca(a,on,d)):(d=y.cache,ca(a,on,d),d!==g.cache&&bh(a,[on],l,!0))),_n(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Gs(r){r.flags|=4}function Cy(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Lb(a)){if(a=Sr.current,a!==null&&((st&4194048)===st?ds!==null:(st&62914560)!==st&&(st&536870912)===0||a!==ds))throw Uo=Nh,hx;r.flags|=8192}}function ld(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Ja():536870912,r.lanes|=a,Sl|=a)}function Ko(r,a){if(!ft)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Mt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(a)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=l,a}function o4(r,a,l){var d=a.pendingProps;switch(ph(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Mt(a),null;case 3:return l=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),qs(on),Ye(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Io(a)?Gs(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ox())),Mt(a),null;case 26:return l=a.memoizedState,r===null?(Gs(a),l!==null?(Mt(a),Cy(a,l)):(Mt(a),a.flags&=-16777217)):l?l!==r.memoizedState?(Gs(a),Mt(a),Cy(a,l)):(Mt(a),a.flags&=-16777217):(r.memoizedProps!==d&&Gs(a),Mt(a),a.flags&=-16777217),null;case 27:Et(a),l=se.current;var g=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Gs(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return Mt(a),null}r=H.current,Io(a)?ix(a):(r=Cb(g,d,l),a.stateNode=r,Gs(a))}return Mt(a),null;case 5:if(Et(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Gs(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return Mt(a),null}if(r=H.current,Io(a))ix(a);else{switch(g=vd(se.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}r[Bt]=a,r[It]=d;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=r;e:switch(En(r,l,d),l){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Gs(a)}}return Mt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&Gs(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(r=se.current,Io(a)){if(r=a.stateNode,l=a.memoizedProps,d=null,g=Bn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[Bt]=a,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Nb(r.nodeValue,l)),r||_i(a)}else r=vd(r).createTextNode(d),r[Bt]=a,a.stateNode=r}return Mt(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Io(a),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Bt]=a}else Mo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),g=!1}else g=ox(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Hs(a),a):(Hs(a),null)}if(Hs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=d!==null,r=r!==null&&r.memoizedState!==null,l){d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),ld(a,a.updateQueue),Mt(a),null;case 4:return Ye(),r===null&&jm(a.stateNode.containerInfo),Mt(a),null;case 10:return qs(a.type),Mt(a),null;case 19:if(pe(cn),g=a.memoizedState,g===null)return Mt(a),null;if(d=(a.flags&128)!==0,y=g.rendering,y===null)if(d)Ko(g,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=nd(r),y!==null){for(a.flags|=128,Ko(g,!1),r=y.updateQueue,a.updateQueue=r,ld(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)sx(l,r),l=l.sibling;return T(cn,cn.current&1|2),a.child}r=r.sibling}g.tail!==null&&ct()>ud&&(a.flags|=128,d=!0,Ko(g,!1),a.lanes=4194304)}else{if(!d)if(r=nd(y),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,ld(a,r),Ko(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!ft)return Mt(a),null}else 2*ct()-g.renderingStartTime>ud&&l!==536870912&&(a.flags|=128,d=!0,Ko(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(r=g.last,r!==null?r.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=ct(),a.sibling=null,r=cn.current,T(cn,d?r&1|2:r&1),a):(Mt(a),null);case 22:case 23:return Hs(a),kh(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),l=a.updateQueue,l!==null&&ld(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),r!==null&&pe(Ti),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),qs(on),Mt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function c4(r,a){switch(ph(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return qs(on),Ye(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Et(a),null;case 13:if(Hs(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Mo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return pe(cn),null;case 4:return Ye(),null;case 10:return qs(a.type),null;case 22:case 23:return Hs(a),kh(),r!==null&&pe(Ti),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return qs(on),null;case 25:return null;default:return null}}function Dy(r,a){switch(ph(a),a.tag){case 3:qs(on),Ye();break;case 26:case 27:case 5:Et(a);break;case 4:Ye();break;case 13:Hs(a);break;case 19:pe(cn);break;case 10:qs(a.type);break;case 22:case 23:Hs(a),kh(),r!==null&&pe(Ti);break;case 24:qs(on)}}function Zo(r,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&r)===r){d=void 0;var y=l.create,S=l.inst;d=y(),S.destroy=d}l=l.next}while(l!==g)}}catch(L){_t(a,a.return,L)}}function ga(r,a,l){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&r)===r){var S=d.inst,L=S.destroy;if(L!==void 0){S.destroy=void 0,g=a;var $=l,re=L;try{re()}catch(fe){_t(g,$,fe)}}}d=d.next}while(d!==y)}}catch(fe){_t(a,a.return,fe)}}function Ry(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{bx(a,l)}catch(d){_t(r,r.return,d)}}}function Iy(r,a,l){l.props=ji(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){_t(r,a,d)}}function Jo(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(g){_t(r,a,g)}}function fs(r,a){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){_t(r,a,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){_t(r,a,g)}else l.current=null}function My(r){var a=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){_t(r,r.return,g)}}function rm(r,a,l){try{var d=r.stateNode;C4(d,r.type,l,a),d[It]=a}catch(g){_t(r,r.return,g)}}function Oy(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ea(r.type)||r.tag===4}function sm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Oy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ea(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function am(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=bd));else if(d!==4&&(d===27&&Ea(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(am(r,a,l),r=r.sibling;r!==null;)am(r,a,l),r=r.sibling}function od(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(d!==4&&(d===27&&Ea(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(od(r,a,l),r=r.sibling;r!==null;)od(r,a,l),r=r.sibling}function Vy(r){var a=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);En(a,d,l),a[Bt]=r,a[It]=l}catch(y){_t(r,r.return,y)}}var Qs=!1,$t=!1,im=!1,Py=typeof WeakSet=="function"?WeakSet:Set,pn=null;function u4(r,a){if(r=r.containerInfo,Cm=Sd,r=Qg(r),sh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,L=-1,$=-1,re=0,fe=0,xe=r,ae=null;t:for(;;){for(var ie;xe!==l||g!==0&&xe.nodeType!==3||(L=S+g),xe!==y||d!==0&&xe.nodeType!==3||($=S+d),xe.nodeType===3&&(S+=xe.nodeValue.length),(ie=xe.firstChild)!==null;)ae=xe,xe=ie;for(;;){if(xe===r)break t;if(ae===l&&++re===g&&(L=S),ae===y&&++fe===d&&($=S),(ie=xe.nextSibling)!==null)break;xe=ae,ae=xe.parentNode}xe=ie}l=L===-1||$===-1?null:{start:L,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(Dm={focusedElem:r,selectionRange:l},Sd=!1,pn=a;pn!==null;)if(a=pn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,pn=r;else for(;pn!==null;){switch(a=pn,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,d=l.stateNode;try{var ze=ji(l.type,g,l.elementType===l.type);r=d.getSnapshotBeforeUpdate(ze,y),d.__reactInternalSnapshotBeforeUpdate=r}catch(Ve){_t(l,l.return,Ve)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)Mm(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Mm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=a.sibling,r!==null){r.return=a.return,pn=r;break}pn=a.return}}function Ly(r,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:xa(r,l),d&4&&Zo(5,l);break;case 1:if(xa(r,l),d&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(S){_t(l,l.return,S)}else{var g=ji(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(g,a,r.__reactInternalSnapshotBeforeUpdate)}catch(S){_t(l,l.return,S)}}d&64&&Ry(l),d&512&&Jo(l,l.return);break;case 3:if(xa(r,l),d&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{bx(r,a)}catch(S){_t(l,l.return,S)}}break;case 27:a===null&&d&4&&Vy(l);case 26:case 5:xa(r,l),a===null&&d&4&&My(l),d&512&&Jo(l,l.return);break;case 12:xa(r,l);break;case 13:xa(r,l),d&4&&By(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=b4.bind(null,l),P4(r,l))));break;case 22:if(d=l.memoizedState!==null||Qs,!d){a=a!==null&&a.memoizedState!==null||$t,g=Qs;var y=$t;Qs=d,($t=a)&&!y?ya(r,l,(l.subtreeFlags&8772)!==0):xa(r,l),Qs=g,$t=y}break;case 30:break;default:xa(r,l)}}function zy(r){var a=r.alternate;a!==null&&(r.alternate=null,zy(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&xr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ct=null,Xn=!1;function Xs(r,a,l){for(l=l.child;l!==null;)Uy(r,a,l),l=l.sibling}function Uy(r,a,l){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(le,l)}catch{}switch(l.tag){case 26:$t||fs(l,a),Xs(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$t||fs(l,a);var d=Ct,g=Xn;Ea(l.type)&&(Ct=l.stateNode,Xn=!1),Xs(r,a,l),lc(l.stateNode),Ct=d,Xn=g;break;case 5:$t||fs(l,a);case 6:if(d=Ct,g=Xn,Ct=null,Xs(r,a,l),Ct=d,Xn=g,Ct!==null)if(Xn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(l.stateNode)}catch(y){_t(l,a,y)}else try{Ct.removeChild(l.stateNode)}catch(y){_t(l,a,y)}break;case 18:Ct!==null&&(Xn?(r=Ct,Ab(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),pc(r)):Ab(Ct,l.stateNode));break;case 4:d=Ct,g=Xn,Ct=l.stateNode.containerInfo,Xn=!0,Xs(r,a,l),Ct=d,Xn=g;break;case 0:case 11:case 14:case 15:$t||ga(2,l,a),$t||ga(4,l,a),Xs(r,a,l);break;case 1:$t||(fs(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Iy(l,a,d)),Xs(r,a,l);break;case 21:Xs(r,a,l);break;case 22:$t=(d=$t)||l.memoizedState!==null,Xs(r,a,l),$t=d;break;default:Xs(r,a,l)}}function By(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{pc(r)}catch(l){_t(a,a.return,l)}}function d4(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Py),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Py),a;default:throw Error(s(435,r.tag))}}function lm(r,a){var l=d4(r);a.forEach(function(d){var g=v4.bind(null,r,d);l.has(d)||(l.add(d),d.then(g,g))})}function ir(r,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],y=r,S=a,L=S;e:for(;L!==null;){switch(L.tag){case 27:if(Ea(L.type)){Ct=L.stateNode,Xn=!1;break e}break;case 5:Ct=L.stateNode,Xn=!1;break e;case 3:case 4:Ct=L.stateNode.containerInfo,Xn=!0;break e}L=L.return}if(Ct===null)throw Error(s(160));Uy(y,S,g),Ct=null,Xn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Fy(a,r),a=a.sibling}var Br=null;function Fy(r,a){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ir(a,r),lr(r),d&4&&(ga(3,r,r.return),Zo(3,r),ga(5,r,r.return));break;case 1:ir(a,r),lr(r),d&512&&($t||l===null||fs(l,l.return)),d&64&&Qs&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=Br;if(ir(a,r),lr(r),d&512&&($t||l===null||fs(l,l.return)),d&4){var y=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":y=g.getElementsByTagName("title")[0],(!y||y[qe]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(d),g.head.insertBefore(y,g.querySelector("head > title"))),En(y,d,l),y[Bt]=r,Ft(y),d=y;break e;case"link":var S=Vb("link","href",g).get(d+(l.href||""));if(S){for(var L=0;L<S.length;L++)if(y=S[L],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(L,1);break t}}y=g.createElement(d),En(y,d,l),g.head.appendChild(y);break;case"meta":if(S=Vb("meta","content",g).get(d+(l.content||""))){for(L=0;L<S.length;L++)if(y=S[L],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(L,1);break t}}y=g.createElement(d),En(y,d,l),g.head.appendChild(y);break;default:throw Error(s(468,d))}y[Bt]=r,Ft(y),d=y}r.stateNode=d}else Pb(g,r.type,r.stateNode);else r.stateNode=Ob(g,d,r.memoizedProps);else y!==d?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,d===null?Pb(g,r.type,r.stateNode):Ob(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&rm(r,r.memoizedProps,l.memoizedProps)}break;case 27:ir(a,r),lr(r),d&512&&($t||l===null||fs(l,l.return)),l!==null&&d&4&&rm(r,r.memoizedProps,l.memoizedProps);break;case 5:if(ir(a,r),lr(r),d&512&&($t||l===null||fs(l,l.return)),r.flags&32){g=r.stateNode;try{yr(g,"")}catch(ie){_t(r,r.return,ie)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,rm(r,g,l!==null?l.memoizedProps:g)),d&1024&&(im=!0);break;case 6:if(ir(a,r),lr(r),d&4){if(r.stateNode===null)throw Error(s(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(ie){_t(r,r.return,ie)}}break;case 3:if(Nd=null,g=Br,Br=wd(a.containerInfo),ir(a,r),Br=g,lr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{pc(a.containerInfo)}catch(ie){_t(r,r.return,ie)}im&&(im=!1,qy(r));break;case 4:d=Br,Br=wd(r.stateNode.containerInfo),ir(a,r),lr(r),Br=d;break;case 12:ir(a,r),lr(r);break;case 13:ir(a,r),lr(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hm=ct()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,lm(r,d)));break;case 22:g=r.memoizedState!==null;var $=l!==null&&l.memoizedState!==null,re=Qs,fe=$t;if(Qs=re||g,$t=fe||$,ir(a,r),$t=fe,Qs=re,lr(r),d&8192)e:for(a=r.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||$||Qs||$t||Ai(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){$=l=a;try{if(y=$.stateNode,g)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{L=$.stateNode;var xe=$.memoizedProps.style,ae=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;L.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ie){_t($,$.return,ie)}}}else if(a.tag===6){if(l===null){$=a;try{$.stateNode.nodeValue=g?"":$.memoizedProps}catch(ie){_t($,$.return,ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,lm(r,l))));break;case 19:ir(a,r),lr(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,lm(r,d)));break;case 30:break;case 21:break;default:ir(a,r),lr(r)}}function lr(r){var a=r.flags;if(a&2){try{for(var l,d=r.return;d!==null;){if(Oy(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,y=sm(r);od(r,y,g);break;case 5:var S=l.stateNode;l.flags&32&&(yr(S,""),l.flags&=-33);var L=sm(r);od(r,L,S);break;case 3:case 4:var $=l.stateNode.containerInfo,re=sm(r);am(r,re,$);break;default:throw Error(s(161))}}catch(fe){_t(r,r.return,fe)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function qy(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;qy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function xa(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ly(r,a.alternate,a),a=a.sibling}function Ai(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ga(4,a,a.return),Ai(a);break;case 1:fs(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Iy(a,a.return,l),Ai(a);break;case 27:lc(a.stateNode);case 26:case 5:fs(a,a.return),Ai(a);break;case 22:a.memoizedState===null&&Ai(a);break;case 30:Ai(a);break;default:Ai(a)}r=r.sibling}}function ya(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,g=r,y=a,S=y.flags;switch(y.tag){case 0:case 11:case 15:ya(g,y,l),Zo(4,y);break;case 1:if(ya(g,y,l),d=y,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(re){_t(d,d.return,re)}if(d=y,g=d.updateQueue,g!==null){var L=d.stateNode;try{var $=g.shared.hiddenCallbacks;if($!==null)for(g.shared.hiddenCallbacks=null,g=0;g<$.length;g++)yx($[g],L)}catch(re){_t(d,d.return,re)}}l&&S&64&&Ry(y),Jo(y,y.return);break;case 27:Vy(y);case 26:case 5:ya(g,y,l),l&&d===null&&S&4&&My(y),Jo(y,y.return);break;case 12:ya(g,y,l);break;case 13:ya(g,y,l),l&&S&4&&By(g,y);break;case 22:y.memoizedState===null&&ya(g,y,l),Jo(y,y.return);break;case 30:break;default:ya(g,y,l)}a=a.sibling}}function om(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Po(l))}function cm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Po(r))}function hs(r,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$y(r,a,l,d),a=a.sibling}function $y(r,a,l,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:hs(r,a,l,d),g&2048&&Zo(9,a);break;case 1:hs(r,a,l,d);break;case 3:hs(r,a,l,d),g&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Po(r)));break;case 12:if(g&2048){hs(r,a,l,d),r=a.stateNode;try{var y=a.memoizedProps,S=y.id,L=y.onPostCommit;typeof L=="function"&&L(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){_t(a,a.return,$)}}else hs(r,a,l,d);break;case 13:hs(r,a,l,d);break;case 23:break;case 22:y=a.stateNode,S=a.alternate,a.memoizedState!==null?y._visibility&2?hs(r,a,l,d):Wo(r,a):y._visibility&2?hs(r,a,l,d):(y._visibility|=2,Nl(r,a,l,d,(a.subtreeFlags&10256)!==0)),g&2048&&om(S,a);break;case 24:hs(r,a,l,d),g&2048&&cm(a.alternate,a);break;default:hs(r,a,l,d)}}function Nl(r,a,l,d,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,S=a,L=l,$=d,re=S.flags;switch(S.tag){case 0:case 11:case 15:Nl(y,S,L,$,g),Zo(8,S);break;case 23:break;case 22:var fe=S.stateNode;S.memoizedState!==null?fe._visibility&2?Nl(y,S,L,$,g):Wo(y,S):(fe._visibility|=2,Nl(y,S,L,$,g)),g&&re&2048&&om(S.alternate,S);break;case 24:Nl(y,S,L,$,g),g&&re&2048&&cm(S.alternate,S);break;default:Nl(y,S,L,$,g)}a=a.sibling}}function Wo(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,d=a,g=d.flags;switch(d.tag){case 22:Wo(l,d),g&2048&&om(d.alternate,d);break;case 24:Wo(l,d),g&2048&&cm(d.alternate,d);break;default:Wo(l,d)}a=a.sibling}}var ec=8192;function El(r){if(r.subtreeFlags&ec)for(r=r.child;r!==null;)Hy(r),r=r.sibling}function Hy(r){switch(r.tag){case 26:El(r),r.flags&ec&&r.memoizedState!==null&&K4(Br,r.memoizedState,r.memoizedProps);break;case 5:El(r);break;case 3:case 4:var a=Br;Br=wd(r.stateNode.containerInfo),El(r),Br=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=ec,ec=16777216,El(r),ec=a):El(r));break;default:El(r)}}function Yy(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function tc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];pn=d,Qy(d,r)}Yy(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Gy(r),r=r.sibling}function Gy(r){switch(r.tag){case 0:case 11:case 15:tc(r),r.flags&2048&&ga(9,r,r.return);break;case 3:tc(r);break;case 12:tc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,cd(r)):tc(r);break;default:tc(r)}}function cd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];pn=d,Qy(d,r)}Yy(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ga(8,a,a.return),cd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,cd(a));break;default:cd(a)}r=r.sibling}}function Qy(r,a){for(;pn!==null;){var l=pn;switch(l.tag){case 0:case 11:case 15:ga(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Po(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,pn=d;else e:for(l=r;pn!==null;){d=pn;var g=d.sibling,y=d.return;if(zy(d),d===l){pn=null;break e}if(g!==null){g.return=y,pn=g;break e}pn=y}}}var f4={getCacheForType:function(r){var a=Dn(on),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},h4=typeof WeakMap=="function"?WeakMap:Map,pt=0,St=null,Xe=null,st=0,gt=0,or=null,ba=!1,Tl=!1,um=!1,Ks=0,Lt=0,va=0,ki=0,dm=0,jr=0,Sl=0,nc=null,Kn=null,fm=!1,hm=0,ud=1/0,dd=null,wa=null,Nn=0,_a=null,jl=null,Al=0,mm=0,pm=null,Xy=null,rc=0,gm=null;function cr(){if((pt&2)!==0&&st!==0)return st&-st;if(X.T!==null){var r=pl;return r!==0?r:Nm()}return Pr()}function Ky(){jr===0&&(jr=(st&536870912)===0||ft?Za():536870912);var r=Sr.current;return r!==null&&(r.flags|=32),jr}function ur(r,a,l){(r===St&&(gt===2||gt===9)||r.cancelPendingCommit!==null)&&(kl(r,0),Na(r,st,jr,!1)),Vr(r,l),((pt&2)===0||r!==St)&&(r===St&&((pt&2)===0&&(ki|=l),Lt===4&&Na(r,st,jr,!1)),ms(r))}function Zy(r,a,l){if((pt&6)!==0)throw Error(s(327));var d=!l&&(a&124)===0&&(a&r.expiredLanes)===0||bn(r,a),g=d?g4(r,a):bm(r,a,!0),y=d;do{if(g===0){Tl&&!d&&Na(r,a,0,!1);break}else{if(l=r.current.alternate,y&&!m4(l)){g=bm(r,a,!1),y=!1;continue}if(g===2){if(y=a,r.errorRecoveryDisabledLanes&y)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var L=r;g=nc;var $=L.current.memoizedState.isDehydrated;if($&&(kl(L,S).flags|=256),S=bm(L,S,!1),S!==2){if(um&&!$){L.errorRecoveryDisabledLanes|=y,ki|=y,g=4;break e}y=Kn,Kn=g,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}g=S}if(y=!1,g!==2)continue}}if(g===1){kl(r,0),Na(r,a,0,!0);break}e:{switch(d=r,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Na(d,a,jr,!ba);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(g=hm+300-ct(),10<g)){if(Na(d,a,jr,!ba),Rt(d,0,!0)!==0)break e;d.timeoutHandle=Sb(Jy.bind(null,d,l,Kn,dd,fm,a,jr,ki,Sl,ba,y,2,-0,0),g);break e}Jy(d,l,Kn,dd,fm,a,jr,ki,Sl,ba,y,0,-0,0)}}break}while(!0);ms(r)}function Jy(r,a,l,d,g,y,S,L,$,re,fe,xe,ae,ie){if(r.timeoutHandle=-1,xe=a.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(uc={stylesheets:null,count:0,unsuspend:X4},Hy(a),xe=Z4(),xe!==null)){r.cancelPendingCommit=xe(ab.bind(null,r,a,y,l,d,g,S,L,$,fe,1,ae,ie)),Na(r,y,S,!re);return}ab(r,a,y,l,d,g,S,L,$)}function m4(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],y=g.getSnapshot;g=g.value;try{if(!sr(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Na(r,a,l,d){a&=~dm,a&=~ki,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var g=a;0<g;){var y=31-Re(g),S=1<<y;d[y]=-1,g&=~S}l!==0&&gr(r,l,a)}function fd(){return(pt&6)===0?(sc(0),!1):!0}function xm(){if(Xe!==null){if(gt===0)var r=Xe.return;else r=Xe,Fs=Ni=null,Mh(r),wl=null,Qo=0,r=Xe;for(;r!==null;)Dy(r.alternate,r),r=r.return;Xe=null}}function kl(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,R4(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),xm(),St=r,Xe=l=zs(r.current,null),st=a,gt=0,or=null,ba=!1,Tl=bn(r,a),um=!1,Sl=jr=dm=ki=va=Lt=0,Kn=nc=null,fm=!1,(a&8)!==0&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var g=31-Re(d),y=1<<g;a|=r[g],d&=~y}return Ks=a,Mu(),l}function Wy(r,a){Ge=null,X.H=Wu,a===zo||a===qu?(a=gx(),gt=3):a===hx?(a=gx(),gt=4):gt=a===xy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,or=a,Xe===null&&(Lt=1,sd(r,_r(a,r.current)))}function eb(){var r=X.H;return X.H=Wu,r===null?Wu:r}function tb(){var r=X.A;return X.A=f4,r}function ym(){Lt=4,ba||(st&4194048)!==st&&Sr.current!==null||(Tl=!0),(va&134217727)===0&&(ki&134217727)===0||St===null||Na(St,st,jr,!1)}function bm(r,a,l){var d=pt;pt|=2;var g=eb(),y=tb();(St!==r||st!==a)&&(dd=null,kl(r,a)),a=!1;var S=Lt;e:do try{if(gt!==0&&Xe!==null){var L=Xe,$=or;switch(gt){case 8:xm(),S=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(a=!0);var re=gt;if(gt=0,or=null,Cl(r,L,$,re),l&&Tl){S=0;break e}break;default:re=gt,gt=0,or=null,Cl(r,L,$,re)}}p4(),S=Lt;break}catch(fe){Wy(r,fe)}while(!0);return a&&r.shellSuspendCounter++,Fs=Ni=null,pt=d,X.H=g,X.A=y,Xe===null&&(St=null,st=0,Mu()),S}function p4(){for(;Xe!==null;)nb(Xe)}function g4(r,a){var l=pt;pt|=2;var d=eb(),g=tb();St!==r||st!==a?(dd=null,ud=ct()+500,kl(r,a)):Tl=bn(r,a);e:do try{if(gt!==0&&Xe!==null){a=Xe;var y=or;t:switch(gt){case 1:gt=0,or=null,Cl(r,a,y,1);break;case 2:case 9:if(mx(y)){gt=0,or=null,rb(a);break}a=function(){gt!==2&&gt!==9||St!==r||(gt=7),ms(r)},y.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:mx(y)?(gt=0,or=null,rb(a)):(gt=0,or=null,Cl(r,a,y,7));break;case 5:var S=null;switch(Xe.tag){case 26:S=Xe.memoizedState;case 5:case 27:var L=Xe;if(!S||Lb(S)){gt=0,or=null;var $=L.sibling;if($!==null)Xe=$;else{var re=L.return;re!==null?(Xe=re,hd(re)):Xe=null}break t}}gt=0,or=null,Cl(r,a,y,5);break;case 6:gt=0,or=null,Cl(r,a,y,6);break;case 8:xm(),Lt=6;break e;default:throw Error(s(462))}}x4();break}catch(fe){Wy(r,fe)}while(!0);return Fs=Ni=null,X.H=d,X.A=g,pt=l,Xe!==null?0:(St=null,st=0,Mu(),Lt)}function x4(){for(;Xe!==null&&!Ne();)nb(Xe)}function nb(r){var a=ky(r.alternate,r,Ks);r.memoizedProps=r.pendingProps,a===null?hd(r):Xe=a}function rb(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=Ny(l,a,a.pendingProps,a.type,void 0,st);break;case 11:a=Ny(l,a,a.pendingProps,a.type.render,a.ref,st);break;case 5:Mh(a);default:Dy(l,a),a=Xe=sx(a,Ks),a=ky(l,a,Ks)}r.memoizedProps=r.pendingProps,a===null?hd(r):Xe=a}function Cl(r,a,l,d){Fs=Ni=null,Mh(a),wl=null,Qo=0;var g=a.return;try{if(i4(r,g,a,l,st)){Lt=1,sd(r,_r(l,r.current)),Xe=null;return}}catch(y){if(g!==null)throw Xe=g,y;Lt=1,sd(r,_r(l,r.current)),Xe=null;return}a.flags&32768?(ft||d===1?r=!0:Tl||(st&536870912)!==0?r=!1:(ba=r=!0,(d===2||d===9||d===3||d===6)&&(d=Sr.current,d!==null&&d.tag===13&&(d.flags|=16384))),sb(a,r)):hd(a)}function hd(r){var a=r;do{if((a.flags&32768)!==0){sb(a,ba);return}r=a.return;var l=o4(a.alternate,a,Ks);if(l!==null){Xe=l;return}if(a=a.sibling,a!==null){Xe=a;return}Xe=a=r}while(a!==null);Lt===0&&(Lt=5)}function sb(r,a){do{var l=c4(r.alternate,r);if(l!==null){l.flags&=32767,Xe=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=l}while(r!==null);Lt=6,Xe=null}function ab(r,a,l,d,g,y,S,L,$){r.cancelPendingCommit=null;do md();while(Nn!==0);if((pt&6)!==0)throw Error(s(327));if(a!==null){if(a===r.current)throw Error(s(177));if(y=a.lanes|a.childLanes,y|=ch,Wa(r,l,y,S,L,$),r===St&&(Xe=St=null,st=0),jl=a,_a=r,Al=l,mm=y,pm=g,Xy=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,w4(nr,function(){return ub(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=X.T,X.T=null,g=de.p,de.p=2,S=pt,pt|=4;try{u4(r,a,l)}finally{pt=S,de.p=g,X.T=d}}Nn=1,ib(),lb(),ob()}}function ib(){if(Nn===1){Nn=0;var r=_a,a=jl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var d=de.p;de.p=2;var g=pt;pt|=4;try{Fy(a,r);var y=Dm,S=Qg(r.containerInfo),L=y.focusedElem,$=y.selectionRange;if(S!==L&&L&&L.ownerDocument&&Gg(L.ownerDocument.documentElement,L)){if($!==null&&sh(L)){var re=$.start,fe=$.end;if(fe===void 0&&(fe=re),"selectionStart"in L)L.selectionStart=re,L.selectionEnd=Math.min(fe,L.value.length);else{var xe=L.ownerDocument||document,ae=xe&&xe.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),ze=L.textContent.length,Ve=Math.min($.start,ze),vt=$.end===void 0?Ve:Math.min($.end,ze);!ie.extend&&Ve>vt&&(S=vt,vt=Ve,Ve=S);var Z=Yg(L,Ve),Q=Yg(L,vt);if(Z&&Q&&(ie.rangeCount!==1||ie.anchorNode!==Z.node||ie.anchorOffset!==Z.offset||ie.focusNode!==Q.node||ie.focusOffset!==Q.offset)){var te=xe.createRange();te.setStart(Z.node,Z.offset),ie.removeAllRanges(),Ve>vt?(ie.addRange(te),ie.extend(Q.node,Q.offset)):(te.setEnd(Q.node,Q.offset),ie.addRange(te))}}}}for(xe=[],ie=L;ie=ie.parentNode;)ie.nodeType===1&&xe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<xe.length;L++){var me=xe[L];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Sd=!!Cm,Dm=Cm=null}finally{pt=g,de.p=d,X.T=l}}r.current=a,Nn=2}}function lb(){if(Nn===2){Nn=0;var r=_a,a=jl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var d=de.p;de.p=2;var g=pt;pt|=4;try{Ly(r,a.alternate,a)}finally{pt=g,de.p=d,X.T=l}}Nn=3}}function ob(){if(Nn===4||Nn===3){Nn=0,ot();var r=_a,a=jl,l=Al,d=Xy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Nn=5:(Nn=0,jl=_a=null,cb(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(wa=null),aa(l),a=a.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(le,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=X.T,g=de.p,de.p=2,X.T=null;try{for(var y=r.onRecoverableError,S=0;S<d.length;S++){var L=d[S];y(L.value,{componentStack:L.stack})}}finally{X.T=a,de.p=g}}(Al&3)!==0&&md(),ms(r),g=r.pendingLanes,(l&4194090)!==0&&(g&42)!==0?r===gm?rc++:(rc=0,gm=r):rc=0,sc(0)}}function cb(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Po(a)))}function md(r){return ib(),lb(),ob(),ub()}function ub(){if(Nn!==5)return!1;var r=_a,a=mm;mm=0;var l=aa(Al),d=X.T,g=de.p;try{de.p=32>l?32:l,X.T=null,l=pm,pm=null;var y=_a,S=Al;if(Nn=0,jl=_a=null,Al=0,(pt&6)!==0)throw Error(s(331));var L=pt;if(pt|=4,Gy(y.current),$y(y,y.current,S,l),pt=L,sc(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(le,y)}catch{}return!0}finally{de.p=g,X.T=d,cb(r,a)}}function db(r,a,l){a=_r(l,a),a=Qh(r.stateNode,a,2),r=fa(r,a,2),r!==null&&(Vr(r,2),ms(r))}function _t(r,a,l){if(r.tag===3)db(r,r,l);else for(;a!==null;){if(a.tag===3){db(a,r,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(wa===null||!wa.has(d))){r=_r(l,r),l=py(2),d=fa(a,l,2),d!==null&&(gy(l,d,a,r),Vr(d,2),ms(d));break}}a=a.return}}function vm(r,a,l){var d=r.pingCache;if(d===null){d=r.pingCache=new h4;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(l)||(um=!0,g.add(l),r=y4.bind(null,r,a,l),a.then(r,r))}function y4(r,a,l){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,St===r&&(st&l)===l&&(Lt===4||Lt===3&&(st&62914560)===st&&300>ct()-hm?(pt&2)===0&&kl(r,0):dm|=l,Sl===st&&(Sl=0)),ms(r)}function fb(r,a){a===0&&(a=Ja()),r=dl(r,a),r!==null&&(Vr(r,a),ms(r))}function b4(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),fb(r,l)}function v4(r,a){var l=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(a),fb(r,l)}function w4(r,a){return en(r,a)}var pd=null,Dl=null,wm=!1,gd=!1,_m=!1,Ci=0;function ms(r){r!==Dl&&r.next===null&&(Dl===null?pd=Dl=r:Dl=Dl.next=r),gd=!0,wm||(wm=!0,N4())}function sc(r,a){if(!_m&&gd){_m=!0;do for(var l=!1,d=pd;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var y=0;else{var S=d.suspendedLanes,L=d.pingedLanes;y=(1<<31-Re(42|r)+1)-1,y&=g&~(S&~L),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,gb(d,y))}else y=st,y=Rt(d,d===St?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||bn(d,y)||(l=!0,gb(d,y));d=d.next}while(l);_m=!1}}function _4(){hb()}function hb(){gd=wm=!1;var r=0;Ci!==0&&(D4()&&(r=Ci),Ci=0);for(var a=ct(),l=null,d=pd;d!==null;){var g=d.next,y=mb(d,a);y===0?(d.next=null,l===null?pd=g:l.next=g,g===null&&(Dl=l)):(l=d,(r!==0||(y&3)!==0)&&(gd=!0)),d=g}sc(r)}function mb(r,a){for(var l=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var S=31-Re(y),L=1<<S,$=g[S];$===-1?((L&l)===0||(L&d)!==0)&&(g[S]=sn(L,a)):$<=a&&(r.expiredLanes|=L),y&=~L}if(a=St,l=st,l=Rt(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===a&&(gt===2||gt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&tr(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||bn(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(d!==null&&tr(d),aa(l)){case 2:case 8:l=Yn;break;case 32:l=nr;break;case 268435456:l=Mr;break;default:l=nr}return d=pb.bind(null,r),l=en(l,d),r.callbackPriority=a,r.callbackNode=l,a}return d!==null&&d!==null&&tr(d),r.callbackPriority=2,r.callbackNode=null,2}function pb(r,a){if(Nn!==0&&Nn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(md()&&r.callbackNode!==l)return null;var d=st;return d=Rt(r,r===St?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Zy(r,d,a),mb(r,ct()),r.callbackNode!=null&&r.callbackNode===l?pb.bind(null,r):null)}function gb(r,a){if(md())return null;Zy(r,a,!0)}function N4(){I4(function(){(pt&6)!==0?en(dn,_4):hb()})}function Nm(){return Ci===0&&(Ci=Za()),Ci}function xb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Wi(""+r)}function yb(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function E4(r,a,l,d,g){if(a==="submit"&&l&&l.stateNode===g){var y=xb((g[It]||null).action),S=d.submitter;S&&(a=(a=S[It]||null)?xb(a.formAction):S.getAttribute("formAction"),a!==null&&(y=a,S=null));var L=new el("action","action",null,d,g);r.push({event:L,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ci!==0){var $=S?yb(g,S):new FormData(g);qh(l,{pending:!0,data:$,method:g.method,action:y},null,$)}}else typeof y=="function"&&(L.preventDefault(),$=S?yb(g,S):new FormData(g),qh(l,{pending:!0,data:$,method:g.method,action:y},y,$))},currentTarget:g}]})}}for(var Em=0;Em<oh.length;Em++){var Tm=oh[Em],T4=Tm.toLowerCase(),S4=Tm[0].toUpperCase()+Tm.slice(1);Ur(T4,"on"+S4)}Ur(Zg,"onAnimationEnd"),Ur(Jg,"onAnimationIteration"),Ur(Wg,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(qN,"onTransitionRun"),Ur($N,"onTransitionStart"),Ur(HN,"onTransitionCancel"),Ur(ex,"onTransitionEnd"),Cs("onMouseEnter",["mouseout","mouseover"]),Cs("onMouseLeave",["mouseout","mouseover"]),Cs("onPointerEnter",["pointerout","pointerover"]),Cs("onPointerLeave",["pointerout","pointerover"]),Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function bb(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],g=d.event;d=d.listeners;e:{var y=void 0;if(a)for(var S=d.length-1;0<=S;S--){var L=d[S],$=L.instance,re=L.currentTarget;if(L=L.listener,$!==y&&g.isPropagationStopped())break e;y=L,g.currentTarget=re;try{y(g)}catch(fe){rd(fe)}g.currentTarget=null,y=$}else for(S=0;S<d.length;S++){if(L=d[S],$=L.instance,re=L.currentTarget,L=L.listener,$!==y&&g.isPropagationStopped())break e;y=L,g.currentTarget=re;try{y(g)}catch(fe){rd(fe)}g.currentTarget=null,y=$}}}}function Ke(r,a){var l=a[ni];l===void 0&&(l=a[ni]=new Set);var d=r+"__bubble";l.has(d)||(vb(a,r,2,!1),l.add(d))}function Sm(r,a,l){var d=0;a&&(d|=4),vb(l,r,d,a)}var xd="_reactListening"+Math.random().toString(36).slice(2);function jm(r){if(!r[xd]){r[xd]=!0,xo.forEach(function(l){l!=="selectionchange"&&(j4.has(l)||Sm(l,!1,r),Sm(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[xd]||(a[xd]=!0,Sm("selectionchange",!1,a))}}function vb(r,a,l,d){switch($b(a)){case 2:var g=e5;break;case 8:g=t5;break;default:g=Bm}l=g.bind(null,a,l,r),g=void 0,!vr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(a,l,{capture:!0,passive:g}):r.addEventListener(a,l,!0):g!==void 0?r.addEventListener(a,l,{passive:g}):r.addEventListener(a,l,!1)}function Am(r,a,l,d,g){var y=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var L=d.stateNode.containerInfo;if(L===g)break;if(S===4)for(S=d.return;S!==null;){var $=S.tag;if(($===3||$===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;L!==null;){if(S=ks(L),S===null)return;if($=S.tag,$===5||$===6||$===26||$===27){d=y=S;continue e}L=L.parentNode}}d=d.return}bu(function(){var re=y,fe=br(l),xe=[];e:{var ae=tx.get(r);if(ae!==void 0){var ie=el,ze=r;switch(r){case"keypress":if(as(l)===0)break e;case"keydown":case"keyup":ie=il;break;case"focusin":ze="focus",ie=rl;break;case"focusout":ze="blur",ie=rl;break;case"beforeblur":case"afterblur":ie=rl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=ju;break;case Zg:case Jg:case Wg:ie=sl;break;case ex:ie=ku;break;case"scroll":case"scrollend":ie=vu;break;case"wheel":ie=ll;break;case"copy":case"cut":case"paste":ie=al;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ko;break;case"toggle":case"beforetoggle":ie=Du}var Ve=(a&4)!==0,vt=!Ve&&(r==="scroll"||r==="scrollend"),Z=Ve?ae!==null?ae+"Capture":null:ae;Ve=[];for(var Q=re,te;Q!==null;){var me=Q;if(te=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||te===null||Z===null||(me=ci(Q,Z),me!=null&&Ve.push(ic(Q,me,te))),vt)break;Q=Q.return}0<Ve.length&&(ae=new ie(ae,ze,null,l,fe),xe.push({event:ae,listeners:Ve}))}}if((a&7)===0){e:{if(ae=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",ae&&l!==Is&&(ze=l.relatedTarget||l.fromElement)&&(ks(ze)||ze[Gn]))break e;if((ie||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(ze=l.relatedTarget||l.toElement,ie=re,ze=ze?ks(ze):null,ze!==null&&(vt=c(ze),Ve=ze.tag,ze!==vt||Ve!==5&&Ve!==27&&Ve!==6)&&(ze=null)):(ie=null,ze=re),ie!==ze)){if(Ve=wr,me="onMouseLeave",Z="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(Ve=ko,me="onPointerLeave",Z="onPointerEnter",Q="pointer"),vt=ie==null?ae:ts(ie),te=ze==null?ae:ts(ze),ae=new Ve(me,Q+"leave",ie,l,fe),ae.target=vt,ae.relatedTarget=te,me=null,ks(fe)===re&&(Ve=new Ve(Z,Q+"enter",ze,l,fe),Ve.target=te,Ve.relatedTarget=vt,me=Ve),vt=me,ie&&ze)t:{for(Ve=ie,Z=ze,Q=0,te=Ve;te;te=Rl(te))Q++;for(te=0,me=Z;me;me=Rl(me))te++;for(;0<Q-te;)Ve=Rl(Ve),Q--;for(;0<te-Q;)Z=Rl(Z),te--;for(;Q--;){if(Ve===Z||Z!==null&&Ve===Z.alternate)break t;Ve=Rl(Ve),Z=Rl(Z)}Ve=null}else Ve=null;ie!==null&&wb(xe,ae,ie,Ve,!1),ze!==null&&vt!==null&&wb(xe,vt,ze,Ve,!0)}}e:{if(ae=re?ts(re):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var Ce=Ug;else if(ln(ae))if(Bg)Ce=UN;else{Ce=LN;var Qe=PN}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?re&&_o(re.elementType)&&(Ce=Ug):Ce=zN;if(Ce&&(Ce=Ce(r,re))){Ls(xe,Ce,l,fe);break e}Qe&&Qe(r,ae,re),r==="focusout"&&re&&ae.type==="number"&&re.memoizedProps.value!=null&&la(ae,"number",ae.value)}switch(Qe=re?ts(re):window,r){case"focusin":(ln(Qe)||Qe.contentEditable==="true")&&(ol=Qe,ah=re,Ro=null);break;case"focusout":Ro=ah=ol=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Xg(xe,l,fe);break;case"selectionchange":if(FN)break;case"keydown":case"keyup":Xg(xe,l,fe)}var De;if(os)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else nt?ce(r,l)&&(Pe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(N&&l.locale!=="ko"&&(nt||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&nt&&(De=Eo()):(ss=fe,oa="value"in ss?ss.value:ss.textContent,nt=!0)),Qe=yd(re,Pe),0<Qe.length&&(Pe=new jo(Pe,r,null,l,fe),xe.push({event:Pe,listeners:Qe}),De?Pe.data=De:(De=Ee(l),De!==null&&(Pe.data=De)))),(De=v?an(r,l):rt(r,l))&&(Pe=yd(re,"onBeforeInput"),0<Pe.length&&(Qe=new jo("onBeforeInput","beforeinput",null,l,fe),xe.push({event:Qe,listeners:Pe}),Qe.data=De)),E4(xe,r,re,l,fe)}bb(xe,a)})}function ic(r,a,l){return{instance:r,listener:a,currentTarget:l}}function yd(r,a){for(var l=a+"Capture",d=[];r!==null;){var g=r,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ci(r,l),g!=null&&d.unshift(ic(r,g,y)),g=ci(r,a),g!=null&&d.push(ic(r,g,y))),r.tag===3)return d;r=r.return}return[]}function Rl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function wb(r,a,l,d,g){for(var y=a._reactName,S=[];l!==null&&l!==d;){var L=l,$=L.alternate,re=L.stateNode;if(L=L.tag,$!==null&&$===d)break;L!==5&&L!==26&&L!==27||re===null||($=re,g?(re=ci(l,y),re!=null&&S.unshift(ic(l,re,$))):g||(re=ci(l,y),re!=null&&S.push(ic(l,re,$)))),l=l.return}S.length!==0&&r.push({event:a,listeners:S})}var A4=/\r\n?/g,k4=/\u0000|\uFFFD/g;function _b(r){return(typeof r=="string"?r:""+r).replace(A4,`
`).replace(k4,"")}function Nb(r,a){return a=_b(a),_b(r)===a}function bd(){}function bt(r,a,l,d,g,y){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||yr(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&yr(r,""+d);break;case"className":ns(r,"class",d);break;case"tabIndex":ns(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(r,l,d);break;case"style":wo(r,d,y);break;case"data":if(a!=="object"){ns(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Wi(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&bt(r,a,"name",g.name,g,null),bt(r,a,"formEncType",g.formEncType,g,null),bt(r,a,"formMethod",g.formMethod,g,null),bt(r,a,"formTarget",g.formTarget,g,null)):(bt(r,a,"encType",g.encType,g,null),bt(r,a,"method",g.method,g,null),bt(r,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Wi(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=bd);break;case"onScroll":d!=null&&Ke("scroll",r);break;case"onScrollEnd":d!=null&&Ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=Wi(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":Ke("beforetoggle",r),Ke("toggle",r),ia(r,"popover",d);break;case"xlinkActuate":vn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":vn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":vn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":vn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":vn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":vn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":vn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":vn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":vn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ia(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Jf.get(l)||l,ia(r,l,d))}}function km(r,a,l,d,g,y){switch(l){case"style":wo(r,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof d=="string"?yr(r,d):(typeof d=="number"||typeof d=="bigint")&&yr(r,""+d);break;case"onScroll":d!=null&&Ke("scroll",r);break;case"onScrollEnd":d!=null&&Ke("scrollend",r);break;case"onClick":d!=null&&(r.onclick=bd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=r[It]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,g),typeof d=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,d,g);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):ia(r,l,d)}}}function En(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",r),Ke("load",r);var d=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:bt(r,a,y,S,l,null)}}g&&bt(r,a,"srcSet",l.srcSet,l,null),d&&bt(r,a,"src",l.src,l,null);return;case"input":Ke("invalid",r);var L=y=S=g=null,$=null,re=null;for(d in l)if(l.hasOwnProperty(d)){var fe=l[d];if(fe!=null)switch(d){case"name":g=fe;break;case"type":S=fe;break;case"checked":$=fe;break;case"defaultChecked":re=fe;break;case"value":y=fe;break;case"defaultValue":L=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,a));break;default:bt(r,a,d,fe,l,null)}}ii(r,y,L,$,re,S,g,!1),Ji(r);return;case"select":Ke("invalid",r),d=S=y=null;for(g in l)if(l.hasOwnProperty(g)&&(L=l[g],L!=null))switch(g){case"value":y=L;break;case"defaultValue":S=L;break;case"multiple":d=L;default:bt(r,a,g,L,l,null)}a=y,l=S,r.multiple=!!d,a!=null?Rs(r,!!d,a,!1):l!=null&&Rs(r,!!d,l,!0);return;case"textarea":Ke("invalid",r),y=g=d=null;for(S in l)if(l.hasOwnProperty(S)&&(L=l[S],L!=null))switch(S){case"value":d=L;break;case"defaultValue":g=L;break;case"children":y=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:bt(r,a,S,L,l,null)}li(r,d,g,y),Ji(r);return;case"option":for($ in l)if(l.hasOwnProperty($)&&(d=l[$],d!=null))switch($){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:bt(r,a,$,d,l,null)}return;case"dialog":Ke("beforetoggle",r),Ke("toggle",r),Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":Ke("load",r);break;case"video":case"audio":for(d=0;d<ac.length;d++)Ke(ac[d],r);break;case"image":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"embed":case"source":case"link":Ke("error",r),Ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in l)if(l.hasOwnProperty(re)&&(d=l[re],d!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:bt(r,a,re,d,l,null)}return;default:if(_o(a)){for(fe in l)l.hasOwnProperty(fe)&&(d=l[fe],d!==void 0&&km(r,a,fe,d,l,void 0));return}}for(L in l)l.hasOwnProperty(L)&&(d=l[L],d!=null&&bt(r,a,L,d,l,null))}function C4(r,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,L=null,$=null,re=null,fe=null;for(ie in l){var xe=l[ie];if(l.hasOwnProperty(ie)&&xe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":$=xe;default:d.hasOwnProperty(ie)||bt(r,a,ie,null,d,xe)}}for(var ae in d){var ie=d[ae];if(xe=l[ae],d.hasOwnProperty(ae)&&(ie!=null||xe!=null))switch(ae){case"type":y=ie;break;case"name":g=ie;break;case"checked":re=ie;break;case"defaultChecked":fe=ie;break;case"value":S=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,a));break;default:ie!==xe&&bt(r,a,ae,ie,d,xe)}}rr(r,S,L,$,re,fe,y,g);return;case"select":ie=S=L=ae=null;for(y in l)if($=l[y],l.hasOwnProperty(y)&&$!=null)switch(y){case"value":break;case"multiple":ie=$;default:d.hasOwnProperty(y)||bt(r,a,y,null,d,$)}for(g in d)if(y=d[g],$=l[g],d.hasOwnProperty(g)&&(y!=null||$!=null))switch(g){case"value":ae=y;break;case"defaultValue":L=y;break;case"multiple":S=y;default:y!==$&&bt(r,a,g,y,d,$)}a=L,l=S,d=ie,ae!=null?Rs(r,!!l,ae,!1):!!d!=!!l&&(a!=null?Rs(r,!!l,a,!0):Rs(r,!!l,l?[]:"",!1));return;case"textarea":ie=ae=null;for(L in l)if(g=l[L],l.hasOwnProperty(L)&&g!=null&&!d.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:bt(r,a,L,null,d,g)}for(S in d)if(g=d[S],y=l[S],d.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":ae=g;break;case"defaultValue":ie=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&bt(r,a,S,g,d,y)}xt(r,ae,ie);return;case"option":for(var ze in l)if(ae=l[ze],l.hasOwnProperty(ze)&&ae!=null&&!d.hasOwnProperty(ze))switch(ze){case"selected":r.selected=!1;break;default:bt(r,a,ze,null,d,ae)}for($ in d)if(ae=d[$],ie=l[$],d.hasOwnProperty($)&&ae!==ie&&(ae!=null||ie!=null))switch($){case"selected":r.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:bt(r,a,$,ae,d,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)ae=l[Ve],l.hasOwnProperty(Ve)&&ae!=null&&!d.hasOwnProperty(Ve)&&bt(r,a,Ve,null,d,ae);for(re in d)if(ae=d[re],ie=l[re],d.hasOwnProperty(re)&&ae!==ie&&(ae!=null||ie!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,a));break;default:bt(r,a,re,ae,d,ie)}return;default:if(_o(a)){for(var vt in l)ae=l[vt],l.hasOwnProperty(vt)&&ae!==void 0&&!d.hasOwnProperty(vt)&&km(r,a,vt,void 0,d,ae);for(fe in d)ae=d[fe],ie=l[fe],!d.hasOwnProperty(fe)||ae===ie||ae===void 0&&ie===void 0||km(r,a,fe,ae,d,ie);return}}for(var Z in l)ae=l[Z],l.hasOwnProperty(Z)&&ae!=null&&!d.hasOwnProperty(Z)&&bt(r,a,Z,null,d,ae);for(xe in d)ae=d[xe],ie=l[xe],!d.hasOwnProperty(xe)||ae===ie||ae==null&&ie==null||bt(r,a,xe,ae,d,ie)}var Cm=null,Dm=null;function vd(r){return r.nodeType===9?r:r.ownerDocument}function Eb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tb(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Rm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Im=null;function D4(){var r=window.event;return r&&r.type==="popstate"?r===Im?!1:(Im=r,!0):(Im=null,!1)}var Sb=typeof setTimeout=="function"?setTimeout:void 0,R4=typeof clearTimeout=="function"?clearTimeout:void 0,jb=typeof Promise=="function"?Promise:void 0,I4=typeof queueMicrotask=="function"?queueMicrotask:typeof jb<"u"?function(r){return jb.resolve(null).then(r).catch(M4)}:Sb;function M4(r){setTimeout(function(){throw r})}function Ea(r){return r==="head"}function Ab(r,a){var l=a,d=0,g=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<d&&8>d){l=d;var S=r.ownerDocument;if(l&1&&lc(S.documentElement),l&2&&lc(S.body),l&4)for(l=S.head,lc(l),S=l.firstChild;S;){var L=S.nextSibling,$=S.nodeName;S[qe]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=L}}if(g===0){r.removeChild(y),pc(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=y}while(l);pc(a)}function Mm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mm(l),xr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function O4(r,a,l,d){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[qe])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Fr(r.nextSibling),r===null)break}return null}function V4(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Fr(r.nextSibling),r===null))return null;return r}function Om(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function P4(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Fr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Vm=null;function kb(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function Cb(r,a,l){switch(a=vd(l),r){case"html":if(r=a.documentElement,!r)throw Error(s(452));return r;case"head":if(r=a.head,!r)throw Error(s(453));return r;case"body":if(r=a.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function lc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);xr(r)}var Ar=new Map,Db=new Set;function wd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Zs=de.d;de.d={f:L4,r:z4,D:U4,C:B4,L:F4,m:q4,X:H4,S:$4,M:Y4};function L4(){var r=Zs.f(),a=fd();return r||a}function z4(r){var a=es(r);a!==null&&a.tag===5&&a.type==="form"?Zx(a):Zs.r(r)}var Il=typeof document>"u"?null:document;function Rb(r,a,l){var d=Il;if(d&&typeof a=="string"&&a){var g=Yt(a);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Db.has(g)||(Db.add(g),r={rel:r,crossOrigin:l,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),En(a,"link",r),Ft(a),d.head.appendChild(a)))}}function U4(r){Zs.D(r),Rb("dns-prefetch",r,null)}function B4(r,a){Zs.C(r,a),Rb("preconnect",r,a)}function F4(r,a,l){Zs.L(r,a,l);var d=Il;if(d&&r&&a){var g='link[rel="preload"][as="'+Yt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Yt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Yt(l.imageSizes)+'"]')):g+='[href="'+Yt(r)+'"]';var y=g;switch(a){case"style":y=Ml(r);break;case"script":y=Ol(r)}Ar.has(y)||(r=x({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Ar.set(y,r),d.querySelector(g)!==null||a==="style"&&d.querySelector(oc(y))||a==="script"&&d.querySelector(cc(y))||(a=d.createElement("link"),En(a,"link",r),Ft(a),d.head.appendChild(a)))}}function q4(r,a){Zs.m(r,a);var l=Il;if(l&&r){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Yt(d)+'"][href="'+Yt(r)+'"]',y=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ol(r)}if(!Ar.has(y)&&(r=x({rel:"modulepreload",href:r},a),Ar.set(y,r),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cc(y)))return}d=l.createElement("link"),En(d,"link",r),Ft(d),l.head.appendChild(d)}}}function $4(r,a,l){Zs.S(r,a,l);var d=Il;if(d&&r){var g=Ln(d).hoistableStyles,y=Ml(r);a=a||"default";var S=g.get(y);if(!S){var L={loading:0,preload:null};if(S=d.querySelector(oc(y)))L.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Ar.get(y))&&Pm(r,l);var $=S=d.createElement("link");Ft($),En($,"link",r),$._p=new Promise(function(re,fe){$.onload=re,$.onerror=fe}),$.addEventListener("load",function(){L.loading|=1}),$.addEventListener("error",function(){L.loading|=2}),L.loading|=4,_d(S,a,d)}S={type:"stylesheet",instance:S,count:1,state:L},g.set(y,S)}}}function H4(r,a){Zs.X(r,a);var l=Il;if(l&&r){var d=Ln(l).hoistableScripts,g=Ol(r),y=d.get(g);y||(y=l.querySelector(cc(g)),y||(r=x({src:r,async:!0},a),(a=Ar.get(g))&&Lm(r,a),y=l.createElement("script"),Ft(y),En(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function Y4(r,a){Zs.M(r,a);var l=Il;if(l&&r){var d=Ln(l).hoistableScripts,g=Ol(r),y=d.get(g);y||(y=l.querySelector(cc(g)),y||(r=x({src:r,async:!0,type:"module"},a),(a=Ar.get(g))&&Lm(r,a),y=l.createElement("script"),Ft(y),En(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function Ib(r,a,l,d){var g=(g=se.current)?wd(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ml(l.href),l=Ln(g).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Ml(l.href);var y=Ln(g).hoistableStyles,S=y.get(r);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,S),(y=g.querySelector(oc(r)))&&!y._p&&(S.instance=y,S.state.loading=5),Ar.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ar.set(r,l),y||G4(g,r,l,S.state))),a&&d===null)throw Error(s(528,""));return S}if(a&&d!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ol(l),l=Ln(g).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Ml(r){return'href="'+Yt(r)+'"'}function oc(r){return'link[rel="stylesheet"]['+r+"]"}function Mb(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function G4(r,a,l,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),En(a,"link",l),Ft(a),r.head.appendChild(a))}function Ol(r){return'[src="'+Yt(r)+'"]'}function cc(r){return"script[async]"+r}function Ob(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+Yt(l.href)+'"]');if(d)return a.instance=d,Ft(d),d;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Ft(d),En(d,"style",g),_d(d,l.precedence,r),a.instance=d;case"stylesheet":g=Ml(l.href);var y=r.querySelector(oc(g));if(y)return a.state.loading|=4,a.instance=y,Ft(y),y;d=Mb(l),(g=Ar.get(g))&&Pm(d,g),y=(r.ownerDocument||r).createElement("link"),Ft(y);var S=y;return S._p=new Promise(function(L,$){S.onload=L,S.onerror=$}),En(y,"link",d),a.state.loading|=4,_d(y,l.precedence,r),a.instance=y;case"script":return y=Ol(l.src),(g=r.querySelector(cc(y)))?(a.instance=g,Ft(g),g):(d=l,(g=Ar.get(y))&&(d=x({},l),Lm(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),Ft(g),En(g,"link",d),r.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,_d(d,l.precedence,r));return a.instance}function _d(r,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,y=g,S=0;S<d.length;S++){var L=d[S];if(L.dataset.precedence===a)y=L;else if(y!==g)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function Pm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Lm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Nd=null;function Vb(r,a,l){if(Nd===null){var d=new Map,g=Nd=new Map;g.set(l,d)}else g=Nd,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var y=l[g];if(!(y[qe]||y[Bt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(a)||"";S=r+S;var L=d.get(S);L?L.push(y):d.set(S,[y])}}return d}function Pb(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function Q4(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Lb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var uc=null;function X4(){}function K4(r,a,l){if(uc===null)throw Error(s(475));var d=uc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Ml(l.href),y=r.querySelector(oc(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Ed.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=y,Ft(y);return}y=r.ownerDocument||r,l=Mb(l),(g=Ar.get(g))&&Pm(l,g),y=y.createElement("link"),Ft(y);var S=y;S._p=new Promise(function(L,$){S.onload=L,S.onerror=$}),En(y,"link",l),a.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=Ed.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function Z4(){if(uc===null)throw Error(s(475));var r=uc;return r.stylesheets&&r.count===0&&zm(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&zm(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Ed(){if(this.count--,this.count===0){if(this.stylesheets)zm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Td=null;function zm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Td=new Map,a.forEach(J4,r),Td=null,Ed.call(r))}function J4(r,a){if(!(a.state.loading&4)){var l=Td.get(r);if(l)var d=l.get(null);else{l=new Map,Td.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),d=S)}d&&l.set(null,d)}g=a.instance,S=g.getAttribute("data-precedence"),y=l.get(S)||d,y===d&&l.set(null,g),l.set(S,g),this.count++,d=Ed.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),y?y.parentNode.insertBefore(g,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),a.state.loading|=4}}var dc={$$typeof:F,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function W4(r,a,l,d,g,y,S,L){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Or(0),this.hiddenUpdates=Or(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function zb(r,a,l,d,g,y,S,L,$,re,fe,xe){return r=new W4(r,a,l,S,L,$,re,xe),a=1,y===!0&&(a|=24),y=ar(3,null,null,a),r.current=y,y.stateNode=r,a=vh(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:d,isDehydrated:l,cache:a},Eh(y),r}function Ub(r){return r?(r=fl,r):fl}function Bb(r,a,l,d,g,y){g=Ub(g),d.context===null?d.context=g:d.pendingContext=g,d=da(a),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=fa(r,d,a),l!==null&&(ur(l,r,a),Bo(l,r,a))}function Fb(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Um(r,a){Fb(r,a),(r=r.alternate)&&Fb(r,a)}function qb(r){if(r.tag===13){var a=dl(r,67108864);a!==null&&ur(a,r,67108864),Um(r,67108864)}}var Sd=!0;function e5(r,a,l,d){var g=X.T;X.T=null;var y=de.p;try{de.p=2,Bm(r,a,l,d)}finally{de.p=y,X.T=g}}function t5(r,a,l,d){var g=X.T;X.T=null;var y=de.p;try{de.p=8,Bm(r,a,l,d)}finally{de.p=y,X.T=g}}function Bm(r,a,l,d){if(Sd){var g=Fm(d);if(g===null)Am(r,a,d,jd,l),Hb(r,d);else if(r5(g,r,a,l,d))d.stopPropagation();else if(Hb(r,d),a&4&&-1<n5.indexOf(r)){for(;g!==null;){var y=es(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=rn(y.pendingLanes);if(S!==0){var L=y;for(L.pendingLanes|=2,L.entangledLanes|=2;S;){var $=1<<31-Re(S);L.entanglements[1]|=$,S&=~$}ms(y),(pt&6)===0&&(ud=ct()+500,sc(0))}}break;case 13:L=dl(y,2),L!==null&&ur(L,y,2),fd(),Um(y,2)}if(y=Fm(d),y===null&&Am(r,a,d,jd,l),y===g)break;g=y}g!==null&&d.stopPropagation()}else Am(r,a,d,null,l)}}function Fm(r){return r=br(r),qm(r)}var jd=null;function qm(r){if(jd=null,r=ks(r),r!==null){var a=c(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return jd=r,null}function $b(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case dn:return 2;case Yn:return 8;case nr:case Kr:return 32;case Mr:return 268435456;default:return 32}default:return 32}}var $m=!1,Ta=null,Sa=null,ja=null,fc=new Map,hc=new Map,Aa=[],n5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hb(r,a){switch(r){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":fc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(a.pointerId)}}function mc(r,a,l,d,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},a!==null&&(a=es(a),a!==null&&qb(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function r5(r,a,l,d,g){switch(a){case"focusin":return Ta=mc(Ta,r,a,l,d,g),!0;case"dragenter":return Sa=mc(Sa,r,a,l,d,g),!0;case"mouseover":return ja=mc(ja,r,a,l,d,g),!0;case"pointerover":var y=g.pointerId;return fc.set(y,mc(fc.get(y)||null,r,a,l,d,g)),!0;case"gotpointercapture":return y=g.pointerId,hc.set(y,mc(hc.get(y)||null,r,a,l,d,g)),!0}return!1}function Yb(r){var a=ks(r.target);if(a!==null){var l=c(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,ti(r.priority,function(){if(l.tag===13){var d=cr();d=Jr(d);var g=dl(l,d);g!==null&&ur(g,l,d),Um(l,d)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ad(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=Fm(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Is=d,l.target.dispatchEvent(d),Is=null}else return a=es(l),a!==null&&qb(a),r.blockedOn=l,!1;a.shift()}return!0}function Gb(r,a,l){Ad(r)&&l.delete(a)}function s5(){$m=!1,Ta!==null&&Ad(Ta)&&(Ta=null),Sa!==null&&Ad(Sa)&&(Sa=null),ja!==null&&Ad(ja)&&(ja=null),fc.forEach(Gb),hc.forEach(Gb)}function kd(r,a){r.blockedOn===a&&(r.blockedOn=null,$m||($m=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,s5)))}var Cd=null;function Qb(r){Cd!==r&&(Cd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Cd===r&&(Cd=null);for(var a=0;a<r.length;a+=3){var l=r[a],d=r[a+1],g=r[a+2];if(typeof d!="function"){if(qm(d||l)===null)continue;break}var y=es(l);y!==null&&(r.splice(a,3),a-=3,qh(y,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function pc(r){function a($){return kd($,r)}Ta!==null&&kd(Ta,r),Sa!==null&&kd(Sa,r),ja!==null&&kd(ja,r),fc.forEach(a),hc.forEach(a);for(var l=0;l<Aa.length;l++){var d=Aa[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Aa.length&&(l=Aa[0],l.blockedOn===null);)Yb(l),l.blockedOn===null&&Aa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],y=l[d+1],S=g[It]||null;if(typeof y=="function")S||Qb(l);else if(S){var L=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[It]||null)L=S.formAction;else if(qm(g)!==null)continue}else L=S.action;typeof L=="function"?l[d+1]=L:(l.splice(d,3),d-=3),Qb(l)}}}function Hm(r){this._internalRoot=r}Dd.prototype.render=Hm.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,d=cr();Bb(l,d,r,a,null,null)},Dd.prototype.unmount=Hm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Bb(r.current,2,null,r,null,null),fd(),a[Gn]=null}};function Dd(r){this._internalRoot=r}Dd.prototype.unstable_scheduleHydration=function(r){if(r){var a=Pr();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Aa.length&&a!==0&&a<Aa[l].priority;l++);Aa.splice(l,0,r),l===0&&Yb(r)}};var Xb=e.version;if(Xb!=="19.1.1")throw Error(s(527,Xb,"19.1.1"));de.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var a5={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{le=Rd.inject(a5),ge=Rd}catch{}}return xc.createRoot=function(r,a){if(!i(r))throw Error(s(299));var l=!1,d="",g=dy,y=fy,S=hy,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(L=a.unstable_transitionCallbacks)),a=zb(r,1,!1,null,null,l,d,g,y,S,L,null),r[Gn]=a.current,jm(r),new Hm(a)},xc.hydrateRoot=function(r,a,l){if(!i(r))throw Error(s(299));var d=!1,g="",y=dy,S=fy,L=hy,$=null,re=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks),l.formState!==void 0&&(re=l.formState)),a=zb(r,1,!0,a,l??null,d,g,y,S,L,$,re),a.context=Ub(null),l=a.current,d=cr(),d=Jr(d),g=da(d),g.callback=null,fa(l,g,d),l=d,a.current.lanes=l,Vr(a,l),ms(a),r[Gn]=a.current,jm(r),new Dd(a)},xc.version="19.1.1",xc}var a1;function p5(){if(a1)return Qm.exports;a1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qm.exports=m5(),Qm.exports}var g5=p5();const x5=yf(g5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b5=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),i1=t=>{const e=b5(t);return e.charAt(0).toUpperCase()+e.slice(1)},w2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),v5=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:c,iconNode:u,...f},h)=>G.createElement("svg",{ref:h,...w5,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:w2("lucide",i),...!c&&!v5(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,x])=>G.createElement(p,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=G.forwardRef(({className:s,...i},c)=>G.createElement(_5,{ref:c,iconNode:e,className:w2(`lucide-${y5(i1(t))}`,`lucide-${t}`,s),...i}));return n.displayName=i1(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],E5=Te("arrow-down",N5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],S5=Te("arrow-up-down",T5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],A5=Te("arrow-up",j5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_2=Te("award",k5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pc=Te("bell",C5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],R5=Te("bold",D5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Kl=Te("book-open",I5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],O5=Te("calculator",M5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dr=Te("calendar",V5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ep=Te("chart-column",P5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ao=Te("check",L5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bf=Te("chevron-down",z5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],N2=Te("chevron-left",U5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tp=Te("chevron-right",B5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Sp=Te("chevron-up",F5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$5=Te("circle-alert",q5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vf=Te("circle-check-big",H5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zl=Te("circle-check",Y5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jp=Te("circle",G5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xs=Te("clock",Q5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],l1=Te("cloud-off",X5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],o1=Te("cloud",K5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],E2=Te("code-xml",Z5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],W5=Te("code",J5);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],tE=Te("copy",eE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Rr=Te("crown",nE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],za=Te("eye-off",rE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zi=Te("eye",sE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3.072",key:"n6s66f"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m6.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.88.001l-1.846.85a.5.5 0 0 1-.693-.593l1.29-4.88",key:"1e6yvx"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],iE=Te("file-badge",aE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Js=Te("file-text",lE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Ap=Te("flask-conical",oE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],T2=Te("github",cE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kp=Te("globe",uE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ns=Te("graduation-cap",dE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],hE=Te("hash",fE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],S2=Te("heart",mE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gE=Te("info",pE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],yE=Te("italic",xE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ia=Te("key",bE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],c1=Te("lightbulb",vE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],_E=Te("link",wE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],EE=Te("list-todo",NE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yn=Te("loader-circle",TE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],jE=Te("list",SE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Zt=Te("lock",AE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],u1=Te("log-out",kE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Ii=Te("megaphone",CE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M5 12h14",key:"1ays0h"}]],RE=Te("minus",DE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ME=Te("moon",IE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],VE=Te("move-vertical",OE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],d1=Te("party-popper",PE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$i=Te("pen-line",LE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],j2=Te("pen",zE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],BE=Te("pin-off",UE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],k0=Te("pin",FE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qr=Te("plus",qE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],HE=Te("quote",$E);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],GE=Te("refresh-cw",YE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gr=Te("save",QE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wf=Te("search",XE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],ZE=Te("settings-2",KE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ua=Te("settings",JE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],A2=Te("shield-alert",WE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ys=Te("shield",e3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],C0=Te("sparkles",t3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cp=Te("square-check-big",n3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Tn=Te("star",r3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],D0=Te("sticky-note",s3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],i3=Te("sun",a3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],f1=Te("target",l3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],c3=Te("terminal",o3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],R0=Te("toggle-left",u3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],I0=Te("toggle-right",d3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qr=Te("trash-2",f3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ac=Te("triangle-alert",h3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],p3=Te("trophy",m3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dp=Te("user-check",g3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],h1=Te("user-plus",x3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],b3=Te("user-x",y3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hr=Te("user",v3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Es=Te("users",w3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ut=Te("x",_3),Mi={1:{theory:["Mathematics-I","Physics","Programming Fundamentals","English"],practical:["Physics Lab","Programming Lab"]},2:{theory:["Mathematics-II","Chemistry","Data Structures","Digital Logic"],practical:["Chemistry Lab","DS Lab"]},3:{theory:["OOP","Discrete Math","Computer Architecture","Statistics"],practical:["OOP Lab","Hardware Lab"]},4:{theory:["DBMS","Operating Systems","Computer Networks","Software Engineering"],practical:["DBMS Lab","Networks Lab"]},5:{theory:["AIA","DAA","DBMS","ES","MLA","MDM","OE-4"],practical:["DAA Lab","DBMS Lab","MLA Lab","ES Lab"]},6:{theory:["CNN","CVPR","DV","K.ENG","MDM","SR"],practical:["CNN Lab","DV Lab","K.ENG Lab","MAD Lab","SR Lab"]},7:{theory:["Deep Learning","Big Data Analytics","Cybersecurity","Project Management"],practical:["ML Lab","Security Lab"]},8:{theory:["Major Project","Technical Seminar","Industry Training"],practical:["Project Implementation"]}},N3=["Assignment","Test","Presentation","Quiz","Certificate","Project","Other"],Me={rollNo:"2405225",name:"Shaikh Mujahid",admissionYear:2024,isDSY:!1},M0=t=>{if(!t||!t.admissionYear)return null;const e=new Date,n=e.getMonth()+1,s=n>=7?e.getFullYear():e.getFullYear()-1,i=Number(t.admissionYear);let c=s-i;t.isYD&&(c-=1),c<0&&(c=0);const u=t.isDSY?3:1,f=n>=7?0:1;let h=u+c*2+f;return h<u&&(h=u),h>8&&(h=8),h},O0=t=>{if(!t||!t.admissionYear)return null;const e=M0(t),n=new Date,s=n.getMonth()+1;let c=(s>=7?n.getFullYear():n.getFullYear()-1)-Number(t.admissionYear);t.isYD&&(c-=1),c<0&&(c=0);const u=t.isDSY?3:4;return c>=u&&(s>=7||c>u)?"Passout":e<=2?"1st Year":e<=4?"2nd Year":e<=6?"3rd Year":e<=8?"4th Year":"Passout"},Jm=t=>{if(!t||!t.admissionYear)return!1;const e=new Date;let i=(e.getMonth()+1>=7?e.getFullYear():e.getFullYear()-1)-Number(t.admissionYear);return t.isYD&&(i-=1),i>=4},E3=t=>{if(!t||!t.admissionYear)return!1;const e=new Date;let i=(e.getMonth()+1>=7?e.getFullYear():e.getFullYear()-1)-Number(t.admissionYear);t.isYD&&(i-=1);const u=(t.isDSY?3:4)+1;return i>=u};function T3({students:t,onStudentSelect:e,isLoading:n,studentManagement:s,theme:i,onThemeToggle:c}){const[u,f]=G.useState(""),[h,p]=G.useState(!1),[x,b]=G.useState(null),[w,_]=G.useState(""),[C,M]=G.useState(!1),[z,O]=G.useState(""),D=i==="dark",F=G.useMemo(()=>{if(!u.trim())return t;const A=u.toLowerCase();return t.filter(R=>R.name.toLowerCase().includes(A)||R.rollNo.toLowerCase().includes(A))},[t,u]),q=async A=>{A.isProtected?(b(A),p(!0),_(""),O("")):e(A)},Y=async A=>{if(A.preventDefault(),!w.trim()){O("Please enter password");return}M(!0),O("");try{await s.authenticateStudent(x,w)?(e(x),p(!1)):(O("Incorrect password. Please try again."),_(""))}catch{O("Authentication failed. Please try again.")}finally{M(!1)}},I=()=>{p(!1),b(null),_(""),O("")},V=()=>{f("")};return n?o.jsx("div",{className:"w-full flex items-center justify-center py-20",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative inline-block mb-6",children:[o.jsx("div",{className:`absolute inset-0 blur-2xl opacity-20 animate-pulse ${D?"bg-blue-500":"bg-blue-600"}`}),o.jsx(Ns,{className:`w-20 h-20 relative z-10 ${D?"text-white":"text-blue-600"}`})]}),o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(yn,{className:`w-8 h-8 animate-spin ${D?"text-white/80":"text-blue-600"}`}),o.jsx("h1",{className:`text-3xl font-extrabold tracking-tight ${D?"text-white":"text-gray-900"}`,children:"Initializing Portal..."})]}),o.jsx("p",{className:`font-medium tracking-wide ${D?"text-blue-100/60":"text-gray-500"}`,children:"Syncing with MGM University Databases"})]})]})}):h&&x?o.jsx("div",{className:"w-full max-w-md animate-in fade-in zoom-in duration-300 px-4",children:o.jsxs("div",{className:`
          ${D?"glass-card":"glass-card-light"} 
          rounded-[2.5rem] p-8 md:p-10 shadow-2xl relative overflow-hidden group
        `,children:[o.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 rounded-full -mr-16 -mt-16 blur-3xl transition-all duration-500 ${D?"bg-white/5 group-hover:bg-white/10":"bg-blue-500/5 group-hover:bg-blue-500/10"}`}),o.jsxs("div",{className:"text-center mb-8 relative z-10",children:[o.jsx("div",{className:`
              w-20 h-20 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg transition-transform duration-500 group-hover:scale-110
              ${x.rollNo===Me.rollNo?"bg-gradient-to-br from-amber-400 to-orange-600":"bg-gradient-to-br from-blue-500 to-indigo-700"}
            `,children:x.rollNo===Me.rollNo?o.jsx(Rr,{className:"w-10 h-10 text-white drop-shadow-md"}):o.jsx(Zt,{className:"w-10 h-10 text-white drop-shadow-md"})}),o.jsx("h2",{className:`text-3xl font-black mb-2 tracking-tight ${D?"text-white":"text-gray-900"}`,children:x.rollNo===Me.rollNo?"Admin Access":"Account Locked"}),o.jsxs("p",{className:`${D?"text-white/60":"text-gray-500"} font-medium`,children:["Enter credentials for ",x.name]})]}),o.jsx("div",{className:`mb-8 p-5 backdrop-blur-md rounded-[1.5rem] border ${D?"bg-white/5 border-white/10":"bg-gray-50 border-gray-100"}`,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${D?"bg-white/10":"bg-blue-100"}`,children:o.jsx(Hr,{className:`w-6 h-6 ${D?"text-white":"text-blue-600"}`})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:`font-bold text-lg truncate ${D?"text-white":"text-gray-900"}`,children:x.name}),o.jsxs("p",{className:`text-sm font-mono tracking-wider ${D?"text-white/50":"text-gray-400"}`,children:["ID: ",x.rollNo]})]})]})}),o.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[o.jsxs("div",{className:"relative group/input",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center transition-colors",children:o.jsx(ys,{className:`w-5 h-5 transition-colors ${D?"text-white/40":"text-gray-400"}`})}),o.jsx("input",{type:"password",placeholder:"Secure Password",value:w,onChange:A=>_(A.target.value),className:`
                  w-full pl-12 pr-4 py-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all font-medium
                  ${D?"bg-white/5 border border-white/10 text-white placeholder-white/30 focus:bg-white/10":"bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-400 focus:bg-white"}
                `,required:!0,disabled:C,autoFocus:!0})]}),z&&o.jsxs("div",{className:`p-3 border rounded-xl text-sm font-medium flex items-center gap-2 ${D?"bg-red-500/10 border-red-500/20 text-red-400":"bg-red-50 border-red-100 text-red-600"}`,children:[o.jsx(Ut,{className:"w-4 h-4"}),z]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("button",{type:"submit",disabled:C||!w.trim(),className:`
                  w-full flex items-center justify-center gap-3 py-4 rounded-2xl font-bold text-white transition-all shadow-xl hover:shadow-2xl active:scale-[0.98] disabled:opacity-50
                  ${x.rollNo===Me.rollNo?"bg-gradient-to-r from-amber-500 to-orange-600":"bg-gradient-to-r from-blue-600 to-indigo-600"}
                `,children:C?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Verifying Identity..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Zt,{className:"w-5 h-5"}),o.jsx("span",{children:"Unlock Account"})]})}),o.jsx("button",{type:"button",onClick:I,disabled:C,className:`w-full py-4 font-bold transition-colors ${D?"text-white/40 hover:text-white/80":"text-gray-400 hover:text-gray-600"}`,children:"Go Back"})]})]})]})}):o.jsxs("div",{className:"w-full max-w-4xl animate-in fade-in slide-in-from-bottom-8 duration-700 px-4 relative",children:[o.jsx("div",{className:"absolute top-0 right-4 z-20",children:o.jsx("button",{onClick:c,className:`
            p-3 rounded-2xl transition-all shadow-lg hover:scale-110 active:scale-95
            ${D?"bg-white/10 text-white hover:bg-white/20 border border-white/10":"bg-white text-gray-900 hover:bg-gray-50 border border-gray-200 shadow-blue-500/10"}
          `,title:`Switch to ${D?"Light":"Dark"} Mode`,children:D?o.jsx(i3,{className:"w-5 h-5 text-amber-400"}):o.jsx(ME,{className:"w-5 h-5 text-indigo-600"})})}),o.jsxs("div",{className:"text-center mb-12 relative",children:[o.jsxs("div",{className:"relative inline-block mb-8 group",children:[o.jsx("div",{className:`absolute inset-0 blur-3xl opacity-20 group-hover:opacity-40 transition-opacity duration-1000 ${D?"bg-blue-400":"bg-blue-600"}`}),o.jsx("div",{className:`
            w-24 h-24 backdrop-blur-2xl rounded-[2rem] flex items-center justify-center mx-auto shadow-2xl transform transition-transform group-hover:scale-110 group-hover:rotate-6 duration-500 border
            ${D?"bg-white/10 border-white/10":"bg-white border-blue-100"}
          `,children:o.jsx(Ns,{className:`w-12 h-12 drop-shadow-md ${D?"text-white":"text-blue-600"}`})})]}),o.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4 tracking-tighter px-2",children:[o.jsx("span",{className:`bg-clip-text text-transparent bg-gradient-to-r ${D?"from-blue-200 via-white to-indigo-200":"from-blue-600 via-indigo-700 to-purple-800"}`,children:"Academic Progress"}),o.jsx("br",{}),o.jsx("span",{className:`bg-clip-text text-transparent bg-gradient-to-r ${D?"from-blue-400 to-indigo-400":"from-blue-500 to-indigo-600"}`,children:"Tracker Portal"})]}),o.jsx("p",{className:`font-medium text-lg max-w-md mx-auto leading-relaxed ${D?"text-slate-300":"text-gray-600"}`,children:"The unified digital portal for MGM University engineering students. Select your identity to begin."})]}),o.jsxs("div",{className:`
        ${D?"glass-card":"glass-card-light"} 
        rounded-[3rem] p-4 md:p-10 shadow-2xl relative
      `,children:[o.jsx("div",{className:`absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-transparent via-blue-500/30 to-transparent rounded-full ${D?"opacity-50":"opacity-30"}`}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 px-4 pt-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ring-1 ${D?"bg-blue-500/20 ring-white/10":"bg-blue-100 ring-blue-200"}`,children:o.jsx(Es,{className:`w-6 h-6 ${D?"text-blue-400":"text-blue-600"}`})}),o.jsxs("div",{children:[o.jsx("h2",{className:`text-2xl font-black tracking-tight ${D?"text-white":"text-gray-900"}`,children:"Student Profiles"}),o.jsxs("span",{className:`text-sm font-bold tracking-widest uppercase ${D?"text-slate-400":"text-gray-500"}`,children:[t.length," Registered"]})]})]}),o.jsxs("div",{className:"relative group/search flex-1 max-w-md",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:o.jsx(wf,{className:`w-5 h-5 transition-colors ${D?"text-slate-500 group-focus-within/search:text-blue-400":"text-gray-400"}`})}),o.jsx("input",{type:"text",placeholder:"Filter by name or roll...",value:u,onChange:A=>f(A.target.value),className:`
                w-full pl-12 pr-12 py-4 border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all font-medium
                ${D?"bg-slate-900/40 border-white/5 text-white placeholder-slate-500 focus:bg-slate-900/60":"bg-gray-50 border-gray-100 text-gray-900 placeholder-gray-400 focus:bg-white"}
              `}),u&&o.jsx("button",{onClick:V,className:`absolute inset-y-0 right-0 pr-4 flex items-center transition-colors ${D?"text-slate-500 hover:text-white":"text-gray-400 hover:text-gray-600"}`,children:o.jsx(Ut,{className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[500px] overflow-y-auto pr-2 scrollbar-hide p-2",children:F.length>0?F.map(A=>o.jsx("button",{onClick:()=>q(A),className:`
                  w-full flex items-center p-5 rounded-[1.75rem] border transition-all text-left hover-lift relative group/student
                  ${D?A.rollNo===Me.rollNo?"border-amber-500/30 bg-amber-500/5 hover:border-amber-400 hover:bg-amber-500/10":A.isProtected?"border-indigo-500/30 bg-indigo-500/5 hover:border-indigo-400 hover:bg-indigo-500/10":"border-white/5 bg-white/5 hover:border-blue-400/30 hover:bg-white/10":A.rollNo===Me.rollNo?"border-amber-200 bg-amber-50/50 hover:border-amber-400 hover:bg-amber-50":A.isProtected?"border-blue-200 bg-blue-50/50 hover:border-blue-400 hover:bg-blue-50":"border-gray-100 bg-gray-50/50 hover:border-blue-300 hover:bg-white hover:shadow-lg hover:shadow-blue-500/5"}
                `,children:o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o.jsx("div",{className:`
                    w-14 h-14 rounded-2xl flex items-center justify-center shadow-inner shrink-0 scale-95 group-hover/student:scale-100 transition-transform duration-300
                    ${A.rollNo===Me.rollNo?"bg-gradient-to-br from-amber-400 to-orange-500 text-amber-950 shadow-lg shadow-amber-500/20":A.isProtected?"bg-gradient-to-br from-indigo-500 to-blue-600 text-white shadow-lg shadow-indigo-500/20":D?"bg-white/10 text-slate-300":"bg-blue-100 text-blue-600"}
                  `,children:A.rollNo===Me.rollNo?o.jsx(Rr,{className:"w-7 h-7"}):A.isProtected?o.jsx(Zt,{className:"w-7 h-7"}):o.jsx(Hr,{className:"w-7 h-7"})}),o.jsxs("div",{className:"min-w-0 pr-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[o.jsx("h3",{className:`font-bold text-lg leading-tight truncate ${D?"text-white":"text-gray-900"}`,children:A.name}),A.rollNo===Me.rollNo&&o.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-black uppercase tracking-wider border ${D?"bg-amber-400/20 text-amber-300 border-amber-400/30":"bg-amber-100 text-amber-700 border-amber-200"}`,children:"Admin"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[A.admissionYear&&o.jsx("span",{className:`text-[10px] font-black uppercase tracking-tighter px-2.5 py-1 rounded-lg border ${D?"text-blue-300 bg-blue-500/20 border-blue-500/20":"text-blue-600 bg-blue-50 border-blue-100"}`,children:O0(A)}),o.jsxs("span",{className:`text-sm font-bold tracking-wide ${D?"text-slate-500 font-mono":"text-gray-600"}`,children:["ROLL: ",A.rollNo]})]})]}),A.isProtected&&o.jsx("div",{className:`ml-auto transition-opacity ${D?"opacity-40 group-hover/student:opacity-100":"text-blue-400"}`,children:o.jsx(ys,{className:"w-4 h-4"})})]})},A.rollNo)):o.jsxs("div",{className:`col-span-full text-center py-20 rounded-3xl border border-dashed ${D?"bg-white/5 border-white/10":"bg-gray-50 border-gray-200"}`,children:[o.jsx(Es,{className:`w-16 h-16 mx-auto mb-4 ${D?"text-white/5":"text-gray-200"}`}),o.jsx("p",{className:`font-bold text-xl ${D?"text-slate-500":"text-gray-400"}`,children:"No profiles match your search"}),o.jsx("button",{onClick:V,className:"mt-4 text-blue-500 font-bold hover:underline",children:"Clear all filters"})]})}),o.jsx("div",{className:`mt-8 p-6 backdrop-blur-md rounded-[2rem] border mx-2 ${D?"bg-slate-900/40 border-white/5 text-slate-400":"bg-gray-50 border-gray-100 text-gray-500"}`,children:o.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium leading-relaxed justify-center md:justify-start",children:[o.jsx(Zt,{className:`w-4 h-4 shrink-0 ${D?"text-blue-400/60":"text-blue-500"}`}),o.jsxs("p",{className:"text-center md:text-left",children:["Secure authentication enabled. Profiles marked with ",o.jsx(Zt,{className:"w-3 h-3 inline mx-0.5 mb-1"}),"require unique passwords managed by the administrator."]})]})})]})]})}function S3({semester:t,syncStatus:e,selectedStudent:n,onStudentSwitch:s,onNavigate:i}){const{isOnline:c,isSyncing:u,lastSynced:f}=e;return o.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200 sticky top-0 z-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-2 sm:py-3",children:[o.jsxs("div",{className:"flex flex-col gap-2 sm:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm",children:o.jsx(Ns,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h1",{className:"text-lg font-bold text-gray-900 truncate leading-tight",children:"Academic Tracker"}),o.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Semester ",t]})]})]}),n&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>i(4),className:"p-2 bg-blue-50 text-blue-600 rounded-xl border border-blue-100 active:scale-95 transition-all shadow-sm",title:"Students & Settings",children:o.jsx(Ua,{className:"w-5 h-5"})}),o.jsxs("button",{onClick:s,className:"flex items-center gap-2 pl-3 py-1.5 pr-1.5 bg-gray-50 rounded-full border border-gray-200 active:scale-95 transition-all shadow-sm",title:"Switch Student",children:[o.jsx("div",{className:"text-right hidden xs:block",children:o.jsx("div",{className:"text-xs font-semibold text-gray-900 truncate max-w-[80px]",children:n.name.split(" ")[0]})}),o.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center border border-gray-100",children:o.jsx(u1,{className:"w-3.5 h-3.5 text-gray-400"})})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs border-t border-gray-100 pt-1.5",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[u?o.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 font-medium",children:[o.jsx(yn,{className:"w-3.5 h-3.5 animate-spin"}),o.jsx("span",{children:"Syncing..."})]}):c?o.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 font-medium",children:[o.jsxs("div",{className:"relative",children:[o.jsx(o1,{className:"w-3.5 h-3.5"}),f&&o.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-green-500 rounded-full border border-white"})]}),o.jsx("span",{children:"Online"})]}):o.jsxs("div",{className:"flex items-center gap-1.5 text-orange-600 font-medium",children:[o.jsx(l1,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"Offline"})]}),o.jsx("div",{className:"w-px h-3 bg-gray-300"}),o.jsx("div",{className:"text-gray-500",children:(()=>{const h=new Date,p=h.getFullYear(),x=h.getMonth()>=5?p:p-1;return`${x}-${(x+1).toString().slice(-2)}`})()})]}),n&&o.jsxs("span",{className:"text-gray-400 font-mono",children:["#",n.rollNo]})]})]}),o.jsxs("div",{className:"hidden sm:flex items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx(Ns,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 truncate",children:"Academic Progress Tracker"}),o.jsxs("p",{className:"text-sm text-gray-600 truncate",children:["Semester ",t,"  Track your academic journey"]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 md:gap-8",children:[o.jsxs("div",{className:"hidden md:flex flex-col items-end text-right",children:[o.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:"Academic Year"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900 flex items-center gap-1.5",children:[o.jsx(Dr,{className:"w-4 h-4 text-blue-500"}),(()=>{const h=new Date,p=h.getFullYear(),x=h.getMonth()>=5?p:p-1;return`${x}-${(x+1).toString().slice(-2)}`})()]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[o.jsx("div",{className:"flex items-center gap-2 text-sm",children:u?o.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 font-medium bg-blue-50 px-2 py-0.5 rounded-full",children:[o.jsx(yn,{className:"w-3.5 h-3.5 animate-spin"}),o.jsx("span",{children:"Syncing..."})]}):c?o.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 font-medium bg-green-50 px-2 py-0.5 rounded-full border border-green-100",children:[o.jsx(o1,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"Online"}),f&&o.jsx(vf,{className:"w-3 h-3 ml-1"})]}):o.jsxs("div",{className:"flex items-center gap-1.5 text-orange-600 font-medium bg-orange-50 px-2 py-0.5 rounded-full border border-orange-100",children:[o.jsx(l1,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"Offline"})]})}),f&&o.jsxs("div",{className:"text-[10px] text-gray-400 font-medium",children:["Synced: ",f.toLocaleTimeString()]})]}),n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>i(4),className:"flex items-center gap-2 px-3 py-2 bg-gray-50 text-gray-600 rounded-xl hover:bg-blue-50 hover:text-blue-600 border border-transparent hover:border-blue-100 transition-all font-medium text-sm group",children:[o.jsx(Ua,{className:"w-4 h-4 group-hover:rotate-45 transition-transform"}),o.jsx("span",{children:"Manage"})]}),o.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 bg-gray-50 text-gray-600 rounded-xl hover:bg-orange-50 hover:text-orange-600 border border-transparent hover:border-orange-100 transition-all font-medium text-sm group",children:[o.jsx(u1,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"}),o.jsx("span",{children:"Switch"})]})]}),o.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right hidden lg:block",children:[o.jsxs("div",{className:"flex items-center gap-1.5 justify-end",children:[o.jsx("span",{className:"text-sm font-bold text-gray-900",children:n.name}),n.rollNo==="2405225"&&o.jsx(Rr,{className:"w-3.5 h-3.5 text-yellow-500"})]}),o.jsx("span",{className:"text-xs text-gray-500 font-mono bg-gray-100 px-1.5 py-0.5 rounded",children:n.rollNo})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-10 h-10 bg-white border-2 border-gray-100 rounded-xl flex items-center justify-center shadow-sm",children:o.jsx(Hr,{className:"w-5 h-5 text-gray-400"})}),o.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center border-2 border-white text-white text-[10px] font-bold shadow-sm",children:n.name.charAt(0)})]})]})]})]})]})]})})}const j3=[{id:0,label:"Theory Subjects",icon:Kl},{id:1,label:"Practicals",icon:Ap},{id:2,label:"Notice Board",icon:Ii},{id:3,label:"Personal Notes",icon:D0},{id:7,label:"Calendar",icon:Dr}];function A3({activeTab:t,onTabChange:e,showDegreeTab:n=!1,showAdminTab:s=!1}){const i=G.useRef(null),[c,u]=G.useState(!1),[f,h]=G.useState(0),[p,x]=G.useState(0);let b=[...j3];n&&b.push({id:5,label:"Degree Completion",icon:vf}),s&&b.push({id:6,label:"Admin Privileges",icon:ys});const w=z=>{u(!0),h(z.pageX-i.current.offsetLeft),x(i.current.scrollLeft)},_=()=>{u(!1)},C=()=>{u(!1)},M=z=>{if(!c)return;z.preventDefault();const D=(z.pageX-i.current.offsetLeft-f)*2;i.current.scrollLeft=p-D};return G.useEffect(()=>{const z=i.current;if(z){const O=D=>{D.deltaY!==0&&(D.preventDefault(),z.scrollTo({left:z.scrollLeft+D.deltaY,behavior:"smooth"}))};return z.addEventListener("wheel",O),()=>z.removeEventListener("wheel",O)}},[]),o.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-[92px] sm:top-[72px] z-40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-2 md:px-6",children:o.jsx("div",{ref:i,className:`flex space-x-1 overflow-x-auto pb-2 scrollbar-hide ${c?"cursor-grabbing":"cursor-grab"}`,onMouseDown:w,onMouseLeave:_,onMouseUp:C,onMouseMove:M,children:b.map(z=>o.jsxs("button",{onClick:()=>{c||e(z.id)},className:`
                flex items-center gap-2 px-3 py-3 md:px-6 md:py-4 font-medium transition-all duration-200 border-b-2 relative whitespace-nowrap text-sm md:text-base select-none
                ${t===z.id?z.id===6?"text-yellow-600 border-yellow-600 bg-yellow-50":"text-blue-600 border-blue-600 bg-blue-50":"text-gray-600 border-transparent hover:text-gray-900 hover:bg-gray-50"}
              `,children:[o.jsx(z.icon,{className:"w-4 h-4 md:w-5 md:h-5"}),o.jsx("span",{children:z.label}),t===z.id&&o.jsx(Tp,{className:"w-3 h-3 md:w-4 md:h-4 ml-1"})]},z.id))})})})}function Ca({children:t,value:e,index:n,className:s=""}){return o.jsx("div",{className:`transition-all duration-300 ${e!==n?"hidden opacity-0":"opacity-100"}`,style:{display:e!==n?"none":"block"},children:o.jsx("div",{className:`p-6 ${s}`,children:t})})}const k3=G.memo(function({subject:e,subjectConfig:n,onDataChange:s,initialData:i,assessmentNotices:c=[]}){const u=n?.caCount||4,f=()=>{const O={};for(let D=1;D<=u;D++)O[`ca${D}`]={type:"",date:"",marks:"",source:null};return O.midSem={date:"",marks:"",source:null},O},[h,p]=G.useState(f()),[x,b]=G.useState(!1);G.useEffect(()=>{i&&p(O=>({...f(),...i}))},[i,u]),G.useEffect(()=>{const O={};c.forEach(q=>{(q.meta?.assessments||[]).forEach(I=>{if(I.subject?.toLowerCase().trim()===e?.toLowerCase().trim()){const A=I.assessmentType?.toLowerCase().replace("-","");let R=A;A==="midsem"&&(R="midSem"),h[R]&&(O[R]={date:I.date?I.date.split("T")[0]:"",type:I.assessmentName||""})}})});let D=!1;const F={...h};Object.keys(F).forEach(q=>{const Y=O[q],I=F[q];Y?(!I.date&&Y.date||!I.type&&Y.type&&q!=="midSem"||I.source==="notice"&&(I.date!==Y.date||q!=="midSem"&&I.type!==Y.type))&&(F[q]={...I,date:Y.date,type:q==="midSem"?I.type:Y.type,source:"notice"},D=!0):I.source==="notice"&&(F[q]={...I,date:"",type:"",source:null},D=!0)}),D&&p(F)},[c,e]);const w=(O,D,F)=>{if(D==="marks"&&F!==""){const Y=parseFloat(F),I=O==="midSem"?20:10;if(Y<0||Y>I)return}const q={...h,[O]:{...h[O],[D]:F,source:D==="date"||D==="type"?"manual":h[O].source??null}};p(q),s&&s(e,q)},_=()=>{const O=u*3+2;let D=0;return Array.from({length:u},(F,q)=>`ca${q+1}`).forEach(F=>{h[F]?.type&&D++,h[F]?.date&&D++,h[F]?.marks&&D++}),h.midSem?.date&&D++,h.midSem?.marks&&D++,Math.round(D/O*100)},C=()=>{let O=0;Array.from({length:u},(F,q)=>`ca${q+1}`).forEach(F=>{if(h[F]){const q=parseFloat(h[F].marks);isNaN(q)||(O+=q)}});const D=parseFloat(h.midSem?.marks);return isNaN(D)||(O+=D),O},M=_(),z=C();return o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white cursor-pointer",onClick:()=>b(!x),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Kl,{className:"w-6 h-6"}),o.jsx("h3",{className:"text-lg font-bold",children:e})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"text-sm opacity-90",children:[M,"%"]}),o.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${M}%`}})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[o.jsx(O5,{className:"w-4 h-4"}),o.jsx("span",{children:"Internal Assessment"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"text-lg font-bold",children:[z,"/",u*10+20]})}),o.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg hover:bg-white/30 transition-colors",children:x?o.jsx(f1,{className:"w-4 h-4"}):o.jsx(Kl,{className:"w-4 h-4"})})]})]})]}),!x&&o.jsxs("div",{className:"p-4 bg-gray-50/50 cursor-pointer",onClick:()=>b(!0),children:[o.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2 text-center",children:[["ca1","ca2","ca3","ca4"].map((O,D)=>o.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl border border-gray-100 bg-white shadow-sm",children:[o.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:["CA-",D+1]}),o.jsx("span",{className:`font-mono font-bold ${h[O].marks?"text-gray-800 text-lg":"text-gray-300"}`,children:h[O].marks||"0"})]},O)),o.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl border border-orange-100 bg-orange-50 shadow-sm",children:[o.jsx("span",{className:"text-xs font-bold text-orange-400 uppercase tracking-wider mb-1",children:"Mid"}),o.jsx("span",{className:`font-mono font-bold ${h.midSem.marks?"text-orange-900 text-lg":"text-orange-300"}`,children:h.midSem.marks||"0"})]})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsx("span",{className:"text-xs font-medium text-blue-500 hover:text-blue-600 transition-colors uppercase tracking-widest border-b border-dashed border-blue-300 pb-0.5",children:"Tap card to edit details"})})]}),x&&o.jsxs("div",{className:"p-6 space-y-6 animate-in slide-in-from-top-4 duration-300",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[o.jsx(f1,{className:"w-4 h-4"}),"Continuous Assessment (",u,"  10 = ",u*10," marks)"]}),Array.from({length:u},(O,D)=>D+1).map(O=>o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3 border border-gray-100 hover:border-blue-200 transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-medium text-gray-800",children:["CA-",O]}),h[`ca${O}`]?.marks&&o.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:[h[`ca${O}`]?.marks,"/10"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",value:h[`ca${O}`]?.type||"",onChange:D=>w(`ca${O}`,"type",D.target.value),children:[o.jsx("option",{value:"",children:"Select Type"}),N3.map(D=>o.jsx("option",{value:D,children:D},D))]}),o.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:h[`ca${O}`]?.date||"",onChange:D=>w(`ca${O}`,"date",D.target.value)}),o.jsx("input",{type:"number",min:"0",max:"10",step:"0.5",placeholder:"Marks (0-10)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:h[`ca${O}`]?.marks||"",onChange:D=>w(`ca${O}`,"marks",D.target.value),onKeyDown:D=>{(D.key==="-"||D.key==="+")&&D.preventDefault()}})]})]},O))]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[o.jsx(_2,{className:"w-4 h-4"}),"Mid Semester Exam (20 marks)"]}),o.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-4 border border-orange-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"font-medium text-gray-800",children:"Mid-Sem Exam"}),h.midSem.marks&&o.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium",children:[h.midSem.marks,"/20"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:h.midSem.date,onChange:O=>w("midSem","date",O.target.value)}),o.jsx("input",{type:"number",min:"0",max:"20",step:"0.5",placeholder:"Marks (0-20)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:h.midSem.marks,onChange:O=>w("midSem","marks",O.target.value),onKeyDown:O=>{(O.key==="-"||O.key==="+")&&O.preventDefault()}})]})]})]}),o.jsx("button",{onClick:O=>{O.stopPropagation(),b(!1)},className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-600 font-bold rounded-xl transition-colors uppercase tracking-wide text-sm",children:"Done Editing"})]})]})}),C3=()=>{};var m1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D3=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const c=t[n++];e[s++]=String.fromCharCode((i&31)<<6|c&63)}else if(i>239&&i<365){const c=t[n++],u=t[n++],f=t[n++],h=((i&7)<<18|(c&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const c=t[n++],u=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(c&63)<<6|u&63)}}return e.join("")},C2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const c=t[i],u=i+1<t.length,f=u?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,x=c>>2,b=(c&3)<<4|f>>4;let w=(f&15)<<2|p>>6,_=p&63;h||(_=64,u||(w=64)),s.push(n[x],n[b],n[w],n[_])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const c=n[t.charAt(i++)],f=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const b=i<t.length?n[t.charAt(i)]:64;if(++i,c==null||f==null||p==null||b==null)throw new R3;const w=c<<2|f>>4;if(s.push(w),p!==64){const _=f<<4&240|p>>2;if(s.push(_),b!==64){const C=p<<6&192|b;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I3=function(t){const e=k2(t);return C2.encodeByteArray(e,!0)},Xd=function(t){return I3(t).replace(/\./g,"")},M3=function(t){try{return C2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=()=>O3().__FIREBASE_DEFAULTS__,P3=()=>{if(typeof process>"u"||typeof m1>"u")return;const t=m1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M3(t[1]);return e&&JSON.parse(e)},Rp=()=>{try{return C3()||V3()||P3()||L3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z3=t=>Rp()?.emulatorHosts?.[t],U3=t=>{const e=z3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},D2=()=>Rp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F3(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xd(JSON.stringify(n)),Xd(JSON.stringify(u)),""].join(".")}const kc={};function $3(){const t={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?t.emulator.push(e):t.prod.push(e);return t}function H3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let p1=!1;function Y3(t,e){if(typeof window>"u"||typeof document>"u"||!Ip(window.location.host)||kc[t]===e||kc[t]||p1)return;kc[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=$3().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,_){w.setAttribute("width","24"),w.setAttribute("id",_),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{p1=!0,u()},w}function x(w,_){w.setAttribute("id",_),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=H3(s),_=n("text"),C=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),z=document.getElementById(M)||document.createElement("a"),O=n("preprendIcon"),D=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;f(F),x(z,M);const q=p();h(D,O),F.append(D,C,z,q),document.body.appendChild(F)}c?(C.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q3(){const t=Rp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X3(){return!Q3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K3(){try{return typeof indexedDB=="object"}catch{return!1}}function Z3(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="FirebaseError";class io extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=J3,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R2.prototype.create)}}class R2{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,c=this.errors[e],u=c?W3(c,s):"Error",f=`${this.serviceName}: ${u} (${i}).`;return new io(i,f,s)}}function W3(t,e){return t.replace(eT,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const eT=/\{\$([^}]+)}/g;function Kd(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const c=t[i],u=e[i];if(g1(c)&&g1(u)){if(!Kd(c,u))return!1}else if(c!==u)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function g1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return t&&t._delegate?t._delegate:t}class Lc{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new B3;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rT(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:i});s.resolve(c)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);s===f&&u.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const c=this.instances.get(s);return c&&e(c,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nT(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nT(t){return t===Ri?void 0:t}function rT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const aT={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},iT=it.INFO,lT={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},oT=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=lT[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I2{constructor(e){this.name=e,this._logLevel=iT,this._logHandler=oT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const cT=(t,e)=>e.some(n=>t instanceof n);let x1,y1;function uT(){return x1||(x1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dT(){return y1||(y1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M2=new WeakMap,V0=new WeakMap,O2=new WeakMap,Wm=new WeakMap,Mp=new WeakMap;function fT(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(Oa(t.result)),i()},u=()=>{s(t.error),i()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&M2.set(n,t)}).catch(()=>{}),Mp.set(e,t),e}function hT(t){if(V0.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),i()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});V0.set(t,e)}let P0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return V0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mT(t){P0=t(P0)}function pT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(e0(this),e,...n);return O2.set(s,e.sort?e.sort():[e]),Oa(s)}:dT().includes(t)?function(...e){return t.apply(e0(this),e),Oa(M2.get(this))}:function(...e){return Oa(t.apply(e0(this),e))}}function gT(t){return typeof t=="function"?pT(t):(t instanceof IDBTransaction&&hT(t),cT(t,uT())?new Proxy(t,P0):t)}function Oa(t){if(t instanceof IDBRequest)return fT(t);if(Wm.has(t))return Wm.get(t);const e=gT(t);return e!==t&&(Wm.set(t,e),Mp.set(e,t)),e}const e0=t=>Mp.get(t);function xT(t,e,{blocked:n,upgrade:s,blocking:i,terminated:c}={}){const u=indexedDB.open(t,e),f=Oa(u);return s&&u.addEventListener("upgradeneeded",h=>{s(Oa(u.result),h.oldVersion,h.newVersion,Oa(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{c&&h.addEventListener("close",()=>c()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const yT=["get","getKey","getAll","getAllKeys","count"],bT=["put","add","delete","clear"],t0=new Map;function b1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(t0.get(e))return t0.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=bT.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||yT.includes(n)))return;const c=async function(u,...f){const h=this.transaction(u,i?"readwrite":"readonly");let p=h.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),i&&h.done]))[0]};return t0.set(e,c),c}mT(t=>({...t,get:(e,n,s)=>b1(e,n)||t.get(e,n,s),has:(e,n)=>!!b1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wT(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wT(t){return t.getComponent()?.type==="VERSION"}const L0="@firebase/app",v1="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new I2("@firebase/app"),_T="@firebase/app-compat",NT="@firebase/analytics-compat",ET="@firebase/analytics",TT="@firebase/app-check-compat",ST="@firebase/app-check",jT="@firebase/auth",AT="@firebase/auth-compat",kT="@firebase/database",CT="@firebase/data-connect",DT="@firebase/database-compat",RT="@firebase/functions",IT="@firebase/functions-compat",MT="@firebase/installations",OT="@firebase/installations-compat",VT="@firebase/messaging",PT="@firebase/messaging-compat",LT="@firebase/performance",zT="@firebase/performance-compat",UT="@firebase/remote-config",BT="@firebase/remote-config-compat",FT="@firebase/storage",qT="@firebase/storage-compat",$T="@firebase/firestore",HT="@firebase/ai",YT="@firebase/firestore-compat",GT="firebase",QT="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="[DEFAULT]",XT={[L0]:"fire-core",[_T]:"fire-core-compat",[ET]:"fire-analytics",[NT]:"fire-analytics-compat",[ST]:"fire-app-check",[TT]:"fire-app-check-compat",[jT]:"fire-auth",[AT]:"fire-auth-compat",[kT]:"fire-rtdb",[CT]:"fire-data-connect",[DT]:"fire-rtdb-compat",[RT]:"fire-fn",[IT]:"fire-fn-compat",[MT]:"fire-iid",[OT]:"fire-iid-compat",[VT]:"fire-fcm",[PT]:"fire-fcm-compat",[LT]:"fire-perf",[zT]:"fire-perf-compat",[UT]:"fire-rc",[BT]:"fire-rc-compat",[FT]:"fire-gcs",[qT]:"fire-gcs-compat",[$T]:"fire-fst",[YT]:"fire-fst-compat",[HT]:"fire-vertex","fire-js":"fire-js",[GT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,KT=new Map,U0=new Map;function w1(t,e){try{t.container.addComponent(e)}catch(n){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jd(t){const e=t.name;if(U0.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;U0.set(e,t);for(const n of Zd.values())w1(n,t);for(const n of KT.values())w1(n,t);return!0}function ZT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function JT(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new R2("app","Firebase",WT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Lc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=QT;function V2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:z0,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw Va.create("bad-app-name",{appName:String(i)});if(n||(n=D2()),!n)throw Va.create("no-options");const c=Zd.get(i);if(c){if(Kd(n,c.options)&&Kd(s,c.config))return c;throw Va.create("duplicate-app",{appName:i})}const u=new sT(i);for(const h of U0.values())u.addComponent(h);const f=new eS(n,s,u);return Zd.set(i,f),f}function nS(t=z0){const e=Zd.get(t);if(!e&&t===z0&&D2())return V2();if(!e)throw Va.create("no-app",{appName:t});return e}function Hl(t,e,n){let s=XT[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),c=e.match(/\s|\//);if(i||c){const u=[`Unable to register library "${s}" with version "${e}":`];i&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(u.join(" "));return}Jd(new Lc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebase-heartbeat-database",sS=1,zc="firebase-heartbeat-store";let n0=null;function P2(){return n0||(n0=xT(rS,sS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Va.create("idb-open",{originalErrorMessage:t.message})})),n0}async function aS(t){try{const n=(await P2()).transaction(zc),s=await n.objectStore(zc).get(L2(t));return await n.done,s}catch(e){if(e instanceof io)ea.warn(e.message);else{const n=Va.create("idb-get",{originalErrorMessage:e?.message});ea.warn(n.message)}}}async function _1(t,e){try{const s=(await P2()).transaction(zc,"readwrite");await s.objectStore(zc).put(e,L2(t)),await s.done}catch(n){if(n instanceof io)ea.warn(n.message);else{const s=Va.create("idb-set",{originalErrorMessage:n?.message});ea.warn(s.message)}}}function L2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=1024,lS=30;class oS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=N1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>lS){const i=dS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ea.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N1(),{heartbeatsToSend:n,unsentEntries:s}=cS(this._heartbeatsCache.heartbeats),i=Xd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ea.warn(e),""}}}function N1(){return new Date().toISOString().substring(0,10)}function cS(t,e=iS){const n=[];let s=t.slice();for(const i of t){const c=n.find(u=>u.agent===i.agent);if(c){if(c.dates.push(i.date),E1(n)>e){c.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),E1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K3()?Z3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E1(t){return Xd(JSON.stringify({version:2,heartbeats:t})).length}function dS(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){Jd(new Lc("platform-logger",e=>new vT(e),"PRIVATE")),Jd(new Lc("heartbeat",e=>new oS(e),"PRIVATE")),Hl(L0,v1,t),Hl(L0,v1,"esm2020"),Hl("fire-js","")}fS("");var T1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,z2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function R(){}R.prototype=A.prototype,V.D=A.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(k,P,U){for(var E=Array(arguments.length-2),K=2;K<arguments.length;K++)E[K-2]=arguments[K];return A.prototype[P].apply(k,E)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,A,R){R||(R=0);var k=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)k[P]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(P=0;16>P;++P)k[P]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=V.g[0],R=V.g[1],P=V.g[2];var U=V.g[3],E=A+(U^R&(P^U))+k[0]+3614090360&4294967295;A=R+(E<<7&4294967295|E>>>25),E=U+(P^A&(R^P))+k[1]+3905402710&4294967295,U=A+(E<<12&4294967295|E>>>20),E=P+(R^U&(A^R))+k[2]+606105819&4294967295,P=U+(E<<17&4294967295|E>>>15),E=R+(A^P&(U^A))+k[3]+3250441966&4294967295,R=P+(E<<22&4294967295|E>>>10),E=A+(U^R&(P^U))+k[4]+4118548399&4294967295,A=R+(E<<7&4294967295|E>>>25),E=U+(P^A&(R^P))+k[5]+1200080426&4294967295,U=A+(E<<12&4294967295|E>>>20),E=P+(R^U&(A^R))+k[6]+2821735955&4294967295,P=U+(E<<17&4294967295|E>>>15),E=R+(A^P&(U^A))+k[7]+4249261313&4294967295,R=P+(E<<22&4294967295|E>>>10),E=A+(U^R&(P^U))+k[8]+1770035416&4294967295,A=R+(E<<7&4294967295|E>>>25),E=U+(P^A&(R^P))+k[9]+2336552879&4294967295,U=A+(E<<12&4294967295|E>>>20),E=P+(R^U&(A^R))+k[10]+4294925233&4294967295,P=U+(E<<17&4294967295|E>>>15),E=R+(A^P&(U^A))+k[11]+2304563134&4294967295,R=P+(E<<22&4294967295|E>>>10),E=A+(U^R&(P^U))+k[12]+1804603682&4294967295,A=R+(E<<7&4294967295|E>>>25),E=U+(P^A&(R^P))+k[13]+4254626195&4294967295,U=A+(E<<12&4294967295|E>>>20),E=P+(R^U&(A^R))+k[14]+2792965006&4294967295,P=U+(E<<17&4294967295|E>>>15),E=R+(A^P&(U^A))+k[15]+1236535329&4294967295,R=P+(E<<22&4294967295|E>>>10),E=A+(P^U&(R^P))+k[1]+4129170786&4294967295,A=R+(E<<5&4294967295|E>>>27),E=U+(R^P&(A^R))+k[6]+3225465664&4294967295,U=A+(E<<9&4294967295|E>>>23),E=P+(A^R&(U^A))+k[11]+643717713&4294967295,P=U+(E<<14&4294967295|E>>>18),E=R+(U^A&(P^U))+k[0]+3921069994&4294967295,R=P+(E<<20&4294967295|E>>>12),E=A+(P^U&(R^P))+k[5]+3593408605&4294967295,A=R+(E<<5&4294967295|E>>>27),E=U+(R^P&(A^R))+k[10]+38016083&4294967295,U=A+(E<<9&4294967295|E>>>23),E=P+(A^R&(U^A))+k[15]+3634488961&4294967295,P=U+(E<<14&4294967295|E>>>18),E=R+(U^A&(P^U))+k[4]+3889429448&4294967295,R=P+(E<<20&4294967295|E>>>12),E=A+(P^U&(R^P))+k[9]+568446438&4294967295,A=R+(E<<5&4294967295|E>>>27),E=U+(R^P&(A^R))+k[14]+3275163606&4294967295,U=A+(E<<9&4294967295|E>>>23),E=P+(A^R&(U^A))+k[3]+4107603335&4294967295,P=U+(E<<14&4294967295|E>>>18),E=R+(U^A&(P^U))+k[8]+1163531501&4294967295,R=P+(E<<20&4294967295|E>>>12),E=A+(P^U&(R^P))+k[13]+2850285829&4294967295,A=R+(E<<5&4294967295|E>>>27),E=U+(R^P&(A^R))+k[2]+4243563512&4294967295,U=A+(E<<9&4294967295|E>>>23),E=P+(A^R&(U^A))+k[7]+1735328473&4294967295,P=U+(E<<14&4294967295|E>>>18),E=R+(U^A&(P^U))+k[12]+2368359562&4294967295,R=P+(E<<20&4294967295|E>>>12),E=A+(R^P^U)+k[5]+4294588738&4294967295,A=R+(E<<4&4294967295|E>>>28),E=U+(A^R^P)+k[8]+2272392833&4294967295,U=A+(E<<11&4294967295|E>>>21),E=P+(U^A^R)+k[11]+1839030562&4294967295,P=U+(E<<16&4294967295|E>>>16),E=R+(P^U^A)+k[14]+4259657740&4294967295,R=P+(E<<23&4294967295|E>>>9),E=A+(R^P^U)+k[1]+2763975236&4294967295,A=R+(E<<4&4294967295|E>>>28),E=U+(A^R^P)+k[4]+1272893353&4294967295,U=A+(E<<11&4294967295|E>>>21),E=P+(U^A^R)+k[7]+4139469664&4294967295,P=U+(E<<16&4294967295|E>>>16),E=R+(P^U^A)+k[10]+3200236656&4294967295,R=P+(E<<23&4294967295|E>>>9),E=A+(R^P^U)+k[13]+681279174&4294967295,A=R+(E<<4&4294967295|E>>>28),E=U+(A^R^P)+k[0]+3936430074&4294967295,U=A+(E<<11&4294967295|E>>>21),E=P+(U^A^R)+k[3]+3572445317&4294967295,P=U+(E<<16&4294967295|E>>>16),E=R+(P^U^A)+k[6]+76029189&4294967295,R=P+(E<<23&4294967295|E>>>9),E=A+(R^P^U)+k[9]+3654602809&4294967295,A=R+(E<<4&4294967295|E>>>28),E=U+(A^R^P)+k[12]+3873151461&4294967295,U=A+(E<<11&4294967295|E>>>21),E=P+(U^A^R)+k[15]+530742520&4294967295,P=U+(E<<16&4294967295|E>>>16),E=R+(P^U^A)+k[2]+3299628645&4294967295,R=P+(E<<23&4294967295|E>>>9),E=A+(P^(R|~U))+k[0]+4096336452&4294967295,A=R+(E<<6&4294967295|E>>>26),E=U+(R^(A|~P))+k[7]+1126891415&4294967295,U=A+(E<<10&4294967295|E>>>22),E=P+(A^(U|~R))+k[14]+2878612391&4294967295,P=U+(E<<15&4294967295|E>>>17),E=R+(U^(P|~A))+k[5]+4237533241&4294967295,R=P+(E<<21&4294967295|E>>>11),E=A+(P^(R|~U))+k[12]+1700485571&4294967295,A=R+(E<<6&4294967295|E>>>26),E=U+(R^(A|~P))+k[3]+2399980690&4294967295,U=A+(E<<10&4294967295|E>>>22),E=P+(A^(U|~R))+k[10]+4293915773&4294967295,P=U+(E<<15&4294967295|E>>>17),E=R+(U^(P|~A))+k[1]+2240044497&4294967295,R=P+(E<<21&4294967295|E>>>11),E=A+(P^(R|~U))+k[8]+1873313359&4294967295,A=R+(E<<6&4294967295|E>>>26),E=U+(R^(A|~P))+k[15]+4264355552&4294967295,U=A+(E<<10&4294967295|E>>>22),E=P+(A^(U|~R))+k[6]+2734768916&4294967295,P=U+(E<<15&4294967295|E>>>17),E=R+(U^(P|~A))+k[13]+1309151649&4294967295,R=P+(E<<21&4294967295|E>>>11),E=A+(P^(R|~U))+k[4]+4149444226&4294967295,A=R+(E<<6&4294967295|E>>>26),E=U+(R^(A|~P))+k[11]+3174756917&4294967295,U=A+(E<<10&4294967295|E>>>22),E=P+(A^(U|~R))+k[2]+718787259&4294967295,P=U+(E<<15&4294967295|E>>>17),E=R+(U^(P|~A))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(P+(E<<21&4294967295|E>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+U&4294967295}s.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var R=A-this.blockSize,k=this.B,P=this.h,U=0;U<A;){if(P==0)for(;U<=R;)i(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<A;)if(k[P++]=V.charCodeAt(U++),P==this.blockSize){i(this,k),P=0;break}}else for(;U<A;)if(k[P++]=V[U++],P==this.blockSize){i(this,k),P=0;break}}this.h=P,this.o+=A},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var R=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=R&255,R/=256;for(this.u(V),V=Array(16),A=R=0;4>A;++A)for(var k=0;32>k;k+=8)V[R++]=this.g[A]>>>k&255;return V};function c(V,A){var R=f;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=A(V)}function u(V,A){this.h=A;for(var R=[],k=!0,P=V.length-1;0<=P;P--){var U=V[P]|0;k&&U==A||(R[P]=U,k=!1)}this.g=R}var f={};function h(V){return-128<=V&&128>V?c(V,function(A){return new u([A|0],0>A?-1:0)}):new u([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return z(p(-V));for(var A=[],R=1,k=0;V>=R;k++)A[k]=V/R|0,R*=4294967296;return new u(A,0)}function x(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return z(x(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(A,8)),k=b,P=0;P<V.length;P+=8){var U=Math.min(8,V.length-P),E=parseInt(V.substring(P,P+U),A);8>U?(U=p(Math.pow(A,U)),k=k.j(U).add(p(E))):(k=k.j(R),k=k.add(p(E)))}return k}var b=h(0),w=h(1),_=h(16777216);t=u.prototype,t.m=function(){if(M(this))return-z(this).m();for(var V=0,A=1,R=0;R<this.g.length;R++){var k=this.i(R);V+=(0<=k?k:4294967296+k)*A,A*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(M(this))return"-"+z(this).toString(V);for(var A=p(Math.pow(V,6)),R=this,k="";;){var P=q(R,A).g;R=O(R,P.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=P,C(R))return U+k;for(;6>U.length;)U="0"+U;k=U+k}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function M(V){return V.h==-1}t.l=function(V){return V=O(this,V),M(V)?-1:C(V)?0:1};function z(V){for(var A=V.g.length,R=[],k=0;k<A;k++)R[k]=~V.g[k];return new u(R,~V.h).add(w)}t.abs=function(){return M(this)?z(this):this},t.add=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],k=0,P=0;P<=A;P++){var U=k+(this.i(P)&65535)+(V.i(P)&65535),E=(U>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);k=E>>>16,U&=65535,E&=65535,R[P]=E<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function O(V,A){return V.add(z(A))}t.j=function(V){if(C(this)||C(V))return b;if(M(this))return M(V)?z(this).j(z(V)):z(z(this).j(V));if(M(V))return z(this.j(z(V)));if(0>this.l(_)&&0>V.l(_))return p(this.m()*V.m());for(var A=this.g.length+V.g.length,R=[],k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<V.g.length;P++){var U=this.i(k)>>>16,E=this.i(k)&65535,K=V.i(P)>>>16,ne=V.i(P)&65535;R[2*k+2*P]+=E*ne,D(R,2*k+2*P),R[2*k+2*P+1]+=U*ne,D(R,2*k+2*P+1),R[2*k+2*P+1]+=E*K,D(R,2*k+2*P+1),R[2*k+2*P+2]+=U*K,D(R,2*k+2*P+2)}for(k=0;k<A;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=A;k<2*A;k++)R[k]=0;return new u(R,0)};function D(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function F(V,A){this.g=V,this.h=A}function q(V,A){if(C(A))throw Error("division by zero");if(C(V))return new F(b,b);if(M(V))return A=q(z(V),A),new F(z(A.g),z(A.h));if(M(A))return A=q(V,z(A)),new F(z(A.g),A.h);if(30<V.g.length){if(M(V)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var R=w,k=A;0>=k.l(V);)R=Y(R),k=Y(k);var P=I(R,1),U=I(k,1);for(k=I(k,2),R=I(R,2);!C(k);){var E=U.add(k);0>=E.l(V)&&(P=P.add(R),U=E),k=I(k,1),R=I(R,1)}return A=O(V,P.j(A)),new F(P,A)}for(P=b;0<=V.l(A);){for(R=Math.max(1,Math.floor(V.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),U=p(R),E=U.j(A);M(E)||0<E.l(V);)R-=k,U=p(R),E=U.j(A);C(U)&&(U=w),P=P.add(U),V=O(V,E)}return new F(P,V)}t.A=function(V){return q(this,V).h},t.and=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)&V.i(k);return new u(R,this.h&V.h)},t.or=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)|V.i(k);return new u(R,this.h|V.h)},t.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)^V.i(k);return new u(R,this.h^V.h)};function Y(V){for(var A=V.g.length+1,R=[],k=0;k<A;k++)R[k]=V.i(k)<<1|V.i(k-1)>>>31;return new u(R,V.h)}function I(V,A){var R=A>>5;A%=32;for(var k=V.g.length-R,P=[],U=0;U<k;U++)P[U]=0<A?V.i(U+R)>>>A|V.i(U+R+1)<<32-A:V.i(U+R);return new u(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,z2=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=x,Pa=u}).apply(typeof T1<"u"?T1:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U2,Ec,B2,Fd,B0,F2,q2,$2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,v,N){return m==Array.prototype||m==Object.prototype||(m[v]=N.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var v=0;v<m.length;++v){var N=m[v];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var s=n(this);function i(m,v){if(v)e:{var N=s;m=m.split(".");for(var B=0;B<m.length-1;B++){var W=m[B];if(!(W in N))break e;N=N[W]}m=m[m.length-1],B=N[m],v=v(B),v!=B&&v!=null&&e(N,m,{configurable:!0,writable:!0,value:v})}}function c(m,v){m instanceof String&&(m+="");var N=0,B=!1,W={next:function(){if(!B&&N<m.length){var ce=N++;return{value:v(ce,m[ce]),done:!1}}return B=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(m){return m||function(){return c(this,function(v,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(m){var v=typeof m;return v=v!="object"?v:m?Array.isArray(m)?"array":v:"null",v=="array"||v=="object"&&typeof m.length=="number"}function p(m){var v=typeof m;return v=="object"&&m!=null||v=="function"}function x(m,v,N){return m.call.apply(m.bind,arguments)}function b(m,v,N){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,B),m.apply(v,W)}}return function(){return m.apply(v,arguments)}}function w(m,v,N){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:b,w.apply(null,arguments)}function _(m,v){var N=Array.prototype.slice.call(arguments,1);return function(){var B=N.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function C(m,v){function N(){}N.prototype=v.prototype,m.aa=v.prototype,m.prototype=new N,m.prototype.constructor=m,m.Qb=function(B,W,ce){for(var Ee=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)Ee[nt-2]=arguments[nt];return v.prototype[W].apply(B,Ee)}}function M(m){const v=m.length;if(0<v){const N=Array(v);for(let B=0;B<v;B++)N[B]=m[B];return N}return[]}function z(m,v){for(let N=1;N<arguments.length;N++){const B=arguments[N];if(h(B)){const W=m.length||0,ce=B.length||0;m.length=W+ce;for(let Ee=0;Ee<ce;Ee++)m[W+Ee]=B[Ee]}else m.push(B)}}class O{constructor(v,N){this.i=v,this.j=N,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function D(m){return/^[\s\xa0]*$/.test(m)}function F(){var m=f.navigator;return m&&(m=m.userAgent)?m:""}function q(m){return q[" "](m),m}q[" "]=function(){};var Y=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function I(m,v,N){for(const B in m)v.call(N,m[B],B,m)}function V(m,v){for(const N in m)v.call(void 0,m[N],N,m)}function A(m){const v={};for(const N in m)v[N]=m[N];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(m,v){let N,B;for(let W=1;W<arguments.length;W++){B=arguments[W];for(N in B)m[N]=B[N];for(let ce=0;ce<R.length;ce++)N=R[ce],Object.prototype.hasOwnProperty.call(B,N)&&(m[N]=B[N])}}function P(m){var v=1;m=m.split(":");const N=[];for(;0<v&&m.length;)N.push(m.shift()),v--;return m.length&&N.push(m.join(":")),N}function U(m){f.setTimeout(()=>{throw m},0)}function E(){var m=ve;let v=null;return m.g&&(v=m.g,m.g=m.g.next,m.g||(m.h=null),v.next=null),v}class K{constructor(){this.h=this.g=null}add(v,N){const B=ne.get();B.set(v,N),this.h?this.h.next=B:this.g=B,this.h=B}}var ne=new O(()=>new X,m=>m.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,N){this.h=v,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let de,J=!1,ve=new K,j=()=>{const m=f.Promise.resolve(void 0);de=()=>{m.then(ee)}};var ee=()=>{for(var m;m=E();){try{m.h.call(m.g)}catch(N){U(N)}var v=ne;v.j(m),100>v.h&&(v.h++,m.next=v.g,v.g=m)}J=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(m,v){this.type=m,this.g=this.target=v,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var m=!1,v=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};f.addEventListener("test",N,v),f.removeEventListener("test",N,v)}catch{}return m})();function oe(m,v){if(T.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var N=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=v,v=m.relatedTarget){if(Y){e:{try{q(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else N=="mouseover"?v=m.fromElement:N=="mouseout"&&(v=m.toElement);this.relatedTarget=v,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:se[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&oe.aa.h.call(this)}}C(oe,T);var se={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ye(m,v,N,B,W){this.listener=m,this.proxy=null,this.src=v,this.type=N,this.capture=!!B,this.ha=W,this.key=++Se,this.da=this.fa=!1}function Je(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Et(m){this.src=m,this.g={},this.h=0}Et.prototype.add=function(m,v,N,B,W){var ce=m.toString();m=this.g[ce],m||(m=this.g[ce]=[],this.h++);var Ee=en(m,v,B,W);return-1<Ee?(v=m[Ee],N||(v.fa=!1)):(v=new Ye(v,this.src,ce,!!B,W),v.fa=N,m.push(v)),v};function kn(m,v){var N=v.type;if(N in m.g){var B=m.g[N],W=Array.prototype.indexOf.call(B,v,void 0),ce;(ce=0<=W)&&Array.prototype.splice.call(B,W,1),ce&&(Je(v),m.g[N].length==0&&(delete m.g[N],m.h--))}}function en(m,v,N,B){for(var W=0;W<m.length;++W){var ce=m[W];if(!ce.da&&ce.listener==v&&ce.capture==!!N&&ce.ha==B)return W}return-1}var tr="closure_lm_"+(1e6*Math.random()|0),Ne={};function ot(m,v,N,B,W){if(Array.isArray(v)){for(var ce=0;ce<v.length;ce++)ot(m,v[ce],N,B,W);return null}return N=Zr(N),m&&m[be]?m.K(v,N,p(B)?!!B.capture:!1,W):ct(m,v,N,!1,B,W)}function ct(m,v,N,B,W,ce){if(!v)throw Error("Invalid event type");var Ee=p(W)?!!W.capture:!!W,nt=Mr(m);if(nt||(m[tr]=nt=new Et(m)),N=nt.add(v,N,B,Ee,ce),N.proxy)return N;if(B=pr(),N.proxy=B,B.src=m,B.listener=N,m.addEventListener)H||(W=Ee),W===void 0&&(W=!1),m.addEventListener(v.toString(),B,W);else if(m.attachEvent)m.attachEvent(nr(v.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return N}function pr(){function m(N){return v.call(m.src,m.listener,N)}const v=Kr;return m}function dn(m,v,N,B,W){if(Array.isArray(v))for(var ce=0;ce<v.length;ce++)dn(m,v[ce],N,B,W);else B=p(B)?!!B.capture:!!B,N=Zr(N),m&&m[be]?(m=m.i,v=String(v).toString(),v in m.g&&(ce=m.g[v],N=en(ce,N,B,W),-1<N&&(Je(ce[N]),Array.prototype.splice.call(ce,N,1),ce.length==0&&(delete m.g[v],m.h--)))):m&&(m=Mr(m))&&(v=m.g[v.toString()],m=-1,v&&(m=en(v,N,B,W)),(N=-1<m?v[m]:null)&&Yn(N))}function Yn(m){if(typeof m!="number"&&m&&!m.da){var v=m.src;if(v&&v[be])kn(v.i,m);else{var N=m.type,B=m.proxy;v.removeEventListener?v.removeEventListener(N,B,m.capture):v.detachEvent?v.detachEvent(nr(N),B):v.addListener&&v.removeListener&&v.removeListener(B),(N=Mr(v))?(kn(N,m),N.h==0&&(N.src=null,v[tr]=null)):Je(m)}}}function nr(m){return m in Ne?Ne[m]:Ne[m]="on"+m}function Kr(m,v){if(m.da)m=!0;else{v=new oe(v,this);var N=m.listener,B=m.ha||m.src;m.fa&&Yn(m),m=N.call(B,v)}return m}function Mr(m){return m=m[tr],m instanceof Et?m:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zr(m){return typeof m=="function"?m:(m[As]||(m[As]=function(v){return m.handleEvent(v)}),m[As])}function le(){pe.call(this),this.i=new Et(this),this.M=this,this.F=null}C(le,pe),le.prototype[be]=!0,le.prototype.removeEventListener=function(m,v,N,B){dn(this,m,v,N,B)};function ge(m,v){var N,B=m.F;if(B)for(N=[];B;B=B.F)N.push(B);if(m=m.M,B=v.type||v,typeof v=="string")v=new T(v,m);else if(v instanceof T)v.target=v.target||m;else{var W=v;v=new T(B,m),k(v,W)}if(W=!0,N)for(var ce=N.length-1;0<=ce;ce--){var Ee=v.g=N[ce];W=ke(Ee,B,!0,v)&&W}if(Ee=v.g=m,W=ke(Ee,B,!0,v)&&W,W=ke(Ee,B,!1,v)&&W,N)for(ce=0;ce<N.length;ce++)Ee=v.g=N[ce],W=ke(Ee,B,!1,v)&&W}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var m=this.i,v;for(v in m.g){for(var N=m.g[v],B=0;B<N.length;B++)Je(N[B]);delete m.g[v],m.h--}}this.F=null},le.prototype.K=function(m,v,N,B){return this.i.add(String(m),v,!1,N,B)},le.prototype.L=function(m,v,N,B){return this.i.add(String(m),v,!0,N,B)};function ke(m,v,N,B){if(v=m.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,ce=0;ce<v.length;++ce){var Ee=v[ce];if(Ee&&!Ee.da&&Ee.capture==N){var nt=Ee.listener,an=Ee.ha||Ee.src;Ee.fa&&kn(m.i,Ee),W=nt.call(an,B)!==!1&&W}}return W&&!B.defaultPrevented}function Re(m,v,N){if(typeof m=="function")N&&(m=w(m,N));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(m,v||0)}function tt(m){m.g=Re(()=>{m.g=null,m.i&&(m.i=!1,tt(m))},m.l);const v=m.h;m.h=null,m.m.apply(null,v)}class tn extends pe{constructor(v,N){super(),this.m=v,this.l=N,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(m){pe.call(this),this.h=m,this.g={}}C(Dt,pe);var nn=[];function Cn(m){I(m.g,function(v,N){this.g.hasOwnProperty(N)&&Yn(v)},m),m.g={}}Dt.prototype.N=function(){Dt.aa.N.call(this),Cn(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rn=f.JSON.stringify,Rt=f.JSON.parse,bn=class{stringify(m){return f.JSON.stringify(m,void 0)}parse(m){return f.JSON.parse(m,void 0)}};function sn(){}sn.prototype.h=null;function Za(m){return m.h||(m.h=m.i())}function Ja(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){T.call(this,"d")}C(Vr,T);function Wa(){T.call(this,"c")}C(Wa,T);var gr={},ei=null;function Jr(){return ei=ei||new le}gr.La="serverreachability";function aa(m){T.call(this,gr.La,m)}C(aa,T);function Pr(m){const v=Jr();ge(v,new aa(v))}gr.STAT_EVENT="statevent";function ti(m,v){T.call(this,gr.STAT_EVENT,m),this.stat=v}C(ti,T);function Tt(m){const v=Jr();ge(v,new ti(v,m))}gr.Ma="timingevent";function Bt(m,v){T.call(this,gr.Ma,m),this.size=v}C(Bt,T);function It(m,v){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){m()},v)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function ni(m,v,N,B,W,ce){m.info(function(){if(m.g)if(ce)for(var Ee="",nt=ce.split("&"),an=0;an<nt.length;an++){var rt=nt[an].split("=");if(1<rt.length){var hn=rt[0];rt=rt[1];var ln=hn.split("_");Ee=2<=ln.length&&ln[1]=="type"?Ee+(hn+"="+rt+"&"):Ee+(hn+"=redacted&")}}else Ee=null;else Ee=ce;return"XMLHTTP REQ ("+B+") [attempt "+W+"]: "+v+`
`+N+`
`+Ee})}function Wr(m,v,N,B,W,ce,Ee){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+W+"]: "+v+`
`+N+`
`+ce+" "+Ee})}function ue(m,v,N,B){m.info(function(){return"XMLHTTP TEXT ("+v+"): "+qe(m,N)+(B?" "+B:"")})}function Fe(m,v){m.info(function(){return"TIMEOUT: "+v})}Gn.prototype.info=function(){};function qe(m,v){if(!m.g)return v;if(!v)return null;try{var N=JSON.parse(v);if(N){for(m=0;m<N.length;m++)if(Array.isArray(N[m])){var B=N[m];if(!(2>B.length)){var W=B[1];if(Array.isArray(W)&&!(1>W.length)){var ce=W[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Ee=1;Ee<W.length;Ee++)W[Ee]=""}}}}return rn(N)}catch{return v}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ks={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},es;function ts(){}C(ts,sn),ts.prototype.g=function(){return new XMLHttpRequest},ts.prototype.i=function(){return{}},es=new ts;function Ln(m,v,N,B){this.j=m,this.i=v,this.l=N,this.R=B||1,this.U=new Dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}var xo={},Qi={};function Lr(m,v,N){m.L=1,m.v=li(rr(v)),m.m=N,m.P=!0,Cs(m,null)}function Cs(m,v){m.F=Date.now(),ri(m),m.A=rr(m.v);var N=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),No(N.i,"t",B),m.C=0,N=m.j.J,m.h=new Ft,m.g=ku(m.j,N?v:null,!m.m),0<m.O&&(m.M=new tn(w(m.Y,m,m.g),m.O)),v=m.U,N=m.g,B=m.ca;var W="readystatechange";Array.isArray(W)||(W&&(nn[0]=W.toString()),W=nn);for(var ce=0;ce<W.length;ce++){var Ee=ot(N,W[ce],B||v.handleEvent,!1,v.h||v);if(!Ee)break;v.g[Ee.key]=Ee}v=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,v)):(m.u="GET",m.g.ea(m.A,m.u,null,v)),Pr(),ni(m.i,m.u,m.A,m.l,m.R,m.m)}Ln.prototype.ca=function(m){m=m.target;const v=this.M;v&&wr(m)==3?v.j():this.Y(m)},Ln.prototype.Y=function(m){try{if(m==this.g)e:{const ln=wr(this.g);var v=this.g.Ba();const Ls=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||wu(this.g)))){this.J||ln!=4||v==7||(v==8||0>=Ls?Pr(3):Pr(2)),ia(this);var N=this.g.Z();this.X=N;t:if(mu(this)){var B=wu(this.g);m="";var W=B.length,ce=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),ns(this);var Ee="";break t}this.h.i=new f.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,m+=this.h.i.decode(B[v],{stream:!(ce&&v==W-1)});B.length=0,this.h.g+=m,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=N==200,Wr(this.i,this.u,this.A,this.l,this.R,ln,N),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,an=this.g;if((nt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(nt)){var rt=nt;break t}}rt=null}if(N=rt)ue(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,si(this,N);else{this.o=!1,this.s=3,Tt(12),vn(this),ns(this);break e}}if(this.P){N=!0;let wn;for(;!this.J&&this.C<Ee.length;)if(wn=pu(this,Ee),wn==Qi){ln==4&&(this.s=4,Tt(14),N=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==xo){this.s=4,Tt(15),ue(this.i,this.l,Ee,"[Invalid Chunk]"),N=!1;break}else ue(this.i,this.l,wn,null),si(this,wn);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||Ee.length!=0||this.h.h||(this.s=1,Tt(16),N=!1),this.o=this.o&&N,!N)ue(this.i,this.l,Ee,"[Invalid Chunked Response]"),vn(this),ns(this);else if(0<Ee.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),pi(hn),hn.M=!0,Tt(11))}}else ue(this.i,this.l,Ee,null),si(this,Ee);ln==4&&vn(this),this.o&&!this.J&&(ln==4?Su(this.j,this):(this.o=!1,ri(this)))}else eh(this.g),N==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),vn(this),ns(this)}}}catch{}finally{}};function mu(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function pu(m,v){var N=m.C,B=v.indexOf(`
`,N);return B==-1?Qi:(N=Number(v.substring(N,B)),isNaN(N)?xo:(B+=1,B+N>v.length?Qi:(v=v.slice(B,B+N),m.C=B+N,v)))}Ln.prototype.cancel=function(){this.J=!0,vn(this)};function ri(m){m.S=Date.now()+m.I,gu(m,m.I)}function gu(m,v){if(m.B!=null)throw Error("WatchDog timer not null");m.B=It(w(m.ba,m),v)}function ia(m){m.B&&(f.clearTimeout(m.B),m.B=null)}Ln.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Fe(this.i,this.A),this.L!=2&&(Pr(),Tt(17)),vn(this),this.s=2,ns(this)):gu(this,this.S-m)};function ns(m){m.j.G==0||m.J||Su(m.j,m)}function vn(m){ia(m);var v=m.M;v&&typeof v.ma=="function"&&v.ma(),m.M=null,Cn(m.U),m.g&&(v=m.g,m.g=null,v.abort(),v.ma())}function si(m,v){try{var N=m.j;if(N.G!=0&&(N.g==m||yo(N.h,m))){if(!m.K&&yo(N.h,m)&&N.G==3){try{var B=N.Da.g.parse(v)}catch{B=null}if(Array.isArray(B)&&B.length==3){var W=B;if(W[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<m.F)il(N),sl(N);else break e;Ao(N),Tt(18)}}else N.za=W[1],0<N.za-N.T&&37500>W[2]&&N.F&&N.v==0&&!N.C&&(N.C=It(w(N.Za,N),6e3));if(1>=Ki(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Ps(N,11)}else if((m.K||N.g==m)&&il(N),!D(v))for(W=N.Da.g.parse(v),v=0;v<W.length;v++){let rt=W[v];if(N.T=rt[0],rt=rt[1],N.G==2)if(rt[0]=="c"){N.K=rt[1],N.ia=rt[2];const hn=rt[3];hn!=null&&(N.la=hn,N.j.info("VER="+N.la));const ln=rt[4];ln!=null&&(N.Aa=ln,N.j.info("SVER="+N.Aa));const Ls=rt[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(B=1.5*Ls,N.L=B,N.j.info("backChannelRequestTimeoutMs_="+B)),B=N;const wn=m.g;if(wn){const cs=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cs){var ce=B.h;ce.g||cs.indexOf("spdy")==-1&&cs.indexOf("quic")==-1&&cs.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Zi(ce,ce.h),ce.h=null))}if(B.D){const Co=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(B.ya=Co,xt(B.I,B.D,Co))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-m.F,N.j.info("Handshake RTT: "+N.R+"ms")),B=N;var Ee=m;if(B.qa=Au(B,B.J?B.ia:null,B.W),Ee.K){zn(B.h,Ee);var nt=Ee,an=B.L;an&&(nt.I=an),nt.B&&(ia(nt),ri(nt)),B.g=Ee}else Eu(B);0<N.i.length&&al(N)}else rt[0]!="stop"&&rt[0]!="close"||Ps(N,7);else N.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ps(N,7):So(N):rt[0]!="noop"&&N.l&&N.l.ta(rt),N.v=0)}}Pr(4)}catch{}}var xu=class{constructor(m,v){this.g=m,this.map=v}};function Ds(m){this.l=m||10,f.PerformanceNavigationTiming?(m=f.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ki(m){return m.h?1:m.g?m.g.size:0}function yo(m,v){return m.h?m.h==v:m.g?m.g.has(v):!1}function Zi(m,v){m.g?m.g.add(v):m.h=v}function zn(m,v){m.h&&m.h==v?m.h=null:m.g&&m.g.has(v)&&m.g.delete(v)}Ds.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function bo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let v=m.i;for(const N of m.g.values())v=v.concat(N.D);return v}return M(m.i)}function Kf(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var v=[],N=m.length,B=0;B<N;B++)v.push(m[B]);return v}v=[],N=0;for(B in m)v[N++]=m[B];return v}function Ji(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var v=[];m=m.length;for(var N=0;N<m;N++)v.push(N);return v}v=[],N=0;for(const B in m)v[N++]=B;return v}}}function vo(m,v){if(m.forEach&&typeof m.forEach=="function")m.forEach(v,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,v,void 0);else for(var N=Ji(m),B=Kf(m),W=B.length,ce=0;ce<W;ce++)v.call(void 0,B[ce],N&&N[ce],m)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zf(m,v){if(m){m=m.split("&");for(var N=0;N<m.length;N++){var B=m[N].indexOf("="),W=null;if(0<=B){var ce=m[N].substring(0,B);W=m[N].substring(B+1)}else ce=m[N];v(ce,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Yt(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Yt){this.h=m.h,ii(this,m.j),this.o=m.o,this.g=m.g,la(this,m.s),this.l=m.l;var v=m.i,N=new Is;N.i=v.i,v.g&&(N.g=new Map(v.g),N.h=v.h),Rs(this,N),this.m=m.m}else m&&(v=String(m).match(ai))?(this.h=!1,ii(this,v[1]||"",!0),this.o=yr(v[2]||""),this.g=yr(v[3]||"",!0),la(this,v[4]),this.l=yr(v[5]||"",!0),Rs(this,v[6]||"",!0),this.m=yr(v[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}Yt.prototype.toString=function(){var m=[],v=this.j;v&&m.push(oi(v,wo,!0),":");var N=this.g;return(N||v=="file")&&(m.push("//"),(v=this.o)&&m.push(oi(v,wo,!0),"@"),m.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&m.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(oi(N,N.charAt(0)=="/"?Jf:_o,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",oi(N,Wi)),m.join("")};function rr(m){return new Yt(m)}function ii(m,v,N){m.j=N?yr(v,!0):v,m.j&&(m.j=m.j.replace(/:$/,""))}function la(m,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);m.s=v}else m.s=null}function Rs(m,v,N){v instanceof Is?(m.i=v,bu(m.i,m.h)):(N||(v=oi(v,Wf)),m.i=new Is(v,m.h))}function xt(m,v,N){m.i.set(v,N)}function li(m){return xt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function yr(m,v){return m?v?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function oi(m,v,N){return typeof m=="string"?(m=encodeURI(m).replace(v,yu),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function yu(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var wo=/[#\/\?@]/g,_o=/[#\?:]/g,Jf=/[#\?]/g,Wf=/[#\?@]/g,Wi=/#/g;function Is(m,v){this.h=this.g=null,this.i=m||null,this.j=!!v}function br(m){m.g||(m.g=new Map,m.h=0,m.i&&Zf(m.i,function(v,N){m.add(decodeURIComponent(v.replace(/\+/g," ")),N)}))}t=Is.prototype,t.add=function(m,v){br(this),this.i=null,m=rs(this,m);var N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(v),this.h+=1,this};function Ms(m,v){br(m),v=rs(m,v),m.g.has(v)&&(m.i=null,m.h-=m.g.get(v).length,m.g.delete(v))}function Os(m,v){return br(m),v=rs(m,v),m.g.has(v)}t.forEach=function(m,v){br(this),this.g.forEach(function(N,B){N.forEach(function(W){m.call(v,W,B,this)},this)},this)},t.na=function(){br(this);const m=Array.from(this.g.values()),v=Array.from(this.g.keys()),N=[];for(let B=0;B<v.length;B++){const W=m[B];for(let ce=0;ce<W.length;ce++)N.push(v[B])}return N},t.V=function(m){br(this);let v=[];if(typeof m=="string")Os(this,m)&&(v=v.concat(this.g.get(rs(this,m))));else{m=Array.from(this.g.values());for(let N=0;N<m.length;N++)v=v.concat(m[N])}return v},t.set=function(m,v){return br(this),this.i=null,m=rs(this,m),Os(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[v]),this.h+=1,this},t.get=function(m,v){return m?(m=this.V(m),0<m.length?String(m[0]):v):v};function No(m,v,N){Ms(m,v),0<N.length&&(m.i=null,m.g.set(rs(m,v),M(N)),m.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],v=Array.from(this.g.keys());for(var N=0;N<v.length;N++){var B=v[N];const ce=encodeURIComponent(String(B)),Ee=this.V(B);for(B=0;B<Ee.length;B++){var W=ce;Ee[B]!==""&&(W+="="+encodeURIComponent(String(Ee[B]))),m.push(W)}}return this.i=m.join("&")};function rs(m,v){return v=String(v),m.j&&(v=v.toLowerCase()),v}function bu(m,v){v&&!m.j&&(br(m),m.i=null,m.g.forEach(function(N,B){var W=B.toLowerCase();B!=W&&(Ms(this,B),No(this,W,N))},m)),m.j=v}function ci(m,v){const N=new Gn;if(f.Image){const B=new Image;B.onload=_(vr,N,"TestLoadImage: loaded",!0,v,B),B.onerror=_(vr,N,"TestLoadImage: error",!1,v,B),B.onabort=_(vr,N,"TestLoadImage: abort",!1,v,B),B.ontimeout=_(vr,N,"TestLoadImage: timeout",!1,v,B),f.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else v(!1)}function zr(m,v){const N=new Gn,B=new AbortController,W=setTimeout(()=>{B.abort(),vr(N,"TestPingServer: timeout",!1,v)},1e4);fetch(m,{signal:B.signal}).then(ce=>{clearTimeout(W),ce.ok?vr(N,"TestPingServer: ok",!0,v):vr(N,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),vr(N,"TestPingServer: error",!1,v)})}function vr(m,v,N,B,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),B(N)}catch{}}function ui(){this.g=new bn}function ss(m,v,N){const B=N||"";try{vo(m,function(W,ce){let Ee=W;p(W)&&(Ee=rn(W)),v.push(B+ce+"="+encodeURIComponent(Ee))})}catch(W){throw v.push(B+"type="+encodeURIComponent("_badmap")),W}}function oa(m){this.l=m.Ub||null,this.j=m.eb||!1}C(oa,sn),oa.prototype.g=function(){return new Vs(this.l,this.j)},oa.prototype.i=(function(m){return function(){return m}})({});function Vs(m,v){le.call(this),this.D=m,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Vs,le),t=Vs.prototype,t.open=function(m,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=v,this.readyState=1,is(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(v.body=m),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,as(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var v=m.value?m.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!m.done}))&&(this.response=this.responseText+=v)}m.done?as(this):is(this),this.readyState==3&&Eo(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,as(this))},t.Qa=function(m){this.g&&(this.response=m,as(this))},t.ga=function(){this.g&&as(this)};function as(m){m.readyState=4,m.l=null,m.j=null,m.v=null,is(m)}t.setRequestHeader=function(m,v){this.u.append(m,v)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],v=this.h.entries();for(var N=v.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=v.next();return m.join(`\r
`)};function is(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function To(m){let v="";return I(m,function(N,B){v+=B,v+=":",v+=N,v+=`\r
`}),v}function fn(m,v,N){e:{for(B in N){var B=!1;break e}B=!0}B||(N=To(N),typeof m=="string"?N!=null&&encodeURIComponent(String(N)):xt(m,v,N))}function ht(m){le.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ht,le);var el=/^https?$/i,di=["POST","PUT"];t=ht.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,v,N,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);v=v?v.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():es.g(),this.v=this.o?Za(this.o):Za(es),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(m),!0),this.B=!1}catch(ce){vu(this,ce);return}if(m=N||"",N=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var W in B)N.set(W,B[W]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ce of B.keys())N.set(ce,B.get(ce));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(N.keys()).find(ce=>ce.toLowerCase()=="content-type"),W=f.FormData&&m instanceof f.FormData,!(0<=Array.prototype.indexOf.call(di,v,void 0))||B||W||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ee]of N)this.g.setRequestHeader(ce,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fi(this),this.u=!0,this.g.send(m),this.u=!1}catch(ce){vu(this,ce)}};function vu(m,v){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=v,m.m=5,tl(m),ls(m)}function tl(m){m.A||(m.A=!0,ge(m,"complete"),ge(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ge(this,"complete"),ge(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nl(this):this.bb())},t.bb=function(){nl(this)};function nl(m){if(m.h&&typeof u<"u"&&(!m.v[1]||wr(m)!=4||m.Z()!=2)){if(m.u&&wr(m)==4)Re(m.Ea,0,m);else if(ge(m,"readystatechange"),wr(m)==4){m.h=!1;try{const Ee=m.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var N;if(!(N=v)){var B;if(B=Ee===0){var W=String(m.D).match(ai)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),B=!el.test(W?W.toLowerCase():"")}N=B}if(N)ge(m,"complete"),ge(m,"success");else{m.m=6;try{var ce=2<wr(m)?m.g.statusText:""}catch{ce=""}m.l=ce+" ["+m.Z()+"]",tl(m)}}finally{ls(m)}}}}function ls(m,v){if(m.g){fi(m);const N=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,v||ge(m,"ready");try{N.onreadystatechange=B}catch{}}}function fi(m){m.I&&(f.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function wr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var v=this.g.responseText;return m&&v.indexOf(m)==0&&(v=v.substring(m.length)),Rt(v)}};function wu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function eh(m){const v={};m=(m.g&&2<=wr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(D(m[B]))continue;var N=P(m[B]);const W=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ce=v[W]||[];v[W]=ce,ce.push(N)}V(v,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(m,v,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||v}function rl(m){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hi("baseRetryDelayMs",5e3,m),this.cb=hi("retryDelaySeedMs",1e4,m),this.Wa=hi("forwardChannelMaxRetries",2,m),this.wa=hi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ds(m&&m.concurrentRequestLimit),this.Da=new ui,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rl.prototype,t.la=8,t.G=1,t.connect=function(m,v,N,B){Tt(0),this.W=m,this.H=v||{},N&&B!==void 0&&(this.H.OSID=N,this.H.OAID=B),this.F=this.X,this.I=Au(this,null,this.W),al(this)};function So(m){if(_u(m),m.G==3){var v=m.U++,N=rr(m.I);if(xt(N,"SID",m.K),xt(N,"RID",v),xt(N,"TYPE","terminate"),mi(m,N),v=new Ln(m,m.j,v),v.L=2,v.v=li(rr(N)),N=!1,f.navigator&&f.navigator.sendBeacon)try{N=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!N&&f.Image&&(new Image().src=v.v,N=!0),N||(v.g=ku(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ri(v)}ju(m)}function sl(m){m.g&&(pi(m),m.g.cancel(),m.g=null)}function _u(m){sl(m),m.u&&(f.clearTimeout(m.u),m.u=null),il(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&f.clearTimeout(m.s),m.s=null)}function al(m){if(!Xi(m.h)&&!m.s){m.s=!0;var v=m.Ga;de||j(),J||(de(),J=!0),ve.add(v,m),m.B=0}}function th(m,v){return Ki(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=v.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=It(w(m.Ga,m,v),ko(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const W=new Ln(this,this.j,m);let ce=this.o;if(this.S&&(ce?(ce=A(ce),k(ce,this.S)):ce=this.S),this.m!==null||this.O||(W.H=ce,ce=null),this.P)e:{for(var v=0,N=0;N<this.i.length;N++){t:{var B=this.i[N];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(v+=B,4096<v){v=N;break e}if(v===4096||N===this.i.length-1){v=N+1;break e}}v=1e3}else v=1e3;v=Nu(this,W,v),N=rr(this.I),xt(N,"RID",m),xt(N,"CVER",22),this.D&&xt(N,"X-HTTP-Session-Id",this.D),mi(this,N),ce&&(this.O?v="headers="+encodeURIComponent(String(To(ce)))+"&"+v:this.m&&fn(N,this.m,ce)),Zi(this.h,W),this.Ua&&xt(N,"TYPE","init"),this.P?(xt(N,"$req",v),xt(N,"SID","null"),W.T=!0,Lr(W,N,null)):Lr(W,N,v),this.G=2}}else this.G==3&&(m?jo(this,m):this.i.length==0||Xi(this.h)||jo(this))};function jo(m,v){var N;v?N=v.l:N=m.U++;const B=rr(m.I);xt(B,"SID",m.K),xt(B,"RID",N),xt(B,"AID",m.T),mi(m,B),m.m&&m.o&&fn(B,m.m,m.o),N=new Ln(m,m.j,N,m.B+1),m.m===null&&(N.H=m.o),v&&(m.i=v.D.concat(m.i)),v=Nu(m,N,1e3),N.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Zi(m.h,N),Lr(N,B,v)}function mi(m,v){m.H&&I(m.H,function(N,B){xt(v,B,N)}),m.l&&vo({},function(N,B){xt(v,B,N)})}function Nu(m,v,N){N=Math.min(m.i.length,N);var B=m.l?w(m.l.Na,m.l,m):null;e:{var W=m.i;let ce=-1;for(;;){const Ee=["count="+N];ce==-1?0<N?(ce=W[0].g,Ee.push("ofs="+ce)):ce=0:Ee.push("ofs="+ce);let nt=!0;for(let an=0;an<N;an++){let rt=W[an].g;const hn=W[an].map;if(rt-=ce,0>rt)ce=Math.max(0,W[an].g-100),nt=!1;else try{ss(hn,Ee,"req"+rt+"_")}catch{B&&B(hn)}}if(nt){B=Ee.join("&");break e}}}return m=m.i.splice(0,N),v.D=m,B}function Eu(m){if(!m.g&&!m.u){m.Y=1;var v=m.Fa;de||j(),J||(de(),J=!0),ve.add(v,m),m.v=0}}function Ao(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=It(w(m.Fa,m),ko(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=It(w(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),sl(this),Tu(this))};function pi(m){m.A!=null&&(f.clearTimeout(m.A),m.A=null)}function Tu(m){m.g=new Ln(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var v=rr(m.qa);xt(v,"RID","rpc"),xt(v,"SID",m.K),xt(v,"AID",m.T),xt(v,"CI",m.F?"0":"1"),!m.F&&m.ja&&xt(v,"TO",m.ja),xt(v,"TYPE","xmlhttp"),mi(m,v),m.m&&m.o&&fn(v,m.m,m.o),m.L&&(m.g.I=m.L);var N=m.g;m=m.ia,N.L=1,N.v=li(rr(v)),N.m=null,N.P=!0,Cs(N,m)}t.Za=function(){this.C!=null&&(this.C=null,sl(this),Ao(this),Tt(19))};function il(m){m.C!=null&&(f.clearTimeout(m.C),m.C=null)}function Su(m,v){var N=null;if(m.g==v){il(m),pi(m),m.g=null;var B=2}else if(yo(m.h,v))N=v.D,zn(m.h,v),B=1;else return;if(m.G!=0){if(v.o)if(B==1){N=v.m?v.m.length:0,v=Date.now()-v.F;var W=m.B;B=Jr(),ge(B,new Bt(B,N)),al(m)}else Eu(m);else if(W=v.s,W==3||W==0&&0<v.X||!(B==1&&th(m,v)||B==2&&Ao(m)))switch(N&&0<N.length&&(v=m.h,v.i=v.i.concat(N)),W){case 1:Ps(m,5);break;case 4:Ps(m,10);break;case 3:Ps(m,6);break;default:Ps(m,2)}}}function ko(m,v){let N=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(N*=2),N*v}function Ps(m,v){if(m.j.info("Error code "+v),v==2){var N=w(m.fb,m),B=m.Xa;const W=!B;B=new Yt(B||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ii(B,"https"),li(B),W?ci(B.toString(),N):zr(B.toString(),N)}else Tt(2);m.G=0,m.l&&m.l.sa(v),ju(m),_u(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function ju(m){if(m.G=0,m.ka=[],m.l){const v=bo(m.h);(v.length!=0||m.i.length!=0)&&(z(m.ka,v),z(m.ka,m.i),m.h.i.length=0,M(m.i),m.i.length=0),m.l.ra()}}function Au(m,v,N){var B=N instanceof Yt?rr(N):new Yt(N);if(B.g!="")v&&(B.g=v+"."+B.g),la(B,B.s);else{var W=f.location;B=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var ce=new Yt(null);B&&ii(ce,B),v&&(ce.g=v),W&&la(ce,W),N&&(ce.l=N),B=ce}return N=m.D,v=m.ya,N&&v&&xt(B,N,v),xt(B,"VER",m.la),mi(m,B),B}function ku(m,v,N){if(v&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=m.Ca&&!m.pa?new ht(new oa({eb:N})):new ht(m.pa),v.Ha(m.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}t=Cu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ll(){}ll.prototype.g=function(m,v){return new Un(m,v)};function Un(m,v){le.call(this),this.g=new rl(v),this.l=m,this.h=v&&v.messageUrlParams||null,m=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(m?m["X-WebChannel-Content-Type"]=v.messageContentType:m={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(m?m["X-WebChannel-Client-Profile"]=v.va:m={"X-WebChannel-Client-Profile":v.va}),this.g.S=m,(m=v&&v.Sb)&&!D(m)&&(this.g.m=m),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.D=v,m=this.h,m!==null&&v in m&&(m=this.h,v in m&&delete m[v])),this.j=new os(this)}C(Un,le),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){So(this.g)},Un.prototype.o=function(m){var v=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.u&&(N={},N.__data__=rn(m),m=N);v.i.push(new xu(v.Ya++,m)),v.G==3&&al(v)},Un.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,Un.aa.N.call(this)};function Du(m){Vr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var v=m.__sm__;if(v){e:{for(const N in v){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,v=v!==null&&m in v?v[m]:void 0),this.data=v}else this.data=m}C(Du,Vr);function Ru(){Wa.call(this),this.status=1}C(Ru,Wa);function os(m){this.g=m}C(os,Cu),os.prototype.ua=function(){ge(this.g,"a")},os.prototype.ta=function(m){ge(this.g,new Du(m))},os.prototype.sa=function(m){ge(this.g,new Ru)},os.prototype.ra=function(){ge(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,$2=function(){return new ll},q2=function(){return Jr()},F2=gr,B0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,Fd=xr,ks.COMPLETE="complete",B2=ks,Ja.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",le.prototype.listen=le.prototype.K,Ec=Ja,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,U2=ht}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});const S1="@firebase/firestore",j1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new I2("@firebase/firestore");function zl(){return Ui.logLevel}function Ae(t,...e){if(Ui.logLevel<=it.DEBUG){const n=e.map(Op);Ui.debug(`Firestore (${lo}): ${t}`,...n)}}function ta(t,...e){if(Ui.logLevel<=it.ERROR){const n=e.map(Op);Ui.error(`Firestore (${lo}): ${t}`,...n)}}function Jl(t,...e){if(Ui.logLevel<=it.WARN){const n=e.map(Op);Ui.warn(`Firestore (${lo}): ${t}`,...n)}}function Op(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,H2(t,s,n)}function H2(t,e,n){let s=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ta(s),new Error(s)}function mt(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||H2(e,i,s)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends io{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Mn.UNAUTHENTICATED)))}shutdown(){}}class mS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pS{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let s=this.i;const i=h=>this.i!==s?(s=this.i,n(h)):Promise.resolve();let c=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ws,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const h=c;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},f=h=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ws)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(mt(typeof s.accessToken=="string",31837,{l:s}),new Y2(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class gS{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xS{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new gS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,JT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const s=c=>{c.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const i=c=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>i(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?i(c):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=bS(40);for(let c=0;c<i.length;++c)s.length<20&&i[c]<n&&(s+=e.charAt(i[c]%62))}return s}}function We(t,e){return t<e?-1:t>e?1:0}function F0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),c=e.charAt(s);if(i!==c)return r0(i)===r0(c)?We(i,c):r0(i)?1:-1}return We(t.length,e.length)}const vS=55296,wS=57343;function r0(t){const e=t.charCodeAt(0);return e>=vS&&e<=wS}function Wl(t,e,n){return t.length===e.length&&t.every(((s,i)=>n(s,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="__name__";class gs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Le(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const c=gs.compareSegments(e.get(i),n.get(i));if(c!==0)return c}return We(e.length,n.length)}static compareSegments(e,n){const s=gs.isNumericId(e),i=gs.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?gs.extractNumericId(e).compare(gs.extractNumericId(n)):F0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pa.fromString(e.substring(4,e.length-2))}}class At extends gs{construct(e,n,s){return new At(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new je(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((i=>i.length>0)))}return new At(n)}static emptyPath(){return new At([])}}const _S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends gs{construct(e,n,s){return new jn(e,n,s)}static isValidIdentifier(e){return _S.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k1}static keyField(){return new jn([k1])}static fromServerFormat(e){const n=[];let s="",i=0;const c=()=>{if(s.length===0)throw new je(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new je(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new je(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=h,i+=2}else f==="`"?(u=!u,i++):f!=="."||u?(s+=f,i++):(c(),i++)}if(c(),u)throw new je(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(n)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(At.fromString(e))}static fromName(e){return new Ie(At.fromString(e).popFirst(5))}static empty(){return new Ie(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e,n){if(!n)throw new je(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NS(t,e,n,s){if(e===!0&&s===!0)throw new je(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C1(t){if(!Ie.isDocumentKey(t))throw new je(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function D1(t){if(Ie.isDocumentKey(t))throw new je(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Q2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _f(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_f(t);throw new je(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wc(t,e){if(!Q2(t))throw new je(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(i&&typeof u!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new je(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=-62135596800,I1=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*I1);return new kt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<R1)throw new je(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I1}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wc(e,kt._jsonSchema))return new kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:Wt("string",kt._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new kt(0,0))}static max(){return new Ue(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=-1;function ES(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(s===1e9?new kt(n+1,0):new kt(n,s));return new Ba(i,Ie.empty(),e)}function TS(t){return new Ba(t.readTime,t.key,Uc)}class Ba{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ba(Ue.min(),Ie.empty(),Uc)}static max(){return new Ba(Ue.max(),Ie.empty(),Uc)}}function SS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==jS)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((s,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,i)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,s)=>{n(e)}))}static reject(e){return new ye(((n,s)=>{s(e)}))}static waitFor(e){return new ye(((n,s)=>{let i=0,c=0,u=!1;e.forEach((f=>{++i,f.next((()=>{++c,u&&c===i&&n()}),(h=>s(h)))})),u=!0,c===i&&n()}))}static or(e){let n=ye.resolve(!1);for(const s of e)n=n.next((i=>i?ye.resolve(i):s()));return n}static forEach(e,n){const s=[];return e.forEach(((i,c)=>{s.push(n.call(this,i,c))})),this.waitFor(s)}static mapArray(e,n){return new ye(((s,i)=>{const c=e.length,u=new Array(c);let f=0;for(let h=0;h<c;h++){const p=h;n(e[p]).next((x=>{u[p]=x,++f,f===c&&s(u)}),(x=>i(x)))}}))}static doWhile(e,n){return new ye(((s,i)=>{const c=()=>{e()===!0?n().next((()=>{c()}),i):s()};c()}))}}function kS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function Ef(t){return t==null}function Wd(t){return t===0&&1/t==-1/0}function CS(t){return typeof t=="number"&&Number.isInteger(t)&&!Wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="";function DS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=M1(e)),e=RS(t.get(n),e);return M1(e)}function RS(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const c=t.charAt(i);switch(c){case"\0":n+="";break;case X2:n+="";break;default:n+=c}}return n}function M1(t){return t+X2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function K2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Md(this.root,e,this.comparator,!1)}getReverseIterator(){return new Md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Md(this.root,e,this.comparator,!0)}}class Md{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,s,i,c){this.key=e,this.value=n,this.color=s??Sn.RED,this.left=i??Sn.EMPTY,this.right=c??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,c){return new Sn(e??this.key,n??this.value,s??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const c=s(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,n,s),null):c===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Sn.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,s,i,c){return this}insert(e,n,s){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V1(this.data.getIterator())}getIteratorFrom(e){return new V1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,c=s.getNext().key;if(this.comparator(i,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class V1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new hr([])}unionWith(e){let n=new un(jn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Z2("Invalid base64 string: "+c):c}})(e);return new An(n)}static fromUint8Array(e){const n=(function(i){let c="";for(let u=0;u<i.length;++u)c+=String.fromCharCode(i[u]);return c})(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const IS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=IS.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qa(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="server_timestamp",W2="__type__",ew="__previous_value__",tw="__local_write_time__";function Lp(t){return(t?.mapValue?.fields||{})[W2]?.stringValue===J2}function Tf(t){const e=t.mapValue.fields[ew];return Lp(e)?Tf(e):e}function Bc(t){const e=Fa(t.mapValue.fields[tw].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,s,i,c,u,f,h,p,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=x}}const ef="(default)";class Fc{constructor(e,n){this.projectId=e,this.database=n||ef}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database===ef}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="__type__",OS="__max__",Od={mapValue:{}},rw="__vector__",tf="value";function $a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lp(t)?4:PS(t)?9007199254740991:VS(t)?10:11:Le(28295,{value:t})}function Ts(t,e){if(t===e)return!0;const n=$a(t);if(n!==$a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bc(t).isEqual(Bc(e));case 3:return(function(i,c){if(typeof i.timestampValue=="string"&&typeof c.timestampValue=="string"&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const u=Fa(i.timestampValue),f=Fa(c.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,c){return qa(i.bytesValue).isEqual(qa(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,c){return Ht(i.geoPointValue.latitude)===Ht(c.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(c.geoPointValue.longitude)})(t,e);case 2:return(function(i,c){if("integerValue"in i&&"integerValue"in c)return Ht(i.integerValue)===Ht(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const u=Ht(i.doubleValue),f=Ht(c.doubleValue);return u===f?Wd(u)===Wd(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Wl(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return(function(i,c){const u=i.mapValue.fields||{},f=c.mapValue.fields||{};if(O1(u)!==O1(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Ts(u[h],f[h])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function qc(t,e){return(t.values||[]).find((n=>Ts(n,e)))!==void 0}function eo(t,e){if(t===e)return 0;const n=$a(t),s=$a(e);if(n!==s)return We(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(c,u){const f=Ht(c.integerValue||c.doubleValue),h=Ht(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(t,e);case 3:return P1(t.timestampValue,e.timestampValue);case 4:return P1(Bc(t),Bc(e));case 5:return F0(t.stringValue,e.stringValue);case 6:return(function(c,u){const f=qa(c),h=qa(u);return f.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(c,u){const f=c.split("/"),h=u.split("/");for(let p=0;p<f.length&&p<h.length;p++){const x=We(f[p],h[p]);if(x!==0)return x}return We(f.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,u){const f=We(Ht(c.latitude),Ht(u.latitude));return f!==0?f:We(Ht(c.longitude),Ht(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return L1(t.arrayValue,e.arrayValue);case 10:return(function(c,u){const f=c.fields||{},h=u.fields||{},p=f[tf]?.arrayValue,x=h[tf]?.arrayValue,b=We(p?.values?.length||0,x?.values?.length||0);return b!==0?b:L1(p,x)})(t.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Od.mapValue&&u===Od.mapValue)return 0;if(c===Od.mapValue)return 1;if(u===Od.mapValue)return-1;const f=c.fields||{},h=Object.keys(f),p=u.fields||{},x=Object.keys(p);h.sort(),x.sort();for(let b=0;b<h.length&&b<x.length;++b){const w=F0(h[b],x[b]);if(w!==0)return w;const _=eo(f[h[b]],p[x[b]]);if(_!==0)return _}return We(h.length,x.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function P1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Fa(t),s=Fa(e),i=We(n.seconds,s.seconds);return i!==0?i:We(n.nanos,s.nanos)}function L1(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const c=eo(n[i],s[i]);if(c)return c}return We(n.length,s.length)}function to(t){return q0(t)}function q0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Fa(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",i=!0;for(const c of n.values||[])i?i=!1:s+=",",s+=q0(c);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let i="{",c=!0;for(const u of s)c?c=!1:i+=",",i+=`${u}:${q0(n.fields[u])}`;return i+"}"})(t.mapValue):Le(61005,{value:t})}function qd(t){switch($a(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(t);return e?16+qd(e):16;case 5:return 2*t.stringValue.length;case 6:return qa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((i,c)=>i+qd(c)),0)})(t.arrayValue);case 10:case 11:return(function(s){let i=0;return Ga(s.fields,((c,u)=>{i+=c.length+qd(u)})),i})(t.mapValue);default:throw Le(13486,{value:t})}}function z1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $0(t){return!!t&&"integerValue"in t}function zp(t){return!!t&&"arrayValue"in t}function U1(t){return!!t&&"nullValue"in t}function B1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $d(t){return!!t&&"mapValue"in t}function VS(t){return(t?.mapValue?.fields||{})[nw]?.stringValue===rw}function Cc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ga(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Cc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cc(t.arrayValue.values[n]);return e}return{...t}}function PS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(n)}setAll(e){let n=jn.emptyPath(),s={},i=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,s,i),s={},i=[],n=f.popLast()}u?s[f.lastSegment()]=Cc(u):i.push(f.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,i)}delete(e){const n=this.field(e.popLast());$d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];$d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Ga(n,((i,c)=>e[i]=c));for(const i of s)delete e[i]}clone(){return new Wn(Cc(this.value))}}function sw(t){const e=[];return Ga(t.fields,((n,s)=>{const i=new jn([n]);if($d(s)){const c=sw(s.mapValue).fields;if(c.length===0)e.push(i);else for(const u of c)e.push(i.child(u))}else e.push(i)})),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,s,i,c,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=c,this.data=u,this.documentState=f}static newInvalidDocument(e){return new On(e,0,Ue.min(),Ue.min(),Ue.min(),Wn.empty(),0)}static newFoundDocument(e,n,s,i){return new On(e,1,n,Ue.min(),s,i,0)}static newNoDocument(e,n){return new On(e,2,n,Ue.min(),Ue.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Ue.min(),Ue.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.position=e,this.inclusive=n}}function F1(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const c=e[i],u=t.position[i];if(c.field.isKeyField()?s=Ie.comparator(Ie.fromName(u.referenceValue),n.key):s=eo(u,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function q1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n="asc"){this.field=e,this.dir=n}}function LS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{}class Jt extends aw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new US(e,n,s):n==="array-contains"?new qS(e,s):n==="in"?new $S(e,s):n==="not-in"?new HS(e,s):n==="array-contains-any"?new YS(e,s):new Jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new BS(e,s):new FS(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&$a(this.value)===$a(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends aw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xr(e,n)}matches(e){return iw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iw(t){return t.op==="and"}function lw(t){return zS(t)&&iw(t)}function zS(t){for(const e of t.filters)if(e instanceof Xr)return!1;return!0}function H0(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+to(t.value);if(lw(t))return t.filters.map((e=>H0(e))).join(",");{const e=t.filters.map((n=>H0(n))).join(",");return`${t.op}(${e})`}}function ow(t,e){return t instanceof Jt?(function(s,i){return i instanceof Jt&&s.op===i.op&&s.field.isEqual(i.field)&&Ts(s.value,i.value)})(t,e):t instanceof Xr?(function(s,i){return i instanceof Xr&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce(((c,u,f)=>c&&ow(u,i.filters[f])),!0):!1})(t,e):void Le(19439)}function cw(t){return t instanceof Jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`})(t):t instanceof Xr?(function(n){return n.op.toString()+" {"+n.getFilters().map(cw).join(" ,")+"}"})(t):"Filter"}class US extends Jt{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class BS extends Jt{constructor(e,n){super(e,"in",n),this.keys=uw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class FS extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=uw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uw(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class qS extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zp(n)&&qc(n.arrayValue,this.value)}}class $S extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}}class HS extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qc(this.value.arrayValue,n)}}class YS extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>qc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n=null,s=[],i=[],c=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=c,this.startAt=u,this.endAt=f,this.Te=null}}function $1(t,e=null,n=[],s=[],i=null,c=null,u=null){return new GS(t,e,n,s,i,c,u)}function Up(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>H0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>to(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>to(s))).join(",")),e.Te=n}return e.Te}function Bp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ow(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q1(t.startAt,e.startAt)&&q1(t.endAt,e.endAt)}function Y0(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n=null,s=[],i=[],c=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=c,this.limitType=u,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QS(t,e,n,s,i,c,u,f){return new uo(t,e,n,s,i,c,u,f)}function Sf(t){return new uo(t)}function H1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dw(t){return t.collectionGroup!==null}function Dc(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new un(jn.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new $c(c,s))})),n.has(jn.keyField().canonicalString())||e.Ie.push(new $c(jn.keyField(),s))}return e.Ie}function bs(t){const e=Be(t);return e.Ee||(e.Ee=XS(e,Dc(t))),e.Ee}function XS(t,e){if(t.limitType==="F")return $1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const c=i.dir==="desc"?"asc":"desc";return new $c(i.field,c)}));const n=t.endAt?new nf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new nf(t.startAt.position,t.startAt.inclusive):null;return $1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function G0(t,e){const n=t.filters.concat([e]);return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Q0(t,e,n){return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jf(t,e){return Bp(bs(t),bs(e))&&t.limitType===e.limitType}function fw(t){return`${Up(bs(t))}|lt:${t.limitType}`}function Ul(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((i=>cw(i))).join(", ")}]`),Ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((i=>to(i))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((i=>to(i))).join(",")),`Target(${s})`})(bs(t))}; limitType=${t.limitType})`}function Af(t,e){return e.isFoundDocument()&&(function(s,i){const c=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ie.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(t,e)&&(function(s,i){for(const c of Dc(s))if(!c.field.isKeyField()&&i.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(s,i){for(const c of s.filters)if(!c.matches(i))return!1;return!0})(t,e)&&(function(s,i){return!(s.startAt&&!(function(u,f,h){const p=F1(u,f,h);return u.inclusive?p<=0:p<0})(s.startAt,Dc(s),i)||s.endAt&&!(function(u,f,h){const p=F1(u,f,h);return u.inclusive?p>=0:p>0})(s.endAt,Dc(s),i))})(t,e)}function KS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hw(t){return(e,n)=>{let s=!1;for(const i of Dc(t)){const c=ZS(i,e,n);if(c!==0)return c;s=s||i.field.isKeyField()}return 0}}function ZS(t,e,n){const s=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(c,u,f){const h=u.data.field(c),p=f.data.field(c);return h!==null&&p!==null?eo(h,p):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,c]of s)if(this.equalsFn(i,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,((n,s)=>{for(const[i,c]of s)e(i,c)}))}isEmpty(){return K2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Vt(Ie.comparator);function na(){return JS}const mw=new Vt(Ie.comparator);function Tc(...t){let e=mw;for(const n of t)e=e.insert(n.key,n);return e}function pw(t){let e=mw;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Oi(){return Rc()}function gw(){return Rc()}function Rc(){return new Hi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const WS=new Vt(Ie.comparator),e6=new un(Ie.comparator);function et(...t){let e=e6;for(const n of t)e=e.add(n);return e}const t6=new un(We);function n6(){return t6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function xw(t){return{integerValue:""+t}}function r6(t,e){return CS(e)?xw(e):Fp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this._=void 0}}function s6(t,e,n){return t instanceof Hc?(function(i,c){const u={fields:{[W2]:{stringValue:J2},[tw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&Lp(c)&&(c=Tf(c)),c&&(u.fields[ew]=c),{mapValue:u}})(n,e):t instanceof Yc?bw(t,e):t instanceof Gc?vw(t,e):(function(i,c){const u=yw(i,c),f=Y1(u)+Y1(i.Ae);return $0(u)&&$0(i.Ae)?xw(f):Fp(i.serializer,f)})(t,e)}function a6(t,e,n){return t instanceof Yc?bw(t,e):t instanceof Gc?vw(t,e):n}function yw(t,e){return t instanceof rf?(function(s){return $0(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Hc extends kf{}class Yc extends kf{constructor(e){super(),this.elements=e}}function bw(t,e){const n=ww(e);for(const s of t.elements)n.some((i=>Ts(i,s)))||n.push(s);return{arrayValue:{values:n}}}class Gc extends kf{constructor(e){super(),this.elements=e}}function vw(t,e){let n=ww(e);for(const s of t.elements)n=n.filter((i=>!Ts(i,s)));return{arrayValue:{values:n}}}class rf extends kf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Y1(t){return Ht(t.integerValue||t.doubleValue)}function ww(t){return zp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.field=e,this.transform=n}}function l6(t,e){return t.field.isEqual(e.field)&&(function(s,i){return s instanceof Yc&&i instanceof Yc||s instanceof Gc&&i instanceof Gc?Wl(s.elements,i.elements,Ts):s instanceof rf&&i instanceof rf?Ts(s.Ae,i.Ae):s instanceof Hc&&i instanceof Hc})(t.transform,e.transform)}class o6{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cf{}function _w(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Df(t.key,Hn.none()):new eu(t.key,t.data,Hn.none());{const n=t.data,s=Wn.empty();let i=new un(jn.comparator);for(let c of e.fields)if(!i.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?s.delete(c):s.set(c,u),i=i.add(c)}return new Qa(t.key,s,new hr(i.toArray()),Hn.none())}}function c6(t,e,n){t instanceof eu?(function(i,c,u){const f=i.value.clone(),h=Q1(i.fieldTransforms,c,u.transformResults);f.setAll(h),c.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Qa?(function(i,c,u){if(!Hd(i.precondition,c))return void c.convertToUnknownDocument(u.version);const f=Q1(i.fieldTransforms,c,u.transformResults),h=c.data;h.setAll(Nw(i)),h.setAll(f),c.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):(function(i,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Ic(t,e,n,s){return t instanceof eu?(function(c,u,f,h){if(!Hd(c.precondition,u))return f;const p=c.value.clone(),x=X1(c.fieldTransforms,h,u);return p.setAll(x),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Qa?(function(c,u,f,h){if(!Hd(c.precondition,u))return f;const p=X1(c.fieldTransforms,h,u),x=u.data;return x.setAll(Nw(c)),x.setAll(p),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(c,u,f){return Hd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function u6(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),c=yw(s.transform,i||null);c!=null&&(n===null&&(n=Wn.empty()),n.set(s.field,c))}return n||null}function G1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Wl(s,i,((c,u)=>l6(c,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class eu extends Cf{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qa extends Cf{constructor(e,n,s,i,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Nw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Q1(t,e,n){const s=new Map;mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const c=t[i],u=c.transform,f=e.data.field(c.field);s.set(c.field,a6(u,f,n[i]))}return s}function X1(t,e,n){const s=new Map;for(const i of t){const c=i.transform,u=n.data.field(i.field);s.set(i.field,s6(c,u,e))}return s}class Df extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d6 extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&c6(c,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ic(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ic(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gw();return this.mutations.forEach((i=>{const c=e.get(i.key),u=c.overlayedDocument;let f=this.applyToLocalView(u,c.mutatedFields);f=n.has(i.key)?null:f;const h=_w(u,f);h!==null&&s.set(i.key,h),u.isValidDocument()||u.convertToNoDocument(Ue.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,((n,s)=>G1(n,s)))&&Wl(this.baseMutations,e.baseMutations,((n,s)=>G1(n,s)))}}class qp{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){mt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=(function(){return WS})();const c=e.mutations;for(let u=0;u<c.length;u++)i=i.insert(c[u].key,s[u].version);return new qp(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,at;function p6(t){switch(t){case he.OK:return Le(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function Ew(t){if(t===void 0)return ta("GRPC error has no .code"),he.UNKNOWN;switch(t){case Xt.OK:return he.OK;case Xt.CANCELLED:return he.CANCELLED;case Xt.UNKNOWN:return he.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return he.INTERNAL;case Xt.UNAVAILABLE:return he.UNAVAILABLE;case Xt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Xt.NOT_FOUND:return he.NOT_FOUND;case Xt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Xt.ABORTED:return he.ABORTED;case Xt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Xt.DATA_LOSS:return he.DATA_LOSS;default:return Le(39323,{code:t})}}(at=Xt||(Xt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new Pa([4294967295,4294967295],0);function K1(t){const e=g6().encode(t),n=new z2;return n.update(e),new Uint8Array(n.digest())}function Z1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Pa([n,s],0),new Pa([i,c],0)]}class $p{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Sc(`Invalid padding: ${n}`);if(s<0)throw new Sc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pa.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(Pa.fromNumber(s)));return i.compare(x6)===1&&(i=new Pa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=K1(e),[s,i]=Z1(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,i,c);if(!this.we(u))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new $p(c,i,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=K1(e),[s,i]=Z1(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,i,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,s,i,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Rf(Ue.min(),i,new Vt(We),na(),et())}}class tu{constructor(e,n,s,i,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new tu(s,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,s,i){this.be=e,this.removedTargetIds=n,this.key=s,this.De=i}}class Tw{constructor(e,n){this.targetId=e,this.Ce=n}}class Sw{constructor(e,n,s=An.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class J1{constructor(){this.ve=0,this.Fe=W1(),this.Me=An.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),s=et();return this.Fe.forEach(((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:Le(38017,{changeType:c})}})),new tu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=W1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class y6{constructor(e){this.Ge=e,this.ze=new Map,this.je=na(),this.Je=Vd(),this.He=Vd(),this.Ye=new Vt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const c=i.target;if(Y0(c))if(s===0){const u=new Ie(c.path);this.et(n,u,On.newNoDocument(u,Ue.min()))}else mt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),h=f?this.ct(f,e,u):1;if(h!==0){this.it(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:c=0}=n;let u,f;try{u=qa(s).toUint8Array()}catch(h){if(h instanceof Z2)return Jl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new $p(u,i,c)}catch(h){return Jl(h instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach((c=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.et(n,c,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const f=this.ot(u);if(f){if(c.current&&Y0(f.target)){const h=new Ie(f.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,On.newNoDocument(h,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let s=et();this.He.forEach(((c,u)=>{let f=!0;u.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const i=new Rf(e,n,this.Ye,this.je,s);return this.je=na(),this.Je=Vd(),this.He=Vd(),this.Ye=new Vt(We),i}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new J1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vd(){return new Vt(Ie.comparator)}function W1(){return new Vt(Ie.comparator)}const b6={asc:"ASCENDING",desc:"DESCENDING"},v6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w6={and:"AND",or:"OR"};class _6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function X0(t,e){return t.useProto3Json||Ef(e)?e:{value:e}}function sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N6(t,e){return sf(t,e.toTimestamp())}function vs(t){return mt(!!t,49232),Ue.fromTimestamp((function(n){const s=Fa(n);return new kt(s.seconds,s.nanos)})(t))}function Hp(t,e){return K0(t,e).canonicalString()}function K0(t,e){const n=(function(i){return new At(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Aw(t){const e=At.fromString(t);return mt(Iw(e),10190,{key:e.toString()}),e}function Z0(t,e){return Hp(t.databaseId,e.path)}function s0(t,e){const n=Aw(e);if(n.get(1)!==t.databaseId.projectId)throw new je(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(Cw(n))}function kw(t,e){return Hp(t.databaseId,e)}function E6(t){const e=Aw(t);return e.length===4?At.emptyPath():Cw(e)}function J0(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cw(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ev(t,e,n){return{name:Z0(t,e),fields:n.value.mapValue.fields}}function T6(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],c=(function(p,x){return p.useProto3Json?(mt(x===void 0||typeof x=="string",58123),An.fromBase64String(x||"")):(mt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),An.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const x=p.code===void 0?he.UNKNOWN:Ew(p.code);return new je(x,p.message||"")})(u);n=new Sw(s,i,c,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=s0(t,s.document.name),c=vs(s.document.updateTime),u=s.document.createTime?vs(s.document.createTime):Ue.min(),f=new Wn({mapValue:{fields:s.document.fields}}),h=On.newFoundDocument(i,c,u,f),p=s.targetIds||[],x=s.removedTargetIds||[];n=new Yd(p,x,h.key,h)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=s0(t,s.document),c=s.readTime?vs(s.readTime):Ue.min(),u=On.newNoDocument(i,c),f=s.removedTargetIds||[];n=new Yd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=s0(t,s.document),c=s.removedTargetIds||[];n=new Yd([],c,i,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:c}=s,u=new m6(i,c),f=s.targetId;n=new Tw(f,u)}}return n}function S6(t,e){let n;if(e instanceof eu)n={update:ev(t,e.key,e.value)};else if(e instanceof Df)n={delete:Z0(t,e.key)};else if(e instanceof Qa)n={update:ev(t,e.key,e.data),updateMask:O6(e.fieldMask)};else{if(!(e instanceof d6))return Le(16599,{Vt:e.type});n={verify:Z0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const f=u.transform;if(f instanceof Hc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Yc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Gc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof rf)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Le(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(i,c){return c.updateTime!==void 0?{updateTime:N6(i,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Le(27497)})(t,e.precondition)),n}function j6(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map((n=>(function(i,c){let u=i.updateTime?vs(i.updateTime):vs(c);return u.isEqual(Ue.min())&&(u=vs(c)),new o6(u,i.transformResults||[])})(n,e)))):[]}function A6(t,e){return{documents:[kw(t,e.path)]}}function k6(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kw(t,i);const c=(function(p){if(p.length!==0)return Rw(Xr.create(p,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(p){if(p.length!==0)return p.map((x=>(function(w){return{field:Bl(w.field),direction:R6(w.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=X0(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function C6(t){let e=E6(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){mt(s===1,65062);const x=n.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(b){const w=Dw(b);return w instanceof Xr&&lw(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((w=>(function(C){return new $c(Fl(C.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let w;return w=typeof b=="object"?b.value:b,Ef(w)?null:w})(n.limit));let h=null;n.startAt&&(h=(function(b){const w=!!b.before,_=b.values||[];return new nf(_,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,_=b.values||[];return new nf(_,w)})(n.endAt)),QS(e,i,u,c,f,"F",h,p)}function D6(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Dw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fl(n.unaryFilter.field);return Jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Fl(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fl(n.unaryFilter.field);return Jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fl(n.unaryFilter.field);return Jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Jt.create(Fl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Xr.create(n.compositeFilter.filters.map((s=>Dw(s))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function R6(t){return b6[t]}function I6(t){return v6[t]}function M6(t){return w6[t]}function Bl(t){return{fieldPath:t.canonicalString()}}function Fl(t){return jn.fromServerFormat(t.fieldPath)}function Rw(t){return t instanceof Jt?(function(n){if(n.op==="=="){if(B1(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NAN"}};if(U1(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B1(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NAN"}};if(U1(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(n.field),op:I6(n.op),value:n.value}}})(t):t instanceof Xr?(function(n){const s=n.getFilters().map((i=>Rw(i)));return s.length===1?s[0]:{compositeFilter:{op:M6(n.op),filters:s}}})(t):Le(54877,{filter:t})}function O6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Iw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,s,i,c=Ue.min(),u=Ue.min(),f=An.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.yt=e}}function P6(t){const e=C6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Q0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.Cn=new z6}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Ba.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Ba.min())}updateCollectionGroup(e,n,s){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class z6{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new un(At.comparator),c=!i.has(s);return this.index[n]=i.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new un(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mw=41943040;class Jn{static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(Mw,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new no(0)}static cr(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LruGarbageCollector",U6=1048576;function rv([t,e],[n,s]){const i=We(t,n);return i===0?We(e,s):i}class B6{constructor(e){this.Ir=e,this.buffer=new un(rv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();rv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F6{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?Ae(nv,"Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Vr(3e5)}))}}class q6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(Nf.ce);const s=new B6(n);return this.mr.forEachTarget(e,(i=>s.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>s.Ar(i))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(tv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,i,c,u,f,h,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,u=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,h=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),zl()<=it.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${i} in `+(f-u)+`ms
	Removed ${c} targets in `+(h-f)+`ms
	Removed ${b} documents in `+(p-h)+`ms
Total Duration: ${p-x}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:b}))))}}function $6(t,e){return new q6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this.changes=new Hi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ye.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(s=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(s!==null&&Ic(s.mutation,i,hr.empty(),kt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,et()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=et()){const i=Oi();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,s).next((c=>{let u=Tc();return c.forEach(((f,h)=>{u=u.insert(f,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Oi();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,et())))}populateOverlays(e,n,s){const i=[];return s.forEach((c=>{n.has(c)||i.push(c)})),this.documentOverlayCache.getOverlays(e,i).next((c=>{c.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,i){let c=na();const u=Rc(),f=(function(){return Rc()})();return n.forEach(((h,p)=>{const x=s.get(p.key);i.has(p.key)&&(x===void 0||x.mutation instanceof Qa)?c=c.insert(p.key,p):x!==void 0?(u.set(p.key,x.mutation.getFieldMask()),Ic(x.mutation,p,x.mutation.getFieldMask(),kt.now())):u.set(p.key,hr.empty())})),this.recalculateAndSaveOverlays(e,c).next((h=>(h.forEach(((p,x)=>u.set(p,x))),n.forEach(((p,x)=>f.set(p,new Y6(x,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Rc();let i=new Vt(((u,f)=>u-f)),c=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let x=s.get(h)||hr.empty();x=f.applyToLocalView(p,x),s.set(h,x);const b=(i.get(f.batchId)||et()).add(h);i=i.insert(f.batchId,b)}))})).next((()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,x=h.value,b=gw();x.forEach((w=>{if(!c.has(w)){const _=_w(n.get(w),s.get(w));_!==null&&b.set(w,_),c=c.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ye.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,i){return(function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next((c=>{const u=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-c.size):ye.resolve(Oi());let f=Uc,h=c;return u.next((p=>ye.forEach(p,((x,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),c.get(x)?ye.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{h=h.insert(x,w)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,h,p,et()))).next((x=>({batchId:f,changes:pw(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let i=Tc();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const c=n.collectionGroup;let u=Tc();return this.indexManager.getCollectionParents(e,c).next((f=>ye.forEach(f,(h=>{const p=(function(b,w){return new uo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,h.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,i).next((x=>{x.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,i)))).next((u=>{c.forEach(((h,p)=>{const x=p.getKey();u.get(x)===null&&(u=u.insert(x,On.newInvalidDocument(x)))}));let f=Tc();return u.forEach(((h,p)=>{const x=c.get(h);x!==void 0&&Ic(x.mutation,p,hr.empty(),kt.now()),Af(n,p)&&(f=f.insert(h,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ye.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:vs(i.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:P6(i.bundledQuery),readTime:vs(i.readTime)}})(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.overlays=new Vt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Oi();return ye.forEach(n,(i=>this.getOverlay(e,i).next((c=>{c!==null&&s.set(i,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((i,c)=>{this.St(e,n,c)})),ye.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ye.resolve()}getOverlaysForCollection(e,n,s){const i=Oi(),c=n.length+1,u=new Ie(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&h.largestBatchId>s&&i.set(h.getKey(),h)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let c=new Vt(((p,x)=>p-x));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let x=c.get(p.largestBatchId);x===null&&(x=Oi(),c=c.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const f=Oi(),h=c.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,x)=>f.set(p,x))),!(f.size()>=i)););return ye.resolve(f)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new h6(n,s));let c=this.qr.get(n);c===void 0&&(c=et(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.Qr=new un(xn.$r),this.Ur=new un(xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new xn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new xn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ie(new At([])),s=new xn(n,e),i=new xn(n,e+1),c=[];return this.Ur.forEachInRange([s,i],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new At([])),s=new xn(n,e),i=new xn(n,e+1);let c=et();return this.Ur.forEachInRange([s,i],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new xn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class xn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(xn.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new f6(c,n,s,i);this.mutationQueue.push(u);for(const f of i)this.Zr=this.Zr.add(new xn(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,n){return ye.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ei(s),c=i<0?0:i;return ye.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?Pp:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new xn(n,0),i=new xn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,i],(u=>{const f=this.Xr(u.Yr);c.push(f)})),ye.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new un(We);return n.forEach((i=>{const c=new xn(i,0),u=new xn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(f=>{s=s.add(f.Yr)}))})),ye.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let c=s;Ie.isDocumentKey(c)||(c=c.child(""));const u=new xn(new Ie(c),0);let f=new un(We);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!s.isPrefixOf(p)&&(p.length===i&&(f=f.add(h.Yr)),!0)}),u),ye.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const i=this.Xr(s);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ye.forEach(n.mutations,(i=>{const c=new xn(i.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new xn(n,0),i=this.Zr.firstAfterOrEqual(s);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.ri=e,this.docs=(function(){return new Vt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),c=i?i.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ye.resolve(s?s.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let s=na();return n.forEach((i=>{const c=this.docs.get(i);s=s.insert(i,c?c.document.mutableCopy():On.newInvalidDocument(i))})),ye.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let c=na();const u=n.path,f=new Ie(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:x}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||SS(TS(x),s)<=0||(i.has(x.key)||Af(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ye.resolve(c)}getAllFromCollectionGroup(e,n,s,i){Le(9500)}ii(e,n){return ye.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new W6(this)}getSize(e){return ye.resolve(this.size)}}class W6 extends H6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)})),ye.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this.persistence=e,this.si=new Hi((n=>Up(n)),Bp),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=no.ur()}forEachTarget(e,n){return this.si.forEach(((s,i)=>n(i))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ye.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new no(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Pr(n),ye.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,s){let i=0;const c=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)})),ye.waitFor(c).next((()=>i))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ye.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ye.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const i=this.persistence.referenceDelegate,c=[];return i&&n.forEach((u=>{c.push(i.markPotentiallyOrphaned(e,u))})),ye.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ye.resolve(s)}containsKey(e,n){return ye.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nf(0),this.li=!1,this.li=!0,this.hi=new K6,this.referenceDelegate=e(this),this.Pi=new ej(this),this.indexManager=new L6,this.remoteDocumentCache=(function(i){return new J6(i)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new V6(n),this.Ii=new Q6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Z6(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Ae("MemoryPersistence","Starting transaction:",e);const i=new tj(this.ci.next());return this.referenceDelegate.Ei(),s(i).next((c=>this.referenceDelegate.di(i).next((()=>c)))).toPromise().then((c=>(i.raiseOnCommittedEvent(),c)))}Ai(e,n){return ye.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class tj extends AS{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Vi=null}static mi(e){return new Gp(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ye.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,(s=>{const i=Ie.fromPath(s);return this.gi(e,i).next((c=>{c||n.removeEntry(i,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class af{constructor(e,n){this.persistence=e,this.pi=new Hi((s=>DS(s.path)),((s,i)=>s.isEqual(i))),this.garbageCollector=$6(this,n)}static mi(e,n){return new af(e,n)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((i=>s+i))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ye.forEach(this.pi,((s,i)=>this.br(e,s,i).next((c=>c?ye.resolve():n(i)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),c=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,n).next((f=>{f||(s++,c.removeEntry(u,Ue.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qd(e.data.value)),n}br(e,n,s){return ye.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ye.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=i}static As(e,n){let s=et(),i=et();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new Qp(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return X3()?8:kS(G3())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,i,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new nj;return this.Ss(e,n,u).next((f=>{if(c.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>c.result))}bs(e,n,s,i){return s.documentReadCount<this.fs?(zl()<=it.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(zl()<=it.DEBUG&&Ae("QueryEngine","Query:",Ul(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(zl()<=it.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):ye.resolve())}ys(e,n){if(H1(n))return ye.resolve(null);let s=bs(n);return this.indexManager.getIndexType(e,s).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Q0(n,null,"F"),s=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=et(...c);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((h=>{const p=this.Ds(n,f);return this.Cs(n,p,u,h.readTime)?this.ys(e,Q0(n,null,"F")):this.vs(e,p,n,h)}))))})))))}ws(e,n,s,i){return H1(n)||i.isEqual(Ue.min())?ye.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,s,i)?ye.resolve(null):(zl()<=it.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ul(n)),this.vs(e,u,n,ES(i,Uc)).next((f=>f)))}))}Ds(e,n){let s=new un(hw(e));return n.forEach(((i,c)=>{Af(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Ss(e,n,s){return zl()<=it.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Ul(n)),this.ps.getDocumentsMatchingQuery(e,n,Ba.min(),s)}vs(e,n,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="LocalStore",sj=3e8;class aj{constructor(e,n,s,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Vt(We),this.xs=new Hi((c=>Up(c)),Bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ij(t,e,n,s){return new aj(t,e,n,s)}async function Vw(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next((c=>(i=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],f=[];let h=et();for(const p of i){u.push(p.batchId);for(const x of p.mutations)h=h.add(x.key)}for(const p of c){f.push(p.batchId);for(const x of p.mutations)h=h.add(x.key)}return n.localDocuments.getDocuments(s,h).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function lj(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const i=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,p,x){const b=p.batch,w=b.keys();let _=ye.resolve();return w.forEach((C=>{_=_.next((()=>x.getEntry(h,C))).next((M=>{const z=p.docVersions.get(C);mt(z!==null,48541),M.version.compareTo(z)<0&&(b.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),x.addEntry(M)))}))})),_.next((()=>f.mutationQueue.removeMutationBatch(h,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let h=et();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(s,i)))}))}function Pw(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function oj(t,e){const n=Be(t),s=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const f=[];e.targetChanges.forEach(((x,b)=>{const w=i.get(b);if(!w)return;f.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,b))));let _=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?_=_.withResumeToken(An.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):x.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(x.resumeToken,s)),i=i.insert(b,_),(function(M,z,O){return M.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=sj?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(w,_,x)&&f.push(n.Pi.updateTargetData(c,_))}));let h=na(),p=et();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),f.push(cj(c,u,e.documentUpdates).next((x=>{h=x.ks,p=x.qs}))),!s.isEqual(Ue.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));f.push(x)}return ye.waitFor(f).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,h,p))).next((()=>h))})).then((c=>(n.Ms=i,c)))}function cj(t,e,n){let s=et(),i=et();return n.forEach((c=>s=s.add(c))),e.getEntries(t,s).next((c=>{let u=na();return n.forEach(((f,h)=>{const p=c.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(f)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Ae(Xp,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)})),{ks:u,qs:i}}))}function uj(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function dj(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let i;return n.Pi.getTargetData(s,e).next((c=>c?(i=c,ye.resolve(i)):n.Pi.allocateTargetId(s).next((u=>(i=new Ma(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,i).next((()=>i)))))))})).then((s=>{const i=n.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function W0(t,e,n){const s=Be(t),i=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!co(u))throw u;Ae(Xp,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function sv(t,e,n){const s=Be(t);let i=Ue.min(),c=et();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,p,x){const b=Be(h),w=b.xs.get(x);return w!==void 0?ye.resolve(b.Ms.get(w)):b.Pi.getTargetData(p,x)})(s,u,bs(e)).next((f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next((h=>{c=h}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?i:Ue.min(),n?c:et()))).next((f=>(fj(s,KS(e),f),{documents:f,Qs:c})))))}function fj(t,e,n){let s=t.Os.get(e)||Ue.min();n.forEach(((i,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),t.Os.set(e,s)}class av{constructor(){this.activeTargetIds=n6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hj{constructor(){this.Mo=new av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new av,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="ConnectivityMonitor";class lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(iv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function ep(){return Pd===null?Pd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="RestConnection",pj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===ef?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,n,s,i,c){const u=ep(),f=this.zo(e,n.toUriEncodedString());Ae(a0,`Sending RPC '${e}' ${u}:`,f,s);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,c);const{host:p}=new URL(f),x=Ip(p);return this.Jo(e,f,h,s,x).then((b=>(Ae(a0,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Jl(a0,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,i,c,u){return this.Go(e,n,s,i,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,c)=>e[c]=i)),s&&s.headers.forEach(((i,c)=>e[c]=i))}zo(e,n){const s=pj[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class yj extends gj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,c){const u=ep();return new Promise(((f,h)=>{const p=new U2;p.setWithCredentials(!0),p.listenOnce(B2.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Fd.NO_ERROR:const b=p.getResponseJson();Ae(In,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case Fd.TIMEOUT:Ae(In,`RPC '${e}' ${u} timed out`),h(new je(he.DEADLINE_EXCEEDED,"Request time out"));break;case Fd.HTTP_ERROR:const w=p.getStatus();if(Ae(In,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let _=p.getResponseJson();Array.isArray(_)&&(_=_[0]);const C=_?.error;if(C&&C.status&&C.message){const M=(function(O){const D=O.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(D)>=0?D:he.UNKNOWN})(C.status);h(new je(M,C.message))}else h(new je(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new je(he.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ae(In,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(i);Ae(In,`RPC '${e}' ${u} sending request:`,i),p.send(n,"POST",x,s,15)}))}T_(e,n,s){const i=ep(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=$2(),f=q2(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const x=c.join("");Ae(In,`Creating RPC '${e}' stream ${i}: ${x}`,h);const b=u.createWebChannel(x,h);this.I_(b);let w=!1,_=!1;const C=new xj({Yo:z=>{_?Ae(In,`Not sending because RPC '${e}' stream ${i} is closed:`,z):(w||(Ae(In,`Opening RPC '${e}' stream ${i} transport.`),b.open(),w=!0),Ae(In,`RPC '${e}' stream ${i} sending:`,z),b.send(z))},Zo:()=>b.close()}),M=(z,O,D)=>{z.listen(O,(F=>{try{D(F)}catch(q){setTimeout((()=>{throw q}),0)}}))};return M(b,Ec.EventType.OPEN,(()=>{_||(Ae(In,`RPC '${e}' stream ${i} transport opened.`),C.o_())})),M(b,Ec.EventType.CLOSE,(()=>{_||(_=!0,Ae(In,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(b))})),M(b,Ec.EventType.ERROR,(z=>{_||(_=!0,Jl(In,`RPC '${e}' stream ${i} transport errored. Name:`,z.name,"Message:",z.message),C.a_(new je(he.UNAVAILABLE,"The operation could not be completed")))})),M(b,Ec.EventType.MESSAGE,(z=>{if(!_){const O=z.data[0];mt(!!O,16349);const D=O,F=D?.error||D[0]?.error;if(F){Ae(In,`RPC '${e}' stream ${i} received error:`,F);const q=F.status;let Y=(function(A){const R=Xt[A];if(R!==void 0)return Ew(R)})(q),I=F.message;Y===void 0&&(Y=he.INTERNAL,I="Unknown error status: "+q+" with message "+F.message),_=!0,C.a_(new je(Y,I)),b.close()}else Ae(In,`RPC '${e}' stream ${i} received:`,O),C.u_(O)}})),M(f,F2.STAT_EVENT,(z=>{z.stat===B0.PROXY?Ae(In,`RPC '${e}' stream ${i} detected buffering proxy`):z.stat===B0.NOPROXY&&Ae(In,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function i0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){return new _6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,s=1e3,i=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=i,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class zw{constructor(e,n,s,i,c,u,f,h){this.Mi=e,this.S_=s,this.b_=i,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,i])=>{this.D_===n&&this.G_(s,i)}),(s=>{e((()=>{const i=new je(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{s((()=>this.z_(i)))})),this.stream.onMessage((i=>{s((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ae(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bj extends zw{constructor(e,n,s,i,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=T6(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ue.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?vs(u.readTime):Ue.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=J0(this.serializer),n.addTarget=(function(c,u){let f;const h=u.target;if(f=Y0(h)?{documents:A6(c,h)}:{query:k6(c,h).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=jw(c,u.resumeToken);const p=X0(c,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ue.min())>0){f.readTime=sf(c,u.snapshotVersion.toTimestamp());const p=X0(c,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=D6(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=J0(this.serializer),n.removeTarget=e,this.q_(n)}}class vj extends zw{constructor(e,n,s,i,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=j6(e.writeResults,e.commitTime),s=vs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=J0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>S6(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{}class _j extends wj{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new je(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,K0(n,s),i,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new je(he.UNKNOWN,c.toString())}))}Ho(e,n,s,i,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,K0(n,s),i,u,f,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new je(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Nj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="RemoteStore";class Ej{constructor(e,n,s,i,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Yi(this)&&(Ae(Bi,"Restarting streams for network reachability change."),await(async function(h){const p=Be(h);p.Ea.add(4),await nu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Mf(p)})(this))}))})),this.Ra=new Nj(s,i)}}async function Mf(t){if(Yi(t))for(const e of t.da)await e(!0)}async function nu(t){for(const e of t.da)await e(!1)}function Uw(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wp(n)?Jp(n):fo(n).O_()&&Zp(n,e))}function Kp(t,e){const n=Be(t),s=fo(n);n.Ia.delete(e),s.O_()&&Bw(n,e),n.Ia.size===0&&(s.O_()?s.L_():Yi(n)&&n.Ra.set("Unknown"))}function Zp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fo(t).Y_(e)}function Bw(t,e){t.Va.Ue(e),fo(t).Z_(e)}function Jp(t){t.Va=new y6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fo(t).start(),t.Ra.ua()}function Wp(t){return Yi(t)&&!fo(t).x_()&&t.Ia.size>0}function Yi(t){return Be(t).Ea.size===0}function Fw(t){t.Va=void 0}async function Tj(t){t.Ra.set("Online")}async function Sj(t){t.Ia.forEach(((e,n)=>{Zp(t,e)}))}async function jj(t,e){Fw(t),Wp(t)?(t.Ra.ha(e),Jp(t)):t.Ra.set("Unknown")}async function Aj(t,e,n){if(t.Ra.set("Online"),e instanceof Sw&&e.state===2&&e.cause)try{await(async function(i,c){const u=c.cause;for(const f of c.targetIds)i.Ia.has(f)&&(await i.remoteSyncer.rejectListen(f,u),i.Ia.delete(f),i.Va.removeTarget(f))})(t,e)}catch(s){Ae(Bi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lf(t,s)}else if(e instanceof Yd?t.Va.Ze(e):e instanceof Tw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const s=await Pw(t.localStore);n.compareTo(s)>=0&&await(function(c,u){const f=c.Va.Tt(u);return f.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const x=c.Ia.get(p);x&&c.Ia.set(p,x.withResumeToken(h.resumeToken,u))}})),f.targetMismatches.forEach(((h,p)=>{const x=c.Ia.get(h);if(!x)return;c.Ia.set(h,x.withResumeToken(An.EMPTY_BYTE_STRING,x.snapshotVersion)),Bw(c,h);const b=new Ma(x.target,h,p,x.sequenceNumber);Zp(c,b)})),c.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){Ae(Bi,"Failed to raise snapshot:",s),await lf(t,s)}}async function lf(t,e,n){if(!co(e))throw e;t.Ea.add(1),await nu(t),t.Ra.set("Offline"),n||(n=()=>Pw(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(Bi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mf(t)}))}function qw(t,e){return e().catch((n=>lf(t,n,e)))}async function Of(t){const e=Be(t),n=Ha(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pp;for(;kj(e);)try{const i=await uj(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,Cj(e,i)}catch(i){await lf(e,i)}$w(e)&&Hw(e)}function kj(t){return Yi(t)&&t.Ta.length<10}function Cj(t,e){t.Ta.push(e);const n=Ha(t);n.O_()&&n.X_&&n.ea(e.mutations)}function $w(t){return Yi(t)&&!Ha(t).x_()&&t.Ta.length>0}function Hw(t){Ha(t).start()}async function Dj(t){Ha(t).ra()}async function Rj(t){const e=Ha(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ij(t,e,n){const s=t.Ta.shift(),i=qp.from(s,e,n);await qw(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Of(t)}async function Mj(t,e){e&&Ha(t).X_&&await(async function(s,i){if((function(u){return p6(u)&&u!==he.ABORTED})(i.code)){const c=s.Ta.shift();Ha(s).B_(),await qw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,i))),await Of(s)}})(t,e),$w(t)&&Hw(t)}async function cv(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),Ae(Bi,"RemoteStore received new credentials");const s=Yi(n);n.Ea.add(3),await nu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mf(n)}async function Oj(t,e){const n=Be(t);e?(n.Ea.delete(2),await Mf(n)):e||(n.Ea.add(2),await nu(n),n.Ra.set("Unknown"))}function fo(t){return t.ma||(t.ma=(function(n,s,i){const c=Be(n);return c.sa(),new bj(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Tj.bind(null,t),t_:Sj.bind(null,t),r_:jj.bind(null,t),H_:Aj.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Wp(t)?Jp(t):t.Ra.set("Unknown")):(await t.ma.stop(),Fw(t))}))),t.ma}function Ha(t){return t.fa||(t.fa=(function(n,s,i){const c=Be(n);return c.sa(),new vj(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Dj.bind(null,t),r_:Mj.bind(null,t),ta:Rj.bind(null,t),na:Ij.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Of(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(Bi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,s,i,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=c,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,c){const u=Date.now()+s,f=new eg(e,n,u,i,c);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(t,e){if(ta("AsyncQueue",`${e}: ${t}`),co(t))return new je(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{static emptySet(e){return new Yl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=Tc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,c=s.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Yl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.ga=new Vt(Ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ro{constructor(e,n,s,i,c,u,f,h,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,i,c){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new ro(e,n,Yl.emptySet(n),u,s,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Pj{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Be(n),c=i.queries;i.queries=dv(),c.forEach(((u,f)=>{for(const h of f.Sa)h.onError(s)}))})(this,new je(he.ABORTED,"Firestore shutting down"))}}function dv(){return new Hi((t=>fw(t)),jf)}async function ng(t,e){const n=Be(t);let s=3;const i=e.query;let c=n.queries.get(i);c?!c.ba()&&e.Da()&&(s=2):(c=new Vj,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(i,!0);break;case 1:c.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const f=tg(u,`Initialization of query '${Ul(e.query)}' failed`);return void e.onError(f)}n.queries.set(i,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&sg(n)}async function rg(t,e){const n=Be(t),s=e.query;let i=3;const c=n.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?i=e.Da()?0:1:!c.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Lj(t,e){const n=Be(t);let s=!1;for(const i of e){const c=i.query,u=n.queries.get(c);if(u){for(const f of u.Sa)f.Fa(i)&&(s=!0);u.wa=i}}s&&sg(n)}function zj(t,e,n){const s=Be(t),i=s.queries.get(e);if(i)for(const c of i.Sa)c.onError(n);s.queries.delete(e)}function sg(t){t.Ca.forEach((e=>{e.next()}))}var tp,fv;(fv=tp||(tp={})).Ma="default",fv.Cache="cache";class ag{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.key=e}}class Gw{constructor(e){this.key=e}}class Uj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=hw(e),this.tu=new Yl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new uv,i=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=i,f=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((x,b)=>{const w=i.get(x),_=Af(this.query,b)?b:null,C=!!w&&this.mutatedKeys.has(w.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let z=!1;w&&_?w.data.isEqual(_.data)?C!==M&&(s.track({type:3,doc:_}),z=!0):this.su(w,_)||(s.track({type:2,doc:_}),z=!0,(h&&this.eu(_,h)>0||p&&this.eu(_,p)<0)&&(f=!0)):!w&&_?(s.track({type:0,doc:_}),z=!0):w&&!_&&(s.track({type:1,doc:w}),z=!0,(h||p)&&(f=!0)),z&&(_?(u=u.add(_),c=M?c.add(x):c.delete(x)):(u=u.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:u,iu:s,Cs:f,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,b)=>(function(_,C){const M=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:z})}};return M(_)-M(C)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(s),i=i??!1;const f=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,p=h!==this.Za;return this.Za=h,u.length!==0||p?{snapshot:new ro(this.query,e.tu,c,u,e.mutatedKeys,h===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Gw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Yw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class Bj{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Fj{constructor(e){this.key=e,this.hu=!1}}class qj{constructor(e,n,s,i,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Hi((f=>fw(f)),jf),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Ie.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=no.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $j(t,e,n=!0){const s=Ww(t);let i;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),i=c.view.lu()):i=await Qw(s,e,n,!0),i}async function Hj(t,e){const n=Ww(t);await Qw(n,e,!0,!1)}async function Qw(t,e,n,s){const i=await dj(t.localStore,bs(e)),c=i.targetId,u=t.sharedClientState.addLocalQueryTarget(c,n);let f;return s&&(f=await Yj(t,e,c,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&Uw(t.remoteStore,i),f}async function Yj(t,e,n,s,i){t.pu=(b,w,_)=>(async function(M,z,O,D){let F=z.view.ru(O);F.Cs&&(F=await sv(M.localStore,z.query,!1).then((({documents:V})=>z.view.ru(V,F))));const q=D&&D.targetChanges.get(z.targetId),Y=D&&D.targetMismatches.get(z.targetId)!=null,I=z.view.applyChanges(F,M.isPrimaryClient,q,Y);return mv(M,z.targetId,I.au),I.snapshot})(t,b,w,_);const c=await sv(t.localStore,e,!0),u=new Uj(e,c.Qs),f=u.ru(c.documents),h=tu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),p=u.applyChanges(f,t.isPrimaryClient,h);mv(t,n,p.au);const x=new Bj(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function Gj(t,e,n){const s=Be(t),i=s.Tu.get(e),c=s.Iu.get(i.targetId);if(c.length>1)return s.Iu.set(i.targetId,c.filter((u=>!jf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await W0(s.localStore,i.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(i.targetId),n&&Kp(s.remoteStore,i.targetId),np(s,i.targetId)})).catch(oo)):(np(s,i.targetId),await W0(s.localStore,i.targetId,!0))}async function Qj(t,e){const n=Be(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Kp(n.remoteStore,s.targetId))}async function Xj(t,e,n){const s=nA(t);try{const i=await(function(u,f){const h=Be(u),p=kt.now(),x=f.reduce(((_,C)=>_.add(C.key)),et());let b,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let C=na(),M=et();return h.Ns.getEntries(_,x).next((z=>{C=z,C.forEach(((O,D)=>{D.isValidDocument()||(M=M.add(O))}))})).next((()=>h.localDocuments.getOverlayedDocuments(_,C))).next((z=>{b=z;const O=[];for(const D of f){const F=u6(D,b.get(D.key).overlayedDocument);F!=null&&O.push(new Qa(D.key,F,sw(F.value.mapValue),Hn.exists(!0)))}return h.mutationQueue.addMutationBatch(_,p,O,f)})).next((z=>{w=z;const O=z.applyToLocalDocumentSet(b,M);return h.documentOverlayCache.saveOverlays(_,z.batchId,O)}))})).then((()=>({batchId:w.batchId,changes:pw(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),(function(u,f,h){let p=u.Vu[u.currentUser.toKey()];p||(p=new Vt(We)),p=p.insert(f,h),u.Vu[u.currentUser.toKey()]=p})(s,i.batchId,n),await ru(s,i.changes),await Of(s.remoteStore)}catch(i){const c=tg(i,"Failed to persist write");n.reject(c)}}async function Xw(t,e){const n=Be(t);try{const s=await oj(n.localStore,e);e.targetChanges.forEach(((i,c)=>{const u=n.Au.get(c);u&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?mt(u.hu,14607):i.removedDocuments.size>0&&(mt(u.hu,42227),u.hu=!1))})),await ru(n,s,e)}catch(s){await oo(s)}}function hv(t,e,n){const s=Be(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach(((c,u)=>{const f=u.view.va(e);f.snapshot&&i.push(f.snapshot)})),(function(u,f){const h=Be(u);h.onlineState=f;let p=!1;h.queries.forEach(((x,b)=>{for(const w of b.Sa)w.va(f)&&(p=!0)})),p&&sg(h)})(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Kj(t,e,n){const s=Be(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),c=i&&i.key;if(c){let u=new Vt(Ie.comparator);u=u.insert(c,On.newNoDocument(c,Ue.min()));const f=et().add(c),h=new Rf(Ue.min(),new Map,new Vt(We),u,f);await Xw(s,h),s.du=s.du.remove(c),s.Au.delete(e),lg(s)}else await W0(s.localStore,e,!1).then((()=>np(s,e,n))).catch(oo)}async function Zj(t,e){const n=Be(t),s=e.batch.batchId;try{const i=await lj(n.localStore,e);Zw(n,s,null),Kw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ru(n,i)}catch(i){await oo(i)}}async function Jj(t,e,n){const s=Be(t);try{const i=await(function(u,f){const h=Be(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return h.mutationQueue.lookupMutationBatch(p,f).next((b=>(mt(b!==null,37113),x=b.keys(),h.mutationQueue.removeMutationBatch(p,b)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,x,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>h.localDocuments.getDocuments(p,x)))}))})(s.localStore,e);Zw(s,e,n),Kw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ru(s,i)}catch(i){await oo(i)}}function Kw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Zw(t,e,n){const s=Be(t);let i=s.Vu[s.currentUser.toKey()];if(i){const c=i.get(e);c&&(n?c.reject(n):c.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function np(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||Jw(t,s)}))}function Jw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Kp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),lg(t))}function mv(t,e,n){for(const s of n)s instanceof Yw?(t.Ru.addReference(s.key,e),Wj(t,s)):s instanceof Gw?(Ae(ig,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Jw(t,s.key)):Le(19791,{wu:s})}function Wj(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(Ae(ig,"New document in limbo: "+n),t.Eu.add(s),lg(t))}function lg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(At.fromString(e)),s=t.fu.next();t.Au.set(s,new Fj(n)),t.du=t.du.insert(n,s),Uw(t.remoteStore,new Ma(bs(Sf(n.path)),s,"TargetPurposeLimboResolution",Nf.ce))}}async function ru(t,e,n){const s=Be(t),i=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,h)=>{u.push(s.pu(h,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const x=p?!p.fromCache:n?.targetChanges.get(h.targetId)?.current;s.sharedClientState.updateQueryState(h.targetId,x?"current":"not-current")}if(p){i.push(p);const x=Qp.As(h.targetId,p);c.push(x)}})))})),await Promise.all(u),s.Pu.H_(i),await(async function(h,p){const x=Be(h);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ye.forEach(p,(w=>ye.forEach(w.Es,(_=>x.persistence.referenceDelegate.addReference(b,w.targetId,_))).next((()=>ye.forEach(w.ds,(_=>x.persistence.referenceDelegate.removeReference(b,w.targetId,_)))))))))}catch(b){if(!co(b))throw b;Ae(Xp,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const _=x.Ms.get(w),C=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(C);x.Ms=x.Ms.insert(w,M)}}})(s.localStore,c))}async function eA(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){Ae(ig,"User change. New user:",e.toKey());const s=await Vw(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((f=>{f.forEach((h=>{h.reject(new je(he.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ru(n,s.Ls)}}function tA(t,e){const n=Be(t),s=n.Au.get(e);if(s&&s.hu)return et().add(s.key);{let i=et();const c=n.Iu.get(e);if(!c)return i;for(const u of c){const f=n.Tu.get(u);i=i.unionWith(f.view.nu)}return i}}function Ww(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kj.bind(null,e),e.Pu.H_=Lj.bind(null,e.eventManager),e.Pu.yu=zj.bind(null,e.eventManager),e}function nA(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jj.bind(null,e),e}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ij(this.persistence,new rj,e.initialUser,this.serializer)}Cu(e){return new Ow(Gp.mi,this.serializer)}Du(e){return new hj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class rA extends of{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){mt(this.persistence.referenceDelegate instanceof af,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new F6(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new Ow((s=>af.mi(s,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eA.bind(null,this.syncEngine),await Oj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Pj})()}createDatastore(e){const n=If(e.databaseInfo.databaseId),s=(function(c){return new yj(c)})(e.databaseInfo);return(function(c,u,f,h){return new _j(c,u,f,h)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,i,c,u,f){return new Ej(s,i,c,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>hv(this.syncEngine,n,0)),(function(){return lv.v()?new lv:new mj})())}createSyncEngine(e,n){return(function(i,c,u,f,h,p,x){const b=new qj(i,c,u,f,h,p);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Be(n);Ae(Bi,"RemoteStore shutting down."),s.Ea.add(5),await nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="FirestoreClient";class sA{constructor(e,n,s,i,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{Ae(Ya,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(Ae(Ya,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=tg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function l0(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Ya,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async i=>{s.isEqual(i)||(await Vw(e.localStore,i),s=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aA(t);Ae(Ya,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>cv(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,i)=>cv(e.remoteStore,i))),t._onlineComponents=e}async function aA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Ya,"Using user provided OfflineComponentProvider");try{await l0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Jl("Error using user provided cache. Falling back to memory cache: "+n),await l0(t,new of)}}else Ae(Ya,"Using default OfflineComponentProvider"),await l0(t,new rA(void 0));return t._offlineComponents}async function e_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Ya,"Using user provided OnlineComponentProvider"),await pv(t,t._uninitializedComponentsProvider._online)):(Ae(Ya,"Using default OnlineComponentProvider"),await pv(t,new rp))),t._onlineComponents}function iA(t){return e_(t).then((e=>e.syncEngine))}async function cf(t){const e=await e_(t),n=e.eventManager;return n.onListen=$j.bind(null,e.syncEngine),n.onUnlisten=Gj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Qj.bind(null,e.syncEngine),n}function lA(t,e,n={}){const s=new Ws;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,f,h,p){const x=new og({next:w=>{x.Nu(),u.enqueueAndForget((()=>rg(c,b)));const _=w.docs.has(f);!_&&w.fromCache?p.reject(new je(he.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&w.fromCache&&h&&h.source==="server"?p.reject(new je(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new ag(Sf(f.path),x,{includeMetadataChanges:!0,qa:!0});return ng(c,b)})(await cf(t),t.asyncQueue,e,n,s))),s.promise}function oA(t,e,n={}){const s=new Ws;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,f,h,p){const x=new og({next:w=>{x.Nu(),u.enqueueAndForget((()=>rg(c,b))),w.fromCache&&h.source==="server"?p.reject(new je(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new ag(f,x,{includeMetadataChanges:!0,qa:!0});return ng(c,b)})(await cf(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="firestore.googleapis.com",xv=!0;class yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n_,this.ssl=xv}else this.host=e.host,this.ssl=e.ssl??xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U6)throw new je(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new je(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new je(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new je(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,i){return s.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hS;switch(s.type){case"firstParty":return new xS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new je(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=gv.get(n);s&&(Ae("ComponentProvider","Removing Datastore"),gv.delete(n),s.terminate())})(this),Promise.resolve()}}function cA(t,e,n,s={}){t=$n(t,Vf);const i=Ip(e),c=t._getSettings(),u={...c,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;i&&(F3(`https://${f}`),Y3("Firestore",!0)),c.host!==n_&&c.host!==f&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...c,host:f,ssl:i,emulatorOptions:s};if(!Kd(h,u)&&(t._setSettings(h),s.mockUserToken)){let p,x;if(typeof s.mockUserToken=="string")p=s.mockUserToken,x=Mn.MOCK_USER;else{p=q3(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new je(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Mn(b)}t._authCredentials=new mS(new Y2(p,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class zt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Wc(n,zt._jsonSchema))return new zt(e,s||null,new Ie(At.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Wt("string",zt._jsonSchemaVersion),referencePath:Wt("string")};class La extends Xa{constructor(e,n,s){super(e,n,Sf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ie(e))}withConverter(e){return new La(this.firestore,e,this._path)}}function Gl(t,e,...n){if(t=Ir(t),G2("collection","path",e),t instanceof Vf){const s=At.fromString(e,...n);return D1(s),new La(t,null,s)}{if(!(t instanceof zt||t instanceof La))throw new je(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(At.fromString(e,...n));return D1(s),new La(t.firestore,null,s)}}function Ot(t,e,...n){if(t=Ir(t),arguments.length===1&&(e=Vp.newId()),G2("doc","path",e),t instanceof Vf){const s=At.fromString(e,...n);return C1(s),new zt(t,null,new Ie(s))}{if(!(t instanceof zt||t instanceof La))throw new je(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(At.fromString(e,...n));return C1(s),new zt(t.firestore,t instanceof La?t.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lw(this,"async_queue_retry"),this._c=()=>{const s=i0();s&&Ae(bv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=i0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=i0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!co(e))throw e;Ae(bv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",wv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=eg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(i),i}uc(){this.nc&&Le(47125,{Pc:wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const c of s)if(c in i&&typeof i[c]=="function")return!0;return!1})(t,["next","error","complete"])}class Ss extends Vf{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new vv,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function uA(t,e){const n=typeof t=="object"?t:nS(),s=typeof t=="string"?t:ef,i=ZT(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const c=U3("firestore");c&&cA(i,...c)}return i}function su(t){if(t._terminated)throw new je(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dA(t),t._firestoreClient}function dA(t){const e=t._freezeSettings(),n=(function(i,c,u,f){return new MS(i,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,t_(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sA(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const c=i?._online.build();return{_offline:i?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cr(An.fromBase64String(e))}catch(n){throw new je(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cr(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wc(e,Cr._jsonSchema))return Cr.fromBase64String(e.bytes)}}Cr._jsonSchemaVersion="firestore/bytes/1.0",Cr._jsonSchema={type:Wt("string",Cr._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(Wc(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:Wt("string",ws._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,i){if(s.length!==i.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==i[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wc(e,_s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _s(e.vectorValues);throw new je(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:Wt("string",_s._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=/^__.*__$/;class hA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new eu(e,this.data,n,this.fieldTransforms)}}class r_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class cg{constructor(e,n,s,i,c,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(s_(this.Ac)&&fA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mA{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||If(e)}Cc(e,n,s,i=!1){return new cg({Ac:e,methodName:n,Dc:s,path:jn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iu(t){const e=t._freezeSettings(),n=If(t._databaseId);return new mA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ug(t,e,n,s,i,c={}){const u=t.Cc(c.merge||c.mergeFields?2:0,e,n,i);fg("Data must be an object, but it was:",u,s);const f=l_(s,u);let h,p;if(c.merge)h=new hr(u.fieldMask),p=u.fieldTransforms;else if(c.mergeFields){const x=[];for(const b of c.mergeFields){const w=sp(e,b,n);if(!u.contains(w))throw new je(he.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);c_(x,w)||x.push(w)}h=new hr(x),p=u.fieldTransforms.filter((b=>h.covers(b.field)))}else h=null,p=u.fieldTransforms;return new hA(new Wn(f),h,p)}class Lf extends Pf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}class dg extends Pf{_toFieldTransform(e){return new i6(e.path,new Hc)}isEqual(e){return e instanceof dg}}function a_(t,e,n,s){const i=t.Cc(1,e,n);fg("Data must be an object, but it was:",i,s);const c=[],u=Wn.empty();Ga(s,((h,p)=>{const x=hg(e,h,n);p=Ir(p);const b=i.yc(x);if(p instanceof Lf)c.push(x);else{const w=lu(p,b);w!=null&&(c.push(x),u.set(x,w))}}));const f=new hr(c);return new r_(u,f,i.fieldTransforms)}function i_(t,e,n,s,i,c){const u=t.Cc(1,e,n),f=[sp(e,s,n)],h=[i];if(c.length%2!=0)throw new je(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)f.push(sp(e,c[w])),h.push(c[w+1]);const p=[],x=Wn.empty();for(let w=f.length-1;w>=0;--w)if(!c_(p,f[w])){const _=f[w];let C=h[w];C=Ir(C);const M=u.yc(_);if(C instanceof Lf)p.push(_);else{const z=lu(C,M);z!=null&&(p.push(_),x.set(_,z))}}const b=new hr(p);return new r_(x,b,u.fieldTransforms)}function pA(t,e,n,s=!1){return lu(n,t.Cc(s?4:3,e))}function lu(t,e){if(o_(t=Ir(t)))return fg("Unsupported field value:",e,t),l_(t,e);if(t instanceof Pf)return(function(s,i){if(!s_(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(i);c&&i.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,i){const c=[];let u=0;for(const f of s){let h=lu(f,i.wc(u));h==null&&(h={nullValue:"NULL_VALUE"}),c.push(h),u++}return{arrayValue:{values:c}}})(t,e)}return(function(s,i){if((s=Ir(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return r6(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=kt.fromDate(s);return{timestampValue:sf(i.serializer,c)}}if(s instanceof kt){const c=new kt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sf(i.serializer,c)}}if(s instanceof ws)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cr)return{bytesValue:jw(i.serializer,s._byteString)};if(s instanceof zt){const c=i.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hp(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof _s)return(function(u,f){return{mapValue:{fields:{[nw]:{stringValue:rw},[tf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Fp(f.serializer,p)}))}}}}}})(s,i);throw i.Sc(`Unsupported field value: ${_f(s)}`)})(t,e)}function l_(t,e){const n={};return K2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(t,((s,i)=>{const c=lu(i,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function o_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof ws||t instanceof Cr||t instanceof zt||t instanceof Pf||t instanceof _s)}function fg(t,e,n){if(!o_(n)||!Q2(n)){const s=_f(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function sp(t,e,n){if((e=Ir(e))instanceof au)return e._internalPath;if(typeof e=="string")return hg(t,e);throw uf("Field path arguments must be of type string or ",t,!1,void 0,n)}const gA=new RegExp("[~\\*/\\[\\]]");function hg(t,e,n){if(e.search(gA)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new au(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uf(t,e,n,s,i){const c=s&&!s.isEmpty(),u=i!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(c||u)&&(h+=" (found",c&&(h+=` in field ${s}`),u&&(h+=` in document ${i}`),h+=")"),new je(he.INVALID_ARGUMENT,f+t+h)}function c_(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,s,i,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xA extends u_{data(){return super.data()}}function zf(t,e){return typeof e=="string"?hg(t,e):e instanceof au?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class f_ extends mg{}function df(t,e,...n){let s=[];e instanceof mg&&s.push(e),s=s.concat(n),(function(c){const u=c.filter((h=>h instanceof pg)).length,f=c.filter((h=>h instanceof Uf)).length;if(u>1||u>0&&f>0)throw new je(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const i of s)t=i._apply(t);return t}class Uf extends f_{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Uf(e,n,s)}_apply(e){const n=this._parse(e);return h_(e._query,n),new Xa(e.firestore,e.converter,G0(e._query,n))}_parse(e){const n=iu(e.firestore);return(function(c,u,f,h,p,x,b){let w;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new je(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Ev(b,x);const C=[];for(const M of b)C.push(Nv(h,c,M));w={arrayValue:{values:C}}}else w=Nv(h,c,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Ev(b,x),w=pA(f,u,b,x==="in"||x==="not-in");return Jt.create(p,x,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ap(t,e,n){const s=e,i=zf("where",t);return Uf._create(i,s,n)}class pg extends mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,c){let u=i;const f=c.getFlattenedFilters();for(const h of f)h_(u,h),u=G0(u,h)})(e._query,n),new Xa(e.firestore,e.converter,G0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gg extends f_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gg(e,n)}_apply(e){const n=(function(i,c,u){if(i.startAt!==null)throw new je(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new je(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $c(c,u)})(e._query,this._field,this._direction);return new Xa(e.firestore,e.converter,(function(i,c){const u=i.explicitOrderBy.concat([c]);return new uo(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function yA(t,e="asc"){const n=e,s=zf("orderBy",t);return gg._create(s,n)}function Nv(t,e,n){if(typeof(n=Ir(n))=="string"){if(n==="")throw new je(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dw(e)&&n.indexOf("/")!==-1)throw new je(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(At.fromString(n));if(!Ie.isDocumentKey(s))throw new je(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return z1(t,new Ie(s))}if(n instanceof zt)return z1(t,n._key);throw new je(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(n)}.`)}function Ev(t,e){if(!Array.isArray(t)||t.length===0)throw new je(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h_(t,e){const n=(function(i,c){for(const u of i)for(const f of u.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new je(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bA{convertValue(e,n="none"){switch($a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ga(e,((i,c)=>{s[i]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[tf].arrayValue?.values?.map((s=>Ht(s.doubleValue)));return new _s(n)}convertGeoPoint(e){return new ws(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Tf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=Fa(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=At.fromString(e);mt(Iw(s),9688,{name:e});const i=new Fc(s.get(1),s.get(3)),c=new Ie(s.popFirst(5));return i.isEqual(n)||ta(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vi extends u_{constructor(e,n,s,i,c,u){super(e,n,s,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vi._jsonSchema={type:Wt("string",Vi._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Gd extends Vi{data(e={}){return super.data(e)}}class Pi{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jc(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Gd(this._firestore,this._userDataWriter,s.key,s,new jc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,c){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((f=>{const h=new Gd(i._firestore,i._userDataWriter,f.doc.key,f.doc,new jc(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((f=>c||f.type!==3)).map((f=>{const h=new Gd(i._firestore,i._userDataWriter,f.doc.key,f.doc,new jc(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,x=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),x=u.indexOf(f.doc.key)),{type:vA(f.type),doc:h,oldIndex:p,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),i.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){t=$n(t,zt);const e=$n(t.firestore,Ss);return lA(su(e),t._key).then((n=>p_(e,t,n)))}Pi._jsonSchemaVersion="firestore/querySnapshot/1.0",Pi._jsonSchema={type:Wt("string",Pi._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class yg extends bA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function o0(t){t=$n(t,Xa);const e=$n(t.firestore,Ss),n=su(e),s=new yg(e);return d_(t._query),oA(n,t._query).then((i=>new Pi(e,s,t,i)))}function fr(t,e,n){t=$n(t,zt);const s=$n(t.firestore,Ss),i=xg(t.converter,e,n);return ou(s,[ug(iu(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hn.none())])}function _A(t,e,n,...s){t=$n(t,zt);const i=$n(t.firestore,Ss),c=iu(i);let u;return u=typeof(e=Ir(e))=="string"||e instanceof au?i_(c,"updateDoc",t._key,e,n,s):a_(c,"updateDoc",t._key,e),ou(i,[u.toMutation(t._key,Hn.exists(!0))])}function m_(t){return ou($n(t.firestore,Ss),[new Df(t._key,Hn.none())])}function NA(t,e){const n=$n(t.firestore,Ss),s=Ot(t),i=xg(t.converter,e);return ou(n,[ug(iu(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,Hn.exists(!1))]).then((()=>s))}function bg(t,...e){t=Ir(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||_v(e[s])||(n=e[s++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_v(e[s])){const h=e[s];e[s]=h.next?.bind(h),e[s+1]=h.error?.bind(h),e[s+2]=h.complete?.bind(h)}let c,u,f;if(t instanceof zt)u=$n(t.firestore,Ss),f=Sf(t._key.path),c={next:h=>{e[s]&&e[s](p_(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=$n(t,Xa);u=$n(h.firestore,Ss),f=h._query;const p=new yg(u);c={next:x=>{e[s]&&e[s](new Pi(u,p,h,x))},error:e[s+1],complete:e[s+2]},d_(t._query)}return(function(p,x,b,w){const _=new og(w),C=new ag(x,_,b);return p.asyncQueue.enqueueAndForget((async()=>ng(await cf(p),C))),()=>{_.Nu(),p.asyncQueue.enqueueAndForget((async()=>rg(await cf(p),C)))}})(su(u),f,i,c)}function ou(t,e){return(function(s,i){const c=new Ws;return s.asyncQueue.enqueueAndForget((async()=>Xj(await iA(s),i,c))),c.promise})(su(t),e)}function p_(t,e,n){const s=n.docs.get(e._key),i=new yg(t);return new Vi(t,i,e._key,s,new jc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=iu(e)}set(e,n,s){this._verifyNotCommitted();const i=c0(e,this._firestore),c=xg(i.converter,n,s),u=ug(this._dataReader,"WriteBatch.set",i._key,c,i.converter!==null,s);return this._mutations.push(u.toMutation(i._key,Hn.none())),this}update(e,n,s,...i){this._verifyNotCommitted();const c=c0(e,this._firestore);let u;return u=typeof(n=Ir(n))=="string"||n instanceof au?i_(this._dataReader,"WriteBatch.update",c._key,n,s,i):a_(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=c0(e,this._firestore);return this._mutations=this._mutations.concat(new Df(n._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function c0(t,e){if((t=Ir(t)).firestore!==e)throw new je(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ql(){return new dg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return su(t=$n(t,Ss)),new EA(t,(e=>ou(t,e)))}(function(e,n=!0){(function(i){lo=i})(tS),Jd(new Lc("firestore",((s,{instanceIdentifier:i,options:c})=>{const u=s.getProvider("app").getImmediate(),f=new Ss(new pS(s.getProvider("auth-internal")),new yS(u,s.getProvider("app-check-internal")),(function(p,x){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new je(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(p.options.projectId,x)})(u,i),u);return c={useFetchStreams:n,...c},f._setSettings(c),f}),"PUBLIC").setMultipleInstances(!0)),Hl(S1,j1,e),Hl(S1,j1,"esm2020")})();var TA="firebase",SA="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hl(TA,SA,"app");const jA={apiKey:"AIzaSyC2RM2HldOB3ScxGRpGxkSj9wvuDqAwWm4",authDomain:"academic-progress-tracke-4774a.firebaseapp.com",projectId:"academic-progress-tracke-4774a",storageBucket:"academic-progress-tracke-4774a.firebasestorage.app",messagingSenderId:"660250554925",appId:"1:660250554925:web:55db1dfd08215d6e493ea4"},AA=V2(jA),dt=uA(AA);function Bf(t,e){const[n,s]=G.useState([]),[i,c]=G.useState(!0),[u,f]=G.useState(!1),h=t?.rollNo===Me.rollNo,p=t?.role==="co-leader",x=R=>h?!0:p?t?.permissions?t.permissions[R]!==!1:!0:!1,b=h||p&&x("canPostNotices"),w=h||p&&x("canCreateUsers"),_=h||p&&x("canManagePasswords");G.useEffect(()=>{if(!t){s([]),c(!1);return}const R=df(Gl(dt,"noticeBoard"),yA("createdAt","desc")),k=bg(R,P=>{const U=[];P.forEach(E=>{const K={id:E.id,...E.data()};if(K.semester&&K.semester!==e||K.deleteAt&&(K.deleteAt.toDate?K.deleteAt.toDate():new Date(K.deleteAt))<new Date)return;const ne=K.allowedUsers||[],X=K.isPublic||!1,de=K.createdByRoll===t.rollNo,J=ne.includes(t.rollNo);h?U.push(K):p?(X||de||J)&&U.push(K):(X||J)&&U.push(K)}),U.sort((E,K)=>{const ne=E.order!==void 0?E.order:0,X=K.order!==void 0?K.order:0;return ne!==X?ne-X:(K.createdAt?.toMillis?.()||0)-(E.createdAt?.toMillis?.()||0)}),s(U),c(!1)},P=>{console.error("Error loading notices:",P),c(!1)});return()=>k()},[t,b,e,h]),G.useEffect(()=>{if(!b||n.length===0)return;let R;if(b){const k=new Date,P=ff(dt);let U=!1;n.forEach(E=>{E.deleteAt&&(E.deleteAt.toDate?E.deleteAt.toDate():new Date(E.deleteAt))<k&&(P.delete(Ot(dt,"noticeBoard",E.id)),U=!0)}),U&&P.commit().catch(E=>console.error("Cleanup error:",E))}return()=>R&&R()},[b,n.length]);const C=async(R,k,P={},U=[],E=!1,K=null)=>{if(!b)throw new Error("Only admin and co-leaders can create notices");try{return f(!0),await NA(Gl(dt,"noticeBoard"),{type:R,content:k,meta:P,semester:e,createdBy:t.name,createdByRoll:t.rollNo,allowedUsers:U,isPublic:E,deleteAt:K,createdAt:Ql(),updatedAt:Ql()}),!0}catch(ne){return console.error("Error creating notice:",ne),!1}finally{f(!1)}},M=async(R,k,P="admin")=>{try{const U=Ot(dt,"noticeBoard",R);if(P==="admin"&&!b)throw new Error("Only admin and co-leaders can manage notices");return await _A(U,{...k,updatedAt:Ql()}),!0}catch(U){return console.error("Error updating notice:",U),!1}};return{notices:n,isLoading:i,isSaving:u,isAdmin:h,isCoLeader:p,canManageNotices:b,canCreateUsers:w,canManagePasswords:_,hasPermission:x,createNotice:C,updateNotice:M,editNotice:async(R,k)=>{if(!b)throw new Error("Only admin and co-leaders can edit notices");try{return await M(R,k,"admin"),!0}catch(P){return console.error("Error editing notice:",P),!1}},deleteNotice:async R=>{if(!b)throw new Error("Only admin and co-leaders can delete notices");try{return await m_(Ot(dt,"noticeBoard",R)),!0}catch(k){return console.error("Error deleting notice:",k),!1}},updateNoticePermissions:async(R,k,P)=>{if(!b)throw new Error("Only admin and co-leaders can update permissions");try{return await M(R,{allowedUsers:k,isPublic:P},"admin"),!0}catch(U){return console.error("Error updating permissions:",U),!1}},updateNoticesOrder:async R=>{if(!b)throw new Error("Permission denied");try{f(!0);const k=ff(dt);return R.forEach((P,U)=>{const E=Ot(dt,"noticeBoard",P);k.update(E,{order:U})}),await k.commit(),!0}catch(k){return console.error("Error reordering notices:",k),!1}finally{f(!1)}},voteInPoll:async(R,k,P)=>{try{const U=n.find(ne=>ne.id===R);if(!U||U.type!=="poll")return!1;const E=[...U.meta.options];if(U.meta.isAnonymous||!1){k.forEach(de=>{E[de].anonymousVotes||(E[de].anonymousVotes=0)});const ne=U.meta.userVotes||{};(ne[P]||[]).forEach(de=>{E[de].anonymousVotes>0&&E[de].anonymousVotes--}),k.forEach(de=>{E[de].anonymousVotes++}),ne[P]=k,await M(R,{meta:{...U.meta,options:E,userVotes:ne}},"user")}else E.forEach(ne=>{ne.votes=ne.votes?.filter(X=>X!==P)||[]}),k.forEach(ne=>{E[ne].votes||(E[ne].votes=[]),E[ne].votes.push(P)}),await M(R,{meta:{...U.meta,options:E}},"user");return!0}catch(U){return console.error("Error voting:",U),!1}},toggleChecklistItem:async(R,k,P)=>{try{const U=n.find(ne=>ne.id===R);if(!U||U.type!=="checklist")return!1;const E=[...U.meta.items];if(U.meta.isAnonymous||!1){E[k].anonymousCompletions||(E[k].anonymousCompletions=0);const ne=U.meta.userCompletions||{},X=ne[P]||[];X.includes(k)?(ne[P]=X.filter(de=>de!==k),E[k].anonymousCompletions=Math.max(0,E[k].anonymousCompletions-1)):(ne[P]=[...X,k],E[k].anonymousCompletions++),await M(R,{meta:{...U.meta,items:E,userCompletions:ne}},"user")}else{E[k].completedBy||(E[k].completedBy=[]);const ne=E[k].completedBy.indexOf(P);ne>-1?E[k].completedBy.splice(ne,1):E[k].completedBy.push(P),await M(R,{meta:{...U.meta,items:E}},"user")}return!0}catch(U){return console.error("Error toggling checklist:",U),!1}},toggleTodo:async(R,k)=>{try{const P=n.find(ne=>ne.id===R);if(!P||P.type!=="todo")return!1;const U=P.meta.completedBy||[],E=U.indexOf(k);let K;return E>-1?K=U.filter(ne=>ne!==k):K=[...U,k],await M(R,{meta:{...P.meta,completedBy:K}},"user"),!0}catch(P){return console.error("Error toggling todo:",P),!1}},toggleCompletion:async(R,k)=>{try{const P=n.find(ne=>ne.id===R);if(!P)return!1;const U=P.meta?.completedBy||[],K=U.includes(k)?U.filter(ne=>ne!==k):[...U,k];return await M(R,{meta:{...P.meta,completedBy:K}},"user"),!0}catch(P){return console.error("Error toggling completion:",P),!1}},togglePin:async(R,k)=>{if(!b)throw new Error("Only admin and co-leaders can pin/unpin notices");try{return await M(R,{isPinned:!k},"admin"),!0}catch(P){return console.error("Error toggling pin:",P),!1}}}}function kA({semester:t,allData:e,handleDataChange:n,selectedStudent:s,subjectsConfig:i}){const{notices:c}=Bf(s,t),u=i?.[t]?.theory||[],f=G.useMemo(()=>c.filter(h=>h.type==="assessment"),[c]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Theory Subjects"}),o.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",u.length," subjects"]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map((h,p)=>{const x=h.name;return o.jsx(k3,{subject:x,subjectConfig:h,onDataChange:(b,w)=>n(b,w,"theory"),initialData:e[`${t}-${x}`]?.data,assessmentNotices:f},`${t}-${x}-${p}`)})})]})}const CA=G.memo(function({subject:e,subjectConfig:n,onDataChange:s,initialData:i,notices:c=[],onToggleTodo:u,currentUserRollNo:f}){const[h,p]=G.useState(new Set),x=n?.labCount||10;G.useEffect(()=>{i&&Array.isArray(i)&&p(new Set(i))},[i]);const b=G.useMemo(()=>{const M=new Set;return!f||!c.length||c.forEach(z=>{z.type==="todo"&&z.meta?.practicalSubject===e&&z.meta?.labNumber&&z.meta?.completedBy?.includes(f)&&(Array.isArray(z.meta.labNumber)?z.meta.labNumber.forEach(O=>M.add(Number(O))):M.add(Number(z.meta.labNumber)))}),M},[c,e,f]),w=G.useMemo(()=>new Set([...h,...b]),[h,b]),_=M=>{if(w.has(M)){if(h.has(M)){const O=new Set(h);O.delete(M),p(O),s&&s(e,Array.from(O))}u&&f&&c.forEach(O=>{if(O.type==="todo"&&O.meta?.practicalSubject===e&&O.meta?.labNumber&&O.meta?.completedBy?.includes(f)){let D=!1;Array.isArray(O.meta.labNumber)?D=O.meta.labNumber.some(F=>Number(F)===M):D=Number(O.meta.labNumber)===M,D&&u(O.id,f)}})}else{const O=new Set(h);O.add(M),p(O),s&&s(e,Array.from(O)),u&&f&&c.forEach(D=>{if(D.type==="todo"&&D.meta?.practicalSubject===e&&D.meta?.labNumber&&!D.meta?.completedBy?.includes(f)){let F=!1;if(Array.isArray(D.meta.labNumber)?F=D.meta.labNumber.some(q=>Number(q)===M):F=Number(D.meta.labNumber)===M,F){let q=!0;Array.isArray(D.meta.labNumber)?q=D.meta.labNumber.every(Y=>O.has(Number(Y))):q=!0,q&&u(D.id,f)}}})}},C=w.size/x*100;return o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 p-4 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ap,{className:"w-6 h-6"}),o.jsx("h3",{className:"text-lg font-bold",children:e}),o.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Practical"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"text-sm opacity-90",children:[w.size,"/",x]}),o.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${C}%`}})})]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-4 flex items-center gap-2",children:[o.jsx(Zl,{className:"w-4 h-4"}),"Lab Experiments (",w.size,"/",x," completed)",b.size>0&&o.jsxs("span",{className:"text-xs text-yellow-600 flex items-center gap-1",children:[o.jsx(C0,{className:"w-3 h-3"}),b.size," auto"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Array.from({length:x},(M,z)=>z+1).map(M=>{const z=b.has(M),O=w.has(M);return o.jsx("button",{onClick:()=>_(M),title:z?"Auto-marked from TODO notice (Click to unmark both)":void 0,className:`
                  flex items-center justify-center p-4 rounded-2xl border-2 transition-all duration-200 font-medium
                  ${z?"bg-yellow-100 border-yellow-500 text-yellow-700 shadow-md":O?"bg-green-100 border-green-500 text-green-700 shadow-md":"bg-gray-50 border-gray-200 text-gray-600 hover:border-green-300 hover:bg-green-50"}
                `,children:o.jsxs("div",{className:"flex items-center gap-2",children:[z?o.jsx(C0,{className:"w-4 h-4"}):O?o.jsx(Zl,{className:"w-4 h-4"}):o.jsx(jp,{className:"w-4 h-4"}),o.jsxs("span",{children:["Lab ",M]})]})},M)})}),C===100&&o.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:o.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[o.jsx(p3,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"All labs completed! Great work! "})]})})]})]})});function DA({semester:t,allData:e,handleDataChange:n,selectedStudent:s,subjectsConfig:i}){const{notices:c,toggleTodo:u}=Bf(s,t),f=i?.[t]?.practical||[];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practical Subjects"}),o.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",f.length," labs"]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.map((h,p)=>{const x=h.name;return o.jsx(CA,{subject:x,subjectConfig:h,onDataChange:(b,w)=>n(b,w,"practical"),initialData:e[`${t}-${x}`]?.data,notices:c,onToggleTodo:u,currentUserRollNo:s?.rollNo},`${t}-${x}-${p}`)})})]})}const RA={};var ip=null;function IA(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return RA.randomBytes(t)}catch{}if(!ip)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return ip(t)}function MA(t){ip=t}function vg(t,e){if(t=t||wg,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(hf(IA(Qc),Qc)),n.join("")}function g_(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=wg;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function s(i){$r(function(){try{i(null,vg(t))}catch(c){i(c)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(i,c){s(function(u,f){if(u){c(u);return}i(f)})})}function x_(t,e){if(typeof e>"u"&&(e=wg),typeof e=="number"&&(e=vg(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return lp(t,e)}function y_(t,e,n,s){function i(c){typeof t=="string"&&typeof e=="number"?g_(e,function(u,f){lp(t,f,c,s)}):typeof t=="string"&&typeof e=="string"?lp(t,e,c,s):$r(c.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(c,u){i(function(f,h){if(f){u(f);return}c(h)})})}function b_(t,e){for(var n=t.length^e.length,s=0;s<t.length;++s)n|=t.charCodeAt(s)^e.charCodeAt(s);return n===0}function OA(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:b_(x_(t,e.substring(0,e.length-31)),e)}function VA(t,e,n,s){function i(c){if(typeof t!="string"||typeof e!="string"){$r(c.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){$r(c.bind(this,null,!1));return}y_(t,e.substring(0,29),function(u,f){u?c(u):c(null,b_(f,e))},s)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(c,u){i(function(f,h){if(f){u(f);return}c(h)})})}function PA(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function LA(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function zA(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return v_(t)>72}var $r=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function v_(t){for(var e=0,n=0,s=0;s<t.length;++s)n=t.charCodeAt(s),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(s+1)&64512)===56320?(++s,e+=4):e+=3;return e}function UA(t){for(var e=0,n,s,i=new Array(v_(t)),c=0,u=t.length;c<u;++c)n=t.charCodeAt(c),n<128?i[e++]=n:n<2048?(i[e++]=n>>6|192,i[e++]=n&63|128):(n&64512)===55296&&((s=t.charCodeAt(c+1))&64512)===56320?(n=65536+((n&1023)<<10)+(s&1023),++c,i[e++]=n>>18|240,i[e++]=n>>12&63|128,i[e++]=n>>6&63|128,i[e++]=n&63|128):(i[e++]=n>>12|224,i[e++]=n>>6&63|128,i[e++]=n&63|128);return i}var Vl="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Da=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function hf(t,e){var n=0,s=[],i,c;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(i=t[n++]&255,s.push(Vl[i>>2&63]),i=(i&3)<<4,n>=e){s.push(Vl[i&63]);break}if(c=t[n++]&255,i|=c>>4&15,s.push(Vl[i&63]),i=(c&15)<<2,n>=e){s.push(Vl[i&63]);break}c=t[n++]&255,i|=c>>6&3,s.push(Vl[i&63]),s.push(Vl[c&63])}return s.join("")}function w_(t,e){var n=0,s=t.length,i=0,c=[],u,f,h,p,x,b;if(e<=0)throw Error("Illegal len: "+e);for(;n<s-1&&i<e&&(b=t.charCodeAt(n++),u=b<Da.length?Da[b]:-1,b=t.charCodeAt(n++),f=b<Da.length?Da[b]:-1,!(u==-1||f==-1||(x=u<<2>>>0,x|=(f&48)>>4,c.push(String.fromCharCode(x)),++i>=e||n>=s)||(b=t.charCodeAt(n++),h=b<Da.length?Da[b]:-1,h==-1)||(x=(f&15)<<4>>>0,x|=(h&60)>>2,c.push(String.fromCharCode(x)),++i>=e||n>=s)));)b=t.charCodeAt(n++),p=b<Da.length?Da[b]:-1,x=(h&3)<<6>>>0,x|=p,c.push(String.fromCharCode(x)),++i;var w=[];for(n=0;n<i;n++)w.push(c[n].charCodeAt(0));return w}var Qc=16,wg=10,BA=16,FA=100,Tv=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Sv=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],__=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Xc(t,e,n,s){var i,c=t[e],u=t[e+1];return c^=n[0],i=s[c>>>24],i+=s[256|c>>16&255],i^=s[512|c>>8&255],i+=s[768|c&255],u^=i^n[1],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],c^=i^n[2],i=s[c>>>24],i+=s[256|c>>16&255],i^=s[512|c>>8&255],i+=s[768|c&255],u^=i^n[3],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],c^=i^n[4],i=s[c>>>24],i+=s[256|c>>16&255],i^=s[512|c>>8&255],i+=s[768|c&255],u^=i^n[5],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],c^=i^n[6],i=s[c>>>24],i+=s[256|c>>16&255],i^=s[512|c>>8&255],i+=s[768|c&255],u^=i^n[7],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],c^=i^n[8],i=s[c>>>24],i+=s[256|c>>16&255],i^=s[512|c>>8&255],i+=s[768|c&255],u^=i^n[9],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],c^=i^n[10],i=s[c>>>24],i+=s[256|c>>16&255],i^=s[512|c>>8&255],i+=s[768|c&255],u^=i^n[11],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],c^=i^n[12],i=s[c>>>24],i+=s[256|c>>16&255],i^=s[512|c>>8&255],i+=s[768|c&255],u^=i^n[13],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],c^=i^n[14],i=s[c>>>24],i+=s[256|c>>16&255],i^=s[512|c>>8&255],i+=s[768|c&255],u^=i^n[15],i=s[u>>>24],i+=s[256|u>>16&255],i^=s[512|u>>8&255],i+=s[768|u&255],c^=i^n[16],t[e]=u^n[BA+1],t[e+1]=c,t}function ql(t,e){for(var n=0,s=0;n<4;++n)s=s<<8|t[e]&255,e=(e+1)%t.length;return{key:s,offp:e}}function jv(t,e,n){for(var s=0,i=[0,0],c=e.length,u=n.length,f,h=0;h<c;h++)f=ql(t,s),s=f.offp,e[h]=e[h]^f.key;for(h=0;h<c;h+=2)i=Xc(i,0,e,n),e[h]=i[0],e[h+1]=i[1];for(h=0;h<u;h+=2)i=Xc(i,0,e,n),n[h]=i[0],n[h+1]=i[1]}function qA(t,e,n,s){for(var i=0,c=[0,0],u=n.length,f=s.length,h,p=0;p<u;p++)h=ql(e,i),i=h.offp,n[p]=n[p]^h.key;for(i=0,p=0;p<u;p+=2)h=ql(t,i),i=h.offp,c[0]^=h.key,h=ql(t,i),i=h.offp,c[1]^=h.key,c=Xc(c,0,n,s),n[p]=c[0],n[p+1]=c[1];for(p=0;p<f;p+=2)h=ql(t,i),i=h.offp,c[0]^=h.key,h=ql(t,i),i=h.offp,c[1]^=h.key,c=Xc(c,0,n,s),s[p]=c[0],s[p+1]=c[1]}function Av(t,e,n,s,i){var c=__.slice(),u=c.length,f;if(n<4||n>31)if(f=Error("Illegal number of rounds (4-31): "+n),s){$r(s.bind(this,f));return}else throw f;if(e.length!==Qc)if(f=Error("Illegal salt length: "+e.length+" != "+Qc),s){$r(s.bind(this,f));return}else throw f;n=1<<n>>>0;var h,p,x=0,b;typeof Int32Array=="function"?(h=new Int32Array(Tv),p=new Int32Array(Sv)):(h=Tv.slice(),p=Sv.slice()),qA(e,t,h,p);function w(){if(i&&i(x/n),x<n)for(var C=Date.now();x<n&&(x=x+1,jv(t,h,p),jv(e,h,p),!(Date.now()-C>FA)););else{for(x=0;x<64;x++)for(b=0;b<u>>1;b++)Xc(c,b<<1,h,p);var M=[];for(x=0;x<u;x++)M.push((c[x]>>24&255)>>>0),M.push((c[x]>>16&255)>>>0),M.push((c[x]>>8&255)>>>0),M.push((c[x]&255)>>>0);if(s){s(null,M);return}else return M}s&&$r(w)}if(typeof s<"u")w();else for(var _;;)if(typeof(_=w())<"u")return _||[]}function lp(t,e,n,s){var i;if(typeof t!="string"||typeof e!="string")if(i=Error("Invalid string / salt: Not a string"),n){$r(n.bind(this,i));return}else throw i;var c,u;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(i=Error("Invalid salt version: "+e.substring(0,2)),n){$r(n.bind(this,i));return}else throw i;if(e.charAt(2)==="$")c="\0",u=3;else{if(c=e.charAt(2),c!=="a"&&c!=="b"&&c!=="y"||e.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+e.substring(2,4)),n){$r(n.bind(this,i));return}else throw i;u=4}if(e.charAt(u+2)>"$")if(i=Error("Missing salt rounds"),n){$r(n.bind(this,i));return}else throw i;var f=parseInt(e.substring(u,u+1),10)*10,h=parseInt(e.substring(u+1,u+2),10),p=f+h,x=e.substring(u+3,u+25);t+=c>="a"?"\0":"";var b=UA(t),w=w_(x,Qc);function _(C){var M=[];return M.push("$2"),c>="a"&&M.push(c),M.push("$"),p<10&&M.push("0"),M.push(p.toString()),M.push("$"),M.push(hf(w,w.length)),M.push(hf(C,__.length*4-1)),M.join("")}if(typeof n>"u")return _(Av(b,w,p));Av(b,w,p,function(C,M){C?n(C,null):n(null,_(M))},s)}function $A(t,e){return hf(t,e)}function HA(t,e){return w_(t,e)}const yc={setRandomFallback:MA,genSaltSync:vg,genSalt:g_,hashSync:x_,hash:y_,compareSync:OA,compare:VA,getRounds:PA,getSalt:LA,truncates:zA,encodeBase64:$A,decodeBase64:HA};function N_(){const[t,e]=G.useState([]),[n,s]=G.useState(null),[i,c]=G.useState(!0),[u,f]=G.useState(!1),h=n&&n.rollNo===Me.rollNo,p=async()=>{try{c(!0);const q=await o0(Gl(dt,"students")),Y=[];if(q.forEach(A=>{Y.push(A.data())}),!Y.some(A=>A.rollNo===Me.rollNo)){const A={...Me,password:yc.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Me.admissionYear||new Date().getFullYear(),isDSY:Me.isDSY||!1};Y.push(A),await fr(Ot(dt,"students",Me.rollNo),A)}const V=Y.filter(A=>A.rollNo!==Me.rollNo&&E3(A));if(V.length>0){console.log(`Auto-deleting ${V.length} expired student profiles.`);const A=ff(dt);for(const k of V){A.delete(Ot(dt,"students",k.rollNo)),A.delete(Ot(dt,"userNotes",k.rollNo));const P=df(Gl(dt,"academic-data"),ap("studentId","==",k.rollNo));(await o0(P)).forEach(E=>A.delete(E.ref))}await A.commit();const R=Y.filter(k=>!V.some(P=>P.rollNo===k.rollNo));e(R),Y.splice(0,Y.length,...R)}else e(Y);try{const A=localStorage.getItem("selected-student");if(A){const R=JSON.parse(A),k=Y.find(P=>P.rollNo===R.rollNo);k?s(k):localStorage.removeItem("selected-student")}}catch{localStorage.removeItem("selected-student")}f(!0)}catch(q){console.error("Error loading students:",q);const Y={...Me,password:yc.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Me.admissionYear,isDSY:!1,isYD:Me.isYD||!1};e([Y]),f(!0)}finally{c(!1)}},x=async(q,Y,I="",V="student",A=new Date().getFullYear(),R=!1,k=!1)=>{try{const P=Number(A);if(!Number.isInteger(P)||P<2e3||P>new Date().getFullYear())throw new Error("Invalid admission year");if(typeof R!="boolean")throw new Error("Invalid DSY flag");const U={rollNo:q,name:Y,admissionYear:P,isDSY:R,isYD:k,isProtected:!!I,password:I?yc.hashSync(I,10):null,role:V};if(t.some(K=>K.rollNo===q))throw new Error("Student with this roll number already exists");return await fr(Ot(dt,"students",q),U),e([...t,U]),!0}catch(P){throw console.error("Error creating student:",P),P}},b=async(q,Y)=>{try{if(q===Me.rollNo)throw new Error("Cannot change admin role");const I=t.find(A=>A.rollNo===q);if(!I)throw new Error("Student not found");let V={...I,role:Y};return Y==="co-leader"&&!I.permissions&&(V.permissions={canCreateUsers:!0,canPostNotices:!0,canAppointCoLeaders:!1,canManagePasswords:!1}),Y==="student"&&I.role==="co-leader"&&delete V.permissions,await fr(Ot(dt,"students",q),V),e(t.map(A=>A.rollNo===q?V:A)),n&&n.rollNo===q&&(s(V),localStorage.setItem("selected-student",JSON.stringify(V))),!0}catch(I){throw console.error("Error updating role:",I),I}},w=async(q,Y)=>{try{if(!Y||!Y.trim())throw new Error("Name cannot be empty");const I=t.find(A=>A.rollNo===q);if(!I)throw new Error("Student not found");const V={...I,name:Y.trim()};return await fr(Ot(dt,"students",q),V),e(t.map(A=>A.rollNo===q?V:A)),n&&n.rollNo===q&&(s(V),localStorage.setItem("selected-student",JSON.stringify(V))),!0}catch(I){throw console.error("Error updating name:",I),I}},_=async(q,Y)=>{try{if(typeof Y!="boolean")throw new Error("isDSY must be a boolean");const I=t.find(A=>A.rollNo===q);if(!I)throw new Error("Student not found");const V={...I,isDSY:Y};return await fr(Ot(dt,"students",q),V),e(t.map(A=>A.rollNo===q?V:A)),n&&n.rollNo===q&&(s(V),localStorage.setItem("selected-student",JSON.stringify(V))),!0}catch(I){throw console.error("Error updating isDSY:",I),I}},C=async(q,Y)=>{try{if(typeof Y!="boolean")throw new Error("isYD must be a boolean");const I=t.find(A=>A.rollNo===q);if(!I)throw new Error("Student not found");const V={...I,isYD:Y};return await fr(Ot(dt,"students",q),V),e(t.map(A=>A.rollNo===q?V:A)),n&&n.rollNo===q&&(s(V),localStorage.setItem("selected-student",JSON.stringify(V))),!0}catch(I){throw console.error("Error updating isYD:",I),I}},M=async q=>{try{if(q===Me.rollNo)throw new Error("Cannot delete admin student");await m_(Ot(dt,"students",q));const Y=ff(dt),I=df(Gl(dt,"academic-data"),ap("studentId","==",q));(await o0(I)).forEach(R=>{Y.delete(R.ref)});const A=Ot(dt,"userNotes",q);return Y.delete(A),await Y.commit(),e(t.filter(R=>R.rollNo!==q)),n&&n.rollNo===q&&(s(null),localStorage.removeItem("selected-student")),!0}catch(Y){throw console.error("Error deleting student:",Y),Y}},z=async(q,Y)=>{try{return q.isProtected?Y?await yc.compare(Y,q.password):!1:!0}catch(I){return console.error("Error authenticating student:",I),!1}},O=async(q,Y,I=!1)=>{try{const V=t.find(R=>R.rollNo===q);if(!V)throw new Error("Student not found");const A={...V,password:I?null:yc.hashSync(Y,10),isProtected:!I};return await fr(Ot(dt,"students",q),A),e(t.map(R=>R.rollNo===q?A:R)),!0}catch(V){throw console.error("Error updating password:",V),V}},D=async(q,Y)=>{try{const I=t.find(A=>A.rollNo===q);if(!I)throw new Error("Student not found");if(I.role!=="co-leader")throw new Error("Can only update permissions for co-leaders");const V={...I,permissions:Y};return await fr(Ot(dt,"students",q),V),e(t.map(A=>A.rollNo===q?V:A)),n&&n.rollNo===q&&(s(V),localStorage.setItem("selected-student",JSON.stringify(V))),!0}catch(I){throw console.error("Error updating co-leader permissions:",I),I}},F=q=>{const Y=n;if(Y&&Y.rollNo!==q?.rollNo){const I=`academic-data-${Y.rollNo}`;localStorage.removeItem(I)}s(q),q?localStorage.setItem("selected-student",JSON.stringify(q)):localStorage.removeItem("selected-student")};return G.useEffect(()=>{p()},[]),{students:t,selectedStudent:n,isAdmin:h,isLoading:i,hasInitialized:u,createStudent:x,deleteStudent:M,selectStudent:F,authenticateStudent:z,updateStudentPassword:O,updateStudentRole:b,updateCoLeaderPermissions:D,updateStudentName:w,updateStudentDSY:_,updateStudentYD:C,loadStudents:p}}function YA(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const GA=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QA=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,XA={};function kv(t,e){return(XA.jsx?QA:GA).test(t)}const KA=/[ \t\n\f\r]/g;function ZA(t){return typeof t=="object"?t.type==="text"?Cv(t.value):!1:Cv(t)}function Cv(t){return t.replace(KA,"")===""}class cu{constructor(e,n,s){this.normal=n,this.property=e,s&&(this.space=s)}}cu.prototype.normal={};cu.prototype.property={};cu.prototype.space=void 0;function E_(t,e){const n={},s={};for(const i of t)Object.assign(n,i.property),Object.assign(s,i.normal);return new cu(n,s,e)}function op(t){return t.toLowerCase()}class er{constructor(e,n){this.attribute=n,this.property=e}}er.prototype.attribute="";er.prototype.booleanish=!1;er.prototype.boolean=!1;er.prototype.commaOrSpaceSeparated=!1;er.prototype.commaSeparated=!1;er.prototype.defined=!1;er.prototype.mustUseProperty=!1;er.prototype.number=!1;er.prototype.overloadedBoolean=!1;er.prototype.property="";er.prototype.spaceSeparated=!1;er.prototype.space=void 0;let JA=0;const He=Gi(),Kt=Gi(),cp=Gi(),we=Gi(),jt=Gi(),Xl=Gi(),dr=Gi();function Gi(){return 2**++JA}const up=Object.freeze(Object.defineProperty({__proto__:null,boolean:He,booleanish:Kt,commaOrSpaceSeparated:dr,commaSeparated:Xl,number:we,overloadedBoolean:cp,spaceSeparated:jt},Symbol.toStringTag,{value:"Module"})),u0=Object.keys(up);class _g extends er{constructor(e,n,s,i){let c=-1;if(super(e,n),Dv(this,"space",i),typeof s=="number")for(;++c<u0.length;){const u=u0[c];Dv(this,u0[c],(s&up[u])===up[u])}}}_g.prototype.defined=!0;function Dv(t,e,n){n&&(t[e]=n)}function ho(t){const e={},n={};for(const[s,i]of Object.entries(t.properties)){const c=new _g(s,t.transform(t.attributes||{},s),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(c.mustUseProperty=!0),e[s]=c,n[op(s)]=s,n[op(c.attribute)]=s}return new cu(e,n,t.space)}const T_=ho({properties:{ariaActiveDescendant:null,ariaAtomic:Kt,ariaAutoComplete:null,ariaBusy:Kt,ariaChecked:Kt,ariaColCount:we,ariaColIndex:we,ariaColSpan:we,ariaControls:jt,ariaCurrent:null,ariaDescribedBy:jt,ariaDetails:null,ariaDisabled:Kt,ariaDropEffect:jt,ariaErrorMessage:null,ariaExpanded:Kt,ariaFlowTo:jt,ariaGrabbed:Kt,ariaHasPopup:null,ariaHidden:Kt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:jt,ariaLevel:we,ariaLive:null,ariaModal:Kt,ariaMultiLine:Kt,ariaMultiSelectable:Kt,ariaOrientation:null,ariaOwns:jt,ariaPlaceholder:null,ariaPosInSet:we,ariaPressed:Kt,ariaReadOnly:Kt,ariaRelevant:null,ariaRequired:Kt,ariaRoleDescription:jt,ariaRowCount:we,ariaRowIndex:we,ariaRowSpan:we,ariaSelected:Kt,ariaSetSize:we,ariaSort:null,ariaValueMax:we,ariaValueMin:we,ariaValueNow:we,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function S_(t,e){return e in t?t[e]:e}function j_(t,e){return S_(t,e.toLowerCase())}const WA=ho({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Xl,acceptCharset:jt,accessKey:jt,action:null,allow:null,allowFullScreen:He,allowPaymentRequest:He,allowUserMedia:He,alt:null,as:null,async:He,autoCapitalize:null,autoComplete:jt,autoFocus:He,autoPlay:He,blocking:jt,capture:null,charSet:null,checked:He,cite:null,className:jt,cols:we,colSpan:null,content:null,contentEditable:Kt,controls:He,controlsList:jt,coords:we|Xl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:He,defer:He,dir:null,dirName:null,disabled:He,download:cp,draggable:Kt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:He,formTarget:null,headers:jt,height:we,hidden:cp,high:we,href:null,hrefLang:null,htmlFor:jt,httpEquiv:jt,id:null,imageSizes:null,imageSrcSet:null,inert:He,inputMode:null,integrity:null,is:null,isMap:He,itemId:null,itemProp:jt,itemRef:jt,itemScope:He,itemType:jt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:He,low:we,manifest:null,max:null,maxLength:we,media:null,method:null,min:null,minLength:we,multiple:He,muted:He,name:null,nonce:null,noModule:He,noValidate:He,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:He,optimum:we,pattern:null,ping:jt,placeholder:null,playsInline:He,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:He,referrerPolicy:null,rel:jt,required:He,reversed:He,rows:we,rowSpan:we,sandbox:jt,scope:null,scoped:He,seamless:He,selected:He,shadowRootClonable:He,shadowRootDelegatesFocus:He,shadowRootMode:null,shape:null,size:we,sizes:null,slot:null,span:we,spellCheck:Kt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:we,step:null,style:null,tabIndex:we,target:null,title:null,translate:null,type:null,typeMustMatch:He,useMap:null,value:Kt,width:we,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:jt,axis:null,background:null,bgColor:null,border:we,borderColor:null,bottomMargin:we,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:He,declare:He,event:null,face:null,frame:null,frameBorder:null,hSpace:we,leftMargin:we,link:null,longDesc:null,lowSrc:null,marginHeight:we,marginWidth:we,noResize:He,noHref:He,noShade:He,noWrap:He,object:null,profile:null,prompt:null,rev:null,rightMargin:we,rules:null,scheme:null,scrolling:Kt,standby:null,summary:null,text:null,topMargin:we,valueType:null,version:null,vAlign:null,vLink:null,vSpace:we,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:He,disableRemotePlayback:He,prefix:null,property:null,results:we,security:null,unselectable:null},space:"html",transform:j_}),ek=ho({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:dr,accentHeight:we,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:we,amplitude:we,arabicForm:null,ascent:we,attributeName:null,attributeType:null,azimuth:we,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:we,by:null,calcMode:null,capHeight:we,className:jt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:we,diffuseConstant:we,direction:null,display:null,dur:null,divisor:we,dominantBaseline:null,download:He,dx:null,dy:null,edgeMode:null,editable:null,elevation:we,enableBackground:null,end:null,event:null,exponent:we,externalResourcesRequired:null,fill:null,fillOpacity:we,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Xl,g2:Xl,glyphName:Xl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:we,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:we,horizOriginX:we,horizOriginY:we,id:null,ideographic:we,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:we,k:we,k1:we,k2:we,k3:we,k4:we,kernelMatrix:dr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:we,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:we,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:we,overlineThickness:we,paintOrder:null,panose1:null,path:null,pathLength:we,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:jt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:we,pointsAtY:we,pointsAtZ:we,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:dr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:dr,rev:dr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:dr,requiredFeatures:dr,requiredFonts:dr,requiredFormats:dr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:we,specularExponent:we,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:we,strikethroughThickness:we,string:null,stroke:null,strokeDashArray:dr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:we,strokeOpacity:we,strokeWidth:null,style:null,surfaceScale:we,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:dr,tabIndex:we,tableValues:null,target:null,targetX:we,targetY:we,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:dr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:we,underlineThickness:we,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:we,values:null,vAlphabetic:we,vMathematical:we,vectorEffect:null,vHanging:we,vIdeographic:we,version:null,vertAdvY:we,vertOriginX:we,vertOriginY:we,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:we,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:S_}),A_=ho({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),k_=ho({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:j_}),C_=ho({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),tk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},nk=/[A-Z]/g,Rv=/-[a-z]/g,rk=/^data[-\w.:]+$/i;function sk(t,e){const n=op(e);let s=e,i=er;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rk.test(e)){if(e.charAt(4)==="-"){const c=e.slice(5).replace(Rv,ik);s="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=e.slice(4);if(!Rv.test(c)){let u=c.replace(nk,ak);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}i=_g}return new i(s,e)}function ak(t){return"-"+t.toLowerCase()}function ik(t){return t.charAt(1).toUpperCase()}const lk=E_([T_,WA,A_,k_,C_],"html"),Ng=E_([T_,ek,A_,k_,C_],"svg");function ok(t){return t.join(" ").trim()}var Pl={},d0,Iv;function ck(){if(Iv)return d0;Iv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,h=`
`,p="/",x="*",b="",w="comment",_="declaration";d0=function(M,z){if(typeof M!="string")throw new TypeError("First argument must be a string");if(!M)return[];z=z||{};var O=1,D=1;function F(E){var K=E.match(e);K&&(O+=K.length);var ne=E.lastIndexOf(h);D=~ne?E.length-ne:D+E.length}function q(){var E={line:O,column:D};return function(K){return K.position=new Y(E),A(),K}}function Y(E){this.start=E,this.end={line:O,column:D},this.source=z.source}Y.prototype.content=M;function I(E){var K=new Error(z.source+":"+O+":"+D+": "+E);if(K.reason=E,K.filename=z.source,K.line=O,K.column=D,K.source=M,!z.silent)throw K}function V(E){var K=E.exec(M);if(K){var ne=K[0];return F(ne),M=M.slice(ne.length),K}}function A(){V(n)}function R(E){var K;for(E=E||[];K=k();)K!==!1&&E.push(K);return E}function k(){var E=q();if(!(p!=M.charAt(0)||x!=M.charAt(1))){for(var K=2;b!=M.charAt(K)&&(x!=M.charAt(K)||p!=M.charAt(K+1));)++K;if(K+=2,b===M.charAt(K-1))return I("End of comment missing");var ne=M.slice(2,K-2);return D+=2,F(ne),M=M.slice(K),D+=2,E({type:w,comment:ne})}}function P(){var E=q(),K=V(s);if(K){if(k(),!V(i))return I("property missing ':'");var ne=V(c),X=E({type:_,property:C(K[0].replace(t,b)),value:ne?C(ne[0].replace(t,b)):b});return V(u),X}}function U(){var E=[];R(E);for(var K;K=P();)K!==!1&&(E.push(K),R(E));return E}return A(),U()};function C(M){return M?M.replace(f,b):b}return d0}var Mv;function uk(){if(Mv)return Pl;Mv=1;var t=Pl&&Pl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.default=n;var e=t(ck());function n(s,i){var c=null;if(!s||typeof s!="string")return c;var u=(0,e.default)(s),f=typeof i=="function";return u.forEach(function(h){if(h.type==="declaration"){var p=h.property,x=h.value;f?i(p,x,h):x&&(c=c||{},c[p]=x)}}),c}return Pl}var bc={},Ov;function dk(){if(Ov)return bc;Ov=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,c=function(p){return!p||n.test(p)||t.test(p)},u=function(p,x){return x.toUpperCase()},f=function(p,x){return"".concat(x,"-")},h=function(p,x){return x===void 0&&(x={}),c(p)?p:(p=p.toLowerCase(),x.reactCompat?p=p.replace(i,f):p=p.replace(s,f),p.replace(e,u))};return bc.camelCase=h,bc}var vc,Vv;function fk(){if(Vv)return vc;Vv=1;var t=vc&&vc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(uk()),n=dk();function s(i,c){var u={};return!i||typeof i!="string"||(0,e.default)(i,function(f,h){f&&h&&(u[(0,n.camelCase)(f,c)]=h)}),u}return s.default=s,vc=s,vc}var hk=fk();const mk=yf(hk),D_=R_("end"),Eg=R_("start");function R_(t){return e;function e(n){const s=n&&n.position&&n.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function pk(t){const e=Eg(t),n=D_(t);if(e&&n)return{start:e,end:n}}function Mc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Pv(t.position):"start"in t||"end"in t?Pv(t):"line"in t||"column"in t?dp(t):""}function dp(t){return Lv(t&&t.line)+":"+Lv(t&&t.column)}function Pv(t){return dp(t&&t.start)+"-"+dp(t&&t.end)}function Lv(t){return t&&typeof t=="number"?t:1}class Pn extends Error{constructor(e,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let i="",c={},u=!1;if(n&&("line"in n&&"column"in n?c={place:n}:"start"in n&&"end"in n?c={place:n}:"type"in n?c={ancestors:[n],place:n.position}:c={...n}),typeof e=="string"?i=e:!c.cause&&e&&(u=!0,i=e.message,c.cause=e),!c.ruleId&&!c.source&&typeof s=="string"){const h=s.indexOf(":");h===-1?c.ruleId=s:(c.source=s.slice(0,h),c.ruleId=s.slice(h+1))}if(!c.place&&c.ancestors&&c.ancestors){const h=c.ancestors[c.ancestors.length-1];h&&(c.place=h.position)}const f=c.place&&"start"in c.place?c.place.start:c.place;this.ancestors=c.ancestors||void 0,this.cause=c.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=f?f.line:void 0,this.name=Mc(c.place)||"1:1",this.place=c.place||void 0,this.reason=this.message,this.ruleId=c.ruleId||void 0,this.source=c.source||void 0,this.stack=u&&c.cause&&typeof c.cause.stack=="string"?c.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Pn.prototype.file="";Pn.prototype.name="";Pn.prototype.reason="";Pn.prototype.message="";Pn.prototype.stack="";Pn.prototype.column=void 0;Pn.prototype.line=void 0;Pn.prototype.ancestors=void 0;Pn.prototype.cause=void 0;Pn.prototype.fatal=void 0;Pn.prototype.place=void 0;Pn.prototype.ruleId=void 0;Pn.prototype.source=void 0;const Tg={}.hasOwnProperty,gk=new Map,xk=/[A-Z]/g,yk=new Set(["table","tbody","thead","tfoot","tr"]),bk=new Set(["td","th"]),I_="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vk(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let s;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=Ak(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=jk(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Ng:lk,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},c=M_(i,t,void 0);return c&&typeof c!="string"?c:i.create(t,i.Fragment,{children:c||void 0},void 0)}function M_(t,e,n){if(e.type==="element")return wk(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return _k(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Ek(t,e,n);if(e.type==="mdxjsEsm")return Nk(t,e);if(e.type==="root")return Tk(t,e,n);if(e.type==="text")return Sk(t,e)}function wk(t,e,n){const s=t.schema;let i=s;e.tagName.toLowerCase()==="svg"&&s.space==="html"&&(i=Ng,t.schema=i),t.ancestors.push(e);const c=V_(t,e.tagName,!1),u=kk(t,e);let f=jg(t,e);return yk.has(e.tagName)&&(f=f.filter(function(h){return typeof h=="string"?!ZA(h):!0})),O_(t,u,c,e),Sg(u,f),t.ancestors.pop(),t.schema=s,t.create(e,c,u,n)}function _k(t,e){if(e.data&&e.data.estree&&t.evaluater){const s=e.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}Kc(t,e.position)}function Nk(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Kc(t,e.position)}function Ek(t,e,n){const s=t.schema;let i=s;e.name==="svg"&&s.space==="html"&&(i=Ng,t.schema=i),t.ancestors.push(e);const c=e.name===null?t.Fragment:V_(t,e.name,!0),u=Ck(t,e),f=jg(t,e);return O_(t,u,c,e),Sg(u,f),t.ancestors.pop(),t.schema=s,t.create(e,c,u,n)}function Tk(t,e,n){const s={};return Sg(s,jg(t,e)),t.create(e,t.Fragment,s,n)}function Sk(t,e){return e.value}function O_(t,e,n,s){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=s)}function Sg(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function jk(t,e,n){return s;function s(i,c,u,f){const p=Array.isArray(u.children)?n:e;return f?p(c,u,f):p(c,u)}}function Ak(t,e){return n;function n(s,i,c,u){const f=Array.isArray(c.children),h=Eg(s);return e(i,c,u,f,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function kk(t,e){const n={};let s,i;for(i in e.properties)if(i!=="children"&&Tg.call(e.properties,i)){const c=Dk(t,i,e.properties[i]);if(c){const[u,f]=c;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&bk.has(e.tagName)?s=f:n[u]=f}}if(s){const c=n.style||(n.style={});c[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function Ck(t,e){const n={};for(const s of e.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const c=s.data.estree.body[0];c.type;const u=c.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else Kc(t,e.position);else{const i=s.name;let c;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const f=s.value.data.estree.body[0];f.type,c=t.evaluater.evaluateExpression(f.expression)}else Kc(t,e.position);else c=s.value===null?!0:s.value;n[i]=c}return n}function jg(t,e){const n=[];let s=-1;const i=t.passKeys?new Map:gk;for(;++s<e.children.length;){const c=e.children[s];let u;if(t.passKeys){const h=c.type==="element"?c.tagName:c.type==="mdxJsxFlowElement"||c.type==="mdxJsxTextElement"?c.name:void 0;if(h){const p=i.get(h)||0;u=h+"-"+p,i.set(h,p+1)}}const f=M_(t,c,u);f!==void 0&&n.push(f)}return n}function Dk(t,e,n){const s=sk(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?YA(n):ok(n)),s.property==="style"){let i=typeof n=="object"?n:Rk(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Ik(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&s.space?tk[s.property]||s.property:s.attribute,n]}}function Rk(t,e){try{return mk(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const s=n,i=new Pn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=I_+"#cannot-parse-style-attribute",i}}function V_(t,e,n){let s;if(!n)s={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let c=-1,u;for(;++c<i.length;){const f=kv(i[c])?{type:"Identifier",name:i[c]}:{type:"Literal",value:i[c]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(c&&f.type==="Literal"),optional:!1}:f}s=u}else s=kv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(s.type==="Literal"){const i=s.value;return Tg.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(s);Kc(t)}function Kc(t,e){const n=new Pn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=I_+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ik(t){const e={};let n;for(n in t)Tg.call(t,n)&&(e[Mk(n)]=t[n]);return e}function Mk(t){let e=t.replace(xk,Ok);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Ok(t){return"-"+t.toLowerCase()}const f0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Vk={};function Ag(t,e){const n=Vk,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return P_(t,s,i)}function P_(t,e,n){if(Pk(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return zv(t.children,e,n)}return Array.isArray(t)?zv(t,e,n):""}function zv(t,e,n){const s=[];let i=-1;for(;++i<t.length;)s[i]=P_(t[i],e,n);return s.join("")}function Pk(t){return!!(t&&typeof t=="object")}const Uv=document.createElement("i");function kg(t){const e="&"+t+";";Uv.innerHTML=e;const n=Uv.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function mr(t,e,n,s){const i=t.length;let c=0,u;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,s.length<1e4)u=Array.from(s),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);c<s.length;)u=s.slice(c,c+1e4),u.unshift(e,0),t.splice(...u),c+=1e4,e+=1e4}function kr(t,e){return t.length>0?(mr(t,t.length,0,e),t):e}const Bv={}.hasOwnProperty;function L_(t){const e={};let n=-1;for(;++n<t.length;)Lk(e,t[n]);return e}function Lk(t,e){let n;for(n in e){const i=(Bv.call(t,n)?t[n]:void 0)||(t[n]={}),c=e[n];let u;if(c)for(u in c){Bv.call(i,u)||(i[u]=[]);const f=c[u];zk(i[u],Array.isArray(f)?f:f?[f]:[])}}}function zk(t,e){let n=-1;const s=[];for(;++n<e.length;)(e[n].add==="after"?t:s).push(e[n]);mr(t,0,0,s)}function z_(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Yr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fn=Ka(/[A-Za-z]/),Vn=Ka(/[\dA-Za-z]/),Uk=Ka(/[#-'*+\--9=?A-Z^-~]/);function mf(t){return t!==null&&(t<32||t===127)}const fp=Ka(/\d/),Bk=Ka(/[\dA-Fa-f]/),Fk=Ka(/[!-/:-@[-`{-~]/);function Oe(t){return t!==null&&t<-2}function Nt(t){return t!==null&&(t<0||t===32)}function Ze(t){return t===-2||t===-1||t===32}const Ff=Ka(new RegExp("\\p{P}|\\p{S}","u")),Fi=Ka(/\s/);function Ka(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function mo(t){const e=[];let n=-1,s=0,i=0;for(;++n<t.length;){const c=t.charCodeAt(n);let u="";if(c===37&&Vn(t.charCodeAt(n+1))&&Vn(t.charCodeAt(n+2)))i=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(u=String.fromCharCode(c));else if(c>55295&&c<57344){const f=t.charCodeAt(n+1);c<56320&&f>56319&&f<57344?(u=String.fromCharCode(c,f),i=1):u=""}else u=String.fromCharCode(c);u&&(e.push(t.slice(s,n),encodeURIComponent(u)),s=n+i+1,u=""),i&&(n+=i,i=0)}return e.join("")+t.slice(s)}function lt(t,e,n,s){const i=s?s-1:Number.POSITIVE_INFINITY;let c=0;return u;function u(h){return Ze(h)?(t.enter(n),f(h)):e(h)}function f(h){return Ze(h)&&c++<i?(t.consume(h),f):(t.exit(n),e(h))}}const qk={tokenize:$k};function $k(t){const e=t.attempt(this.parser.constructs.contentInitial,s,i);let n;return e;function s(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),lt(t,e,"linePrefix")}function i(f){return t.enter("paragraph"),c(f)}function c(f){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Oe(f)?(t.consume(f),t.exit("chunkText"),c):(t.consume(f),u)}}const Hk={tokenize:Yk},Fv={tokenize:Gk};function Yk(t){const e=this,n=[];let s=0,i,c,u;return f;function f(F){if(s<n.length){const q=n[s];return e.containerState=q[1],t.attempt(q[0].continuation,h,p)(F)}return p(F)}function h(F){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&D();const q=e.events.length;let Y=q,I;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){I=e.events[Y][1].end;break}O(s);let V=q;for(;V<e.events.length;)e.events[V][1].end={...I},V++;return mr(e.events,Y+1,0,e.events.slice(q)),e.events.length=V,p(F)}return f(F)}function p(F){if(s===n.length){if(!i)return w(F);if(i.currentConstruct&&i.currentConstruct.concrete)return C(F);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Fv,x,b)(F)}function x(F){return i&&D(),O(s),w(F)}function b(F){return e.parser.lazy[e.now().line]=s!==n.length,u=e.now().offset,C(F)}function w(F){return e.containerState={},t.attempt(Fv,_,C)(F)}function _(F){return s++,n.push([e.currentConstruct,e.containerState]),w(F)}function C(F){if(F===null){i&&D(),O(0),t.consume(F);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:c}),M(F)}function M(F){if(F===null){z(t.exit("chunkFlow"),!0),O(0),t.consume(F);return}return Oe(F)?(t.consume(F),z(t.exit("chunkFlow")),s=0,e.interrupt=void 0,f):(t.consume(F),M)}function z(F,q){const Y=e.sliceStream(F);if(q&&Y.push(null),F.previous=c,c&&(c.next=F),c=F,i.defineSkip(F.start),i.write(Y),e.parser.lazy[F.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<u&&(!i.events[I][1].end||i.events[I][1].end.offset>u))return;const V=e.events.length;let A=V,R,k;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){if(R){k=e.events[A][1].end;break}R=!0}for(O(s),I=V;I<e.events.length;)e.events[I][1].end={...k},I++;mr(e.events,A+1,0,e.events.slice(V)),e.events.length=I}}function O(F){let q=n.length;for(;q-- >F;){const Y=n[q];e.containerState=Y[1],Y[0].exit.call(e,t)}n.length=F}function D(){i.write([null]),c=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Gk(t,e,n){return lt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function so(t){if(t===null||Nt(t)||Fi(t))return 1;if(Ff(t))return 2}function qf(t,e,n){const s=[];let i=-1;for(;++i<t.length;){const c=t[i].resolveAll;c&&!s.includes(c)&&(e=c(e,n),s.push(c))}return e}const hp={name:"attention",resolveAll:Qk,tokenize:Xk};function Qk(t,e){let n=-1,s,i,c,u,f,h,p,x;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(s=n;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&e.sliceSerialize(t[s][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[s][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[s][1].end.offset-t[s][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[s][1].end},w={...t[n][1].start};qv(b,-h),qv(w,h),u={type:h>1?"strongSequence":"emphasisSequence",start:b,end:{...t[s][1].end}},f={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},c={type:h>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[n][1].start}},i={type:h>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[s][1].end={...u.start},t[n][1].start={...f.end},p=[],t[s][1].end.offset-t[s][1].start.offset&&(p=kr(p,[["enter",t[s][1],e],["exit",t[s][1],e]])),p=kr(p,[["enter",i,e],["enter",u,e],["exit",u,e],["enter",c,e]]),p=kr(p,qf(e.parser.constructs.insideSpan.null,t.slice(s+1,n),e)),p=kr(p,[["exit",c,e],["enter",f,e],["exit",f,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(x=2,p=kr(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):x=0,mr(t,s-1,n-s+3,p),n=s+p.length-x-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Xk(t,e){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,i=so(s);let c;return u;function u(h){return c=h,t.enter("attentionSequence"),f(h)}function f(h){if(h===c)return t.consume(h),f;const p=t.exit("attentionSequence"),x=so(h),b=!x||x===2&&i||n.includes(h),w=!i||i===2&&x||n.includes(s);return p._open=!!(c===42?b:b&&(i||!w)),p._close=!!(c===42?w:w&&(x||!b)),e(h)}}function qv(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Kk={name:"autolink",tokenize:Zk};function Zk(t,e,n){let s=0;return i;function i(_){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),c}function c(_){return Fn(_)?(t.consume(_),u):_===64?n(_):p(_)}function u(_){return _===43||_===45||_===46||Vn(_)?(s=1,f(_)):p(_)}function f(_){return _===58?(t.consume(_),s=0,h):(_===43||_===45||_===46||Vn(_))&&s++<32?(t.consume(_),f):(s=0,p(_))}function h(_){return _===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):_===null||_===32||_===60||mf(_)?n(_):(t.consume(_),h)}function p(_){return _===64?(t.consume(_),x):Uk(_)?(t.consume(_),p):n(_)}function x(_){return Vn(_)?b(_):n(_)}function b(_){return _===46?(t.consume(_),s=0,x):_===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):w(_)}function w(_){if((_===45||Vn(_))&&s++<63){const C=_===45?w:b;return t.consume(_),C}return n(_)}}const uu={partial:!0,tokenize:Jk};function Jk(t,e,n){return s;function s(c){return Ze(c)?lt(t,i,"linePrefix")(c):i(c)}function i(c){return c===null||Oe(c)?e(c):n(c)}}const U_={continuation:{tokenize:eC},exit:tC,name:"blockQuote",tokenize:Wk};function Wk(t,e,n){const s=this;return i;function i(u){if(u===62){const f=s.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),c}return n(u)}function c(u){return Ze(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function eC(t,e,n){const s=this;return i;function i(u){return Ze(u)?lt(t,c,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):c(u)}function c(u){return t.attempt(U_,e,n)(u)}}function tC(t){t.exit("blockQuote")}const B_={name:"characterEscape",tokenize:nC};function nC(t,e,n){return s;function s(c){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(c),t.exit("escapeMarker"),i}function i(c){return Fk(c)?(t.enter("characterEscapeValue"),t.consume(c),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(c)}}const F_={name:"characterReference",tokenize:rC};function rC(t,e,n){const s=this;let i=0,c,u;return f;function f(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),h}function h(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),c=31,u=Vn,x(b))}function p(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),c=6,u=Bk,x):(t.enter("characterReferenceValue"),c=7,u=fp,x(b))}function x(b){if(b===59&&i){const w=t.exit("characterReferenceValue");return u===Vn&&!kg(s.sliceSerialize(w))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(b)&&i++<c?(t.consume(b),x):n(b)}}const $v={partial:!0,tokenize:aC},Hv={concrete:!0,name:"codeFenced",tokenize:sC};function sC(t,e,n){const s=this,i={partial:!0,tokenize:Y};let c=0,u=0,f;return h;function h(I){return p(I)}function p(I){const V=s.events[s.events.length-1];return c=V&&V[1].type==="linePrefix"?V[2].sliceSerialize(V[1],!0).length:0,f=I,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(I)}function x(I){return I===f?(u++,t.consume(I),x):u<3?n(I):(t.exit("codeFencedFenceSequence"),Ze(I)?lt(t,b,"whitespace")(I):b(I))}function b(I){return I===null||Oe(I)?(t.exit("codeFencedFence"),s.interrupt?e(I):t.check($v,M,q)(I)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(I))}function w(I){return I===null||Oe(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(I)):Ze(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),lt(t,_,"whitespace")(I)):I===96&&I===f?n(I):(t.consume(I),w)}function _(I){return I===null||Oe(I)?b(I):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(I))}function C(I){return I===null||Oe(I)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(I)):I===96&&I===f?n(I):(t.consume(I),C)}function M(I){return t.attempt(i,q,z)(I)}function z(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),O}function O(I){return c>0&&Ze(I)?lt(t,D,"linePrefix",c+1)(I):D(I)}function D(I){return I===null||Oe(I)?t.check($v,M,q)(I):(t.enter("codeFlowValue"),F(I))}function F(I){return I===null||Oe(I)?(t.exit("codeFlowValue"),D(I)):(t.consume(I),F)}function q(I){return t.exit("codeFenced"),e(I)}function Y(I,V,A){let R=0;return k;function k(ne){return I.enter("lineEnding"),I.consume(ne),I.exit("lineEnding"),P}function P(ne){return I.enter("codeFencedFence"),Ze(ne)?lt(I,U,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):U(ne)}function U(ne){return ne===f?(I.enter("codeFencedFenceSequence"),E(ne)):A(ne)}function E(ne){return ne===f?(R++,I.consume(ne),E):R>=u?(I.exit("codeFencedFenceSequence"),Ze(ne)?lt(I,K,"whitespace")(ne):K(ne)):A(ne)}function K(ne){return ne===null||Oe(ne)?(I.exit("codeFencedFence"),V(ne)):A(ne)}}}function aC(t,e,n){const s=this;return i;function i(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),c)}function c(u){return s.parser.lazy[s.now().line]?n(u):e(u)}}const h0={name:"codeIndented",tokenize:lC},iC={partial:!0,tokenize:oC};function lC(t,e,n){const s=this;return i;function i(p){return t.enter("codeIndented"),lt(t,c,"linePrefix",5)(p)}function c(p){const x=s.events[s.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?u(p):n(p)}function u(p){return p===null?h(p):Oe(p)?t.attempt(iC,u,h)(p):(t.enter("codeFlowValue"),f(p))}function f(p){return p===null||Oe(p)?(t.exit("codeFlowValue"),u(p)):(t.consume(p),f)}function h(p){return t.exit("codeIndented"),e(p)}}function oC(t,e,n){const s=this;return i;function i(u){return s.parser.lazy[s.now().line]?n(u):Oe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),i):lt(t,c,"linePrefix",5)(u)}function c(u){const f=s.events[s.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):Oe(u)?i(u):n(u)}}const cC={name:"codeText",previous:dC,resolve:uC,tokenize:fC};function uC(t){let e=t.length-4,n=3,s,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(s=n;++s<e;)if(t[s][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(s=n-1,e++;++s<=e;)i===void 0?s!==e&&t[s][1].type!=="lineEnding"&&(i=s):(s===e||t[s][1].type==="lineEnding")&&(t[i][1].type="codeTextData",s!==i+2&&(t[i][1].end=t[s-1][1].end,t.splice(i+2,s-i-2),e-=s-i-2,s=i+2),i=void 0);return t}function dC(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fC(t,e,n){let s=0,i,c;return u;function u(b){return t.enter("codeText"),t.enter("codeTextSequence"),f(b)}function f(b){return b===96?(t.consume(b),s++,f):(t.exit("codeTextSequence"),h(b))}function h(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),h):b===96?(c=t.enter("codeTextSequence"),i=0,x(b)):Oe(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),h):(t.enter("codeTextData"),p(b))}function p(b){return b===null||b===32||b===96||Oe(b)?(t.exit("codeTextData"),h(b)):(t.consume(b),p)}function x(b){return b===96?(t.consume(b),i++,x):i===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(c.type="codeTextData",p(b))}}class hC{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,n,s){const i=n||0;this.setCursor(Math.trunc(e));const c=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return s&&wc(this.left,s),c.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),wc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),wc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);wc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);wc(this.left,n.reverse())}}}function wc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function q_(t){const e={};let n=-1,s,i,c,u,f,h,p;const x=new hC(t);for(;++n<x.length;){for(;n in e;)n=e[n];if(s=x.get(n),n&&s[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(h=s[1]._tokenizer.events,c=0,c<h.length&&h[c][1].type==="lineEndingBlank"&&(c+=2),c<h.length&&h[c][1].type==="content"))for(;++c<h.length&&h[c][1].type!=="content";)h[c][1].type==="chunkText"&&(h[c][1]._isInFirstContentOfListItem=!0,c++);if(s[0]==="enter")s[1].contentType&&(Object.assign(e,mC(x,n)),n=e[n],p=!0);else if(s[1]._container){for(c=n,i=void 0;c--;)if(u=x.get(c),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(i&&(x.get(i)[1].type="lineEndingBlank"),u[1].type="lineEnding",i=c);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;i&&(s[1].end={...x.get(i)[1].start},f=x.slice(i,n),f.unshift(s),x.splice(i,n-i+1,f))}}return mr(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!p}function mC(t,e){const n=t.get(e)[1],s=t.get(e)[2];let i=e-1;const c=[];let u=n._tokenizer;u||(u=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,h=[],p={};let x,b,w=-1,_=n,C=0,M=0;const z=[M];for(;_;){for(;t.get(++i)[1]!==_;);c.push(i),_._tokenizer||(x=s.sliceStream(_),_.next||x.push(null),b&&u.defineSkip(_.start),_._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(x),_._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),b=_,_=_.next}for(_=n;++w<f.length;)f[w][0]==="exit"&&f[w-1][0]==="enter"&&f[w][1].type===f[w-1][1].type&&f[w][1].start.line!==f[w][1].end.line&&(M=w+1,z.push(M),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(u.events=[],_?(_._tokenizer=void 0,_.previous=void 0):z.pop(),w=z.length;w--;){const O=f.slice(z[w],z[w+1]),D=c.pop();h.push([D,D+O.length-1]),t.splice(D,2,O)}for(h.reverse(),w=-1;++w<h.length;)p[C+h[w][0]]=C+h[w][1],C+=h[w][1]-h[w][0]-1;return p}const pC={resolve:xC,tokenize:yC},gC={partial:!0,tokenize:bC};function xC(t){return q_(t),t}function yC(t,e){let n;return s;function s(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(f)}function i(f){return f===null?c(f):Oe(f)?t.check(gC,u,c)(f):(t.consume(f),i)}function c(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function bC(t,e,n){const s=this;return i;function i(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),lt(t,c,"linePrefix")}function c(u){if(u===null||Oe(u))return n(u);const f=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(s.parser.constructs.flow,n,e)(u)}}function $_(t,e,n,s,i,c,u,f,h){const p=h||Number.POSITIVE_INFINITY;let x=0;return b;function b(O){return O===60?(t.enter(s),t.enter(i),t.enter(c),t.consume(O),t.exit(c),w):O===null||O===32||O===41||mf(O)?n(O):(t.enter(s),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),M(O))}function w(O){return O===62?(t.enter(c),t.consume(O),t.exit(c),t.exit(i),t.exit(s),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),_(O))}function _(O){return O===62?(t.exit("chunkString"),t.exit(f),w(O)):O===null||O===60||Oe(O)?n(O):(t.consume(O),O===92?C:_)}function C(O){return O===60||O===62||O===92?(t.consume(O),_):_(O)}function M(O){return!x&&(O===null||O===41||Nt(O))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(s),e(O)):x<p&&O===40?(t.consume(O),x++,M):O===41?(t.consume(O),x--,M):O===null||O===32||O===40||mf(O)?n(O):(t.consume(O),O===92?z:M)}function z(O){return O===40||O===41||O===92?(t.consume(O),M):M(O)}}function H_(t,e,n,s,i,c){const u=this;let f=0,h;return p;function p(_){return t.enter(s),t.enter(i),t.consume(_),t.exit(i),t.enter(c),x}function x(_){return f>999||_===null||_===91||_===93&&!h||_===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(_):_===93?(t.exit(c),t.enter(i),t.consume(_),t.exit(i),t.exit(s),e):Oe(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),b(_))}function b(_){return _===null||_===91||_===93||Oe(_)||f++>999?(t.exit("chunkString"),x(_)):(t.consume(_),h||(h=!Ze(_)),_===92?w:b)}function w(_){return _===91||_===92||_===93?(t.consume(_),f++,b):b(_)}}function Y_(t,e,n,s,i,c){let u;return f;function f(w){return w===34||w===39||w===40?(t.enter(s),t.enter(i),t.consume(w),t.exit(i),u=w===40?41:w,h):n(w)}function h(w){return w===u?(t.enter(i),t.consume(w),t.exit(i),t.exit(s),e):(t.enter(c),p(w))}function p(w){return w===u?(t.exit(c),h(u)):w===null?n(w):Oe(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),lt(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(w))}function x(w){return w===u||w===null||Oe(w)?(t.exit("chunkString"),p(w)):(t.consume(w),w===92?b:x)}function b(w){return w===u||w===92?(t.consume(w),x):x(w)}}function Oc(t,e){let n;return s;function s(i){return Oe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,s):Ze(i)?lt(t,s,n?"linePrefix":"lineSuffix")(i):e(i)}}const vC={name:"definition",tokenize:_C},wC={partial:!0,tokenize:NC};function _C(t,e,n){const s=this;let i;return c;function c(_){return t.enter("definition"),u(_)}function u(_){return H_.call(s,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function f(_){return i=Yr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),_===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),h):n(_)}function h(_){return Nt(_)?Oc(t,p)(_):p(_)}function p(_){return $_(t,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function x(_){return t.attempt(wC,b,b)(_)}function b(_){return Ze(_)?lt(t,w,"whitespace")(_):w(_)}function w(_){return _===null||Oe(_)?(t.exit("definition"),s.parser.defined.push(i),e(_)):n(_)}}function NC(t,e,n){return s;function s(f){return Nt(f)?Oc(t,i)(f):n(f)}function i(f){return Y_(t,c,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function c(f){return Ze(f)?lt(t,u,"whitespace")(f):u(f)}function u(f){return f===null||Oe(f)?e(f):n(f)}}const EC={name:"hardBreakEscape",tokenize:TC};function TC(t,e,n){return s;function s(c){return t.enter("hardBreakEscape"),t.consume(c),i}function i(c){return Oe(c)?(t.exit("hardBreakEscape"),e(c)):n(c)}}const SC={name:"headingAtx",resolve:jC,tokenize:AC};function jC(t,e){let n=t.length-2,s=3,i,c;return t[s][1].type==="whitespace"&&(s+=2),n-2>s&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&t[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(i={type:"atxHeadingText",start:t[s][1].start,end:t[n][1].end},c={type:"chunkText",start:t[s][1].start,end:t[n][1].end,contentType:"text"},mr(t,s,n-s+1,[["enter",i,e],["enter",c,e],["exit",c,e],["exit",i,e]])),t}function AC(t,e,n){let s=0;return i;function i(x){return t.enter("atxHeading"),c(x)}function c(x){return t.enter("atxHeadingSequence"),u(x)}function u(x){return x===35&&s++<6?(t.consume(x),u):x===null||Nt(x)?(t.exit("atxHeadingSequence"),f(x)):n(x)}function f(x){return x===35?(t.enter("atxHeadingSequence"),h(x)):x===null||Oe(x)?(t.exit("atxHeading"),e(x)):Ze(x)?lt(t,f,"whitespace")(x):(t.enter("atxHeadingText"),p(x))}function h(x){return x===35?(t.consume(x),h):(t.exit("atxHeadingSequence"),f(x))}function p(x){return x===null||x===35||Nt(x)?(t.exit("atxHeadingText"),f(x)):(t.consume(x),p)}}const kC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Yv=["pre","script","style","textarea"],CC={concrete:!0,name:"htmlFlow",resolveTo:IC,tokenize:MC},DC={partial:!0,tokenize:VC},RC={partial:!0,tokenize:OC};function IC(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function MC(t,e,n){const s=this;let i,c,u,f,h;return p;function p(T){return x(T)}function x(T){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(T),b}function b(T){return T===33?(t.consume(T),w):T===47?(t.consume(T),c=!0,M):T===63?(t.consume(T),i=3,s.interrupt?e:j):Fn(T)?(t.consume(T),u=String.fromCharCode(T),z):n(T)}function w(T){return T===45?(t.consume(T),i=2,_):T===91?(t.consume(T),i=5,f=0,C):Fn(T)?(t.consume(T),i=4,s.interrupt?e:j):n(T)}function _(T){return T===45?(t.consume(T),s.interrupt?e:j):n(T)}function C(T){const H="CDATA[";return T===H.charCodeAt(f++)?(t.consume(T),f===H.length?s.interrupt?e:U:C):n(T)}function M(T){return Fn(T)?(t.consume(T),u=String.fromCharCode(T),z):n(T)}function z(T){if(T===null||T===47||T===62||Nt(T)){const H=T===47,oe=u.toLowerCase();return!H&&!c&&Yv.includes(oe)?(i=1,s.interrupt?e(T):U(T)):kC.includes(u.toLowerCase())?(i=6,H?(t.consume(T),O):s.interrupt?e(T):U(T)):(i=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(T):c?D(T):F(T))}return T===45||Vn(T)?(t.consume(T),u+=String.fromCharCode(T),z):n(T)}function O(T){return T===62?(t.consume(T),s.interrupt?e:U):n(T)}function D(T){return Ze(T)?(t.consume(T),D):k(T)}function F(T){return T===47?(t.consume(T),k):T===58||T===95||Fn(T)?(t.consume(T),q):Ze(T)?(t.consume(T),F):k(T)}function q(T){return T===45||T===46||T===58||T===95||Vn(T)?(t.consume(T),q):Y(T)}function Y(T){return T===61?(t.consume(T),I):Ze(T)?(t.consume(T),Y):F(T)}function I(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(t.consume(T),h=T,V):Ze(T)?(t.consume(T),I):A(T)}function V(T){return T===h?(t.consume(T),h=null,R):T===null||Oe(T)?n(T):(t.consume(T),V)}function A(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Nt(T)?Y(T):(t.consume(T),A)}function R(T){return T===47||T===62||Ze(T)?F(T):n(T)}function k(T){return T===62?(t.consume(T),P):n(T)}function P(T){return T===null||Oe(T)?U(T):Ze(T)?(t.consume(T),P):n(T)}function U(T){return T===45&&i===2?(t.consume(T),X):T===60&&i===1?(t.consume(T),de):T===62&&i===4?(t.consume(T),ee):T===63&&i===3?(t.consume(T),j):T===93&&i===5?(t.consume(T),ve):Oe(T)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(DC,pe,E)(T)):T===null||Oe(T)?(t.exit("htmlFlowData"),E(T)):(t.consume(T),U)}function E(T){return t.check(RC,K,pe)(T)}function K(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),ne}function ne(T){return T===null||Oe(T)?E(T):(t.enter("htmlFlowData"),U(T))}function X(T){return T===45?(t.consume(T),j):U(T)}function de(T){return T===47?(t.consume(T),u="",J):U(T)}function J(T){if(T===62){const H=u.toLowerCase();return Yv.includes(H)?(t.consume(T),ee):U(T)}return Fn(T)&&u.length<8?(t.consume(T),u+=String.fromCharCode(T),J):U(T)}function ve(T){return T===93?(t.consume(T),j):U(T)}function j(T){return T===62?(t.consume(T),ee):T===45&&i===2?(t.consume(T),j):U(T)}function ee(T){return T===null||Oe(T)?(t.exit("htmlFlowData"),pe(T)):(t.consume(T),ee)}function pe(T){return t.exit("htmlFlow"),e(T)}}function OC(t,e,n){const s=this;return i;function i(u){return Oe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),c):n(u)}function c(u){return s.parser.lazy[s.now().line]?n(u):e(u)}}function VC(t,e,n){return s;function s(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(uu,e,n)}}const PC={name:"htmlText",tokenize:LC};function LC(t,e,n){const s=this;let i,c,u;return f;function f(j){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(j),h}function h(j){return j===33?(t.consume(j),p):j===47?(t.consume(j),Y):j===63?(t.consume(j),F):Fn(j)?(t.consume(j),A):n(j)}function p(j){return j===45?(t.consume(j),x):j===91?(t.consume(j),c=0,C):Fn(j)?(t.consume(j),D):n(j)}function x(j){return j===45?(t.consume(j),_):n(j)}function b(j){return j===null?n(j):j===45?(t.consume(j),w):Oe(j)?(u=b,de(j)):(t.consume(j),b)}function w(j){return j===45?(t.consume(j),_):b(j)}function _(j){return j===62?X(j):j===45?w(j):b(j)}function C(j){const ee="CDATA[";return j===ee.charCodeAt(c++)?(t.consume(j),c===ee.length?M:C):n(j)}function M(j){return j===null?n(j):j===93?(t.consume(j),z):Oe(j)?(u=M,de(j)):(t.consume(j),M)}function z(j){return j===93?(t.consume(j),O):M(j)}function O(j){return j===62?X(j):j===93?(t.consume(j),O):M(j)}function D(j){return j===null||j===62?X(j):Oe(j)?(u=D,de(j)):(t.consume(j),D)}function F(j){return j===null?n(j):j===63?(t.consume(j),q):Oe(j)?(u=F,de(j)):(t.consume(j),F)}function q(j){return j===62?X(j):F(j)}function Y(j){return Fn(j)?(t.consume(j),I):n(j)}function I(j){return j===45||Vn(j)?(t.consume(j),I):V(j)}function V(j){return Oe(j)?(u=V,de(j)):Ze(j)?(t.consume(j),V):X(j)}function A(j){return j===45||Vn(j)?(t.consume(j),A):j===47||j===62||Nt(j)?R(j):n(j)}function R(j){return j===47?(t.consume(j),X):j===58||j===95||Fn(j)?(t.consume(j),k):Oe(j)?(u=R,de(j)):Ze(j)?(t.consume(j),R):X(j)}function k(j){return j===45||j===46||j===58||j===95||Vn(j)?(t.consume(j),k):P(j)}function P(j){return j===61?(t.consume(j),U):Oe(j)?(u=P,de(j)):Ze(j)?(t.consume(j),P):R(j)}function U(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),i=j,E):Oe(j)?(u=U,de(j)):Ze(j)?(t.consume(j),U):(t.consume(j),K)}function E(j){return j===i?(t.consume(j),i=void 0,ne):j===null?n(j):Oe(j)?(u=E,de(j)):(t.consume(j),E)}function K(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||Nt(j)?R(j):(t.consume(j),K)}function ne(j){return j===47||j===62||Nt(j)?R(j):n(j)}function X(j){return j===62?(t.consume(j),t.exit("htmlTextData"),t.exit("htmlText"),e):n(j)}function de(j){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),J}function J(j){return Ze(j)?lt(t,ve,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):ve(j)}function ve(j){return t.enter("htmlTextData"),u(j)}}const Cg={name:"labelEnd",resolveAll:FC,resolveTo:qC,tokenize:$C},zC={tokenize:HC},UC={tokenize:YC},BC={tokenize:GC};function FC(t){let e=-1;const n=[];for(;++e<t.length;){const s=t[e][1];if(n.push(t[e]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const i=s.type==="labelImage"?4:2;s.type="data",e+=i}}return t.length!==n.length&&mr(t,0,t.length,n),t}function qC(t,e){let n=t.length,s=0,i,c,u,f;for(;n--;)if(i=t[n][1],c){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(c=n,i.type!=="labelLink")){s=2;break}}else i.type==="labelEnd"&&(u=n);const h={type:t[c][1].type==="labelLink"?"link":"image",start:{...t[c][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[c][1].start},end:{...t[u][1].end}},x={type:"labelText",start:{...t[c+s+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",h,e],["enter",p,e]],f=kr(f,t.slice(c+1,c+s+3)),f=kr(f,[["enter",x,e]]),f=kr(f,qf(e.parser.constructs.insideSpan.null,t.slice(c+s+4,u-3),e)),f=kr(f,[["exit",x,e],t[u-2],t[u-1],["exit",p,e]]),f=kr(f,t.slice(u+1)),f=kr(f,[["exit",h,e]]),mr(t,c,t.length,f),t}function $C(t,e,n){const s=this;let i=s.events.length,c,u;for(;i--;)if((s.events[i][1].type==="labelImage"||s.events[i][1].type==="labelLink")&&!s.events[i][1]._balanced){c=s.events[i][1];break}return f;function f(w){return c?c._inactive?b(w):(u=s.parser.defined.includes(Yr(s.sliceSerialize({start:c.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),h):n(w)}function h(w){return w===40?t.attempt(zC,x,u?x:b)(w):w===91?t.attempt(UC,x,u?p:b)(w):u?x(w):b(w)}function p(w){return t.attempt(BC,x,b)(w)}function x(w){return e(w)}function b(w){return c._balanced=!0,n(w)}}function HC(t,e,n){return s;function s(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),i}function i(b){return Nt(b)?Oc(t,c)(b):c(b)}function c(b){return b===41?x(b):$_(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function u(b){return Nt(b)?Oc(t,h)(b):x(b)}function f(b){return n(b)}function h(b){return b===34||b===39||b===40?Y_(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function p(b){return Nt(b)?Oc(t,x)(b):x(b)}function x(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function YC(t,e,n){const s=this;return i;function i(f){return H_.call(s,t,c,u,"reference","referenceMarker","referenceString")(f)}function c(f){return s.parser.defined.includes(Yr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function GC(t,e,n){return s;function s(c){return t.enter("reference"),t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),i}function i(c){return c===93?(t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),t.exit("reference"),e):n(c)}}const QC={name:"labelStartImage",resolveAll:Cg.resolveAll,tokenize:XC};function XC(t,e,n){const s=this;return i;function i(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),c}function c(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):e(f)}}const KC={name:"labelStartLink",resolveAll:Cg.resolveAll,tokenize:ZC};function ZC(t,e,n){const s=this;return i;function i(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),c}function c(u){return u===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(u):e(u)}}const m0={name:"lineEnding",tokenize:JC};function JC(t,e){return n;function n(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),lt(t,e,"linePrefix")}}const Qd={name:"thematicBreak",tokenize:WC};function WC(t,e,n){let s=0,i;return c;function c(p){return t.enter("thematicBreak"),u(p)}function u(p){return i=p,f(p)}function f(p){return p===i?(t.enter("thematicBreakSequence"),h(p)):s>=3&&(p===null||Oe(p))?(t.exit("thematicBreak"),e(p)):n(p)}function h(p){return p===i?(t.consume(p),s++,h):(t.exit("thematicBreakSequence"),Ze(p)?lt(t,f,"whitespace")(p):f(p))}}const Zn={continuation:{tokenize:r9},exit:a9,name:"list",tokenize:n9},e9={partial:!0,tokenize:i9},t9={partial:!0,tokenize:s9};function n9(t,e,n){const s=this,i=s.events[s.events.length-1];let c=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,u=0;return f;function f(_){const C=s.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!s.containerState.marker||_===s.containerState.marker:fp(_)){if(s.containerState.type||(s.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),_===42||_===45?t.check(Qd,n,p)(_):p(_);if(!s.interrupt||_===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(_)}return n(_)}function h(_){return fp(_)&&++u<10?(t.consume(_),h):(!s.interrupt||u<2)&&(s.containerState.marker?_===s.containerState.marker:_===41||_===46)?(t.exit("listItemValue"),p(_)):n(_)}function p(_){return t.enter("listItemMarker"),t.consume(_),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||_,t.check(uu,s.interrupt?n:x,t.attempt(e9,w,b))}function x(_){return s.containerState.initialBlankLine=!0,c++,w(_)}function b(_){return Ze(_)?(t.enter("listItemPrefixWhitespace"),t.consume(_),t.exit("listItemPrefixWhitespace"),w):n(_)}function w(_){return s.containerState.size=c+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(_)}}function r9(t,e,n){const s=this;return s.containerState._closeFlow=void 0,t.check(uu,i,c);function i(f){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,lt(t,e,"listItemIndent",s.containerState.size+1)(f)}function c(f){return s.containerState.furtherBlankLines||!Ze(f)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,u(f)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(t9,e,u)(f))}function u(f){return s.containerState._closeFlow=!0,s.interrupt=void 0,lt(t,t.attempt(Zn,e,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function s9(t,e,n){const s=this;return lt(t,i,"listItemIndent",s.containerState.size+1);function i(c){const u=s.events[s.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===s.containerState.size?e(c):n(c)}}function a9(t){t.exit(this.containerState.type)}function i9(t,e,n){const s=this;return lt(t,i,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(c){const u=s.events[s.events.length-1];return!Ze(c)&&u&&u[1].type==="listItemPrefixWhitespace"?e(c):n(c)}}const Gv={name:"setextUnderline",resolveTo:l9,tokenize:o9};function l9(t,e){let n=t.length,s,i,c;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){s=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!c&&t[n][1].type==="definition"&&(c=n);const u={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",c?(t.splice(i,0,["enter",u,e]),t.splice(c+1,0,["exit",t[s][1],e]),t[s][1].end={...t[c][1].end}):t[s][1]=u,t.push(["exit",u,e]),t}function o9(t,e,n){const s=this;let i;return c;function c(p){let x=s.events.length,b;for(;x--;)if(s.events[x][1].type!=="lineEnding"&&s.events[x][1].type!=="linePrefix"&&s.events[x][1].type!=="content"){b=s.events[x][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||b)?(t.enter("setextHeadingLine"),i=p,u(p)):n(p)}function u(p){return t.enter("setextHeadingLineSequence"),f(p)}function f(p){return p===i?(t.consume(p),f):(t.exit("setextHeadingLineSequence"),Ze(p)?lt(t,h,"lineSuffix")(p):h(p))}function h(p){return p===null||Oe(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const c9={tokenize:u9};function u9(t){const e=this,n=t.attempt(uu,s,t.attempt(this.parser.constructs.flowInitial,i,lt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(pC,i)),"linePrefix")));return n;function s(c){if(c===null){t.consume(c);return}return t.enter("lineEndingBlank"),t.consume(c),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const d9={resolveAll:Q_()},f9=G_("string"),h9=G_("text");function G_(t){return{resolveAll:Q_(t==="text"?m9:void 0),tokenize:e};function e(n){const s=this,i=this.parser.constructs[t],c=n.attempt(i,u,f);return u;function u(x){return p(x)?c(x):f(x)}function f(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),h}function h(x){return p(x)?(n.exit("data"),c(x)):(n.consume(x),h)}function p(x){if(x===null)return!0;const b=i[x];let w=-1;if(b)for(;++w<b.length;){const _=b[w];if(!_.previous||_.previous.call(s,s.previous))return!0}return!1}}}function Q_(t){return e;function e(n,s){let i=-1,c;for(;++i<=n.length;)c===void 0?n[i]&&n[i][1].type==="data"&&(c=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==c+2&&(n[c][1].end=n[i-1][1].end,n.splice(c+2,i-c-2),i=c+2),c=void 0);return t?t(n,s):n}}function m9(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const s=t[n-1][1],i=e.sliceStream(s);let c=i.length,u=-1,f=0,h;for(;c--;){const p=i[c];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(p===-2)h=!0,f++;else if(p!==-1){c++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const p={type:n===t.length||h||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:c?u:s.start._bufferIndex+u,_index:s.start._index+c,line:s.end.line,column:s.end.column-f,offset:s.end.offset-f},end:{...s.end}};s.end={...p.start},s.start.offset===s.end.offset?Object.assign(s,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const p9={42:Zn,43:Zn,45:Zn,48:Zn,49:Zn,50:Zn,51:Zn,52:Zn,53:Zn,54:Zn,55:Zn,56:Zn,57:Zn,62:U_},g9={91:vC},x9={[-2]:h0,[-1]:h0,32:h0},y9={35:SC,42:Qd,45:[Gv,Qd],60:CC,61:Gv,95:Qd,96:Hv,126:Hv},b9={38:F_,92:B_},v9={[-5]:m0,[-4]:m0,[-3]:m0,33:QC,38:F_,42:hp,60:[Kk,PC],91:KC,92:[EC,B_],93:Cg,95:hp,96:cC},w9={null:[hp,d9]},_9={null:[42,95]},N9={null:[]},E9=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_9,contentInitial:g9,disable:N9,document:p9,flow:y9,flowInitial:x9,insideSpan:w9,string:b9,text:v9},Symbol.toStringTag,{value:"Module"}));function T9(t,e,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},c=[];let u=[],f=[];const h={attempt:V(Y),check:V(I),consume:D,enter:F,exit:q,interrupt:V(I,{interrupt:!0})},p={code:null,containerState:{},defineSkip:M,events:[],now:C,parser:t,previous:null,sliceSerialize:w,sliceStream:_,write:b};let x=e.tokenize.call(p,h);return e.resolveAll&&c.push(e),p;function b(P){return u=kr(u,P),z(),u[u.length-1]!==null?[]:(A(e,0),p.events=qf(c,p.events,p),p.events)}function w(P,U){return j9(_(P),U)}function _(P){return S9(u,P)}function C(){const{_bufferIndex:P,_index:U,line:E,column:K,offset:ne}=s;return{_bufferIndex:P,_index:U,line:E,column:K,offset:ne}}function M(P){i[P.line]=P.column,k()}function z(){let P;for(;s._index<u.length;){const U=u[s._index];if(typeof U=="string")for(P=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===P&&s._bufferIndex<U.length;)O(U.charCodeAt(s._bufferIndex));else O(U)}}function O(P){x=x(P)}function D(P){Oe(P)?(s.line++,s.column=1,s.offset+=P===-3?2:1,k()):P!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===u[s._index].length&&(s._bufferIndex=-1,s._index++)),p.previous=P}function F(P,U){const E=U||{};return E.type=P,E.start=C(),p.events.push(["enter",E,p]),f.push(E),E}function q(P){const U=f.pop();return U.end=C(),p.events.push(["exit",U,p]),U}function Y(P,U){A(P,U.from)}function I(P,U){U.restore()}function V(P,U){return E;function E(K,ne,X){let de,J,ve,j;return Array.isArray(K)?pe(K):"tokenize"in K?pe([K]):ee(K);function ee(se){return be;function be(Se){const Ye=Se!==null&&se[Se],Je=Se!==null&&se.null,Et=[...Array.isArray(Ye)?Ye:Ye?[Ye]:[],...Array.isArray(Je)?Je:Je?[Je]:[]];return pe(Et)(Se)}}function pe(se){return de=se,J=0,se.length===0?X:T(se[J])}function T(se){return be;function be(Se){return j=R(),ve=se,se.partial||(p.currentConstruct=se),se.name&&p.parser.constructs.disable.null.includes(se.name)?oe():se.tokenize.call(U?Object.assign(Object.create(p),U):p,h,H,oe)(Se)}}function H(se){return P(ve,j),ne}function oe(se){return j.restore(),++J<de.length?T(de[J]):X}}}function A(P,U){P.resolveAll&&!c.includes(P)&&c.push(P),P.resolve&&mr(p.events,U,p.events.length-U,P.resolve(p.events.slice(U),p)),P.resolveTo&&(p.events=P.resolveTo(p.events,p))}function R(){const P=C(),U=p.previous,E=p.currentConstruct,K=p.events.length,ne=Array.from(f);return{from:K,restore:X};function X(){s=P,p.previous=U,p.currentConstruct=E,p.events.length=K,f=ne,k()}}function k(){s.line in i&&s.column<2&&(s.column=i[s.line],s.offset+=i[s.line]-1)}}function S9(t,e){const n=e.start._index,s=e.start._bufferIndex,i=e.end._index,c=e.end._bufferIndex;let u;if(n===i)u=[t[n].slice(s,c)];else{if(u=t.slice(n,i),s>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(s):u.shift()}c>0&&u.push(t[i].slice(0,c))}return u}function j9(t,e){let n=-1;const s=[];let i;for(;++n<t.length;){const c=t[n];let u;if(typeof c=="string")u=c;else switch(c){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&i)continue;u=" ";break}default:u=String.fromCharCode(c)}i=c===-2,s.push(u)}return s.join("")}function A9(t){const s={constructs:L_([E9,...(t||{}).extensions||[]]),content:i(qk),defined:[],document:i(Hk),flow:i(c9),lazy:{},string:i(f9),text:i(h9)};return s;function i(c){return u;function u(f){return T9(s,c,f)}}}function k9(t){for(;!q_(t););return t}const Qv=/[\0\t\n\r]/g;function C9(){let t=1,e="",n=!0,s;return i;function i(c,u,f){const h=[];let p,x,b,w,_;for(c=e+(typeof c=="string"?c.toString():new TextDecoder(u||void 0).decode(c)),b=0,e="",n&&(c.charCodeAt(0)===65279&&b++,n=void 0);b<c.length;){if(Qv.lastIndex=b,p=Qv.exec(c),w=p&&p.index!==void 0?p.index:c.length,_=c.charCodeAt(w),!p){e=c.slice(b);break}if(_===10&&b===w&&s)h.push(-3),s=void 0;else switch(s&&(h.push(-5),s=void 0),b<w&&(h.push(c.slice(b,w)),t+=w-b),_){case 0:{h.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,h.push(-2);t++<x;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:s=!0,t=1}b=w+1}return f&&(s&&h.push(-5),e&&h.push(e),h.push(null)),h}}const D9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function R9(t){return t.replace(D9,I9)}function I9(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),c=i===120||i===88;return z_(n.slice(c?2:1),c?16:10)}return kg(n)||t}const X_={}.hasOwnProperty;function M9(t,e,n){return typeof e!="string"&&(n=e,e=void 0),O9(n)(k9(A9(n).document().write(C9()(t,e,!0))))}function O9(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(dn),autolinkProtocol:R,autolinkEmail:R,atxHeading:c(Ne),blockQuote:c(Je),characterEscape:R,characterReference:R,codeFenced:c(Et),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:c(Et,u),codeText:c(kn,u),codeTextData:R,data:R,codeFlowValue:R,definition:c(en),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:c(tr),hardBreakEscape:c(ot),hardBreakTrailing:c(ot),htmlFlow:c(ct,u),htmlFlowData:R,htmlText:c(ct,u),htmlTextData:R,image:c(pr),label:u,link:c(dn),listItem:c(nr),listItemValue:w,listOrdered:c(Yn,b),listUnordered:c(Yn),paragraph:c(Kr),reference:T,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:c(Ne),strong:c(Mr),thematicBreak:c(Zr)},exit:{atxHeading:h(),atxHeadingSequence:Y,autolink:h(),autolinkEmail:Ye,autolinkProtocol:Se,blockQuote:h(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:se,characterReference:be,codeFenced:h(z),codeFencedFence:M,codeFencedFenceInfo:_,codeFencedFenceMeta:C,codeFlowValue:k,codeIndented:h(O),codeText:h(ne),codeTextData:k,data:k,definition:h(),definitionDestinationString:q,definitionLabelString:D,definitionTitleString:F,emphasis:h(),hardBreakEscape:h(U),hardBreakTrailing:h(U),htmlFlow:h(E),htmlFlowData:k,htmlText:h(K),htmlTextData:k,image:h(de),label:ve,labelText:J,lineEnding:P,link:h(X),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:H,resourceDestinationString:j,resourceTitleString:ee,resource:pe,setextHeading:h(A),setextHeadingLineSequence:V,setextHeadingText:I,strong:h(),thematicBreak:h()}};K_(e,(t||{}).mdastExtensions||[]);const n={};return s;function s(le){let ge={type:"root",children:[]};const ke={stack:[ge],tokenStack:[],config:e,enter:f,exit:p,buffer:u,resume:x,data:n},Re=[];let tt=-1;for(;++tt<le.length;)if(le[tt][1].type==="listOrdered"||le[tt][1].type==="listUnordered")if(le[tt][0]==="enter")Re.push(tt);else{const tn=Re.pop();tt=i(le,tn,tt)}for(tt=-1;++tt<le.length;){const tn=e[le[tt][0]];X_.call(tn,le[tt][1].type)&&tn[le[tt][1].type].call(Object.assign({sliceSerialize:le[tt][2].sliceSerialize},ke),le[tt][1])}if(ke.tokenStack.length>0){const tn=ke.tokenStack[ke.tokenStack.length-1];(tn[1]||Xv).call(ke,void 0,tn[0])}for(ge.position={start:Ra(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:Ra(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},tt=-1;++tt<e.transforms.length;)ge=e.transforms[tt](ge)||ge;return ge}function i(le,ge,ke){let Re=ge-1,tt=-1,tn=!1,Dt,nn,Cn,rn;for(;++Re<=ke;){const Rt=le[Re];switch(Rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Rt[0]==="enter"?tt++:tt--,rn=void 0;break}case"lineEndingBlank":{Rt[0]==="enter"&&(Dt&&!rn&&!tt&&!Cn&&(Cn=Re),rn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rn=void 0}if(!tt&&Rt[0]==="enter"&&Rt[1].type==="listItemPrefix"||tt===-1&&Rt[0]==="exit"&&(Rt[1].type==="listUnordered"||Rt[1].type==="listOrdered")){if(Dt){let bn=Re;for(nn=void 0;bn--;){const sn=le[bn];if(sn[1].type==="lineEnding"||sn[1].type==="lineEndingBlank"){if(sn[0]==="exit")continue;nn&&(le[nn][1].type="lineEndingBlank",tn=!0),sn[1].type="lineEnding",nn=bn}else if(!(sn[1].type==="linePrefix"||sn[1].type==="blockQuotePrefix"||sn[1].type==="blockQuotePrefixWhitespace"||sn[1].type==="blockQuoteMarker"||sn[1].type==="listItemIndent"))break}Cn&&(!nn||Cn<nn)&&(Dt._spread=!0),Dt.end=Object.assign({},nn?le[nn][1].start:Rt[1].end),le.splice(nn||Re,0,["exit",Dt,Rt[2]]),Re++,ke++}if(Rt[1].type==="listItemPrefix"){const bn={type:"listItem",_spread:!1,start:Object.assign({},Rt[1].start),end:void 0};Dt=bn,le.splice(Re,0,["enter",bn,Rt[2]]),Re++,ke++,Cn=void 0,rn=!0}}}return le[ge][1]._spread=tn,ke}function c(le,ge){return ke;function ke(Re){f.call(this,le(Re),Re),ge&&ge.call(this,Re)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(le,ge,ke){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([ge,ke||void 0]),le.position={start:Ra(ge.start),end:void 0}}function h(le){return ge;function ge(ke){le&&le.call(this,ke),p.call(this,ke)}}function p(le,ge){const ke=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==le.type&&(ge?ge.call(this,le,Re[0]):(Re[1]||Xv).call(this,le,Re[0]));else throw new Error("Cannot close `"+le.type+"` ("+Mc({start:le.start,end:le.end})+"): its not open");ke.position.end=Ra(le.end)}function x(){return Ag(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function w(le){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function _(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=le}function C(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=le}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function z(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function O(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le.replace(/(\r?\n|\r)$/g,"")}function D(le){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ge,ke.identifier=Yr(this.sliceSerialize(le)).toLowerCase()}function F(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.title=le}function q(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.url=le}function Y(le){const ge=this.stack[this.stack.length-1];if(!ge.depth){const ke=this.sliceSerialize(le).length;ge.depth=ke}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function V(le){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function R(le){const ke=this.stack[this.stack.length-1].children;let Re=ke[ke.length-1];(!Re||Re.type!=="text")&&(Re=As(),Re.position={start:Ra(le.start),end:void 0},ke.push(Re)),this.stack.push(Re)}function k(le){const ge=this.stack.pop();ge.value+=this.sliceSerialize(le),ge.position.end=Ra(le.end)}function P(le){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=ge.children[ge.children.length-1];ke.position.end=Ra(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ge.type)&&(R.call(this,le),k.call(this,le))}function U(){this.data.atHardBreak=!0}function E(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le}function K(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le}function ne(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le}function X(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=ge,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function de(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=ge,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function J(le){const ge=this.sliceSerialize(le),ke=this.stack[this.stack.length-2];ke.label=R9(ge),ke.identifier=Yr(ge).toLowerCase()}function ve(){const le=this.stack[this.stack.length-1],ge=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const Re=le.children;ke.children=Re}else ke.alt=ge}function j(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.url=le}function ee(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.title=le}function pe(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function H(le){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ge,ke.identifier=Yr(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function oe(le){this.data.characterReferenceType=le.type}function se(le){const ge=this.sliceSerialize(le),ke=this.data.characterReferenceType;let Re;ke?(Re=z_(ge,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=kg(ge);const tt=this.stack[this.stack.length-1];tt.value+=Re}function be(le){const ge=this.stack.pop();ge.position.end=Ra(le.end)}function Se(le){k.call(this,le);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(le)}function Ye(le){k.call(this,le);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(le)}function Je(){return{type:"blockquote",children:[]}}function Et(){return{type:"code",lang:null,meta:null,value:""}}function kn(){return{type:"inlineCode",value:""}}function en(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function tr(){return{type:"emphasis",children:[]}}function Ne(){return{type:"heading",depth:0,children:[]}}function ot(){return{type:"break"}}function ct(){return{type:"html",value:""}}function pr(){return{type:"image",title:null,url:"",alt:null}}function dn(){return{type:"link",title:null,url:"",children:[]}}function Yn(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function nr(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function Kr(){return{type:"paragraph",children:[]}}function Mr(){return{type:"strong",children:[]}}function As(){return{type:"text",value:""}}function Zr(){return{type:"thematicBreak"}}}function Ra(t){return{line:t.line,column:t.column,offset:t.offset}}function K_(t,e){let n=-1;for(;++n<e.length;){const s=e[n];Array.isArray(s)?K_(t,s):V9(t,s)}}function V9(t,e){let n;for(n in e)if(X_.call(e,n))switch(n){case"canContainEols":{const s=e[n];s&&t[n].push(...s);break}case"transforms":{const s=e[n];s&&t[n].push(...s);break}case"enter":case"exit":{const s=e[n];s&&Object.assign(t[n],s);break}}}function Xv(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Mc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Mc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Mc({start:e.start,end:e.end})+") is still open")}function P9(t){const e=this;e.parser=n;function n(s){return M9(s,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function L9(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function z9(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function U9(t,e){const n=e.value?e.value+`
`:"",s={};e.lang&&(s.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function B9(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function F9(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function q9(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),i=mo(s.toLowerCase()),c=t.footnoteOrder.indexOf(s);let u,f=t.footnoteCounts.get(s);f===void 0?(f=0,t.footnoteOrder.push(s),u=t.footnoteOrder.length):u=c+1,f+=1,t.footnoteCounts.set(s,f);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,h);const p={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,p),t.applyData(e,p)}function $9(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function H9(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Z_(t,e){const n=e.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+s}];const i=t.all(e),c=i[0];c&&c.type==="text"?c.value="["+c.value:i.unshift({type:"text",value:"["});const u=i[i.length-1];return u&&u.type==="text"?u.value+=s:i.push({type:"text",value:s}),i}function Y9(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return Z_(t,e);const i={src:mo(s.url||""),alt:e.alt};s.title!==null&&s.title!==void 0&&(i.title=s.title);const c={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,c),t.applyData(e,c)}function G9(t,e){const n={src:mo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,s),t.applyData(e,s)}function Q9(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,s),t.applyData(e,s)}function X9(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return Z_(t,e);const i={href:mo(s.url||"")};s.title!==null&&s.title!==void 0&&(i.title=s.title);const c={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,c),t.applyData(e,c)}function K9(t,e){const n={href:mo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Z9(t,e,n){const s=t.all(e),i=n?J9(n):J_(e),c={},u=[];if(typeof e.checked=="boolean"){const x=s[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},s.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let f=-1;for(;++f<s.length;){const x=s[f];(i||f!==0||x.type!=="element"||x.tagName!=="p")&&u.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!i?u.push(...x.children):u.push(x)}const h=s[s.length-1];h&&(i||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:c,children:u};return t.patch(e,p),t.applyData(e,p)}function J9(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let s=-1;for(;!e&&++s<n.length;)e=J_(n[s])}return e}function J_(t){const e=t.spread;return e??t.children.length>1}function W9(t,e){const n={},s=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<s.length;){const u=s[i];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const c={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(s,!0)};return t.patch(e,c),t.applyData(e,c)}function eD(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tD(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function nD(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rD(t,e){const n=t.all(e),s=n.shift(),i=[];if(s){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(e.children[0],u),i.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=Eg(e.children[1]),h=D_(e.children[e.children.length-1]);f&&h&&(u.position={start:f,end:h}),i.push(u)}const c={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,c),t.applyData(e,c)}function sD(t,e,n){const s=n?n.children:void 0,c=(s?s.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let h=-1;const p=[];for(;++h<f;){const b=e.children[h],w={},_=u?u[h]:void 0;_&&(w.align=_);let C={type:"element",tagName:c,properties:w,children:[]};b&&(C.children=t.all(b),t.patch(b,C),C=t.applyData(b,C)),p.push(C)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,x),t.applyData(e,x)}function aD(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Kv=9,Zv=32;function iD(t){const e=String(t),n=/\r?\n|\r/g;let s=n.exec(e),i=0;const c=[];for(;s;)c.push(Jv(e.slice(i,s.index),i>0,!0),s[0]),i=s.index+s[0].length,s=n.exec(e);return c.push(Jv(e.slice(i),i>0,!1)),c.join("")}function Jv(t,e,n){let s=0,i=t.length;if(e){let c=t.codePointAt(s);for(;c===Kv||c===Zv;)s++,c=t.codePointAt(s)}if(n){let c=t.codePointAt(i-1);for(;c===Kv||c===Zv;)i--,c=t.codePointAt(i-1)}return i>s?t.slice(s,i):""}function lD(t,e){const n={type:"text",value:iD(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function oD(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const cD={blockquote:L9,break:z9,code:U9,delete:B9,emphasis:F9,footnoteReference:q9,heading:$9,html:H9,imageReference:Y9,image:G9,inlineCode:Q9,linkReference:X9,link:K9,listItem:Z9,list:W9,paragraph:eD,root:tD,strong:nD,table:rD,tableCell:aD,tableRow:sD,text:lD,thematicBreak:oD,toml:Ld,yaml:Ld,definition:Ld,footnoteDefinition:Ld};function Ld(){}const W_=-1,$f=0,Vc=1,pf=2,Dg=3,Rg=4,Ig=5,Mg=6,eN=7,tN=8,Wv=typeof self=="object"?self:globalThis,uD=(t,e)=>{const n=(i,c)=>(t.set(c,i),i),s=i=>{if(t.has(i))return t.get(i);const[c,u]=e[i];switch(c){case $f:case W_:return n(u,i);case Vc:{const f=n([],i);for(const h of u)f.push(s(h));return f}case pf:{const f=n({},i);for(const[h,p]of u)f[s(h)]=s(p);return f}case Dg:return n(new Date(u),i);case Rg:{const{source:f,flags:h}=u;return n(new RegExp(f,h),i)}case Ig:{const f=n(new Map,i);for(const[h,p]of u)f.set(s(h),s(p));return f}case Mg:{const f=n(new Set,i);for(const h of u)f.add(s(h));return f}case eN:{const{name:f,message:h}=u;return n(new Wv[f](h),i)}case tN:return n(BigInt(u),i);case"BigInt":return n(Object(BigInt(u)),i);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new Wv[c](u),i)};return s},e2=t=>uD(new Map,t)(0),Ll="",{toString:dD}={},{keys:fD}=Object,_c=t=>{const e=typeof t;if(e!=="object"||!t)return[$f,e];const n=dD.call(t).slice(8,-1);switch(n){case"Array":return[Vc,Ll];case"Object":return[pf,Ll];case"Date":return[Dg,Ll];case"RegExp":return[Rg,Ll];case"Map":return[Ig,Ll];case"Set":return[Mg,Ll];case"DataView":return[Vc,n]}return n.includes("Array")?[Vc,n]:n.includes("Error")?[eN,n]:[pf,n]},zd=([t,e])=>t===$f&&(e==="function"||e==="symbol"),hD=(t,e,n,s)=>{const i=(u,f)=>{const h=s.push(u)-1;return n.set(f,h),h},c=u=>{if(n.has(u))return n.get(u);let[f,h]=_c(u);switch(f){case $f:{let x=u;switch(h){case"bigint":f=tN,x=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);x=null;break;case"undefined":return i([W_],u)}return i([f,x],u)}case Vc:{if(h){let w=u;return h==="DataView"?w=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(w=new Uint8Array(u)),i([h,[...w]],u)}const x=[],b=i([f,x],u);for(const w of u)x.push(c(w));return b}case pf:{if(h)switch(h){case"BigInt":return i([h,u.toString()],u);case"Boolean":case"Number":case"String":return i([h,u.valueOf()],u)}if(e&&"toJSON"in u)return c(u.toJSON());const x=[],b=i([f,x],u);for(const w of fD(u))(t||!zd(_c(u[w])))&&x.push([c(w),c(u[w])]);return b}case Dg:return i([f,u.toISOString()],u);case Rg:{const{source:x,flags:b}=u;return i([f,{source:x,flags:b}],u)}case Ig:{const x=[],b=i([f,x],u);for(const[w,_]of u)(t||!(zd(_c(w))||zd(_c(_))))&&x.push([c(w),c(_)]);return b}case Mg:{const x=[],b=i([f,x],u);for(const w of u)(t||!zd(_c(w)))&&x.push(c(w));return b}}const{message:p}=u;return i([f,{name:h,message:p}],u)};return c},t2=(t,{json:e,lossy:n}={})=>{const s=[];return hD(!(e||n),!!e,new Map,s)(t),s},gf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?e2(t2(t,e)):structuredClone(t):(t,e)=>e2(t2(t,e));function mD(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function pD(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function gD(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||mD,s=t.options.footnoteBackLabel||pD,i=t.options.footnoteLabel||"Footnotes",c=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let h=-1;for(;++h<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[h]);if(!p)continue;const x=t.all(p),b=String(p.identifier).toUpperCase(),w=mo(b.toLowerCase());let _=0;const C=[],M=t.footnoteCounts.get(b);for(;M!==void 0&&++_<=M;){C.length>0&&C.push({type:"text",value:" "});let D=typeof n=="string"?n:n(h,_);typeof D=="string"&&(D={type:"text",value:D}),C.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+w+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(h,_),className:["data-footnote-backref"]},children:Array.isArray(D)?D:[D]})}const z=x[x.length-1];if(z&&z.type==="element"&&z.tagName==="p"){const D=z.children[z.children.length-1];D&&D.type==="text"?D.value+=" ":z.children.push({type:"text",value:" "}),z.children.push(...C)}else x.push(...C);const O={type:"element",tagName:"li",properties:{id:e+"fn-"+w},children:t.wrap(x,!0)};t.patch(p,O),f.push(O)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:c,properties:{...gf(u),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const Hf=(function(t){if(t==null)return vD;if(typeof t=="function")return Yf(t);if(typeof t=="object")return Array.isArray(t)?xD(t):yD(t);if(typeof t=="string")return bD(t);throw new Error("Expected function, string, or object as test")});function xD(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Hf(t[n]);return Yf(s);function s(...i){let c=-1;for(;++c<e.length;)if(e[c].apply(this,i))return!0;return!1}}function yD(t){const e=t;return Yf(n);function n(s){const i=s;let c;for(c in t)if(i[c]!==e[c])return!1;return!0}}function bD(t){return Yf(e);function e(n){return n&&n.type===t}}function Yf(t){return e;function e(n,s,i){return!!(wD(n)&&t.call(this,n,typeof s=="number"?s:void 0,i||void 0))}}function vD(){return!0}function wD(t){return t!==null&&typeof t=="object"&&"type"in t}const nN=[],_D=!0,mp=!1,ND="skip";function rN(t,e,n,s){let i;typeof e=="function"&&typeof n!="function"?(s=n,n=e):i=e;const c=Hf(i),u=s?-1:1;f(t,void 0,[])();function f(h,p,x){const b=h&&typeof h=="object"?h:{};if(typeof b.type=="string"){const _=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(h.type+(_?"<"+_+">":""))+")"})}return w;function w(){let _=nN,C,M,z;if((!e||c(h,p,x[x.length-1]||void 0))&&(_=ED(n(h,x)),_[0]===mp))return _;if("children"in h&&h.children){const O=h;if(O.children&&_[0]!==ND)for(M=(s?O.children.length:-1)+u,z=x.concat(O);M>-1&&M<O.children.length;){const D=O.children[M];if(C=f(D,M,z)(),C[0]===mp)return C;M=typeof C[1]=="number"?C[1]:M+u}}return _}}}function ED(t){return Array.isArray(t)?t:typeof t=="number"?[_D,t]:t==null?nN:[t]}function Og(t,e,n,s){let i,c,u;typeof e=="function"&&typeof n!="function"?(c=void 0,u=e,i=n):(c=e,u=n,i=s),rN(t,c,f,i);function f(h,p){const x=p[p.length-1],b=x?x.children.indexOf(h):void 0;return u(h,b,x)}}const pp={}.hasOwnProperty,TD={};function SD(t,e){const n=e||TD,s=new Map,i=new Map,c=new Map,u={...cD,...n.handlers},f={all:p,applyData:AD,definitionById:s,footnoteById:i,footnoteCounts:c,footnoteOrder:[],handlers:u,one:h,options:n,patch:jD,wrap:CD};return Og(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?s:i,w=String(x.identifier).toUpperCase();b.has(w)||b.set(w,x)}}),f;function h(x,b){const w=x.type,_=f.handlers[w];if(pp.call(f.handlers,w)&&_)return _(f,x,b);if(f.options.passThrough&&f.options.passThrough.includes(w)){if("children"in x){const{children:M,...z}=x,O=gf(z);return O.children=f.all(x),O}return gf(x)}return(f.options.unknownHandler||kD)(f,x,b)}function p(x){const b=[];if("children"in x){const w=x.children;let _=-1;for(;++_<w.length;){const C=f.one(w[_],x);if(C){if(_&&w[_-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=n2(C.value)),!Array.isArray(C)&&C.type==="element")){const M=C.children[0];M&&M.type==="text"&&(M.value=n2(M.value))}Array.isArray(C)?b.push(...C):b.push(C)}}}return b}}function jD(t,e){t.position&&(e.position=pk(t))}function AD(t,e){let n=e;if(t&&t.data){const s=t.data.hName,i=t.data.hChildren,c=t.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const u="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:u}}n.type==="element"&&c&&Object.assign(n.properties,gf(c)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function kD(t,e){const n=e.data||{},s="value"in e&&!(pp.call(n,"hProperties")||pp.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function CD(t,e){const n=[];let s=-1;for(e&&n.push({type:"text",value:`
`});++s<t.length;)s&&n.push({type:"text",value:`
`}),n.push(t[s]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function n2(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function r2(t,e){const n=SD(t,e),s=n.one(t,void 0),i=gD(n),c=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return i&&c.children.push({type:"text",value:`
`},i),c}function DD(t,e){return t&&"run"in t?async function(n,s){const i=r2(n,{file:s,...e});await t.run(i,s)}:function(n,s){return r2(n,{file:s,...t||e})}}function s2(t){if(t)throw t}var p0,a2;function RD(){if(a2)return p0;a2=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},c=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var x=t.call(p,"constructor"),b=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!b)return!1;var w;for(w in p);return typeof w>"u"||t.call(p,w)},u=function(p,x){n&&x.name==="__proto__"?n(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},f=function(p,x){if(x==="__proto__")if(t.call(p,x)){if(s)return s(p,x).value}else return;return p[x]};return p0=function h(){var p,x,b,w,_,C,M=arguments[0],z=1,O=arguments.length,D=!1;for(typeof M=="boolean"&&(D=M,M=arguments[1]||{},z=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});z<O;++z)if(p=arguments[z],p!=null)for(x in p)b=f(M,x),w=f(p,x),M!==w&&(D&&w&&(c(w)||(_=i(w)))?(_?(_=!1,C=b&&i(b)?b:[]):C=b&&c(b)?b:{},u(M,{name:x,newValue:h(D,C,w)})):typeof w<"u"&&u(M,{name:x,newValue:w}));return M},p0}var ID=RD();const g0=yf(ID);function gp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function MD(){const t=[],e={run:n,use:s};return e;function n(...i){let c=-1;const u=i.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...i);function f(h,...p){const x=t[++c];let b=-1;if(h){u(h);return}for(;++b<i.length;)(p[b]===null||p[b]===void 0)&&(p[b]=i[b]);i=p,x?OD(x,f)(...p):u(null,...p)}}function s(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function OD(t,e){let n;return s;function s(...u){const f=t.length>u.length;let h;f&&u.push(i);try{h=t.apply(this,u)}catch(p){const x=p;if(f&&n)throw x;return i(x)}f||(h&&h.then&&typeof h.then=="function"?h.then(c,i):h instanceof Error?i(h):c(h))}function i(u,...f){n||(n=!0,e(u,...f))}function c(u){i(null,u)}}const ps={basename:VD,dirname:PD,extname:LD,join:zD,sep:"/"};function VD(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');du(t);let n=0,s=-1,i=t.length,c;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(c){n=i+1;break}}else s<0&&(c=!0,s=i+1);return s<0?"":t.slice(n,s)}if(e===t)return"";let u=-1,f=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(c){n=i+1;break}}else u<0&&(c=!0,u=i+1),f>-1&&(t.codePointAt(i)===e.codePointAt(f--)?f<0&&(s=i):(f=-1,s=u));return n===s?s=u:s<0&&(s=t.length),t.slice(n,s)}function PD(t){if(du(t),t.length===0)return".";let e=-1,n=t.length,s;for(;--n;)if(t.codePointAt(n)===47){if(s){e=n;break}}else s||(s=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function LD(t){du(t);let e=t.length,n=-1,s=0,i=-1,c=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){s=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?i<0?i=e:c!==1&&(c=1):i>-1&&(c=-1)}return i<0||n<0||c===0||c===1&&i===n-1&&i===s+1?"":t.slice(i,n)}function zD(...t){let e=-1,n;for(;++e<t.length;)du(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":UD(n)}function UD(t){du(t);const e=t.codePointAt(0)===47;let n=BD(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function BD(t,e){let n="",s=0,i=-1,c=0,u=-1,f,h;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(i===u-1||c===1))if(i!==u-1&&c===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",s=0):(n=n.slice(0,h),s=n.length-1-n.lastIndexOf("/")),i=u,c=0;continue}}else if(n.length>0){n="",s=0,i=u,c=0;continue}}e&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+t.slice(i+1,u):n=t.slice(i+1,u),s=u-i-1;i=u,c=0}else f===46&&c>-1?c++:c=-1}return n}function du(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const FD={cwd:qD};function qD(){return"/"}function xp(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function $D(t){if(typeof t=="string")t=new URL(t);else if(!xp(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return HD(t)}function HD(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const s=e.codePointAt(n+2);if(s===70||s===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const x0=["history","path","basename","stem","extname","dirname"];class sN{constructor(e){let n;e?xp(e)?n={path:e}:typeof e=="string"||YD(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":FD.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<x0.length;){const c=x0[s];c in n&&n[c]!==void 0&&n[c]!==null&&(this[c]=c==="history"?[...n[c]]:n[c])}let i;for(i in n)x0.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ps.basename(this.path):void 0}set basename(e){b0(e,"basename"),y0(e,"basename"),this.path=ps.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ps.dirname(this.path):void 0}set dirname(e){i2(this.basename,"dirname"),this.path=ps.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ps.extname(this.path):void 0}set extname(e){if(y0(e,"extname"),i2(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ps.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){xp(e)&&(e=$D(e)),b0(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ps.basename(this.path,this.extname):void 0}set stem(e){b0(e,"stem"),y0(e,"stem"),this.path=ps.join(this.dirname||"",e+(this.extname||""))}fail(e,n,s){const i=this.message(e,n,s);throw i.fatal=!0,i}info(e,n,s){const i=this.message(e,n,s);return i.fatal=void 0,i}message(e,n,s){const i=new Pn(e,n,s);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function y0(t,e){if(t&&t.includes(ps.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ps.sep+"`")}function b0(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function i2(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function YD(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const GD=(function(t){const s=this.constructor.prototype,i=s[t],c=function(){return i.apply(c,arguments)};return Object.setPrototypeOf(c,s),c}),QD={}.hasOwnProperty;class Vg extends GD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=MD()}copy(){const e=new Vg;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];e.use(...s)}return e.data(g0(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(_0("data",this.frozen),this.namespace[e]=n,this):QD.call(this.namespace,e)&&this.namespace[e]||void 0:e?(_0("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const i=n.call(e,...s);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Ud(e),s=this.parser||this.Parser;return v0("parse",s),s(String(n),n)}process(e,n){const s=this;return this.freeze(),v0("process",this.parser||this.Parser),w0("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(c,u){const f=Ud(e),h=s.parse(f);s.run(h,f,function(x,b,w){if(x||!b||!w)return p(x);const _=b,C=s.stringify(_,w);ZD(C)?w.value=C:w.result=C,p(x,w)});function p(x,b){x||!b?u(x):c?c(b):n(void 0,b)}}}processSync(e){let n=!1,s;return this.freeze(),v0("processSync",this.parser||this.Parser),w0("processSync",this.compiler||this.Compiler),this.process(e,i),o2("processSync","process",n),s;function i(c,u){n=!0,s2(c),s=u}}run(e,n,s){l2(e),this.freeze();const i=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?c(void 0,s):new Promise(c);function c(u,f){const h=Ud(n);i.run(e,h,p);function p(x,b,w){const _=b||e;x?f(x):u?u(_):s(void 0,_,w)}}}runSync(e,n){let s=!1,i;return this.run(e,n,c),o2("runSync","run",s),i;function c(u,f){s2(u),i=f,s=!0}}stringify(e,n){this.freeze();const s=Ud(n),i=this.compiler||this.Compiler;return w0("stringify",i),l2(e),i(e,s)}use(e,...n){const s=this.attachers,i=this.namespace;if(_0("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function c(p){if(typeof p=="function")h(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[x,...b]=p;h(x,b)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(p.plugins),p.settings&&(i.settings=g0(!0,i.settings,p.settings))}function f(p){let x=-1;if(p!=null)if(Array.isArray(p))for(;++x<p.length;){const b=p[x];c(b)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function h(p,x){let b=-1,w=-1;for(;++b<s.length;)if(s[b][0]===p){w=b;break}if(w===-1)s.push([p,...x]);else if(x.length>0){let[_,...C]=x;const M=s[w][1];gp(M)&&gp(_)&&(_=g0(!0,M,_)),s[w]=[p,_,...C]}}}}const XD=new Vg().freeze();function v0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function w0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function _0(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function l2(t){if(!gp(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function o2(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ud(t){return KD(t)?t:new sN(t)}function KD(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function ZD(t){return typeof t=="string"||JD(t)}function JD(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const WD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",c2=[],u2={allowDangerousHtml:!0},e7=/^(https?|ircs?|mailto|xmpp)$/i,t7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function po(t){const e=n7(t),n=r7(t);return s7(e.runSync(e.parse(n),n),t)}function n7(t){const e=t.rehypePlugins||c2,n=t.remarkPlugins||c2,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...u2}:u2;return XD().use(P9).use(n).use(DD,s).use(e)}function r7(t){const e=t.children||"",n=new sN;return typeof e=="string"&&(n.value=e),n}function s7(t,e){const n=e.allowedElements,s=e.allowElement,i=e.components,c=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,h=e.urlTransform||a7;for(const x of t7)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+WD+x.id,void 0);return Og(t,p),vk(t,{Fragment:o.Fragment,components:i,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function p(x,b,w){if(x.type==="raw"&&w&&typeof b=="number")return u?w.children.splice(b,1):w.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let _;for(_ in f0)if(Object.hasOwn(f0,_)&&Object.hasOwn(x.properties,_)){const C=x.properties[_],M=f0[_];(M===null||M.includes(x.tagName))&&(x.properties[_]=h(String(C||""),_,x))}}if(x.type==="element"){let _=n?!n.includes(x.tagName):c?c.includes(x.tagName):!1;if(!_&&s&&typeof b=="number"&&(_=!s(x,b,w)),_&&w&&typeof b=="number")return f&&x.children?w.children.splice(b,1,...x.children):w.children.splice(b,1),b}}}function a7(t){const e=t.indexOf(":"),n=t.indexOf("?"),s=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||s!==-1&&e>s||e7.test(t.slice(0,e))?t:""}function d2(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let s=0,i=n.indexOf(e);for(;i!==-1;)s++,i=n.indexOf(e,i+e.length);return s}function i7(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function l7(t,e,n){const i=Hf((n||{}).ignore||[]),c=o7(e);let u=-1;for(;++u<c.length;)rN(t,"text",f);function f(p,x){let b=-1,w;for(;++b<x.length;){const _=x[b],C=w?w.children:void 0;if(i(_,C?C.indexOf(_):void 0,w))return;w=_}if(w)return h(p,x)}function h(p,x){const b=x[x.length-1],w=c[u][0],_=c[u][1];let C=0;const z=b.children.indexOf(p);let O=!1,D=[];w.lastIndex=0;let F=w.exec(p.value);for(;F;){const q=F.index,Y={index:F.index,input:F.input,stack:[...x,p]};let I=_(...F,Y);if(typeof I=="string"&&(I=I.length>0?{type:"text",value:I}:void 0),I===!1?w.lastIndex=q+1:(C!==q&&D.push({type:"text",value:p.value.slice(C,q)}),Array.isArray(I)?D.push(...I):I&&D.push(I),C=q+F[0].length,O=!0),!w.global)break;F=w.exec(p.value)}return O?(C<p.value.length&&D.push({type:"text",value:p.value.slice(C)}),b.children.splice(z,1,...D)):D=[p],z+D.length}}function o7(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let s=-1;for(;++s<n.length;){const i=n[s];e.push([c7(i[0]),u7(i[1])])}return e}function c7(t){return typeof t=="string"?new RegExp(i7(t),"g"):t}function u7(t){return typeof t=="function"?t:function(){return t}}const N0="phrasing",E0=["autolink","link","image","label"];function d7(){return{transforms:[y7],enter:{literalAutolink:h7,literalAutolinkEmail:T0,literalAutolinkHttp:T0,literalAutolinkWww:T0},exit:{literalAutolink:x7,literalAutolinkEmail:g7,literalAutolinkHttp:m7,literalAutolinkWww:p7}}}function f7(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:N0,notInConstruct:E0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:N0,notInConstruct:E0},{character:":",before:"[ps]",after:"\\/",inConstruct:N0,notInConstruct:E0}]}}function h7(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function T0(t){this.config.enter.autolinkProtocol.call(this,t)}function m7(t){this.config.exit.autolinkProtocol.call(this,t)}function p7(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function g7(t){this.config.exit.autolinkEmail.call(this,t)}function x7(t){this.exit(t)}function y7(t){l7(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,b7],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),v7]],{ignore:["link","linkReference"]})}function b7(t,e,n,s,i){let c="";if(!aN(i)||(/^w/i.test(e)&&(n=e+n,e="",c="http://"),!w7(n)))return!1;const u=_7(n+s);if(!u[0])return!1;const f={type:"link",title:null,url:c+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[f,{type:"text",value:u[1]}]:f}function v7(t,e,n,s){return!aN(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function w7(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function _7(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],s=n.indexOf(")");const i=d2(t,"(");let c=d2(t,")");for(;s!==-1&&i>c;)t+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),c++;return[t,n]}function aN(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Fi(n)||Ff(n))&&(!e||n!==47)}iN.peek=D7;function N7(){this.buffer()}function E7(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function T7(){this.buffer()}function S7(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function j7(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Yr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function A7(t){this.exit(t)}function k7(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Yr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function C7(t){this.exit(t)}function D7(){return"["}function iN(t,e,n,s){const i=n.createTracker(s);let c=i.move("[^");const u=n.enter("footnoteReference"),f=n.enter("reference");return c+=i.move(n.safe(n.associationId(t),{after:"]",before:c})),f(),u(),c+=i.move("]"),c}function R7(){return{enter:{gfmFootnoteCallString:N7,gfmFootnoteCall:E7,gfmFootnoteDefinitionLabelString:T7,gfmFootnoteDefinition:S7},exit:{gfmFootnoteCallString:j7,gfmFootnoteCall:A7,gfmFootnoteDefinitionLabelString:k7,gfmFootnoteDefinition:C7}}}function I7(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:iN},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,i,c,u){const f=c.createTracker(u);let h=f.move("[^");const p=c.enter("footnoteDefinition"),x=c.enter("label");return h+=f.move(c.safe(c.associationId(s),{before:h,after:"]"})),x(),h+=f.move("]:"),s.children&&s.children.length>0&&(f.shift(4),h+=f.move((e?`
`:" ")+c.indentLines(c.containerFlow(s,f.current()),e?lN:M7))),p(),h}}function M7(t,e,n){return e===0?t:lN(t,e,n)}function lN(t,e,n){return(n?"":"    ")+t}const O7=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];oN.peek=U7;function V7(){return{canContainEols:["delete"],enter:{strikethrough:L7},exit:{strikethrough:z7}}}function P7(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:O7}],handlers:{delete:oN}}}function L7(t){this.enter({type:"delete",children:[]},t)}function z7(t){this.exit(t)}function oN(t,e,n,s){const i=n.createTracker(s),c=n.enter("strikethrough");let u=i.move("~~");return u+=n.containerPhrasing(t,{...i.current(),before:u,after:"~"}),u+=i.move("~~"),c(),u}function U7(){return"~"}function B7(t){return t.length}function F7(t,e){const n=e||{},s=(n.align||[]).concat(),i=n.stringLength||B7,c=[],u=[],f=[],h=[];let p=0,x=-1;for(;++x<t.length;){const M=[],z=[];let O=-1;for(t[x].length>p&&(p=t[x].length);++O<t[x].length;){const D=q7(t[x][O]);if(n.alignDelimiters!==!1){const F=i(D);z[O]=F,(h[O]===void 0||F>h[O])&&(h[O]=F)}M.push(D)}u[x]=M,f[x]=z}let b=-1;if(typeof s=="object"&&"length"in s)for(;++b<p;)c[b]=f2(s[b]);else{const M=f2(s);for(;++b<p;)c[b]=M}b=-1;const w=[],_=[];for(;++b<p;){const M=c[b];let z="",O="";M===99?(z=":",O=":"):M===108?z=":":M===114&&(O=":");let D=n.alignDelimiters===!1?1:Math.max(1,h[b]-z.length-O.length);const F=z+"-".repeat(D)+O;n.alignDelimiters!==!1&&(D=z.length+D+O.length,D>h[b]&&(h[b]=D),_[b]=D),w[b]=F}u.splice(1,0,w),f.splice(1,0,_),x=-1;const C=[];for(;++x<u.length;){const M=u[x],z=f[x];b=-1;const O=[];for(;++b<p;){const D=M[b]||"";let F="",q="";if(n.alignDelimiters!==!1){const Y=h[b]-(z[b]||0),I=c[b];I===114?F=" ".repeat(Y):I===99?Y%2?(F=" ".repeat(Y/2+.5),q=" ".repeat(Y/2-.5)):(F=" ".repeat(Y/2),q=F):q=" ".repeat(Y)}n.delimiterStart!==!1&&!b&&O.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&D==="")&&(n.delimiterStart!==!1||b)&&O.push(" "),n.alignDelimiters!==!1&&O.push(F),O.push(D),n.alignDelimiters!==!1&&O.push(q),n.padding!==!1&&O.push(" "),(n.delimiterEnd!==!1||b!==p-1)&&O.push("|")}C.push(n.delimiterEnd===!1?O.join("").replace(/ +$/,""):O.join(""))}return C.join(`
`)}function q7(t){return t==null?"":String(t)}function f2(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function $7(t,e,n,s){const i=n.enter("blockquote"),c=n.createTracker(s);c.move("> "),c.shift(2);const u=n.indentLines(n.containerFlow(t,c.current()),H7);return i(),u}function H7(t,e,n){return">"+(n?"":" ")+t}function Y7(t,e){return h2(t,e.inConstruct,!0)&&!h2(t,e.notInConstruct,!1)}function h2(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let s=-1;for(;++s<e.length;)if(t.includes(e[s]))return!0;return!1}function m2(t,e,n,s){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Y7(n.stack,n.unsafe[i]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function G7(t,e){const n=String(t);let s=n.indexOf(e),i=s,c=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===i?++c>u&&(u=c):c=1,i=s+e.length,s=n.indexOf(e,i);return u}function Q7(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function X7(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function K7(t,e,n,s){const i=X7(n),c=t.value||"",u=i==="`"?"GraveAccent":"Tilde";if(Q7(t,n)){const b=n.enter("codeIndented"),w=n.indentLines(c,Z7);return b(),w}const f=n.createTracker(s),h=i.repeat(Math.max(G7(c,i)+1,3)),p=n.enter("codeFenced");let x=f.move(h);if(t.lang){const b=n.enter(`codeFencedLang${u}`);x+=f.move(n.safe(t.lang,{before:x,after:" ",encode:["`"],...f.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${u}`);x+=f.move(" "),x+=f.move(n.safe(t.meta,{before:x,after:`
`,encode:["`"],...f.current()})),b()}return x+=f.move(`
`),c&&(x+=f.move(c+`
`)),x+=f.move(h),p(),x}function Z7(t,e,n){return(n?"":"    ")+t}function Pg(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function J7(t,e,n,s){const i=Pg(n),c=i==='"'?"Quote":"Apostrophe",u=n.enter("definition");let f=n.enter("label");const h=n.createTracker(s);let p=h.move("[");return p+=h.move(n.safe(n.associationId(t),{before:p,after:"]",...h.current()})),p+=h.move("]: "),f(),!t.url||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),p+=h.move("<"),p+=h.move(n.safe(t.url,{before:p,after:">",...h.current()})),p+=h.move(">")):(f=n.enter("destinationRaw"),p+=h.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...h.current()}))),f(),t.title&&(f=n.enter(`title${c}`),p+=h.move(" "+i),p+=h.move(n.safe(t.title,{before:p,after:i,...h.current()})),p+=h.move(i),f()),u(),p}function W7(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Zc(t){return"&#x"+t.toString(16).toUpperCase()+";"}function xf(t,e,n){const s=so(t),i=so(e);return s===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}cN.peek=eR;function cN(t,e,n,s){const i=W7(n),c=n.enter("emphasis"),u=n.createTracker(s),f=u.move(i);let h=u.move(n.containerPhrasing(t,{after:i,before:f,...u.current()}));const p=h.charCodeAt(0),x=xf(s.before.charCodeAt(s.before.length-1),p,i);x.inside&&(h=Zc(p)+h.slice(1));const b=h.charCodeAt(h.length-1),w=xf(s.after.charCodeAt(0),b,i);w.inside&&(h=h.slice(0,-1)+Zc(b));const _=u.move(i);return c(),n.attentionEncodeSurroundingInfo={after:w.outside,before:x.outside},f+h+_}function eR(t,e,n){return n.options.emphasis||"*"}function tR(t,e){let n=!1;return Og(t,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,mp}),!!((!t.depth||t.depth<3)&&Ag(t)&&(e.options.setext||n))}function nR(t,e,n,s){const i=Math.max(Math.min(6,t.depth||1),1),c=n.createTracker(s);if(tR(t,n)){const x=n.enter("headingSetext"),b=n.enter("phrasing"),w=n.containerPhrasing(t,{...c.current(),before:`
`,after:`
`});return b(),x(),w+`
`+(i===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}const u="#".repeat(i),f=n.enter("headingAtx"),h=n.enter("phrasing");c.move(u+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...c.current()});return/^[\t ]/.test(p)&&(p=Zc(p.charCodeAt(0))+p.slice(1)),p=p?u+" "+p:u,n.options.closeAtx&&(p+=" "+u),h(),f(),p}uN.peek=rR;function uN(t){return t.value||""}function rR(){return"<"}dN.peek=sR;function dN(t,e,n,s){const i=Pg(n),c=i==='"'?"Quote":"Apostrophe",u=n.enter("image");let f=n.enter("label");const h=n.createTracker(s);let p=h.move("![");return p+=h.move(n.safe(t.alt,{before:p,after:"]",...h.current()})),p+=h.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),p+=h.move("<"),p+=h.move(n.safe(t.url,{before:p,after:">",...h.current()})),p+=h.move(">")):(f=n.enter("destinationRaw"),p+=h.move(n.safe(t.url,{before:p,after:t.title?" ":")",...h.current()}))),f(),t.title&&(f=n.enter(`title${c}`),p+=h.move(" "+i),p+=h.move(n.safe(t.title,{before:p,after:i,...h.current()})),p+=h.move(i),f()),p+=h.move(")"),u(),p}function sR(){return"!"}fN.peek=aR;function fN(t,e,n,s){const i=t.referenceType,c=n.enter("imageReference");let u=n.enter("label");const f=n.createTracker(s);let h=f.move("![");const p=n.safe(t.alt,{before:h,after:"]",...f.current()});h+=f.move(p+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:h,after:"]",...f.current()});return u(),n.stack=x,c(),i==="full"||!p||p!==b?h+=f.move(b+"]"):i==="shortcut"?h=h.slice(0,-1):h+=f.move("]"),h}function aR(){return"!"}hN.peek=iR;function hN(t,e,n){let s=t.value||"",i="`",c=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(s);)i+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++c<n.unsafe.length;){const u=n.unsafe[c],f=n.compilePattern(u);let h;if(u.atBreak)for(;h=f.exec(s);){let p=h.index;s.charCodeAt(p)===10&&s.charCodeAt(p-1)===13&&p--,s=s.slice(0,p)+" "+s.slice(h.index+1)}}return i+s+i}function iR(){return"`"}function mN(t,e){const n=Ag(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}pN.peek=lR;function pN(t,e,n,s){const i=Pg(n),c=i==='"'?"Quote":"Apostrophe",u=n.createTracker(s);let f,h;if(mN(t,n)){const x=n.stack;n.stack=[],f=n.enter("autolink");let b=u.move("<");return b+=u.move(n.containerPhrasing(t,{before:b,after:">",...u.current()})),b+=u.move(">"),f(),n.stack=x,b}f=n.enter("link"),h=n.enter("label");let p=u.move("[");return p+=u.move(n.containerPhrasing(t,{before:p,after:"](",...u.current()})),p+=u.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=u.move("<"),p+=u.move(n.safe(t.url,{before:p,after:">",...u.current()})),p+=u.move(">")):(h=n.enter("destinationRaw"),p+=u.move(n.safe(t.url,{before:p,after:t.title?" ":")",...u.current()}))),h(),t.title&&(h=n.enter(`title${c}`),p+=u.move(" "+i),p+=u.move(n.safe(t.title,{before:p,after:i,...u.current()})),p+=u.move(i),h()),p+=u.move(")"),f(),p}function lR(t,e,n){return mN(t,n)?"<":"["}gN.peek=oR;function gN(t,e,n,s){const i=t.referenceType,c=n.enter("linkReference");let u=n.enter("label");const f=n.createTracker(s);let h=f.move("[");const p=n.containerPhrasing(t,{before:h,after:"]",...f.current()});h+=f.move(p+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:h,after:"]",...f.current()});return u(),n.stack=x,c(),i==="full"||!p||p!==b?h+=f.move(b+"]"):i==="shortcut"?h=h.slice(0,-1):h+=f.move("]"),h}function oR(){return"["}function Lg(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function cR(t){const e=Lg(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function uR(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function xN(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function dR(t,e,n,s){const i=n.enter("list"),c=n.bulletCurrent;let u=t.ordered?uR(n):Lg(n);const f=t.ordered?u==="."?")":".":cR(n);let h=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&x&&(!x.children||!x.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),xN(n)===u&&x){let b=-1;for(;++b<t.children.length;){const w=t.children[b];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(u=f),n.bulletCurrent=u;const p=n.containerFlow(t,s);return n.bulletLastUsed=u,n.bulletCurrent=c,i(),p}function fR(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function hR(t,e,n,s){const i=fR(n);let c=n.bulletCurrent||Lg(n);e&&e.type==="list"&&e.ordered&&(c=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+c);let u=c.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const f=n.createTracker(s);f.move(c+" ".repeat(u-c.length)),f.shift(u);const h=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,f.current()),x);return h(),p;function x(b,w,_){return w?(_?"":" ".repeat(u))+b:(_?c:c+" ".repeat(u-c.length))+b}}function mR(t,e,n,s){const i=n.enter("paragraph"),c=n.enter("phrasing"),u=n.containerPhrasing(t,s);return c(),i(),u}const pR=Hf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function gR(t,e,n,s){return(t.children.some(function(u){return pR(u)})?n.containerPhrasing:n.containerFlow).call(n,t,s)}function xR(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}yN.peek=yR;function yN(t,e,n,s){const i=xR(n),c=n.enter("strong"),u=n.createTracker(s),f=u.move(i+i);let h=u.move(n.containerPhrasing(t,{after:i,before:f,...u.current()}));const p=h.charCodeAt(0),x=xf(s.before.charCodeAt(s.before.length-1),p,i);x.inside&&(h=Zc(p)+h.slice(1));const b=h.charCodeAt(h.length-1),w=xf(s.after.charCodeAt(0),b,i);w.inside&&(h=h.slice(0,-1)+Zc(b));const _=u.move(i+i);return c(),n.attentionEncodeSurroundingInfo={after:w.outside,before:x.outside},f+h+_}function yR(t,e,n){return n.options.strong||"*"}function bR(t,e,n,s){return n.safe(t.value,s)}function vR(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function wR(t,e,n){const s=(xN(n)+(n.options.ruleSpaces?" ":"")).repeat(vR(n));return n.options.ruleSpaces?s.slice(0,-1):s}const bN={blockquote:$7,break:m2,code:K7,definition:J7,emphasis:cN,hardBreak:m2,heading:nR,html:uN,image:dN,imageReference:fN,inlineCode:hN,link:pN,linkReference:gN,list:dR,listItem:hR,paragraph:mR,root:gR,strong:yN,text:bR,thematicBreak:wR};function _R(){return{enter:{table:NR,tableData:p2,tableHeader:p2,tableRow:TR},exit:{codeText:SR,table:ER,tableData:S0,tableHeader:S0,tableRow:S0}}}function NR(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function ER(t){this.exit(t),this.data.inTable=void 0}function TR(t){this.enter({type:"tableRow",children:[]},t)}function S0(t){this.exit(t)}function p2(t){this.enter({type:"tableCell",children:[]},t)}function SR(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,jR));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function jR(t,e){return e==="|"?e:t}function AR(t){const e=t||{},n=e.tableCellPadding,s=e.tablePipeAlign,i=e.stringLength,c=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:w,table:u,tableCell:h,tableRow:f}};function u(_,C,M,z){return p(x(_,M,z),_.align)}function f(_,C,M,z){const O=b(_,M,z),D=p([O]);return D.slice(0,D.indexOf(`
`))}function h(_,C,M,z){const O=M.enter("tableCell"),D=M.enter("phrasing"),F=M.containerPhrasing(_,{...z,before:c,after:c});return D(),O(),F}function p(_,C){return F7(_,{align:C,alignDelimiters:s,padding:n,stringLength:i})}function x(_,C,M){const z=_.children;let O=-1;const D=[],F=C.enter("table");for(;++O<z.length;)D[O]=b(z[O],C,M);return F(),D}function b(_,C,M){const z=_.children;let O=-1;const D=[],F=C.enter("tableRow");for(;++O<z.length;)D[O]=h(z[O],_,C,M);return F(),D}function w(_,C,M){let z=bN.inlineCode(_,C,M);return M.stack.includes("tableCell")&&(z=z.replace(/\|/g,"\\$&")),z}}function kR(){return{exit:{taskListCheckValueChecked:g2,taskListCheckValueUnchecked:g2,paragraph:DR}}}function CR(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:RR}}}function g2(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function DR(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const s=n.children[0];if(s&&s.type==="text"){const i=e.children;let c=-1,u;for(;++c<i.length;){const f=i[c];if(f.type==="paragraph"){u=f;break}}u===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(t)}function RR(t,e,n,s){const i=t.children[0],c=typeof t.checked=="boolean"&&i&&i.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",f=n.createTracker(s);c&&f.move(u);let h=bN.listItem(t,e,n,{...s,...f.current()});return c&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),h;function p(x){return x+u}}function IR(){return[d7(),R7(),V7(),_R(),kR()]}function MR(t){return{extensions:[f7(),I7(t),P7(),AR(t),CR()]}}const OR={tokenize:BR,partial:!0},vN={tokenize:FR,partial:!0},wN={tokenize:qR,partial:!0},_N={tokenize:$R,partial:!0},VR={tokenize:HR,partial:!0},NN={name:"wwwAutolink",tokenize:zR,previous:TN},EN={name:"protocolAutolink",tokenize:UR,previous:SN},sa={name:"emailAutolink",tokenize:LR,previous:jN},js={};function PR(){return{text:js}}let Di=48;for(;Di<123;)js[Di]=sa,Di++,Di===58?Di=65:Di===91&&(Di=97);js[43]=sa;js[45]=sa;js[46]=sa;js[95]=sa;js[72]=[sa,EN];js[104]=[sa,EN];js[87]=[sa,NN];js[119]=[sa,NN];function LR(t,e,n){const s=this;let i,c;return u;function u(b){return!yp(b)||!jN.call(s,s.previous)||zg(s.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),f(b))}function f(b){return yp(b)?(t.consume(b),f):b===64?(t.consume(b),h):n(b)}function h(b){return b===46?t.check(VR,x,p)(b):b===45||b===95||Vn(b)?(c=!0,t.consume(b),h):x(b)}function p(b){return t.consume(b),i=!0,h}function x(b){return c&&i&&Fn(s.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(b)):n(b)}}function zR(t,e,n){const s=this;return i;function i(u){return u!==87&&u!==119||!TN.call(s,s.previous)||zg(s.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(OR,t.attempt(vN,t.attempt(wN,c),n),n)(u))}function c(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function UR(t,e,n){const s=this;let i="",c=!1;return u;function u(b){return(b===72||b===104)&&SN.call(s,s.previous)&&!zg(s.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(b),t.consume(b),f):n(b)}function f(b){if(Fn(b)&&i.length<5)return i+=String.fromCodePoint(b),t.consume(b),f;if(b===58){const w=i.toLowerCase();if(w==="http"||w==="https")return t.consume(b),h}return n(b)}function h(b){return b===47?(t.consume(b),c?p:(c=!0,h)):n(b)}function p(b){return b===null||mf(b)||Nt(b)||Fi(b)||Ff(b)?n(b):t.attempt(vN,t.attempt(wN,x),n)(b)}function x(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(b)}}function BR(t,e,n){let s=0;return i;function i(u){return(u===87||u===119)&&s<3?(s++,t.consume(u),i):u===46&&s===3?(t.consume(u),c):n(u)}function c(u){return u===null?n(u):e(u)}}function FR(t,e,n){let s,i,c;return u;function u(p){return p===46||p===95?t.check(_N,h,f)(p):p===null||Nt(p)||Fi(p)||p!==45&&Ff(p)?h(p):(c=!0,t.consume(p),u)}function f(p){return p===95?s=!0:(i=s,s=void 0),t.consume(p),u}function h(p){return i||s||!c?n(p):e(p)}}function qR(t,e){let n=0,s=0;return i;function i(u){return u===40?(n++,t.consume(u),i):u===41&&s<n?c(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(_N,e,c)(u):u===null||Nt(u)||Fi(u)?e(u):(t.consume(u),i)}function c(u){return u===41&&s++,t.consume(u),i}}function $R(t,e,n){return s;function s(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(t.consume(f),s):f===38?(t.consume(f),c):f===93?(t.consume(f),i):f===60||f===null||Nt(f)||Fi(f)?e(f):n(f)}function i(f){return f===null||f===40||f===91||Nt(f)||Fi(f)?e(f):s(f)}function c(f){return Fn(f)?u(f):n(f)}function u(f){return f===59?(t.consume(f),s):Fn(f)?(t.consume(f),u):n(f)}}function HR(t,e,n){return s;function s(c){return t.consume(c),i}function i(c){return Vn(c)?n(c):e(c)}}function TN(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Nt(t)}function SN(t){return!Fn(t)}function jN(t){return!(t===47||yp(t))}function yp(t){return t===43||t===45||t===46||t===95||Vn(t)}function zg(t){let e=t.length,n=!1;for(;e--;){const s=t[e][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const YR={tokenize:e8,partial:!0};function GR(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ZR,continuation:{tokenize:JR},exit:WR}},text:{91:{name:"gfmFootnoteCall",tokenize:KR},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:QR,resolveTo:XR}}}}function QR(t,e,n){const s=this;let i=s.events.length;const c=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let u;for(;i--;){const h=s.events[i][1];if(h.type==="labelImage"){u=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return f;function f(h){if(!u||!u._balanced)return n(h);const p=Yr(s.sliceSerialize({start:u.end,end:s.now()}));return p.codePointAt(0)!==94||!c.includes(p.slice(1))?n(h):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),e(h))}}function XR(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const c={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},c.start),end:Object.assign({},c.end)},f=[t[n+1],t[n+2],["enter",s,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",c,e],["enter",u,e],["exit",u,e],["exit",c,e],t[t.length-2],t[t.length-1],["exit",s,e]];return t.splice(n,t.length-n+1,...f),t}function KR(t,e,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let c=0,u;return f;function f(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),h}function h(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",p)}function p(b){if(c>999||b===93&&!u||b===null||b===91||Nt(b))return n(b);if(b===93){t.exit("chunkString");const w=t.exit("gfmFootnoteCallString");return i.includes(Yr(s.sliceSerialize(w)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(b)}return Nt(b)||(u=!0),c++,t.consume(b),b===92?x:p}function x(b){return b===91||b===92||b===93?(t.consume(b),c++,p):p(b)}}function ZR(t,e,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let c,u=0,f;return h;function h(C){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(C),t.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(C){return C===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(C),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):n(C)}function x(C){if(u>999||C===93&&!f||C===null||C===91||Nt(C))return n(C);if(C===93){t.exit("chunkString");const M=t.exit("gfmFootnoteDefinitionLabelString");return c=Yr(s.sliceSerialize(M)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(C),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),w}return Nt(C)||(f=!0),u++,t.consume(C),C===92?b:x}function b(C){return C===91||C===92||C===93?(t.consume(C),u++,x):x(C)}function w(C){return C===58?(t.enter("definitionMarker"),t.consume(C),t.exit("definitionMarker"),i.includes(c)||i.push(c),lt(t,_,"gfmFootnoteDefinitionWhitespace")):n(C)}function _(C){return e(C)}}function JR(t,e,n){return t.check(uu,e,t.attempt(YR,e,n))}function WR(t){t.exit("gfmFootnoteDefinition")}function e8(t,e,n){const s=this;return lt(t,i,"gfmFootnoteDefinitionIndent",5);function i(c){const u=s.events[s.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(c):n(c)}}function t8(t){let n=(t||{}).singleTilde;const s={name:"strikethrough",tokenize:c,resolveAll:i};return n==null&&(n=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function i(u,f){let h=-1;for(;++h<u.length;)if(u[h][0]==="enter"&&u[h][1].type==="strikethroughSequenceTemporary"&&u[h][1]._close){let p=h;for(;p--;)if(u[p][0]==="exit"&&u[p][1].type==="strikethroughSequenceTemporary"&&u[p][1]._open&&u[h][1].end.offset-u[h][1].start.offset===u[p][1].end.offset-u[p][1].start.offset){u[h][1].type="strikethroughSequence",u[p][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},u[p][1].start),end:Object.assign({},u[h][1].end)},b={type:"strikethroughText",start:Object.assign({},u[p][1].end),end:Object.assign({},u[h][1].start)},w=[["enter",x,f],["enter",u[p][1],f],["exit",u[p][1],f],["enter",b,f]],_=f.parser.constructs.insideSpan.null;_&&mr(w,w.length,0,qf(_,u.slice(p+1,h),f)),mr(w,w.length,0,[["exit",b,f],["enter",u[h][1],f],["exit",u[h][1],f],["exit",x,f]]),mr(u,p-1,h-p+3,w),h=p+w.length-2;break}}for(h=-1;++h<u.length;)u[h][1].type==="strikethroughSequenceTemporary"&&(u[h][1].type="data");return u}function c(u,f,h){const p=this.previous,x=this.events;let b=0;return w;function w(C){return p===126&&x[x.length-1][1].type!=="characterEscape"?h(C):(u.enter("strikethroughSequenceTemporary"),_(C))}function _(C){const M=so(p);if(C===126)return b>1?h(C):(u.consume(C),b++,_);if(b<2&&!n)return h(C);const z=u.exit("strikethroughSequenceTemporary"),O=so(C);return z._open=!O||O===2&&!!M,z._close=!M||M===2&&!!O,f(C)}}}class n8{constructor(){this.map=[]}add(e,n,s){r8(this,e,n,s)}consume(e){if(this.map.sort(function(c,u){return c[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];s.push(e.slice()),e.length=0;let i=s.pop();for(;i;){for(const c of i)e.push(c);i=s.pop()}this.map.length=0}}function r8(t,e,n,s){let i=0;if(!(n===0&&s.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...s);return}i+=1}t.map.push([e,n,s])}}function s8(t,e){let n=!1;const s=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&s.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const c=s.length-1;s[c]=s[c]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return s}function a8(){return{flow:{null:{name:"table",tokenize:i8,resolveAll:l8}}}}function i8(t,e,n){const s=this;let i=0,c=0,u;return f;function f(k){let P=s.events.length-1;for(;P>-1;){const K=s.events[P][1].type;if(K==="lineEnding"||K==="linePrefix")P--;else break}const U=P>-1?s.events[P][1].type:null,E=U==="tableHead"||U==="tableRow"?I:h;return E===I&&s.parser.lazy[s.now().line]?n(k):E(k)}function h(k){return t.enter("tableHead"),t.enter("tableRow"),p(k)}function p(k){return k===124||(u=!0,c+=1),x(k)}function x(k){return k===null?n(k):Oe(k)?c>1?(c=0,s.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),_):n(k):Ze(k)?lt(t,x,"whitespace")(k):(c+=1,u&&(u=!1,i+=1),k===124?(t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),u=!0,x):(t.enter("data"),b(k)))}function b(k){return k===null||k===124||Nt(k)?(t.exit("data"),x(k)):(t.consume(k),k===92?w:b)}function w(k){return k===92||k===124?(t.consume(k),b):b(k)}function _(k){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(k):(t.enter("tableDelimiterRow"),u=!1,Ze(k)?lt(t,C,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):C(k))}function C(k){return k===45||k===58?z(k):k===124?(u=!0,t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),M):Y(k)}function M(k){return Ze(k)?lt(t,z,"whitespace")(k):z(k)}function z(k){return k===58?(c+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(k),t.exit("tableDelimiterMarker"),O):k===45?(c+=1,O(k)):k===null||Oe(k)?q(k):Y(k)}function O(k){return k===45?(t.enter("tableDelimiterFiller"),D(k)):Y(k)}function D(k){return k===45?(t.consume(k),D):k===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(k),t.exit("tableDelimiterMarker"),F):(t.exit("tableDelimiterFiller"),F(k))}function F(k){return Ze(k)?lt(t,q,"whitespace")(k):q(k)}function q(k){return k===124?C(k):k===null||Oe(k)?!u||i!==c?Y(k):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(k)):Y(k)}function Y(k){return n(k)}function I(k){return t.enter("tableRow"),V(k)}function V(k){return k===124?(t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),V):k===null||Oe(k)?(t.exit("tableRow"),e(k)):Ze(k)?lt(t,V,"whitespace")(k):(t.enter("data"),A(k))}function A(k){return k===null||k===124||Nt(k)?(t.exit("data"),V(k)):(t.consume(k),k===92?R:A)}function R(k){return k===92||k===124?(t.consume(k),A):A(k)}}function l8(t,e){let n=-1,s=!0,i=0,c=[0,0,0,0],u=[0,0,0,0],f=!1,h=0,p,x,b;const w=new n8;for(;++n<t.length;){const _=t[n],C=_[1];_[0]==="enter"?C.type==="tableHead"?(f=!1,h!==0&&(x2(w,e,h,p,x),x=void 0,h=0),p={type:"table",start:Object.assign({},C.start),end:Object.assign({},C.end)},w.add(n,0,[["enter",p,e]])):C.type==="tableRow"||C.type==="tableDelimiterRow"?(s=!0,b=void 0,c=[0,0,0,0],u=[0,n+1,0,0],f&&(f=!1,x={type:"tableBody",start:Object.assign({},C.start),end:Object.assign({},C.end)},w.add(n,0,[["enter",x,e]])),i=C.type==="tableDelimiterRow"?2:x?3:1):i&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")?(s=!1,u[2]===0&&(c[1]!==0&&(u[0]=u[1],b=Bd(w,e,c,i,void 0,b),c=[0,0,0,0]),u[2]=n)):C.type==="tableCellDivider"&&(s?s=!1:(c[1]!==0&&(u[0]=u[1],b=Bd(w,e,c,i,void 0,b)),c=u,u=[c[1],n,0,0])):C.type==="tableHead"?(f=!0,h=n):C.type==="tableRow"||C.type==="tableDelimiterRow"?(h=n,c[1]!==0?(u[0]=u[1],b=Bd(w,e,c,i,n,b)):u[1]!==0&&(b=Bd(w,e,u,i,n,b)),i=0):i&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")&&(u[3]=n)}for(h!==0&&x2(w,e,h,p,x),w.consume(e.events),n=-1;++n<e.events.length;){const _=e.events[n];_[0]==="enter"&&_[1].type==="table"&&(_[1]._align=s8(e.events,n))}return t}function Bd(t,e,n,s,i,c){const u=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(c.end=Object.assign({},$l(e.events,n[0])),t.add(n[0],0,[["exit",c,e]]));const h=$l(e.events,n[1]);if(c={type:u,start:Object.assign({},h),end:Object.assign({},h)},t.add(n[1],0,[["enter",c,e]]),n[2]!==0){const p=$l(e.events,n[2]),x=$l(e.events,n[3]),b={type:f,start:Object.assign({},p),end:Object.assign({},x)};if(t.add(n[2],0,[["enter",b,e]]),s!==2){const w=e.events[n[2]],_=e.events[n[3]];if(w[1].end=Object.assign({},_[1].end),w[1].type="chunkText",w[1].contentType="text",n[3]>n[2]+1){const C=n[2]+1,M=n[3]-n[2]-1;t.add(C,M,[])}}t.add(n[3]+1,0,[["exit",b,e]])}return i!==void 0&&(c.end=Object.assign({},$l(e.events,i)),t.add(i,0,[["exit",c,e]]),c=void 0),c}function x2(t,e,n,s,i){const c=[],u=$l(e.events,n);i&&(i.end=Object.assign({},u),c.push(["exit",i,e])),s.end=Object.assign({},u),c.push(["exit",s,e]),t.add(n+1,0,c)}function $l(t,e){const n=t[e],s=n[0]==="enter"?"start":"end";return n[1][s]}const o8={name:"tasklistCheck",tokenize:u8};function c8(){return{text:{91:o8}}}function u8(t,e,n){const s=this;return i;function i(h){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?n(h):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(h),t.exit("taskListCheckMarker"),c)}function c(h){return Nt(h)?(t.enter("taskListCheckValueUnchecked"),t.consume(h),t.exit("taskListCheckValueUnchecked"),u):h===88||h===120?(t.enter("taskListCheckValueChecked"),t.consume(h),t.exit("taskListCheckValueChecked"),u):n(h)}function u(h){return h===93?(t.enter("taskListCheckMarker"),t.consume(h),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),f):n(h)}function f(h){return Oe(h)?e(h):Ze(h)?t.check({tokenize:d8},e,n)(h):n(h)}}function d8(t,e,n){return lt(t,s,"whitespace");function s(i){return i===null?n(i):e(i)}}function f8(t){return L_([PR(),GR(),t8(t),a8(),c8()])}const h8={};function go(t){const e=this,n=t||h8,s=e.data(),i=s.micromarkExtensions||(s.micromarkExtensions=[]),c=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),u=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);i.push(f8(n)),c.push(IR()),u.push(MR(n))}function m8({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,canManageNotices:i,onDelete:c,onManagePermissions:u,onEdit:f,onTogglePin:h}){const[p,x]=G.useState(!1),[b,w]=G.useState(t.content),_=i,C=i,M=i,z=I=>I?(I.toDate?I.toDate():new Date(I)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",O=()=>t.createdByRoll==="2405225"?"admin":"co-leader",D=()=>{w(t.content),x(!0)},F=()=>{x(!1),w(t.content)},q=async()=>{if(!b.trim()){alert("Please enter content for the notice");return}await f(t.id,{content:b.trim()})&&x(!1)},Y=O();return p?o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Notice"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:q,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[o.jsx(Gr,{className:"w-4 h-4"}),"Save"]}),o.jsxs("button",{onClick:F,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[o.jsx(Ut,{className:"w-4 h-4"}),"Cancel"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notice Content (Markdown supported)"}),o.jsx("textarea",{value:b,onChange:I=>w(I.target.value),rows:6,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:`Enter your notice content here. You can use Markdown formatting:\r
\r
**Bold text**\r
*Italic text*\r
[Link text](https://example.com)\r
- List item\r
> Quote\r
\`code\``})]}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Tip:"})," Use Markdown formatting for rich text. Links will automatically open in new tabs."]})})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100 hover:shadow-xl transition-all",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-xl sm:rounded-2xl flex items-center justify-center shrink-0",children:o.jsx(Js,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h3",{className:"font-bold text-gray-900 text-sm sm:text-base truncate",children:"Notice"}),o.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-sm text-gray-600",children:[o.jsx(Hr,{className:"w-3 h-3 shrink-0"}),o.jsxs("span",{className:"truncate",children:["By ",t.createdBy]}),Y==="admin"&&o.jsx(Rr,{className:"w-3 h-3 text-yellow-500 shrink-0",title:"Admin"}),Y==="co-leader"&&t.createdByRoll!=="2405225"&&o.jsx(Tn,{className:"w-3 h-3 text-purple-500 shrink-0",title:"Co-Leader"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[o.jsx("div",{className:"flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full bg-gray-100",children:t.isPublic?o.jsxs(o.Fragment,{children:[o.jsx(kp,{className:"w-2.5 h-2.5 text-green-600"}),o.jsx("span",{className:"text-green-700",children:"Public"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Zt,{className:"w-2.5 h-2.5 text-blue-600"}),o.jsxs("span",{className:"text-blue-700",children:[t.allowedUsers?.length||0," users"]})]})}),t.isPinned&&o.jsxs("div",{className:"flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full bg-orange-100 text-orange-700 border border-orange-200",children:[o.jsx(k0,{className:"w-2.5 h-2.5 fill-orange-700"}),o.jsx("span",{className:"font-medium",children:"Pinned"})]}),o.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500",children:[o.jsx(xs,{className:"w-3 h-3"}),o.jsx("span",{children:z(t.createdAt)})]}),o.jsxs("div",{className:"flex items-center gap-0.5 ml-auto sm:ml-0",children:[C&&o.jsx("button",{onClick:D,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Notice",children:o.jsx($i,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),M&&o.jsx("button",{onClick:u,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:o.jsx(Ua,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),i&&o.jsx("button",{onClick:h,className:`p-1.5 sm:p-2 rounded-lg transition-colors ${t.isPinned?"text-orange-600 hover:bg-orange-100":"text-gray-400 hover:bg-gray-100 hover:text-orange-600"}`,title:t.isPinned?"Unpin Notice":"Pin Notice",children:t.isPinned?o.jsx(BE,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):o.jsx(k0,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),_&&o.jsx("button",{onClick:()=>c(t.id),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Notice",children:o.jsx(Qr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]}),o.jsx("div",{className:"prose prose-sm max-w-none",children:o.jsx(po,{remarkPlugins:[go],components:{a:({href:I,children:V})=>o.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:V}),p:({children:I})=>o.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:I}),h1:({children:I})=>o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:I}),h2:({children:I})=>o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:I}),h3:({children:I})=>o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:I}),ul:({children:I})=>o.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-3 space-y-1",children:I}),ol:({children:I})=>o.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-3 space-y-1",children:I}),li:({children:I})=>o.jsx("li",{className:"text-gray-700",children:I}),blockquote:({children:I})=>o.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 text-gray-700 italic mb-3",children:I}),code:({children:I,className:V})=>V?o.jsx("code",{className:"block bg-gray-100 text-gray-800 p-3 rounded text-sm font-mono whitespace-pre-wrap mb-3",children:I}):o.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:I}),strong:({children:I})=>o.jsx("strong",{className:"font-bold text-gray-900",children:I}),em:({children:I})=>o.jsx("em",{className:"italic text-gray-700",children:I})},children:t.content})}),i&&!t.isPublic&&t.allowedUsers?.length>0&&o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[o.jsx(Es,{className:"w-4 h-4"}),o.jsxs("span",{children:["Visible to: ",t.allowedUsers.length," selected students"]})]})})]})}function p8({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:i,canManageNotices:c,onDelete:u,onManagePermissions:f,onToggleItem:h,onEdit:p}){const[x,b]=G.useState(!1),[w,_]=G.useState(t.content),[C,M]=G.useState(t.meta.items||[]),[z,O]=G.useState(t.meta.isAnonymous||!1),[D,F]=G.useState(null),q=c,Y=c,I=c,V=t.meta.isAnonymous||!1,A=T=>T?(T.toDate?T.toDate():new Date(T)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",R=T=>{const H=n.find(oe=>oe.rollNo===T);return H?H.name:T},k=T=>{if(V)return[];const H=t.meta.items[T];return!H.completedBy||H.completedBy.length===0?[]:H.completedBy.map(oe=>R(oe))},P=T=>{const H=t.meta.items[T];return V?H.anonymousCompletions||0:H.completedBy?.length||0},U=T=>{if(V)return((t.meta.userCompletions||{})[e]||[]).includes(T);{const H=t.meta.items[T];return H.completedBy&&H.completedBy.includes(e)}},E=()=>{const T=t.meta.items?.length||0;let H=0;for(let oe=0;oe<T;oe++)U(oe)&&H++;return{totalItems:T,completedItems:H}},K=T=>{V||F(D===T?null:T)},ne=()=>{_(t.content),M([...t.meta.items]),O(t.meta.isAnonymous||!1),b(!0)},X=()=>{b(!1),_(t.content),M([...t.meta.items]),O(t.meta.isAnonymous||!1)},de=async()=>{if(!w.trim()){alert("Please enter content for the checklist");return}if(C.length===0||C.every(H=>!H.text.trim())){alert("Please add at least one checklist item");return}await p(t.id,{content:w.trim(),meta:{...t.meta,items:C.filter(H=>H.text.trim()),isAnonymous:z}})&&b(!1)},J=()=>{M([...C,{text:"",completedBy:[],anonymousCompletions:0}])},ve=(T,H)=>{const oe=[...C];oe[T]={...oe[T],text:H},M(oe)},j=T=>{if(C.length<=1){alert("Checklist must have at least 1 item");return}M(C.filter((H,oe)=>oe!==T))},{totalItems:ee,completedItems:pe}=E();return x?o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Checklist"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:de,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[o.jsx(Gr,{className:"w-4 h-4"}),"Save"]}),o.jsxs("button",{onClick:X,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[o.jsx(Ut,{className:"w-4 h-4"}),"Cancel"]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Description (Markdown supported)"}),o.jsx("textarea",{value:w,onChange:T=>_(T.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 font-mono text-sm",placeholder:"Enter checklist description. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous completion:"}),o.jsxs("button",{type:"button",onClick:()=>O(!z),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${z?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[z?o.jsx(za,{className:"w-4 h-4"}):o.jsx(zi,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:z?"Anonymous":"Show names"})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Items"}),C.map((T,H)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:T.text,onChange:oe=>ve(H,oe.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:`Item ${H+1}`}),C.length>1&&o.jsx("button",{onClick:()=>j(H),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:o.jsx(Ut,{className:"w-4 h-4"})})]},H)),o.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 text-green-600 hover:bg-green-100 rounded-xl transition-colors",children:[o.jsx(qr,{className:"w-4 h-4"}),"Add Item"]})]})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100 hover:shadow-xl transition-all",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-xl sm:rounded-2xl flex items-center justify-center shrink-0",children:o.jsx(Cp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsxs("div",{className:"flex items-center flex-wrap gap-1.5 sm:gap-2",children:[o.jsx("h3",{className:"font-bold text-gray-900 text-sm sm:text-base",children:"Checklist"}),V&&o.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-700 px-1.5 py-0.5 rounded-full font-medium",children:"Anon"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-sm text-gray-600",children:[o.jsx(Hr,{className:"w-3 h-3 shrink-0"}),o.jsxs("span",{className:"truncate",children:["By ",t.createdBy]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"whitespace-nowrap",children:[pe,"/",ee," done"]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500",children:[o.jsx(xs,{className:"w-3 h-3"}),o.jsx("span",{children:A(t.createdAt)})]}),o.jsxs("div",{className:"flex items-center gap-0.5 ml-auto sm:ml-0",children:[Y&&o.jsx("button",{onClick:ne,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Checklist",children:o.jsx($i,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),I&&o.jsx("button",{onClick:f,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:o.jsx(Ua,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),q&&o.jsx("button",{onClick:()=>u(t.id),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Checklist",children:o.jsx(Qr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]}),o.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:o.jsx(po,{remarkPlugins:[go],components:{a:({href:T,children:H})=>o.jsx("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:H}),p:({children:T})=>o.jsx("p",{className:"text-gray-700 leading-relaxed",children:T}),strong:({children:T})=>o.jsx("strong",{className:"font-bold text-gray-900",children:T}),em:({children:T})=>o.jsx("em",{className:"italic",children:T}),ul:({children:T})=>o.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:T}),ol:({children:T})=>o.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:T}),code:({children:T,className:H})=>H?o.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:T}):o.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:T})},children:t.content})}),o.jsx("div",{className:"space-y-3",children:t.meta.items?.map((T,H)=>{const oe=U(H),se=k(H),be=P(H);return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:`
                  flex items-center justify-between p-2.5 sm:p-3 rounded-xl border-2 transition-all cursor-pointer
                  ${oe?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 hover:border-green-300"}
                `,onClick:()=>h(H),children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[o.jsx("div",{className:`
                    w-5 h-5 sm:w-6 sm:h-6 rounded-lg border-2 flex items-center justify-center shrink-0
                    ${oe?"bg-green-500 border-green-500 text-white":"border-gray-300"}
                  `,children:oe&&o.jsx(ao,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),o.jsx("span",{className:`text-sm sm:text-base truncate ${oe?"text-green-700 font-medium":"text-gray-700"}`,children:T.text})]}),be>0&&o.jsx("span",{className:"text-[10px] bg-gray-200 text-gray-600 px-1.5 py-0.5 rounded-full shrink-0 ml-2",children:be})]}),!V&&se.length>0&&o.jsxs("div",{className:"ml-9",children:[o.jsxs("button",{onClick:()=>K(H),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-800 transition-colors",children:[o.jsx(Es,{className:"w-4 h-4"}),o.jsxs("span",{children:[se.length," completed by"]}),D===H?o.jsx(Sp,{className:"w-4 h-4"}):o.jsx(bf,{className:"w-4 h-4"})]}),D===H&&o.jsx("div",{className:"mt-2 p-3 bg-green-50 rounded-lg border border-green-200",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:se.map((Se,Ye)=>o.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:Se},Ye))})})]}),V&&be>0&&o.jsx("div",{className:"ml-9",children:o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx(za,{className:"w-4 h-4"}),o.jsxs("span",{children:[be," anonymous completion",be>1?"s":""]})]})})]},H)})})]})}function g8({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:i,canManageNotices:c,onDelete:u,onManagePermissions:f,onVote:h,onEdit:p}){const[x,b]=G.useState([]),[w,_]=G.useState(!1),[C,M]=G.useState(t.content),[z,O]=G.useState(t.meta.options||[]),[D,F]=G.useState(t.meta.allowMultiple||!1),[q,Y]=G.useState(t.meta.isAnonymous||!1),[I,V]=G.useState(null),A=c,R=c,k=c,P=t.meta.isAnonymous||!1;G.useEffect(()=>{if(t?.meta?.options)if(P){const be=(t.meta.userVotes||{})[e]||[];b(be)}else{const se=[];t.meta.options.forEach((be,Se)=>{be.votes&&be.votes.includes(e)&&se.push(Se)}),b(se)}},[t,e,P]);const U=se=>se?(se.toDate?se.toDate():new Date(se)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",E=()=>P?t.meta.options?.reduce((se,be)=>se+(be.anonymousVotes||0),0)||0:t.meta.options?.reduce((se,be)=>se+(be.votes?.length||0),0)||0,K=se=>{const be=t.meta.options[se];return P?be.anonymousVotes||0:be.votes?.length||0},ne=se=>{const be=n.find(Se=>Se.rollNo===se);return be?be.name:se},X=se=>{if(P)return[];const be=t.meta.options[se];return!be.votes||be.votes.length===0?[]:be.votes.map(Se=>ne(Se))},de=se=>{let be;t.meta.allowMultiple?x.includes(se)?be=x.filter(Se=>Se!==se):be=[...x,se]:be=x.includes(se)?[]:[se],b(be),h(be,e)},J=se=>{P||V(I===se?null:se)},ve=()=>{M(t.content),O([...t.meta.options]),F(t.meta.allowMultiple||!1),Y(t.meta.isAnonymous||!1),_(!0)},j=()=>{_(!1),M(t.content),O([...t.meta.options]),F(t.meta.allowMultiple||!1),Y(t.meta.isAnonymous||!1)},ee=async()=>{if(!C.trim()){alert("Please enter a question");return}if(z.length<2||z.some(be=>!be.text.trim())){alert("Please add at least 2 options with text");return}await p(t.id,{content:C.trim(),meta:{...t.meta,options:z,allowMultiple:D,isAnonymous:q}})&&_(!1)},pe=()=>{O([...z,{text:"",votes:[],anonymousVotes:0}])},T=(se,be)=>{const Se=[...z];Se[se]={...Se[se],text:be},O(Se)},H=se=>{if(z.length<=2){alert("Poll must have at least 2 options");return}O(z.filter((be,Se)=>Se!==se))},oe=E();return w?o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Poll"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:ee,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[o.jsx(Gr,{className:"w-4 h-4"}),"Save"]}),o.jsxs("button",{onClick:j,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[o.jsx(Ut,{className:"w-4 h-4"}),"Cancel"]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Poll Question (Markdown supported)"}),o.jsx("textarea",{value:C,onChange:se=>M(se.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter your poll question. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Multiple selections:"}),o.jsxs("button",{type:"button",onClick:()=>F(!D),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${D?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[D?o.jsx(I0,{className:"w-4 h-4"}):o.jsx(R0,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:D?"Enabled":"Disabled"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous voting:"}),o.jsxs("button",{type:"button",onClick:()=>Y(!q),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${q?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[q?o.jsx(za,{className:"w-4 h-4"}):o.jsx(zi,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:q?"Anonymous":"Show names"})]})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[z.map((se,be)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:se.text,onChange:Se=>T(be,Se.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Option ${be+1}`}),z.length>2&&o.jsx("button",{onClick:()=>H(be),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:o.jsx(Ut,{className:"w-4 h-4"})})]},be)),o.jsxs("button",{onClick:pe,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[o.jsx(qr,{className:"w-4 h-4"}),"Add Option"]})]})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100 hover:shadow-xl transition-all",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-purple-100 rounded-xl sm:rounded-2xl flex items-center justify-center shrink-0",children:o.jsx(Ep,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsxs("div",{className:"flex items-center flex-wrap gap-1.5 sm:gap-2",children:[o.jsx("h3",{className:"font-bold text-gray-900 text-sm sm:text-base",children:"Poll"}),t.meta.allowMultiple&&o.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded-full font-medium",children:"Multi"}),P&&o.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-700 px-1.5 py-0.5 rounded-full font-medium",children:"Anon"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-sm text-gray-600",children:[o.jsx(Hr,{className:"w-3 h-3 shrink-0"}),o.jsxs("span",{className:"truncate",children:["By ",t.createdBy]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[oe," votes"]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500",children:[o.jsx(xs,{className:"w-3 h-3"}),o.jsx("span",{children:U(t.createdAt)})]}),o.jsxs("div",{className:"flex items-center gap-0.5 ml-auto sm:ml-0",children:[R&&o.jsx("button",{onClick:ve,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Poll",children:o.jsx($i,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),k&&o.jsx("button",{onClick:f,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:o.jsx(Ua,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),A&&o.jsx("button",{onClick:()=>u(t.id),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Poll",children:o.jsx(Qr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]}),o.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:o.jsx(po,{remarkPlugins:[go],components:{a:({href:se,children:be})=>o.jsx("a",{href:se,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:be}),p:({children:se})=>o.jsx("p",{className:"text-gray-700 leading-relaxed font-medium",children:se}),strong:({children:se})=>o.jsx("strong",{className:"font-bold text-gray-900",children:se}),em:({children:se})=>o.jsx("em",{className:"italic",children:se}),code:({children:se,className:be})=>be?o.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:se}):o.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:se})},children:t.content})}),o.jsx("div",{className:"space-y-3",children:t.meta.options?.map((se,be)=>{const Se=K(be),Ye=oe>0?Se/oe*100:0,Je=x.includes(be),Et=X(be);return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>de(be),className:`
                  w-full p-2.5 sm:p-3 rounded-xl border-2 transition-all text-left
                  ${Je?"bg-purple-50 border-purple-300":"bg-gray-50 border-gray-200 hover:border-purple-300"}
                `,children:[o.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2 text-sm sm:text-base",children:[o.jsx("span",{className:`font-medium ${Je?"text-purple-700":"text-gray-700"} truncate mr-2`,children:se.text}),o.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 shrink-0",children:[Se," (",Ye.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 sm:h-2",children:o.jsx("div",{className:`h-1.5 sm:h-2 rounded-full transition-all ${Je?"bg-purple-500":"bg-gray-400"}`,style:{width:`${Ye}%`}})})]}),!P&&Et.length>0&&o.jsxs("div",{className:"ml-4",children:[o.jsxs("button",{onClick:()=>J(be),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-800 transition-colors",children:[o.jsx(Es,{className:"w-4 h-4"}),o.jsxs("span",{children:[Et.length," voter",Et.length>1?"s":""]}),I===be?o.jsx(Sp,{className:"w-4 h-4"}):o.jsx(bf,{className:"w-4 h-4"})]}),I===be&&o.jsx("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:Et.map((kn,en)=>o.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:kn},en))})})]}),P&&Se>0&&o.jsx("div",{className:"ml-4",children:o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx(za,{className:"w-4 h-4"}),o.jsxs("span",{children:[Se," anonymous vote",Se>1?"s":""]})]})})]},be)})}),x.length>0&&o.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:o.jsx("div",{className:"text-sm text-purple-700 text-center",children:t.meta.allowMultiple?o.jsxs(o.Fragment,{children:["You voted for: ",o.jsxs("strong",{children:[x.length," option",x.length>1?"s":""]})]}):o.jsxs(o.Fragment,{children:["You voted for: ",o.jsx("strong",{children:t.meta.options[x[0]]?.text})]})})})]})}function x8({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,canManageNotices:i,onDelete:c,onManagePermissions:u,onEdit:f,onToggleCompletion:h}){const[p,x]=G.useState(!1),[b,w]=G.useState(!1),[_,C]=G.useState(t.content),[M,z]=G.useState(t.meta.reminderDate),O=t.meta?.completedBy||[],D=e&&O.includes(e),F=async()=>{h&&(x(!0),await h(),x(!1))},q=i,Y=i,I=i,V=E=>E?(E.toDate?E.toDate():new Date(E)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",A=E=>E?new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",R=()=>t.meta.reminderDate?new Date(t.meta.reminderDate)<new Date:!1,k=()=>{C(t.content),z(t.meta.reminderDate),w(!0)},P=()=>{w(!1),C(t.content),z(t.meta.reminderDate)},U=async()=>{if(!_.trim()){alert("Please enter content for the reminder");return}if(!M){alert("Please set a reminder date");return}await f(t.id,{content:_.trim(),meta:{...t.meta,reminderDate:M}})&&w(!1)};return b?o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Reminder"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:U,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[o.jsx(Gr,{className:"w-4 h-4"}),"Save"]}),o.jsxs("button",{onClick:P,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[o.jsx(Ut,{className:"w-4 h-4"}),"Cancel"]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Content (Markdown supported)"}),o.jsx("textarea",{value:_,onChange:E=>C(E.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 font-mono text-sm",placeholder:"Enter reminder content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Date & Time"}),o.jsx("input",{type:"datetime-local",value:M,onChange:E=>z(E.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}):o.jsxs("div",{className:`bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 ${D?"opacity-60":""}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center shrink-0 ${R()?"bg-red-100":"bg-orange-100"}`,children:o.jsx(Pc,{className:`w-5 h-5 ${R()?"text-red-600":"text-orange-600"}`})}),o.jsxs("div",{className:"min-w-0",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("h3",{className:`font-bold ${D?"text-gray-400":"text-gray-900"}`,children:"Reminder"}),R()&&!D&&o.jsx("span",{className:"text-[10px] sm:text-xs bg-red-100 text-red-700 px-2 py-0.5 sm:py-1 rounded-full whitespace-nowrap",children:"Past Due"}),D&&o.jsx("span",{className:"text-[10px] sm:text-xs bg-green-100 text-green-700 px-2 py-0.5 sm:py-1 rounded-full whitespace-nowrap",children:" Completed"})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-gray-600 mt-0.5",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Hr,{className:"w-3 h-3"}),o.jsxs("span",{className:"truncate max-w-[120px] sm:max-w-none",children:["By ",t.createdBy]})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 w-full sm:w-auto pt-2 sm:pt-0 border-t sm:border-t-0 border-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-full",children:[o.jsx(xs,{className:"w-3 h-3"}),o.jsx("span",{children:V(t.createdAt)})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("button",{onClick:F,disabled:p,className:`flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-lg transition-all ${D?"bg-green-100 text-green-700 hover:bg-green-200 border border-green-200":"bg-gray-50 text-gray-600 hover:bg-green-50 hover:text-green-700 border border-gray-200"}`,title:D?"Mark as not done":"Mark as completed",children:[D?o.jsx(Zl,{className:"w-3.5 h-3.5"}):o.jsx(jp,{className:"w-3.5 h-3.5"}),o.jsx("span",{className:"hidden sm:inline",children:D?"Done":"Mark Done"})]}),Y&&o.jsx("button",{onClick:k,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Reminder",children:o.jsx($i,{className:"w-4 h-4"})}),I&&o.jsx("button",{onClick:u,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:o.jsx(Ua,{className:"w-4 h-4"})}),q&&o.jsx("button",{onClick:()=>c(t.id),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Reminder",children:o.jsx(Qr,{className:"w-4 h-4"})})]})]})]}),o.jsx("div",{className:`mb-4 prose prose-sm max-w-none transition-all ${D?"opacity-60":""}`,children:o.jsx(po,{remarkPlugins:[go],components:{a:({href:E,children:K})=>o.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:K}),p:({children:E})=>o.jsx("p",{className:"text-gray-700 leading-relaxed",children:E}),strong:({children:E})=>o.jsx("strong",{className:"font-bold text-gray-900",children:E}),em:({children:E})=>o.jsx("em",{className:"italic",children:E}),ul:({children:E})=>o.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:E}),ol:({children:E})=>o.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:E}),code:({children:E,className:K})=>K?o.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:E}):o.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:E})},children:t.content})}),o.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${D?"bg-green-50 border-green-200 saturate-0 opacity-70":R()?"bg-red-50 border-red-200 shadow-sm":"bg-orange-50 border-orange-200"}`,children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[D?o.jsx(Zl,{className:"w-4 h-4 text-green-600"}):o.jsx(Pc,{className:`w-4 h-4 ${R()?"text-red-600":"text-orange-600"}`}),o.jsx("span",{className:`text-sm font-medium ${D?"text-green-700":R()?"text-red-700":"text-orange-700"}`,children:D?"Completed":R()?"Was due:":"Reminder set for:"})]}),o.jsx("span",{className:`text-sm font-bold sm:ml-auto ${D?"text-green-800":R()?"text-red-800":"text-orange-800"}`,children:A(t.meta.reminderDate)})]})})]})}function y8({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:i,canManageNotices:c,onDelete:u,onManagePermissions:f,onToggle:h,onEdit:p}){const[x,b]=G.useState(!1),[w,_]=G.useState(t.content),[C,M]=G.useState(t.meta.dueDate),z=c,O=c,D=c,F=E=>E?(E.toDate?E.toDate():new Date(E)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",q=E=>E?new Date(E).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",Y=E=>{const K=n.find(ne=>ne.rollNo===E);return K?K.name:E},I=t.meta.completedBy&&t.meta.completedBy.includes(e),V=t.meta.completedBy?.length||0,A=t.meta.completedBy?.map(E=>Y(E))||[],R=()=>t.meta.dueDate?new Date(t.meta.dueDate)<new Date:!1,k=()=>{_(t.content),M(t.meta.dueDate),b(!0)},P=()=>{b(!1),_(t.content),M(t.meta.dueDate)},U=async()=>{if(!w.trim()){alert("Please enter content for the todo");return}if(!C){alert("Please set a due date");return}await p(t.id,{content:w.trim(),meta:{...t.meta,dueDate:C}})&&b(!1)};return x?o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Todo"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:U,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[o.jsx(Gr,{className:"w-4 h-4"}),"Save"]}),o.jsxs("button",{onClick:P,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[o.jsx(Ut,{className:"w-4 h-4"}),"Cancel"]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Todo Content (Markdown supported)"}),o.jsx("textarea",{value:w,onChange:E=>_(E.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Enter todo content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date & Time"}),o.jsx("input",{type:"datetime-local",value:C,onChange:E=>M(E.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}):o.jsxs("div",{className:`bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 ${I?"opacity-60 saturate-50":""}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center shrink-0 ${I?"bg-green-100":R()?"bg-red-100":"bg-indigo-100"}`,children:o.jsx(Dr,{className:`w-5 h-5 ${I?"text-green-600":R()?"text-red-600":"text-indigo-600"}`})}),o.jsxs("div",{className:"min-w-0",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("h3",{className:`font-bold ${I?"text-gray-400":"text-gray-900"}`,children:"Todo"}),I&&o.jsx("span",{className:"text-[10px] sm:text-xs bg-green-100 text-green-700 px-2 py-0.5 sm:py-1 rounded-full whitespace-nowrap",children:"Completed"}),!I&&R()&&o.jsx("span",{className:"text-[10px] sm:text-xs bg-red-100 text-red-700 px-2 py-0.5 sm:py-1 rounded-full whitespace-nowrap",children:"Past Due"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-gray-600 mt-0.5",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Hr,{className:"w-3 h-3"}),o.jsxs("span",{className:"truncate max-w-[100px] sm:max-w-none",children:["By ",t.createdBy]})]}),o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsxs("span",{className:"text-gray-400",children:[V," completed"]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 w-full sm:w-auto pt-2 sm:pt-0 border-t sm:border-t-0 border-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-full",children:[o.jsx(xs,{className:"w-3 h-3"}),o.jsx("span",{children:F(t.createdAt)})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[O&&o.jsx("button",{onClick:k,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Todo",children:o.jsx($i,{className:"w-4 h-4"})}),D&&o.jsx("button",{onClick:f,className:"p-1.5 sm:p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:o.jsx(Ua,{className:"w-4 h-4"})}),z&&o.jsx("button",{onClick:()=>u(t.id),className:"p-1.5 sm:p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Todo",children:o.jsx(Qr,{className:"w-4 h-4"})})]})]})]}),o.jsx("div",{className:`mb-4 prose prose-sm max-w-none transition-all ${I?"opacity-60":""}`,children:o.jsx(po,{remarkPlugins:[go],components:{a:({href:E,children:K})=>o.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:K}),h1:({children:E})=>o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:E}),h2:({children:E})=>o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:E}),h3:({children:E})=>o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:E}),p:({children:E})=>o.jsx("p",{className:"text-gray-700 leading-relaxed",children:E}),strong:({children:E})=>o.jsx("strong",{className:"font-bold text-gray-900",children:E}),em:({children:E})=>o.jsx("em",{className:"italic",children:E}),ul:({children:E})=>o.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:E}),ol:({children:E})=>o.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:E}),code:({children:E,className:K})=>K?o.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:E}):o.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:E})},children:t.content})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:h,className:`
            w-full flex items-center justify-center gap-3 p-3 rounded-xl border-2 transition-all
            ${I?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 hover:border-indigo-300 text-gray-700"}
          `,children:[o.jsx("div",{className:`
            w-6 h-6 rounded-lg border-2 flex items-center justify-center
            ${I?"bg-green-500 border-green-500 text-white":"border-gray-300"}
          `,children:I&&o.jsx(ao,{className:"w-4 h-4"})}),o.jsx("span",{className:"font-medium",children:I?"Mark as Incomplete":"Mark as Complete"})]}),o.jsx("div",{className:`p-4 rounded-xl border-2 ${R()&&!I?"bg-red-50 border-red-200 shadow-sm":I?"bg-green-50 border-green-200":"bg-indigo-50 border-indigo-200"}`,children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dr,{className:`w-4 h-4 ${R()&&!I?"text-red-600":I?"text-green-600":"text-indigo-600"}`}),o.jsx("span",{className:`text-sm font-medium ${R()&&!I?"text-red-700":I?"text-green-700":"text-indigo-700"}`,children:R()&&!I?"Was due:":"Target Date:"})]}),o.jsx("span",{className:`text-sm font-bold ${R()&&!I?"text-red-800":I?"text-green-800":"text-indigo-800"} sm:ml-auto`,children:q(t.meta.dueDate)})]})}),A.length>0&&o.jsxs("div",{className:"p-3 bg-green-50 rounded-xl border border-green-200",children:[o.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"Completed by:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:A.map((E,K)=>o.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:E},K))})]})]})]})}function b8({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,onDelete:i,onRequestEdit:c,onToggleCompletion:u}){const[f,h]=G.useState(!1),p=t.meta.assessments||[{subject:t.meta.subject,assessmentName:t.meta.assessmentName,assessmentType:t.meta.assessmentType,date:t.meta.date}],x=t.meta?.completedBy||[],b=e&&x.includes(e),w=async()=>{u&&(h(!0),await u(),h(!1))},_=M=>{const z=M?.toLowerCase()||"";return z.includes("ca")?"bg-orange-100 text-orange-700 border-orange-200":z.includes("sem")?"bg-red-100 text-red-700 border-red-200":z.includes("quiz")?"bg-blue-100 text-blue-700 border-blue-200":z.includes("assign")?"bg-green-100 text-green-700 border-green-200":"bg-purple-100 text-purple-700 border-purple-200"},C=p.length>0?_(p[0].assessmentType):"bg-purple-100 text-purple-700 border-purple-200";return o.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 ${b?"opacity-60":""}`,children:[o.jsxs("div",{className:`px-4 py-2 border-b flex justify-between items-center ${C.replace(/-100/,"-50").replace(/-700/,"-900")}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full uppercase border ${C}`,children:"Assessment"}),o.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Posted by ",t.createdBy]}),b&&o.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full bg-green-100 text-green-700 border border-green-200",children:" Completed"})]}),o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsxs("button",{onClick:w,disabled:f,className:`flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-lg transition-all ${b?"bg-green-100 text-green-700 hover:bg-green-200 border border-green-200":"bg-white/70 text-gray-600 hover:bg-green-50 hover:text-green-700 border border-gray-200"}`,title:b?"Mark as not done":"Mark as completed",children:[b?o.jsx(Zl,{className:"w-3.5 h-3.5"}):o.jsx(jp,{className:"w-3.5 h-3.5"}),o.jsx("span",{className:"hidden sm:inline",children:b?"Done":"Mark Done"})]}),(n||s&&t.createdByRoll===e)&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>c(t),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(j2,{className:"w-3.5 h-3.5"})}),o.jsx("button",{onClick:()=>i(t.id),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(Qr,{className:"w-3.5 h-3.5"})})]})]})]}),o.jsxs("div",{className:`p-0 transition-all duration-300 ${b?"saturate-0":""}`,children:[p.map((M,z)=>{const O=new Date(M.date),D=O.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),F=O.toLocaleDateString("en-US",{weekday:"long"}),q=O.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),Y=_(M.assessmentType);return o.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 divide-y md:divide-y-0 md:divide-x border-b border-gray-100 ${z>0?"border-t":""}`,children:[o.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center bg-gray-50/50",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[o.jsx(Kl,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Subject"})]}),o.jsx("div",{className:`font-bold text-lg leading-tight ${b?"text-gray-400":"text-gray-900"}`,children:M.subject})]}),o.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[o.jsx(iE,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Assessment"})]}),o.jsx("div",{className:`font-bold leading-tight ${b?"text-gray-400":"text-gray-900"}`,children:M.assessmentName}),o.jsx("div",{className:`mt-1 inline-flex text-xs font-bold px-2 py-0.5 rounded-md w-fit ${Y}`,children:M.assessmentType})]}),o.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center bg-gray-50/50",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[o.jsx(Dr,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Date"})]}),o.jsx("div",{className:`font-bold text-lg ${b?"text-gray-400":"text-gray-900"}`,children:D}),o.jsx("div",{className:`text-sm font-medium ${b?"text-gray-400":"text-blue-600"}`,children:F})]}),o.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[o.jsx(xs,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Time"})]}),o.jsx("div",{className:`font-bold text-lg ${b?"text-gray-400":"text-gray-900"}`,children:q})]})]},z)}),t.content&&o.jsx("div",{className:"p-4 bg-yellow-50/30",children:o.jsxs("p",{className:`text-sm whitespace-pre-wrap ${b?"text-gray-400":"text-gray-700"}`,children:[o.jsx("span",{className:"font-semibold text-gray-900 no-underline",style:{textDecoration:"none"},children:"Note: "}),t.content]})})]})]})}function v8({onSubmit:t,onCancel:e,isLoading:n,students:s,initialData:i=null,semester:c=5}){const[u,f]=G.useState(i?.type||"notice"),[h,p]=G.useState(i?.content||""),[x,b]=G.useState(i?.meta||{}),[w,_]=G.useState(i?i.isPublic:!0),[C,M]=G.useState(i?.allowedUsers||[]),[z,O]=G.useState(()=>{if(i?.deleteAt)return(i.deleteAt.toDate?i.deleteAt.toDate():new Date(i.deleteAt)).toISOString().slice(0,16);const T=new Date;return T.setFullYear(T.getFullYear()+1),T.toISOString().slice(0,16)}),[D,F]=G.useState(i?!!i.deleteAt:!0),q=!!i,Y=[{id:"notice",label:"Simple Notice",icon:Js,description:"Basic announcement or information"},{id:"checklist",label:"Checklist",icon:Cp,description:"List of items to be checked off"},{id:"poll",label:"Poll",icon:Ep,description:"Survey with voting options"},{id:"reminder",label:"Reminder",icon:Pc,description:"Time-based reminder notification"},{id:"todo",label:"Todo",icon:Dr,description:"Task with due date and completion tracking"},{id:"assessment",label:"Assessment",icon:Ns,description:"Exam or assignment schedule"}],I=s.filter(T=>T.rollNo!==Me.rollNo),V=T=>{if(!(q&&T!==i.type&&!window.confirm("Changing notice type will reset specific fields. Continue?"))){if(f(T),q&&T===i.type){b(i.meta);return}switch(b({}),T){case"checklist":b({items:[{text:""}],isAnonymous:!1});break;case"poll":b({options:[{text:""},{text:""}],allowMultiple:!1,isAnonymous:!1});break;case"reminder":b({reminderDate:""});break;case"todo":b({dueDate:"",completedBy:[],practicalSubject:"",labNumber:[]});break;case"assessment":b({assessments:[{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]});break;default:b({})}}};u==="assessment"&&!x.assessments&&(x.subject||x.assessmentName)?b({...x,assessments:[{subject:x.subject||"",assessmentName:x.assessmentName||"",assessmentType:x.assessmentType||"CA-1",date:x.date||""}]}):u==="assessment"&&!x.assessments&&b({...x,assessments:[{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]});const A=T=>{C.includes(T)?M(C.filter(H=>H!==T)):M([...C,T])},R=()=>{C.length===I.length?M([]):M(I.map(T=>T.rollNo))},k=T=>{if(T.preventDefault(),u!=="assessment"&&!h.trim()){alert("Please enter content for the notice");return}if(!w&&C.length===0){alert("Please select users or make the notice public");return}if(u==="checklist"&&(!x.items||x.items.length===0||x.items.every(H=>!H.text.trim()))){alert("Please add at least one checklist item");return}if(u==="poll"&&(!x.options||x.options.length<2||x.options.some(H=>!H.text.trim()))){alert("Please add at least 2 poll options with text");return}if(u==="reminder"&&!x.reminderDate){alert("Please set a reminder date");return}if(u==="todo"&&!x.dueDate){alert("Please set a due date for the todo");return}if(u==="assessment"){const H=x.assessments?.filter(oe=>oe.subject&&oe.date);if(!H||H.length===0){alert("Please add at least one complete assessment (Subject, Date)");return}x.assessments=H}t({id:i?.id,type:u,content:h.trim(),meta:x,allowedUsers:w?[]:C,isPublic:w,deleteAt:D?new Date(z):null})},P=()=>{b({...x,items:[...x.items||[],{text:""}]})},U=(T,H)=>{const oe=[...x.items];oe[T]={...oe[T],text:H},b({...x,items:oe})},E=T=>{const H=x.items.filter((oe,se)=>se!==T);b({...x,items:H})},K=()=>{b({...x,options:[...x.options||[],{text:"",votes:[]}]})},ne=(T,H)=>{const oe=[...x.options];oe[T]={...oe[T],text:H},b({...x,options:oe})},X=T=>{if(x.options.length<=2){alert("Poll must have at least 2 options");return}const H=x.options.filter((oe,se)=>se!==T);b({...x,options:H})},de=()=>{b({...x,allowMultiple:!x.allowMultiple})},J=()=>{b({...x,isAnonymous:!x.isAnonymous})},ve=()=>{b({...x,isAnonymous:!x.isAnonymous})},j=()=>{b({...x,assessments:[...x.assessments||[],{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]})},ee=(T,H,oe)=>{const se=[...x.assessments||[]];se[T]={...se[T],[H]:oe},b({...x,assessments:se})},pe=T=>{const H=(x.assessments||[]).filter((oe,se)=>se!==T);b({...x,assessments:H})};return o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 border border-gray-100 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:q?"Edit Notice":"Create New Notice"}),o.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ut,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:k,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Notice Type"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Y.map(T=>o.jsxs("button",{type:"button",onClick:()=>V(T.id),className:`
                  p-4 rounded-xl border-2 transition-all text-left
                  ${u===T.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}
                `,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(T.icon,{className:`w-5 h-5 ${u===T.id?"text-blue-600":"text-gray-600"}`}),o.jsx("span",{className:"font-medium text-gray-900",children:T.label})]}),o.jsx("p",{className:"text-xs text-gray-600",children:T.description})]},T.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:u==="poll"?"Poll Question":"Content"}),o.jsx("textarea",{value:h,onChange:T=>p(T.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:u==="poll"?"What question would you like to ask?":u==="reminder"?"What should people be reminded about?":u==="todo"?"What task needs to be completed?":u==="assessment"?"Any additional notes (syllabus, venue, etc.)?":"Enter your notice content...",required:u!=="assessment"})]}),u==="checklist"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Checklist Items"}),o.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous completion:"}),o.jsxs("button",{type:"button",onClick:ve,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${x.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[x.isAnonymous?o.jsx(za,{className:"w-4 h-4"}):o.jsx(zi,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:x.isAnonymous?"Anonymous":"Show names"})]})]}),o.jsxs("div",{className:"space-y-2",children:[x.items?.map((T,H)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:T.text,onChange:oe=>U(H,oe.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Item ${H+1}`}),x.items.length>1&&o.jsx("button",{type:"button",onClick:()=>E(H),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:o.jsx(Qr,{className:"w-4 h-4"})})]},H)),o.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[o.jsx(qr,{className:"w-4 h-4"}),"Add Item"]})]})]}),u==="poll"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Poll Options"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Multiple selections:"}),o.jsxs("button",{type:"button",onClick:de,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${x.allowMultiple?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[x.allowMultiple?o.jsx(I0,{className:"w-4 h-4"}):o.jsx(R0,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:x.allowMultiple?"Multi-select":"Single choice"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous voting:"}),o.jsxs("button",{type:"button",onClick:J,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${x.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[x.isAnonymous?o.jsx(za,{className:"w-4 h-4"}):o.jsx(zi,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:x.isAnonymous?"Anonymous":"Show names"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[x.options?.map((T,H)=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:T.text,onChange:oe=>ne(H,oe.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Option ${H+1}`}),x.options.length>2&&o.jsx("button",{type:"button",onClick:()=>X(H),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:o.jsx(Qr,{className:"w-4 h-4"})})]},H)),o.jsxs("button",{type:"button",onClick:K,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[o.jsx(qr,{className:"w-4 h-4"}),"Add Option"]})]})]}),u==="reminder"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reminder Date & Time"}),o.jsx("input",{type:"datetime-local",value:x.reminderDate,onChange:T=>b({...x,reminderDate:T.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u==="todo"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Due Date & Time"}),o.jsx("input",{type:"datetime-local",value:x.dueDate,onChange:T=>b({...x,dueDate:T.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[o.jsx("label",{className:"block text-sm font-semibold text-green-800 mb-3",children:" Link to Practical Lab (Optional)"}),o.jsx("p",{className:"text-xs text-green-600 mb-3",children:"If this TODO is for a practical lab, select the subject and lab number. When students mark this as complete, the lab will auto-mark in their Practical tab."}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Practical Subject"}),o.jsxs("select",{value:x.practicalSubject||"",onChange:T=>b({...x,practicalSubject:T.target.value,labNumber:[]}),className:"w-full p-2 border border-gray-200 rounded-lg text-sm bg-white",children:[o.jsx("option",{value:"",children:"-- Select Subject --"}),Mi[c]?.practical?.map(T=>o.jsx("option",{value:T,children:T},T))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Lab Number"}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:Array.from({length:10},(T,H)=>H+1).map(T=>{const H=Array.isArray(x.labNumber)?x.labNumber.includes(T.toString())||x.labNumber.includes(T):x.labNumber==T;return o.jsx("button",{type:"button",onClick:()=>{const oe=Array.isArray(x.labNumber)?[...x.labNumber]:x.labNumber?[x.labNumber]:[],se=T.toString();let be;oe.some(Se=>Se.toString()===se)?be=oe.filter(Se=>Se.toString()!==se):be=[...oe,T],b({...x,labNumber:be})},disabled:!x.practicalSubject,className:`
                            p-2 rounded-lg text-xs font-medium border transition-all
                            ${x.practicalSubject?H?"bg-green-100 border-green-500 text-green-700":"bg-white border-gray-200 text-gray-600 hover:bg-green-50 hover:border-green-300":"opacity-50 cursor-not-allowed bg-gray-100 text-gray-400 border-gray-200"}
                          `,children:T},T)})})]})]})]})]}),u==="assessment"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assessments"}),x.assessments?.map((T,H)=>o.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200 relative",children:[x.assessments.length>1&&o.jsx("button",{type:"button",onClick:()=>pe(H),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ut,{className:"w-4 h-4"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx("div",{children:o.jsx("input",{type:"text",value:T.subject,onChange:oe=>ee(H,"subject",oe.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm",placeholder:"Subject (e.g. Mathematics)"})}),o.jsx("div",{children:o.jsx("input",{type:"text",value:T.assessmentName,onChange:oe=>ee(H,"assessmentName",oe.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm",placeholder:"Exam Name (e.g. Unit Test)"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsxs("select",{value:T.assessmentType,onChange:oe=>ee(H,"assessmentType",oe.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm bg-white",children:[o.jsx("option",{value:"CA-1",children:"CA-1"}),o.jsx("option",{value:"CA-2",children:"CA-2"}),o.jsx("option",{value:"CA-3",children:"CA-3"}),o.jsx("option",{value:"CA-4",children:"CA-4"}),o.jsx("option",{value:"Mid-Sem",children:"Mid-Sem"}),o.jsx("option",{value:"End-Sem",children:"End-Sem"})]})}),o.jsx("div",{children:o.jsx("input",{type:"datetime-local",value:T.date,onChange:oe=>ee(H,"date",oe.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm"})})]})]},H)),o.jsxs("button",{type:"button",onClick:j,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-xl text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-all flex items-center justify-center gap-2",children:[o.jsx(qr,{className:"w-4 h-4"}),"Add Assessment Row"]})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Who can see this notice?"}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"visibility",checked:w,onChange:()=>_(!0),className:"w-4 h-4 text-blue-600"}),o.jsx(kp,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Public (Everyone can see)"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"visibility",checked:!w,onChange:()=>_(!1),className:"w-4 h-4 text-blue-600"}),o.jsx(Zt,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Private (Selected users only)"})]})]})}),!w&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select Students:"}),o.jsx("button",{type:"button",onClick:R,className:"text-sm text-blue-600 hover:text-blue-700",children:C.length===I.length?"Deselect All":"Select All"})]}),o.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:I.map(T=>o.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:C.includes(T.rollNo),onChange:()=>A(T.rollNo),className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Es,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:T.name}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",T.rollNo,")"]})]})]},T.rollNo))}),C.length>0&&o.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[C.length," student",C.length>1?"s":""," selected"]})]})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[o.jsx(xs,{className:"w-4 h-4 text-orange-500"}),"Auto-delete Notice"]}),o.jsxs("button",{type:"button",onClick:()=>F(!D),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${D?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[D?o.jsx(I0,{className:"w-4 h-4"}):o.jsx(R0,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium",children:D?"Enabled":"Disabled"})]})]}),D&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"This notice will be automatically deleted at the specified time. Default is set to 1 year from now."}),o.jsx("input",{type:"datetime-local",value:z,onChange:T=>O(T.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"submit",disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:q?"Save Changes":"Create Notice"})]}):o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"w-4 h-4"}),o.jsx("span",{children:q?"Save Changes":"Create Notice"})]})}),o.jsx("button",{type:"button",onClick:e,disabled:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function w8({notice:t,students:e,onUpdate:n,onCancel:s}){const[i,c]=G.useState(t.isPublic||!1),[u,f]=G.useState(t.allowedUsers||[]),[h,p]=G.useState(!1),x=e.filter(C=>C.rollNo!==Me.rollNo);G.useEffect(()=>{c(t.isPublic||!1),f(t.allowedUsers||[])},[t]);const b=C=>{u.includes(C)?f(u.filter(M=>M!==C)):f([...u,C])},w=()=>{u.length===x.length?f([]):f(x.map(C=>C.rollNo))},_=async C=>{if(C.preventDefault(),!i&&u.length===0){alert("Please select users or make the notice public");return}p(!0);try{await n(i?[]:u,i)}finally{p(!1)}};return o.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Permissions"}),o.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ut,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["Notice: ",t.type]}),o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.content})]}),o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Visibility Settings"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"visibility",checked:i,onChange:()=>c(!0),className:"w-4 h-4 text-blue-600"}),o.jsx(kp,{className:"w-4 h-4 text-green-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Public"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Everyone can see this notice"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"visibility",checked:!i,onChange:()=>c(!1),className:"w-4 h-4 text-blue-600"}),o.jsx(Zt,{className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Private"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Only selected users can see"})]})]})]})]}),!i&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Select Students:"}),o.jsx("button",{type:"button",onClick:w,className:"text-sm text-blue-600 hover:text-blue-700",children:u.length===x.length?"Deselect All":"Select All"})]}),o.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:x.map(C=>o.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:u.includes(C.rollNo),onChange:()=>b(C.rollNo),className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Es,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.name}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",C.rollNo,")"]})]})]},C.rollNo))}),u.length>0&&o.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[u.length," student",u.length>1?"s":""," selected"]})]}),o.jsx("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Current:"})," ",t.isPublic?"Public":`Private (${t.allowedUsers?.length||0} users)`]})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",disabled:h,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 font-medium",children:h?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Gr,{className:"w-4 h-4"}),o.jsx("span",{children:"Update"})]})}),o.jsx("button",{type:"button",onClick:s,disabled:h,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function _8({notices:t,onSave:e,onCancel:n,isLoading:s}){const[i,c]=G.useState([]);G.useEffect(()=>{c([...t])},[t]);const u=(h,p)=>{const x=[...i],b=h+p;b>=0&&b<x.length&&([x[h],x[b]]=[x[b],x[h]],c(x))},f=()=>{const h=i.map(p=>p.id);e(h)};return o.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl flex flex-col max-h-[85vh]",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reorder Notices"}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Adjust the display order of notices"})]}),o.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Ut,{className:"w-6 h-6 text-gray-400"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:i.map((h,p)=>o.jsxs("div",{className:`
              flex items-center gap-4 p-4 rounded-xl border border-gray-200 bg-white
              hover:border-blue-300 hover:shadow-sm transition-all
              ${p===0?"bg-blue-50/50 border-blue-200":""}
            `,children:[o.jsx("div",{className:`p-2 rounded-lg ${p===0?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:o.jsx("span",{className:"font-mono font-bold w-4 text-center block",children:p+1})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full uppercase ${h.type==="notice"?"bg-blue-100 text-blue-700":h.type==="checklist"?"bg-purple-100 text-purple-700":h.type==="poll"?"bg-orange-100 text-orange-700":h.type==="todo"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:h.type}),o.jsx("span",{className:"text-xs text-gray-500",children:new Date(h.createdAt?.toDate?.()||h.createdAt).toLocaleDateString()})]}),o.jsx("p",{className:"text-gray-900 font-medium truncate",children:h.content})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("button",{onClick:()=>u(p,-1),disabled:p===0,className:"p-1.5 hover:bg-gray-100 rounded-lg text-gray-500 disabled:opacity-30 disabled:hover:bg-transparent",title:"Move Up",children:o.jsx(A5,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>u(p,1),disabled:p===i.length-1,className:"p-1.5 hover:bg-gray-100 rounded-lg text-gray-500 disabled:opacity-30 disabled:hover:bg-transparent",title:"Move Down",children:o.jsx(E5,{className:"w-4 h-4"})})]})]},h.id))}),o.jsxs("div",{className:"p-6 border-t border-gray-100 flex justify-end gap-3 bg-gray-50 rounded-b-2xl",children:[o.jsx("button",{onClick:n,className:"px-5 py-2.5 text-gray-700 font-medium hover:bg-white hover:shadow-sm rounded-xl transition-all",children:"Cancel"}),o.jsx("button",{onClick:f,disabled:s,className:"px-5 py-2.5 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:s?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Gr,{className:"w-4 h-4"}),"Save Order"]})})]})]})}function N8({pinnedNotices:t,onNoticeClick:e}){const[n,s]=G.useState(()=>typeof window<"u"?window.innerWidth<640:!1);return!t||t.length===0?null:o.jsx("div",{className:`fixed right-2 sm:right-4 top-[160px] sm:top-24 z-20 transition-all duration-300 ease-in-out ${n?"w-10 sm:w-12":"w-64"}`,children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-orange-100 overflow-hidden",children:[o.jsxs("div",{className:"bg-orange-50 p-3 flex items-center justify-between cursor-pointer border-b border-orange-100",onClick:()=>s(!n),children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx(k0,{className:"w-4 h-4 text-orange-600 flex-shrink-0"}),!n&&o.jsx("span",{className:"font-bold text-orange-800 text-sm whitespace-nowrap",children:"Pinned Board"})]}),o.jsx("button",{className:"text-orange-400 hover:text-orange-600",children:n?o.jsx(N2,{className:"w-4 h-4"}):o.jsx(Tp,{className:"w-4 h-4"})})]}),!n&&o.jsx("div",{className:"max-h-[60vh] overflow-y-auto p-2 space-y-2 custom-scrollbar",children:t.map(i=>o.jsx("div",{onClick:()=>e(i.id),className:"group p-2 rounded-lg hover:bg-orange-50 cursor-pointer transition-colors border border-transparent hover:border-orange-100",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400 mt-1.5 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-800 line-clamp-2 group-hover:text-orange-800",children:i.content.substring(0,100).split(`
`)[0]||"Untitled Notice"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(i.createdAt?.toDate?.()||i.createdAt).toLocaleDateString()})]})]})},i.id))})]})})}function AN({open:t,title:e,message:n,confirmText:s="Confirm",cancelText:i="Cancel",confirmColor:c="red",onConfirm:u,onCancel:f,icon:h="warning"}){if(!t)return null;const p=()=>{switch(h){case"warning":return o.jsx(Ac,{className:"w-12 h-12 text-orange-500"});case"success":return o.jsx(vf,{className:"w-12 h-12 text-green-500"});case"danger":return o.jsx(Ac,{className:"w-12 h-12 text-red-500"});default:return o.jsx(Ac,{className:"w-12 h-12 text-orange-500"})}},x=()=>{switch(c){case"red":return"bg-red-600 hover:bg-red-700 text-white";case"green":return"bg-green-600 hover:bg-green-700 text-white";case"blue":return"bg-blue-600 hover:bg-blue-700 text-white";case"orange":return"bg-orange-600 hover:bg-orange-700 text-white";default:return"bg-red-600 hover:bg-red-700 text-white"}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out scale-100",children:[o.jsxs("div",{className:"relative p-6 pb-4",children:[o.jsx("button",{onClick:f,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Ut,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"p-3 rounded-full bg-gray-50",children:p()})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:e}),o.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:n})]}),o.jsx("div",{className:"px-6 pb-6",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:f,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:i}),o.jsx("button",{onClick:u,className:`flex-1 px-4 py-3 rounded-xl transition-colors font-medium ${x()}`,children:s})]})})]})})}function kN(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kN(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Li(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kN(t))&&(s&&(s+=" "),s+=e);return s}function E8(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}E8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var fu=t=>typeof t=="number"&&!isNaN(t),qi=t=>typeof t=="string",ra=t=>typeof t=="function",T8=t=>qi(t)||fu(t),bp=t=>qi(t)||ra(t)?t:null,S8=(t,e)=>t===!1||fu(t)&&t>0?t:e,vp=t=>G.isValidElement(t)||qi(t)||ra(t)||fu(t);function j8(t,e,n=300){let{scrollHeight:s,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function A8({enter:t,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:i=300}){return function({children:c,position:u,preventExitTransition:f,done:h,nodeRef:p,isIn:x,playToast:b}){let w=n?`${t}--${u}`:t,_=n?`${e}--${u}`:e,C=G.useRef(0);return G.useLayoutEffect(()=>{let M=p.current,z=w.split(" "),O=D=>{D.target===p.current&&(b(),M.removeEventListener("animationend",O),M.removeEventListener("animationcancel",O),C.current===0&&D.type!=="animationcancel"&&M.classList.remove(...z))};M.classList.add(...z),M.addEventListener("animationend",O),M.addEventListener("animationcancel",O)},[]),G.useEffect(()=>{let M=p.current,z=()=>{M.removeEventListener("animationend",z),s?j8(M,h,i):h()};x||(f?z():(C.current=1,M.className+=` ${_}`,M.addEventListener("animationend",z)))},[x]),wt.createElement(wt.Fragment,null,c)}}function y2(t,e){return{content:CN(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function CN(t,e,n=!1){return G.isValidElement(t)&&!qi(t.type)?G.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):ra(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function k8({closeToast:t,theme:e,ariaLabel:n="close"}){return wt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),t(!0)},"aria-label":n},wt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},wt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function C8({delay:t,isRunning:e,closeToast:n,type:s="default",hide:i,className:c,controlledProgress:u,progress:f,rtl:h,isIn:p,theme:x}){let b=i||u&&f===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};u&&(w.transform=`scaleX(${f})`);let _=Li("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":h}),C=ra(c)?c({rtl:h,type:s,defaultClassName:_}):Li(_,c),M={[u&&f>=1?"onTransitionEnd":"onAnimationEnd"]:u&&f<1?null:()=>{p&&n()}};return wt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},wt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${s}`}),wt.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:C,style:w,...M}))}var D8=1,DN=()=>`${D8++}`;function R8(t,e,n){let s=1,i=0,c=[],u=[],f=e,h=new Map,p=new Set,x=D=>(p.add(D),()=>p.delete(D)),b=()=>{u=Array.from(h.values()),p.forEach(D=>D())},w=({containerId:D,toastId:F,updateId:q})=>{let Y=D?D!==t:t!==1,I=h.has(F)&&q==null;return Y||I},_=(D,F)=>{h.forEach(q=>{var Y;(F==null||F===q.props.toastId)&&((Y=q.toggle)==null||Y.call(q,D))})},C=D=>{var F,q;(q=(F=D.props)==null?void 0:F.onClose)==null||q.call(F,D.removalReason),D.isActive=!1},M=D=>{if(D==null)h.forEach(C);else{let F=h.get(D);F&&C(F)}b()},z=()=>{i-=c.length,c=[]},O=D=>{var F,q;let{toastId:Y,updateId:I}=D.props,V=I==null;D.staleId&&h.delete(D.staleId),D.isActive=!0,h.set(Y,D),b(),n(y2(D,V?"added":"updated")),V&&((q=(F=D.props).onOpen)==null||q.call(F))};return{id:t,props:f,observe:x,toggle:_,removeToast:M,toasts:h,clearQueue:z,buildToast:(D,F)=>{if(w(F))return;let{toastId:q,updateId:Y,data:I,staleId:V,delay:A}=F,R=Y==null;R&&i++;let k={...f,style:f.toastStyle,key:s++,...Object.fromEntries(Object.entries(F).filter(([U,E])=>E!=null)),toastId:q,updateId:Y,data:I,isIn:!1,className:bp(F.className||f.toastClassName),progressClassName:bp(F.progressClassName||f.progressClassName),autoClose:F.isLoading?!1:S8(F.autoClose,f.autoClose),closeToast(U){h.get(q).removalReason=U,M(q)},deleteToast(){let U=h.get(q);if(U!=null){if(n(y2(U,"removed")),h.delete(q),i--,i<0&&(i=0),c.length>0){O(c.shift());return}b()}}};k.closeButton=f.closeButton,F.closeButton===!1||vp(F.closeButton)?k.closeButton=F.closeButton:F.closeButton===!0&&(k.closeButton=vp(f.closeButton)?f.closeButton:!0);let P={content:D,props:k,staleId:V};f.limit&&f.limit>0&&i>f.limit&&R?c.push(P):fu(A)?setTimeout(()=>{O(P)},A):O(P)},setProps(D){f=D},setToggle:(D,F)=>{let q=h.get(D);q&&(q.toggle=F)},isToastActive:D=>{var F;return(F=h.get(D))==null?void 0:F.isActive},getSnapshot:()=>u}}var qn=new Map,Jc=[],wp=new Set,I8=t=>wp.forEach(e=>e(t)),RN=()=>qn.size>0;function M8(){Jc.forEach(t=>MN(t.content,t.options)),Jc=[]}var O8=(t,{containerId:e})=>{var n;return(n=qn.get(e||1))==null?void 0:n.toasts.get(t)};function IN(t,e){var n;if(e)return!!((n=qn.get(e))!=null&&n.isToastActive(t));let s=!1;return qn.forEach(i=>{i.isToastActive(t)&&(s=!0)}),s}function V8(t){if(!RN()){Jc=Jc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||T8(t))qn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=qn.get(t.containerId);e?e.removeToast(t.id):qn.forEach(n=>{n.removeToast(t.id)})}}var P8=(t={})=>{qn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function MN(t,e){vp(t)&&(RN()||Jc.push({content:t,options:e}),qn.forEach(n=>{n.buildToast(t,e)}))}function L8(t){var e;(e=qn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function ON(t,e){qn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function z8(t){let e=t.containerId||1;return{subscribe(n){let s=R8(e,t,I8);qn.set(e,s);let i=s.observe(n);return M8(),()=>{i(),qn.delete(e)}},setProps(n){var s;(s=qn.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=qn.get(e))==null?void 0:n.getSnapshot()}}}function U8(t){return wp.add(t),()=>{wp.delete(t)}}function B8(t){return t&&(qi(t.toastId)||fu(t.toastId))?t.toastId:DN()}function hu(t,e){return MN(t,e),e.toastId}function Gf(t,e){return{...e,type:e&&e.type||t,toastId:B8(e)}}function Qf(t){return(e,n)=>hu(e,Gf(t,n))}function _e(t,e){return hu(t,Gf("default",e))}_e.loading=(t,e)=>hu(t,Gf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function F8(t,{pending:e,error:n,success:s},i){let c;e&&(c=qi(e)?_e.loading(e,i):_e.loading(e.render,{...i,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(p,x,b)=>{if(x==null){_e.dismiss(c);return}let w={type:p,...u,...i,data:b},_=qi(x)?{render:x}:x;return c?_e.update(c,{...w,..._}):_e(_.render,{...w,..._}),b},h=ra(t)?t():t;return h.then(p=>f("success",s,p)).catch(p=>f("error",n,p)),h}_e.promise=F8;_e.success=Qf("success");_e.info=Qf("info");_e.error=Qf("error");_e.warning=Qf("warning");_e.warn=_e.warning;_e.dark=(t,e)=>hu(t,Gf("default",{theme:"dark",...e}));function q8(t){V8(t)}_e.dismiss=q8;_e.clearWaitingQueue=P8;_e.isActive=IN;_e.update=(t,e={})=>{let n=O8(t,e);if(n){let{props:s,content:i}=n,c={delay:100,...s,...e,toastId:e.toastId||t,updateId:DN()};c.toastId!==t&&(c.staleId=t);let u=c.render||i;delete c.render,hu(u,c)}};_e.done=t=>{_e.update(t,{progress:1})};_e.onChange=U8;_e.play=t=>ON(!0,t);_e.pause=t=>ON(!1,t);function $8(t){var e;let{subscribe:n,getSnapshot:s,setProps:i}=G.useRef(z8(t)).current;i(t);let c=(e=G.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function u(f){if(!c)return[];let h=new Map;return t.newestOnTop&&c.reverse(),c.forEach(p=>{let{position:x}=p.props;h.has(x)||h.set(x,[]),h.get(x).push(p)}),Array.from(h,p=>f(p[0],p[1]))}return{getToastToRender:u,isToastActive:IN,count:c?.length}}function H8(t){let[e,n]=G.useState(!1),[s,i]=G.useState(!1),c=G.useRef(null),u=G.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:p,onClick:x,closeOnClick:b}=t;L8({id:t.toastId,containerId:t.containerId,fn:n}),G.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{_()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||O(),window.addEventListener("focus",z),window.addEventListener("blur",O)}function _(){window.removeEventListener("focus",z),window.removeEventListener("blur",O)}function C(V){if(t.draggable===!0||t.draggable===V.pointerType){D();let A=c.current;u.canCloseOnClick=!0,u.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(u.start=V.clientX,u.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(u.start=V.clientY,u.removalDistance=A.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function M(V){let{top:A,bottom:R,left:k,right:P}=c.current.getBoundingClientRect();V.nativeEvent.type!=="touchend"&&t.pauseOnHover&&V.clientX>=k&&V.clientX<=P&&V.clientY>=A&&V.clientY<=R?O():z()}function z(){n(!0)}function O(){n(!1)}function D(){u.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",Y)}function F(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",Y)}function q(V){let A=c.current;if(u.canDrag&&A){u.didMove=!0,e&&O(),t.draggableDirection==="x"?u.delta=V.clientX-u.start:u.delta=V.clientY-u.start,u.start!==V.clientX&&(u.canCloseOnClick=!1);let R=t.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;A.style.transform=`translate3d(${R},0)`,A.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function Y(){F();let V=c.current;if(u.canDrag&&u.didMove&&V){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}V.style.transition="transform 0.2s, opacity 0.2s",V.style.removeProperty("transform"),V.style.removeProperty("opacity")}}let I={onPointerDown:C,onPointerUp:M};return f&&h&&(I.onMouseEnter=O,t.stacked||(I.onMouseLeave=z)),b&&(I.onClick=V=>{x&&x(V),u.canCloseOnClick&&p(!0)}),{playToast:z,pauseToast:O,isRunning:e,preventExitTransition:s,toastRef:c,eventHandlers:I}}var Y8=typeof window<"u"?G.useLayoutEffect:G.useEffect,Xf=({theme:t,type:e,isLoading:n,...s})=>wt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function G8(t){return wt.createElement(Xf,{...t},wt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Q8(t){return wt.createElement(Xf,{...t},wt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function X8(t){return wt.createElement(Xf,{...t},wt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function K8(t){return wt.createElement(Xf,{...t},wt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Z8(){return wt.createElement("div",{className:"Toastify__spinner"})}var _p={info:Q8,warning:G8,success:X8,error:K8,spinner:Z8},J8=t=>t in _p;function W8({theme:t,type:e,isLoading:n,icon:s}){let i=null,c={theme:t,type:e};return s===!1||(ra(s)?i=s({...c,isLoading:n}):G.isValidElement(s)?i=G.cloneElement(s,c):n?i=_p.spinner():J8(e)&&(i=_p[e](c))),i}var eI=t=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:i,playToast:c}=H8(t),{closeButton:u,children:f,autoClose:h,onClick:p,type:x,hideProgressBar:b,closeToast:w,transition:_,position:C,className:M,style:z,progressClassName:O,updateId:D,role:F,progress:q,rtl:Y,toastId:I,deleteToast:V,isIn:A,isLoading:R,closeOnClick:k,theme:P,ariaLabel:U}=t,E=Li("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":k}),K=ra(M)?M({rtl:Y,position:C,type:x,defaultClassName:E}):Li(E,M),ne=W8(t),X=!!q||!h,de={closeToast:w,type:x,theme:P},J=null;return u===!1||(ra(u)?J=u(de):G.isValidElement(u)?J=G.cloneElement(u,de):J=k8(de)),wt.createElement(_,{isIn:A,done:V,position:C,preventExitTransition:n,nodeRef:s,playToast:c},wt.createElement("div",{id:I,tabIndex:0,onClick:p,"data-in":A,className:K,...i,style:z,ref:s,...A&&{role:F,"aria-label":U}},ne!=null&&wt.createElement("div",{className:Li("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ne),CN(f,t,!e),J,!t.customProgressBar&&wt.createElement(C8,{...D&&!X?{key:`p-${D}`}:{},rtl:Y,theme:P,delay:h,isRunning:e,isIn:A,closeToast:w,hide:b,type:x,className:O,controlledProgress:X,progress:q||0})))},tI=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),nI=A8(tI("bounce",!0)),rI={position:"top-right",transition:nI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function sI(t){let e={...rI,...t},n=t.stacked,[s,i]=G.useState(!0),c=G.useRef(null),{getToastToRender:u,isToastActive:f,count:h}=$8(e),{className:p,style:x,rtl:b,containerId:w,hotKeys:_}=e;function C(z){let O=Li("Toastify__toast-container",`Toastify__toast-container--${z}`,{"Toastify__toast-container--rtl":b});return ra(p)?p({position:z,rtl:b,defaultClassName:O}):Li(O,bp(p))}function M(){n&&(i(!0),_e.play())}return Y8(()=>{var z;if(n){let O=c.current.querySelectorAll('[data-in="true"]'),D=12,F=(z=e.position)==null?void 0:z.includes("top"),q=0,Y=0;Array.from(O).reverse().forEach((I,V)=>{let A=I;A.classList.add("Toastify__toast--stacked"),V>0&&(A.dataset.collapsed=`${s}`),A.dataset.pos||(A.dataset.pos=F?"top":"bot");let R=q*(s?.2:1)+(s?0:D*V);A.style.setProperty("--y",`${F?R:R*-1}px`),A.style.setProperty("--g",`${D}`),A.style.setProperty("--s",`${1-(s?Y:0)}`),q+=A.offsetHeight,Y+=.025})}},[s,h,n]),G.useEffect(()=>{function z(O){var D;let F=c.current;_(O)&&((D=F.querySelector('[tabIndex="0"]'))==null||D.focus(),i(!1),_e.pause()),O.key==="Escape"&&(document.activeElement===F||F!=null&&F.contains(document.activeElement))&&(i(!0),_e.play())}return document.addEventListener("keydown",z),()=>{document.removeEventListener("keydown",z)}},[_]),wt.createElement("section",{ref:c,className:"Toastify",id:w,onMouseEnter:()=>{n&&(i(!1),_e.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((z,O)=>{let D=O.length?{...x}:{...x,pointerEvents:"none"};return wt.createElement("div",{tabIndex:-1,className:C(z),"data-stacked":n,style:D,key:`c-${z}`},O.map(({content:F,props:q})=>wt.createElement(eI,{...q,stacked:n,collapseAll:M,isIn:f(q.toastId,q.containerId),key:`t-${q.key}`},F)))}))}function aI({selectedStudent:t,semester:e}){const{students:n}=N_(),{notices:s,isLoading:i,isSaving:c,isAdmin:u,isCoLeader:f,canManageNotices:h,createNotice:p,deleteNotice:x,editNotice:b,updateNoticePermissions:w,updateNoticesOrder:_,voteInPoll:C,toggleChecklistItem:M,toggleTodo:z,toggleCompletion:O,togglePin:D}=Bf(t,e),[F,q]=G.useState(!1),[Y,I]=G.useState(!1),[V,A]=G.useState(!1),[R,k]=G.useState(null),[P,U]=G.useState("all"),[E,K]=G.useState(""),[ne,X]=G.useState(!1),[de,J]=G.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),ve=s.filter(Ne=>{const ot=P==="all"||Ne.type===P,ct=!E||Ne.content.toLowerCase().includes(E.toLowerCase())||Ne.createdBy.toLowerCase().includes(E.toLowerCase());return ot&&ct}),j=[{id:"all",label:"All",icon:Js,count:s.length},{id:"notice",label:"Notices",icon:Js,count:s.filter(Ne=>Ne.type==="notice").length},{id:"checklist",label:"Checklists",icon:Cp,count:s.filter(Ne=>Ne.type==="checklist").length},{id:"poll",label:"Polls",icon:Ep,count:s.filter(Ne=>Ne.type==="poll").length},{id:"reminder",label:"Reminders",icon:Pc,count:s.filter(Ne=>Ne.type==="reminder").length},{id:"todo",label:"Todos",icon:Dr,count:s.filter(Ne=>Ne.type==="todo").length},{id:"assessment",label:"Assessments",icon:Js,count:s.filter(Ne=>Ne.type==="assessment").length}],ee=Ne=>{J(Ne),X(!0)},pe=()=>{de.onConfirm(),X(!1)},T=()=>{X(!1)},H=async Ne=>{if(!h){_e.error(" Only admin and co-leaders can create notices");return}await p(Ne.type,Ne.content,Ne.meta,Ne.allowedUsers||[],Ne.isPublic||!1,Ne.deleteAt)?(q(!1),_e.success(" Notice created successfully!")):_e.error(" Failed to create notice. Please try again.")},[oe,se]=G.useState(null),be=async(Ne,ot)=>{if(!h)return _e.error(" Only admin and co-leaders can edit notices"),!1;const{id:ct,...pr}=ot,dn=await b(Ne,pr);return dn?(_e.success(" Notice updated successfully!"),se(null)):_e.error(" Failed to update notice. Please try again."),dn},Se=async Ne=>{if(!h){_e.error(" Only admin and co-leaders can delete notices");return}ee({title:"Delete Notice",message:"Are you sure you want to delete this notice? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{await x(Ne)?_e.success(" Notice deleted successfully!"):_e.error(" Failed to delete notice. Please try again.")}})},Ye=Ne=>{k(Ne),I(!0)},Je=async(Ne,ot)=>{if(R)try{await w(R.id,Ne,ot)?(I(!1),k(null),_e.success(" Permissions updated successfully!")):_e.error(" Failed to update permissions")}catch(ct){_e.error(" Error updating permissions: "+ct.message)}},Et=async Ne=>{await _(Ne)?(A(!1),_e.success(" Notices reordered successfully!")):_e.error(" Failed to reorder notices")},kn=Ne=>{const ot=document.getElementById(`notice-${Ne}`);ot&&(ot.scrollIntoView({behavior:"smooth",block:"center"}),ot.classList.add("ring-2","ring-orange-400","ring-offset-2"),setTimeout(()=>{ot.classList.remove("ring-2","ring-orange-400","ring-offset-2")},2e3))},en=s.filter(Ne=>Ne.isPinned),tr=Ne=>{const ot={notice:Ne,currentUser:t?.rollNo,students:n,isAdmin:u,isCoLeader:f,canManageNotices:h,onDelete:Se,onEdit:be,onManagePermissions:()=>Ye(Ne),onTogglePin:()=>D(Ne.id,Ne.isPinned)};switch(Ne.type){case"checklist":return o.jsx(p8,{...ot,onToggleItem:ct=>M(Ne.id,ct,t?.rollNo)},Ne.id);case"poll":return o.jsx(g8,{...ot,onVote:(ct,pr)=>C(Ne.id,ct,pr)},Ne.id);case"reminder":return o.jsx(x8,{...ot,onToggleCompletion:()=>O(Ne.id,t?.rollNo)},Ne.id);case"todo":return o.jsx(y8,{...ot,onToggle:()=>z(Ne.id,t?.rollNo)},Ne.id);case"assessment":return o.jsx(b8,{...ot,onRequestEdit:ct=>se(ct),onToggleCompletion:()=>O(Ne.id,t?.rollNo)},Ne.id);default:return o.jsx(m8,{...ot},Ne.id)}};return t?i?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(yn,{className:"w-6 h-6 animate-spin text-blue-600"}),o.jsx("span",{className:"text-lg text-gray-600",children:"Loading notice board..."})]})}):o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsx(AN,{open:ne,title:de.title,message:de.message,confirmText:de.confirmText,cancelText:de.cancelText,confirmColor:de.confirmColor,icon:de.icon,onConfirm:pe,onCancel:T}),o.jsxs("div",{className:"flex items-center justify-between sticky top-[136px] sm:top-[128px] z-10 bg-gray-50/95 backdrop-blur supports-[backdrop-filter]:bg-gray-50/60 py-2 sm:py-4 transition-all -mx-4 px-4 rounded-b-2xl mb-4 border-b border-gray-100 sm:border-none",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsxs("h2",{className:"text-xl sm:text-3xl font-bold text-gray-900 mb-0.5 sm:mb-2 flex items-center gap-2 sm:gap-3",children:[o.jsx(Ii,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600 shrink-0"}),o.jsx("span",{className:"truncate",children:"Global Notice Board"}),u&&o.jsx(ys,{className:"w-4 h-4 sm:w-6 sm:h-6 text-yellow-600 shrink-0",title:"Admin View"}),f&&o.jsx(Tn,{className:"w-4 h-4 sm:w-6 sm:h-6 text-purple-600 shrink-0",title:"Co-Leader View"})]}),o.jsx("p",{className:"text-xs sm:text-base text-gray-600 truncate",children:h?`${u?"Admin":"Co-Leader"}: Manage notices`:"Updates and announcements"})]}),h&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>A(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all",title:"Reorder Notices",children:o.jsx(S5,{className:"w-5 h-5"})}),o.jsxs("button",{onClick:()=>q(!0),disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50",children:[o.jsx(qr,{className:"w-4 h-4"}),"Create Notice"]})]})]}),h&&o.jsx("div",{className:`rounded-2xl p-4 border ${u?"bg-yellow-50 border-yellow-200":"bg-purple-50 border-purple-200"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[u?o.jsx(ys,{className:"w-5 h-5 text-yellow-600 mt-0.5"}):o.jsx(Tn,{className:"w-5 h-5 text-purple-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:`font-medium mb-1 ${u?"text-yellow-900":"text-purple-900"}`,children:u?"Admin Privileges":"Co-Leader Privileges"}),o.jsxs("ul",{className:`text-sm space-y-1 ${u?"text-yellow-700":"text-purple-700"}`,children:[o.jsx("li",{children:" Create, edit and manage notices with user visibility"}),o.jsx("li",{children:" View who voted for each poll option and completed checklist items"}),o.jsx("li",{children:" Create multi-select or single-choice polls"}),o.jsx("li",{children:" Edit existing notices, polls, and checklists"}),u&&o.jsx("li",{children:" Assign co-leader roles to other students"})]})]})]})}),!h&&o.jsx("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-200",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ii,{className:"w-5 h-5 text-blue-600"}),o.jsx("div",{children:o.jsx("p",{className:"text-sm text-blue-700",children:"You can view and interact with notices shared with you. Click on voter counts in polls or completion counts in checklists to see who participated."})})]})}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100",children:[o.jsx("div",{className:"flex overflow-x-auto gap-2 mb-4 pb-2 scrollbar-hide -mx-1 px-1",children:j.map(Ne=>o.jsxs("button",{onClick:()=>U(Ne.id),className:`
                flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 rounded-xl transition-all whitespace-nowrap text-xs sm:text-sm
                ${P===Ne.id?"bg-blue-600 text-white shadow-md shadow-blue-100 scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
              `,children:[o.jsx(Ne.icon,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),o.jsx("span",{children:Ne.label}),o.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] sm:text-xs ${P===Ne.id?"bg-white/20":"bg-gray-200"}`,children:Ne.count})]},Ne.id))}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx(wf,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Search notices...",value:E,onChange:Ne=>K(Ne.target.value),className:"w-full pl-10 pr-10 py-2 sm:py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"}),E&&o.jsx("button",{onClick:()=>K(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx(Ut,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]})]}),(F||oe)&&h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:o.jsx("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:o.jsx(v8,{onSubmit:oe?Ne=>be(oe.id,Ne):H,onCancel:()=>{q(!1),se(null)},isLoading:c,students:n,initialData:oe,semester:e})})}),V&&h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:o.jsx(_8,{notices:s,onSave:Et,onCancel:()=>A(!1),isLoading:c})}),Y&&R&&h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:o.jsx(w8,{notice:R,students:n,onUpdate:Je,onCancel:()=>I(!1)})}),o.jsx(N8,{pinnedNotices:en,onNoticeClick:kn}),o.jsx("div",{className:"space-y-4",children:ve.length>0?ve.map(Ne=>o.jsx("div",{id:`notice-${Ne.id}`,className:"scroll-mt-32 transition-all duration-300 rounded-2xl",children:tr(Ne)},Ne.id)):o.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border border-gray-100",children:[o.jsx(Ii,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No notices found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:E||P!=="all"?"Try adjusting your filters or search terms":h?"Create the first notice to get started!":"No notices have been shared with you yet."}),h&&o.jsxs("button",{onClick:()=>q(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:[o.jsx(qr,{className:"w-4 h-4"}),"Create First Notice"]})]})})]}):o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ii,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),o.jsx("p",{className:"text-gray-600",children:"Please select a student to view the notice board"})]})})}function iI(t){const[e,n]=G.useState(""),[s,i]=G.useState(!0),[c,u]=G.useState(!1),[f,h]=G.useState(null),[p,x]=G.useState(null),b=G.useCallback(async()=>{if(!t){n(""),i(!1);return}try{i(!0),x(null);const C=Ot(dt,"userNotes",t),M=await wA(C);M.exists()?(n(M.data().content||""),h(M.data().updatedAt?M.data().updatedAt.toDate():null)):(n(""),h(null))}catch(C){console.error("Error loading notes:",C),x(C.message)}finally{i(!1)}},[t]);return G.useEffect(()=>{b()},[b]),G.useEffect(()=>{if(!t||s)return;const C=setTimeout(async()=>{try{u(!0);const M=Ot(dt,"userNotes",t);await fr(M,{content:e,updatedAt:Ql(),userId:t}),h(new Date),x(null)}catch(M){console.error("Error saving notes:",M),x("Failed to save notes: "+M.message)}finally{u(!1)}},1e3);return()=>clearTimeout(C)},[e,t,s]),{notes:e,updateNotes:C=>{n(C)},clearNotes:async()=>{if(t)try{u(!0);const C=Ot(dt,"userNotes",t);await fr(C,{content:"",updatedAt:Ql(),userId:t}),n(""),h(new Date)}catch(C){console.error("Error clearing notes:",C),x("Failed to clear notes: "+C.message)}finally{u(!1)}},refreshNotes:b,isLoading:s,isSaving:c,lastSaved:f,error:p}}function lI({selectedStudent:t}){const{notes:e,updateNotes:n,clearNotes:s,isLoading:i,isSaving:c,lastSaved:u,error:f,refreshNotes:h}=iI(t?.rollNo),[p,x]=G.useState("split"),[b,w]=G.useState(!1),[_,C]=G.useState(!1),M=G.useRef(!1),z=G.useRef(null),O=G.useRef(0);G.useEffect(()=>{!M.current&&!i&&(e&&e.trim().length>0&&x("preview"),M.current=!0)},[e,i]),G.useEffect(()=>{M.current=!1},[t]),G.useEffect(()=>{z.current&&(z.current.style.height="auto",z.current.style.height=z.current.scrollHeight+"px")},[e,p]);const D=async()=>{window.confirm(" Are you sure you want to clear all your notes? This action cannot be undone.")&&(await s(),alert(" Notes cleared successfully!"))},F=(I,V="",A="")=>{const R=document.getElementById("notes-textarea");if(!R)return;O.current=window.scrollY;const k=R.selectionStart,P=R.selectionEnd,U=e.substring(k,P),E=I+(U||A)+V,K=e.substring(0,k)+E+e.substring(P);n(K),requestAnimationFrame(()=>{R.focus({preventScroll:!0});const ne=k+I.length+(U||A).length;R.setSelectionRange(ne,ne),window.scrollTo(0,O.current)})},q=[{icon:R5,title:"Bold",action:()=>F("**","**","bold text")},{icon:yE,title:"Italic",action:()=>F("*","*","italic text")},{icon:hE,title:"Heading",action:()=>F("# ","","Heading")},{icon:jE,title:"List",action:()=>F("- ","","List item")},{icon:HE,title:"Quote",action:()=>F("> ","","Quote")},{icon:W5,title:"Inline Code",action:()=>F("`","`","code")},{icon:Js,title:"Code Block",action:()=>F("\n```\n","\n```\n","code block")},{icon:_E,title:"Link",action:()=>F("[","](url)","link text")},{icon:RE,title:"Horizontal Line",action:()=>F(`
---
`,"","")},{icon:VE,title:"Spacer (Empty Line)",action:()=>F(`

>>>

`,"","")}],Y=I=>{if(!I)return"Never saved";const A=new Date-I;return A<6e4?"Saved just now":A<36e5?`Saved ${Math.floor(A/6e4)} minutes ago`:A<864e5?`Saved ${Math.floor(A/36e5)} hours ago`:`Saved on ${I.toLocaleDateString()} at ${I.toLocaleTimeString()}`};return t?i?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(yn,{className:"w-6 h-6 animate-spin text-blue-600"}),o.jsx("span",{className:"text-lg text-gray-600",children:"Loading your notes..."})]})}):o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2 flex items-center gap-2 sm:gap-3",children:[o.jsx(D0,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600"}),"Personal Notes"]}),o.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Private notes for ",o.jsx("strong",{children:t.name})," (",t.rollNo,")"]})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto overflow-x-auto pb-1 sm:pb-0 scrollbar-hide",children:[o.jsxs("button",{onClick:()=>C(!_),className:`flex items-center gap-2 px-3 sm:px-4 py-2 rounded-xl transition-all text-xs sm:text-sm whitespace-nowrap ${_?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(c1,{className:"w-4 h-4"}),"Tips"]}),o.jsx("button",{onClick:()=>w(!b),className:`px-3 sm:px-4 py-2 rounded-xl transition-all text-xs sm:text-sm whitespace-nowrap ${b?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Markdown Help"}),o.jsxs("button",{onClick:D,disabled:c||!e.trim(),className:"flex items-center gap-2 px-3 sm:px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-xs sm:text-sm whitespace-nowrap",children:[o.jsx(Qr,{className:"w-4 h-4"}),"Clear All"]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg py-2 px-3 sm:p-4 border border-gray-100 sticky top-[138px] sm:top-[128px] z-20 transition-all",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[o.jsx("button",{onClick:h,className:"p-1.5 -ml-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Refresh notes",children:o.jsx(GE,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),o.jsx("div",{className:"flex items-center gap-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"w-4 h-4 animate-spin text-blue-600"}),o.jsx("span",{className:"text-sm text-blue-600",children:"Saving..."})]}):f?o.jsxs(o.Fragment,{children:[o.jsx($5,{className:"w-4 h-4 text-red-600"}),o.jsx("span",{className:"text-sm text-red-600",children:"Error saving"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Gr,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm text-gray-600",children:Y(u)})]})}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[o.jsx(Js,{className:"w-4 h-4"}),o.jsxs("span",{children:[e.length," characters"]})]})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-xl p-1",children:[o.jsxs("button",{onClick:()=>x("edit"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="edit"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[o.jsx($i,{className:"w-4 h-4"}),"Edit"]}),o.jsxs("button",{onClick:()=>x("split"),className:`hidden sm:flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="split"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[o.jsxs("div",{className:"w-4 h-4 border border-current rounded-sm flex",children:[o.jsx("div",{className:"w-1/2 border-r border-current"}),o.jsx("div",{className:"w-1/2"})]}),"Split"]}),o.jsxs("button",{onClick:()=>x("preview"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="preview"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[o.jsx(zi,{className:"w-4 h-4"}),"Preview"]})]})]}),f&&o.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:f})]}),_&&o.jsx("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-200 animate-in fade-in slide-in-from-top-2",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(c1,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:" Tips for better note-taking:"}),o.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[o.jsx("li",{children:" Your notes are private and only visible to you"}),o.jsx("li",{children:" Use headings (#) to organize your content"}),o.jsx("li",{children:" Add links to external resources for quick access"}),o.jsx("li",{children:" Use --- for a page break/divider"}),o.jsx("li",{children:" Use >>> for a large empty line/gap"}),o.jsx("li",{children:" Notes are automatically saved as you type"}),o.jsx("li",{children:" Use the split view to see formatting in real-time"})]})]})]})}),b&&o.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[o.jsx("h3",{className:"font-bold text-blue-900 mb-4",children:"Markdown Quick Reference"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mb-2",children:o.jsx("code",{children:"# Heading 1"})}),o.jsx("div",{className:"mb-2",children:o.jsx("code",{children:"## Heading 2"})}),o.jsx("div",{className:"mb-2",children:o.jsx("code",{children:"**bold text**"})}),o.jsx("div",{className:"mb-2",children:o.jsx("code",{children:"*italic text*"})}),o.jsx("div",{className:"mb-2",children:o.jsx("code",{children:"`inline code`"})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mb-2",children:o.jsx("code",{children:"[Link](https://example.com)"})}),o.jsx("div",{className:"mb-2",children:o.jsx("code",{children:"- List item"})}),o.jsx("div",{className:"mb-2",children:o.jsx("code",{children:"> Quote"})}),o.jsxs("div",{className:"mb-2",children:[o.jsx("code",{children:"---"})," (horizontal rule)"]}),o.jsx("div",{className:"mb-2",children:o.jsx("code",{children:"``````"})})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[(p==="edit"||p==="split")&&o.jsx("div",{className:"sticky top-[250px] sm:top-[200px] z-10 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b border-gray-200 p-2 sm:p-3 rounded-t-2xl transition-all",children:o.jsx("div",{className:"flex items-center gap-1 overflow-x-auto scrollbar-hide pb-0.5",children:q.map((I,V)=>o.jsx("button",{type:"button",onClick:A=>{A.preventDefault(),I.action()},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:I.title,children:o.jsx(I.icon,{className:"w-4 h-4"})},V))})}),o.jsxs("div",{className:"flex flex-col sm:flex-row min-h-[500px] items-stretch",children:[(p==="edit"||p==="split")&&o.jsx("div",{className:`${p==="split"?"w-full sm:w-1/2 border-b sm:border-b-0 sm:border-r border-gray-200":"w-full"} bg-white`,children:o.jsx("textarea",{ref:z,id:"notes-textarea",value:e,onChange:I=>{O.current=window.scrollY,n(I.target.value),I.target.style.height="auto",I.target.style.height=I.target.scrollHeight+"px",requestAnimationFrame(()=>{window.scrollTo(0,O.current)})},className:"w-full h-full p-4 sm:p-6 border-none outline-none resize-none font-mono text-sm overflow-hidden min-h-[500px]",placeholder:`Write your personal notes here, ${t.name}...

You can use Markdown syntax:
# Headings
**Bold** and *italic* text
[Links](https://example.com)
- Lists
> Quotes
\`code\`

Your notes are automatically saved as you type.`})}),(p==="preview"||p==="split")&&o.jsx("div",{className:`${p==="split"?"w-full sm:w-1/2":"w-full"} bg-gray-50/50`,children:o.jsx("div",{className:"p-4 sm:p-6 prose prose-sm max-w-none",children:e.trim()?o.jsx(po,{remarkPlugins:[go],components:{a:({href:I,children:V})=>o.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:V}),h1:({children:I})=>o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:I}),h2:({children:I})=>o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:I}),h3:({children:I})=>o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:I}),hr:()=>o.jsx("hr",{className:"my-8 border-t-2 border-gray-200"}),ul:({children:I})=>o.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-2 space-y-1",children:I}),ol:({children:I})=>o.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-2 space-y-1",children:I}),li:({children:I})=>o.jsx("li",{className:"text-gray-700",children:I}),blockquote:({children:I})=>o.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 py-1 text-gray-600 italic my-2",children:I}),p:({children:I})=>o.jsx("div",{className:"mb-4 text-gray-700",children:I}),code:({node:I,inline:V,className:A,children:R,...k})=>{const[P,U]=G.useState(!1),E=/language-(\w+)/.exec(A||"");if(V)return o.jsx("code",{className:A,...k,children:R});const K=()=>{navigator.clipboard.writeText(String(R).replace(/\n$/,"")),U(!0),setTimeout(()=>U(!1),2e3)};return o.jsxs("div",{className:"relative group my-4",children:[o.jsx("div",{className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("button",{onClick:K,className:"p-1.5 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 hover:text-white transition-all shadow-lg",title:"Copy code",children:P?o.jsx(ao,{className:"w-4 h-4 text-green-400"}):o.jsx(tE,{className:"w-4 h-4"})})}),o.jsxs("pre",{className:"!mt-0 !mb-0 rounded-xl overflow-hidden bg-gray-900 !p-0",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20 border border-red-500/50"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20 border border-green-500/50"})]}),o.jsx("span",{className:"text-xs text-gray-400 font-mono",children:E?E[1]:"text"})]}),o.jsx("code",{className:`${A} block p-4 text-sm font-mono text-gray-300 overflow-x-auto`,...k,children:R})]})]})}},children:e.replace(/>>>/g,`

&nbsp;

`).replace(/\n/g,`  
`)}):o.jsxs("div",{className:"text-gray-500 italic",children:["Your notes will appear here as you type...",o.jsx("br",{}),o.jsx("br",{}),"Try writing some ",o.jsx("strong",{children:"Markdown"}),":",o.jsx("br",{}),"# This is a heading",o.jsx("br",{}),"**This is bold text**",o.jsx("br",{}),"[This is a link](https://example.com)"]})})})]})]})]}):o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx(D0,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),o.jsx("p",{className:"text-gray-600",children:"Please select a student to view their personal notes"})]})})}function b2({options:t,value:e,onChange:n,label:s,placeholder:i="Select an option"}){const[c,u]=G.useState(!1),f=G.useRef(null),h=t.find(p=>p.value===e);return G.useEffect(()=>{const p=x=>{f.current&&!f.current.contains(x.target)&&u(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),o.jsxs("div",{className:"relative",ref:f,children:[s&&o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s}),o.jsxs("button",{type:"button",onClick:()=>u(!c),className:`
                    w-full p-4 flex items-center justify-between
                    bg-white border-2 rounded-2xl transition-all duration-300
                    ${c?"border-blue-500 ring-4 ring-blue-500/20 shadow-xl":"border-gray-200 hover:border-blue-300 hover:shadow-md"}
                `,children:[o.jsxs("div",{className:"flex items-center gap-3 text-left",children:[h?.icon&&o.jsx("div",{className:`p-1.5 rounded-lg ${h.iconBg||"bg-gray-100"}`,children:o.jsx(h.icon,{className:`w-5 h-5 ${h.iconColor||"text-gray-600"}`})}),o.jsx("span",{className:`text-lg font-medium ${h?"text-gray-900":"text-gray-500"}`,children:h?h.label:i})]}),o.jsx(bf,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${c?"rotate-180 text-blue-500":""}`})]}),o.jsx("div",{className:`
                    absolute z-50 w-full mt-2 bg-white rounded-2xl border border-gray-100 shadow-2xl overflow-hidden origin-top transition-all duration-300 ease-out
                    ${c?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-4 pointer-events-none"}
                `,children:o.jsx("div",{className:"p-2 space-y-1 max-h-80 overflow-y-auto custom-scrollbar",children:t.map(p=>{const x=p.value===e;return o.jsxs("button",{onClick:()=>{n(p.value),u(!1)},className:`
                                    w-full p-3 flex items-center justify-between rounded-xl transition-all
                                    ${x?"bg-blue-50 text-blue-900":"hover:bg-gray-50 text-gray-700"}
                                `,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[p.icon&&o.jsx("div",{className:`p-1.5 rounded-lg ${p.iconBg||"bg-gray-100"}`,children:o.jsx(p.icon,{className:`w-4 h-4 ${p.iconColor||"text-gray-500"}`})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:`font-medium ${x?"text-blue-900":"text-gray-900"}`,children:p.label}),p.description&&o.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:p.description})]})]}),x&&o.jsx(ao,{className:"w-5 h-5 text-blue-600"})]},p.value)})})})]})}function oI({semester:t,setSemester:e,studentManagement:n}){const{students:s,selectedStudent:i,isAdmin:c,isLoading:u,createStudent:f,deleteStudent:h,selectStudent:p,authenticateStudent:x,updateStudentPassword:b,updateStudentRole:w,updateStudentName:_,updateStudentDSY:C,updateStudentYD:M}=n,z=i?.role==="co-leader"&&i?.rollNo!==Me.rollNo,O=i?.permissions||{},D=c||z&&O.canCreateUsers,F=c||z&&O.canAppointCoLeaders,[q,Y]=G.useState(!1),[I,V]=G.useState({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1,isYD:!1}),[A,R]=G.useState(!1),[k,P]=G.useState(!1),[U,E]=G.useState(!1),[K,ne]=G.useState(null),[X,de]=G.useState(null),[J,ve]=G.useState(""),[j,ee]=G.useState(!1),[pe,T]=G.useState(""),[H,oe]=G.useState(!1),[se,be]=G.useState(!1),[Se,Ye]=G.useState(""),[Je,Et]=G.useState(!1),[kn,en]=G.useState(""),[tr,Ne]=G.useState(!1),[ot,ct]=G.useState(""),[pr,dn]=G.useState(""),[Yn,nr]=G.useState(null),[Kr,Mr]=G.useState(!1),[As,Zr]=G.useState(!1),[le,ge]=G.useState(null),[ke,Re]=G.useState({password:"",confirmPassword:""}),[tt,tn]=G.useState(!1),[Dt,nn]=G.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),Cn=G.useMemo(()=>{if(!J.trim())return s;const ue=J.toLowerCase();return s.filter(Fe=>Fe.name.toLowerCase().includes(ue)||Fe.rollNo.toLowerCase().includes(ue))},[s,J]),rn=()=>{T(i.name),ee(!0)},Rt=()=>{ee(!1),T("")},bn=async()=>{if(!pe.trim()){_e.error("Name cannot be empty");return}try{oe(!0),await _(i.rollNo,pe),_e.success(" Name updated successfully!"),ee(!1)}catch(ue){_e.error(` Error updating name: ${ue.message}`)}finally{oe(!1)}},sn=ue=>{nn(ue),tn(!0)},Za=()=>{Dt.onConfirm(),tn(!1)},Ja=()=>{tn(!1)},Or=async ue=>{if(ue.rollNo===Me.rollNo&&i?.rollNo!==Me.rollNo){be(!0),en("");return}if(ue.isProtected&&ue.rollNo!==i?.rollNo){nr(ue),ct(""),dn(""),Ne(!0);return}p(ue)},Vr=async ue=>{if(ue.preventDefault(),!Se.trim()){en("Please enter admin password");return}Et(!0),en(""),setTimeout(async()=>{const Fe=s.find(xr=>xr.rollNo===Me.rollNo);await x(Fe,Se)?(p(Fe),be(!1),Ye("")):(en("Incorrect admin password. Please try again."),Ye("")),Et(!1)},800)},Wa=async ue=>{if(ue.preventDefault(),!ot.trim()){dn("Please enter password");return}Mr(!0),dn("");try{await x(Yn,ot)?(p(Yn),Ne(!1),nr(null),ct("")):(dn("Incorrect password. Please try again."),ct(""))}catch{dn("Authentication failed. Please try again.")}finally{Mr(!1)}},gr=()=>{Ne(!1),nr(null),ct(""),dn("")},ei=()=>{be(!1),Ye(""),en("")},Jr=async ue=>{if(ue.preventDefault(),!I.rollNo.trim()||!I.name.trim()){_e.error("Please fill in both roll number and name");return}if(A&&!I.password.trim()){_e.error("Please enter a password or uncheck password protection");return}try{E(!0);const Fe=Number(I.admissionYear),qe=new Date().getFullYear();if(!Number.isInteger(Fe)||Fe<2e3||Fe>qe){_e.error("Please enter a valid admission year"),E(!1);return}await f(I.rollNo.trim(),I.name.trim(),A?I.password.trim():"",I.role,Fe,I.isDSY,I.isYD),V({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1,isYD:!1}),R(!1),Y(!1),_e.success(" Student created successfully!")}catch(Fe){_e.error(` Error creating student: ${Fe.message}`)}finally{E(!1)}},aa=async(ue,Fe)=>{if(ue===Me.rollNo){_e.error("Cannot delete admin student");return}sn({title:"Delete Student",message:`Are you sure you want to delete "${Fe}" (${ue})?

This will permanently delete all their academic data and cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{try{ne(ue),await h(ue),_e.success(" Student deleted successfully!")}catch(qe){_e.error(` Error deleting student: ${qe.message}`)}finally{ne(null)}}})},Pr=async(ue,Fe)=>{if(ue.rollNo===Me.rollNo){_e.error("Cannot change admin role");return}const qe={student:"Student","co-leader":"Co-Leader"};sn({title:"Change Role",message:`Change ${ue.name}'s role to ${qe[Fe]}?

${Fe==="co-leader"?"Co-leaders can create and manage notices.":"Students have standard access only."}`,confirmText:"Change Role",cancelText:"Cancel",confirmColor:"blue",icon:"warning",onConfirm:async()=>{try{de(ue.rollNo),await w(ue.rollNo,Fe),_e.success(` ${ue.name}'s role updated to ${qe[Fe]}!`)}catch(xr){_e.error(` Error updating role: ${xr.message}`)}finally{de(null)}}})},ti=ue=>{ge(ue),Zr(!0),Re({password:"",confirmPassword:""})},Tt=async ue=>{if(ue.preventDefault(),ke.password!==ke.confirmPassword){_e.error("Passwords do not match");return}if(!ke.password.trim()){_e.error("Please enter a password");return}try{const Fe=le?.isProtected;await b(le.rollNo,ke.password),Zr(!1),ge(null),Fe?_e.success(" Password updated successfully!"):_e.success(" Password added successfully!")}catch(Fe){_e.error(` Error updating password: ${Fe.message}`)}},Bt=async ue=>{sn({title:"Remove Password Protection",message:`Remove password protection from ${ue.name}?

This will allow unrestricted access to their account.`,confirmText:"Remove",cancelText:"Cancel",confirmColor:"orange",icon:"warning",onConfirm:async()=>{try{await b(ue.rollNo,"",!0),_e.success(" Password protection removed!")}catch(Fe){_e.error(` Error removing password: ${Fe.message}`)}}})},It=async(ue,Fe)=>{Fe.stopPropagation();try{const qe=!ue.isDSY;await C(ue.rollNo,qe),_e.success(` ${ue.name} marked as ${qe?"DSY":"non-DSY"}`)}catch(qe){_e.error(` Error updating DSY: ${qe.message}`)}},Gn=async(ue,Fe)=>{Fe.stopPropagation();try{const qe=!ue.isYD;await M(ue.rollNo,qe),_e.success(` ${ue.name} marked as ${qe?"Year Drop":"no Year Drop"}`)}catch(qe){_e.error(` Error updating YD: ${qe.message}`)}},ni=()=>{ve("")},Wr=ue=>{switch(ue){case"admin":return{name:"Admin",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:Rr};case"co-leader":return{name:"Co-Leader",color:"text-purple-600",bgColor:"bg-purple-100",icon:Tn};default:return{name:"Student",color:"text-blue-600",bgColor:"bg-blue-100",icon:Hr}}};return u?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(yn,{className:"w-6 h-6 animate-spin text-blue-600"}),o.jsx("span",{className:"text-lg text-gray-600",children:"Loading students..."})]})}):o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsx(AN,{open:tt,title:Dt.title,message:Dt.message,confirmText:Dt.confirmText,cancelText:Dt.cancelText,confirmColor:Dt.confirmColor,icon:Dt.icon,onConfirm:Za,onCancel:Ja}),se&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx(Rr,{className:"w-8 h-8 text-white"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),o.jsxs("p",{className:"text-gray-600",children:["Enter admin password to switch to ",Me.name]})]}),o.jsxs("form",{onSubmit:Vr,className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx(Zt,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:"password",placeholder:"Admin password",value:Se,onChange:ue=>Ye(ue.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:Je,autoFocus:!0})]}),kn&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:kn}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",disabled:Je||!Se.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:Je?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Authenticating..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rr,{className:"w-4 h-4"}),o.jsx("span",{children:"Switch to Admin"})]})}),o.jsx("button",{type:"button",onClick:ei,disabled:Je,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),tr&&Yn&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx(Zt,{className:"w-8 h-8 text-white"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Student Authentication"}),o.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",Yn.name,"'s account"]})]}),o.jsxs("form",{onSubmit:Wa,className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx(Zt,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:"password",placeholder:"Enter password",value:ot,onChange:ue=>ct(ue.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:Kr,autoFocus:!0})]}),pr&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:pr}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",disabled:Kr||!ot.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:Kr?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Authenticating..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Zt,{className:"w-4 h-4"}),o.jsx("span",{children:"Access Account"})]})}),o.jsx("button",{type:"button",onClick:gr,disabled:Kr,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),As&&le&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx(Ia,{className:"w-8 h-8 text-white"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:le?.isProtected?"Change Password":"Add Password"}),o.jsxs("p",{className:"text-gray-600",children:["Set new password for ",le.name]})]}),o.jsxs("form",{onSubmit:Tt,className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx(Zt,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:"password",placeholder:"New password",value:ke.password,onChange:ue=>Re({...ke,password:ue.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,autoFocus:!0})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx(Zt,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:"password",placeholder:"Confirm password",value:ke.confirmPassword,onChange:ue=>Re({...ke,confirmPassword:ue.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all font-medium",children:[o.jsx(Ia,{className:"w-4 h-4"}),o.jsx("span",{children:le?.isProtected?"Update Password":"Set Password"})]}),o.jsx("button",{type:"button",onClick:()=>Zr(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),o.jsxs("div",{className:"text-center px-4",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Student & Semester Management"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Manage students, roles, and select current semester"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Hr,{className:"w-5 h-5"}),"Current Student",i?.rollNo===Me.rollNo&&o.jsx(Rr,{className:"w-4 h-4 text-yellow-500"})]}),i&&o.jsx("div",{className:`relative overflow-hidden rounded-2xl p-0.5 shadow-lg transition-all hover:shadow-xl ${i.rollNo===Me.rollNo?"bg-gradient-to-br from-amber-200 via-yellow-100 to-orange-100":i.role==="co-leader"?"bg-gradient-to-br from-purple-200 via-fuchsia-100 to-pink-100":"bg-gradient-to-br from-blue-200 via-sky-100 to-indigo-100"}`,children:o.jsx("div",{className:`relative rounded-[14px] p-4 backdrop-blur-sm ${i.rollNo===Me.rollNo||i.role==="co-leader"?"bg-white/60":"bg-white/80"}`,children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center gap-2",children:j?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:pe,onChange:ue=>T(ue.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-bold text-gray-900",autoFocus:!0,onKeyDown:ue=>{ue.key==="Enter"&&bn(),ue.key==="Escape"&&Rt()}}),o.jsx("button",{onClick:bn,disabled:H,className:"p-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all",title:"Save Name",children:H?o.jsx(yn,{className:"w-4 h-4 animate-spin"}):o.jsx(ao,{className:"w-4 h-4"})}),o.jsx("button",{onClick:Rt,disabled:H,className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",title:"Cancel",children:o.jsx(Ut,{className:"w-4 h-4"})})]}):o.jsxs("div",{className:"flex items-center gap-2 group",children:[o.jsx("p",{className:`font-bold ${i.rollNo===Me.rollNo?"text-yellow-900":i.role==="co-leader"?"text-purple-900":"text-blue-900"}`,children:i.name}),o.jsx("button",{onClick:rn,className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-blue-600 transition-all",title:"Edit Name",children:o.jsx($i,{className:"w-3 h-3"})})]})}),o.jsxs("p",{className:`text-sm ${i.rollNo===Me.rollNo?"text-yellow-700":i.role==="co-leader"?"text-purple-700":"text-blue-700"}`,children:["Roll No: ",i.rollNo]}),i.admissionYear&&o.jsx("div",{className:"mt-1",children:o.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full border ${i.rollNo===Me.rollNo?"text-yellow-700 bg-yellow-50 border-yellow-200":i.role==="co-leader"?"text-purple-700 bg-purple-50 border-purple-200":"text-blue-700 bg-blue-50 border-blue-200"}`,children:O0(i)})}),i.admissionYear&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-2 flex-wrap",children:["Admission: ",i.admissionYear||"N/A",c?o.jsx("button",{onClick:ue=>It(i,ue),className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-0.5 rounded-full border transition-all ${i.isDSY?"bg-orange-100 text-orange-700 border-orange-300 hover:bg-orange-200":"bg-gray-100 text-gray-500 border-gray-300 hover:bg-gray-200"}`,title:"Click to toggle DSY status",children:i.isDSY?" DSY":"Non-DSY"}):i.isDSY?" (DSY)":""]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("div",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${Wr(i.role||"student").bgColor}`,children:[wt.createElement(Wr(i.role||"student").icon,{className:`w-3 h-3 ${Wr(i.role||"student").color}`}),o.jsx("span",{className:Wr(i.role||"student").color,children:Wr(i.role||"student").name})]}),i.isProtected&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Zt,{className:"w-3 h-3 text-blue-600"}),o.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]})]})})})}),o.jsx("div",{className:"mt-4 p-4 bg-amber-50 rounded-2xl border border-amber-200 shadow-sm transition-all hover:bg-amber-100/50",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:o.jsx(A2,{className:"w-5 h-5 text-amber-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-sm font-bold text-amber-900 mb-1 flex items-center gap-2",children:"Data Retention Notice"}),o.jsxs("p",{className:"text-xs text-amber-800 leading-relaxed font-medium",children:["To maintain data privacy and system performance, student profiles and all associated data (Academic Progress, Notes) are automatically deleted ",o.jsx("span",{className:"text-amber-900 font-bold underline",children:"1 year after graduation"}),"."]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Semester"}),o.jsxs("div",{className:"relative",children:[" ",o.jsx(b2,{options:(i?.isDSY?[3,4,5,6,7,8]:[1,2,3,4,5,6,7,8]).map(ue=>({value:ue,label:`Semester ${ue}`,description:`${Mi[ue].theory.length} theory + ${Mi[ue].practical.length} practical`,icon:Tn,iconColor:"text-blue-500",iconBg:"bg-blue-50"})),value:t,onChange:ue=>e(Number(ue)),placeholder:"Select Semester"})]}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Tn,{className:"w-4 h-4 text-blue-600 mt-1"}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-blue-900 text-sm",children:["Semester ",t," Overview"]}),o.jsxs("p",{className:"text-xs text-blue-700",children:[Mi[t].theory.length," theory subjects and ",Mi[t].practical.length," practical labs"]})]})]})}),i?.isDSY&&o.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-xl border border-yellow-200 text-sm text-yellow-700",children:"Note: DSY students start from Semester 3  Semesters 1 & 2 are hidden for DSY students."})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Es,{className:"w-5 h-5"}),"Select Student (",s.length," total)"]}),D&&o.jsxs("button",{onClick:()=>Y(!q),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:[o.jsx(qr,{className:"w-4 h-4"}),"Add Student"]})]}),o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx(wf,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:J,onChange:ue=>ve(ue.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),J&&o.jsx("button",{onClick:ni,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx(Ut,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),q&&D&&o.jsxs("form",{onSubmit:Jr,className:"mb-6 p-4 bg-green-50 rounded-2xl border border-green-200",children:[o.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Create New Student"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[o.jsx("input",{type:"text",placeholder:"Roll Number (e.g., 2405226)",value:I.rollNo,onChange:ue=>V({...I,rollNo:ue.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),o.jsx("input",{type:"text",placeholder:"Full Name",value:I.name,onChange:ue=>V({...I,name:ue.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),o.jsxs("div",{className:"mb-3 relative",children:[" ",o.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Role"}),o.jsx(b2,{options:[{value:"student",label:"Student",icon:Hr,iconColor:"text-blue-500",iconBg:"bg-blue-50",description:"Standard access"},{value:"co-leader",label:"Co-Leader",icon:Tn,iconColor:"text-purple-500",iconBg:"bg-purple-50",description:"Can manage certain notices"}],value:I.role,onChange:ue=>V({...I,role:ue}),placeholder:"Select Role"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Admission Year"}),o.jsx("input",{type:"number",min:"2000",max:new Date().getFullYear(),value:I.admissionYear,onChange:ue=>V({...I,admissionYear:ue.target.value}),className:"w-full p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Direct Second Year"}),o.jsxs("div",{className:"flex bg-gray-50 border border-gray-200 p-3 rounded-xl items-center gap-2",children:[o.jsx("input",{id:"is-dsy",type:"checkbox",checked:I.isDSY,onChange:ue=>V({...I,isDSY:ue.target.checked}),className:"w-4 h-4 text-green-600 bg-white border-gray-300 rounded focus:ring-green-500"}),o.jsx("label",{htmlFor:"is-dsy",className:"text-sm font-medium text-gray-700",children:"Is DSY"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Year Drop (YD)"}),o.jsxs("div",{className:"flex bg-gray-50 border border-gray-200 p-3 rounded-xl items-center gap-2",children:[o.jsx("input",{id:"is-yd",type:"checkbox",checked:I.isYD,onChange:ue=>V({...I,isYD:ue.target.checked}),className:"w-4 h-4 text-red-600 bg-white border-gray-300 rounded focus:ring-red-500"}),o.jsx("label",{htmlFor:"is-yd",className:"text-sm font-medium text-gray-700",children:"Has YD"})]})]})]}),o.jsx("div",{className:"mb-3",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:A,onChange:ue=>R(ue.target.checked),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),o.jsxs("span",{className:"text-sm font-medium text-green-900 flex items-center gap-1",children:[o.jsx(ys,{className:"w-4 h-4"}),"Password protect this account"]})]})}),A&&o.jsxs("div",{className:"relative mb-3",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx(Zt,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:k?"text":"password",placeholder:"Password",value:I.password,onChange:ue=>V({...I,password:ue.target.value}),className:"w-full pl-10 pr-10 p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:A}),o.jsx("button",{type:"button",onClick:()=>P(!k),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:k?o.jsx(za,{className:"w-4 h-4 text-gray-400"}):o.jsx(zi,{className:"w-4 h-4 text-gray-400"})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"submit",disabled:U,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all disabled:opacity-50",children:[U?o.jsx(yn,{className:"w-4 h-4 animate-spin"}):o.jsx(qr,{className:"w-4 h-4"}),U?"Creating...":"Create Student"]}),o.jsx("button",{type:"button",onClick:()=>Y(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]}),z&&D&&!c&&o.jsx("div",{className:"mb-4 p-3 bg-purple-50 rounded-xl border border-purple-200",children:o.jsxs("p",{className:"text-sm text-purple-700",children:[o.jsx(Tn,{className:"w-4 h-4 inline mr-1"}),"As a co-leader, you can create new student accounts with your granted permissions."]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:Cn.length>0?Cn.map(ue=>{const Fe=Wr(ue.role||"student");return o.jsxs("div",{className:`
                    p-4 rounded-2xl border-2 transition-all cursor-pointer relative
                    ${i?.rollNo===ue.rollNo?ue.rollNo===Me.rollNo?"border-yellow-500 bg-yellow-50":ue.role==="co-leader"?"border-purple-500 bg-purple-50":"border-blue-500 bg-blue-50":ue.rollNo===Me.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300":ue.role==="co-leader"?"border-purple-200 bg-purple-50 hover:border-purple-300":ue.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300":"border-gray-200 bg-gray-50 hover:border-blue-300"}
                  `,onClick:()=>Or(ue),children:[ue.isProtected&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx(Zt,{className:"w-4 h-4 text-blue-600"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:ue.name}),wt.createElement(Fe.icon,{className:`w-4 h-4 ${Fe.color}`})]}),o.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Roll: ",ue.rollNo]}),ue.admissionYear&&o.jsx("div",{className:"mb-2",children:o.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full border ${ue.rollNo===Me.rollNo?"text-yellow-700 bg-yellow-50 border-yellow-200":ue.role==="co-leader"?"text-purple-700 bg-purple-50 border-purple-200":"text-blue-700 bg-blue-50 border-blue-200"}`,children:O0(ue)})}),o.jsx("div",{className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full ${Fe.bgColor} mb-1 block w-fit`,children:o.jsx("span",{className:Fe.color,children:Fe.name})}),c&&ue.rollNo!==Me.rollNo&&o.jsxs("div",{className:"mt-1 flex flex-wrap gap-1.5",children:[o.jsx("button",{onClick:qe=>It(ue,qe),className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-0.5 rounded-full border transition-all ${ue.isDSY?"bg-orange-100 text-orange-700 border-orange-300 hover:bg-orange-200":"bg-gray-100 text-gray-500 border-gray-300 hover:bg-gray-200"}`,title:"Toggle DSY status",children:ue.isDSY?" DSY":"Non-DSY"}),o.jsx("button",{onClick:qe=>Gn(ue,qe),className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-0.5 rounded-full border transition-all ${ue.isYD?"bg-red-100 text-red-700 border-red-300 hover:bg-red-200":"bg-gray-100 text-gray-500 border-gray-300 hover:bg-gray-200"}`,title:"Toggle Year Drop (YD) status",children:ue.isYD?" Year Drop":"No YD"})]}),o.jsx("div",{className:"mt-2",children:i?.rollNo===ue.rollNo?o.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Currently Selected"}):ue.isProtected?o.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Password Protected"}):null})]}),(c||F)&&ue.rollNo!==Me.rollNo&&o.jsx("div",{className:"flex flex-col gap-1",children:o.jsxs("div",{className:"flex gap-1",children:[ue.role!=="co-leader"&&o.jsx("button",{onClick:qe=>{qe.stopPropagation(),Pr(ue,"co-leader")},disabled:X===ue.rollNo,className:"p-1 text-purple-500 hover:bg-purple-100 rounded transition-all",title:"Make Co-Leader",children:o.jsx(Dp,{className:"w-3 h-3"})}),ue.role==="co-leader"&&o.jsx("button",{onClick:qe=>{qe.stopPropagation(),Pr(ue,"student")},disabled:X===ue.rollNo,className:"p-1 text-gray-500 hover:bg-gray-100 rounded transition-all",title:"Remove Co-Leader",children:o.jsx(b3,{className:"w-3 h-3"})})]})}),c&&ue.rollNo!==Me.rollNo&&o.jsxs("div",{className:"flex flex-col gap-1",children:[ue.isProtected?o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:qe=>{qe.stopPropagation(),ti(ue)},className:"p-1 text-blue-500 hover:bg-blue-100 rounded transition-all",title:"Change Password",children:o.jsx(Ia,{className:"w-3 h-3"})}),o.jsx("button",{onClick:qe=>{qe.stopPropagation(),Bt(ue)},className:"p-1 text-orange-500 hover:bg-orange-100 rounded transition-all",title:"Remove Password",children:o.jsx(ys,{className:"w-3 h-3"})})]}):o.jsx("div",{className:"flex gap-1",children:o.jsx("button",{onClick:qe=>{qe.stopPropagation(),ti(ue)},className:"p-1 text-green-500 hover:bg-green-100 rounded transition-all",title:"Add Password",children:o.jsx(Ia,{className:"w-3 h-3"})})}),o.jsx("button",{onClick:qe=>{qe.stopPropagation(),aa(ue.rollNo,ue.name)},disabled:K===ue.rollNo,className:"p-1 text-red-500 hover:bg-red-100 rounded transition-all disabled:opacity-50",title:"Delete Student",children:K===ue.rollNo?o.jsx(yn,{className:"w-3 h-3 animate-spin"}):o.jsx(Qr,{className:"w-3 h-3"})})]})]})]},ue.rollNo)}):o.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[o.jsx(Es,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsxs("p",{children:['No students found matching "',J,'"']})]})})]})]})}function cI({selectedStudent:t}){const[e,n]=G.useState(!1),[s,i]=G.useState(!1);if(!t)return null;const c=Number(t.admissionYear)||null,u=c?c+4:null,f=new Date().getFullYear(),h=u&&f>=u,p=()=>{n(!0),_e.success(` Congratulations! ${t.name} marked as graduated!`)},x=()=>{i(!0),setTimeout(()=>{i(!1),_e.success(" Transcript exported successfully!")},1500)};return o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 text-center bg-gray-900 border border-gray-800 shadow-2xl",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-green-500 to-emerald-800 rounded-full blur-[100px] opacity-20"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-blue-500 to-indigo-800 rounded-full blur-[100px] opacity-20"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",children:o.jsx(Ns,{className:"w-10 h-10 text-green-400 drop-shadow-[0_0_15px_rgba(74,222,128,0.5)]"})}),o.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-white mb-2 tracking-tight",children:"Degree Completion"}),o.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-base sm:text-lg",children:"Track graduation eligibility and manage certification"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(_2,{className:"w-5 h-5 text-indigo-500"}),"Current Status"]})}),o.jsxs("div",{className:"p-8",children:[o.jsx("div",{className:`p-6 rounded-2xl border mb-8 ${e?"bg-green-50 border-green-200":h?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${e?"bg-green-500 text-white shadow-lg shadow-green-200":h?"bg-blue-500 text-white shadow-lg shadow-blue-200":"bg-gray-200 text-gray-500"}`,children:e?o.jsx(d1,{className:"w-6 h-6"}):o.jsx(vf,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:`text-xl font-bold mb-1 ${e?"text-green-900":h?"text-blue-900":"text-gray-900"}`,children:e?"Graduated":h?"Eligible for Graduation":"In Progress"}),o.jsx("p",{className:`${e?"text-green-700":h?"text-blue-700":"text-gray-500"}`,children:e?`${t.name} has successfully completed their degree.`:h?`${t.name} has completed the required academic period.`:`${t.name} is currently pursuing their degree.`})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!e&&o.jsxs("button",{onClick:p,disabled:!h&&t.rollNo!==Me.rollNo,className:`p-4 rounded-xl border-2 border-dashed flex flex-col items-center justify-center gap-3 transition-all ${h||t.rollNo===Me.rollNo?"border-green-300 bg-green-50 hover:bg-green-100 cursor-pointer hover:border-green-400 hover:shadow-md":"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed"}`,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:o.jsx(Dp,{className:"w-5 h-5"})}),o.jsx("span",{className:"font-semibold text-green-900",children:"Mark as Graduated"})]}),o.jsxs("button",{onClick:x,disabled:s,className:"p-4 rounded-xl border-2 border-dashed border-indigo-200 bg-indigo-50 hover:bg-indigo-100 flex flex-col items-center justify-center gap-3 transition-all cursor-pointer hover:border-indigo-300 hover:shadow-md",children:[s?o.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:o.jsx(d1,{className:"w-6 h-6 text-indigo-500 animate-spin"})}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600",children:o.jsx(Js,{className:"w-5 h-5"})}),o.jsx("span",{className:"font-semibold text-indigo-900",children:s?"Exporting...":"Export Transcript"})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-6 h-fit",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[o.jsx(Dr,{className:"w-5 h-5 text-orange-500"}),"Timeline"]}),o.jsxs("div",{className:"space-y-6 relative before:absolute before:left-3.5 before:top-2 before:bottom-2 before:w-0.5 before:bg-gray-100",children:[o.jsxs("div",{className:"relative pl-10",children:[o.jsx("div",{className:"absolute left-0 top-0 w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center border-4 border-white shadow-sm z-10",children:o.jsx("span",{className:"text-xs font-bold text-orange-600",children:"1"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Admission"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic Year"}),o.jsx("p",{className:"font-mono text-sm text-gray-700 font-medium bg-gray-50 inline-block px-2 py-1 rounded mt-1",children:c||"N/A"})]})]}),o.jsxs("div",{className:"relative pl-10",children:[o.jsx("div",{className:"absolute left-0 top-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center border-4 border-white shadow-sm z-10",children:o.jsx("span",{className:"text-xs font-bold text-green-600",children:"4"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Expected Completion"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"4-Year Program"}),o.jsx("p",{className:"font-mono text-sm text-gray-700 font-medium bg-gray-50 inline-block px-2 py-1 rounded mt-1",children:u||"N/A"})]})]})]}),o.jsx("div",{className:"mt-8 p-4 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl border border-yellow-100 text-center",children:o.jsx("p",{className:"text-yellow-800 text-sm italic font-medium",children:'"Success is the sum of small efforts, repeated day in and day out."'})})]})]}),o.jsx("div",{className:"bg-amber-50 rounded-3xl p-6 border border-amber-200 shadow-sm transition-all hover:bg-amber-100/50",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-amber-100 rounded-2xl flex items-center justify-center shadow-sm",children:o.jsx(A2,{className:"w-6 h-6 text-amber-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-amber-900 mb-2",children:"Data Retention Policy"}),o.jsxs("p",{className:"text-amber-800 leading-relaxed font-medium",children:["To maintain data privacy and system performance, your student profile and all associated data (Academic Records, Personal Notes, and Settings) are automatically deleted ",o.jsx("span",{className:"text-amber-900 font-bold underline",children:"1 year after graduation"}),". Please ensure you export any necessary records before this period."]})]})]})})]})}function uI({subjectsConfig:t,subjectsHook:e}){const{addSubject:n,updateSubject:s,removeSubject:i,reorderSubjects:c,isSaving:u}=e,[f,h]=G.useState(1),[p,x]=G.useState("theory"),[b,w]=G.useState(null),[_,C]=G.useState({name:"",count:""}),[M,z]=G.useState(!1),[O,D]=G.useState({name:"",count:""}),F=t?.[f]?.[p]||[],q=E=>{h(E),V(),z(!1)},Y=E=>{x(E),V(),z(!1)},I=(E,K)=>{w(E),C({name:K.name,count:p==="theory"?K.caCount:K.labCount}),z(!1)},V=()=>{w(null),C({name:"",count:""})},A=async()=>{if(!_.name.trim()){_e.error("Subject name cannot be empty");return}const E=parseInt(_.count,10);if(isNaN(E)||E<1){_e.error(`Please enter a valid number of ${p==="theory"?"CAs":"Labs"} (minimum 1)`);return}try{const K=p==="theory"?{caCount:E}:{labCount:E};await s(f,p,b,{name:_.name.trim(),...K}),_e.success("Subject updated successfully"),V()}catch{_e.error("Failed to update subject")}},R=async()=>{if(!O.name.trim()){_e.error("Subject name cannot be empty");return}const E=parseInt(O.count,10);if(isNaN(E)||E<1){_e.error(`Please enter a valid number of ${p==="theory"?"CAs":"Labs"} (minimum 1)`);return}try{const K=p==="theory"?{caCount:E}:{labCount:E};await n(f,p,O.name.trim(),K),_e.success("Subject added successfully"),z(!1),D({name:"",count:""})}catch{_e.error("Failed to add subject")}},k=()=>{z(!0),D({name:"",count:p==="theory"?"4":"10"}),V()},P=async(E,K)=>{if(window.confirm(`Are you sure you want to delete ${K}? This will hide existing student data for this subject.`))try{await i(f,p,E),_e.success(`${K} deleted successfully`)}catch{_e.error("Failed to delete subject")}},U=async(E,K)=>{if(!(K===-1&&E===0||K===1&&E===F.length-1))try{await c(f,p,E,E+K)}catch{_e.error("Failed to reorder subjects")}};return t?o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(ZE,{className:"w-6 h-6 text-blue-500"}),"Subject & Curriculum Management"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage theory subjects, practicals, CAs, and Lab counts."})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-1.5 rounded-xl border border-gray-200",children:[o.jsx("span",{className:"text-sm font-medium text-gray-600 pl-2",children:"Sem:"}),o.jsx("select",{className:"bg-white border-none rounded-lg text-sm font-semibold text-gray-800 py-1.5 px-3 focus:ring-2 focus:ring-blue-500 outline-none shadow-sm cursor-pointer",value:f,onChange:E=>q(parseInt(E.target.value)),children:[1,2,3,4,5,6,7,8].map(E=>o.jsx("option",{value:E,children:E},E))})]})]}),o.jsx("div",{className:"p-3 bg-red-50 border border-red-100 rounded-xl mb-6",children:o.jsxs("div",{className:"flex gap-2 text-red-700",children:[o.jsx(Ac,{className:"w-5 h-5 shrink-0"}),o.jsxs("p",{className:"text-xs sm:text-sm",children:[o.jsx("strong",{children:"Warning:"})," Deleting or renaming a subject will orphan existing student scores saved under the old name. Use carefully."]})]})}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-100 pb-2",children:[o.jsxs("button",{onClick:()=>Y("theory"),className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl text-sm font-bold transition-all ${p==="theory"?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(Kl,{className:"w-4 h-4"}),"Theory Subjects"]}),o.jsxs("button",{onClick:()=>Y("practical"),className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl text-sm font-bold transition-all ${p==="practical"?"bg-green-50 text-green-700 border border-green-200":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(Ap,{className:"w-4 h-4"}),"Practical Labs"]})]}),o.jsxs("div",{className:"space-y-3",children:[F.length===0&&!M&&o.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:o.jsxs("p",{className:"text-gray-500",children:["No ",p," subjects defined for Semester ",f,"."]})}),F.map((E,K)=>o.jsx("div",{className:"flex flex-col gap-2 p-3 bg-gray-50 hover:bg-white border hover:border-blue-200 border-gray-200 rounded-xl transition-all group",children:b===K?o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx("input",{type:"text",placeholder:"Subject Name",className:"flex-1 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:_.name,onChange:ne=>C(X=>({...X,name:ne.target.value})),autoFocus:!0}),o.jsx("input",{type:"number",min:"1",max:"20",placeholder:p==="theory"?"CA Count":"Lab Count",className:"w-full sm:w-28 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:_.count,onChange:ne=>C(X=>({...X,count:ne.target.value}))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:A,disabled:u,className:"flex-1 sm:flex-none px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o.jsx(Gr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:V,disabled:u,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:o.jsx(Ut,{className:"w-4 h-4"})})]})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex flex-col px-1 mr-1",children:[o.jsx("button",{onClick:()=>U(K,-1),disabled:u||K===0,className:"text-gray-300 hover:text-gray-600 disabled:opacity-30 p-0.5",children:""}),o.jsx("button",{onClick:()=>U(K,1),disabled:u||K===F.length-1,className:"text-gray-300 hover:text-gray-600 disabled:opacity-30 p-0.5",children:""})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800",children:E.name}),o.jsx("p",{className:"text-xs text-gray-500 font-medium",children:p==="theory"?`${E.caCount||4} Continuous Assessments`:`${E.labCount||10} Lab Experiments`})]})]}),o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx("button",{onClick:()=>I(K,E),disabled:u,className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:o.jsx(j2,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>P(K,E.name),disabled:u,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(Qr,{className:"w-4 h-4"})})]})]})},K)),M?o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 p-3 bg-blue-50 border border-blue-200 rounded-xl mt-4",children:[o.jsx("input",{type:"text",placeholder:"New Subject Name",className:"flex-1 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:O.name,onChange:E=>D(K=>({...K,name:E.target.value})),autoFocus:!0}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o.jsx("span",{className:"text-xs font-bold text-blue-800 shrink-0",children:p==="theory"?"CAs:":"Labs:"}),o.jsx("input",{type:"number",min:"1",max:"20",placeholder:"Count",className:"w-full sm:w-20 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none font-mono",value:O.count,onChange:E=>D(K=>({...K,count:E.target.value}))})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:R,disabled:u,className:"flex-1 sm:flex-none flex items-center justify-center gap-1 px-4 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[o.jsx(Gr,{className:"w-4 h-4"})," Save"]}),o.jsx("button",{onClick:()=>z(!1),disabled:u,className:"flex-1 sm:flex-none px-4 py-2 bg-white text-gray-700 border border-gray-300 font-bold rounded-lg hover:bg-gray-50 disabled:opacity-50",children:o.jsx(Ut,{className:"w-4 h-4"})})]})]}):o.jsxs("button",{onClick:k,disabled:u,className:"w-full mt-4 flex items-center justify-center gap-2 p-3 border-2 border-dashed border-gray-200 hover:border-blue-400 hover:bg-blue-50 text-gray-500 hover:text-blue-600 rounded-xl font-bold transition-all disabled:opacity-50",children:[o.jsx(qr,{className:"w-5 h-5"}),"Add new ",p==="theory"?"Theory Subject":"Practical Lab"]})]})]}):o.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading subjects..."})}const j0=4,A0=10;function VN(t,e){const[n,s]=G.useState(null),[i,c]=G.useState(!0),[u,f]=G.useState(!1);G.useEffect(()=>{const C=Ot(dt,"appConfig","subjects"),M=bg(C,async z=>{if(z.exists())s(z.data()),c(!1);else{const O={};for(const[D,F]of Object.entries(Mi))O[D]={theory:F.theory.map(q=>({name:q,caCount:j0})),practical:F.practical.map(q=>({name:q,labCount:A0}))};try{(t||e)&&await fr(C,O),s(O)}catch(D){console.error("Error seeding subjects config:",D),s(O)}finally{c(!1)}}},z=>{if(console.error("Error listening to subjects config:",z),c(!1),!n){const O={};for(const[D,F]of Object.entries(Mi))O[D]={theory:F.theory.map(q=>({name:q,caCount:j0})),practical:F.practical.map(q=>({name:q,labCount:A0}))};s(O)}});return()=>M()},[t,e]);const h=async C=>{if(!t&&!e)throw new Error("Permission denied");f(!0);try{const M=Ot(dt,"appConfig","subjects");return await fr(M,C),!0}catch(M){throw console.error("Error saving subjects:",M),M}finally{f(!1)}},p=(C,M)=>{const z={...C};return z[M]||(z[M]={theory:[],practical:[]}),z};return{subjectsConfig:n,isLoading:i,isSaving:u,addSubject:async(C,M,z,O={})=>{if(!n)return!1;const D=p(n,C),F={name:z,...O};return M==="theory"&&!F.caCount&&(F.caCount=j0),M==="practical"&&!F.labCount&&(F.labCount=A0),D[C][M]=[...D[C][M],F],await h(D)},updateSubject:async(C,M,z,O)=>{if(!n)return!1;const D=p(n,C),F=[...D[C][M]];return F[z]={...F[z],...O},D[C][M]=F,await h(D)},removeSubject:async(C,M,z)=>{if(!n)return!1;const O=p(n,C),D=[...O[C][M]];return D.splice(z,1),O[C][M]=D,await h(O)},reorderSubjects:async(C,M,z,O)=>{if(!n)return!1;const D=p(n,C),F=Array.from(D[C][M]),[q]=F.splice(z,1);return F.splice(O,0,q),D[C][M]=F,await h(D)},saveSubjects:h}}const Nc={canCreateUsers:!1,canPostNotices:!0,canAppointCoLeaders:!1,canManagePasswords:!1};function dI({selectedStudent:t,studentManagement:e,onNavigateToTab:n}){const{students:s,isAdmin:i,updateStudentRole:c,updateStudentPassword:u,updateCoLeaderPermissions:f}=e,h=VN(i,t?.role==="co-leader"),{subjectsConfig:p}=h,[x,b]=G.useState(null),[w,_]=G.useState(""),[C,M]=G.useState(!1),[z,O]=G.useState(null),[D,F]=G.useState("add"),[q,Y]=G.useState(""),[I,V]=G.useState(""),[A,R]=G.useState(!1),[k,P]=G.useState(null),[U,E]=G.useState(!1),K=t?.role==="co-leader"&&t?.rollNo!==Me.rollNo,ne=G.useMemo(()=>i?null:K?t?.permissions||Nc:null,[i,K,t]),X=G.useMemo(()=>s.filter(H=>H.role==="co-leader"&&H.rollNo!==Me.rollNo),[s]),de=G.useMemo(()=>{let H=s;if(K&&!i&&(H=H.filter(se=>se.rollNo!==Me.rollNo)),!w.trim())return H;const oe=w.toLowerCase();return H.filter(se=>se.name.toLowerCase().includes(oe)||se.rollNo.toLowerCase().includes(oe))},[s,w,K,i]),J=async(H,oe,se)=>{if(!i){_e.error("Only admin can modify co-leader permissions");return}P(`${H}-${oe}`);try{const Ye={...s.find(Je=>Je.rollNo===H)?.permissions||Nc,[oe]:!se};await f(H,Ye),_e.success("Permission updated successfully!")}catch(be){_e.error(`Failed to update permission: ${be.message}`)}finally{P(null)}},ve=(H,oe)=>{O(H),F(oe),Y(""),V(""),R(!1),M(!0)},j=async()=>{if(D!=="remove"){if(!q.trim()){_e.error("Please enter a password");return}if(q!==I){_e.error("Passwords do not match");return}}E(!0);try{D==="remove"?(await u(z.rollNo,"",!0),_e.success("Password removed successfully!")):(await u(z.rollNo,q),_e.success(D==="add"?"Password added successfully!":"Password changed successfully!")),M(!1)}catch(H){_e.error(`Failed to ${D} password: ${H.message}`)}finally{E(!1)}},ee=H=>{switch(H){case"createUser":n(4,{showCreateForm:!0});break;case"manageNotices":n(2);break;case"viewStudents":n(4);break}},pe={canCreateUsers:{label:"Create Users",desc:"Can create new student accounts",icon:h1},canPostNotices:{label:"Post Notices",desc:"Can create and manage notices",icon:Ii},canAppointCoLeaders:{label:"Appoint Co-Leaders",desc:"Can promote students to co-leader role",icon:Tn},canManagePasswords:{label:"Manage Passwords",desc:"Can add, change, or remove user passwords",icon:Ia}},T=(H,oe)=>{const be=(H.permissions||Nc)[oe]??Nc[oe],Se=k===`${H.rollNo}-${oe}`,Ye=pe[oe].icon;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${be?"bg-green-100":"bg-gray-200"}`,children:o.jsx(Ye,{className:`w-4 h-4 ${be?"text-green-600":"text-gray-500"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 text-sm",children:pe[oe].label}),o.jsx("p",{className:"text-xs text-gray-500",children:pe[oe].desc})]})]}),o.jsx("button",{onClick:()=>J(H.rollNo,oe,be),disabled:Se||!i,className:`relative w-12 h-6 rounded-full transition-all ${be?"bg-green-500":"bg-gray-300"} ${i?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:Se?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(yn,{className:"w-4 h-4 animate-spin text-white"})}):o.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-all ${be?"left-6":"left-0.5"}`})})]},oe)};return t?!i&&!K?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ys,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),o.jsx("p",{className:"text-gray-600",children:"Only admins and co-leaders can access this panel"})]})}):o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[C&&z&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 ${D==="remove"?"bg-gradient-to-r from-red-500 to-orange-500":"bg-gradient-to-r from-blue-500 to-purple-500"}`,children:o.jsx(Ia,{className:"w-8 h-8 text-white"})}),o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[D==="add"&&"Add Password",D==="change"&&"Change Password",D==="remove"&&"Remove Password"]}),o.jsx("p",{className:"text-gray-600",children:D==="remove"?`Remove password protection from ${z.name}?`:`Set password for ${z.name}`})]}),D!=="remove"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx(Zt,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:A?"text":"password",placeholder:"New password",value:q,onChange:H=>Y(H.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),o.jsx("button",{type:"button",onClick:()=>R(!A),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:A?o.jsx(za,{className:"w-5 h-5 text-gray-400"}):o.jsx(zi,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx(Zt,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:A?"text":"password",placeholder:"Confirm password",value:I,onChange:H=>V(H.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),D==="remove"&&o.jsx("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200 mb-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ac,{className:"w-5 h-5 text-red-600 mt-0.5"}),o.jsx("p",{className:"text-sm text-red-700",children:"This will allow anyone to access this student's account without a password."})]})}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:j,disabled:U,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium ${D==="remove"?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"}`,children:U?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Processing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ia,{className:"w-4 h-4"}),o.jsx("span",{children:D==="remove"?"Remove Password":"Save Password"})]})}),o.jsx("button",{type:"button",onClick:()=>M(!1),disabled:U,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})}),o.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 mb-8 text-center bg-gray-900 border border-gray-800 shadow-2xl",children:[o.jsx("div",{className:`absolute top-0 right-0 w-64 h-64 bg-gradient-to-br rounded-full blur-[100px] opacity-30 ${i?"from-yellow-600 to-amber-800":"from-purple-600 to-pink-800"}`}),o.jsx("div",{className:`absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr rounded-full blur-[100px] opacity-30 ${i?"from-amber-600 to-yellow-800":"from-pink-600 to-purple-800"}`}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",children:i?o.jsx(Rr,{className:"w-10 h-10 text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"}):o.jsx(Tn,{className:"w-10 h-10 text-purple-400 drop-shadow-[0_0_15px_rgba(192,132,252,0.5)]"})}),o.jsx("h2",{className:"text-2xl sm:text-4xl font-extrabold text-white mb-2 tracking-tight",children:"Admin Privileges"}),o.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-base sm:text-lg",children:i?"Manage co-leader permissions and quick admin actions with executive control":"View your assigned permissions and accessible management tools"})]})]}),o.jsxs("div",{className:`relative overflow-hidden rounded-3xl p-1 border shadow-xl ${i?"bg-gradient-to-br from-amber-200/50 via-yellow-100/50 to-orange-100/50 border-amber-200":"bg-gradient-to-br from-purple-200/50 via-fuchsia-100/50 to-pink-100/50 border-purple-200"}`,children:[o.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-overlay bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),o.jsxs("div",{className:"relative flex items-center gap-6 p-6 rounded-[20px] backdrop-blur-sm bg-white/40",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg ${i?"bg-gradient-to-br from-yellow-400 to-amber-600 text-white":"bg-gradient-to-br from-purple-500 to-fuchsia-600 text-white"}`,children:i?o.jsx(Rr,{className:"w-8 h-8 drop-shadow-md"}):o.jsx(Tn,{className:"w-8 h-8 drop-shadow-md"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:`font-bold text-xl sm:text-2xl ${i?"text-amber-900":"text-purple-900"}`,children:i?"Administrator":"Co-Leader"}),o.jsx("span",{className:`px-3 py-0.5 rounded-full text-xs font-bold uppercase tracking-wider ${i?"bg-amber-900/10 text-amber-900":"bg-purple-900/10 text-purple-900"}`,children:"Verified"})]}),o.jsxs("p",{className:`font-medium ${i?"text-amber-700":"text-purple-700"}`,children:[t.name," ",o.jsx("span",{className:"opacity-60",children:""})," ",t.rollNo]})]}),o.jsx("div",{className:"ml-auto hidden md:block opacity-10 scale-150 transform translate-x-4",children:i?o.jsx(Rr,{size:120}):o.jsx(Tn,{size:120})})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg",children:o.jsx(Ua,{className:"w-5 h-5 text-gray-700"})}),"Quick Actions"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(i||ne?.canCreateUsers)&&o.jsxs("button",{onClick:()=>ee("createUser"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-green-50 hover:from-green-50 hover:to-green-100 rounded-2xl border border-green-100 hover:border-green-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:o.jsx(h1,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-bold text-green-900 text-lg group-hover:text-green-800",children:"Create User"}),o.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Add new student"})]}),o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-green-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-green-300/30 transition-all"})]}),(i||ne?.canPostNotices)&&o.jsxs("button",{onClick:()=>ee("manageNotices"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-blue-50 hover:from-blue-50 hover:to-blue-100 rounded-2xl border border-blue-100 hover:border-blue-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:o.jsx(Ii,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-bold text-blue-900 text-lg group-hover:text-blue-800",children:"Manage Notices"}),o.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Create & edit notices"})]}),o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-blue-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-blue-300/30 transition-all"})]}),o.jsxs("button",{onClick:()=>ee("viewStudents"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-purple-50 hover:from-purple-50 hover:to-purple-100 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-fuchsia-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:o.jsx(Es,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-bold text-purple-900 text-lg group-hover:text-purple-800",children:"View Students"}),o.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Student management"})]}),o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-purple-300/30 transition-all"})]})]})]}),i&&o.jsx(uI,{subjectsConfig:p,subjectsHook:h}),i&&o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Tn,{className:"w-5 h-5 text-purple-500"}),"Co-Leader Permissions",o.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",X.length," co-leader",X.length!==1?"s":"",")"]})]}),X.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-2xl",children:[o.jsx(Tn,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),o.jsx("p",{className:"text-gray-600 mb-2",children:"No co-leaders appointed yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Go to Student & Settings to promote students to co-leader role"})]}):o.jsx("div",{className:"space-y-4",children:X.map(H=>o.jsxs("div",{className:"border border-gray-200 rounded-2xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>b(x===H.rollNo?null:H.rollNo),className:"w-full flex items-center justify-between p-4 bg-purple-50 hover:bg-purple-100 transition-all",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-xl flex items-center justify-center",children:o.jsx(Tn,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-medium text-purple-900",children:H.name}),o.jsx("p",{className:"text-sm text-purple-700",children:H.rollNo})]})]}),x===H.rollNo?o.jsx(Sp,{className:"w-5 h-5 text-purple-600"}):o.jsx(bf,{className:"w-5 h-5 text-purple-600"})]}),x===H.rollNo&&o.jsx("div",{className:"p-4 space-y-3 bg-white",children:Object.keys(pe).map(oe=>T(H,oe))})]},H.rollNo))})]}),K&&ne&&o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(ys,{className:"w-5 h-5 text-purple-500"}),"Your Permissions"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(pe).map(([H,oe])=>{const se=ne[H]??Nc[H],be=oe.icon;return o.jsx("div",{className:`p-4 rounded-2xl border ${se?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${se?"bg-green-500":"bg-gray-400"}`,children:o.jsx(be,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:`font-medium ${se?"text-green-900":"text-gray-700"}`,children:oe.label}),o.jsx("p",{className:"text-xs text-gray-500",children:oe.desc})]}),o.jsx("div",{className:"ml-auto",children:se?o.jsx(ao,{className:"w-5 h-5 text-green-600"}):o.jsx(Ut,{className:"w-5 h-5 text-gray-400"})})]})},H)})})]}),(i||ne?.canManagePasswords)&&o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Ia,{className:"w-5 h-5 text-blue-500"}),"Password Management"]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx(wf,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:w,onChange:H=>_(H.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),w&&o.jsx("button",{onClick:()=>_(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx(Ut,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:de.map(H=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${H.rollNo===Me.rollNo?"bg-yellow-100":H.role==="co-leader"?"bg-purple-100":"bg-blue-100"}`,children:H.rollNo===Me.rollNo?o.jsx(Rr,{className:"w-4 h-4 text-yellow-600"}):H.role==="co-leader"?o.jsx(Tn,{className:"w-4 h-4 text-purple-600"}):o.jsx(Dp,{className:"w-4 h-4 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 text-sm",children:H.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500",children:H.rollNo}),H.isProtected&&o.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[o.jsx(Zt,{className:"w-3 h-3"}),"Protected"]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:H.isProtected?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>ve(H,"change"),className:"px-3 py-1.5 text-xs font-medium bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all",children:"Change"}),H.rollNo!==Me.rollNo&&o.jsx("button",{onClick:()=>ve(H,"remove"),className:"px-3 py-1.5 text-xs font-medium bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:"Remove"})]}):o.jsx("button",{onClick:()=>ve(H,"add"),className:"px-3 py-1.5 text-xs font-medium bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all",children:"Add Password"})})]},H.rollNo))})]})]}):o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ys,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),o.jsx("p",{className:"text-gray-600",children:"Please select a student to view admin privileges"})]})})}function fI({selectedStudent:t,semester:e}){const{notices:n}=Bf(t,e),[s,i]=G.useState(new Date),[c,u]=G.useState(new Date),[f,h]=G.useState(new Date),[p,x]=G.useState(new Date),[b,w]=G.useState("month"),[_,C]=G.useState(0),[M,z]=G.useState(!1);G.useEffect(()=>{const J=ee=>{const pe=new Date,T=ee.getTime()-pe.getTime();C(T),z(!0)},ve=async()=>{const ee=async(T,H={})=>{const{timeout:oe=5e3,...se}=H,be=new AbortController,Se=setTimeout(()=>be.abort(),oe);try{const Ye=await fetch(T,{...se,signal:be.signal});return clearTimeout(Se),Ye}catch(Ye){throw clearTimeout(Se),Ye}},pe=[async()=>{const T=await ee("https://timeapi.io/api/Time/current/zone?timeZone=Asia/Kolkata",{timeout:5e3});if(!T.ok)throw new Error("TimeAPI failed");const H=await T.json();return new Date(H.dateTime+"+05:30")},async()=>{const T=await ee("https://worldtimeapi.org/api/timezone/Asia/Kolkata",{timeout:5e3});if(!T.ok)throw new Error("WorldTimeAPI failed");const H=await T.json();return new Date(H.datetime)},async()=>{const H=(await ee("https://api.github.com",{method:"HEAD",timeout:5e3})).headers.get("date");if(!H)throw new Error("No Date header");return new Date(H)},async()=>{const T=await ee("https://api.coindesk.com/v1/bpi/currentprice.json",{timeout:5e3});if(!T.ok)throw new Error("Coindesk failed");const H=await T.json();return new Date(H.time.updatedISO)}];for(let T=0;T<pe.length;T++)try{const H=await pe[T]();J(H);return}catch{}z(!1)};ve();const j=setInterval(ve,300*1e3);return()=>clearInterval(j)},[]),G.useEffect(()=>{const J=setInterval(()=>{h(new Date(Date.now()+_))},1e3);return()=>clearInterval(J)},[_]),G.useEffect(()=>{n.length>0&&x(new Date(Date.now()+_))},[n,_]);const O=J=>J.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"}),D=J=>J.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",timeZone:"Asia/Kolkata"}),F=J=>J.toLocaleDateString("en-US",{weekday:"long",timeZone:"Asia/Kolkata"}),q=J=>{if(!J)return"Never updated";const ve=new Date-J;return ve<6e4?"Updated just now":ve<36e5?`Updated ${Math.floor(ve/6e4)} minutes ago`:ve<864e5?`Updated ${Math.floor(ve/36e5)} hours ago`:`Updated on ${J.toLocaleDateString()}`},Y=(J,ve)=>J.getDate()===ve.getDate()&&J.getMonth()===ve.getMonth()&&J.getFullYear()===ve.getFullYear(),I=G.useMemo(()=>n.flatMap(J=>{const ve=J.meta?.completedBy?.includes(t?.rollNo)||!1,j={id:J.id,type:J.type,meta:J.meta,isDone:ve};if(J.type==="todo"&&J.meta.dueDate){const ee=new Date(J.meta.dueDate);return isNaN(ee)?null:{...j,title:J.content,date:ee,color:"bg-blue-500",icon:EE}}if(J.type==="reminder"&&J.meta.reminderDate){const ee=new Date(J.meta.reminderDate);return isNaN(ee)?null:{...j,title:J.content,date:ee,color:"bg-yellow-500",icon:Pc}}if(J.type==="assessment"){if(J.meta.assessments?.length>0)return J.meta.assessments.map((ee,pe)=>{const T=new Date(ee.date);return isNaN(T)?null:{id:`${J.id}-${pe}`,type:"assessment",title:`${ee.subject}${ee.assessmentName?": "+ee.assessmentName:""} (${ee.assessmentType})`,date:T,color:"bg-purple-500",icon:Ns,meta:J.meta,isDone:ve}}).filter(Boolean);if(J.meta.date){const ee=new Date(J.meta.date);return isNaN(ee)?null:{...j,title:`${J.meta.subject}${J.meta.assessmentName?": "+J.meta.assessmentName:""} (${J.meta.assessmentType})`,date:ee,color:"bg-purple-500",icon:Ns}}}return null}).filter(Boolean),[n]),V=[{day:25,month:11,title:"Christmas Day",type:"holiday"},{day:26,month:0,title:"Republic Day",type:"holiday"},{day:19,month:1,title:"Shiv Jayanti",type:"holiday"},{day:14,month:3,title:"Ambedkar Jayanti",type:"holiday"},{day:1,month:4,title:"Maharashtra Day",type:"holiday"},{day:15,month:7,title:"Independence Day",type:"holiday"},{day:2,month:9,title:"Gandhi Jayanti",type:"holiday"}],A=J=>V.find(ve=>ve.day===J.getDate()&&ve.month===J.getMonth()),R=G.useMemo(()=>I,[I]),k=J=>{const ve=R.filter(ee=>Y(ee.date,J)),j=A(J);return j&&ve.unshift({id:`holiday-${J.getTime()}`,type:"holiday",title:j.title,date:J,color:"bg-red-600",icon:Tn}),ve},P=k(c),U=(J,ve)=>new Date(J,ve+1,0).getDate(),E=(J,ve)=>(new Date(J,ve,1).getDay()+6)%7,K=U(s.getFullYear(),s.getMonth()),ne=E(s.getFullYear(),s.getMonth()),X=()=>{i(new Date(s.getFullYear(),s.getMonth()+1))},de=()=>{i(new Date(s.getFullYear(),s.getMonth()-1))};return o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-3 sm:p-4 border border-gray-100 mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gr,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm text-gray-600",children:q(p)})]}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[o.jsx(Dr,{className:"w-4 h-4"}),o.jsxs("span",{children:[R.length," Events"]})]})]}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-xl p-1",children:[o.jsxs("button",{onClick:()=>w("month"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${b==="month"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[o.jsx(Dr,{className:"w-4 h-4"}),"Month"]}),o.jsxs("button",{onClick:()=>w("list"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${b==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[o.jsx(Js,{className:"w-4 h-4"}),"List"]})]})]})}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Dr,{className:"w-6 h-6 text-blue-600"}),s.toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:de,className:"p-2 hover:bg-white rounded-md shadow-sm transition-all text-gray-600",children:o.jsx(N2,{className:"w-5 h-5"})}),o.jsx("button",{onClick:X,className:"p-2 hover:bg-white rounded-md shadow-sm transition-all text-gray-600",children:o.jsx(Tp,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((J,ve)=>o.jsx("div",{className:`text-center text-sm font-semibold py-2
                                        ${ve===6?"text-red-500":ve===4?"text-green-600":"text-gray-500"}`,children:J},J))}),o.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:ne}).map((J,ve)=>o.jsx("div",{className:"h-16 sm:h-32 bg-gray-50/50 rounded-xl"},`empty-${ve}`)),Array.from({length:K}).map((J,ve)=>{const j=ve+1,ee=new Date(s.getFullYear(),s.getMonth(),j),pe=Y(ee,f),T=Y(ee,c),H=k(ee),oe=A(ee),se=ee.getDay(),Ye=pe?"bg-blue-600 text-white shadow-md shadow-blue-200":oe||se===0?"text-red-600 drop-shadow-[0_0_8px_rgba(239,68,68,0.5)] font-bold":se===5?"text-green-600 drop-shadow-[0_0_8px_rgba(22,163,74,0.5)] font-bold":"text-gray-700";return o.jsxs("button",{onClick:()=>u(ee),className:`
                      relative h-16 sm:h-32 rounded-xl border p-1 sm:p-2 transition-all text-left flex flex-col justify-between
                      ${T?"border-blue-500 ring-2 ring-blue-100 bg-blue-50/30":"border-transparent hover:bg-gray-50"}
                      ${pe?"bg-blue-50":""}
                      ${oe?"bg-red-50/30":""} 
                    `,children:[o.jsx("span",{className:`
                      w-7 h-7 flex items-center justify-center rounded-full text-sm font-medium
                      ${Ye}
                    `,children:j}),o.jsxs("div",{className:"space-y-1 w-full",children:[H.slice(0,3).map((Je,Et)=>o.jsxs("div",{className:`
                            text-[10px] truncate px-1.5 py-0.5 rounded-full flex items-center gap-1
                            ${Je.type==="assessment"?"bg-purple-100 text-purple-700":Je.type==="todo"?"bg-blue-100 text-blue-700":Je.type==="holiday"?"bg-red-100 text-red-700 font-medium":"bg-yellow-100 text-yellow-700"}
                            ${Je.isDone?"opacity-50 saturate-50":""}
                          `,children:[o.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Je.type==="holiday"?"bg-red-500":Je.color}`}),o.jsx("span",{className:"hidden sm:inline",children:Je.title})]},Et)),H.length>3&&o.jsxs("div",{className:"text-[10px] text-gray-400 pl-1",children:["+",H.length-3," more"]})]})]},j)})]})]})]}),o.jsxs("div",{className:"lg:w-80 w-full flex flex-col gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 rounded-2xl shadow-xl p-6 text-white overflow-hidden relative z-0 group",children:[o.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl group-hover:bg-white/20 transition-all duration-700"}),o.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-20 h-20 bg-purple-500/20 rounded-full blur-xl"}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsx("div",{className:"text-sm font-medium opacity-80 uppercase tracking-widest mb-1",children:F(f)}),o.jsxs("div",{className:"text-3xl sm:text-5xl font-black tracking-tighter mb-2 drop-shadow-md whitespace-nowrap",children:[O(f).split(" ")[0],o.jsx("span",{className:"text-lg sm:text-2xl font-bold opacity-60 ml-2 uppercase",children:O(f).split(" ")[1]})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-4 py-1.5 rounded-full backdrop-blur-sm border border-white/10",children:[o.jsx(Dr,{className:"w-4 h-4 text-blue-200"}),o.jsx("span",{className:"text-sm font-bold tracking-tight",children:D(f)})]}),o.jsx("div",{className:`flex items-center gap-1 mt-2 text-xs px-3 py-1 rounded-full ${M?"bg-green-500/20 text-green-200":"bg-yellow-500/20 text-yellow-200"}`,children:M?o.jsxs(o.Fragment,{children:[o.jsx(Zl,{className:"w-3 h-3"})," IST (Synced)"]}):o.jsxs(o.Fragment,{children:[o.jsx(xs,{className:"w-3 h-3"})," Local Clock"]})})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 flex-1 flex flex-col min-h-[400px]",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[c.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),o.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-auto",children:[P.length," Events"]})]}),o.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto -mr-2 pr-2",children:P.length>0?P.map(J=>o.jsxs("div",{className:`
                      p-3 rounded-xl border flex gap-3
                      ${J.type==="assessment"?"bg-purple-50 border-purple-100":J.type==="todo"?"bg-blue-50 border-blue-100":J.type==="holiday"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-100"}
                      ${J.isDone?"opacity-60 saturate-50":""}
                    `,children:[o.jsx("div",{className:`
                       mt-1 w-8 h-8 rounded-full flex items-center justify-center shrink-0
                       ${J.type==="assessment"?"bg-purple-100 text-purple-600":J.type==="todo"?"bg-blue-100 text-blue-600":J.type==="holiday"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}
                     `,children:o.jsx(J.icon,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-bold uppercase tracking-wider opacity-70 mb-0.5",children:J.type}),o.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:J.title}),J.type!=="holiday"&&o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[o.jsx(xs,{className:"w-3 h-3"}),J.date.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]},J.id)):o.jsxs("div",{className:"text-center py-10 text-gray-400",children:[o.jsx(xs,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),o.jsx("p",{children:"No events for this day"})]})})]})]})]})]})}function hI(t,e){const[n,s]=G.useState(()=>{try{const u=window.localStorage.getItem(t);return u?JSON.parse(u):e}catch(u){return console.error(`Error loading localStorage key "${t}":`,u),e}});return[n,u=>{try{typeof u=="function"?s(f=>{const h=u(f);return window.localStorage.setItem(t,JSON.stringify(h)),h}):(s(u),window.localStorage.setItem(t,JSON.stringify(u)))}catch(f){console.error(`Error setting localStorage key "${t}":`,f)}},()=>{try{s(e),window.localStorage.removeItem(t)}catch(u){console.error(`Error clearing localStorage key "${t}":`,u)}}]}function mI(t){const[e,n]=G.useState(navigator.onLine),[s,i]=G.useState(!1),[c,u]=G.useState(null);G.useEffect(()=>{const x=()=>n(!0),b=()=>n(!1);return window.addEventListener("online",x),window.addEventListener("offline",b),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",b)}},[]);const f=x=>Array.isArray(x)?x.map(f):x!==null&&typeof x=="object"?Object.fromEntries(Object.entries(x).map(([b,w])=>[b,w===void 0?null:f(w)])):x;return{isOnline:e,isSyncing:s,lastSynced:c,saveToFirestore:async(x,b,w,_)=>{if(!t)return!1;try{i(!0);const C=Ot(dt,"academic-data",`${t}-${x}-${b}`);return await fr(C,{studentId:t,semester:x,subject:b,type:_,data:f(w),timestamp:Ql(),lastModified:new Date().toISOString()}),u(new Date),!0}catch(C){return console.error("Error saving to Firestore:",C),!1}finally{i(!1)}},loadAllData:async()=>{if(!t)return{};try{i(!0);const x=df(Gl(dt,"academic-data"),ap("studentId","==",t));return new Promise((b,w)=>bg(x,C=>{const M={};C.forEach(z=>{const O=z.data(),D=`${O.semester}-${O.subject}`;M[D]=O}),u(new Date),b(M)},C=>{console.error("Error loading all data:",C),w(C)}))}catch(x){return console.error("Error setting up real-time listener:",x),{}}finally{i(!1)}}}}function pI({isOpen:t,onClose:e}){return t?o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity",onClick:e}),o.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 opacity-90",children:o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20 MixBlendMode-overlay"})}),o.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full backdrop-blur-md transition-colors z-10",children:o.jsx(Ut,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative pt-24 px-6 pb-8",children:[o.jsxs("div",{className:"absolute top-12 left-1/2 -translate-x-1/2 w-20 h-20 bg-white rounded-2xl shadow-xl flex items-center justify-center transform -rotate-3 hover:rotate-0 transition-transform duration-300",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl opacity-10"}),o.jsx(Ns,{className:"w-10 h-10 text-indigo-600"})]}),o.jsxs("div",{className:"text-center mt-12 mb-6",children:[o.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"Academic Progress Tracker"}),o.jsx("div",{className:"flex items-center justify-center gap-2 mt-2",children:o.jsx("span",{className:"px-2.5 py-0.5 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-full border border-indigo-100 uppercase tracking-widest",children:"v4.2.0 Beta"})})]}),o.jsx("p",{className:"text-gray-600 text-sm text-center leading-relaxed px-4 mb-8",children:"A comprehensive unified dashboard designed to help students track their academic growth, manage practical experiments, and stay seamlessly updated with class notices."}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 flex flex-col items-center justify-center text-center group hover:bg-white hover:border-blue-200 hover:shadow-md transition-all",children:[o.jsx(E2,{className:"w-6 h-6 text-gray-400 group-hover:text-blue-500 mb-2 transition-colors"}),o.jsx("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider mb-1",children:"Developer"}),o.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Shaikh Mujahid"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 flex flex-col items-center justify-center text-center group hover:bg-white hover:border-purple-200 hover:shadow-md transition-all",children:[o.jsx(Kl,{className:"w-6 h-6 text-gray-400 group-hover:text-purple-500 mb-2 transition-colors"}),o.jsx("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider mb-1",children:"Institution"}),o.jsx("span",{className:"text-sm font-bold text-gray-900",children:"MGM University"})]})]}),o.jsxs("div",{className:"space-y-3 mb-8 px-2",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center shrink-0",children:o.jsx(c3,{className:"w-4 h-4"})}),o.jsx("span",{children:"React + Vite powered modern frontend"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-green-50 text-green-600 flex items-center justify-center shrink-0",children:o.jsx(C0,{className:"w-4 h-4"})}),o.jsx("span",{children:"Offline-first PWA caching capabilities"})]})]}),o.jsxs("div",{className:"pt-6 border-t border-gray-100 flex flex-col items-center gap-4",children:[o.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1.5 font-medium",children:["Built with ",o.jsx(S2,{className:"w-4 h-4 text-red-500 animate-pulse fill-red-500"})," for the student community"]}),o.jsxs("a",{href:"https://github.com/shaikhmujahid-7080",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-bold text-gray-600 hover:text-gray-900 bg-gray-50 hover:bg-gray-100 px-4 py-2 rounded-xl transition-colors border border-gray-200",children:[o.jsx(T2,{className:"w-4 h-4"}),"View Developer Profile"]})]})]})]})]}):null}function v2(){const[t,e]=G.useState(!1),n=new Date().getFullYear();return o.jsxs("footer",{className:"w-full py-8 mt-auto bg-transparent border-t border-gray-100 flex flex-col items-center gap-4 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center gap-6 text-gray-400",children:[o.jsxs("div",{className:"flex items-center gap-2 group cursor-default",children:[o.jsx(E2,{className:"w-4 h-4 group-hover:text-blue-500 transition-colors"}),o.jsx("span",{className:"text-sm font-medium",children:"Shaikh Mujahid"})]}),o.jsx("div",{className:"h-4 w-px bg-gray-200"}),o.jsxs("div",{className:"flex items-center gap-2 group cursor-default",children:[o.jsx(Ns,{className:"w-4 h-4 group-hover:text-indigo-500 transition-colors"}),o.jsx("span",{className:"text-sm font-medium",children:"Academic Progress Tracker"})]})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[o.jsxs("p",{className:"text-xs text-gray-400 font-medium flex items-center gap-1.5 opacity-70",children:["Built with ",o.jsx(S2,{className:"w-3 h-3 text-red-500 animate-pulse fill-red-500"})," for MGM University Students"]}),o.jsxs("p",{className:"text-[10px] text-gray-300 uppercase tracking-widest font-bold",children:[" ",n,"  v4.2.0  Beta-1 Stable"]})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[o.jsx("a",{href:"https://github.com/shaikhmujahid-7080",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-all duration-300",title:"GitHub - Shaikh Mujahid",children:o.jsx(T2,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>e(!0),className:"p-2 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded-full transition-all duration-300",title:"App Info",children:o.jsx(gE,{className:"w-4 h-4"})})]}),o.jsx(pI,{isOpen:t,onClose:()=>e(!1)})]})}function gI(){const[t,e]=G.useState(0),[n,s]=G.useState(5),[i,c]=G.useState(!1),u=N_(),{students:f,selectedStudent:h,isLoading:p,hasInitialized:x,selectStudent:b}=u,w=h?.role==="co-leader"&&h?.rollNo!==Me.rollNo,{subjectsConfig:_,isLoading:C}=VN(u.isAdmin,w),M=h?`academic-data-${h.rollNo}`:"academic-data-temp",[z,O]=hI(M,{}),D=h?.rollNo,{isOnline:F,isSyncing:q,lastSynced:Y,saveToFirestore:I,loadAllData:V}=mI(D);G.useEffect(()=>{let ne=!1;if(!h){O({});return}return c(!0),O({}),setTimeout(async()=>{if(!ne){if(F&&h)try{const X=await V();ne||X&&Object.keys(X).length>0&&O(X)}catch{ne||O({})}ne||c(!1)}},50),()=>{ne=!0}},[h]),G.useEffect(()=>{if(h){const ne=M0(h);ne?s(ne):h.isDSY&&s(X=>X<3?3:X),Jm(h)&&e(5),!Jm(h)&&t===5&&e(0)}},[h]);const A=async(ne,X,de="theory")=>{if(!h)return;const J=`${n}-${ne}`,ve={data:X,type:de,semester:n,subject:ne};if(O(j=>({...j,[J]:ve})),F)try{await I(n,ne,X,de)}catch(j){console.error("Error syncing to Firestore:",j)}},R=ne=>{O({});const X=M0(ne);X&&s(X),b(ne)},[k,P]=G.useState(()=>localStorage.getItem("loginTheme")||"light"),U=()=>{const ne=k==="dark"?"light":"dark";P(ne),localStorage.setItem("loginTheme",ne)};if(!h||p||!x||i||C)return o.jsxs("div",{className:`
        min-h-screen transition-colors duration-700 relative overflow-hidden flex flex-col
        ${k==="dark"?"bg-gradient-to-br from-[#0f172a] via-[#1e1b4b] to-[#312e81]":"bg-gradient-to-br from-blue-50 via-indigo-100 to-purple-100"} animate-gradient
      `,children:[o.jsx("div",{className:`
          absolute top-[-10%] right-[-10%] w-[70%] h-[70%] rounded-full blur-[120px] animate-pulse transition-colors duration-700
          ${k==="dark"?"bg-blue-500/10":"bg-blue-400/20"}
        `}),o.jsx("div",{className:`
          absolute bottom-[-10%] left-[-10%] w-[70%] h-[70%] rounded-full blur-[120px] animate-pulse delay-700 transition-colors duration-700
          ${k==="dark"?"bg-indigo-500/10":"bg-indigo-400/20"}
        `}),o.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 px-4 py-8 md:py-12",children:o.jsx(T3,{students:f,onStudentSelect:R,isLoading:p||!x,studentManagement:u,theme:k,onThemeToggle:U})}),o.jsx(v2,{})]});const E={isOnline:F,isSyncing:q,lastSynced:Y},K=()=>{b(null),localStorage.removeItem("selected-student"),O({})};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[o.jsx(S3,{semester:n,syncStatus:E,selectedStudent:h,onStudentSwitch:K,onNavigate:e}),o.jsx(A3,{activeTab:t,onTabChange:e,showDegreeTab:Jm(h),showAdminTab:h?.rollNo===Me.rollNo||h?.role==="co-leader"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:[o.jsx(Ca,{value:t,index:0,children:_&&o.jsx(kA,{semester:n,allData:z,handleDataChange:A,selectedStudent:h,subjectsConfig:_})}),o.jsx(Ca,{value:t,index:1,children:_&&o.jsx(DA,{semester:n,allData:z,handleDataChange:A,selectedStudent:h,subjectsConfig:_})}),o.jsx(Ca,{value:t,index:2,children:o.jsx(aI,{selectedStudent:h,semester:n})}),o.jsx(Ca,{value:t,index:3,children:o.jsx(lI,{selectedStudent:h})}),o.jsx(Ca,{value:t,index:4,children:o.jsx(oI,{semester:n,setSemester:s,studentManagement:u})}),o.jsx(Ca,{value:t,index:5,children:o.jsx(cI,{selectedStudent:h})}),o.jsx(Ca,{value:t,index:6,children:o.jsx(dI,{selectedStudent:h,studentManagement:u,onNavigateToTab:(ne,X)=>{e(ne)},subjectsConfig:_})}),o.jsx(Ca,{value:t,index:7,children:o.jsx(fI,{selectedStudent:h,semester:n})})]}),o.jsx(v2,{})]})}function xI({children:t}){return o.jsxs(o.Fragment,{children:[t,o.jsx(sI,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastStyle:{fontSize:"14px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"}})]})}x5.createRoot(document.getElementById("root")).render(o.jsx(wt.StrictMode,{children:o.jsx(xI,{children:o.jsx(gI,{})})}));
