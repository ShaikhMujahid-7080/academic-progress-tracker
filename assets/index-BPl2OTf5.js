(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function pf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qm={exports:{}},fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function qN(){if(M1)return fc;M1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:o}}return fc.Fragment=e,fc.jsx=n,fc.jsxs=n,fc}var O1;function HN(){return O1||(O1=1,qm.exports=qN()),qm.exports}var u=HN(),Hm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function $N(){if(V1)return qe;V1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,M={};function L(N,X,Z){this.props=N,this.context=X,this.refs=M,this.updater=Z||_}L.prototype.isReactComponent={},L.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function F(){}F.prototype=L.prototype;function B(N,X,Z){this.props=N,this.context=X,this.refs=M,this.updater=Z||_}var z=B.prototype=new F;z.constructor=B,S(z,L.prototype),z.isPureReactComponent=!0;var G=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function R(N,X,Z,C,ae,be){return Z=be.ref,{$$typeof:t,type:N,key:X,ref:Z!==void 0?Z:null,props:be}}function j(N,X){return R(N.type,X,void 0,void 0,void 0,N.props)}function O(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function A(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Z){return X[Z]})}var D=/\/+/g;function P(N,X){return typeof N=="object"&&N!==null&&N.key!=null?A(""+N.key):X.toString(36)}function k(){}function ce(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(k,k):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function pe(N,X,Z,C,ae){var be=typeof N;(be==="undefined"||be==="boolean")&&(N=null);var oe=!1;if(N===null)oe=!0;else switch(be){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(N.$$typeof){case t:case e:oe=!0;break;case x:return oe=N._init,pe(oe(N._payload),X,Z,C,ae)}}if(oe)return ae=ae(N),oe=C===""?"."+P(N,0):C,G(ae)?(Z="",oe!=null&&(Z=oe.replace(D,"$&/")+"/"),pe(ae,X,Z,"",function(it){return it})):ae!=null&&(O(ae)&&(ae=j(ae,Z+(ae.key==null||N&&N.key===ae.key?"":(""+ae.key).replace(D,"$&/")+"/")+oe)),X.push(ae)),1;oe=0;var ve=C===""?".":C+":";if(G(N))for(var Te=0;Te<N.length;Te++)C=N[Te],be=ve+P(C,Te),oe+=pe(C,X,Z,be,ae);else if(Te=w(N),typeof Te=="function")for(N=Te.call(N),Te=0;!(C=N.next()).done;)C=C.value,be=ve+P(C,Te++),oe+=pe(C,X,Z,be,ae);else if(be==="object"){if(typeof N.then=="function")return pe(ce(N),X,Z,C,ae);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return oe}function K(N,X,Z){if(N==null)return N;var C=[],ae=0;return pe(N,C,"","",function(be){return X.call(Z,be,ae++)}),C}function ue(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(Z){(N._status===0||N._status===-1)&&(N._status=1,N._result=Z)},function(Z){(N._status===0||N._status===-1)&&(N._status=2,N._result=Z)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function J(){}return qe.Children={map:K,forEach:function(N,X,Z){K(N,function(){X.apply(this,arguments)},Z)},count:function(N){var X=0;return K(N,function(){X++}),X},toArray:function(N){return K(N,function(X){return X})||[]},only:function(N){if(!O(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},qe.Component=L,qe.Fragment=n,qe.Profiler=a,qe.PureComponent=B,qe.StrictMode=s,qe.Suspense=m,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,qe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return q.H.useMemoCache(N)}},qe.cache=function(N){return function(){return N.apply(null,arguments)}},qe.cloneElement=function(N,X,Z){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var C=S({},N.props),ae=N.key,be=void 0;if(X!=null)for(oe in X.ref!==void 0&&(be=void 0),X.key!==void 0&&(ae=""+X.key),X)!U.call(X,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&X.ref===void 0||(C[oe]=X[oe]);var oe=arguments.length-2;if(oe===1)C.children=Z;else if(1<oe){for(var ve=Array(oe),Te=0;Te<oe;Te++)ve[Te]=arguments[Te+2];C.children=ve}return R(N.type,ae,void 0,void 0,be,C)},qe.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},qe.createElement=function(N,X,Z){var C,ae={},be=null;if(X!=null)for(C in X.key!==void 0&&(be=""+X.key),X)U.call(X,C)&&C!=="key"&&C!=="__self"&&C!=="__source"&&(ae[C]=X[C]);var oe=arguments.length-2;if(oe===1)ae.children=Z;else if(1<oe){for(var ve=Array(oe),Te=0;Te<oe;Te++)ve[Te]=arguments[Te+2];ae.children=ve}if(N&&N.defaultProps)for(C in oe=N.defaultProps,oe)ae[C]===void 0&&(ae[C]=oe[C]);return R(N,be,void 0,void 0,null,ae)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(N){return{$$typeof:f,render:N}},qe.isValidElement=O,qe.lazy=function(N){return{$$typeof:x,_payload:{_status:-1,_result:N},_init:ue}},qe.memo=function(N,X){return{$$typeof:p,type:N,compare:X===void 0?null:X}},qe.startTransition=function(N){var X=q.T,Z={};q.T=Z;try{var C=N(),ae=q.S;ae!==null&&ae(Z,C),typeof C=="object"&&C!==null&&typeof C.then=="function"&&C.then(J,ne)}catch(be){ne(be)}finally{q.T=X}},qe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},qe.use=function(N){return q.H.use(N)},qe.useActionState=function(N,X,Z){return q.H.useActionState(N,X,Z)},qe.useCallback=function(N,X){return q.H.useCallback(N,X)},qe.useContext=function(N){return q.H.useContext(N)},qe.useDebugValue=function(){},qe.useDeferredValue=function(N,X){return q.H.useDeferredValue(N,X)},qe.useEffect=function(N,X,Z){var C=q.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return C.useEffect(N,X)},qe.useId=function(){return q.H.useId()},qe.useImperativeHandle=function(N,X,Z){return q.H.useImperativeHandle(N,X,Z)},qe.useInsertionEffect=function(N,X){return q.H.useInsertionEffect(N,X)},qe.useLayoutEffect=function(N,X){return q.H.useLayoutEffect(N,X)},qe.useMemo=function(N,X){return q.H.useMemo(N,X)},qe.useOptimistic=function(N,X){return q.H.useOptimistic(N,X)},qe.useReducer=function(N,X,Z){return q.H.useReducer(N,X,Z)},qe.useRef=function(N){return q.H.useRef(N)},qe.useState=function(N){return q.H.useState(N)},qe.useSyncExternalStore=function(N,X,Z){return q.H.useSyncExternalStore(N,X,Z)},qe.useTransition=function(){return q.H.useTransition()},qe.version="19.1.1",qe}var P1;function up(){return P1||(P1=1,Hm.exports=$N()),Hm.exports}var Y=up();const yt=pf(Y);var $m={exports:{}},hc={},Gm={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function GN(){return L1||(L1=1,(function(t){function e(K,ue){var ne=K.length;K.push(ue);e:for(;0<ne;){var J=ne-1>>>1,N=K[J];if(0<a(N,ue))K[J]=ue,K[ne]=N,ne=J;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ue=K[0],ne=K.pop();if(ne!==ue){K[0]=ne;e:for(var J=0,N=K.length,X=N>>>1;J<X;){var Z=2*(J+1)-1,C=K[Z],ae=Z+1,be=K[ae];if(0>a(C,ne))ae<N&&0>a(be,C)?(K[J]=be,K[ae]=ne,J=ae):(K[J]=C,K[Z]=ne,J=Z);else if(ae<N&&0>a(be,ne))K[J]=be,K[ae]=ne,J=ae;else break e}}return ue}function a(K,ue){var ne=K.sortIndex-ue.sortIndex;return ne!==0?ne:K.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],x=1,b=null,w=3,_=!1,S=!1,M=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function G(K){for(var ue=n(p);ue!==null;){if(ue.callback===null)s(p);else if(ue.startTime<=K)s(p),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=n(p)}}function q(K){if(M=!1,G(K),!S)if(n(m)!==null)S=!0,U||(U=!0,P());else{var ue=n(p);ue!==null&&pe(q,ue.startTime-K)}}var U=!1,R=-1,j=5,O=-1;function A(){return L?!0:!(t.unstable_now()-O<j)}function D(){if(L=!1,U){var K=t.unstable_now();O=K;var ue=!0;try{e:{S=!1,M&&(M=!1,B(R),R=-1),_=!0;var ne=w;try{t:{for(G(K),b=n(m);b!==null&&!(b.expirationTime>K&&A());){var J=b.callback;if(typeof J=="function"){b.callback=null,w=b.priorityLevel;var N=J(b.expirationTime<=K);if(K=t.unstable_now(),typeof N=="function"){b.callback=N,G(K),ue=!0;break t}b===n(m)&&s(m),G(K)}else s(m);b=n(m)}if(b!==null)ue=!0;else{var X=n(p);X!==null&&pe(q,X.startTime-K),ue=!1}}break e}finally{b=null,w=ne,_=!1}ue=void 0}}finally{ue?P():U=!1}}}var P;if(typeof z=="function")P=function(){z(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ce=k.port2;k.port1.onmessage=D,P=function(){ce.postMessage(null)}}else P=function(){F(D,0)};function pe(K,ue){R=F(function(){K(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var ne=w;w=ue;try{return K()}finally{w=ne}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=w;w=K;try{return ue()}finally{w=ne}},t.unstable_scheduleCallback=function(K,ue,ne){var J=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?J+ne:J):ne=J,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ne+N,K={id:x++,callback:ue,priorityLevel:K,startTime:ne,expirationTime:N,sortIndex:-1},ne>J?(K.sortIndex=ne,e(p,K),n(m)===null&&K===n(p)&&(M?(B(R),R=-1):M=!0,pe(q,ne-J))):(K.sortIndex=N,e(m,K),S||_||(S=!0,U||(U=!0,P()))),K},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(K){var ue=w;return function(){var ne=w;w=ue;try{return K.apply(this,arguments)}finally{w=ne}}}})(Ym)),Ym}var z1;function YN(){return z1||(z1=1,Gm.exports=GN()),Gm.exports}var Qm={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function QN(){if(U1)return Cn;U1=1;var t=up();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(m,p,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Cn.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(m,p,null,x)},Cn.flushSync=function(m){var p=c.T,x=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=x,s.d.f()}},Cn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Cn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Cn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,b=f(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:_}):x==="script"&&s.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Cn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Cn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,b=f(x,p.crossOrigin);s.d.L(m,x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Cn.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Cn.requestFormReset=function(m){s.d.r(m)},Cn.unstable_batchedUpdates=function(m,p){return m(p)},Cn.useFormState=function(m,p,x){return c.H.useFormState(m,p,x)},Cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Cn.version="19.1.1",Cn}var B1;function XN(){if(B1)return Qm.exports;B1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qm.exports=QN(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function KN(){if(F1)return hc;F1=1;var t=YN(),e=up(),n=XN();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var l=r,d=i;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return f(g),r;if(y===d)return f(g),i;y=y.sibling}throw Error(s(188))}if(l.return!==d.return)l=g,d=y;else{for(var T=!1,I=g.child;I;){if(I===l){T=!0,l=g,d=y;break}if(I===d){T=!0,d=g,l=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===l){T=!0,l=y,d=g;break}if(I===d){T=!0,d=y,l=g;break}I=I.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function ce(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case q:return"Suspense";case U:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case z:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case G:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return i=r.displayName||null,i!==null?i:ce(r.type)||"Memo";case j:i=r._payload,r=r._init;try{return ce(r(i))}catch{}}return null}var pe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},J=[],N=-1;function X(r){return{current:r}}function Z(r){0>N||(r.current=J[N],J[N]=null,N--)}function C(r,i){N++,J[N]=r.current,r.current=i}var ae=X(null),be=X(null),oe=X(null),ve=X(null);function Te(r,i){switch(C(oe,i),C(be,r),C(ae,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?o1(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=o1(i),r=c1(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(ae),C(ae,r)}function it(){Z(ae),Z(be),Z(oe)}function lt(r){r.memoizedState!==null&&C(ve,r);var i=ae.current,l=c1(i,r.type);i!==l&&(C(be,r),C(ae,l))}function _e(r){be.current===r&&(Z(ae),Z(be)),ve.current===r&&(Z(ve),lc._currentValue=ne)}var dt=Object.prototype.hasOwnProperty,bt=t.unstable_scheduleCallback,rn=t.unstable_cancelCallback,hn=t.unstable_shouldYield,Fr=t.unstable_requestPaint,It=t.unstable_now,qr=t.unstable_getCurrentPriorityLevel,dr=t.unstable_ImmediatePriority,Hn=t.unstable_UserBlockingPriority,fr=t.unstable_NormalPriority,Yi=t.unstable_LowPriority,hr=t.unstable_IdlePriority,$n=t.log,ys=t.unstable_setDisableYieldValue,se=null,ge=null;function ke(r){if(typeof $n=="function"&&ys(r),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(se,r)}catch{}}var De=Math.clz32?Math.clz32:sn,$e=Math.log,mn=Math.LN2;function sn(r){return r>>>=0,r===0?32:31-($e(r)/mn|0)|0}var Zt=256,Sn=4194304;function Ft(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ct(r,i,l){var d=r.pendingLanes;if(d===0)return 0;var g=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var I=d&134217727;return I!==0?(d=I&~y,d!==0?g=Ft(d):(T&=I,T!==0?g=Ft(T):l||(l=I&~r,l!==0&&(g=Ft(l))))):(I=d&~y,I!==0?g=Ft(I):T!==0?g=Ft(T):l||(l=d&~r,l!==0&&(g=Ft(l)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:g}function An(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function pn(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(){var r=Zt;return Zt<<=1,(Zt&4194048)===0&&(Zt=256),r}function Xi(){var r=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),r}function kr(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Rr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ki(r,i,l,d,g,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var I=r.entanglements,H=r.expirationTimes,te=r.hiddenUpdates;for(l=T&~l;0<l;){var fe=31-De(l),xe=1<<fe;I[fe]=0,H[fe]=-1;var re=te[fe];if(re!==null)for(te[fe]=null,fe=0;fe<re.length;fe++){var ie=re[fe];ie!==null&&(ie.lane&=-536870913)}l&=~xe}d!==0&&mr(r,d,0),y!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~i))}function mr(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var d=31-De(i);r.entangledLanes|=i,r.entanglements[d]=r.entanglements[d]|1073741824|l&4194090}function Zi(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var d=31-De(l),g=1<<d;g&i|r[d]&i&&(r[d]|=i),l&=~g}}function Dr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function bs(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Hr(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:j1(r.type))}function Ga(r,i){var l=ue.p;try{return ue.p=r,i()}finally{ue.p=l}}var _t=Math.random().toString(36).slice(2),Nt="__reactFiber$"+_t,de="__reactProps$"+_t,Ue="__reactContainer$"+_t,At="__reactEvents$"+_t,Ji="__reactListeners$"+_t,ti="__reactHandles$"+_t,uu="__reactResources$"+_t,Wi="__reactMarker$"+_t;function ni(r){delete r[Nt],delete r[de],delete r[At],delete r[Ji],delete r[ti]}function vs(r){var i=r[Nt];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Ue]||l[Nt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=h1(r);r!==null;){if(l=r[Nt])return l;r=h1(r)}return i}r=l,l=r.parentNode}return null}function $r(r){if(r=r[Nt]||r[Ue]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Gr(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Vn(r){var i=r[uu];return i||(i=r[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Lt(r){r[Wi]=!0}var ho=new Set,Ya={};function Ir(r,i){ws(r,i),ws(r+"Capture",i)}function ws(r,i){for(Ya[r]=i,r=0;r<i.length;r++)ho.add(i[r])}var du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fu={},ea={};function hu(r){return dt.call(ea,r)?!0:dt.call(fu,r)?!1:du.test(r)?ea[r]=!0:(fu[r]=!0,!1)}function ri(r,i,l){if(hu(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function Yr(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function gn(r,i,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+d)}}var ta,mu;function _s(r){if(ta===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);ta=i&&i[1]||"",mu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+r+mu}var Qa=!1;function Xa(r,i){if(!r||Qa)return"";Qa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ie){var re=ie}Reflect.construct(r,[],xe)}else{try{xe.call()}catch(ie){re=ie}r.call(xe.prototype)}}else{try{throw Error()}catch(ie){re=ie}(xe=r())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var H=T.split(`
`),te=I.split(`
`);for(g=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(d===H.length||g===te.length)for(d=H.length-1,g=te.length-1;1<=d&&0<=g&&H[d]!==te[g];)g--;for(;1<=d&&0<=g;d--,g--)if(H[d]!==te[g]){if(d!==1||g!==1)do if(d--,g--,0>g||H[d]!==te[g]){var fe=`
`+H[d].replace(" at new "," at ");return r.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",r.displayName)),fe}while(1<=d&&0<=g);break}}}finally{Qa=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?_s(l):""}function mo(r){switch(r.tag){case 26:case 27:case 5:return _s(r.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 15:return Xa(r.type,!1);case 11:return Xa(r.type.render,!1);case 1:return Xa(r.type,!0);case 31:return _s("Activity");default:return""}}function Ka(r){try{var i="";do i+=mo(r),r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function po(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yf(r){var i=po(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Za(r){r._valueTracker||(r._valueTracker=Yf(r))}function go(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return r&&(d=po(r)?r.checked?"true":"false":r.value),r=d,r!==l?(i.setValue(r),!0):!1}function na(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Qf=/[\n"\\]/g;function qt(r){return r.replace(Qf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function er(r,i,l,d,g,y,T,I){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Pn(i)):r.value!==""+Pn(i)&&(r.value=""+Pn(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?si(r,T,Pn(i)):l!=null?si(r,T,Pn(l)):d!=null&&r.removeAttribute("value"),g==null&&y!=null&&(r.defaultChecked=!!y),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+Pn(I):r.removeAttribute("name")}function ra(r,i,l,d,g,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;l=l!=null?""+Pn(l):"",i=i!=null?""+Pn(i):l,I||i===r.value||(r.value=i),r.defaultValue=i}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=I?r.checked:!!d,r.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function si(r,i,l){i==="number"&&na(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Ns(r,i,l,d){if(r=r.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=i.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Pn(l),i=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function mt(r,i,l){if(i!=null&&(i=""+Pn(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+Pn(l):""}function sa(r,i,l,d){if(i==null){if(d!=null){if(l!=null)throw Error(s(92));if(pe(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),i=l}l=Pn(i),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d)}function pr(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(r,i,l){var d=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":d?r.setProperty(i,l):typeof l!="number"||l===0||ia.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function xo(r,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&l[g]!==d&&pu(r,g,d)}else for(var y in i)i.hasOwnProperty(y)&&pu(r,y,i[y])}function yo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(r){return Kf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Es=null;function gr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ts=null,Ss=null;function bo(r){var i=$r(r);if(i&&(r=i.stateNode)){var l=r[de]||null;e:switch(r=i.stateNode,i.type){case"input":if(er(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qt(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==r&&d.form===r.form){var g=d[de]||null;if(!g)throw Error(s(90));er(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)d=l[i],d.form===r.form&&go(d)}break e;case"textarea":mt(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Ns(r,!!l.multiple,i,!1)}}}var Qr=!1;function gu(r,i,l){if(Qr)return r(i,l);Qr=!0;try{var d=r(i);return d}finally{if(Qr=!1,(Ts!==null||Ss!==null)&&(cd(),Ts&&(i=Ts,r=Ss,Ss=Ts=null,bo(i),r)))for(i=0;i<r.length;i++)bo(r[i])}}function aa(r,i){var l=r.stateNode;if(l===null)return null;var d=l[de]||null;if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(Mr)try{var la={};Object.defineProperty(la,"passive",{get:function(){xr=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{xr=!1}var Xr=null,ii=null,As=null;function vo(){if(As)return As;var r,i=ii,l=i.length,d,g="value"in Xr?Xr.value:Xr.textContent,y=g.length;for(r=0;r<l&&i[r]===g[r];r++);var T=l-r;for(d=1;d<=T&&i[l-d]===g[y-d];d++);return As=g.slice(r,1<d?1-d:void 0)}function Kr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Zr(){return!0}function wo(){return!1}function an(r){function i(l,d,g,y,T){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(l=r[I],this[I]=l?l(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Zr:wo,this.isPropagationStopped=wo,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),i}var ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=an(ct),oa=x({},ct,{view:0,detail:0}),xu=an(oa),el,tl,Jr,ca=x({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jr&&(Jr&&r.type==="mousemove"?(el=r.screenX-Jr.screenX,tl=r.screenY-Jr.screenY):tl=el=0,Jr=r),el)},movementY:function(r){return"movementY"in r?r.movementY:tl}}),yr=an(ca),yu=x({},ca,{dataTransfer:0}),Zf=an(yu),ua=x({},oa,{relatedTarget:0}),nl=an(ua),_o=x({},ct,{animationName:0,elapsedTime:0,pseudoElement:0}),rl=an(_o),bu=x({},ct,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),sl=an(bu),Jf=x({},ct,{data:0}),No=an(Jf),da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eo(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=wu[r])?!!i[r]:!1}function fa(){return Eo}var _u=x({},oa,{key:function(r){if(r.key){var i=da[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Kr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(r){return r.type==="keypress"?Kr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Kr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),il=an(_u),Nu=x({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),To=an(Nu),js=x({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),Eu=an(js),Tu=x({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=an(Tu),Au=x({},ca,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),al=an(Au),Ln=x({},ct,{newState:0,oldState:0}),ju=an(Ln),Cu=[9,13,27,32],Wr=Mr&&"CompositionEvent"in window,h=null;Mr&&"documentMode"in document&&(h=document.documentMode);var v=Mr&&"TextEvent"in window&&!h,E=Mr&&(!Wr||h&&8<h&&11>=h),V=" ",W=!1;function le(r,i){switch(r){case"keyup":return Cu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ne(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var We=!1;function Jt(r,i){switch(r){case"compositionend":return Ne(i);case"keypress":return i.which!==32?null:(W=!0,V);case"textInput":return r=i.data,r===V&&W?null:r;default:return null}}function et(r,i){if(We)return r==="compositionend"||!Wr&&le(r,i)?(r=vo(),As=ii=Xr=null,We=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ln[r.type]:i==="textarea"}function Cs(r,i,l,d){Ts?Ss?Ss.push(d):Ss=[d]:Ts=d,i=pd(i,"onChange"),0<i.length&&(l=new Wa("onChange","change",null,l,d),r.push({event:l,listeners:i}))}var xn=null,es=null;function So(r){r1(r,0)}function ku(r){var i=Gr(r);if(go(i))return r}function Eg(r,i){if(r==="change")return i}var Tg=!1;if(Mr){var Wf;if(Mr){var eh="oninput"in document;if(!eh){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),eh=typeof Sg.oninput=="function"}Wf=eh}else Wf=!1;Tg=Wf&&(!document.documentMode||9<document.documentMode)}function Ag(){xn&&(xn.detachEvent("onpropertychange",jg),es=xn=null)}function jg(r){if(r.propertyName==="value"&&ku(es)){var i=[];Cs(i,es,r,gr(r)),gu(So,i)}}function b4(r,i,l){r==="focusin"?(Ag(),xn=i,es=l,xn.attachEvent("onpropertychange",jg)):r==="focusout"&&Ag()}function v4(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ku(es)}function w4(r,i){if(r==="click")return ku(i)}function _4(r,i){if(r==="input"||r==="change")return ku(i)}function N4(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var tr=typeof Object.is=="function"?Object.is:N4;function Ao(r,i){if(tr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!dt.call(i,g)||!tr(r[g],i[g]))return!1}return!0}function Cg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function kg(r,i){var l=Cg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=i&&d>=i)return{node:l,offset:i-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Cg(l)}}function Rg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Rg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Dg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=na(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=na(r.document)}return i}function th(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var E4=Mr&&"documentMode"in document&&11>=document.documentMode,ll=null,nh=null,jo=null,rh=!1;function Ig(r,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rh||ll==null||ll!==na(d)||(d=ll,"selectionStart"in d&&th(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),jo&&Ao(jo,d)||(jo=d,d=pd(nh,"onSelect"),0<d.length&&(i=new Wa("onSelect","select",null,i,l),r.push({event:i,listeners:d}),i.target=ll)))}function ha(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var ol={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},sh={},Mg={};Mr&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function ma(r){if(sh[r])return sh[r];if(!ol[r])return r;var i=ol[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Mg)return sh[r]=i[l];return r}var Og=ma("animationend"),Vg=ma("animationiteration"),Pg=ma("animationstart"),T4=ma("transitionrun"),S4=ma("transitionstart"),A4=ma("transitioncancel"),Lg=ma("transitionend"),zg=new Map,ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ih.push("scrollEnd");function Or(r,i){zg.set(r,i),Ir(i,[r])}var Ug=new WeakMap;function br(r,i){if(typeof r=="object"&&r!==null){var l=Ug.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Ka(i)},Ug.set(r,i),i)}return{value:r,source:i,stack:Ka(i)}}var vr=[],cl=0,ah=0;function Ru(){for(var r=cl,i=ah=cl=0;i<r;){var l=vr[i];vr[i++]=null;var d=vr[i];vr[i++]=null;var g=vr[i];vr[i++]=null;var y=vr[i];if(vr[i++]=null,d!==null&&g!==null){var T=d.pending;T===null?g.next=g:(g.next=T.next,T.next=g),d.pending=g}y!==0&&Bg(l,g,y)}}function Du(r,i,l,d){vr[cl++]=r,vr[cl++]=i,vr[cl++]=l,vr[cl++]=d,ah|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function lh(r,i,l,d){return Du(r,i,l,d),Iu(r)}function ul(r,i){return Du(r,null,null,i),Iu(r)}function Bg(r,i,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var g=!1,y=r.return;y!==null;)y.childLanes|=l,d=y.alternate,d!==null&&(d.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(g=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,g&&i!==null&&(g=31-De(l),r=y.hiddenUpdates,d=r[g],d===null?r[g]=[i]:d.push(i),i.lane=l|536870912),y):null}function Iu(r){if(50<Wo)throw Wo=0,hm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var dl={};function j4(r,i,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(r,i,l,d){return new j4(r,i,l,d)}function oh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ks(r,i){var l=r.alternate;return l===null?(l=nr(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Fg(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Mu(r,i,l,d,g,y){var T=0;if(d=r,typeof r=="function")oh(r)&&(T=1);else if(typeof r=="string")T=kN(r,l,ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case O:return r=nr(31,l,i,g),r.elementType=O,r.lanes=y,r;case S:return pa(l.children,g,y,i);case M:T=8,g|=24;break;case L:return r=nr(12,l,i,g|2),r.elementType=L,r.lanes=y,r;case q:return r=nr(13,l,i,g),r.elementType=q,r.lanes=y,r;case U:return r=nr(19,l,i,g),r.elementType=U,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case z:T=10;break e;case B:T=9;break e;case G:T=11;break e;case R:T=14;break e;case j:T=16,d=null;break e}T=29,l=Error(s(130,r===null?"null":typeof r,"")),d=null}return i=nr(T,l,i,g),i.elementType=r,i.type=d,i.lanes=y,i}function pa(r,i,l,d){return r=nr(7,r,d,i),r.lanes=l,r}function ch(r,i,l){return r=nr(6,r,null,i),r.lanes=l,r}function uh(r,i,l){return i=nr(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var fl=[],hl=0,Ou=null,Vu=0,wr=[],_r=0,ga=null,Rs=1,Ds="";function xa(r,i){fl[hl++]=Vu,fl[hl++]=Ou,Ou=r,Vu=i}function qg(r,i,l){wr[_r++]=Rs,wr[_r++]=Ds,wr[_r++]=ga,ga=r;var d=Rs;r=Ds;var g=32-De(d)-1;d&=~(1<<g),l+=1;var y=32-De(i)+g;if(30<y){var T=g-g%5;y=(d&(1<<T)-1).toString(32),d>>=T,g-=T,Rs=1<<32-De(i)+g|l<<g|d,Ds=y+r}else Rs=1<<y|l<<g|d,Ds=r}function dh(r){r.return!==null&&(xa(r,1),qg(r,1,0))}function fh(r){for(;r===Ou;)Ou=fl[--hl],fl[hl]=null,Vu=fl[--hl],fl[hl]=null;for(;r===ga;)ga=wr[--_r],wr[_r]=null,Ds=wr[--_r],wr[_r]=null,Rs=wr[--_r],wr[_r]=null}var zn=null,Mt=null,ot=!1,ya=null,ts=!1,hh=Error(s(519));function ba(r){var i=Error(s(418,""));throw Ro(br(i,r)),hh}function Hg(r){var i=r.stateNode,l=r.type,d=r.memoizedProps;switch(i[Nt]=r,i[de]=d,l){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(l=0;l<tc.length;l++)Xe(tc[l],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),ra(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Za(i);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),sa(i,d.value,d.defaultValue,d.children),Za(i)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||d.suppressHydrationWarning===!0||l1(i.textContent,l)?(d.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),d.onScroll!=null&&Xe("scroll",i),d.onScrollEnd!=null&&Xe("scrollend",i),d.onClick!=null&&(i.onclick=gd),i=!0):i=!1,i||ba(r)}function $g(r){for(zn=r.return;zn;)switch(zn.tag){case 5:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:zn=zn.return}}function Co(r){if(r!==zn)return!1;if(!ot)return $g(r),ot=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Cm(r.type,r.memoizedProps)),l=!l),l&&Mt&&ba(r),$g(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(i===0){Mt=Pr(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;r=r.nextSibling}Mt=null}}else i===27?(i=Mt,wi(r.type)?(r=Im,Im=null,Mt=r):Mt=i):Mt=zn?Pr(r.stateNode.nextSibling):null;return!0}function ko(){Mt=zn=null,ot=!1}function Gg(){var r=ya;return r!==null&&(Qn===null?Qn=r:Qn.push.apply(Qn,r),ya=null),r}function Ro(r){ya===null?ya=[r]:ya.push(r)}var mh=X(null),va=null,Is=null;function ai(r,i,l){C(mh,i._currentValue),i._currentValue=l}function Ms(r){r._currentValue=mh.current,Z(mh)}function ph(r,i,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===l)break;r=r.return}}function gh(r,i,l,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var y=g.dependencies;if(y!==null){var T=g.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=g;for(var H=0;H<i.length;H++)if(I.context===i[H]){y.lanes|=l,I=y.alternate,I!==null&&(I.lanes|=l),ph(y.return,l,r),d||(T=null);break e}y=I.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(s(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),ph(T,l,r),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===r){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function Do(r,i,l,d){r=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var I=g.type;tr(g.pendingProps.value,T.value)||(r!==null?r.push(I):r=[I])}}else if(g===ve.current){if(T=g.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(lc):r=[lc])}g=g.return}r!==null&&gh(i,r,l,d),i.flags|=262144}function Pu(r){for(r=r.firstContext;r!==null;){if(!tr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function wa(r){va=r,Is=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function jn(r){return Yg(va,r)}function Lu(r,i){return va===null&&wa(r),Yg(r,i)}function Yg(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Is===null){if(r===null)throw Error(s(308));Is=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Is=Is.next=i;return l}var C4=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},k4=t.unstable_scheduleCallback,R4=t.unstable_NormalPriority,en={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xh(){return{controller:new C4,data:new Map,refCount:0}}function Io(r){r.refCount--,r.refCount===0&&k4(R4,function(){r.controller.abort()})}var Mo=null,yh=0,ml=0,pl=null;function D4(r,i){if(Mo===null){var l=Mo=[];yh=0,ml=vm(),pl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return yh++,i.then(Qg,Qg),i}function Qg(){if(--yh===0&&Mo!==null){pl!==null&&(pl.status="fulfilled");var r=Mo;Mo=null,ml=0,pl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function I4(r,i){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var Xg=K.S;K.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&D4(r,i),Xg!==null&&Xg(r,i)};var _a=X(null);function bh(){var r=_a.current;return r!==null?r:Et.pooledCache}function zu(r,i){i===null?C(_a,_a.current):C(_a,i.pool)}function Kg(){var r=bh();return r===null?null:{parent:en._currentValue,pool:r}}var Oo=Error(s(460)),Zg=Error(s(474)),Uu=Error(s(542)),vh={then:function(){}};function Jg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Bu(){}function Wg(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(Bu,Bu),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,tx(r),r;default:if(typeof i.status=="string")i.then(Bu,Bu);else{if(r=Et,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,tx(r),r}throw Vo=i,Oo}}var Vo=null;function ex(){if(Vo===null)throw Error(s(459));var r=Vo;return Vo=null,r}function tx(r){if(r===Oo||r===Uu)throw Error(s(483))}var li=!1;function wh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function oi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ci(r,i,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(ft&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=Iu(r),Bg(r,null,l),i}return Du(r,d,i,l),Iu(r)}function Po(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,Zi(r,l)}}function Nh(r,i){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?g=y=i:y=y.next=i}else g=y=i;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Eh=!1;function Lo(){if(Eh){var r=pl;if(r!==null)throw r}}function zo(r,i,l,d){Eh=!1;var g=r.updateQueue;li=!1;var y=g.firstBaseUpdate,T=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var H=I,te=H.next;H.next=null,T===null?y=te:T.next=te,T=H;var fe=r.alternate;fe!==null&&(fe=fe.updateQueue,I=fe.lastBaseUpdate,I!==T&&(I===null?fe.firstBaseUpdate=te:I.next=te,fe.lastBaseUpdate=H))}if(y!==null){var xe=g.baseState;T=0,fe=te=H=null,I=y;do{var re=I.lane&-536870913,ie=re!==I.lane;if(ie?(tt&re)===re:(d&re)===re){re!==0&&re===ml&&(Eh=!0),fe!==null&&(fe=fe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ze=r,Oe=I;re=i;var xt=l;switch(Oe.tag){case 1:if(ze=Oe.payload,typeof ze=="function"){xe=ze.call(xt,xe,re);break e}xe=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Oe.payload,re=typeof ze=="function"?ze.call(xt,xe,re):ze,re==null)break e;xe=x({},xe,re);break e;case 2:li=!0}}re=I.callback,re!==null&&(r.flags|=64,ie&&(r.flags|=8192),ie=g.callbacks,ie===null?g.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:I.tag,payload:I.payload,callback:I.callback,next:null},fe===null?(te=fe=ie,H=xe):fe=fe.next=ie,T|=re;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;ie=I,I=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);fe===null&&(H=xe),g.baseState=H,g.firstBaseUpdate=te,g.lastBaseUpdate=fe,y===null&&(g.shared.lanes=0),xi|=T,r.lanes=T,r.memoizedState=xe}}function nx(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function rx(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)nx(l[r],i)}var gl=X(null),Fu=X(0);function sx(r,i){r=Bs,C(Fu,r),C(gl,i),Bs=r|i.baseLanes}function Th(){C(Fu,Bs),C(gl,gl.current)}function Sh(){Bs=Fu.current,Z(gl),Z(Fu)}var ui=0,Ge=null,pt=null,Ht=null,qu=!1,xl=!1,Na=!1,Hu=0,Uo=0,yl=null,M4=0;function zt(){throw Error(s(321))}function Ah(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!tr(r[l],i[l]))return!1;return!0}function jh(r,i,l,d,g,y){return ui=y,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=r===null||r.memoizedState===null?Bx:Fx,Na=!1,y=l(d,g),Na=!1,xl&&(y=ax(i,l,d,g)),ix(r),y}function ix(r){K.H=Ku;var i=pt!==null&&pt.next!==null;if(ui=0,Ht=pt=Ge=null,qu=!1,Uo=0,yl=null,i)throw Error(s(300));r===null||on||(r=r.dependencies,r!==null&&Pu(r)&&(on=!0))}function ax(r,i,l,d){Ge=r;var g=0;do{if(xl&&(yl=null),Uo=0,xl=!1,25<=g)throw Error(s(301));if(g+=1,Ht=pt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=B4,y=i(l,d)}while(xl);return y}function O4(){var r=K.H,i=r.useState()[0];return i=typeof i.then=="function"?Bo(i):i,r=r.useState()[0],(pt!==null?pt.memoizedState:null)!==r&&(Ge.flags|=1024),i}function Ch(){var r=Hu!==0;return Hu=0,r}function kh(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function Rh(r){if(qu){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qu=!1}ui=0,Ht=pt=Ge=null,xl=!1,Uo=Hu=0,yl=null}function Gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ge.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function $t(){if(pt===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var i=Ht===null?Ge.memoizedState:Ht.next;if(i!==null)Ht=i,pt=r;else{if(r===null)throw Ge.alternate===null?Error(s(467)):Error(s(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ht===null?Ge.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(r){var i=Uo;return Uo+=1,yl===null&&(yl=[]),r=Wg(yl,r,i),i=Ge,(Ht===null?i.memoizedState:Ht.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Bx:Fx),r}function $u(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Bo(r);if(r.$$typeof===z)return jn(r)}throw Error(s(438,String(r)))}function Ih(r){var i=null,l=Ge.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var d=Ge.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Dh(),Ge.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),d=0;d<r;d++)l[d]=A;return i.index++,l}function Os(r,i){return typeof i=="function"?i(r):i}function Gu(r){var i=$t();return Mh(i,pt,r)}function Mh(r,i,l){var d=r.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var g=r.baseQueue,y=d.pending;if(y!==null){if(g!==null){var T=g.next;g.next=y.next,y.next=T}i.baseQueue=g=y,d.pending=null}if(y=r.baseState,g===null)r.memoizedState=y;else{i=g.next;var I=T=null,H=null,te=i,fe=!1;do{var xe=te.lane&-536870913;if(xe!==te.lane?(tt&xe)===xe:(ui&xe)===xe){var re=te.revertLane;if(re===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),xe===ml&&(fe=!0);else if((ui&re)===re){te=te.next,re===ml&&(fe=!0);continue}else xe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(I=H=xe,T=y):H=H.next=xe,Ge.lanes|=re,xi|=re;xe=te.action,Na&&l(y,xe),y=te.hasEagerState?te.eagerState:l(y,xe)}else re={lane:xe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(I=H=re,T=y):H=H.next=re,Ge.lanes|=xe,xi|=xe;te=te.next}while(te!==null&&te!==i);if(H===null?T=y:H.next=I,!tr(y,r.memoizedState)&&(on=!0,fe&&(l=pl,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=H,d.lastRenderedState=y}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Oh(r){var i=$t(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var d=l.dispatch,g=l.pending,y=i.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do y=r(y,T.action),T=T.next;while(T!==g);tr(y,i.memoizedState)||(on=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,d]}function lx(r,i,l){var d=Ge,g=$t(),y=ot;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=i();var T=!tr((pt||g).memoizedState,l);T&&(g.memoizedState=l,on=!0),g=g.queue;var I=ux.bind(null,d,g,r);if(Fo(2048,8,I,[r]),g.getSnapshot!==i||T||Ht!==null&&Ht.memoizedState.tag&1){if(d.flags|=2048,bl(9,Yu(),cx.bind(null,d,g,l,i),null),Et===null)throw Error(s(349));y||(ui&124)!==0||ox(d,i,l)}return l}function ox(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ge.updateQueue,i===null?(i=Dh(),Ge.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function cx(r,i,l,d){i.value=l,i.getSnapshot=d,dx(i)&&fx(r)}function ux(r,i,l){return l(function(){dx(i)&&fx(r)})}function dx(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!tr(r,l)}catch{return!0}}function fx(r){var i=ul(r,2);i!==null&&lr(i,r,2)}function Vh(r){var i=Gn();if(typeof r=="function"){var l=r;if(r=l(),Na){ke(!0);try{l()}finally{ke(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:r},i}function hx(r,i,l,d){return r.baseState=l,Mh(r,pt,typeof d=="function"?d:Os)}function V4(r,i,l,d,g){if(Xu(r))throw Error(s(485));if(r=i.action,r!==null){var y={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};K.T!==null?l(!0):y.isTransition=!1,d(y),l=i.pending,l===null?(y.next=i.pending=y,mx(i,y)):(y.next=l.next,i.pending=l.next=y)}}function mx(r,i){var l=i.action,d=i.payload,g=r.state;if(i.isTransition){var y=K.T,T={};K.T=T;try{var I=l(g,d),H=K.S;H!==null&&H(T,I),px(r,i,I)}catch(te){Ph(r,i,te)}finally{K.T=y}}else try{y=l(g,d),px(r,i,y)}catch(te){Ph(r,i,te)}}function px(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){gx(r,i,d)},function(d){return Ph(r,i,d)}):gx(r,i,l)}function gx(r,i,l){i.status="fulfilled",i.value=l,xx(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,mx(r,l)))}function Ph(r,i,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=l,xx(i),i=i.next;while(i!==d)}r.action=null}function xx(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function yx(r,i){return i}function bx(r,i){if(ot){var l=Et.formState;if(l!==null){e:{var d=Ge;if(ot){if(Mt){t:{for(var g=Mt,y=ts;g.nodeType!==8;){if(!y){g=null;break t}if(g=Pr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Mt=Pr(g.nextSibling),d=g.data==="F!";break e}}ba(d)}d=!1}d&&(i=l[0])}}return l=Gn(),l.memoizedState=l.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yx,lastRenderedState:i},l.queue=d,l=Lx.bind(null,Ge,d),d.dispatch=l,d=Vh(!1),y=Fh.bind(null,Ge,!1,d.queue),d=Gn(),g={state:i,dispatch:null,action:r,pending:null},d.queue=g,l=V4.bind(null,Ge,g,y,l),g.dispatch=l,d.memoizedState=r,[i,l,!1]}function vx(r){var i=$t();return wx(i,pt,r)}function wx(r,i,l){if(i=Mh(r,i,yx)[0],r=Gu(Os)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Bo(i)}catch(T){throw T===Oo?Uu:T}else d=i;i=$t();var g=i.queue,y=g.dispatch;return l!==i.memoizedState&&(Ge.flags|=2048,bl(9,Yu(),P4.bind(null,g,l),null)),[d,y,r]}function P4(r,i){r.action=i}function _x(r){var i=$t(),l=pt;if(l!==null)return wx(i,l,r);$t(),i=i.memoizedState,l=$t();var d=l.queue.dispatch;return l.memoizedState=r,[i,d,!1]}function bl(r,i,l,d){return r={tag:r,create:l,deps:d,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=Dh(),Ge.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,i.lastEffect=r),r}function Yu(){return{destroy:void 0,resource:void 0}}function Nx(){return $t().memoizedState}function Qu(r,i,l,d){var g=Gn();d=d===void 0?null:d,Ge.flags|=r,g.memoizedState=bl(1|i,Yu(),l,d)}function Fo(r,i,l,d){var g=$t();d=d===void 0?null:d;var y=g.memoizedState.inst;pt!==null&&d!==null&&Ah(d,pt.memoizedState.deps)?g.memoizedState=bl(i,y,l,d):(Ge.flags|=r,g.memoizedState=bl(1|i,y,l,d))}function Ex(r,i){Qu(8390656,8,r,i)}function Tx(r,i){Fo(2048,8,r,i)}function Sx(r,i){return Fo(4,2,r,i)}function Ax(r,i){return Fo(4,4,r,i)}function jx(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Cx(r,i,l){l=l!=null?l.concat([r]):null,Fo(4,4,jx.bind(null,i,r),l)}function Lh(){}function kx(r,i){var l=$t();i=i===void 0?null:i;var d=l.memoizedState;return i!==null&&Ah(i,d[1])?d[0]:(l.memoizedState=[r,i],r)}function Rx(r,i){var l=$t();i=i===void 0?null:i;var d=l.memoizedState;if(i!==null&&Ah(i,d[1]))return d[0];if(d=r(),Na){ke(!0);try{r()}finally{ke(!1)}}return l.memoizedState=[d,i],d}function zh(r,i,l){return l===void 0||(ui&1073741824)!==0?r.memoizedState=i:(r.memoizedState=l,r=My(),Ge.lanes|=r,xi|=r,l)}function Dx(r,i,l,d){return tr(l,i)?l:gl.current!==null?(r=zh(r,l,d),tr(r,i)||(on=!0),r):(ui&42)===0?(on=!0,r.memoizedState=l):(r=My(),Ge.lanes|=r,xi|=r,i)}function Ix(r,i,l,d,g){var y=ue.p;ue.p=y!==0&&8>y?y:8;var T=K.T,I={};K.T=I,Fh(r,!1,i,l);try{var H=g(),te=K.S;if(te!==null&&te(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var fe=I4(H,d);qo(r,i,fe,ar(r))}else qo(r,i,d,ar(r))}catch(xe){qo(r,i,{then:function(){},status:"rejected",reason:xe},ar())}finally{ue.p=y,K.T=T}}function L4(){}function Uh(r,i,l,d){if(r.tag!==5)throw Error(s(476));var g=Mx(r).queue;Ix(r,g,i,ne,l===null?L4:function(){return Ox(r),l(d)})}function Mx(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:ne},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Ox(r){var i=Mx(r).next.queue;qo(r,i,{},ar())}function Bh(){return jn(lc)}function Vx(){return $t().memoizedState}function Px(){return $t().memoizedState}function z4(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=ar();r=oi(l);var d=ci(i,r,l);d!==null&&(lr(d,i,l),Po(d,i,l)),i={cache:xh()},r.payload=i;return}i=i.return}}function U4(r,i,l){var d=ar();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(r)?zx(i,l):(l=lh(r,i,l,d),l!==null&&(lr(l,r,d),Ux(l,i,d)))}function Lx(r,i,l){var d=ar();qo(r,i,l,d)}function qo(r,i,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xu(r))zx(i,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,I=y(T,l);if(g.hasEagerState=!0,g.eagerState=I,tr(I,T))return Du(r,i,g,0),Et===null&&Ru(),!1}catch{}finally{}if(l=lh(r,i,g,d),l!==null)return lr(l,r,d),Ux(l,i,d),!0}return!1}function Fh(r,i,l,d){if(d={lane:2,revertLane:vm(),action:d,hasEagerState:!1,eagerState:null,next:null},Xu(r)){if(i)throw Error(s(479))}else i=lh(r,l,d,2),i!==null&&lr(i,r,2)}function Xu(r){var i=r.alternate;return r===Ge||i!==null&&i===Ge}function zx(r,i){xl=qu=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Ux(r,i,l){if((l&4194048)!==0){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,Zi(r,l)}}var Ku={readContext:jn,use:$u,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},Bx={readContext:jn,use:$u,useCallback:function(r,i){return Gn().memoizedState=[r,i===void 0?null:i],r},useContext:jn,useEffect:Ex,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,Qu(4194308,4,jx.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Qu(4194308,4,r,i)},useInsertionEffect:function(r,i){Qu(4,2,r,i)},useMemo:function(r,i){var l=Gn();i=i===void 0?null:i;var d=r();if(Na){ke(!0);try{r()}finally{ke(!1)}}return l.memoizedState=[d,i],d},useReducer:function(r,i,l){var d=Gn();if(l!==void 0){var g=l(i);if(Na){ke(!0);try{l(i)}finally{ke(!1)}}}else g=i;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=U4.bind(null,Ge,r),[d.memoizedState,r]},useRef:function(r){var i=Gn();return r={current:r},i.memoizedState=r},useState:function(r){r=Vh(r);var i=r.queue,l=Lx.bind(null,Ge,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:Lh,useDeferredValue:function(r,i){var l=Gn();return zh(l,r,i)},useTransition:function(){var r=Vh(!1);return r=Ix.bind(null,Ge,r.queue,!0,!1),Gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var d=Ge,g=Gn();if(ot){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Et===null)throw Error(s(349));(tt&124)!==0||ox(d,i,l)}g.memoizedState=l;var y={value:l,getSnapshot:i};return g.queue=y,Ex(ux.bind(null,d,y,r),[r]),d.flags|=2048,bl(9,Yu(),cx.bind(null,d,y,l,i),null),l},useId:function(){var r=Gn(),i=Et.identifierPrefix;if(ot){var l=Ds,d=Rs;l=(d&~(1<<32-De(d)-1)).toString(32)+l,i=""+i+"R"+l,l=Hu++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=M4++,i=""+i+"r"+l.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:Bh,useFormState:bx,useActionState:bx,useOptimistic:function(r){var i=Gn();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Fh.bind(null,Ge,!0,l),l.dispatch=i,[r,i]},useMemoCache:Ih,useCacheRefresh:function(){return Gn().memoizedState=z4.bind(null,Ge)}},Fx={readContext:jn,use:$u,useCallback:kx,useContext:jn,useEffect:Tx,useImperativeHandle:Cx,useInsertionEffect:Sx,useLayoutEffect:Ax,useMemo:Rx,useReducer:Gu,useRef:Nx,useState:function(){return Gu(Os)},useDebugValue:Lh,useDeferredValue:function(r,i){var l=$t();return Dx(l,pt.memoizedState,r,i)},useTransition:function(){var r=Gu(Os)[0],i=$t().memoizedState;return[typeof r=="boolean"?r:Bo(r),i]},useSyncExternalStore:lx,useId:Vx,useHostTransitionStatus:Bh,useFormState:vx,useActionState:vx,useOptimistic:function(r,i){var l=$t();return hx(l,pt,r,i)},useMemoCache:Ih,useCacheRefresh:Px},B4={readContext:jn,use:$u,useCallback:kx,useContext:jn,useEffect:Tx,useImperativeHandle:Cx,useInsertionEffect:Sx,useLayoutEffect:Ax,useMemo:Rx,useReducer:Oh,useRef:Nx,useState:function(){return Oh(Os)},useDebugValue:Lh,useDeferredValue:function(r,i){var l=$t();return pt===null?zh(l,r,i):Dx(l,pt.memoizedState,r,i)},useTransition:function(){var r=Oh(Os)[0],i=$t().memoizedState;return[typeof r=="boolean"?r:Bo(r),i]},useSyncExternalStore:lx,useId:Vx,useHostTransitionStatus:Bh,useFormState:_x,useActionState:_x,useOptimistic:function(r,i){var l=$t();return pt!==null?hx(l,pt,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:Px},vl=null,Ho=0;function Zu(r){var i=Ho;return Ho+=1,vl===null&&(vl=[]),Wg(vl,r,i)}function $o(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ju(r,i){throw i.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function qx(r){var i=r._init;return i(r._payload)}function Hx(r){function i(Q,$){if(r){var ee=Q.deletions;ee===null?(Q.deletions=[$],Q.flags|=16):ee.push($)}}function l(Q,$){if(!r)return null;for(;$!==null;)i(Q,$),$=$.sibling;return null}function d(Q){for(var $=new Map;Q!==null;)Q.key!==null?$.set(Q.key,Q):$.set(Q.index,Q),Q=Q.sibling;return $}function g(Q,$){return Q=ks(Q,$),Q.index=0,Q.sibling=null,Q}function y(Q,$,ee){return Q.index=ee,r?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<$?(Q.flags|=67108866,$):ee):(Q.flags|=67108866,$)):(Q.flags|=1048576,$)}function T(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function I(Q,$,ee,me){return $===null||$.tag!==6?($=ch(ee,Q.mode,me),$.return=Q,$):($=g($,ee),$.return=Q,$)}function H(Q,$,ee,me){var Ce=ee.type;return Ce===S?fe(Q,$,ee.props.children,me,ee.key):$!==null&&($.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===j&&qx(Ce)===$.type)?($=g($,ee.props),$o($,ee),$.return=Q,$):($=Mu(ee.type,ee.key,ee.props,null,Q.mode,me),$o($,ee),$.return=Q,$)}function te(Q,$,ee,me){return $===null||$.tag!==4||$.stateNode.containerInfo!==ee.containerInfo||$.stateNode.implementation!==ee.implementation?($=uh(ee,Q.mode,me),$.return=Q,$):($=g($,ee.children||[]),$.return=Q,$)}function fe(Q,$,ee,me,Ce){return $===null||$.tag!==7?($=pa(ee,Q.mode,me,Ce),$.return=Q,$):($=g($,ee),$.return=Q,$)}function xe(Q,$,ee){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=ch(""+$,Q.mode,ee),$.return=Q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return ee=Mu($.type,$.key,$.props,null,Q.mode,ee),$o(ee,$),ee.return=Q,ee;case _:return $=uh($,Q.mode,ee),$.return=Q,$;case j:var me=$._init;return $=me($._payload),xe(Q,$,ee)}if(pe($)||P($))return $=pa($,Q.mode,ee,null),$.return=Q,$;if(typeof $.then=="function")return xe(Q,Zu($),ee);if($.$$typeof===z)return xe(Q,Lu(Q,$),ee);Ju(Q,$)}return null}function re(Q,$,ee,me){var Ce=$!==null?$.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ce!==null?null:I(Q,$,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return ee.key===Ce?H(Q,$,ee,me):null;case _:return ee.key===Ce?te(Q,$,ee,me):null;case j:return Ce=ee._init,ee=Ce(ee._payload),re(Q,$,ee,me)}if(pe(ee)||P(ee))return Ce!==null?null:fe(Q,$,ee,me,null);if(typeof ee.then=="function")return re(Q,$,Zu(ee),me);if(ee.$$typeof===z)return re(Q,$,Lu(Q,ee),me);Ju(Q,ee)}return null}function ie(Q,$,ee,me,Ce){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Q=Q.get(ee)||null,I($,Q,""+me,Ce);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case w:return Q=Q.get(me.key===null?ee:me.key)||null,H($,Q,me,Ce);case _:return Q=Q.get(me.key===null?ee:me.key)||null,te($,Q,me,Ce);case j:var Ye=me._init;return me=Ye(me._payload),ie(Q,$,ee,me,Ce)}if(pe(me)||P(me))return Q=Q.get(ee)||null,fe($,Q,me,Ce,null);if(typeof me.then=="function")return ie(Q,$,ee,Zu(me),Ce);if(me.$$typeof===z)return ie(Q,$,ee,Lu($,me),Ce);Ju($,me)}return null}function ze(Q,$,ee,me){for(var Ce=null,Ye=null,Re=$,Ve=$=0,un=null;Re!==null&&Ve<ee.length;Ve++){Re.index>Ve?(un=Re,Re=null):un=Re.sibling;var at=re(Q,Re,ee[Ve],me);if(at===null){Re===null&&(Re=un);break}r&&Re&&at.alternate===null&&i(Q,Re),$=y(at,$,Ve),Ye===null?Ce=at:Ye.sibling=at,Ye=at,Re=un}if(Ve===ee.length)return l(Q,Re),ot&&xa(Q,Ve),Ce;if(Re===null){for(;Ve<ee.length;Ve++)Re=xe(Q,ee[Ve],me),Re!==null&&($=y(Re,$,Ve),Ye===null?Ce=Re:Ye.sibling=Re,Ye=Re);return ot&&xa(Q,Ve),Ce}for(Re=d(Re);Ve<ee.length;Ve++)un=ie(Re,Q,Ve,ee[Ve],me),un!==null&&(r&&un.alternate!==null&&Re.delete(un.key===null?Ve:un.key),$=y(un,$,Ve),Ye===null?Ce=un:Ye.sibling=un,Ye=un);return r&&Re.forEach(function(Si){return i(Q,Si)}),ot&&xa(Q,Ve),Ce}function Oe(Q,$,ee,me){if(ee==null)throw Error(s(151));for(var Ce=null,Ye=null,Re=$,Ve=$=0,un=null,at=ee.next();Re!==null&&!at.done;Ve++,at=ee.next()){Re.index>Ve?(un=Re,Re=null):un=Re.sibling;var Si=re(Q,Re,at.value,me);if(Si===null){Re===null&&(Re=un);break}r&&Re&&Si.alternate===null&&i(Q,Re),$=y(Si,$,Ve),Ye===null?Ce=Si:Ye.sibling=Si,Ye=Si,Re=un}if(at.done)return l(Q,Re),ot&&xa(Q,Ve),Ce;if(Re===null){for(;!at.done;Ve++,at=ee.next())at=xe(Q,at.value,me),at!==null&&($=y(at,$,Ve),Ye===null?Ce=at:Ye.sibling=at,Ye=at);return ot&&xa(Q,Ve),Ce}for(Re=d(Re);!at.done;Ve++,at=ee.next())at=ie(Re,Q,Ve,at.value,me),at!==null&&(r&&at.alternate!==null&&Re.delete(at.key===null?Ve:at.key),$=y(at,$,Ve),Ye===null?Ce=at:Ye.sibling=at,Ye=at);return r&&Re.forEach(function(FN){return i(Q,FN)}),ot&&xa(Q,Ve),Ce}function xt(Q,$,ee,me){if(typeof ee=="object"&&ee!==null&&ee.type===S&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:e:{for(var Ce=ee.key;$!==null;){if($.key===Ce){if(Ce=ee.type,Ce===S){if($.tag===7){l(Q,$.sibling),me=g($,ee.props.children),me.return=Q,Q=me;break e}}else if($.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===j&&qx(Ce)===$.type){l(Q,$.sibling),me=g($,ee.props),$o(me,ee),me.return=Q,Q=me;break e}l(Q,$);break}else i(Q,$);$=$.sibling}ee.type===S?(me=pa(ee.props.children,Q.mode,me,ee.key),me.return=Q,Q=me):(me=Mu(ee.type,ee.key,ee.props,null,Q.mode,me),$o(me,ee),me.return=Q,Q=me)}return T(Q);case _:e:{for(Ce=ee.key;$!==null;){if($.key===Ce)if($.tag===4&&$.stateNode.containerInfo===ee.containerInfo&&$.stateNode.implementation===ee.implementation){l(Q,$.sibling),me=g($,ee.children||[]),me.return=Q,Q=me;break e}else{l(Q,$);break}else i(Q,$);$=$.sibling}me=uh(ee,Q.mode,me),me.return=Q,Q=me}return T(Q);case j:return Ce=ee._init,ee=Ce(ee._payload),xt(Q,$,ee,me)}if(pe(ee))return ze(Q,$,ee,me);if(P(ee)){if(Ce=P(ee),typeof Ce!="function")throw Error(s(150));return ee=Ce.call(ee),Oe(Q,$,ee,me)}if(typeof ee.then=="function")return xt(Q,$,Zu(ee),me);if(ee.$$typeof===z)return xt(Q,$,Lu(Q,ee),me);Ju(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,$!==null&&$.tag===6?(l(Q,$.sibling),me=g($,ee),me.return=Q,Q=me):(l(Q,$),me=ch(ee,Q.mode,me),me.return=Q,Q=me),T(Q)):l(Q,$)}return function(Q,$,ee,me){try{Ho=0;var Ce=xt(Q,$,ee,me);return vl=null,Ce}catch(Re){if(Re===Oo||Re===Uu)throw Re;var Ye=nr(29,Re,null,Q.mode);return Ye.lanes=me,Ye.return=Q,Ye}finally{}}}var wl=Hx(!0),$x=Hx(!1),Nr=X(null),ns=null;function di(r){var i=r.alternate;C(tn,tn.current&1),C(Nr,r),ns===null&&(i===null||gl.current!==null||i.memoizedState!==null)&&(ns=r)}function Gx(r){if(r.tag===22){if(C(tn,tn.current),C(Nr,r),ns===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(ns=r)}}else fi()}function fi(){C(tn,tn.current),C(Nr,Nr.current)}function Vs(r){Z(Nr),ns===r&&(ns=null),Z(tn)}var tn=X(0);function Wu(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Dm(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function qh(r,i,l,d){i=r.memoizedState,l=l(d,i),l=l==null?i:x({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Hh={enqueueSetState:function(r,i,l){r=r._reactInternals;var d=ar(),g=oi(d);g.payload=i,l!=null&&(g.callback=l),i=ci(r,g,d),i!==null&&(lr(i,r,d),Po(i,r,d))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var d=ar(),g=oi(d);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=ci(r,g,d),i!==null&&(lr(i,r,d),Po(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=ar(),d=oi(l);d.tag=2,i!=null&&(d.callback=i),i=ci(r,d,l),i!==null&&(lr(i,r,l),Po(i,r,l))}};function Yx(r,i,l,d,g,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,T):i.prototype&&i.prototype.isPureReactComponent?!Ao(l,d)||!Ao(g,y):!0}function Qx(r,i,l,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==r&&Hh.enqueueReplaceState(i,i.state,null)}function Ea(r,i){var l=i;if("ref"in i){l={};for(var d in i)d!=="ref"&&(l[d]=i[d])}if(r=r.defaultProps){l===i&&(l=x({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}var ed=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Xx(r){ed(r)}function Kx(r){console.error(r)}function Zx(r){ed(r)}function td(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Jx(r,i,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function $h(r,i,l){return l=oi(l),l.tag=3,l.payload={element:null},l.callback=function(){td(r,i)},l}function Wx(r){return r=oi(r),r.tag=3,r}function ey(r,i,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=d.value;r.payload=function(){return g(y)},r.callback=function(){Jx(i,l,d)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Jx(i,l,d),typeof g!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var I=d.stack;this.componentDidCatch(d.value,{componentStack:I!==null?I:""})})}function F4(r,i,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=l.alternate,i!==null&&Do(i,l,g,!0),l=Nr.current,l!==null){switch(l.tag){case 13:return ns===null?pm():l.alternate===null&&Ot===0&&(Ot=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===vh?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([d]):i.add(d),xm(r,d,g)),!1;case 22:return l.flags|=65536,d===vh?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([d]):l.add(d)),xm(r,d,g)),!1}throw Error(s(435,l.tag))}return xm(r,d,g),pm(),!1}if(ot)return i=Nr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==hh&&(r=Error(s(422),{cause:d}),Ro(br(r,l)))):(d!==hh&&(i=Error(s(423),{cause:d}),Ro(br(i,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=br(d,l),g=$h(r.stateNode,d,g),Nh(r,g),Ot!==4&&(Ot=2)),!1;var y=Error(s(520),{cause:d});if(y=br(y,l),Jo===null?Jo=[y]:Jo.push(y),Ot!==4&&(Ot=2),i===null)return!0;d=br(d,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=$h(l.stateNode,d,r),Nh(l,r),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yi===null||!yi.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Wx(g),ey(g,r,l,d),Nh(l,g),!1}l=l.return}while(l!==null);return!1}var ty=Error(s(461)),on=!1;function yn(r,i,l,d){i.child=r===null?$x(i,null,l,d):wl(i,r.child,l,d)}function ny(r,i,l,d,g){l=l.render;var y=i.ref;if("ref"in d){var T={};for(var I in d)I!=="ref"&&(T[I]=d[I])}else T=d;return wa(i),d=jh(r,i,l,T,y,g),I=Ch(),r!==null&&!on?(kh(r,i,g),Ps(r,i,g)):(ot&&I&&dh(i),i.flags|=1,yn(r,i,d,g),i.child)}function ry(r,i,l,d,g){if(r===null){var y=l.type;return typeof y=="function"&&!oh(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,sy(r,i,y,d,g)):(r=Mu(l.type,null,d,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!Wh(r,g)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ao,l(T,d)&&r.ref===i.ref)return Ps(r,i,g)}return i.flags|=1,r=ks(y,d),r.ref=i.ref,r.return=i,i.child=r}function sy(r,i,l,d,g){if(r!==null){var y=r.memoizedProps;if(Ao(y,d)&&r.ref===i.ref)if(on=!1,i.pendingProps=d=y,Wh(r,g))(r.flags&131072)!==0&&(on=!0);else return i.lanes=r.lanes,Ps(r,i,g)}return Gh(r,i,l,d,g)}function iy(r,i,l){var d=i.pendingProps,g=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=y!==null?y.baseLanes|l:l,r!==null){for(g=i.child=r.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;i.childLanes=y&~d}else i.childLanes=0,i.child=null;return ay(r,i,d,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&zu(i,y!==null?y.cachePool:null),y!==null?sx(i,y):Th(),Gx(i);else return i.lanes=i.childLanes=536870912,ay(r,i,y!==null?y.baseLanes|l:l,l)}else y!==null?(zu(i,y.cachePool),sx(i,y),fi(),i.memoizedState=null):(r!==null&&zu(i,null),Th(),fi());return yn(r,i,g,l),i.child}function ay(r,i,l,d){var g=bh();return g=g===null?null:{parent:en._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},r!==null&&zu(i,null),Th(),Gx(i),r!==null&&Do(r,i,d,!0),null}function nd(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function Gh(r,i,l,d,g){return wa(i),l=jh(r,i,l,d,void 0,g),d=Ch(),r!==null&&!on?(kh(r,i,g),Ps(r,i,g)):(ot&&d&&dh(i),i.flags|=1,yn(r,i,l,g),i.child)}function ly(r,i,l,d,g,y){return wa(i),i.updateQueue=null,l=ax(i,d,l,g),ix(r),d=Ch(),r!==null&&!on?(kh(r,i,y),Ps(r,i,y)):(ot&&d&&dh(i),i.flags|=1,yn(r,i,l,y),i.child)}function oy(r,i,l,d,g){if(wa(i),i.stateNode===null){var y=dl,T=l.contextType;typeof T=="object"&&T!==null&&(y=jn(T)),y=new l(d,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Hh,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=d,y.state=i.memoizedState,y.refs={},wh(i),T=l.contextType,y.context=typeof T=="object"&&T!==null?jn(T):dl,y.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(qh(i,l,T,d),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Hh.enqueueReplaceState(y,y.state,null),zo(i,d,y,g),Lo(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(r===null){y=i.stateNode;var I=i.memoizedProps,H=Ea(l,I);y.props=H;var te=y.context,fe=l.contextType;T=dl,typeof fe=="object"&&fe!==null&&(T=jn(fe));var xe=l.getDerivedStateFromProps;fe=typeof xe=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=i.pendingProps!==I,fe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||te!==T)&&Qx(i,y,d,T),li=!1;var re=i.memoizedState;y.state=re,zo(i,d,y,g),Lo(),te=i.memoizedState,I||re!==te||li?(typeof xe=="function"&&(qh(i,l,xe,d),te=i.memoizedState),(H=li||Yx(i,l,H,d,re,te,T))?(fe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=te),y.props=d,y.state=te,y.context=T,d=H):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{y=i.stateNode,_h(r,i),T=i.memoizedProps,fe=Ea(l,T),y.props=fe,xe=i.pendingProps,re=y.context,te=l.contextType,H=dl,typeof te=="object"&&te!==null&&(H=jn(te)),I=l.getDerivedStateFromProps,(te=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==xe||re!==H)&&Qx(i,y,d,H),li=!1,re=i.memoizedState,y.state=re,zo(i,d,y,g),Lo();var ie=i.memoizedState;T!==xe||re!==ie||li||r!==null&&r.dependencies!==null&&Pu(r.dependencies)?(typeof I=="function"&&(qh(i,l,I,d),ie=i.memoizedState),(fe=li||Yx(i,l,fe,d,re,ie,H)||r!==null&&r.dependencies!==null&&Pu(r.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ie,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ie,H)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ie),y.props=d,y.state=ie,y.context=H,d=fe):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(i.flags|=1024),d=!1)}return y=d,nd(r,i),d=(i.flags&128)!==0,y||d?(y=i.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&d?(i.child=wl(i,r.child,null,g),i.child=wl(i,null,l,g)):yn(r,i,l,g),i.memoizedState=y.state,r=i.child):r=Ps(r,i,g),r}function cy(r,i,l,d){return ko(),i.flags|=256,yn(r,i,l,d),i.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(r){return{baseLanes:r,cachePool:Kg()}}function Xh(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=Er),r}function uy(r,i,l){var d=i.pendingProps,g=!1,y=(i.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(tn.current&2)!==0),T&&(g=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(ot){if(g?di(i):fi(),ot){var I=Mt,H;if(H=I){e:{for(H=I,I=ts;H.nodeType!==8;){if(!I){I=null;break e}if(H=Pr(H.nextSibling),H===null){I=null;break e}}I=H}I!==null?(i.memoizedState={dehydrated:I,treeContext:ga!==null?{id:Rs,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},H=nr(18,null,null,0),H.stateNode=I,H.return=i,i.child=H,zn=i,Mt=null,H=!0):H=!1}H||ba(i)}if(I=i.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Dm(I)?i.lanes=32:i.lanes=536870912,null;Vs(i)}return I=d.children,d=d.fallback,g?(fi(),g=i.mode,I=rd({mode:"hidden",children:I},g),d=pa(d,g,l,null),I.return=i,d.return=i,I.sibling=d,i.child=I,g=i.child,g.memoizedState=Qh(l),g.childLanes=Xh(r,T,l),i.memoizedState=Yh,d):(di(i),Kh(i,I))}if(H=r.memoizedState,H!==null&&(I=H.dehydrated,I!==null)){if(y)i.flags&256?(di(i),i.flags&=-257,i=Zh(r,i,l)):i.memoizedState!==null?(fi(),i.child=r.child,i.flags|=128,i=null):(fi(),g=d.fallback,I=i.mode,d=rd({mode:"visible",children:d.children},I),g=pa(g,I,l,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,wl(i,r.child,null,l),d=i.child,d.memoizedState=Qh(l),d.childLanes=Xh(r,T,l),i.memoizedState=Yh,i=g);else if(di(i),Dm(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var te=T.dgst;T=te,d=Error(s(419)),d.stack="",d.digest=T,Ro({value:d,source:null,stack:null}),i=Zh(r,i,l)}else if(on||Do(r,i,l,!1),T=(l&r.childLanes)!==0,on||T){if(T=Et,T!==null&&(d=l&-l,d=(d&42)!==0?1:Dr(d),d=(d&(T.suspendedLanes|l))!==0?0:d,d!==0&&d!==H.retryLane))throw H.retryLane=d,ul(r,d),lr(T,r,d),ty;I.data==="$?"||pm(),i=Zh(r,i,l)}else I.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=H.treeContext,Mt=Pr(I.nextSibling),zn=i,ot=!0,ya=null,ts=!1,r!==null&&(wr[_r++]=Rs,wr[_r++]=Ds,wr[_r++]=ga,Rs=r.id,Ds=r.overflow,ga=i),i=Kh(i,d.children),i.flags|=4096);return i}return g?(fi(),g=d.fallback,I=i.mode,H=r.child,te=H.sibling,d=ks(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&65011712,te!==null?g=ks(te,g):(g=pa(g,I,l,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,I=r.child.memoizedState,I===null?I=Qh(l):(H=I.cachePool,H!==null?(te=en._currentValue,H=H.parent!==te?{parent:te,pool:te}:H):H=Kg(),I={baseLanes:I.baseLanes|l,cachePool:H}),g.memoizedState=I,g.childLanes=Xh(r,T,l),i.memoizedState=Yh,d):(di(i),l=r.child,r=l.sibling,l=ks(l,{mode:"visible",children:d.children}),l.return=i,l.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=l,i.memoizedState=null,l)}function Kh(r,i){return i=rd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function rd(r,i){return r=nr(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Zh(r,i,l){return wl(i,r.child,null,l),r=Kh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function dy(r,i,l){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),ph(r.return,i,l)}function Jh(r,i,l,d,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=g)}function fy(r,i,l){var d=i.pendingProps,g=d.revealOrder,y=d.tail;if(yn(r,i,d.children,l),d=tn.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&dy(r,l,i);else if(r.tag===19)dy(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(C(tn,d),g){case"forwards":for(l=i.child,g=null;l!==null;)r=l.alternate,r!==null&&Wu(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),Jh(i,!1,g,l,y);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Wu(r)===null){i.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Jh(i,!0,l,null,y);break;case"together":Jh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ps(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),xi|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(Do(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,l=ks(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=ks(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function Wh(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Pu(r)))}function q4(r,i,l){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),ai(i,en,r.memoizedState.cache),ko();break;case 27:case 5:lt(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:ai(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(di(i),i.flags|=128,null):(l&i.child.childLanes)!==0?uy(r,i,l):(di(i),r=Ps(r,i,l),r!==null?r.sibling:null);di(i);break;case 19:var g=(r.flags&128)!==0;if(d=(l&i.childLanes)!==0,d||(Do(r,i,l,!1),d=(l&i.childLanes)!==0),g){if(d)return fy(r,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),C(tn,tn.current),d)break;return null;case 22:case 23:return i.lanes=0,iy(r,i,l);case 24:ai(i,en,r.memoizedState.cache)}return Ps(r,i,l)}function hy(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)on=!0;else{if(!Wh(r,l)&&(i.flags&128)===0)return on=!1,q4(r,i,l);on=(r.flags&131072)!==0}else on=!1,ot&&(i.flags&1048576)!==0&&qg(i,Vu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var d=i.elementType,g=d._init;if(d=g(d._payload),i.type=d,typeof d=="function")oh(d)?(r=Ea(d,r),i.tag=1,i=oy(null,i,d,r,l)):(i.tag=0,i=Gh(null,i,d,r,l));else{if(d!=null){if(g=d.$$typeof,g===G){i.tag=11,i=ny(null,i,d,r,l);break e}else if(g===R){i.tag=14,i=ry(null,i,d,r,l);break e}}throw i=ce(d)||d,Error(s(306,i,""))}}return i;case 0:return Gh(r,i,i.type,i.pendingProps,l);case 1:return d=i.type,g=Ea(d,i.pendingProps),oy(r,i,d,g,l);case 3:e:{if(Te(i,i.stateNode.containerInfo),r===null)throw Error(s(387));d=i.pendingProps;var y=i.memoizedState;g=y.element,_h(r,i),zo(i,d,null,l);var T=i.memoizedState;if(d=T.cache,ai(i,en,d),d!==y.cache&&gh(i,[en],l,!0),Lo(),d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=cy(r,i,d,l);break e}else if(d!==g){g=br(Error(s(424)),i),Ro(g),i=cy(r,i,d,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mt=Pr(r.firstChild),zn=i,ot=!0,ya=null,ts=!0,l=$x(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ko(),d===g){i=Ps(r,i,l);break e}yn(r,i,d,l)}i=i.child}return i;case 26:return nd(r,i),r===null?(l=x1(i.type,null,i.pendingProps,null))?i.memoizedState=l:ot||(l=i.type,r=i.pendingProps,d=xd(oe.current).createElement(l),d[Nt]=i,d[de]=r,vn(d,l,r),Lt(d),i.stateNode=d):i.memoizedState=x1(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return lt(i),r===null&&ot&&(d=i.stateNode=m1(i.type,i.pendingProps,oe.current),zn=i,ts=!0,g=Mt,wi(i.type)?(Im=g,Mt=Pr(d.firstChild)):Mt=g),yn(r,i,i.pendingProps.children,l),nd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&ot&&((g=d=Mt)&&(d=xN(d,i.type,i.pendingProps,ts),d!==null?(i.stateNode=d,zn=i,Mt=Pr(d.firstChild),ts=!1,g=!0):g=!1),g||ba(i)),lt(i),g=i.type,y=i.pendingProps,T=r!==null?r.memoizedProps:null,d=y.children,Cm(g,y)?d=null:T!==null&&Cm(g,T)&&(i.flags|=32),i.memoizedState!==null&&(g=jh(r,i,O4,null,null,l),lc._currentValue=g),nd(r,i),yn(r,i,d,l),i.child;case 6:return r===null&&ot&&((r=l=Mt)&&(l=yN(l,i.pendingProps,ts),l!==null?(i.stateNode=l,zn=i,Mt=null,r=!0):r=!1),r||ba(i)),null;case 13:return uy(r,i,l);case 4:return Te(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=wl(i,null,d,l):yn(r,i,d,l),i.child;case 11:return ny(r,i,i.type,i.pendingProps,l);case 7:return yn(r,i,i.pendingProps,l),i.child;case 8:return yn(r,i,i.pendingProps.children,l),i.child;case 12:return yn(r,i,i.pendingProps.children,l),i.child;case 10:return d=i.pendingProps,ai(i,i.type,d.value),yn(r,i,d.children,l),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,wa(i),g=jn(g),d=d(g),i.flags|=1,yn(r,i,d,l),i.child;case 14:return ry(r,i,i.type,i.pendingProps,l);case 15:return sy(r,i,i.type,i.pendingProps,l);case 19:return fy(r,i,l);case 31:return d=i.pendingProps,l=i.mode,d={mode:d.mode,children:d.children},r===null?(l=rd(d,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=ks(r.child,d),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return iy(r,i,l);case 24:return wa(i),d=jn(en),r===null?(g=bh(),g===null&&(g=Et,y=xh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),i.memoizedState={parent:d,cache:g},wh(i),ai(i,en,g)):((r.lanes&l)!==0&&(_h(r,i),zo(i,null,null,l),Lo()),g=r.memoizedState,y=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),ai(i,en,d)):(d=y.cache,ai(i,en,d),d!==g.cache&&gh(i,[en],l,!0))),yn(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ls(r){r.flags|=4}function my(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!_1(i)){if(i=Nr.current,i!==null&&((tt&4194048)===tt?ns!==null:(tt&62914560)!==tt&&(tt&536870912)===0||i!==ns))throw Vo=vh,Zg;r.flags|=8192}}function sd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Xi():536870912,r.lanes|=i,Tl|=i)}function Go(r,i){if(!ot)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Rt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(i)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=l,i}function H4(r,i,l){var d=i.pendingProps;switch(fh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(i),null;case 1:return Rt(i),null;case 3:return l=i.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Ms(en),it(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Co(i)?Ls(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gg())),Rt(i),null;case 26:return l=i.memoizedState,r===null?(Ls(i),l!==null?(Rt(i),my(i,l)):(Rt(i),i.flags&=-16777217)):l?l!==r.memoizedState?(Ls(i),Rt(i),my(i,l)):(Rt(i),i.flags&=-16777217):(r.memoizedProps!==d&&Ls(i),Rt(i),i.flags&=-16777217),null;case 27:_e(i),l=oe.current;var g=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==d&&Ls(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return Rt(i),null}r=ae.current,Co(i)?Hg(i):(r=m1(g,d,l),i.stateNode=r,Ls(i))}return Rt(i),null;case 5:if(_e(i),l=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==d&&Ls(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return Rt(i),null}if(r=ae.current,Co(i))Hg(i);else{switch(g=xd(oe.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}r[Nt]=i,r[de]=d;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=r;e:switch(vn(r,l,d),l){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ls(i)}}return Rt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==d&&Ls(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(s(166));if(r=oe.current,Co(i)){if(r=i.stateNode,l=i.memoizedProps,d=null,g=zn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[Nt]=i,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||l1(r.nodeValue,l)),r||ba(i)}else r=xd(r).createTextNode(d),r[Nt]=i,i.stateNode=r}return Rt(i),null;case 13:if(d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Co(i),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Nt]=i}else ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),g=!1}else g=Gg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Vs(i),i):(Vs(i),null)}if(Vs(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=d!==null,r=r!==null&&r.memoizedState!==null,l){d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048)}return l!==r&&l&&(i.child.flags|=8192),sd(i,i.updateQueue),Rt(i),null;case 4:return it(),r===null&&Em(i.stateNode.containerInfo),Rt(i),null;case 10:return Ms(i.type),Rt(i),null;case 19:if(Z(tn),g=i.memoizedState,g===null)return Rt(i),null;if(d=(i.flags&128)!==0,y=g.rendering,y===null)if(d)Go(g,!1);else{if(Ot!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=Wu(r),y!==null){for(i.flags|=128,Go(g,!1),r=y.updateQueue,i.updateQueue=r,sd(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)Fg(l,r),l=l.sibling;return C(tn,tn.current&1|2),i.child}r=r.sibling}g.tail!==null&&It()>ld&&(i.flags|=128,d=!0,Go(g,!1),i.lanes=4194304)}else{if(!d)if(r=Wu(y),r!==null){if(i.flags|=128,d=!0,r=r.updateQueue,i.updateQueue=r,sd(i,r),Go(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!ot)return Rt(i),null}else 2*It()-g.renderingStartTime>ld&&l!==536870912&&(i.flags|=128,d=!0,Go(g,!1),i.lanes=4194304);g.isBackwards?(y.sibling=i.child,i.child=y):(r=g.last,r!==null?r.sibling=y:i.child=y,g.last=y)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=It(),i.sibling=null,r=tn.current,C(tn,d?r&1|2:r&1),i):(Rt(i),null);case 22:case 23:return Vs(i),Sh(),d=i.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(l&536870912)!==0&&(i.flags&128)===0&&(Rt(i),i.subtreeFlags&6&&(i.flags|=8192)):Rt(i),l=i.updateQueue,l!==null&&sd(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==l&&(i.flags|=2048),r!==null&&Z(_a),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ms(en),Rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function $4(r,i){switch(fh(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ms(en),it(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return _e(i),null;case 13:if(Vs(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ko()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Z(tn),null;case 4:return it(),null;case 10:return Ms(i.type),null;case 22:case 23:return Vs(i),Sh(),r!==null&&Z(_a),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ms(en),null;case 25:return null;default:return null}}function py(r,i){switch(fh(i),i.tag){case 3:Ms(en),it();break;case 26:case 27:case 5:_e(i);break;case 4:it();break;case 13:Vs(i);break;case 19:Z(tn);break;case 10:Ms(i.type);break;case 22:case 23:Vs(i),Sh(),r!==null&&Z(_a);break;case 24:Ms(en)}}function Yo(r,i){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&r)===r){d=void 0;var y=l.create,T=l.inst;d=y(),T.destroy=d}l=l.next}while(l!==g)}}catch(I){vt(i,i.return,I)}}function hi(r,i,l){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&r)===r){var T=d.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,g=i;var H=l,te=I;try{te()}catch(fe){vt(g,H,fe)}}}d=d.next}while(d!==y)}}catch(fe){vt(i,i.return,fe)}}function gy(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{rx(i,l)}catch(d){vt(r,r.return,d)}}}function xy(r,i,l){l.props=Ea(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){vt(r,i,d)}}function Qo(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(g){vt(r,i,g)}}function rs(r,i){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){vt(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){vt(r,i,g)}else l.current=null}function yy(r){var i=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){vt(r,r.return,g)}}function em(r,i,l){try{var d=r.stateNode;fN(d,r.type,l,i),d[de]=i}catch(g){vt(r,r.return,g)}}function by(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&wi(r.type)||r.tag===4}function tm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||by(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&wi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nm(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=gd));else if(d!==4&&(d===27&&wi(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(nm(r,i,l),r=r.sibling;r!==null;)nm(r,i,l),r=r.sibling}function id(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(d!==4&&(d===27&&wi(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(id(r,i,l),r=r.sibling;r!==null;)id(r,i,l),r=r.sibling}function vy(r){var i=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);vn(i,d,l),i[Nt]=r,i[de]=l}catch(y){vt(r,r.return,y)}}var zs=!1,Ut=!1,rm=!1,wy=typeof WeakSet=="function"?WeakSet:Set,cn=null;function G4(r,i){if(r=r.containerInfo,Am=Nd,r=Dg(r),th(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,I=-1,H=-1,te=0,fe=0,xe=r,re=null;t:for(;;){for(var ie;xe!==l||g!==0&&xe.nodeType!==3||(I=T+g),xe!==y||d!==0&&xe.nodeType!==3||(H=T+d),xe.nodeType===3&&(T+=xe.nodeValue.length),(ie=xe.firstChild)!==null;)re=xe,xe=ie;for(;;){if(xe===r)break t;if(re===l&&++te===g&&(I=T),re===y&&++fe===d&&(H=T),(ie=xe.nextSibling)!==null)break;xe=re,re=xe.parentNode}xe=ie}l=I===-1||H===-1?null:{start:I,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(jm={focusedElem:r,selectionRange:l},Nd=!1,cn=i;cn!==null;)if(i=cn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,cn=r;else for(;cn!==null;){switch(i=cn,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=i,g=y.memoizedProps,y=y.memoizedState,d=l.stateNode;try{var ze=Ea(l.type,g,l.elementType===l.type);r=d.getSnapshotBeforeUpdate(ze,y),d.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){vt(l,l.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)Rm(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Rm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,cn=r;break}cn=i.return}}function _y(r,i,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:mi(r,l),d&4&&Yo(5,l);break;case 1:if(mi(r,l),d&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(T){vt(l,l.return,T)}else{var g=Ea(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){vt(l,l.return,T)}}d&64&&gy(l),d&512&&Qo(l,l.return);break;case 3:if(mi(r,l),d&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{rx(r,i)}catch(T){vt(l,l.return,T)}}break;case 27:i===null&&d&4&&vy(l);case 26:case 5:mi(r,l),i===null&&d&4&&yy(l),d&512&&Qo(l,l.return);break;case 12:mi(r,l);break;case 13:mi(r,l),d&4&&Ty(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=tN.bind(null,l),bN(r,l))));break;case 22:if(d=l.memoizedState!==null||zs,!d){i=i!==null&&i.memoizedState!==null||Ut,g=zs;var y=Ut;zs=d,(Ut=i)&&!y?pi(r,l,(l.subtreeFlags&8772)!==0):mi(r,l),zs=g,Ut=y}break;case 30:break;default:mi(r,l)}}function Ny(r){var i=r.alternate;i!==null&&(r.alternate=null,Ny(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&ni(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var kt=null,Yn=!1;function Us(r,i,l){for(l=l.child;l!==null;)Ey(r,i,l),l=l.sibling}function Ey(r,i,l){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(se,l)}catch{}switch(l.tag){case 26:Ut||rs(l,i),Us(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ut||rs(l,i);var d=kt,g=Yn;wi(l.type)&&(kt=l.stateNode,Yn=!1),Us(r,i,l),rc(l.stateNode),kt=d,Yn=g;break;case 5:Ut||rs(l,i);case 6:if(d=kt,g=Yn,kt=null,Us(r,i,l),kt=d,Yn=g,kt!==null)if(Yn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(y){vt(l,i,y)}else try{kt.removeChild(l.stateNode)}catch(y){vt(l,i,y)}break;case 18:kt!==null&&(Yn?(r=kt,f1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),dc(r)):f1(kt,l.stateNode));break;case 4:d=kt,g=Yn,kt=l.stateNode.containerInfo,Yn=!0,Us(r,i,l),kt=d,Yn=g;break;case 0:case 11:case 14:case 15:Ut||hi(2,l,i),Ut||hi(4,l,i),Us(r,i,l);break;case 1:Ut||(rs(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"&&xy(l,i,d)),Us(r,i,l);break;case 21:Us(r,i,l);break;case 22:Ut=(d=Ut)||l.memoizedState!==null,Us(r,i,l),Ut=d;break;default:Us(r,i,l)}}function Ty(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{dc(r)}catch(l){vt(i,i.return,l)}}function Y4(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new wy),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new wy),i;default:throw Error(s(435,r.tag))}}function sm(r,i){var l=Y4(r);i.forEach(function(d){var g=nN.bind(null,r,d);l.has(d)||(l.add(d),d.then(g,g))})}function rr(r,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],y=r,T=i,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(wi(I.type)){kt=I.stateNode,Yn=!1;break e}break;case 5:kt=I.stateNode,Yn=!1;break e;case 3:case 4:kt=I.stateNode.containerInfo,Yn=!0;break e}I=I.return}if(kt===null)throw Error(s(160));Ey(y,T,g),kt=null,Yn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Sy(i,r),i=i.sibling}var Vr=null;function Sy(r,i){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rr(i,r),sr(r),d&4&&(hi(3,r,r.return),Yo(3,r),hi(5,r,r.return));break;case 1:rr(i,r),sr(r),d&512&&(Ut||l===null||rs(l,l.return)),d&64&&zs&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=Vr;if(rr(i,r),sr(r),d&512&&(Ut||l===null||rs(l,l.return)),d&4){var y=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Wi]||y[Nt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(d),g.head.insertBefore(y,g.querySelector("head > title"))),vn(y,d,l),y[Nt]=r,Lt(y),d=y;break e;case"link":var T=v1("link","href",g).get(d+(l.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(I,1);break t}}y=g.createElement(d),vn(y,d,l),g.head.appendChild(y);break;case"meta":if(T=v1("meta","content",g).get(d+(l.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(I,1);break t}}y=g.createElement(d),vn(y,d,l),g.head.appendChild(y);break;default:throw Error(s(468,d))}y[Nt]=r,Lt(y),d=y}r.stateNode=d}else w1(g,r.type,r.stateNode);else r.stateNode=b1(g,d,r.memoizedProps);else y!==d?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,d===null?w1(g,r.type,r.stateNode):b1(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&em(r,r.memoizedProps,l.memoizedProps)}break;case 27:rr(i,r),sr(r),d&512&&(Ut||l===null||rs(l,l.return)),l!==null&&d&4&&em(r,r.memoizedProps,l.memoizedProps);break;case 5:if(rr(i,r),sr(r),d&512&&(Ut||l===null||rs(l,l.return)),r.flags&32){g=r.stateNode;try{pr(g,"")}catch(ie){vt(r,r.return,ie)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,em(r,g,l!==null?l.memoizedProps:g)),d&1024&&(rm=!0);break;case 6:if(rr(i,r),sr(r),d&4){if(r.stateNode===null)throw Error(s(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(ie){vt(r,r.return,ie)}}break;case 3:if(vd=null,g=Vr,Vr=yd(i.containerInfo),rr(i,r),Vr=g,sr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{dc(i.containerInfo)}catch(ie){vt(r,r.return,ie)}rm&&(rm=!1,Ay(r));break;case 4:d=Vr,Vr=yd(r.stateNode.containerInfo),rr(i,r),sr(r),Vr=d;break;case 12:rr(i,r),sr(r);break;case 13:rr(i,r),sr(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(um=It()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,sm(r,d)));break;case 22:g=r.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,te=zs,fe=Ut;if(zs=te||g,Ut=fe||H,rr(i,r),Ut=fe,zs=te,sr(r),d&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||H||zs||Ut||Ta(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){H=l=i;try{if(y=H.stateNode,g)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=H.stateNode;var xe=H.memoizedProps.style,re=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;I.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ie){vt(H,H.return,ie)}}}else if(i.tag===6){if(l===null){H=i;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(ie){vt(H,H.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,sm(r,l))));break;case 19:rr(i,r),sr(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,sm(r,d)));break;case 30:break;case 21:break;default:rr(i,r),sr(r)}}function sr(r){var i=r.flags;if(i&2){try{for(var l,d=r.return;d!==null;){if(by(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,y=tm(r);id(r,y,g);break;case 5:var T=l.stateNode;l.flags&32&&(pr(T,""),l.flags&=-33);var I=tm(r);id(r,I,T);break;case 3:case 4:var H=l.stateNode.containerInfo,te=tm(r);nm(r,te,H);break;default:throw Error(s(161))}}catch(fe){vt(r,r.return,fe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Ay(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Ay(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function mi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)_y(r,i.alternate,i),i=i.sibling}function Ta(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:hi(4,i,i.return),Ta(i);break;case 1:rs(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&xy(i,i.return,l),Ta(i);break;case 27:rc(i.stateNode);case 26:case 5:rs(i,i.return),Ta(i);break;case 22:i.memoizedState===null&&Ta(i);break;case 30:Ta(i);break;default:Ta(i)}r=r.sibling}}function pi(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=r,y=i,T=y.flags;switch(y.tag){case 0:case 11:case 15:pi(g,y,l),Yo(4,y);break;case 1:if(pi(g,y,l),d=y,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){vt(d,d.return,te)}if(d=y,g=d.updateQueue,g!==null){var I=d.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)nx(H[g],I)}catch(te){vt(d,d.return,te)}}l&&T&64&&gy(y),Qo(y,y.return);break;case 27:vy(y);case 26:case 5:pi(g,y,l),l&&d===null&&T&4&&yy(y),Qo(y,y.return);break;case 12:pi(g,y,l);break;case 13:pi(g,y,l),l&&T&4&&Ty(g,y);break;case 22:y.memoizedState===null&&pi(g,y,l),Qo(y,y.return);break;case 30:break;default:pi(g,y,l)}i=i.sibling}}function im(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Io(l))}function am(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Io(r))}function ss(r,i,l,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jy(r,i,l,d),i=i.sibling}function jy(r,i,l,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:ss(r,i,l,d),g&2048&&Yo(9,i);break;case 1:ss(r,i,l,d);break;case 3:ss(r,i,l,d),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Io(r)));break;case 12:if(g&2048){ss(r,i,l,d),r=i.stateNode;try{var y=i.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){vt(i,i.return,H)}}else ss(r,i,l,d);break;case 13:ss(r,i,l,d);break;case 23:break;case 22:y=i.stateNode,T=i.alternate,i.memoizedState!==null?y._visibility&2?ss(r,i,l,d):Xo(r,i):y._visibility&2?ss(r,i,l,d):(y._visibility|=2,_l(r,i,l,d,(i.subtreeFlags&10256)!==0)),g&2048&&im(T,i);break;case 24:ss(r,i,l,d),g&2048&&am(i.alternate,i);break;default:ss(r,i,l,d)}}function _l(r,i,l,d,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,T=i,I=l,H=d,te=T.flags;switch(T.tag){case 0:case 11:case 15:_l(y,T,I,H,g),Yo(8,T);break;case 23:break;case 22:var fe=T.stateNode;T.memoizedState!==null?fe._visibility&2?_l(y,T,I,H,g):Xo(y,T):(fe._visibility|=2,_l(y,T,I,H,g)),g&&te&2048&&im(T.alternate,T);break;case 24:_l(y,T,I,H,g),g&&te&2048&&am(T.alternate,T);break;default:_l(y,T,I,H,g)}i=i.sibling}}function Xo(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,d=i,g=d.flags;switch(d.tag){case 22:Xo(l,d),g&2048&&im(d.alternate,d);break;case 24:Xo(l,d),g&2048&&am(d.alternate,d);break;default:Xo(l,d)}i=i.sibling}}var Ko=8192;function Nl(r){if(r.subtreeFlags&Ko)for(r=r.child;r!==null;)Cy(r),r=r.sibling}function Cy(r){switch(r.tag){case 26:Nl(r),r.flags&Ko&&r.memoizedState!==null&&DN(Vr,r.memoizedState,r.memoizedProps);break;case 5:Nl(r);break;case 3:case 4:var i=Vr;Vr=yd(r.stateNode.containerInfo),Nl(r),Vr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Ko,Ko=16777216,Nl(r),Ko=i):Nl(r));break;default:Nl(r)}}function ky(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Zo(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];cn=d,Dy(d,r)}ky(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ry(r),r=r.sibling}function Ry(r){switch(r.tag){case 0:case 11:case 15:Zo(r),r.flags&2048&&hi(9,r,r.return);break;case 3:Zo(r);break;case 12:Zo(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,ad(r)):Zo(r);break;default:Zo(r)}}function ad(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];cn=d,Dy(d,r)}ky(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:hi(8,i,i.return),ad(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,ad(i));break;default:ad(i)}r=r.sibling}}function Dy(r,i){for(;cn!==null;){var l=cn;switch(l.tag){case 0:case 11:case 15:hi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Io(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,cn=d;else e:for(l=r;cn!==null;){d=cn;var g=d.sibling,y=d.return;if(Ny(d),d===l){cn=null;break e}if(g!==null){g.return=y,cn=g;break e}cn=y}}}var Q4={getCacheForType:function(r){var i=jn(en),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l}},X4=typeof WeakMap=="function"?WeakMap:Map,ft=0,Et=null,Qe=null,tt=0,ht=0,ir=null,gi=!1,El=!1,lm=!1,Bs=0,Ot=0,xi=0,Sa=0,om=0,Er=0,Tl=0,Jo=null,Qn=null,cm=!1,um=0,ld=1/0,od=null,yi=null,bn=0,bi=null,Sl=null,Al=0,dm=0,fm=null,Iy=null,Wo=0,hm=null;function ar(){if((ft&2)!==0&&tt!==0)return tt&-tt;if(K.T!==null){var r=ml;return r!==0?r:vm()}return Hr()}function My(){Er===0&&(Er=(tt&536870912)===0||ot?Qi():536870912);var r=Nr.current;return r!==null&&(r.flags|=32),Er}function lr(r,i,l){(r===Et&&(ht===2||ht===9)||r.cancelPendingCommit!==null)&&(jl(r,0),vi(r,tt,Er,!1)),Rr(r,l),((ft&2)===0||r!==Et)&&(r===Et&&((ft&2)===0&&(Sa|=l),Ot===4&&vi(r,tt,Er,!1)),is(r))}function Oy(r,i,l){if((ft&6)!==0)throw Error(s(327));var d=!l&&(i&124)===0&&(i&r.expiredLanes)===0||An(r,i),g=d?J4(r,i):gm(r,i,!0),y=d;do{if(g===0){El&&!d&&vi(r,i,0,!1);break}else{if(l=r.current.alternate,y&&!K4(l)){g=gm(r,i,!1),y=!1;continue}if(g===2){if(y=i,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var I=r;g=Jo;var H=I.current.memoizedState.isDehydrated;if(H&&(jl(I,T).flags|=256),T=gm(I,T,!1),T!==2){if(lm&&!H){I.errorRecoveryDisabledLanes|=y,Sa|=y,g=4;break e}y=Qn,Qn=g,y!==null&&(Qn===null?Qn=y:Qn.push.apply(Qn,y))}g=T}if(y=!1,g!==2)continue}}if(g===1){jl(r,0),vi(r,i,0,!0);break}e:{switch(d=r,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:vi(d,i,Er,!gi);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=um+300-It(),10<g)){if(vi(d,i,Er,!gi),Ct(d,0,!0)!==0)break e;d.timeoutHandle=u1(Vy.bind(null,d,l,Qn,od,cm,i,Er,Sa,Tl,gi,y,2,-0,0),g);break e}Vy(d,l,Qn,od,cm,i,Er,Sa,Tl,gi,y,0,-0,0)}}break}while(!0);is(r)}function Vy(r,i,l,d,g,y,T,I,H,te,fe,xe,re,ie){if(r.timeoutHandle=-1,xe=i.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(ac={stylesheets:null,count:0,unsuspend:RN},Cy(i),xe=IN(),xe!==null)){r.cancelPendingCommit=xe(qy.bind(null,r,i,y,l,d,g,T,I,H,fe,1,re,ie)),vi(r,y,T,!te);return}qy(r,i,y,l,d,g,T,I,H)}function K4(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],y=g.getSnapshot;g=g.value;try{if(!tr(y(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vi(r,i,l,d){i&=~om,i&=~Sa,r.suspendedLanes|=i,r.pingedLanes&=~i,d&&(r.warmLanes|=i),d=r.expirationTimes;for(var g=i;0<g;){var y=31-De(g),T=1<<y;d[y]=-1,g&=~T}l!==0&&mr(r,l,i)}function cd(){return(ft&6)===0?(ec(0),!1):!0}function mm(){if(Qe!==null){if(ht===0)var r=Qe.return;else r=Qe,Is=va=null,Rh(r),vl=null,Ho=0,r=Qe;for(;r!==null;)py(r.alternate,r),r=r.return;Qe=null}}function jl(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,mN(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),mm(),Et=r,Qe=l=ks(r.current,null),tt=i,ht=0,ir=null,gi=!1,El=An(r,i),lm=!1,Tl=Er=om=Sa=xi=Ot=0,Qn=Jo=null,cm=!1,(i&8)!==0&&(i|=i&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=i;0<d;){var g=31-De(d),y=1<<g;i|=r[g],d&=~y}return Bs=i,Ru(),l}function Py(r,i){Ge=null,K.H=Ku,i===Oo||i===Uu?(i=ex(),ht=3):i===Zg?(i=ex(),ht=4):ht=i===ty?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ir=i,Qe===null&&(Ot=1,td(r,br(i,r.current)))}function Ly(){var r=K.H;return K.H=Ku,r===null?Ku:r}function zy(){var r=K.A;return K.A=Q4,r}function pm(){Ot=4,gi||(tt&4194048)!==tt&&Nr.current!==null||(El=!0),(xi&134217727)===0&&(Sa&134217727)===0||Et===null||vi(Et,tt,Er,!1)}function gm(r,i,l){var d=ft;ft|=2;var g=Ly(),y=zy();(Et!==r||tt!==i)&&(od=null,jl(r,i)),i=!1;var T=Ot;e:do try{if(ht!==0&&Qe!==null){var I=Qe,H=ir;switch(ht){case 8:mm(),T=6;break e;case 3:case 2:case 9:case 6:Nr.current===null&&(i=!0);var te=ht;if(ht=0,ir=null,Cl(r,I,H,te),l&&El){T=0;break e}break;default:te=ht,ht=0,ir=null,Cl(r,I,H,te)}}Z4(),T=Ot;break}catch(fe){Py(r,fe)}while(!0);return i&&r.shellSuspendCounter++,Is=va=null,ft=d,K.H=g,K.A=y,Qe===null&&(Et=null,tt=0,Ru()),T}function Z4(){for(;Qe!==null;)Uy(Qe)}function J4(r,i){var l=ft;ft|=2;var d=Ly(),g=zy();Et!==r||tt!==i?(od=null,ld=It()+500,jl(r,i)):El=An(r,i);e:do try{if(ht!==0&&Qe!==null){i=Qe;var y=ir;t:switch(ht){case 1:ht=0,ir=null,Cl(r,i,y,1);break;case 2:case 9:if(Jg(y)){ht=0,ir=null,By(i);break}i=function(){ht!==2&&ht!==9||Et!==r||(ht=7),is(r)},y.then(i,i);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Jg(y)?(ht=0,ir=null,By(i)):(ht=0,ir=null,Cl(r,i,y,7));break;case 5:var T=null;switch(Qe.tag){case 26:T=Qe.memoizedState;case 5:case 27:var I=Qe;if(!T||_1(T)){ht=0,ir=null;var H=I.sibling;if(H!==null)Qe=H;else{var te=I.return;te!==null?(Qe=te,ud(te)):Qe=null}break t}}ht=0,ir=null,Cl(r,i,y,5);break;case 6:ht=0,ir=null,Cl(r,i,y,6);break;case 8:mm(),Ot=6;break e;default:throw Error(s(462))}}W4();break}catch(fe){Py(r,fe)}while(!0);return Is=va=null,K.H=d,K.A=g,ft=l,Qe!==null?0:(Et=null,tt=0,Ru(),Ot)}function W4(){for(;Qe!==null&&!hn();)Uy(Qe)}function Uy(r){var i=hy(r.alternate,r,Bs);r.memoizedProps=r.pendingProps,i===null?ud(r):Qe=i}function By(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=ly(l,i,i.pendingProps,i.type,void 0,tt);break;case 11:i=ly(l,i,i.pendingProps,i.type.render,i.ref,tt);break;case 5:Rh(i);default:py(l,i),i=Qe=Fg(i,Bs),i=hy(l,i,Bs)}r.memoizedProps=r.pendingProps,i===null?ud(r):Qe=i}function Cl(r,i,l,d){Is=va=null,Rh(i),vl=null,Ho=0;var g=i.return;try{if(F4(r,g,i,l,tt)){Ot=1,td(r,br(l,r.current)),Qe=null;return}}catch(y){if(g!==null)throw Qe=g,y;Ot=1,td(r,br(l,r.current)),Qe=null;return}i.flags&32768?(ot||d===1?r=!0:El||(tt&536870912)!==0?r=!1:(gi=r=!0,(d===2||d===9||d===3||d===6)&&(d=Nr.current,d!==null&&d.tag===13&&(d.flags|=16384))),Fy(i,r)):ud(i)}function ud(r){var i=r;do{if((i.flags&32768)!==0){Fy(i,gi);return}r=i.return;var l=H4(i.alternate,i,Bs);if(l!==null){Qe=l;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=r}while(i!==null);Ot===0&&(Ot=5)}function Fy(r,i){do{var l=$4(r.alternate,r);if(l!==null){l.flags&=32767,Qe=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){Qe=r;return}Qe=r=l}while(r!==null);Ot=6,Qe=null}function qy(r,i,l,d,g,y,T,I,H){r.cancelPendingCommit=null;do dd();while(bn!==0);if((ft&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=ah,Ki(r,l,y,T,I,H),r===Et&&(Qe=Et=null,tt=0),Sl=i,bi=r,Al=l,dm=y,fm=g,Iy=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rN(fr,function(){return Qy(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,g=ue.p,ue.p=2,T=ft,ft|=4;try{G4(r,i,l)}finally{ft=T,ue.p=g,K.T=d}}bn=1,Hy(),$y(),Gy()}}function Hy(){if(bn===1){bn=0;var r=bi,i=Sl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var d=ue.p;ue.p=2;var g=ft;ft|=4;try{Sy(i,r);var y=jm,T=Dg(r.containerInfo),I=y.focusedElem,H=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&Rg(I.ownerDocument.documentElement,I)){if(H!==null&&th(I)){var te=H.start,fe=H.end;if(fe===void 0&&(fe=te),"selectionStart"in I)I.selectionStart=te,I.selectionEnd=Math.min(fe,I.value.length);else{var xe=I.ownerDocument||document,re=xe&&xe.defaultView||window;if(re.getSelection){var ie=re.getSelection(),ze=I.textContent.length,Oe=Math.min(H.start,ze),xt=H.end===void 0?Oe:Math.min(H.end,ze);!ie.extend&&Oe>xt&&(T=xt,xt=Oe,Oe=T);var Q=kg(I,Oe),$=kg(I,xt);if(Q&&$&&(ie.rangeCount!==1||ie.anchorNode!==Q.node||ie.anchorOffset!==Q.offset||ie.focusNode!==$.node||ie.focusOffset!==$.offset)){var ee=xe.createRange();ee.setStart(Q.node,Q.offset),ie.removeAllRanges(),Oe>xt?(ie.addRange(ee),ie.extend($.node,$.offset)):(ee.setEnd($.node,$.offset),ie.addRange(ee))}}}}for(xe=[],ie=I;ie=ie.parentNode;)ie.nodeType===1&&xe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<xe.length;I++){var me=xe[I];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Nd=!!Am,jm=Am=null}finally{ft=g,ue.p=d,K.T=l}}r.current=i,bn=2}}function $y(){if(bn===2){bn=0;var r=bi,i=Sl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var d=ue.p;ue.p=2;var g=ft;ft|=4;try{_y(r,i.alternate,i)}finally{ft=g,ue.p=d,K.T=l}}bn=3}}function Gy(){if(bn===4||bn===3){bn=0,Fr();var r=bi,i=Sl,l=Al,d=Iy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?bn=5:(bn=0,Sl=bi=null,Yy(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(yi=null),bs(l),i=i.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=K.T,g=ue.p,ue.p=2,K.T=null;try{for(var y=r.onRecoverableError,T=0;T<d.length;T++){var I=d[T];y(I.value,{componentStack:I.stack})}}finally{K.T=i,ue.p=g}}(Al&3)!==0&&dd(),is(r),g=r.pendingLanes,(l&4194090)!==0&&(g&42)!==0?r===hm?Wo++:(Wo=0,hm=r):Wo=0,ec(0)}}function Yy(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Io(i)))}function dd(r){return Hy(),$y(),Gy(),Qy()}function Qy(){if(bn!==5)return!1;var r=bi,i=dm;dm=0;var l=bs(Al),d=K.T,g=ue.p;try{ue.p=32>l?32:l,K.T=null,l=fm,fm=null;var y=bi,T=Al;if(bn=0,Sl=bi=null,Al=0,(ft&6)!==0)throw Error(s(331));var I=ft;if(ft|=4,Ry(y.current),jy(y,y.current,T,l),ft=I,ec(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(se,y)}catch{}return!0}finally{ue.p=g,K.T=d,Yy(r,i)}}function Xy(r,i,l){i=br(l,i),i=$h(r.stateNode,i,2),r=ci(r,i,2),r!==null&&(Rr(r,2),is(r))}function vt(r,i,l){if(r.tag===3)Xy(r,r,l);else for(;i!==null;){if(i.tag===3){Xy(i,r,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(yi===null||!yi.has(d))){r=br(l,r),l=Wx(2),d=ci(i,l,2),d!==null&&(ey(l,d,i,r),Rr(d,2),is(d));break}}i=i.return}}function xm(r,i,l){var d=r.pingCache;if(d===null){d=r.pingCache=new X4;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(l)||(lm=!0,g.add(l),r=eN.bind(null,r,i,l),i.then(r,r))}function eN(r,i,l){var d=r.pingCache;d!==null&&d.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Et===r&&(tt&l)===l&&(Ot===4||Ot===3&&(tt&62914560)===tt&&300>It()-um?(ft&2)===0&&jl(r,0):om|=l,Tl===tt&&(Tl=0)),is(r)}function Ky(r,i){i===0&&(i=Xi()),r=ul(r,i),r!==null&&(Rr(r,i),is(r))}function tN(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Ky(r,l)}function nN(r,i){var l=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(i),Ky(r,l)}function rN(r,i){return bt(r,i)}var fd=null,kl=null,ym=!1,hd=!1,bm=!1,Aa=0;function is(r){r!==kl&&r.next===null&&(kl===null?fd=kl=r:kl=kl.next=r),hd=!0,ym||(ym=!0,iN())}function ec(r,i){if(!bm&&hd){bm=!0;do for(var l=!1,d=fd;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var y=0;else{var T=d.suspendedLanes,I=d.pingedLanes;y=(1<<31-De(42|r)+1)-1,y&=g&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,e1(d,y))}else y=tt,y=Ct(d,d===Et?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||An(d,y)||(l=!0,e1(d,y));d=d.next}while(l);bm=!1}}function sN(){Zy()}function Zy(){hd=ym=!1;var r=0;Aa!==0&&(hN()&&(r=Aa),Aa=0);for(var i=It(),l=null,d=fd;d!==null;){var g=d.next,y=Jy(d,i);y===0?(d.next=null,l===null?fd=g:l.next=g,g===null&&(kl=l)):(l=d,(r!==0||(y&3)!==0)&&(hd=!0)),d=g}ec(r)}function Jy(r,i){for(var l=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-De(y),I=1<<T,H=g[T];H===-1?((I&l)===0||(I&d)!==0)&&(g[T]=pn(I,i)):H<=i&&(r.expiredLanes|=I),y&=~I}if(i=Et,l=tt,l=Ct(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===i&&(ht===2||ht===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&rn(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||An(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(d!==null&&rn(d),bs(l)){case 2:case 8:l=Hn;break;case 32:l=fr;break;case 268435456:l=hr;break;default:l=fr}return d=Wy.bind(null,r),l=bt(l,d),r.callbackPriority=i,r.callbackNode=l,i}return d!==null&&d!==null&&rn(d),r.callbackPriority=2,r.callbackNode=null,2}function Wy(r,i){if(bn!==0&&bn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(dd()&&r.callbackNode!==l)return null;var d=tt;return d=Ct(r,r===Et?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Oy(r,d,i),Jy(r,It()),r.callbackNode!=null&&r.callbackNode===l?Wy.bind(null,r):null)}function e1(r,i){if(dd())return null;Oy(r,i,!0)}function iN(){pN(function(){(ft&6)!==0?bt(dr,sN):Zy()})}function vm(){return Aa===0&&(Aa=Qi()),Aa}function t1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ja(""+r)}function n1(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function aN(r,i,l,d,g){if(i==="submit"&&l&&l.stateNode===g){var y=t1((g[de]||null).action),T=d.submitter;T&&(i=(i=T[de]||null)?t1(i.formAction):T.getAttribute("formAction"),i!==null&&(y=i,T=null));var I=new Wa("action","action",null,d,g);r.push({event:I,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Aa!==0){var H=T?n1(g,T):new FormData(g);Uh(l,{pending:!0,data:H,method:g.method,action:y},null,H)}}else typeof y=="function"&&(I.preventDefault(),H=T?n1(g,T):new FormData(g),Uh(l,{pending:!0,data:H,method:g.method,action:y},y,H))},currentTarget:g}]})}}for(var wm=0;wm<ih.length;wm++){var _m=ih[wm],lN=_m.toLowerCase(),oN=_m[0].toUpperCase()+_m.slice(1);Or(lN,"on"+oN)}Or(Og,"onAnimationEnd"),Or(Vg,"onAnimationIteration"),Or(Pg,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(T4,"onTransitionRun"),Or(S4,"onTransitionStart"),Or(A4,"onTransitionCancel"),Or(Lg,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function r1(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],g=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var T=d.length-1;0<=T;T--){var I=d[T],H=I.instance,te=I.currentTarget;if(I=I.listener,H!==y&&g.isPropagationStopped())break e;y=I,g.currentTarget=te;try{y(g)}catch(fe){ed(fe)}g.currentTarget=null,y=H}else for(T=0;T<d.length;T++){if(I=d[T],H=I.instance,te=I.currentTarget,I=I.listener,H!==y&&g.isPropagationStopped())break e;y=I,g.currentTarget=te;try{y(g)}catch(fe){ed(fe)}g.currentTarget=null,y=H}}}}function Xe(r,i){var l=i[At];l===void 0&&(l=i[At]=new Set);var d=r+"__bubble";l.has(d)||(s1(i,r,2,!1),l.add(d))}function Nm(r,i,l){var d=0;i&&(d|=4),s1(l,r,d,i)}var md="_reactListening"+Math.random().toString(36).slice(2);function Em(r){if(!r[md]){r[md]=!0,ho.forEach(function(l){l!=="selectionchange"&&(cN.has(l)||Nm(l,!1,r),Nm(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[md]||(i[md]=!0,Nm("selectionchange",!1,i))}}function s1(r,i,l,d){switch(j1(i)){case 2:var g=VN;break;case 8:g=PN;break;default:g=Lm}l=g.bind(null,i,l,r),g=void 0,!xr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(i,l,{capture:!0,passive:g}):r.addEventListener(i,l,!0):g!==void 0?r.addEventListener(i,l,{passive:g}):r.addEventListener(i,l,!1)}function Tm(r,i,l,d,g){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var I=d.stateNode.containerInfo;if(I===g)break;if(T===4)for(T=d.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;I!==null;){if(T=vs(I),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){d=y=T;continue e}I=I.parentNode}}d=d.return}gu(function(){var te=y,fe=gr(l),xe=[];e:{var re=zg.get(r);if(re!==void 0){var ie=Wa,ze=r;switch(r){case"keypress":if(Kr(l)===0)break e;case"keydown":case"keyup":ie=il;break;case"focusin":ze="focus",ie=nl;break;case"focusout":ze="blur",ie=nl;break;case"beforeblur":case"afterblur":ie=nl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=yr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Eu;break;case Og:case Vg:case Pg:ie=rl;break;case Lg:ie=Su;break;case"scroll":case"scrollend":ie=xu;break;case"wheel":ie=al;break;case"copy":case"cut":case"paste":ie=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=To;break;case"toggle":case"beforetoggle":ie=ju}var Oe=(i&4)!==0,xt=!Oe&&(r==="scroll"||r==="scrollend"),Q=Oe?re!==null?re+"Capture":null:re;Oe=[];for(var $=te,ee;$!==null;){var me=$;if(ee=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ee===null||Q===null||(me=aa($,Q),me!=null&&Oe.push(nc($,me,ee))),xt)break;$=$.return}0<Oe.length&&(re=new ie(re,ze,null,l,fe),xe.push({event:re,listeners:Oe}))}}if((i&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",re&&l!==Es&&(ze=l.relatedTarget||l.fromElement)&&(vs(ze)||ze[Ue]))break e;if((ie||re)&&(re=fe.window===fe?fe:(re=fe.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(ze=l.relatedTarget||l.toElement,ie=te,ze=ze?vs(ze):null,ze!==null&&(xt=o(ze),Oe=ze.tag,ze!==xt||Oe!==5&&Oe!==27&&Oe!==6)&&(ze=null)):(ie=null,ze=te),ie!==ze)){if(Oe=yr,me="onMouseLeave",Q="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=To,me="onPointerLeave",Q="onPointerEnter",$="pointer"),xt=ie==null?re:Gr(ie),ee=ze==null?re:Gr(ze),re=new Oe(me,$+"leave",ie,l,fe),re.target=xt,re.relatedTarget=ee,me=null,vs(fe)===te&&(Oe=new Oe(Q,$+"enter",ze,l,fe),Oe.target=ee,Oe.relatedTarget=xt,me=Oe),xt=me,ie&&ze)t:{for(Oe=ie,Q=ze,$=0,ee=Oe;ee;ee=Rl(ee))$++;for(ee=0,me=Q;me;me=Rl(me))ee++;for(;0<$-ee;)Oe=Rl(Oe),$--;for(;0<ee-$;)Q=Rl(Q),ee--;for(;$--;){if(Oe===Q||Q!==null&&Oe===Q.alternate)break t;Oe=Rl(Oe),Q=Rl(Q)}Oe=null}else Oe=null;ie!==null&&i1(xe,re,ie,Oe,!1),ze!==null&&xt!==null&&i1(xe,xt,ze,Oe,!0)}}e:{if(re=te?Gr(te):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var Ce=Eg;else if(Wt(re))if(Tg)Ce=_4;else{Ce=v4;var Ye=b4}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&yo(te.elementType)&&(Ce=Eg):Ce=w4;if(Ce&&(Ce=Ce(r,te))){Cs(xe,Ce,l,fe);break e}Ye&&Ye(r,re,te),r==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&si(re,"number",re.value)}switch(Ye=te?Gr(te):window,r){case"focusin":(Wt(Ye)||Ye.contentEditable==="true")&&(ll=Ye,nh=te,jo=null);break;case"focusout":jo=nh=ll=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Ig(xe,l,fe);break;case"selectionchange":if(E4)break;case"keydown":case"keyup":Ig(xe,l,fe)}var Re;if(Wr)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else We?le(r,l)&&(Ve="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(E&&l.locale!=="ko"&&(We||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&We&&(Re=vo()):(Xr=fe,ii="value"in Xr?Xr.value:Xr.textContent,We=!0)),Ye=pd(te,Ve),0<Ye.length&&(Ve=new No(Ve,r,null,l,fe),xe.push({event:Ve,listeners:Ye}),Re?Ve.data=Re:(Re=Ne(l),Re!==null&&(Ve.data=Re)))),(Re=v?Jt(r,l):et(r,l))&&(Ve=pd(te,"onBeforeInput"),0<Ve.length&&(Ye=new No("onBeforeInput","beforeinput",null,l,fe),xe.push({event:Ye,listeners:Ve}),Ye.data=Re)),aN(xe,r,te,l,fe)}r1(xe,i)})}function nc(r,i,l){return{instance:r,listener:i,currentTarget:l}}function pd(r,i){for(var l=i+"Capture",d=[];r!==null;){var g=r,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=aa(r,l),g!=null&&d.unshift(nc(r,g,y)),g=aa(r,i),g!=null&&d.push(nc(r,g,y))),r.tag===3)return d;r=r.return}return[]}function Rl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function i1(r,i,l,d,g){for(var y=i._reactName,T=[];l!==null&&l!==d;){var I=l,H=I.alternate,te=I.stateNode;if(I=I.tag,H!==null&&H===d)break;I!==5&&I!==26&&I!==27||te===null||(H=te,g?(te=aa(l,y),te!=null&&T.unshift(nc(l,te,H))):g||(te=aa(l,y),te!=null&&T.push(nc(l,te,H)))),l=l.return}T.length!==0&&r.push({event:i,listeners:T})}var uN=/\r\n?/g,dN=/\u0000|\uFFFD/g;function a1(r){return(typeof r=="string"?r:""+r).replace(uN,`
`).replace(dN,"")}function l1(r,i){return i=a1(i),a1(r)===i}function gd(){}function gt(r,i,l,d,g,y){switch(l){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||pr(r,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&pr(r,""+d);break;case"className":Yr(r,"class",d);break;case"tabIndex":Yr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(r,l,d);break;case"style":xo(r,d,y);break;case"data":if(i!=="object"){Yr(r,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Ja(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&gt(r,i,"name",g.name,g,null),gt(r,i,"formEncType",g.formEncType,g,null),gt(r,i,"formMethod",g.formMethod,g,null),gt(r,i,"formTarget",g.formTarget,g,null)):(gt(r,i,"encType",g.encType,g,null),gt(r,i,"method",g.method,g,null),gt(r,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Ja(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=gd);break;case"onScroll":d!=null&&Xe("scroll",r);break;case"onScrollEnd":d!=null&&Xe("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=Ja(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":Xe("beforetoggle",r),Xe("toggle",r),ri(r,"popover",d);break;case"xlinkActuate":gn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":gn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":gn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":gn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":gn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":gn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":gn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":gn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":gn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ri(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xf.get(l)||l,ri(r,l,d))}}function Sm(r,i,l,d,g,y){switch(l){case"style":xo(r,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof d=="string"?pr(r,d):(typeof d=="number"||typeof d=="bigint")&&pr(r,""+d);break;case"onScroll":d!=null&&Xe("scroll",r);break;case"onScrollEnd":d!=null&&Xe("scrollend",r);break;case"onClick":d!=null&&(r.onclick=gd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),y=r[de]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(i,y,g),typeof d=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,d,g);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):ri(r,l,d)}}}function vn(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",r),Xe("load",r);var d=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:gt(r,i,y,T,l,null)}}g&&gt(r,i,"srcSet",l.srcSet,l,null),d&&gt(r,i,"src",l.src,l,null);return;case"input":Xe("invalid",r);var I=y=T=g=null,H=null,te=null;for(d in l)if(l.hasOwnProperty(d)){var fe=l[d];if(fe!=null)switch(d){case"name":g=fe;break;case"type":T=fe;break;case"checked":H=fe;break;case"defaultChecked":te=fe;break;case"value":y=fe;break;case"defaultValue":I=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,i));break;default:gt(r,i,d,fe,l,null)}}ra(r,y,I,H,te,T,g,!1),Za(r);return;case"select":Xe("invalid",r),d=T=y=null;for(g in l)if(l.hasOwnProperty(g)&&(I=l[g],I!=null))switch(g){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":d=I;default:gt(r,i,g,I,l,null)}i=y,l=T,r.multiple=!!d,i!=null?Ns(r,!!d,i,!1):l!=null&&Ns(r,!!d,l,!0);return;case"textarea":Xe("invalid",r),y=g=d=null;for(T in l)if(l.hasOwnProperty(T)&&(I=l[T],I!=null))switch(T){case"value":d=I;break;case"defaultValue":g=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(91));break;default:gt(r,i,T,I,l,null)}sa(r,d,g,y),Za(r);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(d=l[H],d!=null))switch(H){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:gt(r,i,H,d,l,null)}return;case"dialog":Xe("beforetoggle",r),Xe("toggle",r),Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":Xe("load",r);break;case"video":case"audio":for(d=0;d<tc.length;d++)Xe(tc[d],r);break;case"image":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"embed":case"source":case"link":Xe("error",r),Xe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(d=l[te],d!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:gt(r,i,te,d,l,null)}return;default:if(yo(i)){for(fe in l)l.hasOwnProperty(fe)&&(d=l[fe],d!==void 0&&Sm(r,i,fe,d,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(d=l[I],d!=null&&gt(r,i,I,d,l,null))}function fN(r,i,l,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,T=null,I=null,H=null,te=null,fe=null;for(ie in l){var xe=l[ie];if(l.hasOwnProperty(ie)&&xe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":H=xe;default:d.hasOwnProperty(ie)||gt(r,i,ie,null,d,xe)}}for(var re in d){var ie=d[re];if(xe=l[re],d.hasOwnProperty(re)&&(ie!=null||xe!=null))switch(re){case"type":y=ie;break;case"name":g=ie;break;case"checked":te=ie;break;case"defaultChecked":fe=ie;break;case"value":T=ie;break;case"defaultValue":I=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,i));break;default:ie!==xe&&gt(r,i,re,ie,d,xe)}}er(r,T,I,H,te,fe,y,g);return;case"select":ie=T=I=re=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":ie=H;default:d.hasOwnProperty(y)||gt(r,i,y,null,d,H)}for(g in d)if(y=d[g],H=l[g],d.hasOwnProperty(g)&&(y!=null||H!=null))switch(g){case"value":re=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==H&&gt(r,i,g,y,d,H)}i=I,l=T,d=ie,re!=null?Ns(r,!!l,re,!1):!!d!=!!l&&(i!=null?Ns(r,!!l,i,!0):Ns(r,!!l,l?[]:"",!1));return;case"textarea":ie=re=null;for(I in l)if(g=l[I],l.hasOwnProperty(I)&&g!=null&&!d.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:gt(r,i,I,null,d,g)}for(T in d)if(g=d[T],y=l[T],d.hasOwnProperty(T)&&(g!=null||y!=null))switch(T){case"value":re=g;break;case"defaultValue":ie=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&gt(r,i,T,g,d,y)}mt(r,re,ie);return;case"option":for(var ze in l)if(re=l[ze],l.hasOwnProperty(ze)&&re!=null&&!d.hasOwnProperty(ze))switch(ze){case"selected":r.selected=!1;break;default:gt(r,i,ze,null,d,re)}for(H in d)if(re=d[H],ie=l[H],d.hasOwnProperty(H)&&re!==ie&&(re!=null||ie!=null))switch(H){case"selected":r.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:gt(r,i,H,re,d,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)re=l[Oe],l.hasOwnProperty(Oe)&&re!=null&&!d.hasOwnProperty(Oe)&&gt(r,i,Oe,null,d,re);for(te in d)if(re=d[te],ie=l[te],d.hasOwnProperty(te)&&re!==ie&&(re!=null||ie!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:gt(r,i,te,re,d,ie)}return;default:if(yo(i)){for(var xt in l)re=l[xt],l.hasOwnProperty(xt)&&re!==void 0&&!d.hasOwnProperty(xt)&&Sm(r,i,xt,void 0,d,re);for(fe in d)re=d[fe],ie=l[fe],!d.hasOwnProperty(fe)||re===ie||re===void 0&&ie===void 0||Sm(r,i,fe,re,d,ie);return}}for(var Q in l)re=l[Q],l.hasOwnProperty(Q)&&re!=null&&!d.hasOwnProperty(Q)&&gt(r,i,Q,null,d,re);for(xe in d)re=d[xe],ie=l[xe],!d.hasOwnProperty(xe)||re===ie||re==null&&ie==null||gt(r,i,xe,re,d,ie)}var Am=null,jm=null;function xd(r){return r.nodeType===9?r:r.ownerDocument}function o1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c1(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Cm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var km=null;function hN(){var r=window.event;return r&&r.type==="popstate"?r===km?!1:(km=r,!0):(km=null,!1)}var u1=typeof setTimeout=="function"?setTimeout:void 0,mN=typeof clearTimeout=="function"?clearTimeout:void 0,d1=typeof Promise=="function"?Promise:void 0,pN=typeof queueMicrotask=="function"?queueMicrotask:typeof d1<"u"?function(r){return d1.resolve(null).then(r).catch(gN)}:u1;function gN(r){setTimeout(function(){throw r})}function wi(r){return r==="head"}function f1(r,i){var l=i,d=0,g=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<d&&8>d){l=d;var T=r.ownerDocument;if(l&1&&rc(T.documentElement),l&2&&rc(T.body),l&4)for(l=T.head,rc(l),T=l.firstChild;T;){var I=T.nextSibling,H=T.nodeName;T[Wi]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=I}}if(g===0){r.removeChild(y),dc(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=y}while(l);dc(i)}function Rm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Rm(l),ni(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function xN(r,i,l,d){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Wi])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Pr(r.nextSibling),r===null)break}return null}function yN(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Pr(r.nextSibling),r===null))return null;return r}function Dm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function bN(r,i){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")i();else{var d=function(){i(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Pr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Im=null;function h1(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}function m1(r,i,l){switch(i=xd(l),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function rc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);ni(r)}var Tr=new Map,p1=new Set;function yd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Fs=ue.d;ue.d={f:vN,r:wN,D:_N,C:NN,L:EN,m:TN,X:AN,S:SN,M:jN};function vN(){var r=Fs.f(),i=cd();return r||i}function wN(r){var i=$r(r);i!==null&&i.tag===5&&i.type==="form"?Ox(i):Fs.r(r)}var Dl=typeof document>"u"?null:document;function g1(r,i,l){var d=Dl;if(d&&typeof i=="string"&&i){var g=qt(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),p1.has(g)||(p1.add(g),r={rel:r,crossOrigin:l,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),vn(i,"link",r),Lt(i),d.head.appendChild(i)))}}function _N(r){Fs.D(r),g1("dns-prefetch",r,null)}function NN(r,i){Fs.C(r,i),g1("preconnect",r,i)}function EN(r,i,l){Fs.L(r,i,l);var d=Dl;if(d&&r&&i){var g='link[rel="preload"][as="'+qt(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+qt(l.imageSizes)+'"]')):g+='[href="'+qt(r)+'"]';var y=g;switch(i){case"style":y=Il(r);break;case"script":y=Ml(r)}Tr.has(y)||(r=x({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Tr.set(y,r),d.querySelector(g)!==null||i==="style"&&d.querySelector(sc(y))||i==="script"&&d.querySelector(ic(y))||(i=d.createElement("link"),vn(i,"link",r),Lt(i),d.head.appendChild(i)))}}function TN(r,i){Fs.m(r,i);var l=Dl;if(l&&r){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+qt(d)+'"][href="'+qt(r)+'"]',y=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ml(r)}if(!Tr.has(y)&&(r=x({rel:"modulepreload",href:r},i),Tr.set(y,r),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ic(y)))return}d=l.createElement("link"),vn(d,"link",r),Lt(d),l.head.appendChild(d)}}}function SN(r,i,l){Fs.S(r,i,l);var d=Dl;if(d&&r){var g=Vn(d).hoistableStyles,y=Il(r);i=i||"default";var T=g.get(y);if(!T){var I={loading:0,preload:null};if(T=d.querySelector(sc(y)))I.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Tr.get(y))&&Mm(r,l);var H=T=d.createElement("link");Lt(H),vn(H,"link",r),H._p=new Promise(function(te,fe){H.onload=te,H.onerror=fe}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,bd(T,i,d)}T={type:"stylesheet",instance:T,count:1,state:I},g.set(y,T)}}}function AN(r,i){Fs.X(r,i);var l=Dl;if(l&&r){var d=Vn(l).hoistableScripts,g=Ml(r),y=d.get(g);y||(y=l.querySelector(ic(g)),y||(r=x({src:r,async:!0},i),(i=Tr.get(g))&&Om(r,i),y=l.createElement("script"),Lt(y),vn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function jN(r,i){Fs.M(r,i);var l=Dl;if(l&&r){var d=Vn(l).hoistableScripts,g=Ml(r),y=d.get(g);y||(y=l.querySelector(ic(g)),y||(r=x({src:r,async:!0,type:"module"},i),(i=Tr.get(g))&&Om(r,i),y=l.createElement("script"),Lt(y),vn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function x1(r,i,l,d){var g=(g=oe.current)?yd(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Il(l.href),l=Vn(g).hoistableStyles,d=l.get(i),d||(d={type:"style",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Il(l.href);var y=Vn(g).hoistableStyles,T=y.get(r);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=g.querySelector(sc(r)))&&!y._p&&(T.instance=y,T.state.loading=5),Tr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Tr.set(r,l),y||CN(g,r,l,T.state))),i&&d===null)throw Error(s(528,""));return T}if(i&&d!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ml(l),l=Vn(g).hoistableScripts,d=l.get(i),d||(d={type:"script",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Il(r){return'href="'+qt(r)+'"'}function sc(r){return'link[rel="stylesheet"]['+r+"]"}function y1(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function CN(r,i,l,d){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=r.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),vn(i,"link",l),Lt(i),r.head.appendChild(i))}function Ml(r){return'[src="'+qt(r)+'"]'}function ic(r){return"script[async]"+r}function b1(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var d=r.querySelector('style[data-href~="'+qt(l.href)+'"]');if(d)return i.instance=d,Lt(d),d;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Lt(d),vn(d,"style",g),bd(d,l.precedence,r),i.instance=d;case"stylesheet":g=Il(l.href);var y=r.querySelector(sc(g));if(y)return i.state.loading|=4,i.instance=y,Lt(y),y;d=y1(l),(g=Tr.get(g))&&Mm(d,g),y=(r.ownerDocument||r).createElement("link"),Lt(y);var T=y;return T._p=new Promise(function(I,H){T.onload=I,T.onerror=H}),vn(y,"link",d),i.state.loading|=4,bd(y,l.precedence,r),i.instance=y;case"script":return y=Ml(l.src),(g=r.querySelector(ic(y)))?(i.instance=g,Lt(g),g):(d=l,(g=Tr.get(y))&&(d=x({},l),Om(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),Lt(g),vn(g,"link",d),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,bd(d,l.precedence,r));return i.instance}function bd(r,i,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,y=g,T=0;T<d.length;T++){var I=d[T];if(I.dataset.precedence===i)y=I;else if(y!==g)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function Mm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Om(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var vd=null;function v1(r,i,l){if(vd===null){var d=new Map,g=vd=new Map;g.set(l,d)}else g=vd,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var y=l[g];if(!(y[Wi]||y[Nt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(i)||"";T=r+T;var I=d.get(T);I?I.push(y):d.set(T,[y])}}return d}function w1(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function kN(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ac=null;function RN(){}function DN(r,i,l){if(ac===null)throw Error(s(475));var d=ac;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Il(l.href),y=r.querySelector(sc(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=wd.bind(d),r.then(d,d)),i.state.loading|=4,i.instance=y,Lt(y);return}y=r.ownerDocument||r,l=y1(l),(g=Tr.get(g))&&Mm(l,g),y=y.createElement("link"),Lt(y);var T=y;T._p=new Promise(function(I,H){T.onload=I,T.onerror=H}),vn(y,"link",l),i.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=wd.bind(d),r.addEventListener("load",i),r.addEventListener("error",i))}}function IN(){if(ac===null)throw Error(s(475));var r=ac;return r.stylesheets&&r.count===0&&Vm(r,r.stylesheets),0<r.count?function(i){var l=setTimeout(function(){if(r.stylesheets&&Vm(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(l)}}:null}function wd(){if(this.count--,this.count===0){if(this.stylesheets)Vm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var _d=null;function Vm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,_d=new Map,i.forEach(MN,r),_d=null,wd.call(r))}function MN(r,i){if(!(i.state.loading&4)){var l=_d.get(r);if(l)var d=l.get(null);else{l=new Map,_d.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var T=g[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),d=T)}d&&l.set(null,d)}g=i.instance,T=g.getAttribute("data-precedence"),y=l.get(T)||d,y===d&&l.set(null,g),l.set(T,g),this.count++,d=wd.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),y?y.parentNode.insertBefore(g,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var lc={$$typeof:z,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function ON(r,i,l,d,g,y,T,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function N1(r,i,l,d,g,y,T,I,H,te,fe,xe){return r=new ON(r,i,l,T,I,H,te,xe),i=1,y===!0&&(i|=24),y=nr(3,null,null,i),r.current=y,y.stateNode=r,i=xh(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:d,isDehydrated:l,cache:i},wh(y),r}function E1(r){return r?(r=dl,r):dl}function T1(r,i,l,d,g,y){g=E1(g),d.context===null?d.context=g:d.pendingContext=g,d=oi(i),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=ci(r,d,i),l!==null&&(lr(l,r,i),Po(l,r,i))}function S1(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Pm(r,i){S1(r,i),(r=r.alternate)&&S1(r,i)}function A1(r){if(r.tag===13){var i=ul(r,67108864);i!==null&&lr(i,r,67108864),Pm(r,67108864)}}var Nd=!0;function VN(r,i,l,d){var g=K.T;K.T=null;var y=ue.p;try{ue.p=2,Lm(r,i,l,d)}finally{ue.p=y,K.T=g}}function PN(r,i,l,d){var g=K.T;K.T=null;var y=ue.p;try{ue.p=8,Lm(r,i,l,d)}finally{ue.p=y,K.T=g}}function Lm(r,i,l,d){if(Nd){var g=zm(d);if(g===null)Tm(r,i,d,Ed,l),C1(r,d);else if(zN(g,r,i,l,d))d.stopPropagation();else if(C1(r,d),i&4&&-1<LN.indexOf(r)){for(;g!==null;){var y=$r(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Ft(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var H=1<<31-De(T);I.entanglements[1]|=H,T&=~H}is(y),(ft&6)===0&&(ld=It()+500,ec(0))}}break;case 13:I=ul(y,2),I!==null&&lr(I,y,2),cd(),Pm(y,2)}if(y=zm(d),y===null&&Tm(r,i,d,Ed,l),y===g)break;g=y}g!==null&&d.stopPropagation()}else Tm(r,i,d,null,l)}}function zm(r){return r=gr(r),Um(r)}var Ed=null;function Um(r){if(Ed=null,r=vs(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=c(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Ed=r,null}function j1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qr()){case dr:return 2;case Hn:return 8;case fr:case Yi:return 32;case hr:return 268435456;default:return 32}default:return 32}}var Bm=!1,_i=null,Ni=null,Ei=null,oc=new Map,cc=new Map,Ti=[],LN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C1(r,i){switch(r){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(i.pointerId)}}function uc(r,i,l,d,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},i!==null&&(i=$r(i),i!==null&&A1(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function zN(r,i,l,d,g){switch(i){case"focusin":return _i=uc(_i,r,i,l,d,g),!0;case"dragenter":return Ni=uc(Ni,r,i,l,d,g),!0;case"mouseover":return Ei=uc(Ei,r,i,l,d,g),!0;case"pointerover":var y=g.pointerId;return oc.set(y,uc(oc.get(y)||null,r,i,l,d,g)),!0;case"gotpointercapture":return y=g.pointerId,cc.set(y,uc(cc.get(y)||null,r,i,l,d,g)),!0}return!1}function k1(r){var i=vs(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){r.blockedOn=i,Ga(r.priority,function(){if(l.tag===13){var d=ar();d=Dr(d);var g=ul(l,d);g!==null&&lr(g,l,d),Pm(l,d)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Td(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=zm(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Es=d,l.target.dispatchEvent(d),Es=null}else return i=$r(l),i!==null&&A1(i),r.blockedOn=l,!1;i.shift()}return!0}function R1(r,i,l){Td(r)&&l.delete(i)}function UN(){Bm=!1,_i!==null&&Td(_i)&&(_i=null),Ni!==null&&Td(Ni)&&(Ni=null),Ei!==null&&Td(Ei)&&(Ei=null),oc.forEach(R1),cc.forEach(R1)}function Sd(r,i){r.blockedOn===i&&(r.blockedOn=null,Bm||(Bm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,UN)))}var Ad=null;function D1(r){Ad!==r&&(Ad=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ad===r&&(Ad=null);for(var i=0;i<r.length;i+=3){var l=r[i],d=r[i+1],g=r[i+2];if(typeof d!="function"){if(Um(d||l)===null)continue;break}var y=$r(l);y!==null&&(r.splice(i,3),i-=3,Uh(y,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function dc(r){function i(H){return Sd(H,r)}_i!==null&&Sd(_i,r),Ni!==null&&Sd(Ni,r),Ei!==null&&Sd(Ei,r),oc.forEach(i),cc.forEach(i);for(var l=0;l<Ti.length;l++){var d=Ti[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Ti.length&&(l=Ti[0],l.blockedOn===null);)k1(l),l.blockedOn===null&&Ti.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],y=l[d+1],T=g[de]||null;if(typeof y=="function")T||D1(l);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(g=y,T=y[de]||null)I=T.formAction;else if(Um(g)!==null)continue}else I=T.action;typeof I=="function"?l[d+1]=I:(l.splice(d,3),d-=3),D1(l)}}}function Fm(r){this._internalRoot=r}jd.prototype.render=Fm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,d=ar();T1(l,d,r,i,null,null)},jd.prototype.unmount=Fm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;T1(r.current,2,null,r,null,null),cd(),i[Ue]=null}};function jd(r){this._internalRoot=r}jd.prototype.unstable_scheduleHydration=function(r){if(r){var i=Hr();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Ti.length&&i!==0&&i<Ti[l].priority;l++);Ti.splice(l,0,r),l===0&&k1(r)}};var I1=e.version;if(I1!=="19.1.1")throw Error(s(527,I1,"19.1.1"));ue.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var BN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{se=Cd.inject(BN),ge=Cd}catch{}}return hc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var l=!1,d="",g=Xx,y=Kx,T=Zx,I=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(I=i.unstable_transitionCallbacks)),i=N1(r,1,!1,null,null,l,d,g,y,T,I,null),r[Ue]=i.current,Em(r),new Fm(i)},hc.hydrateRoot=function(r,i,l){if(!a(r))throw Error(s(299));var d=!1,g="",y=Xx,T=Kx,I=Zx,H=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),i=N1(r,1,!0,i,l??null,d,g,y,T,I,H,te),i.context=E1(null),l=i.current,d=ar(),d=Dr(d),g=oi(d),g.callback=null,ci(l,g,d),l=d,i.current.lanes=l,Rr(i,l),is(i),r[Ue]=i.current,Em(r),new jd(i)},hc.version="19.1.1",hc}var q1;function ZN(){if(q1)return $m.exports;q1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$m.exports=KN(),$m.exports}var JN=ZN();const WN=pf(JN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),H1=t=>{const e=tE(t);return e.charAt(0).toUpperCase()+e.slice(1)},r2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),nE=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c,...f},m)=>Y.createElement("svg",{ref:m,...rE,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:r2("lucide",a),...!o&&!nE(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,x])=>Y.createElement(p,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const n=Y.forwardRef(({className:s,...a},o)=>Y.createElement(sE,{ref:o,iconNode:e,className:r2(`lucide-${eE(H1(t))}`,`lucide-${t}`,s),...a}));return n.displayName=H1(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],aE=Ae("arrow-down",iE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],oE=Ae("arrow-up-down",lE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],uE=Ae("arrow-up",cE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],s2=Ae("award",dE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Dc=Ae("bell",fE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],mE=Ae("bold",hE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Yd=Ae("book-open",pE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],xE=Ae("calculator",gE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jr=Ae("calendar",yE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],dp=Ae("chart-column",bE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],to=Ae("check",vE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gf=Ae("chevron-down",wE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],NE=Ae("chevron-left",_E);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],i2=Ae("chevron-right",EE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fp=Ae("chevron-up",TE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],AE=Ae("circle-alert",SE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xf=Ae("circle-check-big",jE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_0=Ae("circle-check",CE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RE=Ae("circle",kE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$s=Ae("clock",DE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],ME=Ae("cloud-off",IE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],VE=Ae("cloud",OE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],LE=Ae("code",PE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],UE=Ae("copy",zE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Jn=Ae("crown",BE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vi=Ae("eye-off",FE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oa=Ae("eye",qE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3.072",key:"n6s66f"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m6.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.88.001l-1.846.85a.5.5 0 0 1-.693-.593l1.29-4.88",key:"1e6yvx"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],$E=Ae("file-badge",HE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Gs=Ae("file-text",GE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],a2=Ae("flask-conical",YE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hp=Ae("globe",QE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Va=Ae("graduation-cap",XE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ZE=Ae("hash",KE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],WE=Ae("italic",JE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ki=Ae("key",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],$1=Ae("lightbulb",tT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],rT=Ae("link",nT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],iT=Ae("list-todo",sT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nn=Ae("loader-circle",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],oT=Ae("list",lT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qt=Ae("lock",cT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],ka=Ae("megaphone",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M5 12h14",key:"1ays0h"}]],fT=Ae("minus",dT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],mT=Ae("move-vertical",hT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],G1=Ae("party-popper",pT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ba=Ae("pen-line",gT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yT=Ae("pen",xT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],os=Ae("plus",bT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],wT=Ae("quote",vT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],NT=Ae("refresh-cw",_T);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ws=Ae("save",ET);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yf=Ae("search",TT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fa=Ae("settings",ST);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ys=Ae("shield",AT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Y1=Ae("sparkles",jT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mp=Ae("square-check-big",CT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wn=Ae("star",kT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],N0=Ae("sticky-note",RT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Q1=Ae("target",DT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],l2=Ae("toggle-left",IT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],o2=Ae("toggle-right",MT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hs=Ae("trash-2",OT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zd=Ae("triangle-alert",VT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],LT=Ae("trophy",PT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pp=Ae("user-check",zT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],X1=Ae("user-plus",UT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],FT=Ae("user-x",BT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zr=Ae("user",qT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ms=Ae("users",HT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fn=Ae("x",$T),Hs={1:{theory:["Mathematics-I","Physics","Programming Fundamentals","English"],practical:["Physics Lab","Programming Lab"]},2:{theory:["Mathematics-II","Chemistry","Data Structures","Digital Logic"],practical:["Chemistry Lab","DS Lab"]},3:{theory:["OOP","Discrete Math","Computer Architecture","Statistics"],practical:["OOP Lab","Hardware Lab"]},4:{theory:["DBMS","Operating Systems","Computer Networks","Software Engineering"],practical:["DBMS Lab","Networks Lab"]},5:{theory:["AIA","DAA","DBMS","ES","MLA","MDM","OE-4"],practical:["DAA Lab","DBMS Lab","MLA Lab","ES Lab"]},6:{theory:["CNN","CVPR","DV","K.ENG","MDM","SR"],practical:["CNN Lab","DV Lab","K.ENG Lab","MAD Lab","SR Lab"]},7:{theory:["Deep Learning","Big Data Analytics","Cybersecurity","Project Management"],practical:["ML Lab","Security Lab"]},8:{theory:["Major Project","Technical Seminar","Industry Training"],practical:["Project Implementation"]}},GT=["Assignment","Test","Presentation","Quiz","Certificate","Project","Other"],Pe={rollNo:"2405225",name:"Shaikh Mujahid",admissionYear:2024,isDSY:!1};function YT({students:t,onStudentSelect:e,isLoading:n,studentManagement:s}){const[a,o]=Y.useState(""),[c,f]=Y.useState(!1),[m,p]=Y.useState(null),[x,b]=Y.useState(""),[w,_]=Y.useState(!1),[S,M]=Y.useState(""),L=Y.useMemo(()=>{if(!a.trim())return t;const q=a.toLowerCase();return t.filter(U=>U.name.toLowerCase().includes(q)||U.rollNo.toLowerCase().includes(q))},[t,a]),F=async q=>{q.isProtected?(p(q),f(!0),b(""),M("")):e(q)},B=async q=>{if(q.preventDefault(),!x.trim()){M("Please enter password");return}_(!0),M("");try{await s.authenticateStudent(m,x)?(e(m),f(!1)):(M("Incorrect password. Please try again."),b(""))}catch{M("Authentication failed. Please try again.")}finally{_(!1)}},z=()=>{f(!1),p(null),b(""),M("")},G=()=>{o("")};return n?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Va,{className:"w-16 h-16 mx-auto text-blue-600 mb-4"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Nn,{className:"w-6 h-6 animate-spin text-blue-600"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loading Academic Tracker..."})]}),u.jsx("p",{className:"text-gray-600",children:"Setting up your student data"})]})}):c&&m?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:`
                w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4
                ${m.rollNo===Pe.rollNo?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-blue-500 to-purple-500"}
              `,children:m.rollNo===Pe.rollNo?u.jsx(Jn,{className:"w-8 h-8 text-white"}):u.jsx(Qt,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:m.rollNo===Pe.rollNo?"Admin Authentication":"Student Authentication"}),u.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",m.name,"'s account"]})]}),u.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-2xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(zr,{className:"w-5 h-5 text-gray-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:m.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",m.rollNo]})]})]})}),u.jsxs("form",{onSubmit:B,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Qt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Enter password",value:x,onChange:q=>b(q.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:w,autoFocus:!0})]}),S&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:S}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",disabled:w||!x.trim(),className:`
                    flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed
                    ${m.rollNo===Pe.rollNo?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}
                  `,children:w?u.jsxs(u.Fragment,{children:[u.jsx(Nn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Authenticating..."})]}):u.jsxs(u.Fragment,{children:[m.rollNo===Pe.rollNo?u.jsx(Jn,{className:"w-4 h-4"}):u.jsx(Ys,{className:"w-4 h-4"}),u.jsx("span",{children:"Access Account"})]})}),u.jsx("button",{type:"button",onClick:z,disabled:w,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]}),u.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:u.jsxs("p",{className:"text-sm text-blue-700 text-center",children:["This account is password protected for security.",m.rollNo===Pe.rollNo&&" Admin accounts have full system privileges."]})})]})})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-2xl w-full",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:u.jsx(Va,{className:"w-10 h-10 text-white"})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Academic Progress Tracker"}),u.jsx("p",{className:"text-gray-600",children:"Select your student profile to continue"})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(ms,{className:"w-6 h-6 text-blue-600"}),u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Select Student Profile"}),u.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.length," total)"]})]}),u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(yf,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"text",placeholder:"Search by name or roll number...",value:a,onChange:q=>o(q.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a&&u.jsx("button",{onClick:G,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(fn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:L.length>0?L.map(q=>u.jsx("button",{onClick:()=>F(q),className:`
                    w-full flex items-center p-4 rounded-2xl border-2 transition-all text-left
                    ${q.rollNo===Pe.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300 hover:bg-yellow-100":q.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300 hover:bg-blue-100":"border-gray-200 bg-gray-50 hover:border-blue-300 hover:bg-blue-50"}
                  `,children:u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:`
                      w-12 h-12 rounded-2xl flex items-center justify-center
                      ${q.rollNo===Pe.rollNo?"bg-yellow-200":q.isProtected?"bg-blue-200":"bg-gray-200"}
                    `,children:q.rollNo===Pe.rollNo?u.jsx(Jn,{className:"w-6 h-6 text-yellow-600"}):q.isProtected?u.jsx(Qt,{className:"w-6 h-6 text-blue-600"}):u.jsx(zr,{className:"w-6 h-6 text-gray-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:q.name}),q.rollNo===Pe.rollNo&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Jn,{className:"w-4 h-4 text-yellow-600"}),u.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Admin"})]}),q.isProtected&&q.rollNo!==Pe.rollNo&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Qt,{className:"w-3 h-3 text-blue-600"}),u.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",q.rollNo]}),q.isProtected&&u.jsx("p",{className:"text-xs text-gray-500",children:"Password required"})]})]})},q.rollNo)):u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(ms,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsxs("p",{children:['No students found matching "',a,'"']})]})}),u.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-2xl border border-gray-200",children:u.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[u.jsx("strong",{children:"Note:"})," Students with ",u.jsx(Qt,{className:"w-3 h-3 inline mx-1"})," require password authentication. Click on any student to access their profile."]})})]})]})})}function QT({semester:t,syncStatus:e,selectedStudent:n,onStudentSwitch:s}){const{isOnline:a,isSyncing:o,lastSynced:c}=e;return u.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-3 sm:py-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 md:gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0",children:u.jsx(Va,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-white"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 truncate",children:"Academic Progress Tracker"}),u.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:["Semester ",t,"  Track your academic journey"]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-2 md:gap-6 min-w-0",children:[n&&u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[u.jsxs("div",{className:"text-right min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 justify-end",children:[u.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:n.name}),n.rollNo==="2405225"&&u.jsx(Jn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-500 flex-shrink-0"})]}),u.jsxs("span",{className:"text-xs text-gray-600 block truncate",children:["Roll: ",n.rollNo]})]}),u.jsx("button",{onClick:s,className:"p-1.5 sm:p-2 hover:bg-gray-100 rounded-xl transition-colors flex-shrink-0",title:"Switch Student",children:u.jsx(zr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})]}),u.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-0.5 sm:gap-1",children:[u.jsx("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:o?u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-blue-600",children:[u.jsx(Nn,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin flex-shrink-0"}),u.jsx("span",{className:"truncate",children:"Syncing..."})]}):a?u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-green-600",children:[u.jsx(VE,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:"Online"}),c&&u.jsx(xf,{className:"w-2 h-2 sm:w-3 sm:h-3 flex-shrink-0"})]}):u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-orange-600",children:[u.jsx(ME,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:"Offline"})]})}),c&&u.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["Last synced: ",c.toLocaleTimeString()]})]}),u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-gray-600 flex-shrink-0",children:[u.jsx(jr,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),u.jsxs("span",{className:"truncate",children:["Academic Year ",(()=>{const f=new Date,m=f.getFullYear(),p=f.getMonth()>=5?m:m-1;return`${p}-${(p+1).toString().slice(-2)}`})()]})]})]})]})})})}const XT=[{id:0,label:"Theory Subjects",icon:Yd},{id:1,label:"Practicals",icon:a2},{id:2,label:"Notice Board",icon:ka},{id:3,label:"Personal Notes",icon:N0},{id:4,label:"Student & Settings",icon:Fa},{id:7,label:"Calendar",icon:jr}];function KT({activeTab:t,onTabChange:e,showDegreeTab:n=!1,showAdminTab:s=!1}){const a=Y.useRef(null),[o,c]=Y.useState(!1),[f,m]=Y.useState(0),[p,x]=Y.useState(0);let b=[...XT];n&&b.push({id:5,label:"Degree Completion",icon:xf}),s&&b.push({id:6,label:"Admin Privileges",icon:Ys});const w=L=>{c(!0),m(L.pageX-a.current.offsetLeft),x(a.current.scrollLeft)},_=()=>{c(!1)},S=()=>{c(!1)},M=L=>{if(!o)return;L.preventDefault();const B=(L.pageX-a.current.offsetLeft-f)*2;a.current.scrollLeft=p-B};return Y.useEffect(()=>{const L=a.current;if(L){const F=B=>{B.deltaY!==0&&(B.preventDefault(),L.scrollTo({left:L.scrollLeft+B.deltaY,behavior:"smooth"}))};return L.addEventListener("wheel",F),()=>L.removeEventListener("wheel",F)}},[]),u.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-2 md:px-6",children:u.jsx("div",{ref:a,className:`flex space-x-1 overflow-x-auto pb-2 scrollbar-hide ${o?"cursor-grabbing":"cursor-grab"}`,onMouseDown:w,onMouseLeave:_,onMouseUp:S,onMouseMove:M,children:b.map(L=>u.jsxs("button",{onClick:()=>{o||e(L.id)},className:`
                flex items-center gap-2 px-3 py-3 md:px-6 md:py-4 font-medium transition-all duration-200 border-b-2 relative whitespace-nowrap text-sm md:text-base select-none
                ${t===L.id?L.id===6?"text-yellow-600 border-yellow-600 bg-yellow-50":"text-blue-600 border-blue-600 bg-blue-50":"text-gray-600 border-transparent hover:text-gray-900 hover:bg-gray-50"}
              `,children:[u.jsx(L.icon,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{children:L.label}),t===L.id&&u.jsx(i2,{className:"w-3 h-3 md:w-4 md:h-4 ml-1"})]},L.id))})})})}function Ai({children:t,value:e,index:n,className:s=""}){return u.jsx("div",{className:`transition-all duration-300 ${e!==n?"hidden opacity-0":"opacity-100"}`,style:{display:e!==n?"none":"block"},children:u.jsx("div",{className:`p-6 ${s}`,children:t})})}const ZT=Y.memo(function({subject:e,onDataChange:n,initialData:s,assessmentNotices:a=[]}){const[o,c]=Y.useState({ca1:{type:"",date:"",marks:"",source:null},ca2:{type:"",date:"",marks:"",source:null},ca3:{type:"",date:"",marks:"",source:null},ca4:{type:"",date:"",marks:"",source:null},midSem:{date:"",marks:"",source:null}}),[f,m]=Y.useState(!1);Y.useEffect(()=>{s&&c(s)},[s]),Y.useEffect(()=>{const S={};a.forEach(F=>{(F.meta?.assessments||[]).forEach(z=>{if(z.subject?.toLowerCase().trim()===e?.toLowerCase().trim()){const q=z.assessmentType?.toLowerCase().replace("-","");let U=q;q==="midsem"&&(U="midSem"),o[U]&&(S[U]={date:z.date?z.date.split("T")[0]:"",type:z.assessmentName||""})}})});let M=!1;const L={...o};Object.keys(L).forEach(F=>{const B=S[F],z=L[F];B?(!z.date&&B.date||!z.type&&B.type&&F!=="midSem"||z.source==="notice"&&(z.date!==B.date||F!=="midSem"&&z.type!==B.type))&&(L[F]={...z,date:B.date,type:F==="midSem"?z.type:B.type,source:"notice"},M=!0):z.source==="notice"&&(L[F]={...z,date:"",type:"",source:null},M=!0)}),M&&(c(L),n&&n(e,L))},[a,e]);const p=(S,M,L)=>{if(M==="marks"&&L!==""){const B=parseFloat(L),z=S==="midSem"?20:10;if(B<0||B>z)return}const F={...o,[S]:{...o[S],[M]:L,source:M==="date"||M==="type"?"manual":o[S].source}};c(F),n&&n(e,F)},x=()=>{let M=0;return["ca1","ca2","ca3","ca4"].forEach(L=>{o[L].type&&M++,o[L].date&&M++,o[L].marks&&M++}),o.midSem.date&&M++,o.midSem.marks&&M++,Math.round(M/14*100)},b=()=>{let S=0;["ca1","ca2","ca3","ca4"].forEach(L=>{const F=parseFloat(o[L].marks);isNaN(F)||(S+=F)});const M=parseFloat(o.midSem.marks);return isNaN(M)||(S+=M),S},w=x(),_=b();return u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white cursor-pointer",onClick:()=>m(!f),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Yd,{className:"w-6 h-6"}),u.jsx("h3",{className:"text-lg font-bold",children:e})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"text-sm opacity-90",children:[w,"%"]}),u.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${w}%`}})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[u.jsx(xE,{className:"w-4 h-4"}),u.jsx("span",{children:"Internal Assessment"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"text-lg font-bold",children:[_,"/60"]})}),u.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg hover:bg-white/30 transition-colors",children:f?u.jsx(Q1,{className:"w-4 h-4"}):u.jsx(Yd,{className:"w-4 h-4"})})]})]})]}),!f&&u.jsxs("div",{className:"p-4 bg-gray-50/50 cursor-pointer",onClick:()=>m(!0),children:[u.jsxs("div",{className:"grid grid-cols-5 gap-2 text-center",children:[["ca1","ca2","ca3","ca4"].map((S,M)=>u.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl border border-gray-100 bg-white shadow-sm",children:[u.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:["CA-",M+1]}),u.jsx("span",{className:`font-mono font-bold ${o[S].marks?"text-gray-800 text-lg":"text-gray-300"}`,children:o[S].marks||"0"})]},S)),u.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl border border-orange-100 bg-orange-50 shadow-sm",children:[u.jsx("span",{className:"text-xs font-bold text-orange-400 uppercase tracking-wider mb-1",children:"Mid"}),u.jsx("span",{className:`font-mono font-bold ${o.midSem.marks?"text-orange-900 text-lg":"text-orange-300"}`,children:o.midSem.marks||"0"})]})]}),u.jsx("div",{className:"mt-3 text-center",children:u.jsx("span",{className:"text-xs font-medium text-blue-500 hover:text-blue-600 transition-colors uppercase tracking-widest border-b border-dashed border-blue-300 pb-0.5",children:"Tap card to edit details"})})]}),f&&u.jsxs("div",{className:"p-6 space-y-6 animate-in slide-in-from-top-4 duration-300",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[u.jsx(Q1,{className:"w-4 h-4"}),"Continuous Assessment (4  10 = 40 marks)"]}),[1,2,3,4].map(S=>u.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3 border border-gray-100 hover:border-blue-200 transition-colors",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"font-medium text-gray-800",children:["CA-",S]}),o[`ca${S}`].marks&&u.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:[o[`ca${S}`].marks,"/10"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",value:o[`ca${S}`].type,onChange:M=>p(`ca${S}`,"type",M.target.value),children:[u.jsx("option",{value:"",children:"Select Type"}),GT.map(M=>u.jsx("option",{value:M,children:M},M))]}),u.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o[`ca${S}`].date,onChange:M=>p(`ca${S}`,"date",M.target.value)}),u.jsx("input",{type:"number",min:"0",max:"10",step:"0.5",placeholder:"Marks (0-10)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o[`ca${S}`].marks,onChange:M=>p(`ca${S}`,"marks",M.target.value),onKeyDown:M=>{(M.key==="-"||M.key==="+")&&M.preventDefault()}})]})]},S))]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[u.jsx(s2,{className:"w-4 h-4"}),"Mid Semester Exam (20 marks)"]}),u.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-4 border border-orange-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"font-medium text-gray-800",children:"Mid-Sem Exam"}),o.midSem.marks&&u.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium",children:[o.midSem.marks,"/20"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:o.midSem.date,onChange:S=>p("midSem","date",S.target.value)}),u.jsx("input",{type:"number",min:"0",max:"20",step:"0.5",placeholder:"Marks (0-20)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:o.midSem.marks,onChange:S=>p("midSem","marks",S.target.value),onKeyDown:S=>{(S.key==="-"||S.key==="+")&&S.preventDefault()}})]})]})]}),u.jsx("button",{onClick:S=>{S.stopPropagation(),m(!1)},className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-600 font-bold rounded-xl transition-colors uppercase tracking-wide text-sm",children:"Done Editing"})]})]})}),JT=()=>{};var K1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},WT=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(o&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},u2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,x=o>>2,b=(o&3)<<4|f>>4;let w=(f&15)<<2|p>>6,_=p&63;m||(_=64,c||(w=64)),s.push(n[x],n[b],n[w],n[_])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||f==null||p==null||b==null)throw new eS;const w=o<<2|f>>4;if(s.push(w),p!==64){const _=f<<4&240|p>>2;if(s.push(_),b!==64){const S=p<<6&192|b;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tS=function(t){const e=c2(t);return u2.encodeByteArray(e,!0)},Qd=function(t){return tS(t).replace(/\./g,"")},nS=function(t){try{return u2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=()=>rS().__FIREBASE_DEFAULTS__,iS=()=>{if(typeof process>"u"||typeof K1>"u")return;const t=K1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nS(t[1]);return e&&JSON.parse(e)},gp=()=>{try{return JT()||sS()||iS()||aS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lS=t=>gp()?.emulatorHosts?.[t],oS=t=>{const e=lS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},d2=()=>gp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qd(JSON.stringify(n)),Qd(JSON.stringify(c)),""].join(".")}const Ec={};function fS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?t.emulator.push(e):t.prod.push(e);return t}function hS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Z1=!1;function mS(t,e){if(typeof window>"u"||typeof document>"u"||!xp(window.location.host)||Ec[t]===e||Ec[t]||Z1)return;Ec[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",o=fS().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,_){w.setAttribute("width","24"),w.setAttribute("id",_),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Z1=!0,c()},w}function x(w,_){w.setAttribute("id",_),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=hS(s),_=n("text"),S=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),L=document.getElementById(M)||document.createElement("a"),F=n("preprendIcon"),B=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const z=w.element;f(z),x(L,M);const G=p();m(B,F),z.append(B,S,L,G),document.body.appendChild(z)}o?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){const t=gp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return!gS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yS(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="FirebaseError";class no extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vS,Object.setPrototypeOf(this,no.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f2.prototype.create)}}class f2{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?wS(o,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new no(a,f,s)}}function wS(t,e){return t.replace(_S,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const _S=/\{\$([^}]+)}/g;function Xd(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const o=t[a],c=e[a];if(J1(o)&&J1(c)){if(!Xd(o,c))return!1}else if(o!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function J1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){return t&&t._delegate?t._delegate:t}class Ic{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TS(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ES(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ES(t){return t===Ca?void 0:t}function TS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const AS={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},jS=rt.INFO,CS={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},kS=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=CS[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h2{constructor(e){this.name=e,this._logLevel=jS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const RS=(t,e)=>e.some(n=>t instanceof n);let W1,eb;function DS(){return W1||(W1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return eb||(eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m2=new WeakMap,E0=new WeakMap,p2=new WeakMap,Xm=new WeakMap,yp=new WeakMap;function MS(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Di(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&m2.set(n,t)}).catch(()=>{}),yp.set(e,t),e}function OS(t){if(E0.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});E0.set(t,e)}let T0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VS(t){T0=t(T0)}function PS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Km(this),e,...n);return p2.set(s,e.sort?e.sort():[e]),Di(s)}:IS().includes(t)?function(...e){return t.apply(Km(this),e),Di(m2.get(this))}:function(...e){return Di(t.apply(Km(this),e))}}function LS(t){return typeof t=="function"?PS(t):(t instanceof IDBTransaction&&OS(t),RS(t,DS())?new Proxy(t,T0):t)}function Di(t){if(t instanceof IDBRequest)return MS(t);if(Xm.has(t))return Xm.get(t);const e=LS(t);return e!==t&&(Xm.set(t,e),yp.set(e,t)),e}const Km=t=>yp.get(t);function zS(t,e,{blocked:n,upgrade:s,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),f=Di(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Di(c.result),m.oldVersion,m.newVersion,Di(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{o&&m.addEventListener("close",()=>o()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const US=["get","getKey","getAll","getAllKeys","count"],BS=["put","add","delete","clear"],Zm=new Map;function tb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=BS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||US.includes(n)))return;const o=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Zm.set(e,o),o}VS(t=>({...t,get:(e,n,s)=>tb(e,n)||t.get(e,n,s),has:(e,n)=>!!tb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qS(t){return t.getComponent()?.type==="VERSION"}const S0="@firebase/app",nb="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new h2("@firebase/app"),HS="@firebase/app-compat",$S="@firebase/analytics-compat",GS="@firebase/analytics",YS="@firebase/app-check-compat",QS="@firebase/app-check",XS="@firebase/auth",KS="@firebase/auth-compat",ZS="@firebase/database",JS="@firebase/data-connect",WS="@firebase/database-compat",e3="@firebase/functions",t3="@firebase/functions-compat",n3="@firebase/installations",r3="@firebase/installations-compat",s3="@firebase/messaging",i3="@firebase/messaging-compat",a3="@firebase/performance",l3="@firebase/performance-compat",o3="@firebase/remote-config",c3="@firebase/remote-config-compat",u3="@firebase/storage",d3="@firebase/storage-compat",f3="@firebase/firestore",h3="@firebase/ai",m3="@firebase/firestore-compat",p3="firebase",g3="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="[DEFAULT]",x3={[S0]:"fire-core",[HS]:"fire-core-compat",[GS]:"fire-analytics",[$S]:"fire-analytics-compat",[QS]:"fire-app-check",[YS]:"fire-app-check-compat",[XS]:"fire-auth",[KS]:"fire-auth-compat",[ZS]:"fire-rtdb",[JS]:"fire-data-connect",[WS]:"fire-rtdb-compat",[e3]:"fire-fn",[t3]:"fire-fn-compat",[n3]:"fire-iid",[r3]:"fire-iid-compat",[s3]:"fire-fcm",[i3]:"fire-fcm-compat",[a3]:"fire-perf",[l3]:"fire-perf-compat",[o3]:"fire-rc",[c3]:"fire-rc-compat",[u3]:"fire-gcs",[d3]:"fire-gcs-compat",[f3]:"fire-fst",[m3]:"fire-fst-compat",[h3]:"fire-vertex","fire-js":"fire-js",[p3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Map,y3=new Map,j0=new Map;function rb(t,e){try{t.container.addComponent(e)}catch(n){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zd(t){const e=t.name;if(j0.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;j0.set(e,t);for(const n of Kd.values())rb(n,t);for(const n of y3.values())rb(n,t);return!0}function b3(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function v3(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new f2("app","Firebase",w3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ic("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=g3;function g2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:A0,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ii.create("bad-app-name",{appName:String(a)});if(n||(n=d2()),!n)throw Ii.create("no-options");const o=Kd.get(a);if(o){if(Xd(n,o.options)&&Xd(s,o.config))return o;throw Ii.create("duplicate-app",{appName:a})}const c=new SS(a);for(const m of j0.values())c.addComponent(m);const f=new _3(n,s,c);return Kd.set(a,f),f}function E3(t=A0){const e=Kd.get(t);if(!e&&t===A0&&d2())return g2();if(!e)throw Ii.create("no-app",{appName:t});return e}function Hl(t,e,n){let s=x3[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(c.join(" "));return}Zd(new Ic(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="firebase-heartbeat-database",S3=1,Mc="firebase-heartbeat-store";let Jm=null;function x2(){return Jm||(Jm=zS(T3,S3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),Jm}async function A3(t){try{const n=(await x2()).transaction(Mc),s=await n.objectStore(Mc).get(y2(t));return await n.done,s}catch(e){if(e instanceof no)Xs.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e?.message});Xs.warn(n.message)}}}async function sb(t,e){try{const s=(await x2()).transaction(Mc,"readwrite");await s.objectStore(Mc).put(e,y2(t)),await s.done}catch(n){if(n instanceof no)Xs.warn(n.message);else{const s=Ii.create("idb-set",{originalErrorMessage:n?.message});Xs.warn(s.message)}}}function y2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=1024,C3=30;class k3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ib();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>C3){const a=I3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ib(),{heartbeatsToSend:n,unsentEntries:s}=R3(this._heartbeatsCache.heartbeats),a=Qd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Xs.warn(e),""}}}function ib(){return new Date().toISOString().substring(0,10)}function R3(t,e=j3){const n=[];let s=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),ab(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ab(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class D3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yS()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ab(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}function I3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){Zd(new Ic("platform-logger",e=>new FS(e),"PRIVATE")),Zd(new Ic("heartbeat",e=>new k3(e),"PRIVATE")),Hl(S0,nb,t),Hl(S0,nb,"esm2020"),Hl("fire-js","")}M3("");var lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mi,b2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,j){function O(){}O.prototype=j.prototype,R.D=j.prototype,R.prototype=new O,R.prototype.constructor=R,R.C=function(A,D,P){for(var k=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)k[ce-2]=arguments[ce];return j.prototype[D].apply(A,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,j,O){O||(O=0);var A=Array(16);if(typeof j=="string")for(var D=0;16>D;++D)A[D]=j.charCodeAt(O++)|j.charCodeAt(O++)<<8|j.charCodeAt(O++)<<16|j.charCodeAt(O++)<<24;else for(D=0;16>D;++D)A[D]=j[O++]|j[O++]<<8|j[O++]<<16|j[O++]<<24;j=R.g[0],O=R.g[1],D=R.g[2];var P=R.g[3],k=j+(P^O&(D^P))+A[0]+3614090360&4294967295;j=O+(k<<7&4294967295|k>>>25),k=P+(D^j&(O^D))+A[1]+3905402710&4294967295,P=j+(k<<12&4294967295|k>>>20),k=D+(O^P&(j^O))+A[2]+606105819&4294967295,D=P+(k<<17&4294967295|k>>>15),k=O+(j^D&(P^j))+A[3]+3250441966&4294967295,O=D+(k<<22&4294967295|k>>>10),k=j+(P^O&(D^P))+A[4]+4118548399&4294967295,j=O+(k<<7&4294967295|k>>>25),k=P+(D^j&(O^D))+A[5]+1200080426&4294967295,P=j+(k<<12&4294967295|k>>>20),k=D+(O^P&(j^O))+A[6]+2821735955&4294967295,D=P+(k<<17&4294967295|k>>>15),k=O+(j^D&(P^j))+A[7]+4249261313&4294967295,O=D+(k<<22&4294967295|k>>>10),k=j+(P^O&(D^P))+A[8]+1770035416&4294967295,j=O+(k<<7&4294967295|k>>>25),k=P+(D^j&(O^D))+A[9]+2336552879&4294967295,P=j+(k<<12&4294967295|k>>>20),k=D+(O^P&(j^O))+A[10]+4294925233&4294967295,D=P+(k<<17&4294967295|k>>>15),k=O+(j^D&(P^j))+A[11]+2304563134&4294967295,O=D+(k<<22&4294967295|k>>>10),k=j+(P^O&(D^P))+A[12]+1804603682&4294967295,j=O+(k<<7&4294967295|k>>>25),k=P+(D^j&(O^D))+A[13]+4254626195&4294967295,P=j+(k<<12&4294967295|k>>>20),k=D+(O^P&(j^O))+A[14]+2792965006&4294967295,D=P+(k<<17&4294967295|k>>>15),k=O+(j^D&(P^j))+A[15]+1236535329&4294967295,O=D+(k<<22&4294967295|k>>>10),k=j+(D^P&(O^D))+A[1]+4129170786&4294967295,j=O+(k<<5&4294967295|k>>>27),k=P+(O^D&(j^O))+A[6]+3225465664&4294967295,P=j+(k<<9&4294967295|k>>>23),k=D+(j^O&(P^j))+A[11]+643717713&4294967295,D=P+(k<<14&4294967295|k>>>18),k=O+(P^j&(D^P))+A[0]+3921069994&4294967295,O=D+(k<<20&4294967295|k>>>12),k=j+(D^P&(O^D))+A[5]+3593408605&4294967295,j=O+(k<<5&4294967295|k>>>27),k=P+(O^D&(j^O))+A[10]+38016083&4294967295,P=j+(k<<9&4294967295|k>>>23),k=D+(j^O&(P^j))+A[15]+3634488961&4294967295,D=P+(k<<14&4294967295|k>>>18),k=O+(P^j&(D^P))+A[4]+3889429448&4294967295,O=D+(k<<20&4294967295|k>>>12),k=j+(D^P&(O^D))+A[9]+568446438&4294967295,j=O+(k<<5&4294967295|k>>>27),k=P+(O^D&(j^O))+A[14]+3275163606&4294967295,P=j+(k<<9&4294967295|k>>>23),k=D+(j^O&(P^j))+A[3]+4107603335&4294967295,D=P+(k<<14&4294967295|k>>>18),k=O+(P^j&(D^P))+A[8]+1163531501&4294967295,O=D+(k<<20&4294967295|k>>>12),k=j+(D^P&(O^D))+A[13]+2850285829&4294967295,j=O+(k<<5&4294967295|k>>>27),k=P+(O^D&(j^O))+A[2]+4243563512&4294967295,P=j+(k<<9&4294967295|k>>>23),k=D+(j^O&(P^j))+A[7]+1735328473&4294967295,D=P+(k<<14&4294967295|k>>>18),k=O+(P^j&(D^P))+A[12]+2368359562&4294967295,O=D+(k<<20&4294967295|k>>>12),k=j+(O^D^P)+A[5]+4294588738&4294967295,j=O+(k<<4&4294967295|k>>>28),k=P+(j^O^D)+A[8]+2272392833&4294967295,P=j+(k<<11&4294967295|k>>>21),k=D+(P^j^O)+A[11]+1839030562&4294967295,D=P+(k<<16&4294967295|k>>>16),k=O+(D^P^j)+A[14]+4259657740&4294967295,O=D+(k<<23&4294967295|k>>>9),k=j+(O^D^P)+A[1]+2763975236&4294967295,j=O+(k<<4&4294967295|k>>>28),k=P+(j^O^D)+A[4]+1272893353&4294967295,P=j+(k<<11&4294967295|k>>>21),k=D+(P^j^O)+A[7]+4139469664&4294967295,D=P+(k<<16&4294967295|k>>>16),k=O+(D^P^j)+A[10]+3200236656&4294967295,O=D+(k<<23&4294967295|k>>>9),k=j+(O^D^P)+A[13]+681279174&4294967295,j=O+(k<<4&4294967295|k>>>28),k=P+(j^O^D)+A[0]+3936430074&4294967295,P=j+(k<<11&4294967295|k>>>21),k=D+(P^j^O)+A[3]+3572445317&4294967295,D=P+(k<<16&4294967295|k>>>16),k=O+(D^P^j)+A[6]+76029189&4294967295,O=D+(k<<23&4294967295|k>>>9),k=j+(O^D^P)+A[9]+3654602809&4294967295,j=O+(k<<4&4294967295|k>>>28),k=P+(j^O^D)+A[12]+3873151461&4294967295,P=j+(k<<11&4294967295|k>>>21),k=D+(P^j^O)+A[15]+530742520&4294967295,D=P+(k<<16&4294967295|k>>>16),k=O+(D^P^j)+A[2]+3299628645&4294967295,O=D+(k<<23&4294967295|k>>>9),k=j+(D^(O|~P))+A[0]+4096336452&4294967295,j=O+(k<<6&4294967295|k>>>26),k=P+(O^(j|~D))+A[7]+1126891415&4294967295,P=j+(k<<10&4294967295|k>>>22),k=D+(j^(P|~O))+A[14]+2878612391&4294967295,D=P+(k<<15&4294967295|k>>>17),k=O+(P^(D|~j))+A[5]+4237533241&4294967295,O=D+(k<<21&4294967295|k>>>11),k=j+(D^(O|~P))+A[12]+1700485571&4294967295,j=O+(k<<6&4294967295|k>>>26),k=P+(O^(j|~D))+A[3]+2399980690&4294967295,P=j+(k<<10&4294967295|k>>>22),k=D+(j^(P|~O))+A[10]+4293915773&4294967295,D=P+(k<<15&4294967295|k>>>17),k=O+(P^(D|~j))+A[1]+2240044497&4294967295,O=D+(k<<21&4294967295|k>>>11),k=j+(D^(O|~P))+A[8]+1873313359&4294967295,j=O+(k<<6&4294967295|k>>>26),k=P+(O^(j|~D))+A[15]+4264355552&4294967295,P=j+(k<<10&4294967295|k>>>22),k=D+(j^(P|~O))+A[6]+2734768916&4294967295,D=P+(k<<15&4294967295|k>>>17),k=O+(P^(D|~j))+A[13]+1309151649&4294967295,O=D+(k<<21&4294967295|k>>>11),k=j+(D^(O|~P))+A[4]+4149444226&4294967295,j=O+(k<<6&4294967295|k>>>26),k=P+(O^(j|~D))+A[11]+3174756917&4294967295,P=j+(k<<10&4294967295|k>>>22),k=D+(j^(P|~O))+A[2]+718787259&4294967295,D=P+(k<<15&4294967295|k>>>17),k=O+(P^(D|~j))+A[9]+3951481745&4294967295,R.g[0]=R.g[0]+j&4294967295,R.g[1]=R.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+P&4294967295}s.prototype.u=function(R,j){j===void 0&&(j=R.length);for(var O=j-this.blockSize,A=this.B,D=this.h,P=0;P<j;){if(D==0)for(;P<=O;)a(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<j;)if(A[D++]=R.charCodeAt(P++),D==this.blockSize){a(this,A),D=0;break}}else for(;P<j;)if(A[D++]=R[P++],D==this.blockSize){a(this,A),D=0;break}}this.h=D,this.o+=j},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var j=1;j<R.length-8;++j)R[j]=0;var O=8*this.o;for(j=R.length-8;j<R.length;++j)R[j]=O&255,O/=256;for(this.u(R),R=Array(16),j=O=0;4>j;++j)for(var A=0;32>A;A+=8)R[O++]=this.g[j]>>>A&255;return R};function o(R,j){var O=f;return Object.prototype.hasOwnProperty.call(O,R)?O[R]:O[R]=j(R)}function c(R,j){this.h=j;for(var O=[],A=!0,D=R.length-1;0<=D;D--){var P=R[D]|0;A&&P==j||(O[D]=P,A=!1)}this.g=O}var f={};function m(R){return-128<=R&&128>R?o(R,function(j){return new c([j|0],0>j?-1:0)}):new c([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return b;if(0>R)return L(p(-R));for(var j=[],O=1,A=0;R>=O;A++)j[A]=R/O|0,O*=4294967296;return new c(j,0)}function x(R,j){if(R.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(R.charAt(0)=="-")return L(x(R.substring(1),j));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(j,8)),A=b,D=0;D<R.length;D+=8){var P=Math.min(8,R.length-D),k=parseInt(R.substring(D,D+P),j);8>P?(P=p(Math.pow(j,P)),A=A.j(P).add(p(k))):(A=A.j(O),A=A.add(p(k)))}return A}var b=m(0),w=m(1),_=m(16777216);t=c.prototype,t.m=function(){if(M(this))return-L(this).m();for(var R=0,j=1,O=0;O<this.g.length;O++){var A=this.i(O);R+=(0<=A?A:4294967296+A)*j,j*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(M(this))return"-"+L(this).toString(R);for(var j=p(Math.pow(R,6)),O=this,A="";;){var D=G(O,j).g;O=F(O,D.j(j));var P=((0<O.g.length?O.g[0]:O.h)>>>0).toString(R);if(O=D,S(O))return P+A;for(;6>P.length;)P="0"+P;A=P+A}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(var j=0;j<R.g.length;j++)if(R.g[j]!=0)return!1;return!0}function M(R){return R.h==-1}t.l=function(R){return R=F(this,R),M(R)?-1:S(R)?0:1};function L(R){for(var j=R.g.length,O=[],A=0;A<j;A++)O[A]=~R.g[A];return new c(O,~R.h).add(w)}t.abs=function(){return M(this)?L(this):this},t.add=function(R){for(var j=Math.max(this.g.length,R.g.length),O=[],A=0,D=0;D<=j;D++){var P=A+(this.i(D)&65535)+(R.i(D)&65535),k=(P>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);A=k>>>16,P&=65535,k&=65535,O[D]=k<<16|P}return new c(O,O[O.length-1]&-2147483648?-1:0)};function F(R,j){return R.add(L(j))}t.j=function(R){if(S(this)||S(R))return b;if(M(this))return M(R)?L(this).j(L(R)):L(L(this).j(R));if(M(R))return L(this.j(L(R)));if(0>this.l(_)&&0>R.l(_))return p(this.m()*R.m());for(var j=this.g.length+R.g.length,O=[],A=0;A<2*j;A++)O[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<R.g.length;D++){var P=this.i(A)>>>16,k=this.i(A)&65535,ce=R.i(D)>>>16,pe=R.i(D)&65535;O[2*A+2*D]+=k*pe,B(O,2*A+2*D),O[2*A+2*D+1]+=P*pe,B(O,2*A+2*D+1),O[2*A+2*D+1]+=k*ce,B(O,2*A+2*D+1),O[2*A+2*D+2]+=P*ce,B(O,2*A+2*D+2)}for(A=0;A<j;A++)O[A]=O[2*A+1]<<16|O[2*A];for(A=j;A<2*j;A++)O[A]=0;return new c(O,0)};function B(R,j){for(;(R[j]&65535)!=R[j];)R[j+1]+=R[j]>>>16,R[j]&=65535,j++}function z(R,j){this.g=R,this.h=j}function G(R,j){if(S(j))throw Error("division by zero");if(S(R))return new z(b,b);if(M(R))return j=G(L(R),j),new z(L(j.g),L(j.h));if(M(j))return j=G(R,L(j)),new z(L(j.g),j.h);if(30<R.g.length){if(M(R)||M(j))throw Error("slowDivide_ only works with positive integers.");for(var O=w,A=j;0>=A.l(R);)O=q(O),A=q(A);var D=U(O,1),P=U(A,1);for(A=U(A,2),O=U(O,2);!S(A);){var k=P.add(A);0>=k.l(R)&&(D=D.add(O),P=k),A=U(A,1),O=U(O,1)}return j=F(R,D.j(j)),new z(D,j)}for(D=b;0<=R.l(j);){for(O=Math.max(1,Math.floor(R.m()/j.m())),A=Math.ceil(Math.log(O)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),P=p(O),k=P.j(j);M(k)||0<k.l(R);)O-=A,P=p(O),k=P.j(j);S(P)&&(P=w),D=D.add(P),R=F(R,k)}return new z(D,R)}t.A=function(R){return G(this,R).h},t.and=function(R){for(var j=Math.max(this.g.length,R.g.length),O=[],A=0;A<j;A++)O[A]=this.i(A)&R.i(A);return new c(O,this.h&R.h)},t.or=function(R){for(var j=Math.max(this.g.length,R.g.length),O=[],A=0;A<j;A++)O[A]=this.i(A)|R.i(A);return new c(O,this.h|R.h)},t.xor=function(R){for(var j=Math.max(this.g.length,R.g.length),O=[],A=0;A<j;A++)O[A]=this.i(A)^R.i(A);return new c(O,this.h^R.h)};function q(R){for(var j=R.g.length+1,O=[],A=0;A<j;A++)O[A]=R.i(A)<<1|R.i(A-1)>>>31;return new c(O,R.h)}function U(R,j){var O=j>>5;j%=32;for(var A=R.g.length-O,D=[],P=0;P<A;P++)D[P]=0<j?R.i(P+O)>>>j|R.i(P+O+1)<<32-j:R.i(P+O);return new c(D,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,b2=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=x,Mi=c}).apply(typeof lb<"u"?lb:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v2,vc,w2,Ud,C0,_2,N2,E2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var V=0;V<h.length-1;V++){var W=h[V];if(!(W in E))break e;E=E[W]}h=h[h.length-1],V=E[h],v=v(V),v!=V&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var E=0,V=!1,W={next:function(){if(!V&&E<h.length){var le=E++;return{value:v(le,h[le]),done:!1}}return V=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(h){return h||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function x(h,v,E){return h.call.apply(h.bind,arguments)}function b(h,v,E){if(!h)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,V),h.apply(v,W)}}return function(){return h.apply(v,arguments)}}function w(h,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:b,w.apply(null,arguments)}function _(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var V=E.slice();return V.push.apply(V,arguments),h.apply(this,V)}}function S(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(V,W,le){for(var Ne=Array(arguments.length-2),We=2;We<arguments.length;We++)Ne[We-2]=arguments[We];return v.prototype[W].apply(V,Ne)}}function M(h){const v=h.length;if(0<v){const E=Array(v);for(let V=0;V<v;V++)E[V]=h[V];return E}return[]}function L(h,v){for(let E=1;E<arguments.length;E++){const V=arguments[E];if(m(V)){const W=h.length||0,le=V.length||0;h.length=W+le;for(let Ne=0;Ne<le;Ne++)h[W+Ne]=V[Ne]}else h.push(V)}}class F{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(h){return/^[\s\xa0]*$/.test(h)}function z(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var q=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function U(h,v,E){for(const V in h)v.call(E,h[V],V,h)}function R(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function j(h){const v={};for(const E in h)v[E]=h[E];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(h,v){let E,V;for(let W=1;W<arguments.length;W++){V=arguments[W];for(E in V)h[E]=V[E];for(let le=0;le<O.length;le++)E=O[le],Object.prototype.hasOwnProperty.call(V,E)&&(h[E]=V[E])}}function D(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function P(h){f.setTimeout(()=>{throw h},0)}function k(){var h=J;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ce{constructor(){this.h=this.g=null}add(v,E){const V=pe.get();V.set(v,E),this.h?this.h.next=V:this.g=V,this.h=V}}var pe=new F(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ne=!1,J=new ce,N=()=>{const h=f.Promise.resolve(void 0);ue=()=>{h.then(X)}};var X=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(E){P(E)}var v=pe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ne=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var ae=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return h})();function be(h,v){if(C.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,V=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(q){e:{try{G(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:oe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}S(be,C);var oe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Te=0;function it(h,v,E,V,W){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!V,this.ha=W,this.key=++Te,this.da=this.fa=!1}function lt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function _e(h){this.src=h,this.g={},this.h=0}_e.prototype.add=function(h,v,E,V,W){var le=h.toString();h=this.g[le],h||(h=this.g[le]=[],this.h++);var Ne=bt(h,v,V,W);return-1<Ne?(v=h[Ne],E||(v.fa=!1)):(v=new it(v,this.src,le,!!V,W),v.fa=E,h.push(v)),v};function dt(h,v){var E=v.type;if(E in h.g){var V=h.g[E],W=Array.prototype.indexOf.call(V,v,void 0),le;(le=0<=W)&&Array.prototype.splice.call(V,W,1),le&&(lt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function bt(h,v,E,V){for(var W=0;W<h.length;++W){var le=h[W];if(!le.da&&le.listener==v&&le.capture==!!E&&le.ha==V)return W}return-1}var rn="closure_lm_"+(1e6*Math.random()|0),hn={};function Fr(h,v,E,V,W){if(Array.isArray(v)){for(var le=0;le<v.length;le++)Fr(h,v[le],E,V,W);return null}return E=ys(E),h&&h[ve]?h.K(v,E,p(V)?!!V.capture:!1,W):It(h,v,E,!1,V,W)}function It(h,v,E,V,W,le){if(!v)throw Error("Invalid event type");var Ne=p(W)?!!W.capture:!!W,We=hr(h);if(We||(h[rn]=We=new _e(h)),E=We.add(v,E,V,Ne,le),E.proxy)return E;if(V=qr(),E.proxy=V,V.src=h,V.listener=E,h.addEventListener)ae||(W=Ne),W===void 0&&(W=!1),h.addEventListener(v.toString(),V,W);else if(h.attachEvent)h.attachEvent(fr(v.toString()),V);else if(h.addListener&&h.removeListener)h.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qr(){function h(E){return v.call(h.src,h.listener,E)}const v=Yi;return h}function dr(h,v,E,V,W){if(Array.isArray(v))for(var le=0;le<v.length;le++)dr(h,v[le],E,V,W);else V=p(V)?!!V.capture:!!V,E=ys(E),h&&h[ve]?(h=h.i,v=String(v).toString(),v in h.g&&(le=h.g[v],E=bt(le,E,V,W),-1<E&&(lt(le[E]),Array.prototype.splice.call(le,E,1),le.length==0&&(delete h.g[v],h.h--)))):h&&(h=hr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=bt(v,E,V,W)),(E=-1<h?v[h]:null)&&Hn(E))}function Hn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ve])dt(v.i,h);else{var E=h.type,V=h.proxy;v.removeEventListener?v.removeEventListener(E,V,h.capture):v.detachEvent?v.detachEvent(fr(E),V):v.addListener&&v.removeListener&&v.removeListener(V),(E=hr(v))?(dt(E,h),E.h==0&&(E.src=null,v[rn]=null)):lt(h)}}}function fr(h){return h in hn?hn[h]:hn[h]="on"+h}function Yi(h,v){if(h.da)h=!0;else{v=new be(v,this);var E=h.listener,V=h.ha||h.src;h.fa&&Hn(h),h=E.call(V,v)}return h}function hr(h){return h=h[rn],h instanceof _e?h:null}var $n="__closure_events_fn_"+(1e9*Math.random()>>>0);function ys(h){return typeof h=="function"?h:(h[$n]||(h[$n]=function(v){return h.handleEvent(v)}),h[$n])}function se(){Z.call(this),this.i=new _e(this),this.M=this,this.F=null}S(se,Z),se.prototype[ve]=!0,se.prototype.removeEventListener=function(h,v,E,V){dr(this,h,v,E,V)};function ge(h,v){var E,V=h.F;if(V)for(E=[];V;V=V.F)E.push(V);if(h=h.M,V=v.type||v,typeof v=="string")v=new C(v,h);else if(v instanceof C)v.target=v.target||h;else{var W=v;v=new C(V,h),A(v,W)}if(W=!0,E)for(var le=E.length-1;0<=le;le--){var Ne=v.g=E[le];W=ke(Ne,V,!0,v)&&W}if(Ne=v.g=h,W=ke(Ne,V,!0,v)&&W,W=ke(Ne,V,!1,v)&&W,E)for(le=0;le<E.length;le++)Ne=v.g=E[le],W=ke(Ne,V,!1,v)&&W}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],V=0;V<E.length;V++)lt(E[V]);delete h.g[v],h.h--}}this.F=null},se.prototype.K=function(h,v,E,V){return this.i.add(String(h),v,!1,E,V)},se.prototype.L=function(h,v,E,V){return this.i.add(String(h),v,!0,E,V)};function ke(h,v,E,V){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,le=0;le<v.length;++le){var Ne=v[le];if(Ne&&!Ne.da&&Ne.capture==E){var We=Ne.listener,Jt=Ne.ha||Ne.src;Ne.fa&&dt(h.i,Ne),W=We.call(Jt,V)!==!1&&W}}return W&&!V.defaultPrevented}function De(h,v,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function $e(h){h.g=De(()=>{h.g=null,h.i&&(h.i=!1,$e(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class mn extends Z{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$e(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(h){Z.call(this),this.h=h,this.g={}}S(sn,Z);var Zt=[];function Sn(h){U(h.g,function(v,E){this.g.hasOwnProperty(E)&&Hn(v)},h),h.g={}}sn.prototype.N=function(){sn.aa.N.call(this),Sn(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=f.JSON.stringify,Ct=f.JSON.parse,An=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function pn(){}pn.prototype.h=null;function Qi(h){return h.h||(h.h=h.i())}function Xi(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rr(){C.call(this,"d")}S(Rr,C);function Ki(){C.call(this,"c")}S(Ki,C);var mr={},Zi=null;function Dr(){return Zi=Zi||new se}mr.La="serverreachability";function bs(h){C.call(this,mr.La,h)}S(bs,C);function Hr(h){const v=Dr();ge(v,new bs(v))}mr.STAT_EVENT="statevent";function Ga(h,v){C.call(this,mr.STAT_EVENT,h),this.stat=v}S(Ga,C);function _t(h){const v=Dr();ge(v,new Ga(v,h))}mr.Ma="timingevent";function Nt(h,v){C.call(this,mr.Ma,h),this.size=v}S(Nt,C);function de(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Ue(){this.g=!0}Ue.prototype.xa=function(){this.g=!1};function At(h,v,E,V,W,le){h.info(function(){if(h.g)if(le)for(var Ne="",We=le.split("&"),Jt=0;Jt<We.length;Jt++){var et=We[Jt].split("=");if(1<et.length){var ln=et[0];et=et[1];var Wt=ln.split("_");Ne=2<=Wt.length&&Wt[1]=="type"?Ne+(ln+"="+et+"&"):Ne+(ln+"=redacted&")}}else Ne=null;else Ne=le;return"XMLHTTP REQ ("+V+") [attempt "+W+"]: "+v+`
`+E+`
`+Ne})}function Ji(h,v,E,V,W,le,Ne){h.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+W+"]: "+v+`
`+E+`
`+le+" "+Ne})}function ti(h,v,E,V){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Wi(h,E)+(V?" "+V:"")})}function uu(h,v){h.info(function(){return"TIMEOUT: "+v})}Ue.prototype.info=function(){};function Wi(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var V=E[h];if(!(2>V.length)){var W=V[1];if(Array.isArray(W)&&!(1>W.length)){var le=W[0];if(le!="noop"&&le!="stop"&&le!="close")for(var Ne=1;Ne<W.length;Ne++)W[Ne]=""}}}}return Ft(E)}catch{return v}}var ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$r;function Gr(){}S(Gr,pn),Gr.prototype.g=function(){return new XMLHttpRequest},Gr.prototype.i=function(){return{}},$r=new Gr;function Vn(h,v,E,V){this.j=h,this.i=v,this.l=E,this.R=V||1,this.U=new sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var ho={},Ya={};function Ir(h,v,E){h.L=1,h.v=sa(er(v)),h.m=E,h.P=!0,ws(h,null)}function ws(h,v){h.F=Date.now(),ea(h),h.A=er(h.v);var E=h.A,V=h.R;Array.isArray(V)||(V=[String(V)]),bo(E.i,"t",V),h.C=0,E=h.j.J,h.h=new Lt,h.g=Su(h.j,E?v:null,!h.m),0<h.O&&(h.M=new mn(w(h.Y,h,h.g),h.O)),v=h.U,E=h.g,V=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(Zt[0]=W.toString()),W=Zt);for(var le=0;le<W.length;le++){var Ne=Fr(E,W[le],V||v.handleEvent,!1,v.h||v);if(!Ne)break;v.g[Ne.key]=Ne}v=h.H?j(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Hr(),At(h.i,h.u,h.A,h.l,h.R,h.m)}Vn.prototype.ca=function(h){h=h.target;const v=this.M;v&&yr(h)==3?v.j():this.Y(h)},Vn.prototype.Y=function(h){try{if(h==this.g)e:{const Wt=yr(this.g);var v=this.g.Ba();const Cs=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||Wt!=4||v==7||(v==8||0>=Cs?Hr(3):Hr(2)),ri(this);var E=this.g.Z();this.X=E;t:if(du(this)){var V=yu(this.g);h="";var W=V.length,le=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Yr(this);var Ne="";break t}this.h.i=new f.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,h+=this.h.i.decode(V[v],{stream:!(le&&v==W-1)});V.length=0,this.h.g+=h,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=E==200,Ji(this.i,this.u,this.A,this.l,this.R,Wt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Jt=this.g;if((We=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(We)){var et=We;break t}}et=null}if(E=et)ti(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ta(this,E);else{this.o=!1,this.s=3,_t(12),gn(this),Yr(this);break e}}if(this.P){E=!0;let xn;for(;!this.J&&this.C<Ne.length;)if(xn=fu(this,Ne),xn==Ya){Wt==4&&(this.s=4,_t(14),E=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==ho){this.s=4,_t(15),ti(this.i,this.l,Ne,"[Invalid Chunk]"),E=!1;break}else ti(this.i,this.l,xn,null),ta(this,xn);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||Ne.length!=0||this.h.h||(this.s=1,_t(16),E=!1),this.o=this.o&&E,!E)ti(this.i,this.l,Ne,"[Invalid Chunked Response]"),gn(this),Yr(this);else if(0<Ne.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),fa(ln),ln.M=!0,_t(11))}}else ti(this.i,this.l,Ne,null),ta(this,Ne);Wt==4&&gn(this),this.o&&!this.J&&(Wt==4?Nu(this.j,this):(this.o=!1,ea(this)))}else Zf(this.g),E==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),gn(this),Yr(this)}}}catch{}finally{}};function du(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function fu(h,v){var E=h.C,V=v.indexOf(`
`,E);return V==-1?Ya:(E=Number(v.substring(E,V)),isNaN(E)?ho:(V+=1,V+E>v.length?Ya:(v=v.slice(V,V+E),h.C=V+E,v)))}Vn.prototype.cancel=function(){this.J=!0,gn(this)};function ea(h){h.S=Date.now()+h.I,hu(h,h.I)}function hu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=de(w(h.ba,h),v)}function ri(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Vn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(uu(this.i,this.A),this.L!=2&&(Hr(),_t(17)),gn(this),this.s=2,Yr(this)):hu(this,this.S-h)};function Yr(h){h.j.G==0||h.J||Nu(h.j,h)}function gn(h){ri(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Sn(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function ta(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||mo(E.h,h))){if(!h.K&&mo(E.h,h)&&E.G==3){try{var V=E.Da.g.parse(v)}catch{V=null}if(Array.isArray(V)&&V.length==3){var W=V;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)il(E),rl(E);else break e;Eo(E),_t(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=de(w(E.Za,E),6e3));if(1>=Xa(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else js(E,11)}else if((h.K||E.g==h)&&il(E),!B(v))for(W=E.Da.g.parse(v),v=0;v<W.length;v++){let et=W[v];if(E.T=et[0],et=et[1],E.G==2)if(et[0]=="c"){E.K=et[1],E.ia=et[2];const ln=et[3];ln!=null&&(E.la=ln,E.j.info("VER="+E.la));const Wt=et[4];Wt!=null&&(E.Aa=Wt,E.j.info("SVER="+E.Aa));const Cs=et[5];Cs!=null&&typeof Cs=="number"&&0<Cs&&(V=1.5*Cs,E.L=V,E.j.info("backChannelRequestTimeoutMs_="+V)),V=E;const xn=h.g;if(xn){const es=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var le=V.h;le.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Ka(le,le.h),le.h=null))}if(V.D){const So=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(V.ya=So,mt(V.I,V.D,So))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),V=E;var Ne=h;if(V.qa=Tu(V,V.J?V.ia:null,V.W),Ne.K){Pn(V.h,Ne);var We=Ne,Jt=V.L;Jt&&(We.I=Jt),We.B&&(ri(We),ea(We)),V.g=Ne}else wu(V);0<E.i.length&&sl(E)}else et[0]!="stop"&&et[0]!="close"||js(E,7);else E.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?js(E,7):_o(E):et[0]!="noop"&&E.l&&E.l.ta(et),E.v=0)}}Hr(4)}catch{}}var mu=class{constructor(h,v){this.g=h,this.map=v}};function _s(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xa(h){return h.h?1:h.g?h.g.size:0}function mo(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ka(h,v){h.g?h.g.add(v):h.h=v}function Pn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}_s.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function po(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return M(h.i)}function Yf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],E=h.length,V=0;V<E;V++)v.push(h[V]);return v}v=[],E=0;for(V in h)v[E++]=h[V];return v}function Za(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const V in h)v[E++]=V;return v}}}function go(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Za(h),V=Yf(h),W=V.length,le=0;le<W;le++)v.call(void 0,V[le],E&&E[le],h)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qf(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var V=h[E].indexOf("="),W=null;if(0<=V){var le=h[E].substring(0,V);W=h[E].substring(V+1)}else le=h[E];v(le,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function qt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof qt){this.h=h.h,ra(this,h.j),this.o=h.o,this.g=h.g,si(this,h.s),this.l=h.l;var v=h.i,E=new Es;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Ns(this,E),this.m=h.m}else h&&(v=String(h).match(na))?(this.h=!1,ra(this,v[1]||"",!0),this.o=pr(v[2]||""),this.g=pr(v[3]||"",!0),si(this,v[4]),this.l=pr(v[5]||"",!0),Ns(this,v[6]||"",!0),this.m=pr(v[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}qt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(ia(v,xo,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ia(v,xo,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ia(E,E.charAt(0)=="/"?Xf:yo,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ia(E,Ja)),h.join("")};function er(h){return new qt(h)}function ra(h,v,E){h.j=E?pr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function si(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ns(h,v,E){v instanceof Es?(h.i=v,gu(h.i,h.h)):(E||(v=ia(v,Kf)),h.i=new Es(v,h.h))}function mt(h,v,E){h.i.set(v,E)}function sa(h){return mt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function pr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ia(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,pu),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xo=/[#\/\?@]/g,yo=/[#\?:]/g,Xf=/[#\?]/g,Kf=/[#\?@]/g,Ja=/#/g;function Es(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function gr(h){h.g||(h.g=new Map,h.h=0,h.i&&Qf(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Es.prototype,t.add=function(h,v){gr(this),this.i=null,h=Qr(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Ts(h,v){gr(h),v=Qr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ss(h,v){return gr(h),v=Qr(h,v),h.g.has(v)}t.forEach=function(h,v){gr(this),this.g.forEach(function(E,V){E.forEach(function(W){h.call(v,W,V,this)},this)},this)},t.na=function(){gr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let V=0;V<v.length;V++){const W=h[V];for(let le=0;le<W.length;le++)E.push(v[V])}return E},t.V=function(h){gr(this);let v=[];if(typeof h=="string")Ss(this,h)&&(v=v.concat(this.g.get(Qr(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},t.set=function(h,v){return gr(this),this.i=null,h=Qr(this,h),Ss(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function bo(h,v,E){Ts(h,v),0<E.length&&(h.i=null,h.g.set(Qr(h,v),M(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var V=v[E];const le=encodeURIComponent(String(V)),Ne=this.V(V);for(V=0;V<Ne.length;V++){var W=le;Ne[V]!==""&&(W+="="+encodeURIComponent(String(Ne[V]))),h.push(W)}}return this.i=h.join("&")};function Qr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function gu(h,v){v&&!h.j&&(gr(h),h.i=null,h.g.forEach(function(E,V){var W=V.toLowerCase();V!=W&&(Ts(this,V),bo(this,W,E))},h)),h.j=v}function aa(h,v){const E=new Ue;if(f.Image){const V=new Image;V.onload=_(xr,E,"TestLoadImage: loaded",!0,v,V),V.onerror=_(xr,E,"TestLoadImage: error",!1,v,V),V.onabort=_(xr,E,"TestLoadImage: abort",!1,v,V),V.ontimeout=_(xr,E,"TestLoadImage: timeout",!1,v,V),f.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=h}else v(!1)}function Mr(h,v){const E=new Ue,V=new AbortController,W=setTimeout(()=>{V.abort(),xr(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:V.signal}).then(le=>{clearTimeout(W),le.ok?xr(E,"TestPingServer: ok",!0,v):xr(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),xr(E,"TestPingServer: error",!1,v)})}function xr(h,v,E,V,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),V(E)}catch{}}function la(){this.g=new An}function Xr(h,v,E){const V=E||"";try{go(h,function(W,le){let Ne=W;p(W)&&(Ne=Ft(W)),v.push(V+le+"="+encodeURIComponent(Ne))})}catch(W){throw v.push(V+"type="+encodeURIComponent("_badmap")),W}}function ii(h){this.l=h.Ub||null,this.j=h.eb||!1}S(ii,pn),ii.prototype.g=function(){return new As(this.l,this.j)},ii.prototype.i=(function(h){return function(){return h}})({});function As(h,v){se.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(As,se),t=As.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Zr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Kr(this):Zr(this),this.readyState==3&&vo(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Kr(this))},t.Qa=function(h){this.g&&(this.response=h,Kr(this))},t.ga=function(){this.g&&Kr(this)};function Kr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Zr(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Zr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wo(h){let v="";return U(h,function(E,V){v+=V,v+=":",v+=E,v+=`\r
`}),v}function an(h,v,E){e:{for(V in E){var V=!1;break e}V=!0}V||(E=wo(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):mt(h,v,E))}function ct(h){se.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ct,se);var Wa=/^https?$/i,oa=["POST","PUT"];t=ct.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,E,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$r.g(),this.v=this.o?Qi(this.o):Qi($r),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(le){xu(this,le);return}if(h=E||"",E=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var W in V)E.set(W,V[W]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const le of V.keys())E.set(le,V.get(le));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(E.keys()).find(le=>le.toLowerCase()=="content-type"),W=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(oa,v,void 0))||V||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ne]of E)this.g.setRequestHeader(le,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ca(this),this.u=!0,this.g.send(h),this.u=!1}catch(le){xu(this,le)}};function xu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,el(h),Jr(h)}function el(h){h.A||(h.A=!0,ge(h,"complete"),ge(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ge(this,"complete"),ge(this,"abort"),Jr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jr(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tl(this):this.bb())},t.bb=function(){tl(this)};function tl(h){if(h.h&&typeof c<"u"&&(!h.v[1]||yr(h)!=4||h.Z()!=2)){if(h.u&&yr(h)==4)De(h.Ea,0,h);else if(ge(h,"readystatechange"),yr(h)==4){h.h=!1;try{const Ne=h.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var V;if(V=Ne===0){var W=String(h.D).match(na)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),V=!Wa.test(W?W.toLowerCase():"")}E=V}if(E)ge(h,"complete"),ge(h,"success");else{h.m=6;try{var le=2<yr(h)?h.g.statusText:""}catch{le=""}h.l=le+" ["+h.Z()+"]",el(h)}}finally{Jr(h)}}}}function Jr(h,v){if(h.g){ca(h);const E=h.g,V=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||ge(h,"ready");try{E.onreadystatechange=V}catch{}}}function ca(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function yr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ct(v)}};function yu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(h){const v={};h=(h.g&&2<=yr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<h.length;V++){if(B(h[V]))continue;var E=D(h[V]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const le=v[W]||[];v[W]=le,le.push(E)}R(v,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function nl(h){this.Aa=0,this.i=[],this.j=new Ue,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,h),this.cb=ua("retryDelaySeedMs",1e4,h),this.Wa=ua("forwardChannelMaxRetries",2,h),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(h&&h.concurrentRequestLimit),this.Da=new la,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nl.prototype,t.la=8,t.G=1,t.connect=function(h,v,E,V){_t(0),this.W=h,this.H=v||{},E&&V!==void 0&&(this.H.OSID=E,this.H.OAID=V),this.F=this.X,this.I=Tu(this,null,this.W),sl(this)};function _o(h){if(bu(h),h.G==3){var v=h.U++,E=er(h.I);if(mt(E,"SID",h.K),mt(E,"RID",v),mt(E,"TYPE","terminate"),da(h,E),v=new Vn(h,h.j,v),v.L=2,v.v=sa(er(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.v,E=!0),E||(v.g=Su(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ea(v)}Eu(h)}function rl(h){h.g&&(fa(h),h.g.cancel(),h.g=null)}function bu(h){rl(h),h.u&&(f.clearTimeout(h.u),h.u=null),il(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function sl(h){if(!Qa(h.h)&&!h.s){h.s=!0;var v=h.Ga;ue||N(),ne||(ue(),ne=!0),J.add(v,h),h.B=0}}function Jf(h,v){return Xa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=de(w(h.Ga,h,v),To(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new Vn(this,this.j,h);let le=this.o;if(this.S&&(le?(le=j(le),A(le,this.S)):le=this.S),this.m!==null||this.O||(W.H=le,le=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var V=this.i[E];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(v+=V,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=vu(this,W,v),E=er(this.I),mt(E,"RID",h),mt(E,"CVER",22),this.D&&mt(E,"X-HTTP-Session-Id",this.D),da(this,E),le&&(this.O?v="headers="+encodeURIComponent(String(wo(le)))+"&"+v:this.m&&an(E,this.m,le)),Ka(this.h,W),this.Ua&&mt(E,"TYPE","init"),this.P?(mt(E,"$req",v),mt(E,"SID","null"),W.T=!0,Ir(W,E,null)):Ir(W,E,v),this.G=2}}else this.G==3&&(h?No(this,h):this.i.length==0||Qa(this.h)||No(this))};function No(h,v){var E;v?E=v.l:E=h.U++;const V=er(h.I);mt(V,"SID",h.K),mt(V,"RID",E),mt(V,"AID",h.T),da(h,V),h.m&&h.o&&an(V,h.m,h.o),E=new Vn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=vu(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ka(h.h,E),Ir(E,V,v)}function da(h,v){h.H&&U(h.H,function(E,V){mt(v,V,E)}),h.l&&go({},function(E,V){mt(v,V,E)})}function vu(h,v,E){E=Math.min(h.i.length,E);var V=h.l?w(h.l.Na,h.l,h):null;e:{var W=h.i;let le=-1;for(;;){const Ne=["count="+E];le==-1?0<E?(le=W[0].g,Ne.push("ofs="+le)):le=0:Ne.push("ofs="+le);let We=!0;for(let Jt=0;Jt<E;Jt++){let et=W[Jt].g;const ln=W[Jt].map;if(et-=le,0>et)le=Math.max(0,W[Jt].g-100),We=!1;else try{Xr(ln,Ne,"req"+et+"_")}catch{V&&V(ln)}}if(We){V=Ne.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,V}function wu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ue||N(),ne||(ue(),ne=!0),J.add(v,h),h.v=0}}function Eo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=de(w(h.Fa,h),To(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=de(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),rl(this),_u(this))};function fa(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function _u(h){h.g=new Vn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=er(h.qa);mt(v,"RID","rpc"),mt(v,"SID",h.K),mt(v,"AID",h.T),mt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&mt(v,"TO",h.ja),mt(v,"TYPE","xmlhttp"),da(h,v),h.m&&h.o&&an(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=sa(er(v)),E.m=null,E.P=!0,ws(E,h)}t.Za=function(){this.C!=null&&(this.C=null,rl(this),Eo(this),_t(19))};function il(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Nu(h,v){var E=null;if(h.g==v){il(h),fa(h),h.g=null;var V=2}else if(mo(h.h,v))E=v.D,Pn(h.h,v),V=1;else return;if(h.G!=0){if(v.o)if(V==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var W=h.B;V=Dr(),ge(V,new Nt(V,E)),sl(h)}else wu(h);else if(W=v.s,W==3||W==0&&0<v.X||!(V==1&&Jf(h,v)||V==2&&Eo(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),W){case 1:js(h,5);break;case 4:js(h,10);break;case 3:js(h,6);break;default:js(h,2)}}}function To(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function js(h,v){if(h.j.info("Error code "+v),v==2){var E=w(h.fb,h),V=h.Xa;const W=!V;V=new qt(V||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ra(V,"https"),sa(V),W?aa(V.toString(),E):Mr(V.toString(),E)}else _t(2);h.G=0,h.l&&h.l.sa(v),Eu(h),bu(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Eu(h){if(h.G=0,h.ka=[],h.l){const v=po(h.h);(v.length!=0||h.i.length!=0)&&(L(h.ka,v),L(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function Tu(h,v,E){var V=E instanceof qt?er(E):new qt(E);if(V.g!="")v&&(V.g=v+"."+V.g),si(V,V.s);else{var W=f.location;V=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var le=new qt(null);V&&ra(le,V),v&&(le.g=v),W&&si(le,W),E&&(le.l=E),V=le}return E=h.D,v=h.ya,E&&v&&mt(V,E,v),mt(V,"VER",h.la),da(h,V),V}function Su(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ct(new ii({eb:E})):new ct(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}t=Au.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function al(){}al.prototype.g=function(h,v){return new Ln(h,v)};function Ln(h,v){se.call(this),this.g=new nl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!B(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!B(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Wr(this)}S(Ln,se),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){_o(this.g)},Ln.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Ft(h),h=E);v.i.push(new mu(v.Ya++,h)),v.G==3&&sl(v)},Ln.prototype.N=function(){this.g.l=null,delete this.j,_o(this.g),delete this.g,Ln.aa.N.call(this)};function ju(h){Rr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}S(ju,Rr);function Cu(){Ki.call(this),this.status=1}S(Cu,Ki);function Wr(h){this.g=h}S(Wr,Au),Wr.prototype.ua=function(){ge(this.g,"a")},Wr.prototype.ta=function(h){ge(this.g,new ju(h))},Wr.prototype.sa=function(h){ge(this.g,new Cu)},Wr.prototype.ra=function(){ge(this.g,"b")},al.prototype.createWebChannel=al.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,E2=function(){return new al},N2=function(){return Dr()},_2=mr,C0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,Ud=ni,vs.COMPLETE="complete",w2=vs,Xi.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",se.prototype.listen=se.prototype.K,vc=Xi,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,v2=ct}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});const ob="@firebase/firestore",cb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new h2("@firebase/firestore");function Ll(){return Pa.logLevel}function je(t,...e){if(Pa.logLevel<=rt.DEBUG){const n=e.map(bp);Pa.debug(`Firestore (${ro}): ${t}`,...n)}}function Ks(t,...e){if(Pa.logLevel<=rt.ERROR){const n=e.map(bp);Pa.error(`Firestore (${ro}): ${t}`,...n)}}function Ql(t,...e){if(Pa.logLevel<=rt.WARN){const n=e.map(bp);Pa.warn(`Firestore (${ro}): ${t}`,...n)}}function bp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,T2(t,s,n)}function T2(t,e,n){let s=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ks(s),new Error(s)}function ut(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||T2(e,a,s)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends no{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class V3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class P3{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let o=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new S2(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class L3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new L3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ub{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,v3(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=o=>{o.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const a=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ub(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ub(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=B3(40);for(let o=0;o<a.length;++o)s.length<20&&a[o]<n&&(s+=e.charAt(a[o]%62))}return s}}function Ze(t,e){return t<e?-1:t>e?1:0}function k0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),o=e.charAt(s);if(a!==o)return Wm(a)===Wm(o)?Ze(a,o):Wm(a)?1:-1}return Ze(t.length,e.length)}const F3=55296,q3=57343;function Wm(t){const e=t.charCodeAt(0);return e>=F3&&e<=q3}function Xl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="__name__";class ls{constructor(e,n,s){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Le(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ls?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const o=ls.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ze(e.length,n.length)}static compareSegments(e,n){const s=ls.isNumericId(e),a=ls.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ls.extractNumericId(e).compare(ls.extractNumericId(n)):k0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mi.fromString(e.substring(4,e.length-2))}}class St extends ls{construct(e,n,s){return new St(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const H3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends ls{construct(e,n,s){return new En(e,n,s)}static isValidIdentifier(e){return H3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===db}static keyField(){return new En([db])}static fromServerFormat(e){const n=[];let s="",a=0;const o=()=>{if(s.length===0)throw new Ee(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ee(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(o(),a++)}if(o(),c)throw new Ee(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(St.fromString(e))}static fromName(e){return new Ie(St.fromString(e).popFirst(5))}static empty(){return new Ie(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e,n){if(!n)throw new Ee(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $3(t,e,n,s){if(e===!0&&s===!0)throw new Ee(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fb(t){if(!Ie.isDocumentKey(t))throw new Ee(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hb(t){if(Ie.isDocumentKey(t))throw new Ee(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function j2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bf(t);throw new Ee(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xc(t,e){if(!j2(t))throw new Ee(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${s}' field to equal '${o.value}'`;break}}if(n)throw new Ee(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=-62135596800,pb=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*pb);return new jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mb)throw new Ee(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pb}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xc(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:Kt("string",jt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new jt(0,0))}static max(){return new Be(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=-1;function G3(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(s===1e9?new jt(n+1,0):new jt(n,s));return new Pi(a,Ie.empty(),e)}function Y3(t){return new Pi(t.readTime,t.key,Oc)}class Pi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Pi(Be.min(),Ie.empty(),Oc)}static max(){return new Pi(Be.max(),Ie.empty(),Oc)}}function Q3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==X3)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((s,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,s)=>{n(e)}))}static reject(e){return new ye(((n,s)=>{s(e)}))}static waitFor(e){return new ye(((n,s)=>{let a=0,o=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++o,c&&o===a&&n()}),(m=>s(m)))})),c=!0,o===a&&n()}))}static or(e){let n=ye.resolve(!1);for(const s of e)n=n.next((a=>a?ye.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,o)=>{s.push(n.call(this,a,o))})),this.waitFor(s)}static mapArray(e,n){return new ye(((s,a)=>{const o=e.length,c=new Array(o);let f=0;for(let m=0;m<o;m++){const p=m;n(e[p]).next((x=>{c[p]=x,++f,f===o&&s(c)}),(x=>a(x)))}}))}static doWhile(e,n){return new ye(((s,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):s()};o()}))}}function Z3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function wf(t){return t==null}function Jd(t){return t===0&&1/t==-1/0}function J3(t){return typeof t=="number"&&Number.isInteger(t)&&!Jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="";function W3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gb(e)),e=e6(t.get(n),e);return gb(e)}function e6(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case C2:n+="";break;default:n+=o}}return n}function gb(t){return t+C2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rd(this.root,e,this.comparator,!0)}}class Rd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?s(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,s,a,o){this.key=e,this.value=n,this.color=s??_n.RED,this.left=a??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,o){return new _n(e??this.key,n??this.value,s??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const o=s(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,s),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,s,a,o){return this}insert(e,n,s){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yb(this.data.getIterator())}getIteratorFrom(e){return new yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=s.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new cr([])}unionWith(e){let n=new nn(En.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new R2("Invalid base64 string: "+o):o}})(e);return new Tn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const t6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=t6.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="server_timestamp",I2="__type__",M2="__previous_value__",O2="__local_write_time__";function _p(t){return(t?.mapValue?.fields||{})[I2]?.stringValue===D2}function _f(t){const e=t.mapValue.fields[M2];return _p(e)?_f(e):e}function Vc(t){const e=Li(t.mapValue.fields[O2].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n,s,a,o,c,f,m,p,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=x}}const Wd="(default)";class Pc{constructor(e,n){this.projectId=e,this.database=n||Wd}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="__type__",r6="__max__",Dd={mapValue:{}},P2="__vector__",ef="value";function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_p(t)?4:i6(t)?9007199254740991:s6(t)?10:11:Le(28295,{value:t})}function ps(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vc(t).isEqual(Vc(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Li(a.timestampValue),f=Li(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return zi(a.bytesValue).isEqual(zi(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return Bt(a.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Bt(a.integerValue)===Bt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Bt(a.doubleValue),f=Bt(o.doubleValue);return c===f?Jd(c)===Jd(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},f=o.mapValue.fields||{};if(xb(c)!==xb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ps(c[m],f[m])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Lc(t,e){return(t.values||[]).find((n=>ps(n,e)))!==void 0}function Kl(t,e){if(t===e)return 0;const n=Ui(t),s=Ui(e);if(n!==s)return Ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const f=Bt(o.integerValue||o.doubleValue),m=Bt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return bb(t.timestampValue,e.timestampValue);case 4:return bb(Vc(t),Vc(e));case 5:return k0(t.stringValue,e.stringValue);case 6:return(function(o,c){const f=zi(o),m=zi(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const f=o.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const x=Ze(f[p],m[p]);if(x!==0)return x}return Ze(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const f=Ze(Bt(o.latitude),Bt(c.latitude));return f!==0?f:Ze(Bt(o.longitude),Bt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return vb(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const f=o.fields||{},m=c.fields||{},p=f[ef]?.arrayValue,x=m[ef]?.arrayValue,b=Ze(p?.values?.length||0,x?.values?.length||0);return b!==0?b:vb(p,x)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Dd.mapValue&&c===Dd.mapValue)return 0;if(o===Dd.mapValue)return 1;if(c===Dd.mapValue)return-1;const f=o.fields||{},m=Object.keys(f),p=c.fields||{},x=Object.keys(p);m.sort(),x.sort();for(let b=0;b<m.length&&b<x.length;++b){const w=k0(m[b],x[b]);if(w!==0)return w;const _=Kl(f[m[b]],p[x[b]]);if(_!==0)return _}return Ze(m.length,x.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function bb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=Li(t),s=Li(e),a=Ze(n.seconds,s.seconds);return a!==0?a:Ze(n.nanos,s.nanos)}function vb(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const o=Kl(n[a],s[a]);if(o)return o}return Ze(n.length,s.length)}function Zl(t){return R0(t)}function R0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Li(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return zi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const o of n.values||[])a?a=!1:s+=",",s+=R0(o);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of s)o?o=!1:a+=",",a+=`${c}:${R0(n.fields[c])}`;return a+"}"})(t.mapValue):Le(61005,{value:t})}function Bd(t){switch(Ui(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(t);return e?16+Bd(e):16;case 5:return 2*t.stringValue.length;case 6:return zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,o)=>a+Bd(o)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return qi(s.fields,((o,c)=>{a+=o.length+Bd(c)})),a})(t.mapValue);default:throw Le(13486,{value:t})}}function wb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function D0(t){return!!t&&"integerValue"in t}function Np(t){return!!t&&"arrayValue"in t}function _b(t){return!!t&&"nullValue"in t}function Nb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function s6(t){return(t?.mapValue?.fields||{})[V2]?.stringValue===P2}function Tc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return qi(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Tc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return{...t}}function i6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===r6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=En.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Tc(c):a.push(f.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,s,a)}delete(e){const n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Fd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){qi(n,((a,o)=>e[a]=o));for(const a of s)delete e[a]}clone(){return new Zn(Tc(this.value))}}function L2(t){const e=[];return qi(t.fields,((n,s)=>{const a=new En([n]);if(Fd(s)){const o=L2(s.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,s,a,o,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new In(e,0,Be.min(),Be.min(),Be.min(),Zn.empty(),0)}static newFoundDocument(e,n,s,a){return new In(e,1,n,Be.min(),s,a,0)}static newNoDocument(e,n){return new In(e,2,n,Be.min(),Be.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Be.min(),Be.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.position=e,this.inclusive=n}}function Eb(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?s=Ie.comparator(Ie.fromName(c.referenceValue),n.key):s=Kl(c,n.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function a6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{}class Xt extends z2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new o6(e,n,s):n==="array-contains"?new d6(e,s):n==="in"?new f6(e,s):n==="not-in"?new h6(e,s):n==="array-contains-any"?new m6(e,s):new Xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new c6(e,s):new u6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kl(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(Kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends z2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Br(e,n)}matches(e){return U2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function U2(t){return t.op==="and"}function B2(t){return l6(t)&&U2(t)}function l6(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function I0(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+Zl(t.value);if(B2(t))return t.filters.map((e=>I0(e))).join(",");{const e=t.filters.map((n=>I0(n))).join(",");return`${t.op}(${e})`}}function F2(t,e){return t instanceof Xt?(function(s,a){return a instanceof Xt&&s.op===a.op&&s.field.isEqual(a.field)&&ps(s.value,a.value)})(t,e):t instanceof Br?(function(s,a){return a instanceof Br&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((o,c,f)=>o&&F2(c,a.filters[f])),!0):!1})(t,e):void Le(19439)}function q2(t){return t instanceof Xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zl(n.value)}`})(t):t instanceof Br?(function(n){return n.op.toString()+" {"+n.getFilters().map(q2).join(" ,")+"}"})(t):"Filter"}class o6 extends Xt{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class c6 extends Xt{constructor(e,n){super(e,"in",n),this.keys=H2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class u6 extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=H2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function H2(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class d6 extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Np(n)&&Lc(n.arrayValue,this.value)}}class f6 extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}}class h6 extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lc(this.value.arrayValue,n)}}class m6 extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Lc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n=null,s=[],a=[],o=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=o,this.startAt=c,this.endAt=f,this.Te=null}}function Sb(t,e=null,n=[],s=[],a=null,o=null,c=null){return new p6(t,e,n,s,a,o,c)}function Ep(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>I0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Zl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Zl(s))).join(",")),e.Te=n}return e.Te}function Tp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!F2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tb(t.startAt,e.startAt)&&Tb(t.endAt,e.endAt)}function M0(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n=null,s=[],a=[],o=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function g6(t,e,n,s,a,o,c,f){return new ao(t,e,n,s,a,o,c,f)}function Nf(t){return new ao(t)}function Ab(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $2(t){return t.collectionGroup!==null}function Sc(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new nn(En.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new zc(o,s))})),n.has(En.keyField().canonicalString())||e.Ie.push(new zc(En.keyField(),s))}return e.Ie}function cs(t){const e=Fe(t);return e.Ee||(e.Ee=x6(e,Sc(t))),e.Ee}function x6(t,e){if(t.limitType==="F")return Sb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new zc(a.field,o)}));const n=t.endAt?new tf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new tf(t.startAt.position,t.startAt.inclusive):null;return Sb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function O0(t,e){const n=t.filters.concat([e]);return new ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function V0(t,e,n){return new ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ef(t,e){return Tp(cs(t),cs(e))&&t.limitType===e.limitType}function G2(t){return`${Ep(cs(t))}|lt:${t.limitType}`}function zl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>q2(a))).join(", ")}]`),wf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Zl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Zl(a))).join(",")),`Target(${s})`})(cs(t))}; limitType=${t.limitType})`}function Tf(t,e){return e.isFoundDocument()&&(function(s,a){const o=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Ie.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(t,e)&&(function(s,a){for(const o of Sc(s))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const o of s.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=Eb(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,Sc(s),a)||s.endAt&&!(function(c,f,m){const p=Eb(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,Sc(s),a))})(t,e)}function y6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y2(t){return(e,n)=>{let s=!1;for(const a of Sc(t)){const o=b6(a,e,n);if(o!==0)return o;s=s||a.field.isKeyField()}return 0}}function b6(t,e,n){const s=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(o,c,f){const m=c.data.field(o),p=f.data.field(o);return m!==null&&p!==null?Kl(m,p):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,o]of s)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,((n,s)=>{for(const[a,o]of s)e(a,o)}))}isEmpty(){return k2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=new Dt(Ie.comparator);function Zs(){return v6}const Q2=new Dt(Ie.comparator);function wc(...t){let e=Q2;for(const n of t)e=e.insert(n.key,n);return e}function X2(t){let e=Q2;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ra(){return Ac()}function K2(){return Ac()}function Ac(){return new qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const w6=new Dt(Ie.comparator),_6=new nn(Ie.comparator);function Je(...t){let e=_6;for(const n of t)e=e.add(n);return e}const N6=new nn(Ze);function E6(){return N6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function Z2(t){return{integerValue:""+t}}function T6(t,e){return J3(e)?Z2(e):Sp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function S6(t,e,n){return t instanceof Uc?(function(a,o){const c={fields:{[I2]:{stringValue:D2},[O2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&_p(o)&&(o=_f(o)),o&&(c.fields[M2]=o),{mapValue:c}})(n,e):t instanceof Bc?W2(t,e):t instanceof Fc?ew(t,e):(function(a,o){const c=J2(a,o),f=jb(c)+jb(a.Ae);return D0(c)&&D0(a.Ae)?Z2(f):Sp(a.serializer,f)})(t,e)}function A6(t,e,n){return t instanceof Bc?W2(t,e):t instanceof Fc?ew(t,e):n}function J2(t,e){return t instanceof nf?(function(s){return D0(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Uc extends Sf{}class Bc extends Sf{constructor(e){super(),this.elements=e}}function W2(t,e){const n=tw(e);for(const s of t.elements)n.some((a=>ps(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Fc extends Sf{constructor(e){super(),this.elements=e}}function ew(t,e){let n=tw(e);for(const s of t.elements)n=n.filter((a=>!ps(a,s)));return{arrayValue:{values:n}}}class nf extends Sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jb(t){return Bt(t.integerValue||t.doubleValue)}function tw(t){return Np(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.field=e,this.transform=n}}function C6(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Bc&&a instanceof Bc||s instanceof Fc&&a instanceof Fc?Xl(s.elements,a.elements,ps):s instanceof nf&&a instanceof nf?ps(s.Ae,a.Ae):s instanceof Uc&&a instanceof Uc})(t.transform,e.transform)}class k6{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Af{}function nw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jf(t.key,qn.none()):new Kc(t.key,t.data,qn.none());{const n=t.data,s=Zn.empty();let a=new nn(En.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?s.delete(o):s.set(o,c),a=a.add(o)}return new Hi(t.key,s,new cr(a.toArray()),qn.none())}}function R6(t,e,n){t instanceof Kc?(function(a,o,c){const f=a.value.clone(),m=kb(a.fieldTransforms,o,c.transformResults);f.setAll(m),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Hi?(function(a,o,c){if(!qd(a.precondition,o))return void o.convertToUnknownDocument(c.version);const f=kb(a.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(rw(a)),m.setAll(f),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function jc(t,e,n,s){return t instanceof Kc?(function(o,c,f,m){if(!qd(o.precondition,c))return f;const p=o.value.clone(),x=Rb(o.fieldTransforms,m,c);return p.setAll(x),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Hi?(function(o,c,f,m){if(!qd(o.precondition,c))return f;const p=Rb(o.fieldTransforms,m,c),x=c.data;return x.setAll(rw(o)),x.setAll(p),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(o,c,f){return qd(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function D6(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),o=J2(s.transform,a||null);o!=null&&(n===null&&(n=Zn.empty()),n.set(s.field,o))}return n||null}function Cb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Xl(s,a,((o,c)=>C6(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends Af{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Hi extends Af{constructor(e,n,s,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function kb(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,f=e.data.field(o.field);s.set(o.field,A6(c,f,n[a]))}return s}function Rb(t,e,n){const s=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);s.set(a.field,S6(o,c,e))}return s}class jf extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I6 extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&R6(o,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=K2();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=n.has(a.key)?null:f;const m=nw(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,((n,s)=>Cb(n,s)))&&Xl(this.baseMutations,e.baseMutations,((n,s)=>Cb(n,s)))}}class Ap{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return w6})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,s[c].version);return new Ap(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,nt;function P6(t){switch(t){case he.OK:return Le(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function sw(t){if(t===void 0)return Ks("GRPC error has no .code"),he.UNKNOWN;switch(t){case Gt.OK:return he.OK;case Gt.CANCELLED:return he.CANCELLED;case Gt.UNKNOWN:return he.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return he.INTERNAL;case Gt.UNAVAILABLE:return he.UNAVAILABLE;case Gt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Gt.NOT_FOUND:return he.NOT_FOUND;case Gt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Gt.ABORTED:return he.ABORTED;case Gt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Gt.DATA_LOSS:return he.DATA_LOSS;default:return Le(39323,{code:t})}}(nt=Gt||(Gt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=new Mi([4294967295,4294967295],0);function Db(t){const e=L6().encode(t),n=new b2;return n.update(e),new Uint8Array(n.digest())}function Ib(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Mi([n,s],0),new Mi([a,o],0)]}class jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new _c(`Invalid padding: ${n}`);if(s<0)throw new _c(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new _c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Mi.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Mi.fromNumber(s)));return a.compare(z6)===1&&(a=new Mi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Db(e),[s,a]=Ib(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new jp(o,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=Db(e),[s,a]=Ib(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,s,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Cf(Be.min(),a,new Dt(Ze),Zs(),Je())}}class Zc{constructor(e,n,s,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Zc(s,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class iw{constructor(e,n){this.targetId=e,this.Ce=n}}class aw{constructor(e,n,s=Tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Mb{constructor(){this.ve=0,this.Fe=Ob(),this.Me=Tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),s=Je();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Le(38017,{changeType:o})}})),new Zc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ob()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zs(),this.Je=Id(),this.He=Id(),this.Ye=new Dt(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(M0(o))if(s===0){const c=new Ie(o.path);this.et(n,c,In.newNoDocument(c,Be.min()))}else ut(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=n;let c,f;try{c=zi(s).toUint8Array()}catch(m){if(m instanceof R2)return Ql("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new jp(c,a,o)}catch(m){return Ql(m instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((o=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const f=this.ot(c);if(f){if(o.current&&M0(f.target)){const m=new Ie(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,In.newNoDocument(m,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let s=Je();this.He.forEach(((o,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Cf(e,n,this.Ye,this.je,s);return this.je=Zs(),this.Je=Id(),this.He=Id(),this.Ye=new Dt(Ze),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Mb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nn(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nn(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Mb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Id(){return new Dt(Ie.comparator)}function Ob(){return new Dt(Ie.comparator)}const B6={asc:"ASCENDING",desc:"DESCENDING"},F6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q6={and:"AND",or:"OR"};class H6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function P0(t,e){return t.useProto3Json||wf(e)?e:{value:e}}function rf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $6(t,e){return rf(t,e.toTimestamp())}function us(t){return ut(!!t,49232),Be.fromTimestamp((function(n){const s=Li(n);return new jt(s.seconds,s.nanos)})(t))}function Cp(t,e){return L0(t,e).canonicalString()}function L0(t,e){const n=(function(a){return new St(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ow(t){const e=St.fromString(t);return ut(hw(e),10190,{key:e.toString()}),e}function z0(t,e){return Cp(t.databaseId,e.path)}function e0(t,e){const n=ow(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(uw(n))}function cw(t,e){return Cp(t.databaseId,e)}function G6(t){const e=ow(t);return e.length===4?St.emptyPath():uw(e)}function U0(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uw(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Vb(t,e,n){return{name:z0(t,e),fields:n.value.mapValue.fields}}function Y6(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,x){return p.useProto3Json?(ut(x===void 0||typeof x=="string",58123),Tn.fromBase64String(x||"")):(ut(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Tn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const x=p.code===void 0?he.UNKNOWN:sw(p.code);return new Ee(x,p.message||"")})(c);n=new aw(s,a,o,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=e0(t,s.document.name),o=us(s.document.updateTime),c=s.document.createTime?us(s.document.createTime):Be.min(),f=new Zn({mapValue:{fields:s.document.fields}}),m=In.newFoundDocument(a,o,c,f),p=s.targetIds||[],x=s.removedTargetIds||[];n=new Hd(p,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=e0(t,s.document),o=s.readTime?us(s.readTime):Be.min(),c=In.newNoDocument(a,o),f=s.removedTargetIds||[];n=new Hd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=e0(t,s.document),o=s.removedTargetIds||[];n=new Hd([],o,a,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:o}=s,c=new V6(a,o),f=s.targetId;n=new iw(f,c)}}return n}function Q6(t,e){let n;if(e instanceof Kc)n={update:Vb(t,e.key,e.value)};else if(e instanceof jf)n={delete:z0(t,e.key)};else if(e instanceof Hi)n={update:Vb(t,e.key,e.data),updateMask:rA(e.fieldMask)};else{if(!(e instanceof I6))return Le(16599,{Vt:e.type});n={verify:z0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(o,c){const f=c.transform;if(f instanceof Uc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Bc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Fc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nf)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Le(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:$6(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function X6(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?us(a.updateTime):us(o);return c.isEqual(Be.min())&&(c=us(o)),new k6(c,a.transformResults||[])})(n,e)))):[]}function K6(t,e){return{documents:[cw(t,e.path)]}}function Z6(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cw(t,a);const o=(function(p){if(p.length!==0)return fw(Br.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((x=>(function(w){return{field:Ul(w.field),direction:eA(w.dir)}})(x)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=P0(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function J6(t){let e=G6(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ut(s===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=(function(b){const w=dw(b);return w instanceof Br&&B2(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((w=>(function(S){return new zc(Bl(S.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let w;return w=typeof b=="object"?b.value:b,wf(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,_=b.values||[];return new tf(_,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,_=b.values||[];return new tf(_,w)})(n.endAt)),g6(e,a,c,o,f,"F",m,p)}function W6(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Bl(n.unaryFilter.field);return Xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Bl(n.unaryFilter.field);return Xt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bl(n.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bl(n.unaryFilter.field);return Xt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xt.create(Bl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Br.create(n.compositeFilter.filters.map((s=>dw(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function eA(t){return B6[t]}function tA(t){return F6[t]}function nA(t){return q6[t]}function Ul(t){return{fieldPath:t.canonicalString()}}function Bl(t){return En.fromServerFormat(t.fieldPath)}function fw(t){return t instanceof Xt?(function(n){if(n.op==="=="){if(Nb(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NAN"}};if(_b(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nb(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NAN"}};if(_b(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(n.field),op:tA(n.op),value:n.value}}})(t):t instanceof Br?(function(n){const s=n.getFilters().map((a=>fw(a)));return s.length===1?s[0]:{compositeFilter:{op:nA(n.op),filters:s}}})(t):Le(54877,{filter:t})}function rA(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,s,a,o=Be.min(),c=Be.min(),f=Tn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.yt=e}}function iA(t){const e=J6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?V0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.Cn=new lA}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Pi.min())}updateCollectionGroup(e,n,s){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class lA{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new nn(St.comparator),o=!a.has(s);return this.index[n]=a.add(s),o}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new nn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mw=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(mw,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jl(0)}static cr(){return new Jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="LruGarbageCollector",oA=1048576;function zb([t,e],[n,s]){const a=Ze(t,n);return a===0?Ze(e,s):a}class cA{constructor(e){this.Ir=e,this.buffer=new nn(zb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();zb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uA{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){je(Lb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?je(Lb,"Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.Vr(3e5)}))}}class dA{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(vf.ce);const s=new cA(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(Pb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,o,c,f,m,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(o=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),Ll()<=rt.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${o} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-x}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function fA(t,e){return new dA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.changes=new qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ye.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&jc(s.mutation,a,cr.empty(),jt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Je()){const a=Ra();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((o=>{let c=wc();return o.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ra();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Je())))}populateOverlays(e,n,s){const a=[];return s.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let o=Zs();const c=Ac(),f=(function(){return Ac()})();return n.forEach(((m,p)=>{const x=s.get(p.key);a.has(p.key)&&(x===void 0||x.mutation instanceof Hi)?o=o.insert(p.key,p):x!==void 0?(c.set(p.key,x.mutation.getFieldMask()),jc(x.mutation,p,x.mutation.getFieldMask(),jt.now())):c.set(p.key,cr.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((p,x)=>c.set(p,x))),n.forEach(((p,x)=>f.set(p,new mA(x,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Ac();let a=new Dt(((c,f)=>c-f)),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let x=s.get(m)||cr.empty();x=f.applyToLocalView(p,x),s.set(m,x);const b=(a.get(f.batchId)||Je()).add(m);a=a.insert(f.batchId,b)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,x=m.value,b=K2();x.forEach((w=>{if(!o.has(w)){const _=nw(n.get(w),s.get(w));_!==null&&b.set(w,_),o=o.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ye.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-o.size):ye.resolve(Ra());let f=Oc,m=o;return c.next((p=>ye.forEach(p,((x,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),o.get(x)?ye.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{m=m.insert(x,w)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,m,p,Je()))).next((x=>({batchId:f,changes:X2(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let a=wc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const o=n.collectionGroup;let c=wc();return this.indexManager.getCollectionParents(e,o).next((f=>ye.forEach(f,(m=>{const p=(function(b,w){return new ao(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((x=>{x.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o,a)))).next((c=>{o.forEach(((m,p)=>{const x=p.getKey();c.get(x)===null&&(c=c.insert(x,In.newInvalidDocument(x)))}));let f=wc();return c.forEach(((m,p)=>{const x=o.get(m);x!==void 0&&jc(x.mutation,p,cr.empty(),jt.now()),Tf(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ye.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:us(a.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:iA(a.bundledQuery),readTime:us(a.readTime)}})(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.overlays=new Dt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ra();return ye.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&s.set(a,o)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,o)=>{this.St(e,n,o)})),ye.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(s)),ye.resolve()}getOverlaysForCollection(e,n,s){const a=Ra(),o=n.length+1,c=new Ie(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ye.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let o=new Dt(((p,x)=>p-x));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let x=o.get(p.largestBatchId);x===null&&(x=Ra(),o=o.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const f=Ra(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,x)=>f.set(p,x))),!(f.size()>=a)););return ye.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new O6(n,s));let o=this.qr.get(n);o===void 0&&(o=Je(),this.qr.set(n,o)),this.qr.set(n,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Qr=new nn(dn.$r),this.Ur=new nn(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new dn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new dn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ie(new St([])),s=new dn(n,e),a=new dn(n,e+1),o=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new St([])),s=new dn(n,e),a=new dn(n,e+1);let o=Je();return this.Ur.forEachInRange([s,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new dn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class dn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nn(dn.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new M6(o,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new dn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,n){return ye.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),o=a<0?0:a;return ye.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?wp:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new dn(n,0),a=new dn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);o.push(f)})),ye.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new nn(Ze);return n.forEach((a=>{const o=new dn(a,0),c=new dn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(f=>{s=s.add(f.Yr)}))})),ye.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let o=s;Ie.isDocumentKey(o)||(o=o.child(""));const c=new dn(new Ie(o),0);let f=new nn(Ze);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),ye.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ye.forEach(n.mutations,(a=>{const o=new dn(a.key,n.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new dn(n,0),a=this.Zr.firstAfterOrEqual(s);return ye.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.ri=e,this.docs=(function(){return new Dt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ye.resolve(s?s.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let s=Zs();return n.forEach((a=>{const o=this.docs.get(a);s=s.insert(a,o?o.document.mutableCopy():In.newInvalidDocument(a))})),ye.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let o=Zs();const c=n.path,f=new Ie(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:x}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Q3(Y3(x),s)<=0||(a.has(x.key)||Tf(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return ye.resolve(o)}getAllFromCollectionGroup(e,n,s,a){Le(9500)}ii(e,n){return ye.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new wA(this)}getSize(e){return ye.resolve(this.size)}}class wA extends hA{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ye.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.persistence=e,this.si=new qa((n=>Ep(n)),Tp),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new kp,this.targetCount=0,this.ai=Jl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ye.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Jl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Pr(n),ye.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,s){let a=0;const o=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ye.waitFor(o).next((()=>a))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ye.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ye.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),ye.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ye.resolve(s)}containsKey(e,n){return ye.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){this.ui={},this.overlays={},this.ci=new vf(0),this.li=!1,this.li=!0,this.hi=new yA,this.referenceDelegate=e(this),this.Pi=new _A(this),this.indexManager=new aA,this.remoteDocumentCache=(function(a){return new vA(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sA(n),this.Ii=new gA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new bA(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){je("MemoryPersistence","Starting transaction:",e);const a=new NA(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return ye.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class NA extends K3{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new kp,this.Vi=null}static mi(e){return new Rp(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ye.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,(s=>{const a=Ie.fromPath(s);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sf{constructor(e,n){this.persistence=e,this.pi=new qa((s=>W3(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=fA(this,n)}static mi(e,n){return new sf(e,n)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ye.forEach(this.pi,((s,a)=>this.br(e,s,a).next((o=>o?ye.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,o.removeEntry(c,Be.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bd(e.data.value)),n}br(e,n,s){return ye.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ye.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Je(),a=Je();for(const o of n.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Dp(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xS()?8:Z3(pS())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,s).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new EA;return this.Ss(e,n,c).next((f=>{if(o.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>o.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Ll()<=rt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(Ll()<=rt.DEBUG&&je("QueryEngine","Query:",zl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ll()<=rt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cs(n))):ye.resolve())}ys(e,n){if(Ab(n))return ye.resolve(null);let s=cs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=V0(n,null,"F"),s=cs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const c=Je(...o);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,V0(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return Ab(n)||a.isEqual(Be.min())?ye.resolve(null):this.ps.getDocuments(e,s).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,s,a)?ye.resolve(null):(Ll()<=rt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zl(n)),this.vs(e,c,n,G3(a,Oc)).next((f=>f)))}))}Ds(e,n){let s=new nn(Y2(e));return n.forEach(((a,o)=>{Tf(e,o)&&(s=s.add(o))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,s){return Ll()<=rt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",zl(n)),this.ps.getDocumentsMatchingQuery(e,n,Pi.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="LocalStore",SA=3e8;class AA{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Dt(Ze),this.xs=new qa((o=>Ep(o)),Tp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function jA(t,e,n,s){return new AA(t,e,n,s)}async function gw(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((o=>{const c=[],f=[];let m=Je();for(const p of a){c.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}for(const p of o){f.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function CA(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,x){const b=p.batch,w=b.keys();let _=ye.resolve();return w.forEach((S=>{_=_.next((()=>x.getEntry(m,S))).next((M=>{const L=p.docVersions.get(S);ut(L!==null,48541),M.version.compareTo(L)<0&&(b.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),x.addEntry(M)))}))})),_.next((()=>f.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,o).next((()=>o.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Je();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function xw(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function kA(t,e){const n=Fe(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((x,b)=>{const w=a.get(b);if(!w)return;f.push(n.Pi.removeMatchingKeys(o,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,x.addedDocuments,b))));let _=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?_=_.withResumeToken(Tn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):x.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(x.resumeToken,s)),a=a.insert(b,_),(function(M,L,F){return M.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=SA?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,_,x)&&f.push(n.Pi.updateTargetData(o,_))}));let m=Zs(),p=Je();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))})),f.push(RA(o,c,e.documentUpdates).next((x=>{m=x.ks,p=x.qs}))),!s.isEqual(Be.min())){const x=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,s)));f.push(x)}return ye.waitFor(f).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,m,p))).next((()=>m))})).then((o=>(n.Ms=a,o)))}function RA(t,e,n){let s=Je(),a=Je();return n.forEach((o=>s=s.add(o))),e.getEntries(t,s).next((o=>{let c=Zs();return n.forEach(((f,m)=>{const p=o.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Be.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):je(Ip,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function DA(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function IA(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((o=>o?(a=o,ye.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Ri(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function B0(t,e,n){const s=Fe(t),a=s.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",o,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!io(c))throw c;je(Ip,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Ub(t,e,n){const s=Fe(t);let a=Be.min(),o=Je();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,x){const b=Fe(m),w=b.xs.get(x);return w!==void 0?ye.resolve(b.Ms.get(w)):b.Pi.getTargetData(p,x)})(s,c,cs(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{o=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Be.min(),n?o:Je()))).next((f=>(MA(s,y6(e),f),{documents:f,Qs:o})))))}function MA(t,e,n){let s=t.Os.get(e)||Be.min();n.forEach(((a,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),t.Os.set(e,s)}class Bb{constructor(){this.activeTargetIds=E6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OA{constructor(){this.Mo=new Bb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Bb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="ConnectivityMonitor";class qb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){je(Fb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){je(Fb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md=null;function F0(){return Md===null?Md=(function(){return 268435456+Math.round(2147483648*Math.random())})():Md++,"0x"+Md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="RestConnection",PA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Wd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,o){const c=F0(),f=this.zo(e,n.toUriEncodedString());je(t0,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,o);const{host:p}=new URL(f),x=xp(p);return this.Jo(e,f,m,s,x).then((b=>(je(t0,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Ql(t0,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,a,o,c){return this.Go(e,n,s,a,o)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),s&&s.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const s=PA[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class UA extends LA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,o){const c=F0();return new Promise(((f,m)=>{const p=new v2;p.setWithCredentials(!0),p.listenOnce(w2.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ud.NO_ERROR:const b=p.getResponseJson();je(kn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case Ud.TIMEOUT:je(kn,`RPC '${e}' ${c} timed out`),m(new Ee(he.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const w=p.getStatus();if(je(kn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let _=p.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_?.error;if(S&&S.status&&S.message){const M=(function(F){const B=F.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(B)>=0?B:he.UNKNOWN})(S.status);m(new Ee(M,S.message))}else m(new Ee(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ee(he.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{je(kn,`RPC '${e}' ${c} completed.`)}}));const x=JSON.stringify(a);je(kn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",x,s,15)}))}T_(e,n,s){const a=F0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=E2(),f=N2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const x=o.join("");je(kn,`Creating RPC '${e}' stream ${a}: ${x}`,m);const b=c.createWebChannel(x,m);this.I_(b);let w=!1,_=!1;const S=new zA({Yo:L=>{_?je(kn,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(w||(je(kn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),je(kn,`RPC '${e}' stream ${a} sending:`,L),b.send(L))},Zo:()=>b.close()}),M=(L,F,B)=>{L.listen(F,(z=>{try{B(z)}catch(G){setTimeout((()=>{throw G}),0)}}))};return M(b,vc.EventType.OPEN,(()=>{_||(je(kn,`RPC '${e}' stream ${a} transport opened.`),S.o_())})),M(b,vc.EventType.CLOSE,(()=>{_||(_=!0,je(kn,`RPC '${e}' stream ${a} transport closed`),S.a_(),this.E_(b))})),M(b,vc.EventType.ERROR,(L=>{_||(_=!0,Ql(kn,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),S.a_(new Ee(he.UNAVAILABLE,"The operation could not be completed")))})),M(b,vc.EventType.MESSAGE,(L=>{if(!_){const F=L.data[0];ut(!!F,16349);const B=F,z=B?.error||B[0]?.error;if(z){je(kn,`RPC '${e}' stream ${a} received error:`,z);const G=z.status;let q=(function(j){const O=Gt[j];if(O!==void 0)return sw(O)})(G),U=z.message;q===void 0&&(q=he.INTERNAL,U="Unknown error status: "+G+" with message "+z.message),_=!0,S.a_(new Ee(q,U)),b.close()}else je(kn,`RPC '${e}' stream ${a} received:`,F),S.u_(F)}})),M(f,_2.STAT_EVENT,(L=>{L.stat===C0.PROXY?je(kn,`RPC '${e}' stream ${a} detected buffering proxy`):L.stat===C0.NOPROXY&&je(kn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function n0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){return new H6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,s=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&je("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="PersistentStream";class bw{constructor(e,n,s,a,o,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Ks(n.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new Ee(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return je(Hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(je(Hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BA extends bw{constructor(e,n,s,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Y6(this.serializer,e),s=(function(o){if(!("targetChange"in o))return Be.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?us(c.readTime):Be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=U0(this.serializer),n.addTarget=(function(o,c){let f;const m=c.target;if(f=M0(m)?{documents:K6(o,m)}:{query:Z6(o,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=lw(o,c.resumeToken);const p=P0(o,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Be.min())>0){f.readTime=rf(o,c.snapshotVersion.toTimestamp());const p=P0(o,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=W6(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=U0(this.serializer),n.removeTarget=e,this.q_(n)}}class FA extends bw{constructor(e,n,s,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=X6(e.writeResults,e.commitTime),s=us(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=U0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Q6(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{}class HA extends qA{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ee(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,L0(n,s),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(he.UNKNOWN,o.toString())}))}Ho(e,n,s,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,L0(n,s),a,c,f,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(he.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $A{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ks(n),this.aa=!1):je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="RemoteStore";class GA{constructor(e,n,s,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ha(this)&&(je(La,"Restarting streams for network reachability change."),await(async function(m){const p=Fe(m);p.Ea.add(4),await Jc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Rf(p)})(this))}))})),this.Ra=new $A(s,a)}}async function Rf(t){if(Ha(t))for(const e of t.da)await e(!0)}async function Jc(t){for(const e of t.da)await e(!1)}function vw(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pp(n)?Vp(n):lo(n).O_()&&Op(n,e))}function Mp(t,e){const n=Fe(t),s=lo(n);n.Ia.delete(e),s.O_()&&ww(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ha(n)&&n.Ra.set("Unknown"))}function Op(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(t).Y_(e)}function ww(t,e){t.Va.Ue(e),lo(t).Z_(e)}function Vp(t){t.Va=new U6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lo(t).start(),t.Ra.ua()}function Pp(t){return Ha(t)&&!lo(t).x_()&&t.Ia.size>0}function Ha(t){return Fe(t).Ea.size===0}function _w(t){t.Va=void 0}async function YA(t){t.Ra.set("Online")}async function QA(t){t.Ia.forEach(((e,n)=>{Op(t,e)}))}async function XA(t,e){_w(t),Pp(t)?(t.Ra.ha(e),Vp(t)):t.Ra.set("Unknown")}async function KA(t,e,n){if(t.Ra.set("Online"),e instanceof aw&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const f of o.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){je(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await af(t,s)}else if(e instanceof Hd?t.Va.Ze(e):e instanceof iw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Be.min()))try{const s=await xw(t.localStore);n.compareTo(s)>=0&&await(function(o,c){const f=o.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const x=o.Ia.get(p);x&&o.Ia.set(p,x.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const x=o.Ia.get(m);if(!x)return;o.Ia.set(m,x.withResumeToken(Tn.EMPTY_BYTE_STRING,x.snapshotVersion)),ww(o,m);const b=new Ri(x.target,m,p,x.sequenceNumber);Op(o,b)})),o.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){je(La,"Failed to raise snapshot:",s),await af(t,s)}}async function af(t,e,n){if(!io(e))throw e;t.Ea.add(1),await Jc(t),t.Ra.set("Offline"),n||(n=()=>xw(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{je(La,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rf(t)}))}function Nw(t,e){return e().catch((n=>af(t,n,e)))}async function Df(t){const e=Fe(t),n=Bi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wp;for(;ZA(e);)try{const a=await DA(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,JA(e,a)}catch(a){await af(e,a)}Ew(e)&&Tw(e)}function ZA(t){return Ha(t)&&t.Ta.length<10}function JA(t,e){t.Ta.push(e);const n=Bi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Ew(t){return Ha(t)&&!Bi(t).x_()&&t.Ta.length>0}function Tw(t){Bi(t).start()}async function WA(t){Bi(t).ra()}async function e5(t){const e=Bi(t);for(const n of t.Ta)e.ea(n.mutations)}async function t5(t,e,n){const s=t.Ta.shift(),a=Ap.from(s,e,n);await Nw(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Df(t)}async function n5(t,e){e&&Bi(t).X_&&await(async function(s,a){if((function(c){return P6(c)&&c!==he.ABORTED})(a.code)){const o=s.Ta.shift();Bi(s).B_(),await Nw(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Df(s)}})(t,e),Ew(t)&&Tw(t)}async function $b(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),je(La,"RemoteStore received new credentials");const s=Ha(n);n.Ea.add(3),await Jc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rf(n)}async function r5(t,e){const n=Fe(t);e?(n.Ea.delete(2),await Rf(n)):e||(n.Ea.add(2),await Jc(n),n.Ra.set("Unknown"))}function lo(t){return t.ma||(t.ma=(function(n,s,a){const o=Fe(n);return o.sa(),new BA(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:YA.bind(null,t),t_:QA.bind(null,t),r_:XA.bind(null,t),H_:KA.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Pp(t)?Vp(t):t.Ra.set("Unknown")):(await t.ma.stop(),_w(t))}))),t.ma}function Bi(t){return t.fa||(t.fa=(function(n,s,a){const o=Fe(n);return o.sa(),new FA(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:WA.bind(null,t),r_:n5.bind(null,t),ta:e5.bind(null,t),na:t5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Df(t)):(await t.fa.stop(),t.Ta.length>0&&(je(La,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,s,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=o,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,o){const c=Date.now()+s,f=new Lp(e,n,c,a,o);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(t,e){if(Ks("AsyncQueue",`${e}: ${t}`),io(t))return new Ee(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{static emptySet(e){return new $l(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=wc(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=s.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $l;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.ga=new Dt(Ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Wl{constructor(e,n,s,a,o,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,o){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Wl(e,n,$l.emptySet(n),c,s,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class i5{constructor(){this.queries=Yb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Fe(n),o=a.queries;a.queries=Yb(),o.forEach(((c,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new Ee(he.ABORTED,"Firestore shutting down"))}}function Yb(){return new qa((t=>G2(t)),Ef)}async function Up(t,e){const n=Fe(t);let s=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(s=2):(o=new s5,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=zp(c,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Fp(n)}async function Bp(t,e){const n=Fe(t),s=e.query;let a=3;const o=n.queries.get(s);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function a5(t,e){const n=Fe(t);let s=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&Fp(n)}function l5(t,e,n){const s=Fe(t),a=s.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);s.queries.delete(e)}function Fp(t){t.Ca.forEach((e=>{e.next()}))}var q0,Qb;(Qb=q0||(q0={})).Ma="default",Qb.Cache="cache";class qp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Wl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==q0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.key=e}}class Aw{constructor(e){this.key=e}}class o5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=Y2(e),this.tu=new $l(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Gb,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,b)=>{const w=a.get(x),_=Tf(this.query,b)?b:null,S=!!w&&this.mutatedKeys.has(w.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let L=!1;w&&_?w.data.isEqual(_.data)?S!==M&&(s.track({type:3,doc:_}),L=!0):this.su(w,_)||(s.track({type:2,doc:_}),L=!0,(m&&this.eu(_,m)>0||p&&this.eu(_,p)<0)&&(f=!0)):!w&&_?(s.track({type:0,doc:_}),L=!0):w&&!_&&(s.track({type:1,doc:w}),L=!0,(m||p)&&(f=!0)),L&&(_?(c=c.add(_),o=M?o.add(x):o.delete(x)):(c=c.delete(x),o=o.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),o=o.delete(x.key),s.track({type:1,doc:x})}return{tu:c,iu:s,Cs:f,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((x,b)=>(function(_,S){const M=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:L})}};return M(_)-M(S)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Wl(this.query,e.tu,o,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Aw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Sw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hp="SyncEngine";class c5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class u5{constructor(e){this.key=e,this.hu=!1}}class d5{constructor(e,n,s,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new qa((f=>G2(f)),Ef),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Ie.comparator),this.Au=new Map,this.Ru=new kp,this.Vu={},this.mu=new Map,this.fu=Jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f5(t,e,n=!0){const s=Iw(t);let a;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await jw(s,e,n,!0),a}async function h5(t,e){const n=Iw(t);await jw(n,e,!0,!1)}async function jw(t,e,n,s){const a=await IA(t.localStore,cs(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let f;return s&&(f=await m5(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&vw(t.remoteStore,a),f}async function m5(t,e,n,s,a){t.pu=(b,w,_)=>(async function(M,L,F,B){let z=L.view.ru(F);z.Cs&&(z=await Ub(M.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,z))));const G=B&&B.targetChanges.get(L.targetId),q=B&&B.targetMismatches.get(L.targetId)!=null,U=L.view.applyChanges(z,M.isPrimaryClient,G,q);return Kb(M,L.targetId,U.au),U.snapshot})(t,b,w,_);const o=await Ub(t.localStore,e,!0),c=new o5(e,o.Qs),f=c.ru(o.documents),m=Zc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);Kb(t,n,p.au);const x=new c5(e,n,c);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function p5(t,e,n){const s=Fe(t),a=s.Tu.get(e),o=s.Iu.get(a.targetId);if(o.length>1)return s.Iu.set(a.targetId,o.filter((c=>!Ef(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await B0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Mp(s.remoteStore,a.targetId),H0(s,a.targetId)})).catch(so)):(H0(s,a.targetId),await B0(s.localStore,a.targetId,!0))}async function g5(t,e){const n=Fe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Mp(n.remoteStore,s.targetId))}async function x5(t,e,n){const s=E5(t);try{const a=await(function(c,f){const m=Fe(c),p=jt.now(),x=f.reduce(((_,S)=>_.add(S.key)),Je());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=Zs(),M=Je();return m.Ns.getEntries(_,x).next((L=>{S=L,S.forEach(((F,B)=>{B.isValidDocument()||(M=M.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(_,S))).next((L=>{b=L;const F=[];for(const B of f){const z=D6(B,b.get(B.key).overlayedDocument);z!=null&&F.push(new Hi(B.key,z,L2(z.value.mapValue),qn.exists(!0)))}return m.mutationQueue.addMutationBatch(_,p,F,f)})).next((L=>{w=L;const F=L.applyToLocalDocumentSet(b,M);return m.documentOverlayCache.saveOverlays(_,L.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:X2(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new Dt(Ze)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Wc(s,a.changes),await Df(s.remoteStore)}catch(a){const o=zp(a,"Failed to persist write");n.reject(o)}}async function Cw(t,e){const n=Fe(t);try{const s=await kA(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ut(c.hu,14607):a.removedDocuments.size>0&&(ut(c.hu,42227),c.hu=!1))})),await Wc(n,s,e)}catch(s){await so(s)}}function Xb(t,e,n){const s=Fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((o,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Fe(c);m.onlineState=f;let p=!1;m.queries.forEach(((x,b)=>{for(const w of b.Sa)w.va(f)&&(p=!0)})),p&&Fp(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function y5(t,e,n){const s=Fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),o=a&&a.key;if(o){let c=new Dt(Ie.comparator);c=c.insert(o,In.newNoDocument(o,Be.min()));const f=Je().add(o),m=new Cf(Be.min(),new Map,new Dt(Ze),c,f);await Cw(s,m),s.du=s.du.remove(o),s.Au.delete(e),$p(s)}else await B0(s.localStore,e,!1).then((()=>H0(s,e,n))).catch(so)}async function b5(t,e){const n=Fe(t),s=e.batch.batchId;try{const a=await CA(n.localStore,e);Rw(n,s,null),kw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Wc(n,a)}catch(a){await so(a)}}async function v5(t,e,n){const s=Fe(t);try{const a=await(function(c,f){const m=Fe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return m.mutationQueue.lookupMutationBatch(p,f).next((b=>(ut(b!==null,37113),x=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,x,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>m.localDocuments.getDocuments(p,x)))}))})(s.localStore,e);Rw(s,e,n),kw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Wc(s,a)}catch(a){await so(a)}}function kw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Rw(t,e,n){const s=Fe(t);let a=s.Vu[s.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function H0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||Dw(t,s)}))}function Dw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Mp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$p(t))}function Kb(t,e,n){for(const s of n)s instanceof Sw?(t.Ru.addReference(s.key,e),w5(t,s)):s instanceof Aw?(je(Hp,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Dw(t,s.key)):Le(19791,{wu:s})}function w5(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(je(Hp,"New document in limbo: "+n),t.Eu.add(s),$p(t))}function $p(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(St.fromString(e)),s=t.fu.next();t.Au.set(s,new u5(n)),t.du=t.du.insert(n,s),vw(t.remoteStore,new Ri(cs(Nf(n.path)),s,"TargetPurposeLimboResolution",vf.ce))}}async function Wc(t,e,n){const s=Fe(t),a=[],o=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const x=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(p){a.push(p);const x=Dp.As(m.targetId,p);o.push(x)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const x=Fe(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ye.forEach(p,(w=>ye.forEach(w.Es,(_=>x.persistence.referenceDelegate.addReference(b,w.targetId,_))).next((()=>ye.forEach(w.ds,(_=>x.persistence.referenceDelegate.removeReference(b,w.targetId,_)))))))))}catch(b){if(!io(b))throw b;je(Ip,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const _=x.Ms.get(w),S=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(S);x.Ms=x.Ms.insert(w,M)}}})(s.localStore,o))}async function _5(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){je(Hp,"User change. New user:",e.toKey());const s=await gw(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((f=>{f.forEach((m=>{m.reject(new Ee(he.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wc(n,s.Ls)}}function N5(t,e){const n=Fe(t),s=n.Au.get(e);if(s&&s.hu)return Je().add(s.key);{let a=Je();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function Iw(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y5.bind(null,e),e.Pu.H_=a5.bind(null,e.eventManager),e.Pu.yu=l5.bind(null,e.eventManager),e}function E5(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v5.bind(null,e),e}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jA(this.persistence,new TA,e.initialUser,this.serializer)}Cu(e){return new pw(Rp.mi,this.serializer)}Du(e){return new OA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class T5 extends lf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uA(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new pw((s=>sf.mi(s,n)),this.serializer)}}class $0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Xb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_5.bind(null,this.syncEngine),await r5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new i5})()}createDatastore(e){const n=kf(e.databaseInfo.databaseId),s=(function(o){return new UA(o)})(e.databaseInfo);return(function(o,c,f,m){return new HA(o,c,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,o,c,f){return new GA(s,a,o,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Xb(this.syncEngine,n,0)),(function(){return qb.v()?new qb:new VA})())}createSyncEngine(e,n){return(function(a,o,c,f,m,p,x){const b=new d5(a,o,c,f,m,p);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Fe(n);je(La,"RemoteStore shutting down."),s.Ea.add(5),await Jc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$0.provider={build:()=>new $0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="FirestoreClient";class S5{constructor(e,n,s,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Rn.UNAUTHENTICATED,this.clientId=vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async c=>{je(Fi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(je(Fi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=zp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function r0(t,e){t.asyncQueue.verifyOperationInProgress(),je(Fi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await gw(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Zb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A5(t);je(Fi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>$b(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>$b(e.remoteStore,a))),t._onlineComponents=e}async function A5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je(Fi,"Using user provided OfflineComponentProvider");try{await r0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ql("Error using user provided cache. Falling back to memory cache: "+n),await r0(t,new lf)}}else je(Fi,"Using default OfflineComponentProvider"),await r0(t,new T5(void 0));return t._offlineComponents}async function Mw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je(Fi,"Using user provided OnlineComponentProvider"),await Zb(t,t._uninitializedComponentsProvider._online)):(je(Fi,"Using default OnlineComponentProvider"),await Zb(t,new $0))),t._onlineComponents}function j5(t){return Mw(t).then((e=>e.syncEngine))}async function of(t){const e=await Mw(t),n=e.eventManager;return n.onListen=f5.bind(null,e.syncEngine),n.onUnlisten=p5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=h5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=g5.bind(null,e.syncEngine),n}function C5(t,e,n={}){const s=new Qs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,f,m,p){const x=new Gp({next:w=>{x.Nu(),c.enqueueAndForget((()=>Bp(o,b)));const _=w.docs.has(f);!_&&w.fromCache?p.reject(new Ee(he.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&w.fromCache&&m&&m.source==="server"?p.reject(new Ee(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new qp(Nf(f.path),x,{includeMetadataChanges:!0,qa:!0});return Up(o,b)})(await of(t),t.asyncQueue,e,n,s))),s.promise}function k5(t,e,n={}){const s=new Qs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,f,m,p){const x=new Gp({next:w=>{x.Nu(),c.enqueueAndForget((()=>Bp(o,b))),w.fromCache&&m.source==="server"?p.reject(new Ee(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new qp(f,x,{includeMetadataChanges:!0,qa:!0});return Up(o,b)})(await of(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firestore.googleapis.com",Wb=!0;class ev{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vw,this.ssl=Wb}else this.host=e.host,this.ssl=e.ssl??Wb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oA)throw new Ee(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ow(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ee(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new O3;switch(s.type){case"firstParty":return new z3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Jb.get(n);s&&(je("ComponentProvider","Removing Datastore"),Jb.delete(n),s.terminate())})(this),Promise.resolve()}}function R5(t,e,n,s={}){t=Fn(t,If);const a=xp(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(uS(`https://${f}`),mS("Firestore",!0)),o.host!==Vw&&o.host!==f&&Ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:f,ssl:a,emulatorOptions:s};if(!Xd(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,x;if(typeof s.mockUserToken=="string")p=s.mockUserToken,x=Rn.MOCK_USER;else{p=dS(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Ee(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Rn(b)}t._authCredentials=new V3(new S2(p,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Xc(n,Pt._jsonSchema))return new Pt(e,s||null,new Ie(St.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Kt("string",Pt._jsonSchemaVersion),referencePath:Kt("string")};class Oi extends $i{constructor(e,n,s){super(e,n,Nf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Ie(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function qc(t,e,...n){if(t=Cr(t),A2("collection","path",e),t instanceof If){const s=St.fromString(e,...n);return hb(s),new Oi(t,null,s)}{if(!(t instanceof Pt||t instanceof Oi))throw new Ee(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(St.fromString(e,...n));return hb(s),new Oi(t.firestore,null,s)}}function Dn(t,e,...n){if(t=Cr(t),arguments.length===1&&(e=vp.newId()),A2("doc","path",e),t instanceof If){const s=St.fromString(e,...n);return fb(s),new Pt(t,null,new Ie(s))}{if(!(t instanceof Pt||t instanceof Oi))throw new Ee(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(St.fromString(e,...n));return fb(s),new Pt(t.firestore,t instanceof Oi?t.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="AsyncQueue";class nv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yw(this,"async_queue_retry"),this._c=()=>{const s=n0();s&&je(tv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=n0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=n0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!io(e))throw e;je(tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ks("INTERNAL UNHANDLED ERROR: ",rv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Lp.createAndSchedule(this,e,n,s,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Le(47125,{Pc:rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of s)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class gs extends If{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new nv,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nv(e),this._firestoreClient=void 0,await e}}}function D5(t,e){const n=typeof t=="object"?t:E3(),s=typeof t=="string"?t:Wd,a=b3(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const o=oS("firestore");o&&R5(a,...o)}return a}function eu(t){if(t._terminated)throw new Ee(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||I5(t),t._firestoreClient}function I5(t){const e=t._freezeSettings(),n=(function(a,o,c,f){return new n6(a,o,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Ow(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new S5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ar(Tn.fromBase64String(e))}catch(n){throw new Ee(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ar(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xc(e,Ar._jsonSchema))return Ar.fromBase64String(e.bytes)}}Ar._jsonSchemaVersion="firestore/bytes/1.0",Ar._jsonSchema={type:Kt("string",Ar._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ds._jsonSchemaVersion}}static fromJSON(e){if(Xc(e,ds._jsonSchema))return new ds(e.latitude,e.longitude)}}ds._jsonSchemaVersion="firestore/geoPoint/1.0",ds._jsonSchema={type:Kt("string",ds._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xc(e,fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fs(e.vectorValues);throw new Ee(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fs._jsonSchemaVersion="firestore/vectorValue/1.0",fs._jsonSchema={type:Kt("string",fs._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=/^__.*__$/;class O5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kc(e,this.data,n,this.fieldTransforms)}}class Pw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Lw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class Yp{constructor(e,n,s,a,o,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Lw(this.Ac)&&M5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class V5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kf(e)}Cc(e,n,s,a=!1){return new Yp({Ac:e,methodName:n,Dc:s,path:En.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nu(t){const e=t._freezeSettings(),n=kf(t._databaseId);return new V5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Qp(t,e,n,s,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);Kp("Data must be an object, but it was:",c,s);const f=Bw(s,c);let m,p;if(o.merge)m=new cr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const x=[];for(const b of o.mergeFields){const w=G0(e,b,n);if(!c.contains(w))throw new Ee(he.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);qw(x,w)||x.push(w)}m=new cr(x),p=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=c.fieldTransforms;return new O5(new Zn(f),m,p)}class Of extends Mf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}class Xp extends Mf{_toFieldTransform(e){return new j6(e.path,new Uc)}isEqual(e){return e instanceof Xp}}function zw(t,e,n,s){const a=t.Cc(1,e,n);Kp("Data must be an object, but it was:",a,s);const o=[],c=Zn.empty();qi(s,((m,p)=>{const x=Zp(e,m,n);p=Cr(p);const b=a.yc(x);if(p instanceof Of)o.push(x);else{const w=ru(p,b);w!=null&&(o.push(x),c.set(x,w))}}));const f=new cr(o);return new Pw(c,f,a.fieldTransforms)}function Uw(t,e,n,s,a,o){const c=t.Cc(1,e,n),f=[G0(e,s,n)],m=[a];if(o.length%2!=0)throw new Ee(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)f.push(G0(e,o[w])),m.push(o[w+1]);const p=[],x=Zn.empty();for(let w=f.length-1;w>=0;--w)if(!qw(p,f[w])){const _=f[w];let S=m[w];S=Cr(S);const M=c.yc(_);if(S instanceof Of)p.push(_);else{const L=ru(S,M);L!=null&&(p.push(_),x.set(_,L))}}const b=new cr(p);return new Pw(x,b,c.fieldTransforms)}function P5(t,e,n,s=!1){return ru(n,t.Cc(s?4:3,e))}function ru(t,e){if(Fw(t=Cr(t)))return Kp("Unsupported field value:",e,t),Bw(t,e);if(t instanceof Mf)return(function(s,a){if(!Lw(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const o=[];let c=0;for(const f of s){let m=ru(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}})(t,e)}return(function(s,a){if((s=Cr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return T6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=jt.fromDate(s);return{timestampValue:rf(a.serializer,o)}}if(s instanceof jt){const o=new jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rf(a.serializer,o)}}if(s instanceof ds)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ar)return{bytesValue:lw(a.serializer,s._byteString)};if(s instanceof Pt){const o=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cp(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof fs)return(function(c,f){return{mapValue:{fields:{[V2]:{stringValue:P2},[ef]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Sp(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${bf(s)}`)})(t,e)}function Bw(t,e){const n={};return k2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(t,((s,a)=>{const o=ru(a,e.mc(s));o!=null&&(n[s]=o)})),{mapValue:{fields:n}}}function Fw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof ds||t instanceof Ar||t instanceof Pt||t instanceof Mf||t instanceof fs)}function Kp(t,e,n){if(!Fw(n)||!j2(n)){const s=bf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function G0(t,e,n){if((e=Cr(e))instanceof tu)return e._internalPath;if(typeof e=="string")return Zp(t,e);throw cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const L5=new RegExp("[~\\*/\\[\\]]");function Zp(t,e,n){if(e.search(L5)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tu(...e.split("."))._internalPath}catch{throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cf(t,e,n,s,a){const o=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new Ee(he.INVALID_ARGUMENT,f+t+m)}function qw(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,s,a,o){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z5 extends Hw{data(){return super.data()}}function Vf(t,e){return typeof e=="string"?Zp(t,e):e instanceof tu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class Gw extends Jp{}function Wp(t,e,...n){let s=[];e instanceof Jp&&s.push(e),s=s.concat(n),(function(o){const c=o.filter((m=>m instanceof eg)).length,f=o.filter((m=>m instanceof Pf)).length;if(c>1||c>0&&f>0)throw new Ee(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Pf extends Gw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Pf(e,n,s)}_apply(e){const n=this._parse(e);return Qw(e._query,n),new $i(e.firestore,e.converter,O0(e._query,n))}_parse(e){const n=nu(e.firestore);return(function(o,c,f,m,p,x,b){let w;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ee(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){av(b,x);const S=[];for(const M of b)S.push(iv(m,o,M));w={arrayValue:{values:S}}}else w=iv(m,o,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||av(b,x),w=P5(f,c,b,x==="in"||x==="not-in");return Xt.create(p,x,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yw(t,e,n){const s=e,a=Vf("where",t);return Pf._create(a,s,n)}class eg extends Jp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const f=o.getFlattenedFilters();for(const m of f)Qw(c,m),c=O0(c,m)})(e._query,n),new $i(e.firestore,e.converter,O0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tg extends Gw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tg(e,n)}_apply(e){const n=(function(a,o,c){if(a.startAt!==null)throw new Ee(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ee(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zc(o,c)})(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new ao(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function U5(t,e="asc"){const n=e,s=Vf("orderBy",t);return tg._create(s,n)}function iv(t,e,n){if(typeof(n=Cr(n))=="string"){if(n==="")throw new Ee(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$2(e)&&n.indexOf("/")!==-1)throw new Ee(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(St.fromString(n));if(!Ie.isDocumentKey(s))throw new Ee(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return wb(t,new Ie(s))}if(n instanceof Pt)return wb(t,n._key);throw new Ee(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(n)}.`)}function av(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qw(t,e){const n=(function(a,o){for(const c of a)for(const f of c.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class B5{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return qi(e,((a,o)=>{s[a]=this.convertValue(o,n)})),s}convertVectorValue(e){const n=e.fields?.[ef].arrayValue?.values?.map((s=>Bt(s.doubleValue)));return new fs(n)}convertGeoPoint(e){return new ds(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_f(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const n=Li(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=St.fromString(e);ut(hw(s),9688,{name:e});const a=new Pc(s.get(1),s.get(3)),o=new Ie(s.popFirst(5));return a.isEqual(n)||Ks(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends Hw{constructor(e,n,s,a,o,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Vf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Kt("string",Da._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class $d extends Da{data(e={}){return super.data(e)}}class Ia{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Nc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new $d(this._firestore,this._userDataWriter,s.key,s,new Nc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new $d(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Nc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>o||f.type!==3)).map((f=>{const m=new $d(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Nc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,x=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),x=c.indexOf(f.doc.key)),{type:F5(f.type),doc:m,oldIndex:p,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function F5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){t=Fn(t,Pt);const e=Fn(t.firestore,gs);return C5(eu(e),t._key).then((n=>Zw(e,t,n)))}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Kt("string",Ia._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class rg extends B5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function lv(t){t=Fn(t,$i);const e=Fn(t.firestore,gs),n=eu(e),s=new rg(e);return $w(t._query),k5(n,t._query).then((a=>new Ia(e,s,t,a)))}function qs(t,e,n){t=Fn(t,Pt);const s=Fn(t.firestore,gs),a=ng(t.converter,e,n);return su(s,[Qp(nu(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,qn.none())])}function H5(t,e,n,...s){t=Fn(t,Pt);const a=Fn(t.firestore,gs),o=nu(a);let c;return c=typeof(e=Cr(e))=="string"||e instanceof tu?Uw(o,"updateDoc",t._key,e,n,s):zw(o,"updateDoc",t._key,e),su(a,[c.toMutation(t._key,qn.exists(!0))])}function Xw(t){return su(Fn(t.firestore,gs),[new jf(t._key,qn.none())])}function $5(t,e){const n=Fn(t.firestore,gs),s=Dn(t),a=ng(t.converter,e);return su(n,[Qp(nu(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then((()=>s))}function Kw(t,...e){t=Cr(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sv(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(sv(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let o,c,f;if(t instanceof Pt)c=Fn(t.firestore,gs),f=Nf(t._key.path),o={next:m=>{e[s]&&e[s](Zw(c,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Fn(t,$i);c=Fn(m.firestore,gs),f=m._query;const p=new rg(c);o={next:x=>{e[s]&&e[s](new Ia(c,p,m,x))},error:e[s+1],complete:e[s+2]},$w(t._query)}return(function(p,x,b,w){const _=new Gp(w),S=new qp(x,_,b);return p.asyncQueue.enqueueAndForget((async()=>Up(await of(p),S))),()=>{_.Nu(),p.asyncQueue.enqueueAndForget((async()=>Bp(await of(p),S)))}})(eu(c),f,a,o)}function su(t,e){return(function(s,a){const o=new Qs;return s.asyncQueue.enqueueAndForget((async()=>x5(await j5(s),a,o))),o.promise})(eu(t),e)}function Zw(t,e,n){const s=n.docs.get(e._key),a=new rg(t);return new Da(t,a,e._key,s,new Nc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nu(e)}set(e,n,s){this._verifyNotCommitted();const a=s0(e,this._firestore),o=ng(a.converter,n,s),c=Qp(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,qn.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const o=s0(e,this._firestore);let c;return c=typeof(n=Cr(n))=="string"||n instanceof tu?Uw(this._dataReader,"WriteBatch.update",o._key,n,s,a):zw(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(c.toMutation(o._key,qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=s0(e,this._firestore);return this._mutations=this._mutations.concat(new jf(n._key,qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function s0(t,e){if((t=Cr(t)).firestore!==e)throw new Ee(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Gl(){return new Xp("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){return eu(t=Fn(t,gs)),new G5(t,(e=>su(t,e)))}(function(e,n=!0){(function(a){ro=a})(N3),Zd(new Ic("firestore",((s,{instanceIdentifier:a,options:o})=>{const c=s.getProvider("app").getImmediate(),f=new gs(new P3(s.getProvider("auth-internal")),new U3(c,s.getProvider("app-check-internal")),(function(p,x){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(p.options.projectId,x)})(c,a),c);return o={useFetchStreams:n,...o},f._setSettings(o),f}),"PUBLIC").setMultipleInstances(!0)),Hl(ob,cb,e),Hl(ob,cb,"esm2020")})();var Y5="firebase",Q5="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hl(Y5,Q5,"app");const X5={apiKey:"AIzaSyC2RM2HldOB3ScxGRpGxkSj9wvuDqAwWm4",authDomain:"academic-progress-tracke-4774a.firebaseapp.com",projectId:"academic-progress-tracke-4774a",storageBucket:"academic-progress-tracke-4774a.firebasestorage.app",messagingSenderId:"660250554925",appId:"1:660250554925:web:55db1dfd08215d6e493ea4"},K5=g2(X5),Vt=D5(K5);function Lf(t,e){const[n,s]=Y.useState([]),[a,o]=Y.useState(!0),[c,f]=Y.useState(!1),m=t?.rollNo===Pe.rollNo,p=t?.role==="co-leader",x=R=>m?!0:p?t?.permissions?t.permissions[R]!==!1:!0:!1,b=m||p&&x("canPostNotices"),w=m||p&&x("canCreateUsers"),_=m||p&&x("canManagePasswords");Y.useEffect(()=>{if(!t){s([]),o(!1);return}const R=Wp(qc(Vt,"noticeBoard"),U5("createdAt","desc")),j=Kw(R,O=>{const A=[];O.forEach(D=>{const P={id:D.id,...D.data()};if(P.semester&&P.semester!==e)return;const k=P.allowedUsers||[],ce=P.isPublic||!1,pe=P.createdByRoll===t.rollNo,K=k.includes(t.rollNo);m?A.push(P):p?(ce||pe||K)&&A.push(P):(ce||K)&&A.push(P)}),A.sort((D,P)=>{const k=D.order!==void 0?D.order:0,ce=P.order!==void 0?P.order:0;return k!==ce?k-ce:(P.createdAt?.toMillis?.()||0)-(D.createdAt?.toMillis?.()||0)}),s(A),o(!1)},O=>{console.error("Error loading notices:",O),o(!1)});return()=>j()},[t,b,e]);const S=async(R,j,O={},A=[],D=!1)=>{if(!b)throw new Error("Only admin and co-leaders can create notices");try{return f(!0),await $5(qc(Vt,"noticeBoard"),{type:R,content:j,meta:O,semester:e,createdBy:t.name,createdByRoll:t.rollNo,allowedUsers:A,isPublic:D,createdAt:Gl(),updatedAt:Gl()}),!0}catch(P){return console.error("Error creating notice:",P),!1}finally{f(!1)}},M=async(R,j,O="admin")=>{try{const A=Dn(Vt,"noticeBoard",R);if(O==="admin"&&!b)throw new Error("Only admin and co-leaders can manage notices");return await H5(A,{...j,updatedAt:Gl()}),!0}catch(A){return console.error("Error updating notice:",A),!1}};return{notices:n,isLoading:a,isSaving:c,isAdmin:m,isCoLeader:p,canManageNotices:b,canCreateUsers:w,canManagePasswords:_,hasPermission:x,createNotice:S,updateNotice:M,editNotice:async(R,j)=>{if(!b)throw new Error("Only admin and co-leaders can edit notices");try{return await M(R,j,"admin"),!0}catch(O){return console.error("Error editing notice:",O),!1}},deleteNotice:async R=>{if(!b)throw new Error("Only admin and co-leaders can delete notices");try{return await Xw(Dn(Vt,"noticeBoard",R)),!0}catch(j){return console.error("Error deleting notice:",j),!1}},updateNoticePermissions:async(R,j,O)=>{if(!b)throw new Error("Only admin and co-leaders can update permissions");try{return await M(R,{allowedUsers:j,isPublic:O},"admin"),!0}catch(A){return console.error("Error updating permissions:",A),!1}},updateNoticesOrder:async R=>{if(!b)throw new Error("Permission denied");try{f(!0);const j=Jw(Vt);return R.forEach((O,A)=>{const D=Dn(Vt,"noticeBoard",O);j.update(D,{order:A})}),await j.commit(),!0}catch(j){return console.error("Error reordering notices:",j),!1}finally{f(!1)}},voteInPoll:async(R,j,O)=>{try{const A=n.find(k=>k.id===R);if(!A||A.type!=="poll")return!1;const D=[...A.meta.options];if(A.meta.isAnonymous||!1){j.forEach(pe=>{D[pe].anonymousVotes||(D[pe].anonymousVotes=0)});const k=A.meta.userVotes||{};(k[O]||[]).forEach(pe=>{D[pe].anonymousVotes>0&&D[pe].anonymousVotes--}),j.forEach(pe=>{D[pe].anonymousVotes++}),k[O]=j,await M(R,{meta:{...A.meta,options:D,userVotes:k}},"user")}else D.forEach(k=>{k.votes=k.votes?.filter(ce=>ce!==O)||[]}),j.forEach(k=>{D[k].votes||(D[k].votes=[]),D[k].votes.push(O)}),await M(R,{meta:{...A.meta,options:D}},"user");return!0}catch(A){return console.error("Error voting:",A),!1}},toggleChecklistItem:async(R,j,O)=>{try{const A=n.find(k=>k.id===R);if(!A||A.type!=="checklist")return!1;const D=[...A.meta.items];if(A.meta.isAnonymous||!1){D[j].anonymousCompletions||(D[j].anonymousCompletions=0);const k=A.meta.userCompletions||{},ce=k[O]||[];ce.includes(j)?(k[O]=ce.filter(pe=>pe!==j),D[j].anonymousCompletions=Math.max(0,D[j].anonymousCompletions-1)):(k[O]=[...ce,j],D[j].anonymousCompletions++),await M(R,{meta:{...A.meta,items:D,userCompletions:k}},"user")}else{D[j].completedBy||(D[j].completedBy=[]);const k=D[j].completedBy.indexOf(O);k>-1?D[j].completedBy.splice(k,1):D[j].completedBy.push(O),await M(R,{meta:{...A.meta,items:D}},"user")}return!0}catch(A){return console.error("Error toggling checklist:",A),!1}},toggleTodo:async(R,j)=>{try{const O=n.find(k=>k.id===R);if(!O||O.type!=="todo")return!1;const A=O.meta.completedBy||[],D=A.indexOf(j);let P;return D>-1?P=A.filter(k=>k!==j):P=[...A,j],await M(R,{meta:{...O.meta,completedBy:P}},"user"),!0}catch(O){return console.error("Error toggling todo:",O),!1}}}}function Z5({semester:t,allData:e,handleDataChange:n,selectedStudent:s}){const{notices:a}=Lf(s,t),o=Y.useMemo(()=>a.filter(c=>c.type==="assessment"),[a]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Theory Subjects"}),u.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",Hs[t].theory.length," subjects"]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Hs[t].theory.map(c=>u.jsx(ZT,{subject:c,onDataChange:(f,m)=>n(f,m,"theory"),initialData:e[`${t}-${c}`]?.data,assessmentNotices:o},`${t}-${c}`))})]})}const J5=Y.memo(function({subject:e,onDataChange:n,initialData:s,notices:a=[],currentUserRollNo:o}){const[c,f]=Y.useState(new Set);Y.useEffect(()=>{s&&Array.isArray(s)&&f(new Set(s))},[s]);const m=Y.useMemo(()=>{const w=new Set;return!o||!a.length||a.forEach(_=>{_.type==="todo"&&_.meta?.practicalSubject===e&&_.meta?.labNumber&&_.meta?.completedBy?.includes(o)&&w.add(Number(_.meta.labNumber))}),w},[a,e,o]),p=Y.useMemo(()=>new Set([...c,...m]),[c,m]),x=w=>{if(m.has(w))return;const _=new Set(c);_.has(w)?_.delete(w):_.add(w),f(_),n&&n(e,Array.from(_))},b=p.size/10*100;return u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 p-4 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(a2,{className:"w-6 h-6"}),u.jsx("h3",{className:"text-lg font-bold",children:e}),u.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Practical"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"text-sm opacity-90",children:[p.size,"/10"]}),u.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${b}%`}})})]})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-4 flex items-center gap-2",children:[u.jsx(_0,{className:"w-4 h-4"}),"Lab Experiments (",p.size,"/10 completed)",m.size>0&&u.jsxs("span",{className:"text-xs text-yellow-600 flex items-center gap-1",children:[u.jsx(Y1,{className:"w-3 h-3"}),m.size," auto"]})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Array.from({length:10},(w,_)=>_+1).map(w=>{const _=m.has(w),S=p.has(w);return u.jsx("button",{onClick:()=>x(w),disabled:_,title:_?"Auto-marked from TODO notice":void 0,className:`
                  flex items-center justify-center p-4 rounded-2xl border-2 transition-all duration-200 font-medium
                  ${_?"bg-yellow-100 border-yellow-500 text-yellow-700 shadow-md cursor-default":S?"bg-green-100 border-green-500 text-green-700 shadow-md":"bg-gray-50 border-gray-200 text-gray-600 hover:border-green-300 hover:bg-green-50"}
                `,children:u.jsxs("div",{className:"flex items-center gap-2",children:[_?u.jsx(Y1,{className:"w-4 h-4"}):S?u.jsx(_0,{className:"w-4 h-4"}):u.jsx(RE,{className:"w-4 h-4"}),u.jsxs("span",{children:["Lab ",w]})]})},w)})}),b===100&&u.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:u.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[u.jsx(LT,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"All labs completed! Great work! "})]})})]})]})});function W5({semester:t,allData:e,handleDataChange:n,selectedStudent:s}){const{notices:a}=Lf(s,t);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practical Subjects"}),u.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",Hs[t].practical.length," labs"]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Hs[t].practical.map(o=>u.jsx(J5,{subject:o,onDataChange:(c,f)=>n(c,f,"practical"),initialData:e[`${t}-${o}`]?.data,notices:a,currentUserRollNo:s?.rollNo},`${t}-${o}`))})]})}const ej={};var Y0=null;function tj(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return ej.randomBytes(t)}catch{}if(!Y0)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Y0(t)}function nj(t){Y0=t}function sg(t,e){if(t=t||ig,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(uf(tj(Hc),Hc)),n.join("")}function Ww(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=ig;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function s(a){Lr(function(){try{a(null,sg(t))}catch(o){a(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(a,o){s(function(c,f){if(c){o(c);return}a(f)})})}function e_(t,e){if(typeof e>"u"&&(e=ig),typeof e=="number"&&(e=sg(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return Q0(t,e)}function t_(t,e,n,s){function a(o){typeof t=="string"&&typeof e=="number"?Ww(e,function(c,f){Q0(t,f,o,s)}):typeof t=="string"&&typeof e=="string"?Q0(t,e,o,s):Lr(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);a(n)}else return new Promise(function(o,c){a(function(f,m){if(f){c(f);return}o(m)})})}function n_(t,e){for(var n=t.length^e.length,s=0;s<t.length;++s)n|=t.charCodeAt(s)^e.charCodeAt(s);return n===0}function rj(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:n_(e_(t,e.substring(0,e.length-31)),e)}function sj(t,e,n,s){function a(o){if(typeof t!="string"||typeof e!="string"){Lr(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Lr(o.bind(this,null,!1));return}t_(t,e.substring(0,29),function(c,f){c?o(c):o(null,n_(f,e))},s)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);a(n)}else return new Promise(function(o,c){a(function(f,m){if(f){c(f);return}o(m)})})}function ij(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function aj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function lj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return r_(t)>72}var Lr=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function r_(t){for(var e=0,n=0,s=0;s<t.length;++s)n=t.charCodeAt(s),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(s+1)&64512)===56320?(++s,e+=4):e+=3;return e}function oj(t){for(var e=0,n,s,a=new Array(r_(t)),o=0,c=t.length;o<c;++o)n=t.charCodeAt(o),n<128?a[e++]=n:n<2048?(a[e++]=n>>6|192,a[e++]=n&63|128):(n&64512)===55296&&((s=t.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(s&1023),++o,a[e++]=n>>18|240,a[e++]=n>>12&63|128,a[e++]=n>>6&63|128,a[e++]=n&63|128):(a[e++]=n>>12|224,a[e++]=n>>6&63|128,a[e++]=n&63|128);return a}var Ol="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ji=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function uf(t,e){var n=0,s=[],a,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(a=t[n++]&255,s.push(Ol[a>>2&63]),a=(a&3)<<4,n>=e){s.push(Ol[a&63]);break}if(o=t[n++]&255,a|=o>>4&15,s.push(Ol[a&63]),a=(o&15)<<2,n>=e){s.push(Ol[a&63]);break}o=t[n++]&255,a|=o>>6&3,s.push(Ol[a&63]),s.push(Ol[o&63])}return s.join("")}function s_(t,e){var n=0,s=t.length,a=0,o=[],c,f,m,p,x,b;if(e<=0)throw Error("Illegal len: "+e);for(;n<s-1&&a<e&&(b=t.charCodeAt(n++),c=b<ji.length?ji[b]:-1,b=t.charCodeAt(n++),f=b<ji.length?ji[b]:-1,!(c==-1||f==-1||(x=c<<2>>>0,x|=(f&48)>>4,o.push(String.fromCharCode(x)),++a>=e||n>=s)||(b=t.charCodeAt(n++),m=b<ji.length?ji[b]:-1,m==-1)||(x=(f&15)<<4>>>0,x|=(m&60)>>2,o.push(String.fromCharCode(x)),++a>=e||n>=s)));)b=t.charCodeAt(n++),p=b<ji.length?ji[b]:-1,x=(m&3)<<6>>>0,x|=p,o.push(String.fromCharCode(x)),++a;var w=[];for(n=0;n<a;n++)w.push(o[n].charCodeAt(0));return w}var Hc=16,ig=10,cj=16,uj=100,ov=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],cv=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],i_=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function $c(t,e,n,s){var a,o=t[e],c=t[e+1];return o^=n[0],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[1],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[2],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[3],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[4],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[5],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[6],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[7],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[8],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[9],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[10],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[11],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[12],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[13],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[14],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],c^=a^n[15],a=s[c>>>24],a+=s[256|c>>16&255],a^=s[512|c>>8&255],a+=s[768|c&255],o^=a^n[16],t[e]=c^n[cj+1],t[e+1]=o,t}function Fl(t,e){for(var n=0,s=0;n<4;++n)s=s<<8|t[e]&255,e=(e+1)%t.length;return{key:s,offp:e}}function uv(t,e,n){for(var s=0,a=[0,0],o=e.length,c=n.length,f,m=0;m<o;m++)f=Fl(t,s),s=f.offp,e[m]=e[m]^f.key;for(m=0;m<o;m+=2)a=$c(a,0,e,n),e[m]=a[0],e[m+1]=a[1];for(m=0;m<c;m+=2)a=$c(a,0,e,n),n[m]=a[0],n[m+1]=a[1]}function dj(t,e,n,s){for(var a=0,o=[0,0],c=n.length,f=s.length,m,p=0;p<c;p++)m=Fl(e,a),a=m.offp,n[p]=n[p]^m.key;for(a=0,p=0;p<c;p+=2)m=Fl(t,a),a=m.offp,o[0]^=m.key,m=Fl(t,a),a=m.offp,o[1]^=m.key,o=$c(o,0,n,s),n[p]=o[0],n[p+1]=o[1];for(p=0;p<f;p+=2)m=Fl(t,a),a=m.offp,o[0]^=m.key,m=Fl(t,a),a=m.offp,o[1]^=m.key,o=$c(o,0,n,s),s[p]=o[0],s[p+1]=o[1]}function dv(t,e,n,s,a){var o=i_.slice(),c=o.length,f;if(n<4||n>31)if(f=Error("Illegal number of rounds (4-31): "+n),s){Lr(s.bind(this,f));return}else throw f;if(e.length!==Hc)if(f=Error("Illegal salt length: "+e.length+" != "+Hc),s){Lr(s.bind(this,f));return}else throw f;n=1<<n>>>0;var m,p,x=0,b;typeof Int32Array=="function"?(m=new Int32Array(ov),p=new Int32Array(cv)):(m=ov.slice(),p=cv.slice()),dj(e,t,m,p);function w(){if(a&&a(x/n),x<n)for(var S=Date.now();x<n&&(x=x+1,uv(t,m,p),uv(e,m,p),!(Date.now()-S>uj)););else{for(x=0;x<64;x++)for(b=0;b<c>>1;b++)$c(o,b<<1,m,p);var M=[];for(x=0;x<c;x++)M.push((o[x]>>24&255)>>>0),M.push((o[x]>>16&255)>>>0),M.push((o[x]>>8&255)>>>0),M.push((o[x]&255)>>>0);if(s){s(null,M);return}else return M}s&&Lr(w)}if(typeof s<"u")w();else for(var _;;)if(typeof(_=w())<"u")return _||[]}function Q0(t,e,n,s){var a;if(typeof t!="string"||typeof e!="string")if(a=Error("Invalid string / salt: Not a string"),n){Lr(n.bind(this,a));return}else throw a;var o,c;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(a=Error("Invalid salt version: "+e.substring(0,2)),n){Lr(n.bind(this,a));return}else throw a;if(e.charAt(2)==="$")o="\0",c=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(a=Error("Invalid salt revision: "+e.substring(2,4)),n){Lr(n.bind(this,a));return}else throw a;c=4}if(e.charAt(c+2)>"$")if(a=Error("Missing salt rounds"),n){Lr(n.bind(this,a));return}else throw a;var f=parseInt(e.substring(c,c+1),10)*10,m=parseInt(e.substring(c+1,c+2),10),p=f+m,x=e.substring(c+3,c+25);t+=o>="a"?"\0":"";var b=oj(t),w=s_(x,Hc);function _(S){var M=[];return M.push("$2"),o>="a"&&M.push(o),M.push("$"),p<10&&M.push("0"),M.push(p.toString()),M.push("$"),M.push(uf(w,w.length)),M.push(uf(S,i_.length*4-1)),M.join("")}if(typeof n>"u")return _(dv(b,w,p));dv(b,w,p,function(S,M){S?n(S,null):n(null,_(M))},s)}function fj(t,e){return uf(t,e)}function hj(t,e){return s_(t,e)}const mc={setRandomFallback:nj,genSaltSync:sg,genSalt:Ww,hashSync:e_,hash:t_,compareSync:rj,compare:sj,getRounds:ij,getSalt:aj,truncates:lj,encodeBase64:fj,decodeBase64:hj};function a_(){const[t,e]=Y.useState([]),[n,s]=Y.useState(null),[a,o]=Y.useState(!0),[c,f]=Y.useState(!1),m=n&&n.rollNo===Pe.rollNo,p=async()=>{try{o(!0);const B=await lv(qc(Vt,"students")),z=[];if(B.forEach(q=>{z.push(q.data())}),!z.some(q=>q.rollNo===Pe.rollNo)){const q={...Pe,password:mc.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Pe.admissionYear||new Date().getFullYear(),isDSY:Pe.isDSY||!1};z.push(q),await qs(Dn(Vt,"students",Pe.rollNo),q)}e(z);try{const q=localStorage.getItem("selected-student");if(q){const U=JSON.parse(q),R=z.find(j=>j.rollNo===U.rollNo);R?s(R):localStorage.removeItem("selected-student")}}catch{localStorage.removeItem("selected-student")}f(!0)}catch(B){console.error("Error loading students:",B);const z={...Pe,password:mc.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Pe.admissionYear,isDSY:!1};e([z]),f(!0)}finally{o(!1)}},x=async(B,z,G="",q="student",U=new Date().getFullYear(),R=!1)=>{try{const j=Number(U);if(!Number.isInteger(j)||j<2e3||j>new Date().getFullYear())throw new Error("Invalid admission year");if(typeof R!="boolean")throw new Error("Invalid DSY flag");const O={rollNo:B,name:z,admissionYear:j,isDSY:R,isProtected:!!G,password:G?mc.hashSync(G,10):null,role:q};if(t.some(D=>D.rollNo===B))throw new Error("Student with this roll number already exists");return await qs(Dn(Vt,"students",B),O),e([...t,O]),!0}catch(j){throw console.error("Error creating student:",j),j}},b=async(B,z)=>{try{if(B===Pe.rollNo)throw new Error("Cannot change admin role");const G=t.find(U=>U.rollNo===B);if(!G)throw new Error("Student not found");let q={...G,role:z};return z==="co-leader"&&!G.permissions&&(q.permissions={canCreateUsers:!0,canPostNotices:!0,canAppointCoLeaders:!1,canManagePasswords:!1}),z==="student"&&G.role==="co-leader"&&delete q.permissions,await qs(Dn(Vt,"students",B),q),e(t.map(U=>U.rollNo===B?q:U)),n&&n.rollNo===B&&(s(q),localStorage.setItem("selected-student",JSON.stringify(q))),!0}catch(G){throw console.error("Error updating role:",G),G}},w=async(B,z)=>{try{if(!z||!z.trim())throw new Error("Name cannot be empty");const G=t.find(U=>U.rollNo===B);if(!G)throw new Error("Student not found");const q={...G,name:z.trim()};return await qs(Dn(Vt,"students",B),q),e(t.map(U=>U.rollNo===B?q:U)),n&&n.rollNo===B&&(s(q),localStorage.setItem("selected-student",JSON.stringify(q))),!0}catch(G){throw console.error("Error updating name:",G),G}},_=async B=>{try{if(B===Pe.rollNo)throw new Error("Cannot delete admin student");await Xw(Dn(Vt,"students",B));const z=Jw(Vt),G=Wp(qc(Vt,"academic-data"),Yw("studentId","==",B));(await lv(G)).forEach(R=>{z.delete(R.ref)});const U=Dn(Vt,"userNotes",B);return z.delete(U),await z.commit(),e(t.filter(R=>R.rollNo!==B)),n&&n.rollNo===B&&(s(null),localStorage.removeItem("selected-student")),!0}catch(z){throw console.error("Error deleting student:",z),z}},S=async(B,z)=>{try{return B.isProtected?z?await mc.compare(z,B.password):!1:!0}catch(G){return console.error("Error authenticating student:",G),!1}},M=async(B,z,G=!1)=>{try{const q=t.find(R=>R.rollNo===B);if(!q)throw new Error("Student not found");const U={...q,password:G?null:mc.hashSync(z,10),isProtected:!G};return await qs(Dn(Vt,"students",B),U),e(t.map(R=>R.rollNo===B?U:R)),!0}catch(q){throw console.error("Error updating password:",q),q}},L=async(B,z)=>{try{const G=t.find(U=>U.rollNo===B);if(!G)throw new Error("Student not found");if(G.role!=="co-leader")throw new Error("Can only update permissions for co-leaders");const q={...G,permissions:z};return await qs(Dn(Vt,"students",B),q),e(t.map(U=>U.rollNo===B?q:U)),n&&n.rollNo===B&&(s(q),localStorage.setItem("selected-student",JSON.stringify(q))),!0}catch(G){throw console.error("Error updating co-leader permissions:",G),G}},F=B=>{const z=n;if(z&&z.rollNo!==B?.rollNo){const G=`academic-data-${z.rollNo}`;localStorage.removeItem(G)}s(B),B?localStorage.setItem("selected-student",JSON.stringify(B)):localStorage.removeItem("selected-student")};return Y.useEffect(()=>{p()},[]),{students:t,selectedStudent:n,isAdmin:m,isLoading:a,hasInitialized:c,createStudent:x,deleteStudent:_,selectStudent:F,authenticateStudent:S,updateStudentPassword:M,updateStudentRole:b,updateCoLeaderPermissions:L,updateStudentName:w,loadStudents:p}}function mj(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const pj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xj={};function fv(t,e){return(xj.jsx?gj:pj).test(t)}const yj=/[ \t\n\f\r]/g;function bj(t){return typeof t=="object"?t.type==="text"?hv(t.value):!1:hv(t)}function hv(t){return t.replace(yj,"")===""}class iu{constructor(e,n,s){this.normal=n,this.property=e,s&&(this.space=s)}}iu.prototype.normal={};iu.prototype.property={};iu.prototype.space=void 0;function l_(t,e){const n={},s={};for(const a of t)Object.assign(n,a.property),Object.assign(s,a.normal);return new iu(n,s,e)}function X0(t){return t.toLowerCase()}class Wn{constructor(e,n){this.attribute=n,this.property=e}}Wn.prototype.attribute="";Wn.prototype.booleanish=!1;Wn.prototype.boolean=!1;Wn.prototype.commaOrSpaceSeparated=!1;Wn.prototype.commaSeparated=!1;Wn.prototype.defined=!1;Wn.prototype.mustUseProperty=!1;Wn.prototype.number=!1;Wn.prototype.overloadedBoolean=!1;Wn.prototype.property="";Wn.prototype.spaceSeparated=!1;Wn.prototype.space=void 0;let vj=0;const He=$a(),Yt=$a(),K0=$a(),we=$a(),Tt=$a(),Yl=$a(),or=$a();function $a(){return 2**++vj}const Z0=Object.freeze(Object.defineProperty({__proto__:null,boolean:He,booleanish:Yt,commaOrSpaceSeparated:or,commaSeparated:Yl,number:we,overloadedBoolean:K0,spaceSeparated:Tt},Symbol.toStringTag,{value:"Module"})),i0=Object.keys(Z0);class ag extends Wn{constructor(e,n,s,a){let o=-1;if(super(e,n),mv(this,"space",a),typeof s=="number")for(;++o<i0.length;){const c=i0[o];mv(this,i0[o],(s&Z0[c])===Z0[c])}}}ag.prototype.defined=!0;function mv(t,e,n){n&&(t[e]=n)}function oo(t){const e={},n={};for(const[s,a]of Object.entries(t.properties)){const o=new ag(s,t.transform(t.attributes||{},s),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),e[s]=o,n[X0(s)]=s,n[X0(o.attribute)]=s}return new iu(e,n,t.space)}const o_=oo({properties:{ariaActiveDescendant:null,ariaAtomic:Yt,ariaAutoComplete:null,ariaBusy:Yt,ariaChecked:Yt,ariaColCount:we,ariaColIndex:we,ariaColSpan:we,ariaControls:Tt,ariaCurrent:null,ariaDescribedBy:Tt,ariaDetails:null,ariaDisabled:Yt,ariaDropEffect:Tt,ariaErrorMessage:null,ariaExpanded:Yt,ariaFlowTo:Tt,ariaGrabbed:Yt,ariaHasPopup:null,ariaHidden:Yt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Tt,ariaLevel:we,ariaLive:null,ariaModal:Yt,ariaMultiLine:Yt,ariaMultiSelectable:Yt,ariaOrientation:null,ariaOwns:Tt,ariaPlaceholder:null,ariaPosInSet:we,ariaPressed:Yt,ariaReadOnly:Yt,ariaRelevant:null,ariaRequired:Yt,ariaRoleDescription:Tt,ariaRowCount:we,ariaRowIndex:we,ariaRowSpan:we,ariaSelected:Yt,ariaSetSize:we,ariaSort:null,ariaValueMax:we,ariaValueMin:we,ariaValueNow:we,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function c_(t,e){return e in t?t[e]:e}function u_(t,e){return c_(t,e.toLowerCase())}const wj=oo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yl,acceptCharset:Tt,accessKey:Tt,action:null,allow:null,allowFullScreen:He,allowPaymentRequest:He,allowUserMedia:He,alt:null,as:null,async:He,autoCapitalize:null,autoComplete:Tt,autoFocus:He,autoPlay:He,blocking:Tt,capture:null,charSet:null,checked:He,cite:null,className:Tt,cols:we,colSpan:null,content:null,contentEditable:Yt,controls:He,controlsList:Tt,coords:we|Yl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:He,defer:He,dir:null,dirName:null,disabled:He,download:K0,draggable:Yt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:He,formTarget:null,headers:Tt,height:we,hidden:K0,high:we,href:null,hrefLang:null,htmlFor:Tt,httpEquiv:Tt,id:null,imageSizes:null,imageSrcSet:null,inert:He,inputMode:null,integrity:null,is:null,isMap:He,itemId:null,itemProp:Tt,itemRef:Tt,itemScope:He,itemType:Tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:He,low:we,manifest:null,max:null,maxLength:we,media:null,method:null,min:null,minLength:we,multiple:He,muted:He,name:null,nonce:null,noModule:He,noValidate:He,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:He,optimum:we,pattern:null,ping:Tt,placeholder:null,playsInline:He,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:He,referrerPolicy:null,rel:Tt,required:He,reversed:He,rows:we,rowSpan:we,sandbox:Tt,scope:null,scoped:He,seamless:He,selected:He,shadowRootClonable:He,shadowRootDelegatesFocus:He,shadowRootMode:null,shape:null,size:we,sizes:null,slot:null,span:we,spellCheck:Yt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:we,step:null,style:null,tabIndex:we,target:null,title:null,translate:null,type:null,typeMustMatch:He,useMap:null,value:Yt,width:we,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Tt,axis:null,background:null,bgColor:null,border:we,borderColor:null,bottomMargin:we,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:He,declare:He,event:null,face:null,frame:null,frameBorder:null,hSpace:we,leftMargin:we,link:null,longDesc:null,lowSrc:null,marginHeight:we,marginWidth:we,noResize:He,noHref:He,noShade:He,noWrap:He,object:null,profile:null,prompt:null,rev:null,rightMargin:we,rules:null,scheme:null,scrolling:Yt,standby:null,summary:null,text:null,topMargin:we,valueType:null,version:null,vAlign:null,vLink:null,vSpace:we,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:He,disableRemotePlayback:He,prefix:null,property:null,results:we,security:null,unselectable:null},space:"html",transform:u_}),_j=oo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:or,accentHeight:we,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:we,amplitude:we,arabicForm:null,ascent:we,attributeName:null,attributeType:null,azimuth:we,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:we,by:null,calcMode:null,capHeight:we,className:Tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:we,diffuseConstant:we,direction:null,display:null,dur:null,divisor:we,dominantBaseline:null,download:He,dx:null,dy:null,edgeMode:null,editable:null,elevation:we,enableBackground:null,end:null,event:null,exponent:we,externalResourcesRequired:null,fill:null,fillOpacity:we,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yl,g2:Yl,glyphName:Yl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:we,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:we,horizOriginX:we,horizOriginY:we,id:null,ideographic:we,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:we,k:we,k1:we,k2:we,k3:we,k4:we,kernelMatrix:or,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:we,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:we,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:we,overlineThickness:we,paintOrder:null,panose1:null,path:null,pathLength:we,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:we,pointsAtY:we,pointsAtZ:we,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:or,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:or,rev:or,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:or,requiredFeatures:or,requiredFonts:or,requiredFormats:or,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:we,specularExponent:we,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:we,strikethroughThickness:we,string:null,stroke:null,strokeDashArray:or,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:we,strokeOpacity:we,strokeWidth:null,style:null,surfaceScale:we,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:or,tabIndex:we,tableValues:null,target:null,targetX:we,targetY:we,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:or,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:we,underlineThickness:we,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:we,values:null,vAlphabetic:we,vMathematical:we,vectorEffect:null,vHanging:we,vIdeographic:we,version:null,vertAdvY:we,vertOriginX:we,vertOriginY:we,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:we,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:c_}),d_=oo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),f_=oo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:u_}),h_=oo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Nj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ej=/[A-Z]/g,pv=/-[a-z]/g,Tj=/^data[-\w.:]+$/i;function Sj(t,e){const n=X0(e);let s=e,a=Wn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Tj.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(pv,jj);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!pv.test(o)){let c=o.replace(Ej,Aj);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}a=ag}return new a(s,e)}function Aj(t){return"-"+t.toLowerCase()}function jj(t){return t.charAt(1).toUpperCase()}const Cj=l_([o_,wj,d_,f_,h_],"html"),lg=l_([o_,_j,d_,f_,h_],"svg");function kj(t){return t.join(" ").trim()}var Vl={},a0,gv;function Rj(){if(gv)return a0;gv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,m=`
`,p="/",x="*",b="",w="comment",_="declaration";a0=function(M,L){if(typeof M!="string")throw new TypeError("First argument must be a string");if(!M)return[];L=L||{};var F=1,B=1;function z(k){var ce=k.match(e);ce&&(F+=ce.length);var pe=k.lastIndexOf(m);B=~pe?k.length-pe:B+k.length}function G(){var k={line:F,column:B};return function(ce){return ce.position=new q(k),j(),ce}}function q(k){this.start=k,this.end={line:F,column:B},this.source=L.source}q.prototype.content=M;function U(k){var ce=new Error(L.source+":"+F+":"+B+": "+k);if(ce.reason=k,ce.filename=L.source,ce.line=F,ce.column=B,ce.source=M,!L.silent)throw ce}function R(k){var ce=k.exec(M);if(ce){var pe=ce[0];return z(pe),M=M.slice(pe.length),ce}}function j(){R(n)}function O(k){var ce;for(k=k||[];ce=A();)ce!==!1&&k.push(ce);return k}function A(){var k=G();if(!(p!=M.charAt(0)||x!=M.charAt(1))){for(var ce=2;b!=M.charAt(ce)&&(x!=M.charAt(ce)||p!=M.charAt(ce+1));)++ce;if(ce+=2,b===M.charAt(ce-1))return U("End of comment missing");var pe=M.slice(2,ce-2);return B+=2,z(pe),M=M.slice(ce),B+=2,k({type:w,comment:pe})}}function D(){var k=G(),ce=R(s);if(ce){if(A(),!R(a))return U("property missing ':'");var pe=R(o),K=k({type:_,property:S(ce[0].replace(t,b)),value:pe?S(pe[0].replace(t,b)):b});return R(c),K}}function P(){var k=[];O(k);for(var ce;ce=D();)ce!==!1&&(k.push(ce),O(k));return k}return j(),P()};function S(M){return M?M.replace(f,b):b}return a0}var xv;function Dj(){if(xv)return Vl;xv=1;var t=Vl&&Vl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.default=n;var e=t(Rj());function n(s,a){var o=null;if(!s||typeof s!="string")return o;var c=(0,e.default)(s),f=typeof a=="function";return c.forEach(function(m){if(m.type==="declaration"){var p=m.property,x=m.value;f?a(p,x,m):x&&(o=o||{},o[p]=x)}}),o}return Vl}var pc={},yv;function Ij(){if(yv)return pc;yv=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(p){return!p||n.test(p)||t.test(p)},c=function(p,x){return x.toUpperCase()},f=function(p,x){return"".concat(x,"-")},m=function(p,x){return x===void 0&&(x={}),o(p)?p:(p=p.toLowerCase(),x.reactCompat?p=p.replace(a,f):p=p.replace(s,f),p.replace(e,c))};return pc.camelCase=m,pc}var gc,bv;function Mj(){if(bv)return gc;bv=1;var t=gc&&gc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(Dj()),n=Ij();function s(a,o){var c={};return!a||typeof a!="string"||(0,e.default)(a,function(f,m){f&&m&&(c[(0,n.camelCase)(f,o)]=m)}),c}return s.default=s,gc=s,gc}var Oj=Mj();const Vj=pf(Oj),m_=p_("end"),og=p_("start");function p_(t){return e;function e(n){const s=n&&n.position&&n.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function Pj(t){const e=og(t),n=m_(t);if(e&&n)return{start:e,end:n}}function Cc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?vv(t.position):"start"in t||"end"in t?vv(t):"line"in t||"column"in t?J0(t):""}function J0(t){return wv(t&&t.line)+":"+wv(t&&t.column)}function vv(t){return J0(t&&t.start)+"-"+J0(t&&t.end)}function wv(t){return t&&typeof t=="number"?t:1}class On extends Error{constructor(e,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let a="",o={},c=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?a=e:!o.cause&&e&&(c=!0,a=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof s=="string"){const m=s.indexOf(":");m===-1?o.ruleId=s:(o.source=s.slice(0,m),o.ruleId=s.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const f=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=f?f.line:void 0,this.name=Cc(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}On.prototype.file="";On.prototype.name="";On.prototype.reason="";On.prototype.message="";On.prototype.stack="";On.prototype.column=void 0;On.prototype.line=void 0;On.prototype.ancestors=void 0;On.prototype.cause=void 0;On.prototype.fatal=void 0;On.prototype.place=void 0;On.prototype.ruleId=void 0;On.prototype.source=void 0;const cg={}.hasOwnProperty,Lj=new Map,zj=/[A-Z]/g,Uj=new Set(["table","tbody","thead","tfoot","tr"]),Bj=new Set(["td","th"]),g_="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Fj(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let s;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=Kj(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=Xj(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?lg:Cj,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=x_(a,t,void 0);return o&&typeof o!="string"?o:a.create(t,a.Fragment,{children:o||void 0},void 0)}function x_(t,e,n){if(e.type==="element")return qj(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Hj(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Gj(t,e,n);if(e.type==="mdxjsEsm")return $j(t,e);if(e.type==="root")return Yj(t,e,n);if(e.type==="text")return Qj(t,e)}function qj(t,e,n){const s=t.schema;let a=s;e.tagName.toLowerCase()==="svg"&&s.space==="html"&&(a=lg,t.schema=a),t.ancestors.push(e);const o=b_(t,e.tagName,!1),c=Zj(t,e);let f=dg(t,e);return Uj.has(e.tagName)&&(f=f.filter(function(m){return typeof m=="string"?!bj(m):!0})),y_(t,c,o,e),ug(c,f),t.ancestors.pop(),t.schema=s,t.create(e,o,c,n)}function Hj(t,e){if(e.data&&e.data.estree&&t.evaluater){const s=e.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}Gc(t,e.position)}function $j(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Gc(t,e.position)}function Gj(t,e,n){const s=t.schema;let a=s;e.name==="svg"&&s.space==="html"&&(a=lg,t.schema=a),t.ancestors.push(e);const o=e.name===null?t.Fragment:b_(t,e.name,!0),c=Jj(t,e),f=dg(t,e);return y_(t,c,o,e),ug(c,f),t.ancestors.pop(),t.schema=s,t.create(e,o,c,n)}function Yj(t,e,n){const s={};return ug(s,dg(t,e)),t.create(e,t.Fragment,s,n)}function Qj(t,e){return e.value}function y_(t,e,n,s){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=s)}function ug(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Xj(t,e,n){return s;function s(a,o,c,f){const p=Array.isArray(c.children)?n:e;return f?p(o,c,f):p(o,c)}}function Kj(t,e){return n;function n(s,a,o,c){const f=Array.isArray(o.children),m=og(s);return e(a,o,c,f,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function Zj(t,e){const n={};let s,a;for(a in e.properties)if(a!=="children"&&cg.call(e.properties,a)){const o=Wj(t,a,e.properties[a]);if(o){const[c,f]=o;t.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&Bj.has(e.tagName)?s=f:n[c]=f}}if(s){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function Jj(t,e){const n={};for(const s of e.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const o=s.data.estree.body[0];o.type;const c=o.expression;c.type;const f=c.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else Gc(t,e.position);else{const a=s.name;let o;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const f=s.value.data.estree.body[0];f.type,o=t.evaluater.evaluateExpression(f.expression)}else Gc(t,e.position);else o=s.value===null?!0:s.value;n[a]=o}return n}function dg(t,e){const n=[];let s=-1;const a=t.passKeys?new Map:Lj;for(;++s<e.children.length;){const o=e.children[s];let c;if(t.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const p=a.get(m)||0;c=m+"-"+p,a.set(m,p+1)}}const f=x_(t,o,c);f!==void 0&&n.push(f)}return n}function Wj(t,e,n){const s=Sj(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?mj(n):kj(n)),s.property==="style"){let a=typeof n=="object"?n:eC(t,String(n));return t.stylePropertyNameCase==="css"&&(a=tC(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&s.space?Nj[s.property]||s.property:s.attribute,n]}}function eC(t,e){try{return Vj(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const s=n,a=new On("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=g_+"#cannot-parse-style-attribute",a}}function b_(t,e,n){let s;if(!n)s={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let o=-1,c;for(;++o<a.length;){const f=fv(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(o&&f.type==="Literal"),optional:!1}:f}s=c}else s=fv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(s.type==="Literal"){const a=s.value;return cg.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(s);Gc(t)}function Gc(t,e){const n=new On("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=g_+"#cannot-handle-mdx-estrees-without-createevaluater",n}function tC(t){const e={};let n;for(n in t)cg.call(t,n)&&(e[nC(n)]=t[n]);return e}function nC(t){let e=t.replace(zj,rC);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function rC(t){return"-"+t.toLowerCase()}const l0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},sC={};function fg(t,e){const n=sC,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return v_(t,s,a)}function v_(t,e,n){if(iC(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return _v(t.children,e,n)}return Array.isArray(t)?_v(t,e,n):""}function _v(t,e,n){const s=[];let a=-1;for(;++a<t.length;)s[a]=v_(t[a],e,n);return s.join("")}function iC(t){return!!(t&&typeof t=="object")}const Nv=document.createElement("i");function hg(t){const e="&"+t+";";Nv.innerHTML=e;const n=Nv.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ur(t,e,n,s){const a=t.length;let o=0,c;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,s.length<1e4)c=Array.from(s),c.unshift(e,n),t.splice(...c);else for(n&&t.splice(e,n);o<s.length;)c=s.slice(o,o+1e4),c.unshift(e,0),t.splice(...c),o+=1e4,e+=1e4}function Sr(t,e){return t.length>0?(ur(t,t.length,0,e),t):e}const Ev={}.hasOwnProperty;function w_(t){const e={};let n=-1;for(;++n<t.length;)aC(e,t[n]);return e}function aC(t,e){let n;for(n in e){const a=(Ev.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let c;if(o)for(c in o){Ev.call(a,c)||(a[c]=[]);const f=o[c];lC(a[c],Array.isArray(f)?f:f?[f]:[])}}}function lC(t,e){let n=-1;const s=[];for(;++n<e.length;)(e[n].add==="after"?t:s).push(e[n]);ur(t,0,0,s)}function __(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ur(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Un=Gi(/[A-Za-z]/),Mn=Gi(/[\dA-Za-z]/),oC=Gi(/[#-'*+\--9=?A-Z^-~]/);function df(t){return t!==null&&(t<32||t===127)}const W0=Gi(/\d/),cC=Gi(/[\dA-Fa-f]/),uC=Gi(/[!-/:-@[-`{-~]/);function Me(t){return t!==null&&t<-2}function wt(t){return t!==null&&(t<0||t===32)}function Ke(t){return t===-2||t===-1||t===32}const zf=Gi(new RegExp("\\p{P}|\\p{S}","u")),za=Gi(/\s/);function Gi(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function co(t){const e=[];let n=-1,s=0,a=0;for(;++n<t.length;){const o=t.charCodeAt(n);let c="";if(o===37&&Mn(t.charCodeAt(n+1))&&Mn(t.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const f=t.charCodeAt(n+1);o<56320&&f>56319&&f<57344?(c=String.fromCharCode(o,f),a=1):c=""}else c=String.fromCharCode(o);c&&(e.push(t.slice(s,n),encodeURIComponent(c)),s=n+a+1,c=""),a&&(n+=a,a=0)}return e.join("")+t.slice(s)}function st(t,e,n,s){const a=s?s-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(m){return Ke(m)?(t.enter(n),f(m)):e(m)}function f(m){return Ke(m)&&o++<a?(t.consume(m),f):(t.exit(n),e(m))}}const dC={tokenize:fC};function fC(t){const e=t.attempt(this.parser.constructs.contentInitial,s,a);let n;return e;function s(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),st(t,e,"linePrefix")}function a(f){return t.enter("paragraph"),o(f)}function o(f){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,c(f)}function c(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Me(f)?(t.consume(f),t.exit("chunkText"),o):(t.consume(f),c)}}const hC={tokenize:mC},Tv={tokenize:pC};function mC(t){const e=this,n=[];let s=0,a,o,c;return f;function f(z){if(s<n.length){const G=n[s];return e.containerState=G[1],t.attempt(G[0].continuation,m,p)(z)}return p(z)}function m(z){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&B();const G=e.events.length;let q=G,U;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){U=e.events[q][1].end;break}F(s);let R=G;for(;R<e.events.length;)e.events[R][1].end={...U},R++;return ur(e.events,q+1,0,e.events.slice(G)),e.events.length=R,p(z)}return f(z)}function p(z){if(s===n.length){if(!a)return w(z);if(a.currentConstruct&&a.currentConstruct.concrete)return S(z);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Tv,x,b)(z)}function x(z){return a&&B(),F(s),w(z)}function b(z){return e.parser.lazy[e.now().line]=s!==n.length,c=e.now().offset,S(z)}function w(z){return e.containerState={},t.attempt(Tv,_,S)(z)}function _(z){return s++,n.push([e.currentConstruct,e.containerState]),w(z)}function S(z){if(z===null){a&&B(),F(0),t.consume(z);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),M(z)}function M(z){if(z===null){L(t.exit("chunkFlow"),!0),F(0),t.consume(z);return}return Me(z)?(t.consume(z),L(t.exit("chunkFlow")),s=0,e.interrupt=void 0,f):(t.consume(z),M)}function L(z,G){const q=e.sliceStream(z);if(G&&q.push(null),z.previous=o,o&&(o.next=z),o=z,a.defineSkip(z.start),a.write(q),e.parser.lazy[z.start.line]){let U=a.events.length;for(;U--;)if(a.events[U][1].start.offset<c&&(!a.events[U][1].end||a.events[U][1].end.offset>c))return;const R=e.events.length;let j=R,O,A;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(O){A=e.events[j][1].end;break}O=!0}for(F(s),U=R;U<e.events.length;)e.events[U][1].end={...A},U++;ur(e.events,j+1,0,e.events.slice(R)),e.events.length=U}}function F(z){let G=n.length;for(;G-- >z;){const q=n[G];e.containerState=q[1],q[0].exit.call(e,t)}n.length=z}function B(){a.write([null]),o=void 0,a=void 0,e.containerState._closeFlow=void 0}}function pC(t,e,n){return st(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function eo(t){if(t===null||wt(t)||za(t))return 1;if(zf(t))return 2}function Uf(t,e,n){const s=[];let a=-1;for(;++a<t.length;){const o=t[a].resolveAll;o&&!s.includes(o)&&(e=o(e,n),s.push(o))}return e}const ep={name:"attention",resolveAll:gC,tokenize:xC};function gC(t,e){let n=-1,s,a,o,c,f,m,p,x;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(s=n;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&e.sliceSerialize(t[s][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[s][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[s][1].end.offset-t[s][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[s][1].end},w={...t[n][1].start};Sv(b,-m),Sv(w,m),c={type:m>1?"strongSequence":"emphasisSequence",start:b,end:{...t[s][1].end}},f={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},o={type:m>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[n][1].start}},a={type:m>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},t[s][1].end={...c.start},t[n][1].start={...f.end},p=[],t[s][1].end.offset-t[s][1].start.offset&&(p=Sr(p,[["enter",t[s][1],e],["exit",t[s][1],e]])),p=Sr(p,[["enter",a,e],["enter",c,e],["exit",c,e],["enter",o,e]]),p=Sr(p,Uf(e.parser.constructs.insideSpan.null,t.slice(s+1,n),e)),p=Sr(p,[["exit",o,e],["enter",f,e],["exit",f,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(x=2,p=Sr(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):x=0,ur(t,s-1,n-s+3,p),n=s+p.length-x-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function xC(t,e){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,a=eo(s);let o;return c;function c(m){return o=m,t.enter("attentionSequence"),f(m)}function f(m){if(m===o)return t.consume(m),f;const p=t.exit("attentionSequence"),x=eo(m),b=!x||x===2&&a||n.includes(m),w=!a||a===2&&x||n.includes(s);return p._open=!!(o===42?b:b&&(a||!w)),p._close=!!(o===42?w:w&&(x||!b)),e(m)}}function Sv(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const yC={name:"autolink",tokenize:bC};function bC(t,e,n){let s=0;return a;function a(_){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(_){return Un(_)?(t.consume(_),c):_===64?n(_):p(_)}function c(_){return _===43||_===45||_===46||Mn(_)?(s=1,f(_)):p(_)}function f(_){return _===58?(t.consume(_),s=0,m):(_===43||_===45||_===46||Mn(_))&&s++<32?(t.consume(_),f):(s=0,p(_))}function m(_){return _===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):_===null||_===32||_===60||df(_)?n(_):(t.consume(_),m)}function p(_){return _===64?(t.consume(_),x):oC(_)?(t.consume(_),p):n(_)}function x(_){return Mn(_)?b(_):n(_)}function b(_){return _===46?(t.consume(_),s=0,x):_===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):w(_)}function w(_){if((_===45||Mn(_))&&s++<63){const S=_===45?w:b;return t.consume(_),S}return n(_)}}const au={partial:!0,tokenize:vC};function vC(t,e,n){return s;function s(o){return Ke(o)?st(t,a,"linePrefix")(o):a(o)}function a(o){return o===null||Me(o)?e(o):n(o)}}const N_={continuation:{tokenize:_C},exit:NC,name:"blockQuote",tokenize:wC};function wC(t,e,n){const s=this;return a;function a(c){if(c===62){const f=s.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),o}return n(c)}function o(c){return Ke(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function _C(t,e,n){const s=this;return a;function a(c){return Ke(c)?st(t,o,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return t.attempt(N_,e,n)(c)}}function NC(t){t.exit("blockQuote")}const E_={name:"characterEscape",tokenize:EC};function EC(t,e,n){return s;function s(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),a}function a(o){return uC(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const T_={name:"characterReference",tokenize:TC};function TC(t,e,n){const s=this;let a=0,o,c;return f;function f(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),m}function m(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),o=31,c=Mn,x(b))}function p(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,c=cC,x):(t.enter("characterReferenceValue"),o=7,c=W0,x(b))}function x(b){if(b===59&&a){const w=t.exit("characterReferenceValue");return c===Mn&&!hg(s.sliceSerialize(w))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(b)&&a++<o?(t.consume(b),x):n(b)}}const Av={partial:!0,tokenize:AC},jv={concrete:!0,name:"codeFenced",tokenize:SC};function SC(t,e,n){const s=this,a={partial:!0,tokenize:q};let o=0,c=0,f;return m;function m(U){return p(U)}function p(U){const R=s.events[s.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,f=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(U)}function x(U){return U===f?(c++,t.consume(U),x):c<3?n(U):(t.exit("codeFencedFenceSequence"),Ke(U)?st(t,b,"whitespace")(U):b(U))}function b(U){return U===null||Me(U)?(t.exit("codeFencedFence"),s.interrupt?e(U):t.check(Av,M,G)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(U))}function w(U){return U===null||Me(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(U)):Ke(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),st(t,_,"whitespace")(U)):U===96&&U===f?n(U):(t.consume(U),w)}function _(U){return U===null||Me(U)?b(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(U))}function S(U){return U===null||Me(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(U)):U===96&&U===f?n(U):(t.consume(U),S)}function M(U){return t.attempt(a,G,L)(U)}function L(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),F}function F(U){return o>0&&Ke(U)?st(t,B,"linePrefix",o+1)(U):B(U)}function B(U){return U===null||Me(U)?t.check(Av,M,G)(U):(t.enter("codeFlowValue"),z(U))}function z(U){return U===null||Me(U)?(t.exit("codeFlowValue"),B(U)):(t.consume(U),z)}function G(U){return t.exit("codeFenced"),e(U)}function q(U,R,j){let O=0;return A;function A(pe){return U.enter("lineEnding"),U.consume(pe),U.exit("lineEnding"),D}function D(pe){return U.enter("codeFencedFence"),Ke(pe)?st(U,P,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):P(pe)}function P(pe){return pe===f?(U.enter("codeFencedFenceSequence"),k(pe)):j(pe)}function k(pe){return pe===f?(O++,U.consume(pe),k):O>=c?(U.exit("codeFencedFenceSequence"),Ke(pe)?st(U,ce,"whitespace")(pe):ce(pe)):j(pe)}function ce(pe){return pe===null||Me(pe)?(U.exit("codeFencedFence"),R(pe)):j(pe)}}}function AC(t,e,n){const s=this;return a;function a(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o)}function o(c){return s.parser.lazy[s.now().line]?n(c):e(c)}}const o0={name:"codeIndented",tokenize:CC},jC={partial:!0,tokenize:kC};function CC(t,e,n){const s=this;return a;function a(p){return t.enter("codeIndented"),st(t,o,"linePrefix",5)(p)}function o(p){const x=s.events[s.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(p):n(p)}function c(p){return p===null?m(p):Me(p)?t.attempt(jC,c,m)(p):(t.enter("codeFlowValue"),f(p))}function f(p){return p===null||Me(p)?(t.exit("codeFlowValue"),c(p)):(t.consume(p),f)}function m(p){return t.exit("codeIndented"),e(p)}}function kC(t,e,n){const s=this;return a;function a(c){return s.parser.lazy[s.now().line]?n(c):Me(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),a):st(t,o,"linePrefix",5)(c)}function o(c){const f=s.events[s.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(c):Me(c)?a(c):n(c)}}const RC={name:"codeText",previous:IC,resolve:DC,tokenize:MC};function DC(t){let e=t.length-4,n=3,s,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(s=n;++s<e;)if(t[s][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(s=n-1,e++;++s<=e;)a===void 0?s!==e&&t[s][1].type!=="lineEnding"&&(a=s):(s===e||t[s][1].type==="lineEnding")&&(t[a][1].type="codeTextData",s!==a+2&&(t[a][1].end=t[s-1][1].end,t.splice(a+2,s-a-2),e-=s-a-2,s=a+2),a=void 0);return t}function IC(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function MC(t,e,n){let s=0,a,o;return c;function c(b){return t.enter("codeText"),t.enter("codeTextSequence"),f(b)}function f(b){return b===96?(t.consume(b),s++,f):(t.exit("codeTextSequence"),m(b))}function m(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),m):b===96?(o=t.enter("codeTextSequence"),a=0,x(b)):Me(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m):(t.enter("codeTextData"),p(b))}function p(b){return b===null||b===32||b===96||Me(b)?(t.exit("codeTextData"),m(b)):(t.consume(b),p)}function x(b){return b===96?(t.consume(b),a++,x):a===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(o.type="codeTextData",p(b))}}class OC{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,n,s){const a=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return s&&xc(this.left,s),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),xc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),xc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);xc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);xc(this.left,n.reverse())}}}function xc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function S_(t){const e={};let n=-1,s,a,o,c,f,m,p;const x=new OC(t);for(;++n<x.length;){for(;n in e;)n=e[n];if(s=x.get(n),n&&s[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(m=s[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(Object.assign(e,VC(x,n)),n=e[n],p=!0);else if(s[1]._container){for(o=n,a=void 0;o--;)if(c=x.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(x.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(s[1].end={...x.get(a)[1].start},f=x.slice(a,n),f.unshift(s),x.splice(a,n-a+1,f))}}return ur(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!p}function VC(t,e){const n=t.get(e)[1],s=t.get(e)[2];let a=e-1;const o=[];let c=n._tokenizer;c||(c=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,m=[],p={};let x,b,w=-1,_=n,S=0,M=0;const L=[M];for(;_;){for(;t.get(++a)[1]!==_;);o.push(a),_._tokenizer||(x=s.sliceStream(_),_.next||x.push(null),b&&c.defineSkip(_.start),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=_,_=_.next}for(_=n;++w<f.length;)f[w][0]==="exit"&&f[w-1][0]==="enter"&&f[w][1].type===f[w-1][1].type&&f[w][1].start.line!==f[w][1].end.line&&(M=w+1,L.push(M),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(c.events=[],_?(_._tokenizer=void 0,_.previous=void 0):L.pop(),w=L.length;w--;){const F=f.slice(L[w],L[w+1]),B=o.pop();m.push([B,B+F.length-1]),t.splice(B,2,F)}for(m.reverse(),w=-1;++w<m.length;)p[S+m[w][0]]=S+m[w][1],S+=m[w][1]-m[w][0]-1;return p}const PC={resolve:zC,tokenize:UC},LC={partial:!0,tokenize:BC};function zC(t){return S_(t),t}function UC(t,e){let n;return s;function s(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?o(f):Me(f)?t.check(LC,c,o)(f):(t.consume(f),a)}function o(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function c(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function BC(t,e,n){const s=this;return a;function a(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),st(t,o,"linePrefix")}function o(c){if(c===null||Me(c))return n(c);const f=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(c):t.interrupt(s.parser.constructs.flow,n,e)(c)}}function A_(t,e,n,s,a,o,c,f,m){const p=m||Number.POSITIVE_INFINITY;let x=0;return b;function b(F){return F===60?(t.enter(s),t.enter(a),t.enter(o),t.consume(F),t.exit(o),w):F===null||F===32||F===41||df(F)?n(F):(t.enter(s),t.enter(c),t.enter(f),t.enter("chunkString",{contentType:"string"}),M(F))}function w(F){return F===62?(t.enter(o),t.consume(F),t.exit(o),t.exit(a),t.exit(s),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),_(F))}function _(F){return F===62?(t.exit("chunkString"),t.exit(f),w(F)):F===null||F===60||Me(F)?n(F):(t.consume(F),F===92?S:_)}function S(F){return F===60||F===62||F===92?(t.consume(F),_):_(F)}function M(F){return!x&&(F===null||F===41||wt(F))?(t.exit("chunkString"),t.exit(f),t.exit(c),t.exit(s),e(F)):x<p&&F===40?(t.consume(F),x++,M):F===41?(t.consume(F),x--,M):F===null||F===32||F===40||df(F)?n(F):(t.consume(F),F===92?L:M)}function L(F){return F===40||F===41||F===92?(t.consume(F),M):M(F)}}function j_(t,e,n,s,a,o){const c=this;let f=0,m;return p;function p(_){return t.enter(s),t.enter(a),t.consume(_),t.exit(a),t.enter(o),x}function x(_){return f>999||_===null||_===91||_===93&&!m||_===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?n(_):_===93?(t.exit(o),t.enter(a),t.consume(_),t.exit(a),t.exit(s),e):Me(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),b(_))}function b(_){return _===null||_===91||_===93||Me(_)||f++>999?(t.exit("chunkString"),x(_)):(t.consume(_),m||(m=!Ke(_)),_===92?w:b)}function w(_){return _===91||_===92||_===93?(t.consume(_),f++,b):b(_)}}function C_(t,e,n,s,a,o){let c;return f;function f(w){return w===34||w===39||w===40?(t.enter(s),t.enter(a),t.consume(w),t.exit(a),c=w===40?41:w,m):n(w)}function m(w){return w===c?(t.enter(a),t.consume(w),t.exit(a),t.exit(s),e):(t.enter(o),p(w))}function p(w){return w===c?(t.exit(o),m(c)):w===null?n(w):Me(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),st(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(w))}function x(w){return w===c||w===null||Me(w)?(t.exit("chunkString"),p(w)):(t.consume(w),w===92?b:x)}function b(w){return w===c||w===92?(t.consume(w),x):x(w)}}function kc(t,e){let n;return s;function s(a){return Me(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,s):Ke(a)?st(t,s,n?"linePrefix":"lineSuffix")(a):e(a)}}const FC={name:"definition",tokenize:HC},qC={partial:!0,tokenize:$C};function HC(t,e,n){const s=this;let a;return o;function o(_){return t.enter("definition"),c(_)}function c(_){return j_.call(s,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function f(_){return a=Ur(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),_===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),m):n(_)}function m(_){return wt(_)?kc(t,p)(_):p(_)}function p(_){return A_(t,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function x(_){return t.attempt(qC,b,b)(_)}function b(_){return Ke(_)?st(t,w,"whitespace")(_):w(_)}function w(_){return _===null||Me(_)?(t.exit("definition"),s.parser.defined.push(a),e(_)):n(_)}}function $C(t,e,n){return s;function s(f){return wt(f)?kc(t,a)(f):n(f)}function a(f){return C_(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function o(f){return Ke(f)?st(t,c,"whitespace")(f):c(f)}function c(f){return f===null||Me(f)?e(f):n(f)}}const GC={name:"hardBreakEscape",tokenize:YC};function YC(t,e,n){return s;function s(o){return t.enter("hardBreakEscape"),t.consume(o),a}function a(o){return Me(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const QC={name:"headingAtx",resolve:XC,tokenize:KC};function XC(t,e){let n=t.length-2,s=3,a,o;return t[s][1].type==="whitespace"&&(s+=2),n-2>s&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&t[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(a={type:"atxHeadingText",start:t[s][1].start,end:t[n][1].end},o={type:"chunkText",start:t[s][1].start,end:t[n][1].end,contentType:"text"},ur(t,s,n-s+1,[["enter",a,e],["enter",o,e],["exit",o,e],["exit",a,e]])),t}function KC(t,e,n){let s=0;return a;function a(x){return t.enter("atxHeading"),o(x)}function o(x){return t.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&s++<6?(t.consume(x),c):x===null||wt(x)?(t.exit("atxHeadingSequence"),f(x)):n(x)}function f(x){return x===35?(t.enter("atxHeadingSequence"),m(x)):x===null||Me(x)?(t.exit("atxHeading"),e(x)):Ke(x)?st(t,f,"whitespace")(x):(t.enter("atxHeadingText"),p(x))}function m(x){return x===35?(t.consume(x),m):(t.exit("atxHeadingSequence"),f(x))}function p(x){return x===null||x===35||wt(x)?(t.exit("atxHeadingText"),f(x)):(t.consume(x),p)}}const ZC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Cv=["pre","script","style","textarea"],JC={concrete:!0,name:"htmlFlow",resolveTo:tk,tokenize:nk},WC={partial:!0,tokenize:sk},ek={partial:!0,tokenize:rk};function tk(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function nk(t,e,n){const s=this;let a,o,c,f,m;return p;function p(C){return x(C)}function x(C){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(C),b}function b(C){return C===33?(t.consume(C),w):C===47?(t.consume(C),o=!0,M):C===63?(t.consume(C),a=3,s.interrupt?e:N):Un(C)?(t.consume(C),c=String.fromCharCode(C),L):n(C)}function w(C){return C===45?(t.consume(C),a=2,_):C===91?(t.consume(C),a=5,f=0,S):Un(C)?(t.consume(C),a=4,s.interrupt?e:N):n(C)}function _(C){return C===45?(t.consume(C),s.interrupt?e:N):n(C)}function S(C){const ae="CDATA[";return C===ae.charCodeAt(f++)?(t.consume(C),f===ae.length?s.interrupt?e:P:S):n(C)}function M(C){return Un(C)?(t.consume(C),c=String.fromCharCode(C),L):n(C)}function L(C){if(C===null||C===47||C===62||wt(C)){const ae=C===47,be=c.toLowerCase();return!ae&&!o&&Cv.includes(be)?(a=1,s.interrupt?e(C):P(C)):ZC.includes(c.toLowerCase())?(a=6,ae?(t.consume(C),F):s.interrupt?e(C):P(C)):(a=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(C):o?B(C):z(C))}return C===45||Mn(C)?(t.consume(C),c+=String.fromCharCode(C),L):n(C)}function F(C){return C===62?(t.consume(C),s.interrupt?e:P):n(C)}function B(C){return Ke(C)?(t.consume(C),B):A(C)}function z(C){return C===47?(t.consume(C),A):C===58||C===95||Un(C)?(t.consume(C),G):Ke(C)?(t.consume(C),z):A(C)}function G(C){return C===45||C===46||C===58||C===95||Mn(C)?(t.consume(C),G):q(C)}function q(C){return C===61?(t.consume(C),U):Ke(C)?(t.consume(C),q):z(C)}function U(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),m=C,R):Ke(C)?(t.consume(C),U):j(C)}function R(C){return C===m?(t.consume(C),m=null,O):C===null||Me(C)?n(C):(t.consume(C),R)}function j(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||wt(C)?q(C):(t.consume(C),j)}function O(C){return C===47||C===62||Ke(C)?z(C):n(C)}function A(C){return C===62?(t.consume(C),D):n(C)}function D(C){return C===null||Me(C)?P(C):Ke(C)?(t.consume(C),D):n(C)}function P(C){return C===45&&a===2?(t.consume(C),K):C===60&&a===1?(t.consume(C),ue):C===62&&a===4?(t.consume(C),X):C===63&&a===3?(t.consume(C),N):C===93&&a===5?(t.consume(C),J):Me(C)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(WC,Z,k)(C)):C===null||Me(C)?(t.exit("htmlFlowData"),k(C)):(t.consume(C),P)}function k(C){return t.check(ek,ce,Z)(C)}function ce(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),pe}function pe(C){return C===null||Me(C)?k(C):(t.enter("htmlFlowData"),P(C))}function K(C){return C===45?(t.consume(C),N):P(C)}function ue(C){return C===47?(t.consume(C),c="",ne):P(C)}function ne(C){if(C===62){const ae=c.toLowerCase();return Cv.includes(ae)?(t.consume(C),X):P(C)}return Un(C)&&c.length<8?(t.consume(C),c+=String.fromCharCode(C),ne):P(C)}function J(C){return C===93?(t.consume(C),N):P(C)}function N(C){return C===62?(t.consume(C),X):C===45&&a===2?(t.consume(C),N):P(C)}function X(C){return C===null||Me(C)?(t.exit("htmlFlowData"),Z(C)):(t.consume(C),X)}function Z(C){return t.exit("htmlFlow"),e(C)}}function rk(t,e,n){const s=this;return a;function a(c){return Me(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o):n(c)}function o(c){return s.parser.lazy[s.now().line]?n(c):e(c)}}function sk(t,e,n){return s;function s(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(au,e,n)}}const ik={name:"htmlText",tokenize:ak};function ak(t,e,n){const s=this;let a,o,c;return f;function f(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),m}function m(N){return N===33?(t.consume(N),p):N===47?(t.consume(N),q):N===63?(t.consume(N),z):Un(N)?(t.consume(N),j):n(N)}function p(N){return N===45?(t.consume(N),x):N===91?(t.consume(N),o=0,S):Un(N)?(t.consume(N),B):n(N)}function x(N){return N===45?(t.consume(N),_):n(N)}function b(N){return N===null?n(N):N===45?(t.consume(N),w):Me(N)?(c=b,ue(N)):(t.consume(N),b)}function w(N){return N===45?(t.consume(N),_):b(N)}function _(N){return N===62?K(N):N===45?w(N):b(N)}function S(N){const X="CDATA[";return N===X.charCodeAt(o++)?(t.consume(N),o===X.length?M:S):n(N)}function M(N){return N===null?n(N):N===93?(t.consume(N),L):Me(N)?(c=M,ue(N)):(t.consume(N),M)}function L(N){return N===93?(t.consume(N),F):M(N)}function F(N){return N===62?K(N):N===93?(t.consume(N),F):M(N)}function B(N){return N===null||N===62?K(N):Me(N)?(c=B,ue(N)):(t.consume(N),B)}function z(N){return N===null?n(N):N===63?(t.consume(N),G):Me(N)?(c=z,ue(N)):(t.consume(N),z)}function G(N){return N===62?K(N):z(N)}function q(N){return Un(N)?(t.consume(N),U):n(N)}function U(N){return N===45||Mn(N)?(t.consume(N),U):R(N)}function R(N){return Me(N)?(c=R,ue(N)):Ke(N)?(t.consume(N),R):K(N)}function j(N){return N===45||Mn(N)?(t.consume(N),j):N===47||N===62||wt(N)?O(N):n(N)}function O(N){return N===47?(t.consume(N),K):N===58||N===95||Un(N)?(t.consume(N),A):Me(N)?(c=O,ue(N)):Ke(N)?(t.consume(N),O):K(N)}function A(N){return N===45||N===46||N===58||N===95||Mn(N)?(t.consume(N),A):D(N)}function D(N){return N===61?(t.consume(N),P):Me(N)?(c=D,ue(N)):Ke(N)?(t.consume(N),D):O(N)}function P(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),a=N,k):Me(N)?(c=P,ue(N)):Ke(N)?(t.consume(N),P):(t.consume(N),ce)}function k(N){return N===a?(t.consume(N),a=void 0,pe):N===null?n(N):Me(N)?(c=k,ue(N)):(t.consume(N),k)}function ce(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||wt(N)?O(N):(t.consume(N),ce)}function pe(N){return N===47||N===62||wt(N)?O(N):n(N)}function K(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):n(N)}function ue(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),ne}function ne(N){return Ke(N)?st(t,J,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):J(N)}function J(N){return t.enter("htmlTextData"),c(N)}}const mg={name:"labelEnd",resolveAll:uk,resolveTo:dk,tokenize:fk},lk={tokenize:hk},ok={tokenize:mk},ck={tokenize:pk};function uk(t){let e=-1;const n=[];for(;++e<t.length;){const s=t[e][1];if(n.push(t[e]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const a=s.type==="labelImage"?4:2;s.type="data",e+=a}}return t.length!==n.length&&ur(t,0,t.length,n),t}function dk(t,e){let n=t.length,s=0,a,o,c,f;for(;n--;)if(a=t[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){s=2;break}}else a.type==="labelEnd"&&(c=n);const m={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[o][1].start},end:{...t[c][1].end}},x={type:"labelText",start:{...t[o+s+2][1].end},end:{...t[c-2][1].start}};return f=[["enter",m,e],["enter",p,e]],f=Sr(f,t.slice(o+1,o+s+3)),f=Sr(f,[["enter",x,e]]),f=Sr(f,Uf(e.parser.constructs.insideSpan.null,t.slice(o+s+4,c-3),e)),f=Sr(f,[["exit",x,e],t[c-2],t[c-1],["exit",p,e]]),f=Sr(f,t.slice(c+1)),f=Sr(f,[["exit",m,e]]),ur(t,o,t.length,f),t}function fk(t,e,n){const s=this;let a=s.events.length,o,c;for(;a--;)if((s.events[a][1].type==="labelImage"||s.events[a][1].type==="labelLink")&&!s.events[a][1]._balanced){o=s.events[a][1];break}return f;function f(w){return o?o._inactive?b(w):(c=s.parser.defined.includes(Ur(s.sliceSerialize({start:o.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),m):n(w)}function m(w){return w===40?t.attempt(lk,x,c?x:b)(w):w===91?t.attempt(ok,x,c?p:b)(w):c?x(w):b(w)}function p(w){return t.attempt(ck,x,b)(w)}function x(w){return e(w)}function b(w){return o._balanced=!0,n(w)}}function hk(t,e,n){return s;function s(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),a}function a(b){return wt(b)?kc(t,o)(b):o(b)}function o(b){return b===41?x(b):A_(t,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return wt(b)?kc(t,m)(b):x(b)}function f(b){return n(b)}function m(b){return b===34||b===39||b===40?C_(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function p(b){return wt(b)?kc(t,x)(b):x(b)}function x(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function mk(t,e,n){const s=this;return a;function a(f){return j_.call(s,t,o,c,"reference","referenceMarker","referenceString")(f)}function o(f){return s.parser.defined.includes(Ur(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function c(f){return n(f)}}function pk(t,e,n){return s;function s(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),a}function a(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const gk={name:"labelStartImage",resolveAll:mg.resolveAll,tokenize:xk};function xk(t,e,n){const s=this;return a;function a(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),o}function o(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),c):n(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):e(f)}}const yk={name:"labelStartLink",resolveAll:mg.resolveAll,tokenize:bk};function bk(t,e,n){const s=this;return a;function a(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(c):e(c)}}const c0={name:"lineEnding",tokenize:vk};function vk(t,e){return n;function n(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),st(t,e,"linePrefix")}}const Gd={name:"thematicBreak",tokenize:wk};function wk(t,e,n){let s=0,a;return o;function o(p){return t.enter("thematicBreak"),c(p)}function c(p){return a=p,f(p)}function f(p){return p===a?(t.enter("thematicBreakSequence"),m(p)):s>=3&&(p===null||Me(p))?(t.exit("thematicBreak"),e(p)):n(p)}function m(p){return p===a?(t.consume(p),s++,m):(t.exit("thematicBreakSequence"),Ke(p)?st(t,f,"whitespace")(p):f(p))}}const Xn={continuation:{tokenize:Tk},exit:Ak,name:"list",tokenize:Ek},_k={partial:!0,tokenize:jk},Nk={partial:!0,tokenize:Sk};function Ek(t,e,n){const s=this,a=s.events[s.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return f;function f(_){const S=s.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!s.containerState.marker||_===s.containerState.marker:W0(_)){if(s.containerState.type||(s.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),_===42||_===45?t.check(Gd,n,p)(_):p(_);if(!s.interrupt||_===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(_)}return n(_)}function m(_){return W0(_)&&++c<10?(t.consume(_),m):(!s.interrupt||c<2)&&(s.containerState.marker?_===s.containerState.marker:_===41||_===46)?(t.exit("listItemValue"),p(_)):n(_)}function p(_){return t.enter("listItemMarker"),t.consume(_),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||_,t.check(au,s.interrupt?n:x,t.attempt(_k,w,b))}function x(_){return s.containerState.initialBlankLine=!0,o++,w(_)}function b(_){return Ke(_)?(t.enter("listItemPrefixWhitespace"),t.consume(_),t.exit("listItemPrefixWhitespace"),w):n(_)}function w(_){return s.containerState.size=o+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(_)}}function Tk(t,e,n){const s=this;return s.containerState._closeFlow=void 0,t.check(au,a,o);function a(f){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,st(t,e,"listItemIndent",s.containerState.size+1)(f)}function o(f){return s.containerState.furtherBlankLines||!Ke(f)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,c(f)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(Nk,e,c)(f))}function c(f){return s.containerState._closeFlow=!0,s.interrupt=void 0,st(t,t.attempt(Xn,e,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function Sk(t,e,n){const s=this;return st(t,a,"listItemIndent",s.containerState.size+1);function a(o){const c=s.events[s.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===s.containerState.size?e(o):n(o)}}function Ak(t){t.exit(this.containerState.type)}function jk(t,e,n){const s=this;return st(t,a,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const c=s.events[s.events.length-1];return!Ke(o)&&c&&c[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const kv={name:"setextUnderline",resolveTo:Ck,tokenize:kk};function Ck(t,e){let n=t.length,s,a,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){s=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const c={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",o?(t.splice(a,0,["enter",c,e]),t.splice(o+1,0,["exit",t[s][1],e]),t[s][1].end={...t[o][1].end}):t[s][1]=c,t.push(["exit",c,e]),t}function kk(t,e,n){const s=this;let a;return o;function o(p){let x=s.events.length,b;for(;x--;)if(s.events[x][1].type!=="lineEnding"&&s.events[x][1].type!=="linePrefix"&&s.events[x][1].type!=="content"){b=s.events[x][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||b)?(t.enter("setextHeadingLine"),a=p,c(p)):n(p)}function c(p){return t.enter("setextHeadingLineSequence"),f(p)}function f(p){return p===a?(t.consume(p),f):(t.exit("setextHeadingLineSequence"),Ke(p)?st(t,m,"lineSuffix")(p):m(p))}function m(p){return p===null||Me(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const Rk={tokenize:Dk};function Dk(t){const e=this,n=t.attempt(au,s,t.attempt(this.parser.constructs.flowInitial,a,st(t,t.attempt(this.parser.constructs.flow,a,t.attempt(PC,a)),"linePrefix")));return n;function s(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Ik={resolveAll:R_()},Mk=k_("string"),Ok=k_("text");function k_(t){return{resolveAll:R_(t==="text"?Vk:void 0),tokenize:e};function e(n){const s=this,a=this.parser.constructs[t],o=n.attempt(a,c,f);return c;function c(x){return p(x)?o(x):f(x)}function f(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),m}function m(x){return p(x)?(n.exit("data"),o(x)):(n.consume(x),m)}function p(x){if(x===null)return!0;const b=a[x];let w=-1;if(b)for(;++w<b.length;){const _=b[w];if(!_.previous||_.previous.call(s,s.previous))return!0}return!1}}}function R_(t){return e;function e(n,s){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return t?t(n,s):n}}function Vk(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const s=t[n-1][1],a=e.sliceStream(s);let o=a.length,c=-1,f=0,m;for(;o--;){const p=a[o];if(typeof p=="string"){for(c=p.length;p.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(p===-2)m=!0,f++;else if(p!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const p={type:n===t.length||m||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:s.start._bufferIndex+c,_index:s.start._index+o,line:s.end.line,column:s.end.column-f,offset:s.end.offset-f},end:{...s.end}};s.end={...p.start},s.start.offset===s.end.offset?Object.assign(s,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const Pk={42:Xn,43:Xn,45:Xn,48:Xn,49:Xn,50:Xn,51:Xn,52:Xn,53:Xn,54:Xn,55:Xn,56:Xn,57:Xn,62:N_},Lk={91:FC},zk={[-2]:o0,[-1]:o0,32:o0},Uk={35:QC,42:Gd,45:[kv,Gd],60:JC,61:kv,95:Gd,96:jv,126:jv},Bk={38:T_,92:E_},Fk={[-5]:c0,[-4]:c0,[-3]:c0,33:gk,38:T_,42:ep,60:[yC,ik],91:yk,92:[GC,E_],93:mg,95:ep,96:RC},qk={null:[ep,Ik]},Hk={null:[42,95]},$k={null:[]},Gk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Hk,contentInitial:Lk,disable:$k,document:Pk,flow:Uk,flowInitial:zk,insideSpan:qk,string:Bk,text:Fk},Symbol.toStringTag,{value:"Module"}));function Yk(t,e,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let c=[],f=[];const m={attempt:R(q),check:R(U),consume:B,enter:z,exit:G,interrupt:R(U,{interrupt:!0})},p={code:null,containerState:{},defineSkip:M,events:[],now:S,parser:t,previous:null,sliceSerialize:w,sliceStream:_,write:b};let x=e.tokenize.call(p,m);return e.resolveAll&&o.push(e),p;function b(D){return c=Sr(c,D),L(),c[c.length-1]!==null?[]:(j(e,0),p.events=Uf(o,p.events,p),p.events)}function w(D,P){return Xk(_(D),P)}function _(D){return Qk(c,D)}function S(){const{_bufferIndex:D,_index:P,line:k,column:ce,offset:pe}=s;return{_bufferIndex:D,_index:P,line:k,column:ce,offset:pe}}function M(D){a[D.line]=D.column,A()}function L(){let D;for(;s._index<c.length;){const P=c[s._index];if(typeof P=="string")for(D=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===D&&s._bufferIndex<P.length;)F(P.charCodeAt(s._bufferIndex));else F(P)}}function F(D){x=x(D)}function B(D){Me(D)?(s.line++,s.column=1,s.offset+=D===-3?2:1,A()):D!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===c[s._index].length&&(s._bufferIndex=-1,s._index++)),p.previous=D}function z(D,P){const k=P||{};return k.type=D,k.start=S(),p.events.push(["enter",k,p]),f.push(k),k}function G(D){const P=f.pop();return P.end=S(),p.events.push(["exit",P,p]),P}function q(D,P){j(D,P.from)}function U(D,P){P.restore()}function R(D,P){return k;function k(ce,pe,K){let ue,ne,J,N;return Array.isArray(ce)?Z(ce):"tokenize"in ce?Z([ce]):X(ce);function X(oe){return ve;function ve(Te){const it=Te!==null&&oe[Te],lt=Te!==null&&oe.null,_e=[...Array.isArray(it)?it:it?[it]:[],...Array.isArray(lt)?lt:lt?[lt]:[]];return Z(_e)(Te)}}function Z(oe){return ue=oe,ne=0,oe.length===0?K:C(oe[ne])}function C(oe){return ve;function ve(Te){return N=O(),J=oe,oe.partial||(p.currentConstruct=oe),oe.name&&p.parser.constructs.disable.null.includes(oe.name)?be():oe.tokenize.call(P?Object.assign(Object.create(p),P):p,m,ae,be)(Te)}}function ae(oe){return D(J,N),pe}function be(oe){return N.restore(),++ne<ue.length?C(ue[ne]):K}}}function j(D,P){D.resolveAll&&!o.includes(D)&&o.push(D),D.resolve&&ur(p.events,P,p.events.length-P,D.resolve(p.events.slice(P),p)),D.resolveTo&&(p.events=D.resolveTo(p.events,p))}function O(){const D=S(),P=p.previous,k=p.currentConstruct,ce=p.events.length,pe=Array.from(f);return{from:ce,restore:K};function K(){s=D,p.previous=P,p.currentConstruct=k,p.events.length=ce,f=pe,A()}}function A(){s.line in a&&s.column<2&&(s.column=a[s.line],s.offset+=a[s.line]-1)}}function Qk(t,e){const n=e.start._index,s=e.start._bufferIndex,a=e.end._index,o=e.end._bufferIndex;let c;if(n===a)c=[t[n].slice(s,o)];else{if(c=t.slice(n,a),s>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(s):c.shift()}o>0&&c.push(t[a].slice(0,o))}return c}function Xk(t,e){let n=-1;const s=[];let a;for(;++n<t.length;){const o=t[n];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&a)continue;c=" ";break}default:c=String.fromCharCode(o)}a=o===-2,s.push(c)}return s.join("")}function Kk(t){const s={constructs:w_([Gk,...(t||{}).extensions||[]]),content:a(dC),defined:[],document:a(hC),flow:a(Rk),lazy:{},string:a(Mk),text:a(Ok)};return s;function a(o){return c;function c(f){return Yk(s,o,f)}}}function Zk(t){for(;!S_(t););return t}const Rv=/[\0\t\n\r]/g;function Jk(){let t=1,e="",n=!0,s;return a;function a(o,c,f){const m=[];let p,x,b,w,_;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(Rv.lastIndex=b,p=Rv.exec(o),w=p&&p.index!==void 0?p.index:o.length,_=o.charCodeAt(w),!p){e=o.slice(b);break}if(_===10&&b===w&&s)m.push(-3),s=void 0;else switch(s&&(m.push(-5),s=void 0),b<w&&(m.push(o.slice(b,w)),t+=w-b),_){case 0:{m.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,m.push(-2);t++<x;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:s=!0,t=1}b=w+1}return f&&(s&&m.push(-5),e&&m.push(e),m.push(null)),m}}const Wk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function e9(t){return t.replace(Wk,t9)}function t9(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return __(n.slice(o?2:1),o?16:10)}return hg(n)||t}const D_={}.hasOwnProperty;function n9(t,e,n){return typeof e!="string"&&(n=e,e=void 0),r9(n)(Zk(Kk(n).document().write(Jk()(t,e,!0))))}function r9(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(dr),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(hn),blockQuote:o(lt),characterEscape:O,characterReference:O,codeFenced:o(_e),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(_e,c),codeText:o(dt,c),codeTextData:O,data:O,codeFlowValue:O,definition:o(bt),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(rn),hardBreakEscape:o(Fr),hardBreakTrailing:o(Fr),htmlFlow:o(It,c),htmlFlowData:O,htmlText:o(It,c),htmlTextData:O,image:o(qr),label:c,link:o(dr),listItem:o(fr),listItemValue:w,listOrdered:o(Hn,b),listUnordered:o(Hn),paragraph:o(Yi),reference:C,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(hn),strong:o(hr),thematicBreak:o(ys)},exit:{atxHeading:m(),atxHeadingSequence:q,autolink:m(),autolinkEmail:it,autolinkProtocol:Te,blockQuote:m(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:be,characterReferenceMarkerNumeric:be,characterReferenceValue:oe,characterReference:ve,codeFenced:m(L),codeFencedFence:M,codeFencedFenceInfo:_,codeFencedFenceMeta:S,codeFlowValue:A,codeIndented:m(F),codeText:m(pe),codeTextData:A,data:A,definition:m(),definitionDestinationString:G,definitionLabelString:B,definitionTitleString:z,emphasis:m(),hardBreakEscape:m(P),hardBreakTrailing:m(P),htmlFlow:m(k),htmlFlowData:A,htmlText:m(ce),htmlTextData:A,image:m(ue),label:J,labelText:ne,lineEnding:D,link:m(K),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:ae,resourceDestinationString:N,resourceTitleString:X,resource:Z,setextHeading:m(j),setextHeadingLineSequence:R,setextHeadingText:U,strong:m(),thematicBreak:m()}};I_(e,(t||{}).mdastExtensions||[]);const n={};return s;function s(se){let ge={type:"root",children:[]};const ke={stack:[ge],tokenStack:[],config:e,enter:f,exit:p,buffer:c,resume:x,data:n},De=[];let $e=-1;for(;++$e<se.length;)if(se[$e][1].type==="listOrdered"||se[$e][1].type==="listUnordered")if(se[$e][0]==="enter")De.push($e);else{const mn=De.pop();$e=a(se,mn,$e)}for($e=-1;++$e<se.length;){const mn=e[se[$e][0]];D_.call(mn,se[$e][1].type)&&mn[se[$e][1].type].call(Object.assign({sliceSerialize:se[$e][2].sliceSerialize},ke),se[$e][1])}if(ke.tokenStack.length>0){const mn=ke.tokenStack[ke.tokenStack.length-1];(mn[1]||Dv).call(ke,void 0,mn[0])}for(ge.position={start:Ci(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:Ci(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<e.transforms.length;)ge=e.transforms[$e](ge)||ge;return ge}function a(se,ge,ke){let De=ge-1,$e=-1,mn=!1,sn,Zt,Sn,Ft;for(;++De<=ke;){const Ct=se[De];switch(Ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ct[0]==="enter"?$e++:$e--,Ft=void 0;break}case"lineEndingBlank":{Ct[0]==="enter"&&(sn&&!Ft&&!$e&&!Sn&&(Sn=De),Ft=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ft=void 0}if(!$e&&Ct[0]==="enter"&&Ct[1].type==="listItemPrefix"||$e===-1&&Ct[0]==="exit"&&(Ct[1].type==="listUnordered"||Ct[1].type==="listOrdered")){if(sn){let An=De;for(Zt=void 0;An--;){const pn=se[An];if(pn[1].type==="lineEnding"||pn[1].type==="lineEndingBlank"){if(pn[0]==="exit")continue;Zt&&(se[Zt][1].type="lineEndingBlank",mn=!0),pn[1].type="lineEnding",Zt=An}else if(!(pn[1].type==="linePrefix"||pn[1].type==="blockQuotePrefix"||pn[1].type==="blockQuotePrefixWhitespace"||pn[1].type==="blockQuoteMarker"||pn[1].type==="listItemIndent"))break}Sn&&(!Zt||Sn<Zt)&&(sn._spread=!0),sn.end=Object.assign({},Zt?se[Zt][1].start:Ct[1].end),se.splice(Zt||De,0,["exit",sn,Ct[2]]),De++,ke++}if(Ct[1].type==="listItemPrefix"){const An={type:"listItem",_spread:!1,start:Object.assign({},Ct[1].start),end:void 0};sn=An,se.splice(De,0,["enter",An,Ct[2]]),De++,ke++,Sn=void 0,Ft=!0}}}return se[ge][1]._spread=mn,ke}function o(se,ge){return ke;function ke(De){f.call(this,se(De),De),ge&&ge.call(this,De)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(se,ge,ke){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([ge,ke||void 0]),se.position={start:Ci(ge.start),end:void 0}}function m(se){return ge;function ge(ke){se&&se.call(this,ke),p.call(this,ke)}}function p(se,ge){const ke=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==se.type&&(ge?ge.call(this,se,De[0]):(De[1]||Dv).call(this,se,De[0]));else throw new Error("Cannot close `"+se.type+"` ("+Cc({start:se.start,end:se.end})+"): its not open");ke.position.end=Ci(se.end)}function x(){return fg(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function w(se){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function _(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=se}function S(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=se}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function L(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function F(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.value=se.replace(/(\r?\n|\r)$/g,"")}function B(se){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ge,ke.identifier=Ur(this.sliceSerialize(se)).toLowerCase()}function z(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.title=se}function G(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.url=se}function q(se){const ge=this.stack[this.stack.length-1];if(!ge.depth){const ke=this.sliceSerialize(se).length;ge.depth=ke}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function R(se){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function O(se){const ke=this.stack[this.stack.length-1].children;let De=ke[ke.length-1];(!De||De.type!=="text")&&(De=$n(),De.position={start:Ci(se.start),end:void 0},ke.push(De)),this.stack.push(De)}function A(se){const ge=this.stack.pop();ge.value+=this.sliceSerialize(se),ge.position.end=Ci(se.end)}function D(se){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=ge.children[ge.children.length-1];ke.position.end=Ci(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ge.type)&&(O.call(this,se),A.call(this,se))}function P(){this.data.atHardBreak=!0}function k(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.value=se}function ce(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.value=se}function pe(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.value=se}function K(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=ge,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function ue(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=ge,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function ne(se){const ge=this.sliceSerialize(se),ke=this.stack[this.stack.length-2];ke.label=e9(ge),ke.identifier=Ur(ge).toLowerCase()}function J(){const se=this.stack[this.stack.length-1],ge=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const De=se.children;ke.children=De}else ke.alt=ge}function N(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.url=se}function X(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.title=se}function Z(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function ae(se){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ge,ke.identifier=Ur(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function be(se){this.data.characterReferenceType=se.type}function oe(se){const ge=this.sliceSerialize(se),ke=this.data.characterReferenceType;let De;ke?(De=__(ge,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=hg(ge);const $e=this.stack[this.stack.length-1];$e.value+=De}function ve(se){const ge=this.stack.pop();ge.position.end=Ci(se.end)}function Te(se){A.call(this,se);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(se)}function it(se){A.call(this,se);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(se)}function lt(){return{type:"blockquote",children:[]}}function _e(){return{type:"code",lang:null,meta:null,value:""}}function dt(){return{type:"inlineCode",value:""}}function bt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function rn(){return{type:"emphasis",children:[]}}function hn(){return{type:"heading",depth:0,children:[]}}function Fr(){return{type:"break"}}function It(){return{type:"html",value:""}}function qr(){return{type:"image",title:null,url:"",alt:null}}function dr(){return{type:"link",title:null,url:"",children:[]}}function Hn(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function fr(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function Yi(){return{type:"paragraph",children:[]}}function hr(){return{type:"strong",children:[]}}function $n(){return{type:"text",value:""}}function ys(){return{type:"thematicBreak"}}}function Ci(t){return{line:t.line,column:t.column,offset:t.offset}}function I_(t,e){let n=-1;for(;++n<e.length;){const s=e[n];Array.isArray(s)?I_(t,s):s9(t,s)}}function s9(t,e){let n;for(n in e)if(D_.call(e,n))switch(n){case"canContainEols":{const s=e[n];s&&t[n].push(...s);break}case"transforms":{const s=e[n];s&&t[n].push(...s);break}case"enter":case"exit":{const s=e[n];s&&Object.assign(t[n],s);break}}}function Dv(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Cc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Cc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Cc({start:e.start,end:e.end})+") is still open")}function i9(t){const e=this;e.parser=n;function n(s){return n9(s,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function a9(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function l9(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function o9(t,e){const n=e.value?e.value+`
`:"",s={};e.lang&&(s.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function c9(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function u9(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function d9(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),a=co(s.toLowerCase()),o=t.footnoteOrder.indexOf(s);let c,f=t.footnoteCounts.get(s);f===void 0?(f=0,t.footnoteOrder.push(s),c=t.footnoteOrder.length):c=o+1,f+=1,t.footnoteCounts.set(s,f);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,m);const p={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,p),t.applyData(e,p)}function f9(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function h9(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function M_(t,e){const n=e.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+s}];const a=t.all(e),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=s:a.push({type:"text",value:s}),a}function m9(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return M_(t,e);const a={src:co(s.url||""),alt:e.alt};s.title!==null&&s.title!==void 0&&(a.title=s.title);const o={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,o),t.applyData(e,o)}function p9(t,e){const n={src:co(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,s),t.applyData(e,s)}function g9(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,s),t.applyData(e,s)}function x9(t,e){const n=String(e.identifier).toUpperCase(),s=t.definitionById.get(n);if(!s)return M_(t,e);const a={href:co(s.url||"")};s.title!==null&&s.title!==void 0&&(a.title=s.title);const o={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function y9(t,e){const n={href:co(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const s={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function b9(t,e,n){const s=t.all(e),a=n?v9(n):O_(e),o={},c=[];if(typeof e.checked=="boolean"){const x=s[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},s.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let f=-1;for(;++f<s.length;){const x=s[f];(a||f!==0||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!a?c.push(...x.children):c.push(x)}const m=s[s.length-1];m&&(a||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:o,children:c};return t.patch(e,p),t.applyData(e,p)}function v9(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let s=-1;for(;!e&&++s<n.length;)e=O_(n[s])}return e}function O_(t){const e=t.spread;return e??t.children.length>1}function w9(t,e){const n={},s=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<s.length;){const c=s[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function _9(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function N9(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function E9(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function T9(t,e){const n=t.all(e),s=n.shift(),a=[];if(s){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(e.children[0],c),a.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=og(e.children[1]),m=m_(e.children[e.children.length-1]);f&&m&&(c.position={start:f,end:m}),a.push(c)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,o),t.applyData(e,o)}function S9(t,e,n){const s=n?n.children:void 0,o=(s?s.indexOf(e):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,f=c?c.length:e.children.length;let m=-1;const p=[];for(;++m<f;){const b=e.children[m],w={},_=c?c[m]:void 0;_&&(w.align=_);let S={type:"element",tagName:o,properties:w,children:[]};b&&(S.children=t.all(b),t.patch(b,S),S=t.applyData(b,S)),p.push(S)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,x),t.applyData(e,x)}function A9(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Iv=9,Mv=32;function j9(t){const e=String(t),n=/\r?\n|\r/g;let s=n.exec(e),a=0;const o=[];for(;s;)o.push(Ov(e.slice(a,s.index),a>0,!0),s[0]),a=s.index+s[0].length,s=n.exec(e);return o.push(Ov(e.slice(a),a>0,!1)),o.join("")}function Ov(t,e,n){let s=0,a=t.length;if(e){let o=t.codePointAt(s);for(;o===Iv||o===Mv;)s++,o=t.codePointAt(s)}if(n){let o=t.codePointAt(a-1);for(;o===Iv||o===Mv;)a--,o=t.codePointAt(a-1)}return a>s?t.slice(s,a):""}function C9(t,e){const n={type:"text",value:j9(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function k9(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const R9={blockquote:a9,break:l9,code:o9,delete:c9,emphasis:u9,footnoteReference:d9,heading:f9,html:h9,imageReference:m9,image:p9,inlineCode:g9,linkReference:x9,link:y9,listItem:b9,list:w9,paragraph:_9,root:N9,strong:E9,table:T9,tableCell:A9,tableRow:S9,text:C9,thematicBreak:k9,toml:Od,yaml:Od,definition:Od,footnoteDefinition:Od};function Od(){}const V_=-1,Bf=0,Rc=1,ff=2,pg=3,gg=4,xg=5,yg=6,P_=7,L_=8,Vv=typeof self=="object"?self:globalThis,D9=(t,e)=>{const n=(a,o)=>(t.set(o,a),a),s=a=>{if(t.has(a))return t.get(a);const[o,c]=e[a];switch(o){case Bf:case V_:return n(c,a);case Rc:{const f=n([],a);for(const m of c)f.push(s(m));return f}case ff:{const f=n({},a);for(const[m,p]of c)f[s(m)]=s(p);return f}case pg:return n(new Date(c),a);case gg:{const{source:f,flags:m}=c;return n(new RegExp(f,m),a)}case xg:{const f=n(new Map,a);for(const[m,p]of c)f.set(s(m),s(p));return f}case yg:{const f=n(new Set,a);for(const m of c)f.add(s(m));return f}case P_:{const{name:f,message:m}=c;return n(new Vv[f](m),a)}case L_:return n(BigInt(c),a);case"BigInt":return n(Object(BigInt(c)),a);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return n(new DataView(f),c)}}return n(new Vv[o](c),a)};return s},Pv=t=>D9(new Map,t)(0),Pl="",{toString:I9}={},{keys:M9}=Object,yc=t=>{const e=typeof t;if(e!=="object"||!t)return[Bf,e];const n=I9.call(t).slice(8,-1);switch(n){case"Array":return[Rc,Pl];case"Object":return[ff,Pl];case"Date":return[pg,Pl];case"RegExp":return[gg,Pl];case"Map":return[xg,Pl];case"Set":return[yg,Pl];case"DataView":return[Rc,n]}return n.includes("Array")?[Rc,n]:n.includes("Error")?[P_,n]:[ff,n]},Vd=([t,e])=>t===Bf&&(e==="function"||e==="symbol"),O9=(t,e,n,s)=>{const a=(c,f)=>{const m=s.push(c)-1;return n.set(f,m),m},o=c=>{if(n.has(c))return n.get(c);let[f,m]=yc(c);switch(f){case Bf:{let x=c;switch(m){case"bigint":f=L_,x=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);x=null;break;case"undefined":return a([V_],c)}return a([f,x],c)}case Rc:{if(m){let w=c;return m==="DataView"?w=new Uint8Array(c.buffer):m==="ArrayBuffer"&&(w=new Uint8Array(c)),a([m,[...w]],c)}const x=[],b=a([f,x],c);for(const w of c)x.push(o(w));return b}case ff:{if(m)switch(m){case"BigInt":return a([m,c.toString()],c);case"Boolean":case"Number":case"String":return a([m,c.valueOf()],c)}if(e&&"toJSON"in c)return o(c.toJSON());const x=[],b=a([f,x],c);for(const w of M9(c))(t||!Vd(yc(c[w])))&&x.push([o(w),o(c[w])]);return b}case pg:return a([f,c.toISOString()],c);case gg:{const{source:x,flags:b}=c;return a([f,{source:x,flags:b}],c)}case xg:{const x=[],b=a([f,x],c);for(const[w,_]of c)(t||!(Vd(yc(w))||Vd(yc(_))))&&x.push([o(w),o(_)]);return b}case yg:{const x=[],b=a([f,x],c);for(const w of c)(t||!Vd(yc(w)))&&x.push(o(w));return b}}const{message:p}=c;return a([f,{name:m,message:p}],c)};return o},Lv=(t,{json:e,lossy:n}={})=>{const s=[];return O9(!(e||n),!!e,new Map,s)(t),s},hf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Pv(Lv(t,e)):structuredClone(t):(t,e)=>Pv(Lv(t,e));function V9(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function P9(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function L9(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||V9,s=t.options.footnoteBackLabel||P9,a=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let m=-1;for(;++m<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[m]);if(!p)continue;const x=t.all(p),b=String(p.identifier).toUpperCase(),w=co(b.toLowerCase());let _=0;const S=[],M=t.footnoteCounts.get(b);for(;M!==void 0&&++_<=M;){S.length>0&&S.push({type:"text",value:" "});let B=typeof n=="string"?n:n(m,_);typeof B=="string"&&(B={type:"text",value:B}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+w+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(m,_),className:["data-footnote-backref"]},children:Array.isArray(B)?B:[B]})}const L=x[x.length-1];if(L&&L.type==="element"&&L.tagName==="p"){const B=L.children[L.children.length-1];B&&B.type==="text"?B.value+=" ":L.children.push({type:"text",value:" "}),L.children.push(...S)}else x.push(...S);const F={type:"element",tagName:"li",properties:{id:e+"fn-"+w},children:t.wrap(x,!0)};t.patch(p,F),f.push(F)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...hf(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const Ff=(function(t){if(t==null)return F9;if(typeof t=="function")return qf(t);if(typeof t=="object")return Array.isArray(t)?z9(t):U9(t);if(typeof t=="string")return B9(t);throw new Error("Expected function, string, or object as test")});function z9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ff(t[n]);return qf(s);function s(...a){let o=-1;for(;++o<e.length;)if(e[o].apply(this,a))return!0;return!1}}function U9(t){const e=t;return qf(n);function n(s){const a=s;let o;for(o in t)if(a[o]!==e[o])return!1;return!0}}function B9(t){return qf(e);function e(n){return n&&n.type===t}}function qf(t){return e;function e(n,s,a){return!!(q9(n)&&t.call(this,n,typeof s=="number"?s:void 0,a||void 0))}}function F9(){return!0}function q9(t){return t!==null&&typeof t=="object"&&"type"in t}const z_=[],H9=!0,tp=!1,$9="skip";function U_(t,e,n,s){let a;typeof e=="function"&&typeof n!="function"?(s=n,n=e):a=e;const o=Ff(a),c=s?-1:1;f(t,void 0,[])();function f(m,p,x){const b=m&&typeof m=="object"?m:{};if(typeof b.type=="string"){const _=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(m.type+(_?"<"+_+">":""))+")"})}return w;function w(){let _=z_,S,M,L;if((!e||o(m,p,x[x.length-1]||void 0))&&(_=G9(n(m,x)),_[0]===tp))return _;if("children"in m&&m.children){const F=m;if(F.children&&_[0]!==$9)for(M=(s?F.children.length:-1)+c,L=x.concat(F);M>-1&&M<F.children.length;){const B=F.children[M];if(S=f(B,M,L)(),S[0]===tp)return S;M=typeof S[1]=="number"?S[1]:M+c}}return _}}}function G9(t){return Array.isArray(t)?t:typeof t=="number"?[H9,t]:t==null?z_:[t]}function bg(t,e,n,s){let a,o,c;typeof e=="function"&&typeof n!="function"?(o=void 0,c=e,a=n):(o=e,c=n,a=s),U_(t,o,f,a);function f(m,p){const x=p[p.length-1],b=x?x.children.indexOf(m):void 0;return c(m,b,x)}}const np={}.hasOwnProperty,Y9={};function Q9(t,e){const n=e||Y9,s=new Map,a=new Map,o=new Map,c={...R9,...n.handlers},f={all:p,applyData:K9,definitionById:s,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:c,one:m,options:n,patch:X9,wrap:J9};return bg(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?s:a,w=String(x.identifier).toUpperCase();b.has(w)||b.set(w,x)}}),f;function m(x,b){const w=x.type,_=f.handlers[w];if(np.call(f.handlers,w)&&_)return _(f,x,b);if(f.options.passThrough&&f.options.passThrough.includes(w)){if("children"in x){const{children:M,...L}=x,F=hf(L);return F.children=f.all(x),F}return hf(x)}return(f.options.unknownHandler||Z9)(f,x,b)}function p(x){const b=[];if("children"in x){const w=x.children;let _=-1;for(;++_<w.length;){const S=f.one(w[_],x);if(S){if(_&&w[_-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=zv(S.value)),!Array.isArray(S)&&S.type==="element")){const M=S.children[0];M&&M.type==="text"&&(M.value=zv(M.value))}Array.isArray(S)?b.push(...S):b.push(S)}}}return b}}function X9(t,e){t.position&&(e.position=Pj(t))}function K9(t,e){let n=e;if(t&&t.data){const s=t.data.hName,a=t.data.hChildren,o=t.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const c="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:c}}n.type==="element"&&o&&Object.assign(n.properties,hf(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function Z9(t,e){const n=e.data||{},s="value"in e&&!(np.call(n,"hProperties")||np.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function J9(t,e){const n=[];let s=-1;for(e&&n.push({type:"text",value:`
`});++s<t.length;)s&&n.push({type:"text",value:`
`}),n.push(t[s]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function zv(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Uv(t,e){const n=Q9(t,e),s=n.one(t,void 0),a=L9(n),o=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function W9(t,e){return t&&"run"in t?async function(n,s){const a=Uv(n,{file:s,...e});await t.run(a,s)}:function(n,s){return Uv(n,{file:s,...t||e})}}function Bv(t){if(t)throw t}var u0,Fv;function eR(){if(Fv)return u0;Fv=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},o=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var x=t.call(p,"constructor"),b=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!b)return!1;var w;for(w in p);return typeof w>"u"||t.call(p,w)},c=function(p,x){n&&x.name==="__proto__"?n(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},f=function(p,x){if(x==="__proto__")if(t.call(p,x)){if(s)return s(p,x).value}else return;return p[x]};return u0=function m(){var p,x,b,w,_,S,M=arguments[0],L=1,F=arguments.length,B=!1;for(typeof M=="boolean"&&(B=M,M=arguments[1]||{},L=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});L<F;++L)if(p=arguments[L],p!=null)for(x in p)b=f(M,x),w=f(p,x),M!==w&&(B&&w&&(o(w)||(_=a(w)))?(_?(_=!1,S=b&&a(b)?b:[]):S=b&&o(b)?b:{},c(M,{name:x,newValue:m(B,S,w)})):typeof w<"u"&&c(M,{name:x,newValue:w}));return M},u0}var tR=eR();const d0=pf(tR);function rp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function nR(){const t=[],e={run:n,use:s};return e;function n(...a){let o=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...a);function f(m,...p){const x=t[++o];let b=-1;if(m){c(m);return}for(;++b<a.length;)(p[b]===null||p[b]===void 0)&&(p[b]=a[b]);a=p,x?rR(x,f)(...p):c(null,...p)}}function s(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function rR(t,e){let n;return s;function s(...c){const f=t.length>c.length;let m;f&&c.push(a);try{m=t.apply(this,c)}catch(p){const x=p;if(f&&n)throw x;return a(x)}f||(m&&m.then&&typeof m.then=="function"?m.then(o,a):m instanceof Error?a(m):o(m))}function a(c,...f){n||(n=!0,e(c,...f))}function o(c){a(null,c)}}const as={basename:sR,dirname:iR,extname:aR,join:lR,sep:"/"};function sR(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');lu(t);let n=0,s=-1,a=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else s<0&&(o=!0,s=a+1);return s<0?"":t.slice(n,s)}if(e===t)return"";let c=-1,f=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else c<0&&(o=!0,c=a+1),f>-1&&(t.codePointAt(a)===e.codePointAt(f--)?f<0&&(s=a):(f=-1,s=c));return n===s?s=c:s<0&&(s=t.length),t.slice(n,s)}function iR(t){if(lu(t),t.length===0)return".";let e=-1,n=t.length,s;for(;--n;)if(t.codePointAt(n)===47){if(s){e=n;break}}else s||(s=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function aR(t){lu(t);let e=t.length,n=-1,s=0,a=-1,o=0,c;for(;e--;){const f=t.codePointAt(e);if(f===47){if(c){s=e+1;break}continue}n<0&&(c=!0,n=e+1),f===46?a<0?a=e:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===s+1?"":t.slice(a,n)}function lR(...t){let e=-1,n;for(;++e<t.length;)lu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":oR(n)}function oR(t){lu(t);const e=t.codePointAt(0)===47;let n=cR(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function cR(t,e){let n="",s=0,a=-1,o=0,c=-1,f,m;for(;++c<=t.length;){if(c<t.length)f=t.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(a===c-1||o===1))if(a!==c-1&&o===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",s=0):(n=n.slice(0,m),s=n.length-1-n.lastIndexOf("/")),a=c,o=0;continue}}else if(n.length>0){n="",s=0,a=c,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+t.slice(a+1,c):n=t.slice(a+1,c),s=c-a-1;a=c,o=0}else f===46&&o>-1?o++:o=-1}return n}function lu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const uR={cwd:dR};function dR(){return"/"}function sp(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function fR(t){if(typeof t=="string")t=new URL(t);else if(!sp(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return hR(t)}function hR(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const s=e.codePointAt(n+2);if(s===70||s===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const f0=["history","path","basename","stem","extname","dirname"];class B_{constructor(e){let n;e?sp(e)?n={path:e}:typeof e=="string"||mR(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":uR.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<f0.length;){const o=f0[s];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)f0.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?as.basename(this.path):void 0}set basename(e){m0(e,"basename"),h0(e,"basename"),this.path=as.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?as.dirname(this.path):void 0}set dirname(e){qv(this.basename,"dirname"),this.path=as.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?as.extname(this.path):void 0}set extname(e){if(h0(e,"extname"),qv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=as.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){sp(e)&&(e=fR(e)),m0(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?as.basename(this.path,this.extname):void 0}set stem(e){m0(e,"stem"),h0(e,"stem"),this.path=as.join(this.dirname||"",e+(this.extname||""))}fail(e,n,s){const a=this.message(e,n,s);throw a.fatal=!0,a}info(e,n,s){const a=this.message(e,n,s);return a.fatal=void 0,a}message(e,n,s){const a=new On(e,n,s);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function h0(t,e){if(t&&t.includes(as.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+as.sep+"`")}function m0(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function qv(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function mR(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const pR=(function(t){const s=this.constructor.prototype,a=s[t],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,s),o}),gR={}.hasOwnProperty;class vg extends pR{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=nR()}copy(){const e=new vg;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];e.use(...s)}return e.data(d0(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(x0("data",this.frozen),this.namespace[e]=n,this):gR.call(this.namespace,e)&&this.namespace[e]||void 0:e?(x0("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const a=n.call(e,...s);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Pd(e),s=this.parser||this.Parser;return p0("parse",s),s(String(n),n)}process(e,n){const s=this;return this.freeze(),p0("process",this.parser||this.Parser),g0("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,c){const f=Pd(e),m=s.parse(f);s.run(m,f,function(x,b,w){if(x||!b||!w)return p(x);const _=b,S=s.stringify(_,w);bR(S)?w.value=S:w.result=S,p(x,w)});function p(x,b){x||!b?c(x):o?o(b):n(void 0,b)}}}processSync(e){let n=!1,s;return this.freeze(),p0("processSync",this.parser||this.Parser),g0("processSync",this.compiler||this.Compiler),this.process(e,a),$v("processSync","process",n),s;function a(o,c){n=!0,Bv(o),s=c}}run(e,n,s){Hv(e),this.freeze();const a=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?o(void 0,s):new Promise(o);function o(c,f){const m=Pd(n);a.run(e,m,p);function p(x,b,w){const _=b||e;x?f(x):c?c(_):s(void 0,_,w)}}}runSync(e,n){let s=!1,a;return this.run(e,n,o),$v("runSync","run",s),a;function o(c,f){Bv(c),a=f,s=!0}}stringify(e,n){this.freeze();const s=Pd(n),a=this.compiler||this.Compiler;return g0("stringify",a),Hv(e),a(e,s)}use(e,...n){const s=this.attachers,a=this.namespace;if(x0("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(p){if(typeof p=="function")m(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[x,...b]=p;m(x,b)}else c(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function c(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(p.plugins),p.settings&&(a.settings=d0(!0,a.settings,p.settings))}function f(p){let x=-1;if(p!=null)if(Array.isArray(p))for(;++x<p.length;){const b=p[x];o(b)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function m(p,x){let b=-1,w=-1;for(;++b<s.length;)if(s[b][0]===p){w=b;break}if(w===-1)s.push([p,...x]);else if(x.length>0){let[_,...S]=x;const M=s[w][1];rp(M)&&rp(_)&&(_=d0(!0,M,_)),s[w]=[p,_,...S]}}}}const xR=new vg().freeze();function p0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function g0(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function x0(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Hv(t){if(!rp(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function $v(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Pd(t){return yR(t)?t:new B_(t)}function yR(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function bR(t){return typeof t=="string"||vR(t)}function vR(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const wR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Gv=[],Yv={allowDangerousHtml:!0},_R=/^(https?|ircs?|mailto|xmpp)$/i,NR=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function uo(t){const e=ER(t),n=TR(t);return SR(e.runSync(e.parse(n),n),t)}function ER(t){const e=t.rehypePlugins||Gv,n=t.remarkPlugins||Gv,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Yv}:Yv;return xR().use(i9).use(n).use(W9,s).use(e)}function TR(t){const e=t.children||"",n=new B_;return typeof e=="string"&&(n.value=e),n}function SR(t,e){const n=e.allowedElements,s=e.allowElement,a=e.components,o=e.disallowedElements,c=e.skipHtml,f=e.unwrapDisallowed,m=e.urlTransform||AR;for(const x of NR)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+wR+x.id,void 0);return bg(t,p),Fj(t,{Fragment:u.Fragment,components:a,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function p(x,b,w){if(x.type==="raw"&&w&&typeof b=="number")return c?w.children.splice(b,1):w.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let _;for(_ in l0)if(Object.hasOwn(l0,_)&&Object.hasOwn(x.properties,_)){const S=x.properties[_],M=l0[_];(M===null||M.includes(x.tagName))&&(x.properties[_]=m(String(S||""),_,x))}}if(x.type==="element"){let _=n?!n.includes(x.tagName):o?o.includes(x.tagName):!1;if(!_&&s&&typeof b=="number"&&(_=!s(x,b,w)),_&&w&&typeof b=="number")return f&&x.children?w.children.splice(b,1,...x.children):w.children.splice(b,1),b}}}function AR(t){const e=t.indexOf(":"),n=t.indexOf("?"),s=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||s!==-1&&e>s||_R.test(t.slice(0,e))?t:""}function Qv(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let s=0,a=n.indexOf(e);for(;a!==-1;)s++,a=n.indexOf(e,a+e.length);return s}function jR(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function CR(t,e,n){const a=Ff((n||{}).ignore||[]),o=kR(e);let c=-1;for(;++c<o.length;)U_(t,"text",f);function f(p,x){let b=-1,w;for(;++b<x.length;){const _=x[b],S=w?w.children:void 0;if(a(_,S?S.indexOf(_):void 0,w))return;w=_}if(w)return m(p,x)}function m(p,x){const b=x[x.length-1],w=o[c][0],_=o[c][1];let S=0;const L=b.children.indexOf(p);let F=!1,B=[];w.lastIndex=0;let z=w.exec(p.value);for(;z;){const G=z.index,q={index:z.index,input:z.input,stack:[...x,p]};let U=_(...z,q);if(typeof U=="string"&&(U=U.length>0?{type:"text",value:U}:void 0),U===!1?w.lastIndex=G+1:(S!==G&&B.push({type:"text",value:p.value.slice(S,G)}),Array.isArray(U)?B.push(...U):U&&B.push(U),S=G+z[0].length,F=!0),!w.global)break;z=w.exec(p.value)}return F?(S<p.value.length&&B.push({type:"text",value:p.value.slice(S)}),b.children.splice(L,1,...B)):B=[p],L+B.length}}function kR(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let s=-1;for(;++s<n.length;){const a=n[s];e.push([RR(a[0]),DR(a[1])])}return e}function RR(t){return typeof t=="string"?new RegExp(jR(t),"g"):t}function DR(t){return typeof t=="function"?t:function(){return t}}const y0="phrasing",b0=["autolink","link","image","label"];function IR(){return{transforms:[UR],enter:{literalAutolink:OR,literalAutolinkEmail:v0,literalAutolinkHttp:v0,literalAutolinkWww:v0},exit:{literalAutolink:zR,literalAutolinkEmail:LR,literalAutolinkHttp:VR,literalAutolinkWww:PR}}}function MR(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:y0,notInConstruct:b0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:y0,notInConstruct:b0},{character:":",before:"[ps]",after:"\\/",inConstruct:y0,notInConstruct:b0}]}}function OR(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function v0(t){this.config.enter.autolinkProtocol.call(this,t)}function VR(t){this.config.exit.autolinkProtocol.call(this,t)}function PR(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function LR(t){this.config.exit.autolinkEmail.call(this,t)}function zR(t){this.exit(t)}function UR(t){CR(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,BR],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),FR]],{ignore:["link","linkReference"]})}function BR(t,e,n,s,a){let o="";if(!F_(a)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!qR(n)))return!1;const c=HR(n+s);if(!c[0])return!1;const f={type:"link",title:null,url:o+e+c[0],children:[{type:"text",value:e+c[0]}]};return c[1]?[f,{type:"text",value:c[1]}]:f}function FR(t,e,n,s){return!F_(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function qR(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function HR(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],s=n.indexOf(")");const a=Qv(t,"(");let o=Qv(t,")");for(;s!==-1&&a>o;)t+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),o++;return[t,n]}function F_(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||za(n)||zf(n))&&(!e||n!==47)}q_.peek=WR;function $R(){this.buffer()}function GR(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function YR(){this.buffer()}function QR(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function XR(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ur(this.sliceSerialize(t)).toLowerCase(),n.label=e}function KR(t){this.exit(t)}function ZR(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ur(this.sliceSerialize(t)).toLowerCase(),n.label=e}function JR(t){this.exit(t)}function WR(){return"["}function q_(t,e,n,s){const a=n.createTracker(s);let o=a.move("[^");const c=n.enter("footnoteReference"),f=n.enter("reference");return o+=a.move(n.safe(n.associationId(t),{after:"]",before:o})),f(),c(),o+=a.move("]"),o}function eD(){return{enter:{gfmFootnoteCallString:$R,gfmFootnoteCall:GR,gfmFootnoteDefinitionLabelString:YR,gfmFootnoteDefinition:QR},exit:{gfmFootnoteCallString:XR,gfmFootnoteCall:KR,gfmFootnoteDefinitionLabelString:ZR,gfmFootnoteDefinition:JR}}}function tD(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:q_},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,a,o,c){const f=o.createTracker(c);let m=f.move("[^");const p=o.enter("footnoteDefinition"),x=o.enter("label");return m+=f.move(o.safe(o.associationId(s),{before:m,after:"]"})),x(),m+=f.move("]:"),s.children&&s.children.length>0&&(f.shift(4),m+=f.move((e?`
`:" ")+o.indentLines(o.containerFlow(s,f.current()),e?H_:nD))),p(),m}}function nD(t,e,n){return e===0?t:H_(t,e,n)}function H_(t,e,n){return(n?"":"    ")+t}const rD=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];$_.peek=oD;function sD(){return{canContainEols:["delete"],enter:{strikethrough:aD},exit:{strikethrough:lD}}}function iD(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:rD}],handlers:{delete:$_}}}function aD(t){this.enter({type:"delete",children:[]},t)}function lD(t){this.exit(t)}function $_(t,e,n,s){const a=n.createTracker(s),o=n.enter("strikethrough");let c=a.move("~~");return c+=n.containerPhrasing(t,{...a.current(),before:c,after:"~"}),c+=a.move("~~"),o(),c}function oD(){return"~"}function cD(t){return t.length}function uD(t,e){const n=e||{},s=(n.align||[]).concat(),a=n.stringLength||cD,o=[],c=[],f=[],m=[];let p=0,x=-1;for(;++x<t.length;){const M=[],L=[];let F=-1;for(t[x].length>p&&(p=t[x].length);++F<t[x].length;){const B=dD(t[x][F]);if(n.alignDelimiters!==!1){const z=a(B);L[F]=z,(m[F]===void 0||z>m[F])&&(m[F]=z)}M.push(B)}c[x]=M,f[x]=L}let b=-1;if(typeof s=="object"&&"length"in s)for(;++b<p;)o[b]=Xv(s[b]);else{const M=Xv(s);for(;++b<p;)o[b]=M}b=-1;const w=[],_=[];for(;++b<p;){const M=o[b];let L="",F="";M===99?(L=":",F=":"):M===108?L=":":M===114&&(F=":");let B=n.alignDelimiters===!1?1:Math.max(1,m[b]-L.length-F.length);const z=L+"-".repeat(B)+F;n.alignDelimiters!==!1&&(B=L.length+B+F.length,B>m[b]&&(m[b]=B),_[b]=B),w[b]=z}c.splice(1,0,w),f.splice(1,0,_),x=-1;const S=[];for(;++x<c.length;){const M=c[x],L=f[x];b=-1;const F=[];for(;++b<p;){const B=M[b]||"";let z="",G="";if(n.alignDelimiters!==!1){const q=m[b]-(L[b]||0),U=o[b];U===114?z=" ".repeat(q):U===99?q%2?(z=" ".repeat(q/2+.5),G=" ".repeat(q/2-.5)):(z=" ".repeat(q/2),G=z):G=" ".repeat(q)}n.delimiterStart!==!1&&!b&&F.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&B==="")&&(n.delimiterStart!==!1||b)&&F.push(" "),n.alignDelimiters!==!1&&F.push(z),F.push(B),n.alignDelimiters!==!1&&F.push(G),n.padding!==!1&&F.push(" "),(n.delimiterEnd!==!1||b!==p-1)&&F.push("|")}S.push(n.delimiterEnd===!1?F.join("").replace(/ +$/,""):F.join(""))}return S.join(`
`)}function dD(t){return t==null?"":String(t)}function Xv(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function fD(t,e,n,s){const a=n.enter("blockquote"),o=n.createTracker(s);o.move("> "),o.shift(2);const c=n.indentLines(n.containerFlow(t,o.current()),hD);return a(),c}function hD(t,e,n){return">"+(n?"":" ")+t}function mD(t,e){return Kv(t,e.inConstruct,!0)&&!Kv(t,e.notInConstruct,!1)}function Kv(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let s=-1;for(;++s<e.length;)if(t.includes(e[s]))return!0;return!1}function Zv(t,e,n,s){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&mD(n.stack,n.unsafe[a]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function pD(t,e){const n=String(t);let s=n.indexOf(e),a=s,o=0,c=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===a?++o>c&&(c=o):o=1,a=s+e.length,s=n.indexOf(e,a);return c}function gD(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function xD(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function yD(t,e,n,s){const a=xD(n),o=t.value||"",c=a==="`"?"GraveAccent":"Tilde";if(gD(t,n)){const b=n.enter("codeIndented"),w=n.indentLines(o,bD);return b(),w}const f=n.createTracker(s),m=a.repeat(Math.max(pD(o,a)+1,3)),p=n.enter("codeFenced");let x=f.move(m);if(t.lang){const b=n.enter(`codeFencedLang${c}`);x+=f.move(n.safe(t.lang,{before:x,after:" ",encode:["`"],...f.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${c}`);x+=f.move(" "),x+=f.move(n.safe(t.meta,{before:x,after:`
`,encode:["`"],...f.current()})),b()}return x+=f.move(`
`),o&&(x+=f.move(o+`
`)),x+=f.move(m),p(),x}function bD(t,e,n){return(n?"":"    ")+t}function wg(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function vD(t,e,n,s){const a=wg(n),o=a==='"'?"Quote":"Apostrophe",c=n.enter("definition");let f=n.enter("label");const m=n.createTracker(s);let p=m.move("[");return p+=m.move(n.safe(n.associationId(t),{before:p,after:"]",...m.current()})),p+=m.move("]: "),f(),!t.url||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(f=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...m.current()}))),f(),t.title&&(f=n.enter(`title${o}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),f()),c(),p}function wD(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Yc(t){return"&#x"+t.toString(16).toUpperCase()+";"}function mf(t,e,n){const s=eo(t),a=eo(e);return s===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}G_.peek=_D;function G_(t,e,n,s){const a=wD(n),o=n.enter("emphasis"),c=n.createTracker(s),f=c.move(a);let m=c.move(n.containerPhrasing(t,{after:a,before:f,...c.current()}));const p=m.charCodeAt(0),x=mf(s.before.charCodeAt(s.before.length-1),p,a);x.inside&&(m=Yc(p)+m.slice(1));const b=m.charCodeAt(m.length-1),w=mf(s.after.charCodeAt(0),b,a);w.inside&&(m=m.slice(0,-1)+Yc(b));const _=c.move(a);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:x.outside},f+m+_}function _D(t,e,n){return n.options.emphasis||"*"}function ND(t,e){let n=!1;return bg(t,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,tp}),!!((!t.depth||t.depth<3)&&fg(t)&&(e.options.setext||n))}function ED(t,e,n,s){const a=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(s);if(ND(t,n)){const x=n.enter("headingSetext"),b=n.enter("phrasing"),w=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return b(),x(),w+`
`+(a===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}const c="#".repeat(a),f=n.enter("headingAtx"),m=n.enter("phrasing");o.move(c+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(p)&&(p=Yc(p.charCodeAt(0))+p.slice(1)),p=p?c+" "+p:c,n.options.closeAtx&&(p+=" "+c),m(),f(),p}Y_.peek=TD;function Y_(t){return t.value||""}function TD(){return"<"}Q_.peek=SD;function Q_(t,e,n,s){const a=wg(n),o=a==='"'?"Quote":"Apostrophe",c=n.enter("image");let f=n.enter("label");const m=n.createTracker(s);let p=m.move("![");return p+=m.move(n.safe(t.alt,{before:p,after:"]",...m.current()})),p+=m.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(f=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":")",...m.current()}))),f(),t.title&&(f=n.enter(`title${o}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),f()),p+=m.move(")"),c(),p}function SD(){return"!"}X_.peek=AD;function X_(t,e,n,s){const a=t.referenceType,o=n.enter("imageReference");let c=n.enter("label");const f=n.createTracker(s);let m=f.move("![");const p=n.safe(t.alt,{before:m,after:"]",...f.current()});m+=f.move(p+"]["),c();const x=n.stack;n.stack=[],c=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...f.current()});return c(),n.stack=x,o(),a==="full"||!p||p!==b?m+=f.move(b+"]"):a==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function AD(){return"!"}K_.peek=jD;function K_(t,e,n){let s=t.value||"",a="`",o=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(s);)a+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++o<n.unsafe.length;){const c=n.unsafe[o],f=n.compilePattern(c);let m;if(c.atBreak)for(;m=f.exec(s);){let p=m.index;s.charCodeAt(p)===10&&s.charCodeAt(p-1)===13&&p--,s=s.slice(0,p)+" "+s.slice(m.index+1)}}return a+s+a}function jD(){return"`"}function Z_(t,e){const n=fg(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}J_.peek=CD;function J_(t,e,n,s){const a=wg(n),o=a==='"'?"Quote":"Apostrophe",c=n.createTracker(s);let f,m;if(Z_(t,n)){const x=n.stack;n.stack=[],f=n.enter("autolink");let b=c.move("<");return b+=c.move(n.containerPhrasing(t,{before:b,after:">",...c.current()})),b+=c.move(">"),f(),n.stack=x,b}f=n.enter("link"),m=n.enter("label");let p=c.move("[");return p+=c.move(n.containerPhrasing(t,{before:p,after:"](",...c.current()})),p+=c.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),p+=c.move("<"),p+=c.move(n.safe(t.url,{before:p,after:">",...c.current()})),p+=c.move(">")):(m=n.enter("destinationRaw"),p+=c.move(n.safe(t.url,{before:p,after:t.title?" ":")",...c.current()}))),m(),t.title&&(m=n.enter(`title${o}`),p+=c.move(" "+a),p+=c.move(n.safe(t.title,{before:p,after:a,...c.current()})),p+=c.move(a),m()),p+=c.move(")"),f(),p}function CD(t,e,n){return Z_(t,n)?"<":"["}W_.peek=kD;function W_(t,e,n,s){const a=t.referenceType,o=n.enter("linkReference");let c=n.enter("label");const f=n.createTracker(s);let m=f.move("[");const p=n.containerPhrasing(t,{before:m,after:"]",...f.current()});m+=f.move(p+"]["),c();const x=n.stack;n.stack=[],c=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...f.current()});return c(),n.stack=x,o(),a==="full"||!p||p!==b?m+=f.move(b+"]"):a==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function kD(){return"["}function _g(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function RD(t){const e=_g(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function DD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function e4(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function ID(t,e,n,s){const a=n.enter("list"),o=n.bulletCurrent;let c=t.ordered?DD(n):_g(n);const f=t.ordered?c==="."?")":".":RD(n);let m=e&&n.bulletLastUsed?c===n.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),e4(n)===c&&x){let b=-1;for(;++b<t.children.length;){const w=t.children[b];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(c=f),n.bulletCurrent=c;const p=n.containerFlow(t,s);return n.bulletLastUsed=c,n.bulletCurrent=o,a(),p}function MD(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function OD(t,e,n,s){const a=MD(n);let o=n.bulletCurrent||_g(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let c=o.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(c=Math.ceil(c/4)*4);const f=n.createTracker(s);f.move(o+" ".repeat(c-o.length)),f.shift(c);const m=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,f.current()),x);return m(),p;function x(b,w,_){return w?(_?"":" ".repeat(c))+b:(_?o:o+" ".repeat(c-o.length))+b}}function VD(t,e,n,s){const a=n.enter("paragraph"),o=n.enter("phrasing"),c=n.containerPhrasing(t,s);return o(),a(),c}const PD=Ff(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function LD(t,e,n,s){return(t.children.some(function(c){return PD(c)})?n.containerPhrasing:n.containerFlow).call(n,t,s)}function zD(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}t4.peek=UD;function t4(t,e,n,s){const a=zD(n),o=n.enter("strong"),c=n.createTracker(s),f=c.move(a+a);let m=c.move(n.containerPhrasing(t,{after:a,before:f,...c.current()}));const p=m.charCodeAt(0),x=mf(s.before.charCodeAt(s.before.length-1),p,a);x.inside&&(m=Yc(p)+m.slice(1));const b=m.charCodeAt(m.length-1),w=mf(s.after.charCodeAt(0),b,a);w.inside&&(m=m.slice(0,-1)+Yc(b));const _=c.move(a+a);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:x.outside},f+m+_}function UD(t,e,n){return n.options.strong||"*"}function BD(t,e,n,s){return n.safe(t.value,s)}function FD(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function qD(t,e,n){const s=(e4(n)+(n.options.ruleSpaces?" ":"")).repeat(FD(n));return n.options.ruleSpaces?s.slice(0,-1):s}const n4={blockquote:fD,break:Zv,code:yD,definition:vD,emphasis:G_,hardBreak:Zv,heading:ED,html:Y_,image:Q_,imageReference:X_,inlineCode:K_,link:J_,linkReference:W_,list:ID,listItem:OD,paragraph:VD,root:LD,strong:t4,text:BD,thematicBreak:qD};function HD(){return{enter:{table:$D,tableData:Jv,tableHeader:Jv,tableRow:YD},exit:{codeText:QD,table:GD,tableData:w0,tableHeader:w0,tableRow:w0}}}function $D(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function GD(t){this.exit(t),this.data.inTable=void 0}function YD(t){this.enter({type:"tableRow",children:[]},t)}function w0(t){this.exit(t)}function Jv(t){this.enter({type:"tableCell",children:[]},t)}function QD(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,XD));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function XD(t,e){return e==="|"?e:t}function KD(t){const e=t||{},n=e.tableCellPadding,s=e.tablePipeAlign,a=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:w,table:c,tableCell:m,tableRow:f}};function c(_,S,M,L){return p(x(_,M,L),_.align)}function f(_,S,M,L){const F=b(_,M,L),B=p([F]);return B.slice(0,B.indexOf(`
`))}function m(_,S,M,L){const F=M.enter("tableCell"),B=M.enter("phrasing"),z=M.containerPhrasing(_,{...L,before:o,after:o});return B(),F(),z}function p(_,S){return uD(_,{align:S,alignDelimiters:s,padding:n,stringLength:a})}function x(_,S,M){const L=_.children;let F=-1;const B=[],z=S.enter("table");for(;++F<L.length;)B[F]=b(L[F],S,M);return z(),B}function b(_,S,M){const L=_.children;let F=-1;const B=[],z=S.enter("tableRow");for(;++F<L.length;)B[F]=m(L[F],_,S,M);return z(),B}function w(_,S,M){let L=n4.inlineCode(_,S,M);return M.stack.includes("tableCell")&&(L=L.replace(/\|/g,"\\$&")),L}}function ZD(){return{exit:{taskListCheckValueChecked:Wv,taskListCheckValueUnchecked:Wv,paragraph:WD}}}function JD(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:e7}}}function Wv(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function WD(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const s=n.children[0];if(s&&s.type==="text"){const a=e.children;let o=-1,c;for(;++o<a.length;){const f=a[o];if(f.type==="paragraph"){c=f;break}}c===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(t)}function e7(t,e,n,s){const a=t.children[0],o=typeof t.checked=="boolean"&&a&&a.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",f=n.createTracker(s);o&&f.move(c);let m=n4.listItem(t,e,n,{...s,...f.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),m;function p(x){return x+c}}function t7(){return[IR(),eD(),sD(),HD(),ZD()]}function n7(t){return{extensions:[MR(),tD(t),iD(),KD(t),JD()]}}const r7={tokenize:c7,partial:!0},r4={tokenize:u7,partial:!0},s4={tokenize:d7,partial:!0},i4={tokenize:f7,partial:!0},s7={tokenize:h7,partial:!0},a4={name:"wwwAutolink",tokenize:l7,previous:o4},l4={name:"protocolAutolink",tokenize:o7,previous:c4},ei={name:"emailAutolink",tokenize:a7,previous:u4},xs={};function i7(){return{text:xs}}let ja=48;for(;ja<123;)xs[ja]=ei,ja++,ja===58?ja=65:ja===91&&(ja=97);xs[43]=ei;xs[45]=ei;xs[46]=ei;xs[95]=ei;xs[72]=[ei,l4];xs[104]=[ei,l4];xs[87]=[ei,a4];xs[119]=[ei,a4];function a7(t,e,n){const s=this;let a,o;return c;function c(b){return!ip(b)||!u4.call(s,s.previous)||Ng(s.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),f(b))}function f(b){return ip(b)?(t.consume(b),f):b===64?(t.consume(b),m):n(b)}function m(b){return b===46?t.check(s7,x,p)(b):b===45||b===95||Mn(b)?(o=!0,t.consume(b),m):x(b)}function p(b){return t.consume(b),a=!0,m}function x(b){return o&&a&&Un(s.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(b)):n(b)}}function l7(t,e,n){const s=this;return a;function a(c){return c!==87&&c!==119||!o4.call(s,s.previous)||Ng(s.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(r7,t.attempt(r4,t.attempt(s4,o),n),n)(c))}function o(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(c)}}function o7(t,e,n){const s=this;let a="",o=!1;return c;function c(b){return(b===72||b===104)&&c4.call(s,s.previous)&&!Ng(s.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(b),t.consume(b),f):n(b)}function f(b){if(Un(b)&&a.length<5)return a+=String.fromCodePoint(b),t.consume(b),f;if(b===58){const w=a.toLowerCase();if(w==="http"||w==="https")return t.consume(b),m}return n(b)}function m(b){return b===47?(t.consume(b),o?p:(o=!0,m)):n(b)}function p(b){return b===null||df(b)||wt(b)||za(b)||zf(b)?n(b):t.attempt(r4,t.attempt(s4,x),n)(b)}function x(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(b)}}function c7(t,e,n){let s=0;return a;function a(c){return(c===87||c===119)&&s<3?(s++,t.consume(c),a):c===46&&s===3?(t.consume(c),o):n(c)}function o(c){return c===null?n(c):e(c)}}function u7(t,e,n){let s,a,o;return c;function c(p){return p===46||p===95?t.check(i4,m,f)(p):p===null||wt(p)||za(p)||p!==45&&zf(p)?m(p):(o=!0,t.consume(p),c)}function f(p){return p===95?s=!0:(a=s,s=void 0),t.consume(p),c}function m(p){return a||s||!o?n(p):e(p)}}function d7(t,e){let n=0,s=0;return a;function a(c){return c===40?(n++,t.consume(c),a):c===41&&s<n?o(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(i4,e,o)(c):c===null||wt(c)||za(c)?e(c):(t.consume(c),a)}function o(c){return c===41&&s++,t.consume(c),a}}function f7(t,e,n){return s;function s(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(t.consume(f),s):f===38?(t.consume(f),o):f===93?(t.consume(f),a):f===60||f===null||wt(f)||za(f)?e(f):n(f)}function a(f){return f===null||f===40||f===91||wt(f)||za(f)?e(f):s(f)}function o(f){return Un(f)?c(f):n(f)}function c(f){return f===59?(t.consume(f),s):Un(f)?(t.consume(f),c):n(f)}}function h7(t,e,n){return s;function s(o){return t.consume(o),a}function a(o){return Mn(o)?n(o):e(o)}}function o4(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||wt(t)}function c4(t){return!Un(t)}function u4(t){return!(t===47||ip(t))}function ip(t){return t===43||t===45||t===46||t===95||Mn(t)}function Ng(t){let e=t.length,n=!1;for(;e--;){const s=t[e][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const m7={tokenize:_7,partial:!0};function p7(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:b7,continuation:{tokenize:v7},exit:w7}},text:{91:{name:"gfmFootnoteCall",tokenize:y7},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:g7,resolveTo:x7}}}}function g7(t,e,n){const s=this;let a=s.events.length;const o=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let c;for(;a--;){const m=s.events[a][1];if(m.type==="labelImage"){c=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return f;function f(m){if(!c||!c._balanced)return n(m);const p=Ur(s.sliceSerialize({start:c.end,end:s.now()}));return p.codePointAt(0)!==94||!o.includes(p.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function x7(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},f=[t[n+1],t[n+2],["enter",s,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",o,e],["enter",c,e],["exit",c,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",s,e]];return t.splice(n,t.length-n+1,...f),t}function y7(t,e,n){const s=this,a=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o=0,c;return f;function f(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),m}function m(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",p)}function p(b){if(o>999||b===93&&!c||b===null||b===91||wt(b))return n(b);if(b===93){t.exit("chunkString");const w=t.exit("gfmFootnoteCallString");return a.includes(Ur(s.sliceSerialize(w)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(b)}return wt(b)||(c=!0),o++,t.consume(b),b===92?x:p}function x(b){return b===91||b===92||b===93?(t.consume(b),o++,p):p(b)}}function b7(t,e,n){const s=this,a=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o,c=0,f;return m;function m(S){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(S){return S===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):n(S)}function x(S){if(c>999||S===93&&!f||S===null||S===91||wt(S))return n(S);if(S===93){t.exit("chunkString");const M=t.exit("gfmFootnoteDefinitionLabelString");return o=Ur(s.sliceSerialize(M)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),w}return wt(S)||(f=!0),c++,t.consume(S),S===92?b:x}function b(S){return S===91||S===92||S===93?(t.consume(S),c++,x):x(S)}function w(S){return S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),a.includes(o)||a.push(o),st(t,_,"gfmFootnoteDefinitionWhitespace")):n(S)}function _(S){return e(S)}}function v7(t,e,n){return t.check(au,e,t.attempt(m7,e,n))}function w7(t){t.exit("gfmFootnoteDefinition")}function _7(t,e,n){const s=this;return st(t,a,"gfmFootnoteDefinitionIndent",5);function a(o){const c=s.events[s.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?e(o):n(o)}}function N7(t){let n=(t||{}).singleTilde;const s={name:"strikethrough",tokenize:o,resolveAll:a};return n==null&&(n=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function a(c,f){let m=-1;for(;++m<c.length;)if(c[m][0]==="enter"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._close){let p=m;for(;p--;)if(c[p][0]==="exit"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._open&&c[m][1].end.offset-c[m][1].start.offset===c[p][1].end.offset-c[p][1].start.offset){c[m][1].type="strikethroughSequence",c[p][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},c[p][1].start),end:Object.assign({},c[m][1].end)},b={type:"strikethroughText",start:Object.assign({},c[p][1].end),end:Object.assign({},c[m][1].start)},w=[["enter",x,f],["enter",c[p][1],f],["exit",c[p][1],f],["enter",b,f]],_=f.parser.constructs.insideSpan.null;_&&ur(w,w.length,0,Uf(_,c.slice(p+1,m),f)),ur(w,w.length,0,[["exit",b,f],["enter",c[m][1],f],["exit",c[m][1],f],["exit",x,f]]),ur(c,p-1,m-p+3,w),m=p+w.length-2;break}}for(m=-1;++m<c.length;)c[m][1].type==="strikethroughSequenceTemporary"&&(c[m][1].type="data");return c}function o(c,f,m){const p=this.previous,x=this.events;let b=0;return w;function w(S){return p===126&&x[x.length-1][1].type!=="characterEscape"?m(S):(c.enter("strikethroughSequenceTemporary"),_(S))}function _(S){const M=eo(p);if(S===126)return b>1?m(S):(c.consume(S),b++,_);if(b<2&&!n)return m(S);const L=c.exit("strikethroughSequenceTemporary"),F=eo(S);return L._open=!F||F===2&&!!M,L._close=!M||M===2&&!!F,f(S)}}}class E7{constructor(){this.map=[]}add(e,n,s){T7(this,e,n,s)}consume(e){if(this.map.sort(function(o,c){return o[0]-c[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];s.push(e.slice()),e.length=0;let a=s.pop();for(;a;){for(const o of a)e.push(o);a=s.pop()}this.map.length=0}}function T7(t,e,n,s){let a=0;if(!(n===0&&s.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...s);return}a+=1}t.map.push([e,n,s])}}function S7(t,e){let n=!1;const s=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&s.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=s.length-1;s[o]=s[o]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return s}function A7(){return{flow:{null:{name:"table",tokenize:j7,resolveAll:C7}}}}function j7(t,e,n){const s=this;let a=0,o=0,c;return f;function f(A){let D=s.events.length-1;for(;D>-1;){const ce=s.events[D][1].type;if(ce==="lineEnding"||ce==="linePrefix")D--;else break}const P=D>-1?s.events[D][1].type:null,k=P==="tableHead"||P==="tableRow"?U:m;return k===U&&s.parser.lazy[s.now().line]?n(A):k(A)}function m(A){return t.enter("tableHead"),t.enter("tableRow"),p(A)}function p(A){return A===124||(c=!0,o+=1),x(A)}function x(A){return A===null?n(A):Me(A)?o>1?(o=0,s.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),_):n(A):Ke(A)?st(t,x,"whitespace")(A):(o+=1,c&&(c=!1,a+=1),A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),c=!0,x):(t.enter("data"),b(A)))}function b(A){return A===null||A===124||wt(A)?(t.exit("data"),x(A)):(t.consume(A),A===92?w:b)}function w(A){return A===92||A===124?(t.consume(A),b):b(A)}function _(A){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(A):(t.enter("tableDelimiterRow"),c=!1,Ke(A)?st(t,S,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):S(A))}function S(A){return A===45||A===58?L(A):A===124?(c=!0,t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),M):q(A)}function M(A){return Ke(A)?st(t,L,"whitespace")(A):L(A)}function L(A){return A===58?(o+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),F):A===45?(o+=1,F(A)):A===null||Me(A)?G(A):q(A)}function F(A){return A===45?(t.enter("tableDelimiterFiller"),B(A)):q(A)}function B(A){return A===45?(t.consume(A),B):A===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),z):(t.exit("tableDelimiterFiller"),z(A))}function z(A){return Ke(A)?st(t,G,"whitespace")(A):G(A)}function G(A){return A===124?S(A):A===null||Me(A)?!c||a!==o?q(A):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(A)):q(A)}function q(A){return n(A)}function U(A){return t.enter("tableRow"),R(A)}function R(A){return A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),R):A===null||Me(A)?(t.exit("tableRow"),e(A)):Ke(A)?st(t,R,"whitespace")(A):(t.enter("data"),j(A))}function j(A){return A===null||A===124||wt(A)?(t.exit("data"),R(A)):(t.consume(A),A===92?O:j)}function O(A){return A===92||A===124?(t.consume(A),j):j(A)}}function C7(t,e){let n=-1,s=!0,a=0,o=[0,0,0,0],c=[0,0,0,0],f=!1,m=0,p,x,b;const w=new E7;for(;++n<t.length;){const _=t[n],S=_[1];_[0]==="enter"?S.type==="tableHead"?(f=!1,m!==0&&(e2(w,e,m,p,x),x=void 0,m=0),p={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},w.add(n,0,[["enter",p,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(s=!0,b=void 0,o=[0,0,0,0],c=[0,n+1,0,0],f&&(f=!1,x={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},w.add(n,0,[["enter",x,e]])),a=S.type==="tableDelimiterRow"?2:x?3:1):a&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(s=!1,c[2]===0&&(o[1]!==0&&(c[0]=c[1],b=Ld(w,e,o,a,void 0,b),o=[0,0,0,0]),c[2]=n)):S.type==="tableCellDivider"&&(s?s=!1:(o[1]!==0&&(c[0]=c[1],b=Ld(w,e,o,a,void 0,b)),o=c,c=[o[1],n,0,0])):S.type==="tableHead"?(f=!0,m=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(m=n,o[1]!==0?(c[0]=c[1],b=Ld(w,e,o,a,n,b)):c[1]!==0&&(b=Ld(w,e,c,a,n,b)),a=0):a&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(c[3]=n)}for(m!==0&&e2(w,e,m,p,x),w.consume(e.events),n=-1;++n<e.events.length;){const _=e.events[n];_[0]==="enter"&&_[1].type==="table"&&(_[1]._align=S7(e.events,n))}return t}function Ld(t,e,n,s,a,o){const c=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(o.end=Object.assign({},ql(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const m=ql(e.events,n[1]);if(o={type:c,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const p=ql(e.events,n[2]),x=ql(e.events,n[3]),b={type:f,start:Object.assign({},p),end:Object.assign({},x)};if(t.add(n[2],0,[["enter",b,e]]),s!==2){const w=e.events[n[2]],_=e.events[n[3]];if(w[1].end=Object.assign({},_[1].end),w[1].type="chunkText",w[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,M=n[3]-n[2]-1;t.add(S,M,[])}}t.add(n[3]+1,0,[["exit",b,e]])}return a!==void 0&&(o.end=Object.assign({},ql(e.events,a)),t.add(a,0,[["exit",o,e]]),o=void 0),o}function e2(t,e,n,s,a){const o=[],c=ql(e.events,n);a&&(a.end=Object.assign({},c),o.push(["exit",a,e])),s.end=Object.assign({},c),o.push(["exit",s,e]),t.add(n+1,0,o)}function ql(t,e){const n=t[e],s=n[0]==="enter"?"start":"end";return n[1][s]}const k7={name:"tasklistCheck",tokenize:D7};function R7(){return{text:{91:k7}}}function D7(t,e,n){const s=this;return a;function a(m){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),o)}function o(m){return wt(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),c):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),c):n(m)}function c(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),f):n(m)}function f(m){return Me(m)?e(m):Ke(m)?t.check({tokenize:I7},e,n)(m):n(m)}}function I7(t,e,n){return st(t,s,"whitespace");function s(a){return a===null?n(a):e(a)}}function M7(t){return w_([i7(),p7(),N7(t),A7(),R7()])}const O7={};function fo(t){const e=this,n=t||O7,s=e.data(),a=s.micromarkExtensions||(s.micromarkExtensions=[]),o=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),c=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);a.push(M7(n)),o.push(t7()),c.push(n7(n))}function V7({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,canManageNotices:a,onDelete:o,onManagePermissions:c,onEdit:f}){const[m,p]=Y.useState(!1),[x,b]=Y.useState(t.content),w=a,_=a,S=a,M=q=>q?(q.toDate?q.toDate():new Date(q)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",L=()=>t.createdByRoll==="2405225"?"admin":"co-leader",F=()=>{b(t.content),p(!0)},B=()=>{p(!1),b(t.content)},z=async()=>{if(!x.trim()){alert("Please enter content for the notice");return}await f(t.id,{content:x.trim()})&&p(!1)},G=L();return m?u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Notice"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:z,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(Ws,{className:"w-4 h-4"}),"Save"]}),u.jsxs("button",{onClick:B,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[u.jsx(fn,{className:"w-4 h-4"}),"Cancel"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notice Content (Markdown supported)"}),u.jsx("textarea",{value:x,onChange:q=>b(q.target.value),rows:6,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:`Enter your notice content here. You can use Markdown formatting:\r
\r
**Bold text**\r
*Italic text*\r
[Link text](https://example.com)\r
- List item\r
> Quote\r
\`code\``})]}),u.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:u.jsxs("p",{className:"text-sm text-blue-700",children:[u.jsx("strong",{children:"Tip:"})," Use Markdown formatting for rich text. Links will automatically open in new tabs."]})})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-2xl flex items-center justify-center",children:u.jsx(Gs,{className:"w-5 h-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Notice"}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(zr,{className:"w-3 h-3"}),u.jsxs("span",{children:["By ",t.createdBy]}),G==="admin"&&u.jsx(Jn,{className:"w-3 h-3 text-yellow-500",title:"Admin"}),G==="co-leader"&&t.createdByRoll!=="2405225"&&u.jsx(wn,{className:"w-3 h-3 text-purple-500",title:"Co-Leader"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-gray-100",children:t.isPublic?u.jsxs(u.Fragment,{children:[u.jsx(hp,{className:"w-3 h-3 text-green-600"}),u.jsx("span",{className:"text-green-700",children:"Public"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Qt,{className:"w-3 h-3 text-blue-600"}),u.jsxs("span",{className:"text-blue-700",children:[t.allowedUsers?.length||0," users"]})]})}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx($s,{className:"w-3 h-3"}),u.jsx("span",{children:M(t.createdAt)})]}),_&&u.jsx("button",{onClick:F,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Notice",children:u.jsx(Ba,{className:"w-4 h-4"})}),S&&u.jsx("button",{onClick:c,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:u.jsx(Fa,{className:"w-4 h-4"})}),w&&u.jsx("button",{onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Notice",children:u.jsx(hs,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"prose prose-sm max-w-none",children:u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:q,children:U})=>u.jsx("a",{href:q,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:U}),p:({children:q})=>u.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:q}),h1:({children:q})=>u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:q}),h2:({children:q})=>u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:q}),h3:({children:q})=>u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:q}),ul:({children:q})=>u.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-3 space-y-1",children:q}),ol:({children:q})=>u.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-3 space-y-1",children:q}),li:({children:q})=>u.jsx("li",{className:"text-gray-700",children:q}),blockquote:({children:q})=>u.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 text-gray-700 italic mb-3",children:q}),code:({children:q,className:U})=>U?u.jsx("code",{className:"block bg-gray-100 text-gray-800 p-3 rounded text-sm font-mono whitespace-pre-wrap mb-3",children:q}):u.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:q}),strong:({children:q})=>u.jsx("strong",{className:"font-bold text-gray-900",children:q}),em:({children:q})=>u.jsx("em",{className:"italic text-gray-700",children:q})},children:t.content})}),a&&!t.isPublic&&t.allowedUsers?.length>0&&u.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:u.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[u.jsx(ms,{className:"w-4 h-4"}),u.jsxs("span",{children:["Visible to: ",t.allowedUsers.length," selected students"]})]})})]})}function P7({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:a,canManageNotices:o,onDelete:c,onManagePermissions:f,onToggleItem:m,onEdit:p}){const[x,b]=Y.useState(!1),[w,_]=Y.useState(t.content),[S,M]=Y.useState(t.meta.items||[]),[L,F]=Y.useState(t.meta.isAnonymous||!1),[B,z]=Y.useState(null),G=o,q=o,U=o,R=t.meta.isAnonymous||!1,j=C=>C?(C.toDate?C.toDate():new Date(C)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",O=C=>{const ae=n.find(be=>be.rollNo===C);return ae?ae.name:C},A=C=>{if(R)return[];const ae=t.meta.items[C];return!ae.completedBy||ae.completedBy.length===0?[]:ae.completedBy.map(be=>O(be))},D=C=>{const ae=t.meta.items[C];return R?ae.anonymousCompletions||0:ae.completedBy?.length||0},P=C=>{if(R)return((t.meta.userCompletions||{})[e]||[]).includes(C);{const ae=t.meta.items[C];return ae.completedBy&&ae.completedBy.includes(e)}},k=()=>{const C=t.meta.items?.length||0;let ae=0;for(let be=0;be<C;be++)P(be)&&ae++;return{totalItems:C,completedItems:ae}},ce=C=>{R||z(B===C?null:C)},pe=()=>{_(t.content),M([...t.meta.items]),F(t.meta.isAnonymous||!1),b(!0)},K=()=>{b(!1),_(t.content),M([...t.meta.items]),F(t.meta.isAnonymous||!1)},ue=async()=>{if(!w.trim()){alert("Please enter content for the checklist");return}if(S.length===0||S.every(ae=>!ae.text.trim())){alert("Please add at least one checklist item");return}await p(t.id,{content:w.trim(),meta:{...t.meta,items:S.filter(ae=>ae.text.trim()),isAnonymous:L}})&&b(!1)},ne=()=>{M([...S,{text:"",completedBy:[],anonymousCompletions:0}])},J=(C,ae)=>{const be=[...S];be[C]={...be[C],text:ae},M(be)},N=C=>{if(S.length<=1){alert("Checklist must have at least 1 item");return}M(S.filter((ae,be)=>be!==C))},{totalItems:X,completedItems:Z}=k();return x?u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Checklist"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:ue,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(Ws,{className:"w-4 h-4"}),"Save"]}),u.jsxs("button",{onClick:K,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[u.jsx(fn,{className:"w-4 h-4"}),"Cancel"]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Description (Markdown supported)"}),u.jsx("textarea",{value:w,onChange:C=>_(C.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 font-mono text-sm",placeholder:"Enter checklist description. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous completion:"}),u.jsxs("button",{type:"button",onClick:()=>F(!L),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${L?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[L?u.jsx(Vi,{className:"w-4 h-4"}):u.jsx(Oa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:L?"Anonymous":"Show names"})]})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Items"}),S.map((C,ae)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:C.text,onChange:be=>J(ae,be.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:`Item ${ae+1}`}),S.length>1&&u.jsx("button",{onClick:()=>N(ae),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:u.jsx(fn,{className:"w-4 h-4"})})]},ae)),u.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-4 py-2 text-green-600 hover:bg-green-100 rounded-xl transition-colors",children:[u.jsx(os,{className:"w-4 h-4"}),"Add Item"]})]})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-2xl flex items-center justify-center",children:u.jsx(mp,{className:"w-5 h-5 text-green-600"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Checklist"}),R&&u.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:"Anonymous"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(zr,{className:"w-3 h-3"}),u.jsxs("span",{children:["By ",t.createdBy]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[Z,"/",X," completed"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx($s,{className:"w-3 h-3"}),u.jsx("span",{children:j(t.createdAt)})]}),q&&u.jsx("button",{onClick:pe,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Checklist",children:u.jsx(Ba,{className:"w-4 h-4"})}),U&&u.jsx("button",{onClick:f,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:u.jsx(Fa,{className:"w-4 h-4"})}),G&&u.jsx("button",{onClick:()=>c(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Checklist",children:u.jsx(hs,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:C,children:ae})=>u.jsx("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:ae}),p:({children:C})=>u.jsx("p",{className:"text-gray-700 leading-relaxed",children:C}),strong:({children:C})=>u.jsx("strong",{className:"font-bold text-gray-900",children:C}),em:({children:C})=>u.jsx("em",{className:"italic",children:C}),ul:({children:C})=>u.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:C}),ol:({children:C})=>u.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:C}),code:({children:C,className:ae})=>ae?u.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:C}):u.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:C})},children:t.content})}),u.jsx("div",{className:"space-y-3",children:t.meta.items?.map((C,ae)=>{const be=P(ae),oe=A(ae),ve=D(ae);return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:`
                  flex items-center justify-between p-3 rounded-xl border-2 transition-all cursor-pointer
                  ${be?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 hover:border-green-300"}
                `,onClick:()=>m(ae),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`
                    w-6 h-6 rounded-lg border-2 flex items-center justify-center
                    ${be?"bg-green-500 border-green-500 text-white":"border-gray-300"}
                  `,children:be&&u.jsx(to,{className:"w-4 h-4"})}),u.jsx("span",{className:`${be?"text-green-700 font-medium":"text-gray-700"}`,children:C.text})]}),ve>0&&u.jsxs("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full",children:[ve," completed"]})]}),!R&&oe.length>0&&u.jsxs("div",{className:"ml-9",children:[u.jsxs("button",{onClick:()=>ce(ae),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-800 transition-colors",children:[u.jsx(ms,{className:"w-4 h-4"}),u.jsxs("span",{children:[oe.length," completed by"]}),B===ae?u.jsx(fp,{className:"w-4 h-4"}):u.jsx(gf,{className:"w-4 h-4"})]}),B===ae&&u.jsx("div",{className:"mt-2 p-3 bg-green-50 rounded-lg border border-green-200",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:oe.map((Te,it)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:Te},it))})})]}),R&&ve>0&&u.jsx("div",{className:"ml-9",children:u.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[u.jsx(Vi,{className:"w-4 h-4"}),u.jsxs("span",{children:[ve," anonymous completion",ve>1?"s":""]})]})})]},ae)})})]})}function L7({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:a,canManageNotices:o,onDelete:c,onManagePermissions:f,onVote:m,onEdit:p}){const[x,b]=Y.useState([]),[w,_]=Y.useState(!1),[S,M]=Y.useState(t.content),[L,F]=Y.useState(t.meta.options||[]),[B,z]=Y.useState(t.meta.allowMultiple||!1),[G,q]=Y.useState(t.meta.isAnonymous||!1),[U,R]=Y.useState(null),j=o,O=o,A=o,D=t.meta.isAnonymous||!1;Y.useEffect(()=>{if(t?.meta?.options)if(D){const ve=(t.meta.userVotes||{})[e]||[];b(ve)}else{const oe=[];t.meta.options.forEach((ve,Te)=>{ve.votes&&ve.votes.includes(e)&&oe.push(Te)}),b(oe)}},[t,e,D]);const P=oe=>oe?(oe.toDate?oe.toDate():new Date(oe)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",k=()=>D?t.meta.options?.reduce((oe,ve)=>oe+(ve.anonymousVotes||0),0)||0:t.meta.options?.reduce((oe,ve)=>oe+(ve.votes?.length||0),0)||0,ce=oe=>{const ve=t.meta.options[oe];return D?ve.anonymousVotes||0:ve.votes?.length||0},pe=oe=>{const ve=n.find(Te=>Te.rollNo===oe);return ve?ve.name:oe},K=oe=>{if(D)return[];const ve=t.meta.options[oe];return!ve.votes||ve.votes.length===0?[]:ve.votes.map(Te=>pe(Te))},ue=oe=>{let ve;t.meta.allowMultiple?x.includes(oe)?ve=x.filter(Te=>Te!==oe):ve=[...x,oe]:ve=x.includes(oe)?[]:[oe],b(ve),m(ve,e)},ne=oe=>{D||R(U===oe?null:oe)},J=()=>{M(t.content),F([...t.meta.options]),z(t.meta.allowMultiple||!1),q(t.meta.isAnonymous||!1),_(!0)},N=()=>{_(!1),M(t.content),F([...t.meta.options]),z(t.meta.allowMultiple||!1),q(t.meta.isAnonymous||!1)},X=async()=>{if(!S.trim()){alert("Please enter a question");return}if(L.length<2||L.some(ve=>!ve.text.trim())){alert("Please add at least 2 options with text");return}await p(t.id,{content:S.trim(),meta:{...t.meta,options:L,allowMultiple:B,isAnonymous:G}})&&_(!1)},Z=()=>{F([...L,{text:"",votes:[],anonymousVotes:0}])},C=(oe,ve)=>{const Te=[...L];Te[oe]={...Te[oe],text:ve},F(Te)},ae=oe=>{if(L.length<=2){alert("Poll must have at least 2 options");return}F(L.filter((ve,Te)=>Te!==oe))},be=k();return w?u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Poll"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:X,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(Ws,{className:"w-4 h-4"}),"Save"]}),u.jsxs("button",{onClick:N,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[u.jsx(fn,{className:"w-4 h-4"}),"Cancel"]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Poll Question (Markdown supported)"}),u.jsx("textarea",{value:S,onChange:oe=>M(oe.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter your poll question. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Multiple selections:"}),u.jsxs("button",{type:"button",onClick:()=>z(!B),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${B?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[B?u.jsx(o2,{className:"w-4 h-4"}):u.jsx(l2,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:B?"Enabled":"Disabled"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous voting:"}),u.jsxs("button",{type:"button",onClick:()=>q(!G),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${G?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[G?u.jsx(Vi,{className:"w-4 h-4"}):u.jsx(Oa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:G?"Anonymous":"Show names"})]})]})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[L.map((oe,ve)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:oe.text,onChange:Te=>C(ve,Te.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Option ${ve+1}`}),L.length>2&&u.jsx("button",{onClick:()=>ae(ve),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:u.jsx(fn,{className:"w-4 h-4"})})]},ve)),u.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[u.jsx(os,{className:"w-4 h-4"}),"Add Option"]})]})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-2xl flex items-center justify-center",children:u.jsx(dp,{className:"w-5 h-5 text-purple-600"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Poll"}),t.meta.allowMultiple&&u.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:"Multi-select"}),D&&u.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:"Anonymous"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(zr,{className:"w-3 h-3"}),u.jsxs("span",{children:["By ",t.createdBy]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[be," votes"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx($s,{className:"w-3 h-3"}),u.jsx("span",{children:P(t.createdAt)})]}),O&&u.jsx("button",{onClick:J,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Poll",children:u.jsx(Ba,{className:"w-4 h-4"})}),A&&u.jsx("button",{onClick:f,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:u.jsx(Fa,{className:"w-4 h-4"})}),j&&u.jsx("button",{onClick:()=>c(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Poll",children:u.jsx(hs,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:oe,children:ve})=>u.jsx("a",{href:oe,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:ve}),p:({children:oe})=>u.jsx("p",{className:"text-gray-700 leading-relaxed font-medium",children:oe}),strong:({children:oe})=>u.jsx("strong",{className:"font-bold text-gray-900",children:oe}),em:({children:oe})=>u.jsx("em",{className:"italic",children:oe}),code:({children:oe,className:ve})=>ve?u.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:oe}):u.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:oe})},children:t.content})}),u.jsx("div",{className:"space-y-3",children:t.meta.options?.map((oe,ve)=>{const Te=ce(ve),it=be>0?Te/be*100:0,lt=x.includes(ve),_e=K(ve);return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>ue(ve),className:`
                  w-full p-3 rounded-xl border-2 transition-all text-left
                  ${lt?"bg-purple-50 border-purple-300":"bg-gray-50 border-gray-200 hover:border-purple-300"}
                `,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:`font-medium ${lt?"text-purple-700":"text-gray-700"}`,children:oe.text}),u.jsxs("span",{className:"text-sm text-gray-600",children:[Te," (",it.toFixed(1),"%)"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all ${lt?"bg-purple-500":"bg-gray-400"}`,style:{width:`${it}%`}})})]}),!D&&_e.length>0&&u.jsxs("div",{className:"ml-4",children:[u.jsxs("button",{onClick:()=>ne(ve),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-800 transition-colors",children:[u.jsx(ms,{className:"w-4 h-4"}),u.jsxs("span",{children:[_e.length," voter",_e.length>1?"s":""]}),U===ve?u.jsx(fp,{className:"w-4 h-4"}):u.jsx(gf,{className:"w-4 h-4"})]}),U===ve&&u.jsx("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:_e.map((dt,bt)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:dt},bt))})})]}),D&&Te>0&&u.jsx("div",{className:"ml-4",children:u.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[u.jsx(Vi,{className:"w-4 h-4"}),u.jsxs("span",{children:[Te," anonymous vote",Te>1?"s":""]})]})})]},ve)})}),x.length>0&&u.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:u.jsx("div",{className:"text-sm text-purple-700 text-center",children:t.meta.allowMultiple?u.jsxs(u.Fragment,{children:["You voted for: ",u.jsxs("strong",{children:[x.length," option",x.length>1?"s":""]})]}):u.jsxs(u.Fragment,{children:["You voted for: ",u.jsx("strong",{children:t.meta.options[x[0]]?.text})]})})})]})}function z7({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,canManageNotices:a,onDelete:o,onManagePermissions:c,onEdit:f}){const[m,p]=Y.useState(!1),[x,b]=Y.useState(t.content),[w,_]=Y.useState(t.meta.reminderDate),S=a,M=a,L=a,F=R=>R?(R.toDate?R.toDate():new Date(R)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",B=R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",z=()=>t.meta.reminderDate?new Date(t.meta.reminderDate)<new Date:!1,G=()=>{b(t.content),_(t.meta.reminderDate),p(!0)},q=()=>{p(!1),b(t.content),_(t.meta.reminderDate)},U=async()=>{if(!x.trim()){alert("Please enter content for the reminder");return}if(!w){alert("Please set a reminder date");return}await f(t.id,{content:x.trim(),meta:{...t.meta,reminderDate:w}})&&p(!1)};return m?u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Reminder"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:U,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(Ws,{className:"w-4 h-4"}),"Save"]}),u.jsxs("button",{onClick:q,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[u.jsx(fn,{className:"w-4 h-4"}),"Cancel"]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Content (Markdown supported)"}),u.jsx("textarea",{value:x,onChange:R=>b(R.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 font-mono text-sm",placeholder:"Enter reminder content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Date & Time"}),u.jsx("input",{type:"datetime-local",value:w,onChange:R=>_(R.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${z()?"bg-red-100":"bg-orange-100"}`,children:u.jsx(Dc,{className:`w-5 h-5 ${z()?"text-red-600":"text-orange-600"}`})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Reminder"}),z()&&u.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Past Due"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(zr,{className:"w-3 h-3"}),u.jsxs("span",{children:["By ",t.createdBy]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx($s,{className:"w-3 h-3"}),u.jsx("span",{children:F(t.createdAt)})]}),M&&u.jsx("button",{onClick:G,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Reminder",children:u.jsx(Ba,{className:"w-4 h-4"})}),L&&u.jsx("button",{onClick:c,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:u.jsx(Fa,{className:"w-4 h-4"})}),S&&u.jsx("button",{onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Reminder",children:u.jsx(hs,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:R,children:j})=>u.jsx("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:j}),p:({children:R})=>u.jsx("p",{className:"text-gray-700 leading-relaxed",children:R}),strong:({children:R})=>u.jsx("strong",{className:"font-bold text-gray-900",children:R}),em:({children:R})=>u.jsx("em",{className:"italic",children:R}),ul:({children:R})=>u.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:R}),ol:({children:R})=>u.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:R}),code:({children:R,className:j})=>j?u.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:R}):u.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:R})},children:t.content})}),u.jsx("div",{className:`p-4 rounded-xl border-2 ${z()?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Dc,{className:`w-4 h-4 ${z()?"text-red-600":"text-orange-600"}`}),u.jsx("span",{className:`text-sm font-medium ${z()?"text-red-700":"text-orange-700"}`,children:z()?"Was due:":"Reminder set for:"}),u.jsx("span",{className:`text-sm font-bold ${z()?"text-red-800":"text-orange-800"}`,children:B(t.meta.reminderDate)})]})})]})}function U7({notice:t,currentUser:e,students:n,isAdmin:s,isCoLeader:a,canManageNotices:o,onDelete:c,onManagePermissions:f,onToggle:m,onEdit:p}){const[x,b]=Y.useState(!1),[w,_]=Y.useState(t.content),[S,M]=Y.useState(t.meta.dueDate),L=o,F=o,B=o,z=k=>k?(k.toDate?k.toDate():new Date(k)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",G=k=>k?new Date(k).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",q=k=>{const ce=n.find(pe=>pe.rollNo===k);return ce?ce.name:k},U=t.meta.completedBy&&t.meta.completedBy.includes(e),R=t.meta.completedBy?.length||0,j=t.meta.completedBy?.map(k=>q(k))||[],O=()=>t.meta.dueDate?new Date(t.meta.dueDate)<new Date:!1,A=()=>{_(t.content),M(t.meta.dueDate),b(!0)},D=()=>{b(!1),_(t.content),M(t.meta.dueDate)},P=async()=>{if(!w.trim()){alert("Please enter content for the todo");return}if(!S){alert("Please set a due date");return}await p(t.id,{content:w.trim(),meta:{...t.meta,dueDate:S}})&&b(!1)};return x?u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Todo"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:P,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(Ws,{className:"w-4 h-4"}),"Save"]}),u.jsxs("button",{onClick:D,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[u.jsx(fn,{className:"w-4 h-4"}),"Cancel"]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Todo Content (Markdown supported)"}),u.jsx("textarea",{value:w,onChange:k=>_(k.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Enter todo content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date & Time"}),u.jsx("input",{type:"datetime-local",value:S,onChange:k=>M(k.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${U?"bg-green-100":O()?"bg-red-100":"bg-indigo-100"}`,children:u.jsx(jr,{className:`w-5 h-5 ${U?"text-green-600":O()?"text-red-600":"text-indigo-600"}`})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Todo"}),U&&u.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Completed"}),!U&&O()&&u.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Past Due"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(zr,{className:"w-3 h-3"}),u.jsxs("span",{children:["By ",t.createdBy]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[R," completed"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx($s,{className:"w-3 h-3"}),u.jsx("span",{children:z(t.createdAt)})]}),F&&u.jsx("button",{onClick:A,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Todo",children:u.jsx(Ba,{className:"w-4 h-4"})}),B&&u.jsx("button",{onClick:f,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:u.jsx(Fa,{className:"w-4 h-4"})}),L&&u.jsx("button",{onClick:()=>c(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Todo",children:u.jsx(hs,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:k,children:ce})=>u.jsx("a",{href:k,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:ce}),h1:({children:k})=>u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:k}),h2:({children:k})=>u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:k}),h3:({children:k})=>u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:k}),p:({children:k})=>u.jsx("p",{className:"text-gray-700 leading-relaxed",children:k}),strong:({children:k})=>u.jsx("strong",{className:"font-bold text-gray-900",children:k}),em:({children:k})=>u.jsx("em",{className:"italic",children:k}),ul:({children:k})=>u.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:k}),ol:({children:k})=>u.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:k}),code:({children:k,className:ce})=>ce?u.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:k}):u.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:k})},children:t.content})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:m,className:`
            w-full flex items-center justify-center gap-3 p-3 rounded-xl border-2 transition-all
            ${U?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 hover:border-indigo-300 text-gray-700"}
          `,children:[u.jsx("div",{className:`
            w-6 h-6 rounded-lg border-2 flex items-center justify-center
            ${U?"bg-green-500 border-green-500 text-white":"border-gray-300"}
          `,children:U&&u.jsx(to,{className:"w-4 h-4"})}),u.jsx("span",{className:"font-medium",children:U?"Mark as Incomplete":"Mark as Complete"})]}),u.jsx("div",{className:`p-3 rounded-xl border-2 ${O()&&!U?"bg-red-50 border-red-200":U?"bg-green-50 border-green-200":"bg-indigo-50 border-indigo-200"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(jr,{className:`w-4 h-4 ${O()&&!U?"text-red-600":U?"text-green-600":"text-indigo-600"}`}),u.jsx("span",{className:`text-sm font-medium ${O()&&!U?"text-red-700":U?"text-green-700":"text-indigo-700"}`,children:O()&&!U?"Was due:":"Due:"}),u.jsx("span",{className:`text-sm font-bold ${O()&&!U?"text-red-800":U?"text-green-800":"text-indigo-800"}`,children:G(t.meta.dueDate)})]})}),j.length>0&&u.jsxs("div",{className:"p-3 bg-green-50 rounded-xl border border-green-200",children:[u.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"Completed by:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((k,ce)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:k},ce))})]})]})]})}function B7({notice:t,currentUser:e,isAdmin:n,isCoLeader:s,onDelete:a,onRequestEdit:o}){const c=t.meta.assessments||[{subject:t.meta.subject,assessmentName:t.meta.assessmentName,assessmentType:t.meta.assessmentType,date:t.meta.date}],f=p=>{const x=p?.toLowerCase()||"";return x.includes("ca")?"bg-orange-100 text-orange-700 border-orange-200":x.includes("sem")?"bg-red-100 text-red-700 border-red-200":x.includes("quiz")?"bg-blue-100 text-blue-700 border-blue-200":x.includes("assign")?"bg-green-100 text-green-700 border-green-200":"bg-purple-100 text-purple-700 border-purple-200"},m=c.length>0?f(c[0].assessmentType):"bg-purple-100 text-purple-700 border-purple-200";return u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:`px-4 py-2 border-b flex justify-between items-center ${m.replace(/-100/,"-50").replace(/-700/,"-900")}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full uppercase border ${m}`,children:"Assessment"}),u.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Posted by ",t.createdBy]})]}),(n||s&&t.createdByRoll===e)&&u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>o(t),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:u.jsx(yT,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>a(t.id),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:u.jsx(hs,{className:"w-3.5 h-3.5"})})]})]}),u.jsxs("div",{className:"p-0",children:[c.map((p,x)=>{const b=new Date(p.date),w=b.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_=b.toLocaleDateString("en-US",{weekday:"long"}),S=b.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),M=f(p.assessmentType);return u.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 divide-y md:divide-y-0 md:divide-x border-b border-gray-100 ${x>0?"border-t":""}`,children:[u.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center bg-gray-50/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[u.jsx(Yd,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Subject"})]}),u.jsx("div",{className:"font-bold text-gray-900 text-lg leading-tight",children:p.subject})]}),u.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[u.jsx($E,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Assessment"})]}),u.jsx("div",{className:"font-bold text-gray-900 leading-tight",children:p.assessmentName}),u.jsx("div",{className:`mt-1 inline-flex text-xs font-bold px-2 py-0.5 rounded-md w-fit ${M}`,children:p.assessmentType})]}),u.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center bg-gray-50/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[u.jsx(jr,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Date"})]}),u.jsx("div",{className:"font-bold text-gray-900 text-lg",children:w}),u.jsx("div",{className:"text-sm font-medium text-blue-600",children:_})]}),u.jsxs("div",{className:"p-4 md:col-span-1 flex flex-col justify-center",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[u.jsx($s,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Time"})]}),u.jsx("div",{className:"font-bold text-gray-900 text-lg",children:S})]})]},x)}),t.content&&u.jsx("div",{className:"p-4 bg-yellow-50/30",children:u.jsxs("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:[u.jsx("span",{className:"font-semibold text-gray-900",children:"Note: "}),t.content]})})]})]})}function F7({onSubmit:t,onCancel:e,isLoading:n,students:s,initialData:a=null,semester:o=5}){const[c,f]=Y.useState(a?.type||"notice"),[m,p]=Y.useState(a?.content||""),[x,b]=Y.useState(a?.meta||{}),[w,_]=Y.useState(a?a.isPublic:!0),[S,M]=Y.useState(a?.allowedUsers||[]),L=!!a,F=[{id:"notice",label:"Simple Notice",icon:Gs,description:"Basic announcement or information"},{id:"checklist",label:"Checklist",icon:mp,description:"List of items to be checked off"},{id:"poll",label:"Poll",icon:dp,description:"Survey with voting options"},{id:"reminder",label:"Reminder",icon:Dc,description:"Time-based reminder notification"},{id:"todo",label:"Todo",icon:jr,description:"Task with due date and completion tracking"},{id:"assessment",label:"Assessment",icon:Va,description:"Exam or assignment schedule"}],B=s.filter(J=>J.rollNo!==Pe.rollNo),z=J=>{if(!(L&&J!==a.type&&!window.confirm("Changing notice type will reset specific fields. Continue?"))){if(f(J),L&&J===a.type){b(a.meta);return}switch(b({}),J){case"checklist":b({items:[{text:""}],isAnonymous:!1});break;case"poll":b({options:[{text:""},{text:""}],allowMultiple:!1,isAnonymous:!1});break;case"reminder":b({reminderDate:""});break;case"todo":b({dueDate:"",completedBy:[],practicalSubject:"",labNumber:""});break;case"assessment":b({assessments:[{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]});break;default:b({})}}};c==="assessment"&&!x.assessments&&(x.subject||x.assessmentName)?b({...x,assessments:[{subject:x.subject||"",assessmentName:x.assessmentName||"",assessmentType:x.assessmentType||"CA-1",date:x.date||""}]}):c==="assessment"&&!x.assessments&&b({...x,assessments:[{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]});const G=J=>{S.includes(J)?M(S.filter(N=>N!==J)):M([...S,J])},q=()=>{S.length===B.length?M([]):M(B.map(J=>J.rollNo))},U=J=>{if(J.preventDefault(),c!=="assessment"&&!m.trim()){alert("Please enter content for the notice");return}if(!w&&S.length===0){alert("Please select users or make the notice public");return}if(c==="checklist"&&(!x.items||x.items.length===0||x.items.every(N=>!N.text.trim()))){alert("Please add at least one checklist item");return}if(c==="poll"&&(!x.options||x.options.length<2||x.options.some(N=>!N.text.trim()))){alert("Please add at least 2 poll options with text");return}if(c==="reminder"&&!x.reminderDate){alert("Please set a reminder date");return}if(c==="todo"&&!x.dueDate){alert("Please set a due date for the todo");return}if(c==="assessment"){const N=x.assessments?.filter(X=>X.subject&&X.date);if(!N||N.length===0){alert("Please add at least one complete assessment (Subject, Date)");return}x.assessments=N}t({id:a?.id,type:c,content:m.trim(),meta:x,allowedUsers:w?[]:S,isPublic:w})},R=()=>{b({...x,items:[...x.items||[],{text:""}]})},j=(J,N)=>{const X=[...x.items];X[J]={...X[J],text:N},b({...x,items:X})},O=J=>{const N=x.items.filter((X,Z)=>Z!==J);b({...x,items:N})},A=()=>{b({...x,options:[...x.options||[],{text:"",votes:[]}]})},D=(J,N)=>{const X=[...x.options];X[J]={...X[J],text:N},b({...x,options:X})},P=J=>{if(x.options.length<=2){alert("Poll must have at least 2 options");return}const N=x.options.filter((X,Z)=>Z!==J);b({...x,options:N})},k=()=>{b({...x,allowMultiple:!x.allowMultiple})},ce=()=>{b({...x,isAnonymous:!x.isAnonymous})},pe=()=>{b({...x,isAnonymous:!x.isAnonymous})},K=()=>{b({...x,assessments:[...x.assessments||[],{subject:"",assessmentName:"",assessmentType:"CA-1",date:""}]})},ue=(J,N,X)=>{const Z=[...x.assessments||[]];Z[J]={...Z[J],[N]:X},b({...x,assessments:Z})},ne=J=>{const N=(x.assessments||[]).filter((X,Z)=>Z!==J);b({...x,assessments:N})};return u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 border border-gray-100 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:L?"Edit Notice":"Create New Notice"}),u.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(fn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:U,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Notice Type"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:F.map(J=>u.jsxs("button",{type:"button",onClick:()=>z(J.id),className:`
                  p-4 rounded-xl border-2 transition-all text-left
                  ${c===J.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}
                `,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(J.icon,{className:`w-5 h-5 ${c===J.id?"text-blue-600":"text-gray-600"}`}),u.jsx("span",{className:"font-medium text-gray-900",children:J.label})]}),u.jsx("p",{className:"text-xs text-gray-600",children:J.description})]},J.id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:c==="poll"?"Poll Question":"Content"}),u.jsx("textarea",{value:m,onChange:J=>p(J.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:c==="poll"?"What question would you like to ask?":c==="reminder"?"What should people be reminded about?":c==="todo"?"What task needs to be completed?":c==="assessment"?"Any additional notes (syllabus, venue, etc.)?":"Enter your notice content...",required:c!=="assessment"})]}),c==="checklist"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Checklist Items"}),u.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous completion:"}),u.jsxs("button",{type:"button",onClick:pe,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${x.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[x.isAnonymous?u.jsx(Vi,{className:"w-4 h-4"}):u.jsx(Oa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:x.isAnonymous?"Anonymous":"Show names"})]})]}),u.jsxs("div",{className:"space-y-2",children:[x.items?.map((J,N)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:J.text,onChange:X=>j(N,X.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Item ${N+1}`}),x.items.length>1&&u.jsx("button",{type:"button",onClick:()=>O(N),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:u.jsx(hs,{className:"w-4 h-4"})})]},N)),u.jsxs("button",{type:"button",onClick:R,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[u.jsx(os,{className:"w-4 h-4"}),"Add Item"]})]})]}),c==="poll"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Poll Options"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Multiple selections:"}),u.jsxs("button",{type:"button",onClick:k,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${x.allowMultiple?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[x.allowMultiple?u.jsx(o2,{className:"w-4 h-4"}):u.jsx(l2,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:x.allowMultiple?"Multi-select":"Single choice"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous voting:"}),u.jsxs("button",{type:"button",onClick:ce,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${x.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[x.isAnonymous?u.jsx(Vi,{className:"w-4 h-4"}):u.jsx(Oa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium",children:x.isAnonymous?"Anonymous":"Show names"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[x.options?.map((J,N)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:J.text,onChange:X=>D(N,X.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Option ${N+1}`}),x.options.length>2&&u.jsx("button",{type:"button",onClick:()=>P(N),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:u.jsx(hs,{className:"w-4 h-4"})})]},N)),u.jsxs("button",{type:"button",onClick:A,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[u.jsx(os,{className:"w-4 h-4"}),"Add Option"]})]})]}),c==="reminder"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reminder Date & Time"}),u.jsx("input",{type:"datetime-local",value:x.reminderDate,onChange:J=>b({...x,reminderDate:J.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c==="todo"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Due Date & Time"}),u.jsx("input",{type:"datetime-local",value:x.dueDate,onChange:J=>b({...x,dueDate:J.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[u.jsx("label",{className:"block text-sm font-semibold text-green-800 mb-3",children:" Link to Practical Lab (Optional)"}),u.jsx("p",{className:"text-xs text-green-600 mb-3",children:"If this TODO is for a practical lab, select the subject and lab number. When students mark this as complete, the lab will auto-mark in their Practical tab."}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Practical Subject"}),u.jsxs("select",{value:x.practicalSubject||"",onChange:J=>b({...x,practicalSubject:J.target.value,labNumber:""}),className:"w-full p-2 border border-gray-200 rounded-lg text-sm bg-white",children:[u.jsx("option",{value:"",children:"-- Select Subject --"}),Hs[o]?.practical?.map(J=>u.jsx("option",{value:J,children:J},J))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Lab Number"}),u.jsxs("select",{value:x.labNumber||"",onChange:J=>b({...x,labNumber:J.target.value}),disabled:!x.practicalSubject,className:"w-full p-2 border border-gray-200 rounded-lg text-sm bg-white disabled:opacity-50",children:[u.jsx("option",{value:"",children:"-- Select Lab --"}),Array.from({length:10},(J,N)=>N+1).map(J=>u.jsxs("option",{value:J,children:["Lab ",J]},J))]})]})]})]})]}),c==="assessment"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assessments"}),x.assessments?.map((J,N)=>u.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200 relative",children:[x.assessments.length>1&&u.jsx("button",{type:"button",onClick:()=>ne(N),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx(fn,{className:"w-4 h-4"})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsx("div",{children:u.jsx("input",{type:"text",value:J.subject,onChange:X=>ue(N,"subject",X.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm",placeholder:"Subject (e.g. Mathematics)"})}),u.jsx("div",{children:u.jsx("input",{type:"text",value:J.assessmentName,onChange:X=>ue(N,"assessmentName",X.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm",placeholder:"Exam Name (e.g. Unit Test)"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("div",{children:u.jsxs("select",{value:J.assessmentType,onChange:X=>ue(N,"assessmentType",X.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm bg-white",children:[u.jsx("option",{value:"CA-1",children:"CA-1"}),u.jsx("option",{value:"CA-2",children:"CA-2"}),u.jsx("option",{value:"CA-3",children:"CA-3"}),u.jsx("option",{value:"CA-4",children:"CA-4"}),u.jsx("option",{value:"Mid-Sem",children:"Mid-Sem"}),u.jsx("option",{value:"End-Sem",children:"End-Sem"})]})}),u.jsx("div",{children:u.jsx("input",{type:"datetime-local",value:J.date,onChange:X=>ue(N,"date",X.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm"})})]})]},N)),u.jsxs("button",{type:"button",onClick:K,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-xl text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-all flex items-center justify-center gap-2",children:[u.jsx(os,{className:"w-4 h-4"}),"Add Assessment Row"]})]}),u.jsxs("div",{className:"border-t pt-6",children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Who can see this notice?"}),u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"visibility",checked:w,onChange:()=>_(!0),className:"w-4 h-4 text-blue-600"}),u.jsx(hp,{className:"w-4 h-4 text-green-600"}),u.jsx("span",{className:"text-sm font-medium",children:"Public (Everyone can see)"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"visibility",checked:!w,onChange:()=>_(!1),className:"w-4 h-4 text-blue-600"}),u.jsx(Qt,{className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm font-medium",children:"Private (Selected users only)"})]})]})}),!w&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select Students:"}),u.jsx("button",{type:"button",onClick:q,className:"text-sm text-blue-600 hover:text-blue-700",children:S.length===B.length?"Deselect All":"Select All"})]}),u.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:B.map(J=>u.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:S.includes(J.rollNo),onChange:()=>G(J.rollNo),className:"w-4 h-4 text-blue-600"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ms,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:J.name}),u.jsxs("span",{className:"text-xs text-gray-500",children:["(",J.rollNo,")"]})]})]},J.rollNo))}),S.length>0&&u.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[S.length," student",S.length>1?"s":""," selected"]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"submit",disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n?u.jsxs(u.Fragment,{children:[u.jsx(Nn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:L?"Save Changes":"Create Notice"})]}):u.jsxs(u.Fragment,{children:[u.jsx(os,{className:"w-4 h-4"}),u.jsx("span",{children:L?"Save Changes":"Create Notice"})]})}),u.jsx("button",{type:"button",onClick:e,disabled:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function q7({notice:t,students:e,onUpdate:n,onCancel:s}){const[a,o]=Y.useState(t.isPublic||!1),[c,f]=Y.useState(t.allowedUsers||[]),[m,p]=Y.useState(!1),x=e.filter(S=>S.rollNo!==Pe.rollNo);Y.useEffect(()=>{o(t.isPublic||!1),f(t.allowedUsers||[])},[t]);const b=S=>{c.includes(S)?f(c.filter(M=>M!==S)):f([...c,S])},w=()=>{c.length===x.length?f([]):f(x.map(S=>S.rollNo))},_=async S=>{if(S.preventDefault(),!a&&c.length===0){alert("Please select users or make the notice public");return}p(!0);try{await n(a?[]:c,a)}finally{p(!1)}};return u.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Permissions"}),u.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(fn,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[u.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["Notice: ",t.type]}),u.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.content})]}),u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Visibility Settings"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[u.jsx("input",{type:"radio",name:"visibility",checked:a,onChange:()=>o(!0),className:"w-4 h-4 text-blue-600"}),u.jsx(hp,{className:"w-4 h-4 text-green-600"}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Public"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Everyone can see this notice"})]})]}),u.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[u.jsx("input",{type:"radio",name:"visibility",checked:!a,onChange:()=>o(!1),className:"w-4 h-4 text-blue-600"}),u.jsx(Qt,{className:"w-4 h-4 text-blue-600"}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Private"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Only selected users can see"})]})]})]})]}),!a&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Select Students:"}),u.jsx("button",{type:"button",onClick:w,className:"text-sm text-blue-600 hover:text-blue-700",children:c.length===x.length?"Deselect All":"Select All"})]}),u.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:x.map(S=>u.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:c.includes(S.rollNo),onChange:()=>b(S.rollNo),className:"w-4 h-4 text-blue-600"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ms,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.name}),u.jsxs("span",{className:"text-xs text-gray-500",children:["(",S.rollNo,")"]})]})]},S.rollNo))}),c.length>0&&u.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[c.length," student",c.length>1?"s":""," selected"]})]}),u.jsx("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-200",children:u.jsxs("p",{className:"text-sm text-blue-700",children:[u.jsx("strong",{children:"Current:"})," ",t.isPublic?"Public":`Private (${t.allowedUsers?.length||0} users)`]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",disabled:m,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 font-medium",children:m?u.jsxs(u.Fragment,{children:[u.jsx(Nn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Saving..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ws,{className:"w-4 h-4"}),u.jsx("span",{children:"Update"})]})}),u.jsx("button",{type:"button",onClick:s,disabled:m,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function H7({notices:t,onSave:e,onCancel:n,isLoading:s}){const[a,o]=Y.useState([]);Y.useEffect(()=>{o([...t])},[t]);const c=(m,p)=>{const x=[...a],b=m+p;b>=0&&b<x.length&&([x[m],x[b]]=[x[b],x[m]],o(x))},f=()=>{const m=a.map(p=>p.id);e(m)};return u.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl flex flex-col max-h-[85vh]",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reorder Notices"}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Adjust the display order of notices"})]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(fn,{className:"w-6 h-6 text-gray-400"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:a.map((m,p)=>u.jsxs("div",{className:`
              flex items-center gap-4 p-4 rounded-xl border border-gray-200 bg-white
              hover:border-blue-300 hover:shadow-sm transition-all
              ${p===0?"bg-blue-50/50 border-blue-200":""}
            `,children:[u.jsx("div",{className:`p-2 rounded-lg ${p===0?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:u.jsx("span",{className:"font-mono font-bold w-4 text-center block",children:p+1})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full uppercase ${m.type==="notice"?"bg-blue-100 text-blue-700":m.type==="checklist"?"bg-purple-100 text-purple-700":m.type==="poll"?"bg-orange-100 text-orange-700":m.type==="todo"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:m.type}),u.jsx("span",{className:"text-xs text-gray-500",children:new Date(m.createdAt?.toDate?.()||m.createdAt).toLocaleDateString()})]}),u.jsx("p",{className:"text-gray-900 font-medium truncate",children:m.content})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("button",{onClick:()=>c(p,-1),disabled:p===0,className:"p-1.5 hover:bg-gray-100 rounded-lg text-gray-500 disabled:opacity-30 disabled:hover:bg-transparent",title:"Move Up",children:u.jsx(uE,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>c(p,1),disabled:p===a.length-1,className:"p-1.5 hover:bg-gray-100 rounded-lg text-gray-500 disabled:opacity-30 disabled:hover:bg-transparent",title:"Move Down",children:u.jsx(aE,{className:"w-4 h-4"})})]})]},m.id))}),u.jsxs("div",{className:"p-6 border-t border-gray-100 flex justify-end gap-3 bg-gray-50 rounded-b-2xl",children:[u.jsx("button",{onClick:n,className:"px-5 py-2.5 text-gray-700 font-medium hover:bg-white hover:shadow-sm rounded-xl transition-all",children:"Cancel"}),u.jsx("button",{onClick:f,disabled:s,className:"px-5 py-2.5 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20 flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:s?u.jsxs(u.Fragment,{children:[u.jsx(Nn,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ws,{className:"w-4 h-4"}),"Save Order"]})})]})]})}function d4({open:t,title:e,message:n,confirmText:s="Confirm",cancelText:a="Cancel",confirmColor:o="red",onConfirm:c,onCancel:f,icon:m="warning"}){if(!t)return null;const p=()=>{switch(m){case"warning":return u.jsx(zd,{className:"w-12 h-12 text-orange-500"});case"success":return u.jsx(xf,{className:"w-12 h-12 text-green-500"});case"danger":return u.jsx(zd,{className:"w-12 h-12 text-red-500"});default:return u.jsx(zd,{className:"w-12 h-12 text-orange-500"})}},x=()=>{switch(o){case"red":return"bg-red-600 hover:bg-red-700 text-white";case"green":return"bg-green-600 hover:bg-green-700 text-white";case"blue":return"bg-blue-600 hover:bg-blue-700 text-white";case"orange":return"bg-orange-600 hover:bg-orange-700 text-white";default:return"bg-red-600 hover:bg-red-700 text-white"}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out scale-100",children:[u.jsxs("div",{className:"relative p-6 pb-4",children:[u.jsx("button",{onClick:f,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(fn,{className:"w-4 h-4"})}),u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsx("div",{className:"p-3 rounded-full bg-gray-50",children:p()})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:e}),u.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:n})]}),u.jsx("div",{className:"px-6 pb-6",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:f,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:a}),u.jsx("button",{onClick:c,className:`flex-1 px-4 py-3 rounded-xl transition-colors font-medium ${x()}`,children:s})]})})]})})}function f4(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=f4(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Ma(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=f4(t))&&(s&&(s+=" "),s+=e);return s}function $7(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}$7(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ou=t=>typeof t=="number"&&!isNaN(t),Ua=t=>typeof t=="string",Js=t=>typeof t=="function",G7=t=>Ua(t)||ou(t),ap=t=>Ua(t)||Js(t)?t:null,Y7=(t,e)=>t===!1||ou(t)&&t>0?t:e,lp=t=>Y.isValidElement(t)||Ua(t)||Js(t)||ou(t);function Q7(t,e,n=300){let{scrollHeight:s,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function X7({enter:t,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:a=300}){return function({children:o,position:c,preventExitTransition:f,done:m,nodeRef:p,isIn:x,playToast:b}){let w=n?`${t}--${c}`:t,_=n?`${e}--${c}`:e,S=Y.useRef(0);return Y.useLayoutEffect(()=>{let M=p.current,L=w.split(" "),F=B=>{B.target===p.current&&(b(),M.removeEventListener("animationend",F),M.removeEventListener("animationcancel",F),S.current===0&&B.type!=="animationcancel"&&M.classList.remove(...L))};M.classList.add(...L),M.addEventListener("animationend",F),M.addEventListener("animationcancel",F)},[]),Y.useEffect(()=>{let M=p.current,L=()=>{M.removeEventListener("animationend",L),s?Q7(M,m,a):m()};x||(f?L():(S.current=1,M.className+=` ${_}`,M.addEventListener("animationend",L)))},[x]),yt.createElement(yt.Fragment,null,o)}}function t2(t,e){return{content:h4(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function h4(t,e,n=!1){return Y.isValidElement(t)&&!Ua(t.type)?Y.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Js(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function K7({closeToast:t,theme:e,ariaLabel:n="close"}){return yt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),t(!0)},"aria-label":n},yt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},yt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Z7({delay:t,isRunning:e,closeToast:n,type:s="default",hide:a,className:o,controlledProgress:c,progress:f,rtl:m,isIn:p,theme:x}){let b=a||c&&f===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(w.transform=`scaleX(${f})`);let _=Ma("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":m}),S=Js(o)?o({rtl:m,type:s,defaultClassName:_}):Ma(_,o),M={[c&&f>=1?"onTransitionEnd":"onAnimationEnd"]:c&&f<1?null:()=>{p&&n()}};return yt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},yt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${s}`}),yt.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:S,style:w,...M}))}var J7=1,m4=()=>`${J7++}`;function W7(t,e,n){let s=1,a=0,o=[],c=[],f=e,m=new Map,p=new Set,x=B=>(p.add(B),()=>p.delete(B)),b=()=>{c=Array.from(m.values()),p.forEach(B=>B())},w=({containerId:B,toastId:z,updateId:G})=>{let q=B?B!==t:t!==1,U=m.has(z)&&G==null;return q||U},_=(B,z)=>{m.forEach(G=>{var q;(z==null||z===G.props.toastId)&&((q=G.toggle)==null||q.call(G,B))})},S=B=>{var z,G;(G=(z=B.props)==null?void 0:z.onClose)==null||G.call(z,B.removalReason),B.isActive=!1},M=B=>{if(B==null)m.forEach(S);else{let z=m.get(B);z&&S(z)}b()},L=()=>{a-=o.length,o=[]},F=B=>{var z,G;let{toastId:q,updateId:U}=B.props,R=U==null;B.staleId&&m.delete(B.staleId),B.isActive=!0,m.set(q,B),b(),n(t2(B,R?"added":"updated")),R&&((G=(z=B.props).onOpen)==null||G.call(z))};return{id:t,props:f,observe:x,toggle:_,removeToast:M,toasts:m,clearQueue:L,buildToast:(B,z)=>{if(w(z))return;let{toastId:G,updateId:q,data:U,staleId:R,delay:j}=z,O=q==null;O&&a++;let A={...f,style:f.toastStyle,key:s++,...Object.fromEntries(Object.entries(z).filter(([P,k])=>k!=null)),toastId:G,updateId:q,data:U,isIn:!1,className:ap(z.className||f.toastClassName),progressClassName:ap(z.progressClassName||f.progressClassName),autoClose:z.isLoading?!1:Y7(z.autoClose,f.autoClose),closeToast(P){m.get(G).removalReason=P,M(G)},deleteToast(){let P=m.get(G);if(P!=null){if(n(t2(P,"removed")),m.delete(G),a--,a<0&&(a=0),o.length>0){F(o.shift());return}b()}}};A.closeButton=f.closeButton,z.closeButton===!1||lp(z.closeButton)?A.closeButton=z.closeButton:z.closeButton===!0&&(A.closeButton=lp(f.closeButton)?f.closeButton:!0);let D={content:B,props:A,staleId:R};f.limit&&f.limit>0&&a>f.limit&&O?o.push(D):ou(j)?setTimeout(()=>{F(D)},j):F(D)},setProps(B){f=B},setToggle:(B,z)=>{let G=m.get(B);G&&(G.toggle=z)},isToastActive:B=>{var z;return(z=m.get(B))==null?void 0:z.isActive},getSnapshot:()=>c}}var Bn=new Map,Qc=[],op=new Set,eI=t=>op.forEach(e=>e(t)),p4=()=>Bn.size>0;function tI(){Qc.forEach(t=>x4(t.content,t.options)),Qc=[]}var nI=(t,{containerId:e})=>{var n;return(n=Bn.get(e||1))==null?void 0:n.toasts.get(t)};function g4(t,e){var n;if(e)return!!((n=Bn.get(e))!=null&&n.isToastActive(t));let s=!1;return Bn.forEach(a=>{a.isToastActive(t)&&(s=!0)}),s}function rI(t){if(!p4()){Qc=Qc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||G7(t))Bn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Bn.get(t.containerId);e?e.removeToast(t.id):Bn.forEach(n=>{n.removeToast(t.id)})}}var sI=(t={})=>{Bn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function x4(t,e){lp(t)&&(p4()||Qc.push({content:t,options:e}),Bn.forEach(n=>{n.buildToast(t,e)}))}function iI(t){var e;(e=Bn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function y4(t,e){Bn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function aI(t){let e=t.containerId||1;return{subscribe(n){let s=W7(e,t,eI);Bn.set(e,s);let a=s.observe(n);return tI(),()=>{a(),Bn.delete(e)}},setProps(n){var s;(s=Bn.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=Bn.get(e))==null?void 0:n.getSnapshot()}}}function lI(t){return op.add(t),()=>{op.delete(t)}}function oI(t){return t&&(Ua(t.toastId)||ou(t.toastId))?t.toastId:m4()}function cu(t,e){return x4(t,e),e.toastId}function Hf(t,e){return{...e,type:e&&e.type||t,toastId:oI(e)}}function $f(t){return(e,n)=>cu(e,Hf(t,n))}function Se(t,e){return cu(t,Hf("default",e))}Se.loading=(t,e)=>cu(t,Hf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function cI(t,{pending:e,error:n,success:s},a){let o;e&&(o=Ua(e)?Se.loading(e,a):Se.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(p,x,b)=>{if(x==null){Se.dismiss(o);return}let w={type:p,...c,...a,data:b},_=Ua(x)?{render:x}:x;return o?Se.update(o,{...w,..._}):Se(_.render,{...w,..._}),b},m=Js(t)?t():t;return m.then(p=>f("success",s,p)).catch(p=>f("error",n,p)),m}Se.promise=cI;Se.success=$f("success");Se.info=$f("info");Se.error=$f("error");Se.warning=$f("warning");Se.warn=Se.warning;Se.dark=(t,e)=>cu(t,Hf("default",{theme:"dark",...e}));function uI(t){rI(t)}Se.dismiss=uI;Se.clearWaitingQueue=sI;Se.isActive=g4;Se.update=(t,e={})=>{let n=nI(t,e);if(n){let{props:s,content:a}=n,o={delay:100,...s,...e,toastId:e.toastId||t,updateId:m4()};o.toastId!==t&&(o.staleId=t);let c=o.render||a;delete o.render,cu(c,o)}};Se.done=t=>{Se.update(t,{progress:1})};Se.onChange=lI;Se.play=t=>y4(!0,t);Se.pause=t=>y4(!1,t);function dI(t){var e;let{subscribe:n,getSnapshot:s,setProps:a}=Y.useRef(aI(t)).current;a(t);let o=(e=Y.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function c(f){if(!o)return[];let m=new Map;return t.newestOnTop&&o.reverse(),o.forEach(p=>{let{position:x}=p.props;m.has(x)||m.set(x,[]),m.get(x).push(p)}),Array.from(m,p=>f(p[0],p[1]))}return{getToastToRender:c,isToastActive:g4,count:o?.length}}function fI(t){let[e,n]=Y.useState(!1),[s,a]=Y.useState(!1),o=Y.useRef(null),c=Y.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:m,closeToast:p,onClick:x,closeOnClick:b}=t;iI({id:t.toastId,containerId:t.containerId,fn:n}),Y.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{_()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||F(),window.addEventListener("focus",L),window.addEventListener("blur",F)}function _(){window.removeEventListener("focus",L),window.removeEventListener("blur",F)}function S(R){if(t.draggable===!0||t.draggable===R.pointerType){B();let j=o.current;c.canCloseOnClick=!0,c.canDrag=!0,j.style.transition="none",t.draggableDirection==="x"?(c.start=R.clientX,c.removalDistance=j.offsetWidth*(t.draggablePercent/100)):(c.start=R.clientY,c.removalDistance=j.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function M(R){let{top:j,bottom:O,left:A,right:D}=o.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&t.pauseOnHover&&R.clientX>=A&&R.clientX<=D&&R.clientY>=j&&R.clientY<=O?F():L()}function L(){n(!0)}function F(){n(!1)}function B(){c.didMove=!1,document.addEventListener("pointermove",G),document.addEventListener("pointerup",q)}function z(){document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",q)}function G(R){let j=o.current;if(c.canDrag&&j){c.didMove=!0,e&&F(),t.draggableDirection==="x"?c.delta=R.clientX-c.start:c.delta=R.clientY-c.start,c.start!==R.clientX&&(c.canCloseOnClick=!1);let O=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;j.style.transform=`translate3d(${O},0)`,j.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function q(){z();let R=o.current;if(c.canDrag&&c.didMove&&R){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let U={onPointerDown:S,onPointerUp:M};return f&&m&&(U.onMouseEnter=F,t.stacked||(U.onMouseLeave=L)),b&&(U.onClick=R=>{x&&x(R),c.canCloseOnClick&&p(!0)}),{playToast:L,pauseToast:F,isRunning:e,preventExitTransition:s,toastRef:o,eventHandlers:U}}var hI=typeof window<"u"?Y.useLayoutEffect:Y.useEffect,Gf=({theme:t,type:e,isLoading:n,...s})=>yt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function mI(t){return yt.createElement(Gf,{...t},yt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function pI(t){return yt.createElement(Gf,{...t},yt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function gI(t){return yt.createElement(Gf,{...t},yt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function xI(t){return yt.createElement(Gf,{...t},yt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function yI(){return yt.createElement("div",{className:"Toastify__spinner"})}var cp={info:pI,warning:mI,success:gI,error:xI,spinner:yI},bI=t=>t in cp;function vI({theme:t,type:e,isLoading:n,icon:s}){let a=null,o={theme:t,type:e};return s===!1||(Js(s)?a=s({...o,isLoading:n}):Y.isValidElement(s)?a=Y.cloneElement(s,o):n?a=cp.spinner():bI(e)&&(a=cp[e](o))),a}var wI=t=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:a,playToast:o}=fI(t),{closeButton:c,children:f,autoClose:m,onClick:p,type:x,hideProgressBar:b,closeToast:w,transition:_,position:S,className:M,style:L,progressClassName:F,updateId:B,role:z,progress:G,rtl:q,toastId:U,deleteToast:R,isIn:j,isLoading:O,closeOnClick:A,theme:D,ariaLabel:P}=t,k=Ma("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":q},{"Toastify__toast--close-on-click":A}),ce=Js(M)?M({rtl:q,position:S,type:x,defaultClassName:k}):Ma(k,M),pe=vI(t),K=!!G||!m,ue={closeToast:w,type:x,theme:D},ne=null;return c===!1||(Js(c)?ne=c(ue):Y.isValidElement(c)?ne=Y.cloneElement(c,ue):ne=K7(ue)),yt.createElement(_,{isIn:j,done:R,position:S,preventExitTransition:n,nodeRef:s,playToast:o},yt.createElement("div",{id:U,tabIndex:0,onClick:p,"data-in":j,className:ce,...a,style:L,ref:s,...j&&{role:z,"aria-label":P}},pe!=null&&yt.createElement("div",{className:Ma("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},pe),h4(f,t,!e),ne,!t.customProgressBar&&yt.createElement(Z7,{...B&&!K?{key:`p-${B}`}:{},rtl:q,theme:D,delay:m,isRunning:e,isIn:j,closeToast:w,hide:b,type:x,className:F,controlledProgress:K,progress:G||0})))},_I=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),NI=X7(_I("bounce",!0)),EI={position:"top-right",transition:NI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function TI(t){let e={...EI,...t},n=t.stacked,[s,a]=Y.useState(!0),o=Y.useRef(null),{getToastToRender:c,isToastActive:f,count:m}=dI(e),{className:p,style:x,rtl:b,containerId:w,hotKeys:_}=e;function S(L){let F=Ma("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":b});return Js(p)?p({position:L,rtl:b,defaultClassName:F}):Ma(F,ap(p))}function M(){n&&(a(!0),Se.play())}return hI(()=>{var L;if(n){let F=o.current.querySelectorAll('[data-in="true"]'),B=12,z=(L=e.position)==null?void 0:L.includes("top"),G=0,q=0;Array.from(F).reverse().forEach((U,R)=>{let j=U;j.classList.add("Toastify__toast--stacked"),R>0&&(j.dataset.collapsed=`${s}`),j.dataset.pos||(j.dataset.pos=z?"top":"bot");let O=G*(s?.2:1)+(s?0:B*R);j.style.setProperty("--y",`${z?O:O*-1}px`),j.style.setProperty("--g",`${B}`),j.style.setProperty("--s",`${1-(s?q:0)}`),G+=j.offsetHeight,q+=.025})}},[s,m,n]),Y.useEffect(()=>{function L(F){var B;let z=o.current;_(F)&&((B=z.querySelector('[tabIndex="0"]'))==null||B.focus(),a(!1),Se.pause()),F.key==="Escape"&&(document.activeElement===z||z!=null&&z.contains(document.activeElement))&&(a(!0),Se.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[_]),yt.createElement("section",{ref:o,className:"Toastify",id:w,onMouseEnter:()=>{n&&(a(!1),Se.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((L,F)=>{let B=F.length?{...x}:{...x,pointerEvents:"none"};return yt.createElement("div",{tabIndex:-1,className:S(L),"data-stacked":n,style:B,key:`c-${L}`},F.map(({content:z,props:G})=>yt.createElement(wI,{...G,stacked:n,collapseAll:M,isIn:f(G.toastId,G.containerId),key:`t-${G.key}`},z)))}))}function SI({selectedStudent:t,semester:e}){const{students:n}=a_(),{notices:s,isLoading:a,isSaving:o,isAdmin:c,isCoLeader:f,canManageNotices:m,createNotice:p,deleteNotice:x,editNotice:b,updateNoticePermissions:w,updateNoticesOrder:_,voteInPoll:S,toggleChecklistItem:M,toggleTodo:L}=Lf(t,e),[F,B]=Y.useState(!1),[z,G]=Y.useState(!1),[q,U]=Y.useState(!1),[R,j]=Y.useState(null),[O,A]=Y.useState("all"),[D,P]=Y.useState(""),[k,ce]=Y.useState(!1),[pe,K]=Y.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),ue=s.filter(_e=>{const dt=O==="all"||_e.type===O,bt=!D||_e.content.toLowerCase().includes(D.toLowerCase())||_e.createdBy.toLowerCase().includes(D.toLowerCase());return dt&&bt}),ne=[{id:"all",label:"All",icon:Gs,count:s.length},{id:"notice",label:"Notices",icon:Gs,count:s.filter(_e=>_e.type==="notice").length},{id:"checklist",label:"Checklists",icon:mp,count:s.filter(_e=>_e.type==="checklist").length},{id:"poll",label:"Polls",icon:dp,count:s.filter(_e=>_e.type==="poll").length},{id:"reminder",label:"Reminders",icon:Dc,count:s.filter(_e=>_e.type==="reminder").length},{id:"todo",label:"Todos",icon:jr,count:s.filter(_e=>_e.type==="todo").length},{id:"assessment",label:"Assessments",icon:Gs,count:s.filter(_e=>_e.type==="assessment").length}],J=_e=>{K(_e),ce(!0)},N=()=>{pe.onConfirm(),ce(!1)},X=()=>{ce(!1)},Z=async _e=>{if(!m){Se.error(" Only admin and co-leaders can create notices");return}await p(_e.type,_e.content,_e.meta,_e.allowedUsers||[],_e.isPublic||!1)?(B(!1),Se.success(" Notice created successfully!")):Se.error(" Failed to create notice. Please try again.")},[C,ae]=Y.useState(null),be=async(_e,dt)=>{if(!m)return Se.error(" Only admin and co-leaders can edit notices"),!1;const{id:bt,...rn}=dt,hn=await b(_e,rn);return hn?(Se.success(" Notice updated successfully!"),ae(null)):Se.error(" Failed to update notice. Please try again."),hn},oe=async _e=>{if(!m){Se.error(" Only admin and co-leaders can delete notices");return}J({title:"Delete Notice",message:"Are you sure you want to delete this notice? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{await x(_e)?Se.success(" Notice deleted successfully!"):Se.error(" Failed to delete notice. Please try again.")}})},ve=_e=>{j(_e),G(!0)},Te=async(_e,dt)=>{if(R)try{await w(R.id,_e,dt)?(G(!1),j(null),Se.success(" Permissions updated successfully!")):Se.error(" Failed to update permissions")}catch(bt){Se.error(" Error updating permissions: "+bt.message)}},it=async _e=>{await _(_e)?(U(!1),Se.success(" Notices reordered successfully!")):Se.error(" Failed to reorder notices")},lt=_e=>{const dt={notice:_e,currentUser:t?.rollNo,students:n,isAdmin:c,isCoLeader:f,canManageNotices:m,onDelete:oe,onEdit:be,onManagePermissions:()=>ve(_e)};switch(_e.type){case"checklist":return u.jsx(P7,{...dt,onToggleItem:bt=>M(_e.id,bt,t?.rollNo)},_e.id);case"poll":return u.jsx(L7,{...dt,onVote:(bt,rn)=>S(_e.id,bt,rn)},_e.id);case"reminder":return u.jsx(z7,{...dt},_e.id);case"todo":return u.jsx(U7,{...dt,onToggle:()=>L(_e.id,t?.rollNo)},_e.id);case"assessment":return u.jsx(B7,{...dt,onRequestEdit:bt=>ae(bt)},_e.id);default:return u.jsx(V7,{...dt},_e.id)}};return t?a?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Nn,{className:"w-6 h-6 animate-spin text-blue-600"}),u.jsx("span",{className:"text-lg text-gray-600",children:"Loading notice board..."})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[u.jsx(d4,{open:k,title:pe.title,message:pe.message,confirmText:pe.confirmText,cancelText:pe.cancelText,confirmColor:pe.confirmColor,icon:pe.icon,onConfirm:N,onCancel:X}),u.jsxs("div",{className:"flex items-center justify-between sticky top-[64px] z-10 bg-gray-50/95 backdrop-blur supports-[backdrop-filter]:bg-gray-50/60 py-4 transition-all -mx-4 px-4 rounded-b-2xl mb-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[u.jsx(ka,{className:"w-8 h-8 text-blue-600"}),"Global Notice Board",c&&u.jsx(Ys,{className:"w-6 h-6 text-yellow-600",title:"Admin View"}),f&&u.jsx(wn,{className:"w-6 h-6 text-purple-600",title:"Co-Leader View"})]}),u.jsx("p",{className:"text-gray-600",children:m?`${c?"Admin":"Co-Leader"}: Create and manage notices for all students`:"Stay updated with announcements, polls, and reminders"})]}),m&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>U(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all",title:"Reorder Notices",children:u.jsx(oE,{className:"w-5 h-5"})}),u.jsxs("button",{onClick:()=>B(!0),disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50",children:[u.jsx(os,{className:"w-4 h-4"}),"Create Notice"]})]})]}),m&&u.jsx("div",{className:`rounded-2xl p-4 border ${c?"bg-yellow-50 border-yellow-200":"bg-purple-50 border-purple-200"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[c?u.jsx(Ys,{className:"w-5 h-5 text-yellow-600 mt-0.5"}):u.jsx(wn,{className:"w-5 h-5 text-purple-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:`font-medium mb-1 ${c?"text-yellow-900":"text-purple-900"}`,children:c?"Admin Privileges":"Co-Leader Privileges"}),u.jsxs("ul",{className:`text-sm space-y-1 ${c?"text-yellow-700":"text-purple-700"}`,children:[u.jsx("li",{children:" Create, edit and manage notices with user visibility"}),u.jsx("li",{children:" View who voted for each poll option and completed checklist items"}),u.jsx("li",{children:" Create multi-select or single-choice polls"}),u.jsx("li",{children:" Edit existing notices, polls, and checklists"}),c&&u.jsx("li",{children:" Assign co-leader roles to other students"})]})]})]})}),!m&&u.jsx("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-200",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ka,{className:"w-5 h-5 text-blue-600"}),u.jsx("div",{children:u.jsx("p",{className:"text-sm text-blue-700",children:"You can view and interact with notices shared with you. Click on voter counts in polls or completion counts in checklists to see who participated."})})]})}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:ne.map(_e=>u.jsxs("button",{onClick:()=>A(_e.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-xl transition-all
                ${O===_e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
              `,children:[u.jsx(_e.icon,{className:"w-4 h-4"}),u.jsx("span",{children:_e.label}),u.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:_e.count})]},_e.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(yf,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"text",placeholder:"Search notices...",value:D,onChange:_e=>P(_e.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),D&&u.jsx("button",{onClick:()=>P(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(fn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]})]}),(F||C)&&m&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsx("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsx(F7,{onSubmit:C?_e=>be(C.id,_e):Z,onCancel:()=>{B(!1),ae(null)},isLoading:o,students:n,initialData:C,semester:e})})}),q&&m&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsx(H7,{notices:s,onSave:it,onCancel:()=>U(!1),isLoading:o})}),z&&R&&m&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsx(q7,{notice:R,students:n,onUpdate:Te,onCancel:()=>G(!1)})}),u.jsx("div",{className:"space-y-4",children:ue.length>0?ue.map(lt):u.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border border-gray-100",children:[u.jsx(ka,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No notices found"}),u.jsx("p",{className:"text-gray-600 mb-4",children:D||O!=="all"?"Try adjusting your filters or search terms":m?"Create the first notice to get started!":"No notices have been shared with you yet."}),m&&u.jsxs("button",{onClick:()=>B(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:[u.jsx(os,{className:"w-4 h-4"}),"Create First Notice"]})]})})]}):u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ka,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),u.jsx("p",{className:"text-gray-600",children:"Please select a student to view the notice board"})]})})}function AI(t){const[e,n]=Y.useState(""),[s,a]=Y.useState(!0),[o,c]=Y.useState(!1),[f,m]=Y.useState(null),[p,x]=Y.useState(null),b=Y.useCallback(async()=>{if(!t){n(""),a(!1);return}try{a(!0),x(null);const S=Dn(Vt,"userNotes",t),M=await q5(S);M.exists()?(n(M.data().content||""),m(M.data().updatedAt?M.data().updatedAt.toDate():null)):(n(""),m(null))}catch(S){console.error("Error loading notes:",S),x(S.message)}finally{a(!1)}},[t]);return Y.useEffect(()=>{b()},[b]),Y.useEffect(()=>{if(!t||s)return;const S=setTimeout(async()=>{try{c(!0);const M=Dn(Vt,"userNotes",t);await qs(M,{content:e,updatedAt:Gl(),userId:t}),m(new Date),x(null)}catch(M){console.error("Error saving notes:",M),x("Failed to save notes: "+M.message)}finally{c(!1)}},1e3);return()=>clearTimeout(S)},[e,t,s]),{notes:e,updateNotes:S=>{n(S)},clearNotes:async()=>{if(t)try{c(!0);const S=Dn(Vt,"userNotes",t);await qs(S,{content:"",updatedAt:Gl(),userId:t}),n(""),m(new Date)}catch(S){console.error("Error clearing notes:",S),x("Failed to clear notes: "+S.message)}finally{c(!1)}},refreshNotes:b,isLoading:s,isSaving:o,lastSaved:f,error:p}}function jI({selectedStudent:t}){const{notes:e,updateNotes:n,clearNotes:s,isLoading:a,isSaving:o,lastSaved:c,error:f,refreshNotes:m}=AI(t?.rollNo),[p,x]=Y.useState("split"),[b,w]=Y.useState(!1),[_,S]=Y.useState(!1),M=Y.useRef(!1),L=Y.useRef(null),F=Y.useRef(0);Y.useEffect(()=>{!M.current&&!a&&(e&&e.trim().length>0&&x("preview"),M.current=!0)},[e,a]),Y.useEffect(()=>{M.current=!1},[t]),Y.useEffect(()=>{L.current&&(L.current.style.height="auto",L.current.style.height=L.current.scrollHeight+"px")},[e,p]);const B=async()=>{window.confirm(" Are you sure you want to clear all your notes? This action cannot be undone.")&&(await s(),alert(" Notes cleared successfully!"))},z=(U,R="",j="")=>{const O=document.getElementById("notes-textarea");if(!O)return;F.current=window.scrollY;const A=O.selectionStart,D=O.selectionEnd,P=e.substring(A,D),k=U+(P||j)+R,ce=e.substring(0,A)+k+e.substring(D);n(ce),requestAnimationFrame(()=>{O.focus({preventScroll:!0});const pe=A+U.length+(P||j).length;O.setSelectionRange(pe,pe),window.scrollTo(0,F.current)})},G=[{icon:mE,title:"Bold",action:()=>z("**","**","bold text")},{icon:WE,title:"Italic",action:()=>z("*","*","italic text")},{icon:ZE,title:"Heading",action:()=>z("# ","","Heading")},{icon:oT,title:"List",action:()=>z("- ","","List item")},{icon:wT,title:"Quote",action:()=>z("> ","","Quote")},{icon:LE,title:"Inline Code",action:()=>z("`","`","code")},{icon:Gs,title:"Code Block",action:()=>z("\n```\n","\n```\n","code block")},{icon:rT,title:"Link",action:()=>z("[","](url)","link text")},{icon:fT,title:"Horizontal Line",action:()=>z(`
---
`,"","")},{icon:mT,title:"Spacer (Empty Line)",action:()=>z(`

>>>

`,"","")}],q=U=>{if(!U)return"Never saved";const j=new Date-U;return j<6e4?"Saved just now":j<36e5?`Saved ${Math.floor(j/6e4)} minutes ago`:j<864e5?`Saved ${Math.floor(j/36e5)} hours ago`:`Saved on ${U.toLocaleDateString()} at ${U.toLocaleTimeString()}`};return t?a?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Nn,{className:"w-6 h-6 animate-spin text-blue-600"}),u.jsx("span",{className:"text-lg text-gray-600",children:"Loading your notes..."})]})}):u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[u.jsx(N0,{className:"w-8 h-8 text-yellow-600"}),"Personal Notes"]}),u.jsxs("p",{className:"text-gray-600",children:["Private notes for ",u.jsx("strong",{children:t.name})," (",t.rollNo,")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>S(!_),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all text-sm ${_?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx($1,{className:"w-4 h-4"}),"Tips"]}),u.jsx("button",{onClick:()=>w(!b),className:`px-4 py-2 rounded-xl transition-all text-sm ${b?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Markdown Help"}),u.jsxs("button",{onClick:B,disabled:o||!e.trim(),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(hs,{className:"w-4 h-4"}),"Clear All"]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 border border-gray-100 sticky top-[64px] z-20",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:m,className:"p-1.5 -ml-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Refresh notes",children:u.jsx(NT,{className:`w-4 h-4 ${a?"animate-spin":""}`})}),u.jsx("div",{className:"flex items-center gap-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx(Nn,{className:"w-4 h-4 animate-spin text-blue-600"}),u.jsx("span",{className:"text-sm text-blue-600",children:"Saving..."})]}):f?u.jsxs(u.Fragment,{children:[u.jsx(AE,{className:"w-4 h-4 text-red-600"}),u.jsx("span",{className:"text-sm text-red-600",children:"Error saving"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ws,{className:"w-4 h-4 text-green-600"}),u.jsx("span",{className:"text-sm text-gray-600",children:q(c)})]})}),u.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[u.jsx(Gs,{className:"w-4 h-4"}),u.jsxs("span",{children:[e.length," characters"]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-xl p-1",children:[u.jsxs("button",{onClick:()=>x("edit"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="edit"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[u.jsx(Ba,{className:"w-4 h-4"}),"Edit"]}),u.jsxs("button",{onClick:()=>x("split"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="split"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[u.jsxs("div",{className:"w-4 h-4 border border-current rounded-sm flex",children:[u.jsx("div",{className:"w-1/2 border-r border-current"}),u.jsx("div",{className:"w-1/2"})]}),"Split"]}),u.jsxs("button",{onClick:()=>x("preview"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${p==="preview"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[u.jsx(Oa,{className:"w-4 h-4"}),"Preview"]})]})]}),f&&u.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:f})]}),_&&u.jsx("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-200 animate-in fade-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx($1,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:" Tips for better note-taking:"}),u.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[u.jsx("li",{children:" Your notes are private and only visible to you"}),u.jsx("li",{children:" Use headings (#) to organize your content"}),u.jsx("li",{children:" Add links to external resources for quick access"}),u.jsx("li",{children:" Use --- for a page break/divider"}),u.jsx("li",{children:" Use >>> for a large empty line/gap"}),u.jsx("li",{children:" Notes are automatically saved as you type"}),u.jsx("li",{children:" Use the split view to see formatting in real-time"})]})]})]})}),b&&u.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[u.jsx("h3",{className:"font-bold text-blue-900 mb-4",children:"Markdown Quick Reference"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"# Heading 1"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"## Heading 2"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"**bold text**"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"*italic text*"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"`inline code`"})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"[Link](https://example.com)"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"- List item"})}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"> Quote"})}),u.jsxs("div",{className:"mb-2",children:[u.jsx("code",{children:"---"})," (horizontal rule)"]}),u.jsx("div",{className:"mb-2",children:u.jsx("code",{children:"``````"})})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[(p==="edit"||p==="split")&&u.jsx("div",{className:"sticky top-[138px] z-10 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b border-gray-200 p-3 rounded-t-2xl transition-all",children:u.jsx("div",{className:"flex items-center gap-1",children:G.map((U,R)=>u.jsx("button",{type:"button",onClick:j=>{j.preventDefault(),U.action()},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:U.title,children:u.jsx(U.icon,{className:"w-4 h-4"})},R))})}),u.jsxs("div",{className:"flex min-h-[500px] items-stretch",children:[(p==="edit"||p==="split")&&u.jsx("div",{className:`${p==="split"?"w-1/2 border-r border-gray-200":"w-full"} bg-white`,children:u.jsx("textarea",{ref:L,id:"notes-textarea",value:e,onChange:U=>{F.current=window.scrollY,n(U.target.value),U.target.style.height="auto",U.target.style.height=U.target.scrollHeight+"px",requestAnimationFrame(()=>{window.scrollTo(0,F.current)})},className:"w-full h-full p-6 border-none outline-none resize-none font-mono text-sm overflow-hidden min-h-[500px]",placeholder:`Write your personal notes here, ${t.name}...

You can use Markdown syntax:
# Headings
**Bold** and *italic* text
[Links](https://example.com)
- Lists
> Quotes
\`code\`

Your notes are automatically saved as you type.`})}),(p==="preview"||p==="split")&&u.jsx("div",{className:`${p==="split"?"w-1/2":"w-full"} bg-gray-50/50`,children:u.jsx("div",{className:"p-6 prose prose-sm max-w-none",children:e.trim()?u.jsx(uo,{remarkPlugins:[fo],components:{a:({href:U,children:R})=>u.jsx("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:R}),h1:({children:U})=>u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:U}),h2:({children:U})=>u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:U}),h3:({children:U})=>u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:U}),hr:()=>u.jsx("hr",{className:"my-8 border-t-2 border-gray-200"}),ul:({children:U})=>u.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-2 space-y-1",children:U}),ol:({children:U})=>u.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-2 space-y-1",children:U}),li:({children:U})=>u.jsx("li",{className:"text-gray-700",children:U}),blockquote:({children:U})=>u.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 py-1 text-gray-600 italic my-2",children:U}),p:({children:U})=>u.jsx("div",{className:"mb-4 text-gray-700",children:U}),code:({node:U,inline:R,className:j,children:O,...A})=>{const[D,P]=Y.useState(!1),k=/language-(\w+)/.exec(j||"");if(R)return u.jsx("code",{className:j,...A,children:O});const ce=()=>{navigator.clipboard.writeText(String(O).replace(/\n$/,"")),P(!0),setTimeout(()=>P(!1),2e3)};return u.jsxs("div",{className:"relative group my-4",children:[u.jsx("div",{className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{onClick:ce,className:"p-1.5 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 hover:text-white transition-all shadow-lg",title:"Copy code",children:D?u.jsx(to,{className:"w-4 h-4 text-green-400"}):u.jsx(UE,{className:"w-4 h-4"})})}),u.jsxs("pre",{className:"!mt-0 !mb-0 rounded-xl overflow-hidden bg-gray-900 !p-0",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20 border border-red-500/50"}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20 border border-green-500/50"})]}),u.jsx("span",{className:"text-xs text-gray-400 font-mono",children:k?k[1]:"text"})]}),u.jsx("code",{className:`${j} block p-4 text-sm font-mono text-gray-300 overflow-x-auto`,...A,children:O})]})]})}},children:e.replace(/>>>/g,`

&nbsp;

`).replace(/\n/g,`  
`)}):u.jsxs("div",{className:"text-gray-500 italic",children:["Your notes will appear here as you type...",u.jsx("br",{}),u.jsx("br",{}),"Try writing some ",u.jsx("strong",{children:"Markdown"}),":",u.jsx("br",{}),"# This is a heading",u.jsx("br",{}),"**This is bold text**",u.jsx("br",{}),"[This is a link](https://example.com)"]})})})]})]})]}):u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"text-center",children:[u.jsx(N0,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),u.jsx("p",{className:"text-gray-600",children:"Please select a student to view their personal notes"})]})})}function n2({options:t,value:e,onChange:n,label:s,placeholder:a="Select an option"}){const[o,c]=Y.useState(!1),f=Y.useRef(null),m=t.find(p=>p.value===e);return Y.useEffect(()=>{const p=x=>{f.current&&!f.current.contains(x.target)&&c(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),u.jsxs("div",{className:"relative",ref:f,children:[s&&u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s}),u.jsxs("button",{type:"button",onClick:()=>c(!o),className:`
                    w-full p-4 flex items-center justify-between
                    bg-white border-2 rounded-2xl transition-all duration-300
                    ${o?"border-blue-500 ring-4 ring-blue-500/20 shadow-xl":"border-gray-200 hover:border-blue-300 hover:shadow-md"}
                `,children:[u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[m?.icon&&u.jsx("div",{className:`p-1.5 rounded-lg ${m.iconBg||"bg-gray-100"}`,children:u.jsx(m.icon,{className:`w-5 h-5 ${m.iconColor||"text-gray-600"}`})}),u.jsx("span",{className:`text-lg font-medium ${m?"text-gray-900":"text-gray-500"}`,children:m?m.label:a})]}),u.jsx(gf,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-blue-500":""}`})]}),u.jsx("div",{className:`
                    absolute z-50 w-full mt-2 bg-white rounded-2xl border border-gray-100 shadow-2xl overflow-hidden origin-top transition-all duration-300 ease-out
                    ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-4 pointer-events-none"}
                `,children:u.jsx("div",{className:"p-2 space-y-1 max-h-80 overflow-y-auto custom-scrollbar",children:t.map(p=>{const x=p.value===e;return u.jsxs("button",{onClick:()=>{n(p.value),c(!1)},className:`
                                    w-full p-3 flex items-center justify-between rounded-xl transition-all
                                    ${x?"bg-blue-50 text-blue-900":"hover:bg-gray-50 text-gray-700"}
                                `,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[p.icon&&u.jsx("div",{className:`p-1.5 rounded-lg ${p.iconBg||"bg-gray-100"}`,children:u.jsx(p.icon,{className:`w-4 h-4 ${p.iconColor||"text-gray-500"}`})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:`font-medium ${x?"text-blue-900":"text-gray-900"}`,children:p.label}),p.description&&u.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:p.description})]})]}),x&&u.jsx(to,{className:"w-5 h-5 text-blue-600"})]},p.value)})})})]})}function CI({semester:t,setSemester:e,studentManagement:n}){const{students:s,selectedStudent:a,isAdmin:o,isLoading:c,createStudent:f,deleteStudent:m,selectStudent:p,authenticateStudent:x,updateStudentPassword:b,updateStudentRole:w,updateStudentName:_}=n,S=a?.role==="co-leader"&&a?.rollNo!==Pe.rollNo,M=a?.permissions||{},L=o||S&&M.canCreateUsers,F=o||S&&M.canAppointCoLeaders,[B,z]=Y.useState(!1),[G,q]=Y.useState({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1}),[U,R]=Y.useState(!1),[j,O]=Y.useState(!1),[A,D]=Y.useState(!1),[P,k]=Y.useState(null),[ce,pe]=Y.useState(null),[K,ue]=Y.useState(""),[ne,J]=Y.useState(!1),[N,X]=Y.useState(""),[Z,C]=Y.useState(!1),[ae,be]=Y.useState(!1),[oe,ve]=Y.useState(""),[Te,it]=Y.useState(!1),[lt,_e]=Y.useState(""),[dt,bt]=Y.useState(!1),[rn,hn]=Y.useState(""),[Fr,It]=Y.useState(""),[qr,dr]=Y.useState(null),[Hn,fr]=Y.useState(!1),[Yi,hr]=Y.useState(!1),[$n,ys]=Y.useState(null),[se,ge]=Y.useState({password:"",confirmPassword:""}),[ke,De]=Y.useState(!1),[$e,mn]=Y.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),sn=Y.useMemo(()=>{if(!K.trim())return s;const de=K.toLowerCase();return s.filter(Ue=>Ue.name.toLowerCase().includes(de)||Ue.rollNo.toLowerCase().includes(de))},[s,K]),Zt=()=>{X(a.name),J(!0)},Sn=()=>{J(!1),X("")},Ft=async()=>{if(!N.trim()){Se.error("Name cannot be empty");return}try{C(!0),await _(a.rollNo,N),Se.success(" Name updated successfully!"),J(!1)}catch(de){Se.error(` Error updating name: ${de.message}`)}finally{C(!1)}},Ct=de=>{mn(de),De(!0)},An=()=>{$e.onConfirm(),De(!1)},pn=()=>{De(!1)},Qi=async de=>{if(de.rollNo===Pe.rollNo&&a?.rollNo!==Pe.rollNo){be(!0),_e("");return}if(de.isProtected&&de.rollNo!==a?.rollNo){dr(de),hn(""),It(""),bt(!0);return}p(de)},Xi=async de=>{if(de.preventDefault(),!oe.trim()){_e("Please enter admin password");return}it(!0),_e(""),setTimeout(async()=>{const Ue=s.find(Ji=>Ji.rollNo===Pe.rollNo);await x(Ue,oe)?(p(Ue),be(!1),ve("")):(_e("Incorrect admin password. Please try again."),ve("")),it(!1)},800)},kr=async de=>{if(de.preventDefault(),!rn.trim()){It("Please enter password");return}fr(!0),It("");try{await x(qr,rn)?(p(qr),bt(!1),dr(null),hn("")):(It("Incorrect password. Please try again."),hn(""))}catch{It("Authentication failed. Please try again.")}finally{fr(!1)}},Rr=()=>{bt(!1),dr(null),hn(""),It("")},Ki=()=>{be(!1),ve(""),_e("")},mr=async de=>{if(de.preventDefault(),!G.rollNo.trim()||!G.name.trim()){Se.error("Please fill in both roll number and name");return}if(U&&!G.password.trim()){Se.error("Please enter a password or uncheck password protection");return}try{D(!0);const Ue=Number(G.admissionYear),At=new Date().getFullYear();if(!Number.isInteger(Ue)||Ue<2e3||Ue>At){Se.error("Please enter a valid admission year"),D(!1);return}await f(G.rollNo.trim(),G.name.trim(),U?G.password.trim():"",G.role,Ue,G.isDSY),q({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1}),R(!1),z(!1),Se.success(" Student created successfully!")}catch(Ue){Se.error(` Error creating student: ${Ue.message}`)}finally{D(!1)}},Zi=async(de,Ue)=>{if(de===Pe.rollNo){Se.error("Cannot delete admin student");return}Ct({title:"Delete Student",message:`Are you sure you want to delete "${Ue}" (${de})?

This will permanently delete all their academic data and cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{try{k(de),await m(de),Se.success(" Student deleted successfully!")}catch(At){Se.error(` Error deleting student: ${At.message}`)}finally{k(null)}}})},Dr=async(de,Ue)=>{if(de.rollNo===Pe.rollNo){Se.error("Cannot change admin role");return}const At={student:"Student","co-leader":"Co-Leader"};Ct({title:"Change Role",message:`Change ${de.name}'s role to ${At[Ue]}?

${Ue==="co-leader"?"Co-leaders can create and manage notices.":"Students have standard access only."}`,confirmText:"Change Role",cancelText:"Cancel",confirmColor:"blue",icon:"warning",onConfirm:async()=>{try{pe(de.rollNo),await w(de.rollNo,Ue),Se.success(` ${de.name}'s role updated to ${At[Ue]}!`)}catch(Ji){Se.error(` Error updating role: ${Ji.message}`)}finally{pe(null)}}})},bs=de=>{ys(de),hr(!0),ge({password:"",confirmPassword:""})},Hr=async de=>{if(de.preventDefault(),se.password!==se.confirmPassword){Se.error("Passwords do not match");return}if(!se.password.trim()){Se.error("Please enter a password");return}try{const Ue=$n?.isProtected;await b($n.rollNo,se.password),hr(!1),ys(null),Ue?Se.success(" Password updated successfully!"):Se.success(" Password added successfully!")}catch(Ue){Se.error(` Error updating password: ${Ue.message}`)}},Ga=async de=>{Ct({title:"Remove Password Protection",message:`Remove password protection from ${de.name}?

This will allow unrestricted access to their account.`,confirmText:"Remove",cancelText:"Cancel",confirmColor:"orange",icon:"warning",onConfirm:async()=>{try{await b(de.rollNo,"",!0),Se.success(" Password protection removed!")}catch(Ue){Se.error(` Error removing password: ${Ue.message}`)}}})},_t=()=>{ue("")},Nt=de=>{switch(de){case"admin":return{name:"Admin",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:Jn};case"co-leader":return{name:"Co-Leader",color:"text-purple-600",bgColor:"bg-purple-100",icon:wn};default:return{name:"Student",color:"text-blue-600",bgColor:"bg-blue-100",icon:zr}}};return c?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Nn,{className:"w-6 h-6 animate-spin text-blue-600"}),u.jsx("span",{className:"text-lg text-gray-600",children:"Loading students..."})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[u.jsx(d4,{open:ke,title:$e.title,message:$e.message,confirmText:$e.confirmText,cancelText:$e.cancelText,confirmColor:$e.confirmColor,icon:$e.icon,onConfirm:An,onCancel:pn}),ae&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Jn,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),u.jsxs("p",{className:"text-gray-600",children:["Enter admin password to switch to ",Pe.name]})]}),u.jsxs("form",{onSubmit:Xi,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Qt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Admin password",value:oe,onChange:de=>ve(de.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:Te,autoFocus:!0})]}),lt&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:lt}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",disabled:Te||!oe.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:Te?u.jsxs(u.Fragment,{children:[u.jsx(Nn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Authenticating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Jn,{className:"w-4 h-4"}),u.jsx("span",{children:"Switch to Admin"})]})}),u.jsx("button",{type:"button",onClick:Ki,disabled:Te,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),dt&&qr&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Qt,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Student Authentication"}),u.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",qr.name,"'s account"]})]}),u.jsxs("form",{onSubmit:kr,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Qt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Enter password",value:rn,onChange:de=>hn(de.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:Hn,autoFocus:!0})]}),Fr&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:Fr}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",disabled:Hn||!rn.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:Hn?u.jsxs(u.Fragment,{children:[u.jsx(Nn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Authenticating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Qt,{className:"w-4 h-4"}),u.jsx("span",{children:"Access Account"})]})}),u.jsx("button",{type:"button",onClick:Rr,disabled:Hn,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),Yi&&$n&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(ki,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:$n?.isProtected?"Change Password":"Add Password"}),u.jsxs("p",{className:"text-gray-600",children:["Set new password for ",$n.name]})]}),u.jsxs("form",{onSubmit:Hr,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Qt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"New password",value:se.password,onChange:de=>ge({...se,password:de.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,autoFocus:!0})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Qt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Confirm password",value:se.confirmPassword,onChange:de=>ge({...se,confirmPassword:de.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all font-medium",children:[u.jsx(ki,{className:"w-4 h-4"}),u.jsx("span",{children:$n?.isProtected?"Update Password":"Set Password"})]}),u.jsx("button",{type:"button",onClick:()=>hr(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Student & Semester Management"}),u.jsx("p",{className:"text-gray-600",children:"Manage students, roles, and select current semester"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(zr,{className:"w-5 h-5"}),"Current Student",a?.rollNo===Pe.rollNo&&u.jsx(Jn,{className:"w-4 h-4 text-yellow-500"})]}),a&&u.jsx("div",{className:`relative overflow-hidden rounded-2xl p-0.5 shadow-lg transition-all hover:shadow-xl ${a.rollNo===Pe.rollNo?"bg-gradient-to-br from-amber-200 via-yellow-100 to-orange-100":a.role==="co-leader"?"bg-gradient-to-br from-purple-200 via-fuchsia-100 to-pink-100":"bg-gradient-to-br from-blue-200 via-sky-100 to-indigo-100"}`,children:u.jsx("div",{className:`relative rounded-[14px] p-4 backdrop-blur-sm ${a.rollNo===Pe.rollNo||a.role==="co-leader"?"bg-white/60":"bg-white/80"}`,children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center gap-2",children:ne?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:N,onChange:de=>X(de.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-bold text-gray-900",autoFocus:!0,onKeyDown:de=>{de.key==="Enter"&&Ft(),de.key==="Escape"&&Sn()}}),u.jsx("button",{onClick:Ft,disabled:Z,className:"p-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all",title:"Save Name",children:Z?u.jsx(Nn,{className:"w-4 h-4 animate-spin"}):u.jsx(to,{className:"w-4 h-4"})}),u.jsx("button",{onClick:Sn,disabled:Z,className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",title:"Cancel",children:u.jsx(fn,{className:"w-4 h-4"})})]}):u.jsxs("div",{className:"flex items-center gap-2 group",children:[u.jsx("p",{className:`font-bold ${a.rollNo===Pe.rollNo?"text-yellow-900":a.role==="co-leader"?"text-purple-900":"text-blue-900"}`,children:a.name}),u.jsx("button",{onClick:Zt,className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-blue-600 transition-all",title:"Edit Name",children:u.jsx(Ba,{className:"w-3 h-3"})})]})}),u.jsxs("p",{className:`text-sm ${a.rollNo===Pe.rollNo?"text-yellow-700":a.role==="co-leader"?"text-purple-700":"text-blue-700"}`,children:["Roll No: ",a.rollNo]}),a.admissionYear&&u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Admission: ",a.admissionYear||"N/A"," ",a.isDSY?"(DSY)":""]}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsxs("div",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${Nt(a.role||"student").bgColor}`,children:[yt.createElement(Nt(a.role||"student").icon,{className:`w-3 h-3 ${Nt(a.role||"student").color}`}),u.jsx("span",{className:Nt(a.role||"student").color,children:Nt(a.role||"student").name})]}),a.isProtected&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Qt,{className:"w-3 h-3 text-blue-600"}),u.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]})]})})})})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Semester"}),u.jsxs("div",{className:"relative",children:[" ",u.jsx(n2,{options:(a?.isDSY?[3,4,5,6,7,8]:[1,2,3,4,5,6,7,8]).map(de=>({value:de,label:`Semester ${de}`,description:`${Hs[de].theory.length} theory + ${Hs[de].practical.length} practical`,icon:wn,iconColor:"text-blue-500",iconBg:"bg-blue-50"})),value:t,onChange:de=>e(Number(de)),placeholder:"Select Semester"})]}),u.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(wn,{className:"w-4 h-4 text-blue-600 mt-1"}),u.jsxs("div",{children:[u.jsxs("h4",{className:"font-medium text-blue-900 text-sm",children:["Semester ",t," Overview"]}),u.jsxs("p",{className:"text-xs text-blue-700",children:[Hs[t].theory.length," theory subjects and ",Hs[t].practical.length," practical labs"]})]})]})}),a?.isDSY&&u.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-xl border border-yellow-200 text-sm text-yellow-700",children:"Note: DSY students start from Semester 3  Semesters 1 & 2 are hidden for DSY students."})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(ms,{className:"w-5 h-5"}),"Select Student (",s.length," total)"]}),L&&u.jsxs("button",{onClick:()=>z(!B),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:[u.jsx(os,{className:"w-4 h-4"}),"Add Student"]})]}),u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(yf,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:K,onChange:de=>ue(de.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),K&&u.jsx("button",{onClick:_t,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(fn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),B&&L&&u.jsxs("form",{onSubmit:mr,className:"mb-6 p-4 bg-green-50 rounded-2xl border border-green-200",children:[u.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Create New Student"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[u.jsx("input",{type:"text",placeholder:"Roll Number (e.g., 2405226)",value:G.rollNo,onChange:de=>q({...G,rollNo:de.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),u.jsx("input",{type:"text",placeholder:"Full Name",value:G.name,onChange:de=>q({...G,name:de.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),u.jsxs("div",{className:"mb-3 relative",children:[" ",u.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Role"}),u.jsx(n2,{options:[{value:"student",label:"Student",icon:zr,iconColor:"text-blue-500",iconBg:"bg-blue-50",description:"Standard access"},{value:"co-leader",label:"Co-Leader",icon:wn,iconColor:"text-purple-500",iconBg:"bg-purple-50",description:"Can manage certain notices"}],value:G.role,onChange:de=>q({...G,role:de}),placeholder:"Select Role"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Admission Year"}),u.jsx("input",{type:"number",min:"2000",max:new Date().getFullYear(),value:G.admissionYear,onChange:de=>q({...G,admissionYear:de.target.value}),className:"w-full p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Direct Second Year (DSY)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{id:"is-dsy",type:"checkbox",checked:G.isDSY,onChange:de=>q({...G,isDSY:de.target.checked}),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),u.jsx("label",{htmlFor:"is-dsy",className:"text-sm text-gray-700",children:"Is DSY (Direct Second Year)"})]})]})]}),u.jsx("div",{className:"mb-3",children:u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:U,onChange:de=>R(de.target.checked),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),u.jsxs("span",{className:"text-sm font-medium text-green-900 flex items-center gap-1",children:[u.jsx(Ys,{className:"w-4 h-4"}),"Password protect this account"]})]})}),U&&u.jsxs("div",{className:"relative mb-3",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Qt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:j?"text":"password",placeholder:"Password",value:G.password,onChange:de=>q({...G,password:de.target.value}),className:"w-full pl-10 pr-10 p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:U}),u.jsx("button",{type:"button",onClick:()=>O(!j),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:j?u.jsx(Vi,{className:"w-4 h-4 text-gray-400"}):u.jsx(Oa,{className:"w-4 h-4 text-gray-400"})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"submit",disabled:A,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all disabled:opacity-50",children:[A?u.jsx(Nn,{className:"w-4 h-4 animate-spin"}):u.jsx(os,{className:"w-4 h-4"}),A?"Creating...":"Create Student"]}),u.jsx("button",{type:"button",onClick:()=>z(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]}),S&&L&&!o&&u.jsx("div",{className:"mb-4 p-3 bg-purple-50 rounded-xl border border-purple-200",children:u.jsxs("p",{className:"text-sm text-purple-700",children:[u.jsx(wn,{className:"w-4 h-4 inline mr-1"}),"As a co-leader, you can create new student accounts with your granted permissions."]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:sn.length>0?sn.map(de=>{const Ue=Nt(de.role||"student");return u.jsxs("div",{className:`
                    p-4 rounded-2xl border-2 transition-all cursor-pointer relative
                    ${a?.rollNo===de.rollNo?de.rollNo===Pe.rollNo?"border-yellow-500 bg-yellow-50":de.role==="co-leader"?"border-purple-500 bg-purple-50":"border-blue-500 bg-blue-50":de.rollNo===Pe.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300":de.role==="co-leader"?"border-purple-200 bg-purple-50 hover:border-purple-300":de.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300":"border-gray-200 bg-gray-50 hover:border-blue-300"}
                  `,onClick:()=>Qi(de),children:[de.isProtected&&u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx(Qt,{className:"w-4 h-4 text-blue-600"})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h4",{className:"font-bold text-gray-900",children:de.name}),yt.createElement(Ue.icon,{className:`w-4 h-4 ${Ue.color}`})]}),u.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Roll: ",de.rollNo]}),u.jsx("div",{className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full ${Ue.bgColor}`,children:u.jsx("span",{className:Ue.color,children:Ue.name})}),u.jsx("div",{className:"mt-2",children:a?.rollNo===de.rollNo?u.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Currently Selected"}):de.isProtected?u.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Password Protected"}):null})]}),(o||F)&&de.rollNo!==Pe.rollNo&&u.jsx("div",{className:"flex flex-col gap-1",children:u.jsxs("div",{className:"flex gap-1",children:[de.role!=="co-leader"&&u.jsx("button",{onClick:At=>{At.stopPropagation(),Dr(de,"co-leader")},disabled:ce===de.rollNo,className:"p-1 text-purple-500 hover:bg-purple-100 rounded transition-all",title:"Make Co-Leader",children:u.jsx(pp,{className:"w-3 h-3"})}),de.role==="co-leader"&&u.jsx("button",{onClick:At=>{At.stopPropagation(),Dr(de,"student")},disabled:ce===de.rollNo,className:"p-1 text-gray-500 hover:bg-gray-100 rounded transition-all",title:"Remove Co-Leader",children:u.jsx(FT,{className:"w-3 h-3"})})]})}),o&&de.rollNo!==Pe.rollNo&&u.jsxs("div",{className:"flex flex-col gap-1",children:[de.isProtected?u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:At=>{At.stopPropagation(),bs(de)},className:"p-1 text-blue-500 hover:bg-blue-100 rounded transition-all",title:"Change Password",children:u.jsx(ki,{className:"w-3 h-3"})}),u.jsx("button",{onClick:At=>{At.stopPropagation(),Ga(de)},className:"p-1 text-orange-500 hover:bg-orange-100 rounded transition-all",title:"Remove Password",children:u.jsx(Ys,{className:"w-3 h-3"})})]}):u.jsx("div",{className:"flex gap-1",children:u.jsx("button",{onClick:At=>{At.stopPropagation(),bs(de)},className:"p-1 text-green-500 hover:bg-green-100 rounded transition-all",title:"Add Password",children:u.jsx(ki,{className:"w-3 h-3"})})}),u.jsx("button",{onClick:At=>{At.stopPropagation(),Zi(de.rollNo,de.name)},disabled:P===de.rollNo,className:"p-1 text-red-500 hover:bg-red-100 rounded transition-all disabled:opacity-50",title:"Delete Student",children:P===de.rollNo?u.jsx(Nn,{className:"w-3 h-3 animate-spin"}):u.jsx(hs,{className:"w-3 h-3"})})]})]})]},de.rollNo)}):u.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[u.jsx(ms,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsxs("p",{children:['No students found matching "',K,'"']})]})})]})]})}function kI({selectedStudent:t}){const[e,n]=Y.useState(!1),[s,a]=Y.useState(!1);if(!t)return null;const o=Number(t.admissionYear)||null,c=o?o+4:null,f=new Date().getFullYear(),m=c&&f>=c,p=()=>{n(!0),Se.success(` Congratulations! ${t.name} marked as graduated!`)},x=()=>{a(!0),setTimeout(()=>{a(!1),Se.success(" Transcript exported successfully!")},1500)};return u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[u.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 text-center bg-gray-900 border border-gray-800 shadow-2xl",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-green-500 to-emerald-800 rounded-full blur-[100px] opacity-20"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-blue-500 to-indigo-800 rounded-full blur-[100px] opacity-20"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",children:u.jsx(Va,{className:"w-10 h-10 text-green-400 drop-shadow-[0_0_15px_rgba(74,222,128,0.5)]"})}),u.jsx("h2",{className:"text-3xl font-extrabold text-white mb-2 tracking-tight",children:"Degree Completion"}),u.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-lg",children:"Track graduation eligibility and manage degree certification"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden",children:[u.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:u.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(s2,{className:"w-5 h-5 text-indigo-500"}),"Current Status"]})}),u.jsxs("div",{className:"p-8",children:[u.jsx("div",{className:`p-6 rounded-2xl border mb-8 ${e?"bg-green-50 border-green-200":m?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${e?"bg-green-500 text-white shadow-lg shadow-green-200":m?"bg-blue-500 text-white shadow-lg shadow-blue-200":"bg-gray-200 text-gray-500"}`,children:e?u.jsx(G1,{className:"w-6 h-6"}):u.jsx(xf,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h4",{className:`text-xl font-bold mb-1 ${e?"text-green-900":m?"text-blue-900":"text-gray-900"}`,children:e?"Graduated":m?"Eligible for Graduation":"In Progress"}),u.jsx("p",{className:`${e?"text-green-700":m?"text-blue-700":"text-gray-500"}`,children:e?`${t.name} has successfully completed their degree.`:m?`${t.name} has completed the required academic period.`:`${t.name} is currently pursuing their degree.`})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!e&&u.jsxs("button",{onClick:p,disabled:!m&&t.rollNo!==Pe.rollNo,className:`p-4 rounded-xl border-2 border-dashed flex flex-col items-center justify-center gap-3 transition-all ${m||t.rollNo===Pe.rollNo?"border-green-300 bg-green-50 hover:bg-green-100 cursor-pointer hover:border-green-400 hover:shadow-md":"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed"}`,children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:u.jsx(pp,{className:"w-5 h-5"})}),u.jsx("span",{className:"font-semibold text-green-900",children:"Mark as Graduated"})]}),u.jsxs("button",{onClick:x,disabled:s,className:"p-4 rounded-xl border-2 border-dashed border-indigo-200 bg-indigo-50 hover:bg-indigo-100 flex flex-col items-center justify-center gap-3 transition-all cursor-pointer hover:border-indigo-300 hover:shadow-md",children:[s?u.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:u.jsx(G1,{className:"w-6 h-6 text-indigo-500 animate-spin"})}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600",children:u.jsx(Gs,{className:"w-5 h-5"})}),u.jsx("span",{className:"font-semibold text-indigo-900",children:s?"Exporting...":"Export Transcript"})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-6 h-fit",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[u.jsx(jr,{className:"w-5 h-5 text-orange-500"}),"Timeline"]}),u.jsxs("div",{className:"space-y-6 relative before:absolute before:left-3.5 before:top-2 before:bottom-2 before:w-0.5 before:bg-gray-100",children:[u.jsxs("div",{className:"relative pl-10",children:[u.jsx("div",{className:"absolute left-0 top-0 w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center border-4 border-white shadow-sm z-10",children:u.jsx("span",{className:"text-xs font-bold text-orange-600",children:"1"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Admission"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic Year"}),u.jsx("p",{className:"font-mono text-sm text-gray-700 font-medium bg-gray-50 inline-block px-2 py-1 rounded mt-1",children:o||"N/A"})]})]}),u.jsxs("div",{className:"relative pl-10",children:[u.jsx("div",{className:"absolute left-0 top-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center border-4 border-white shadow-sm z-10",children:u.jsx("span",{className:"text-xs font-bold text-green-600",children:"4"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Expected Completion"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"4-Year Program"}),u.jsx("p",{className:"font-mono text-sm text-gray-700 font-medium bg-gray-50 inline-block px-2 py-1 rounded mt-1",children:c||"N/A"})]})]})]}),u.jsx("div",{className:"mt-8 p-4 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl border border-yellow-100 text-center",children:u.jsx("p",{className:"text-yellow-800 text-sm italic font-medium",children:'"Success is the sum of small efforts, repeated day in and day out."'})})]})]})]})}const bc={canCreateUsers:!1,canPostNotices:!0,canAppointCoLeaders:!1,canManagePasswords:!1};function RI({selectedStudent:t,studentManagement:e,onNavigateToTab:n}){const{students:s,isAdmin:a,updateStudentRole:o,updateStudentPassword:c,updateCoLeaderPermissions:f}=e,[m,p]=Y.useState(null),[x,b]=Y.useState(""),[w,_]=Y.useState(!1),[S,M]=Y.useState(null),[L,F]=Y.useState("add"),[B,z]=Y.useState(""),[G,q]=Y.useState(""),[U,R]=Y.useState(!1),[j,O]=Y.useState(null),[A,D]=Y.useState(!1),P=t?.role==="co-leader"&&t?.rollNo!==Pe.rollNo,k=Y.useMemo(()=>a?null:P?t?.permissions||bc:null,[a,P,t]),ce=Y.useMemo(()=>s.filter(Z=>Z.role==="co-leader"&&Z.rollNo!==Pe.rollNo),[s]),pe=Y.useMemo(()=>{let Z=s;if(P&&!a&&(Z=Z.filter(ae=>ae.rollNo!==Pe.rollNo)),!x.trim())return Z;const C=x.toLowerCase();return Z.filter(ae=>ae.name.toLowerCase().includes(C)||ae.rollNo.toLowerCase().includes(C))},[s,x,P,a]),K=async(Z,C,ae)=>{if(!a){Se.error("Only admin can modify co-leader permissions");return}O(`${Z}-${C}`);try{const ve={...s.find(Te=>Te.rollNo===Z)?.permissions||bc,[C]:!ae};await f(Z,ve),Se.success("Permission updated successfully!")}catch(be){Se.error(`Failed to update permission: ${be.message}`)}finally{O(null)}},ue=(Z,C)=>{M(Z),F(C),z(""),q(""),R(!1),_(!0)},ne=async()=>{if(L!=="remove"){if(!B.trim()){Se.error("Please enter a password");return}if(B!==G){Se.error("Passwords do not match");return}}D(!0);try{L==="remove"?(await c(S.rollNo,"",!0),Se.success("Password removed successfully!")):(await c(S.rollNo,B),Se.success(L==="add"?"Password added successfully!":"Password changed successfully!")),_(!1)}catch(Z){Se.error(`Failed to ${L} password: ${Z.message}`)}finally{D(!1)}},J=Z=>{switch(Z){case"createUser":n(4,{showCreateForm:!0});break;case"manageNotices":n(2);break;case"viewStudents":n(4);break}},N={canCreateUsers:{label:"Create Users",desc:"Can create new student accounts",icon:X1},canPostNotices:{label:"Post Notices",desc:"Can create and manage notices",icon:ka},canAppointCoLeaders:{label:"Appoint Co-Leaders",desc:"Can promote students to co-leader role",icon:wn},canManagePasswords:{label:"Manage Passwords",desc:"Can add, change, or remove user passwords",icon:ki}},X=(Z,C)=>{const be=(Z.permissions||bc)[C]??bc[C],oe=j===`${Z.rollNo}-${C}`,ve=N[C].icon;return u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${be?"bg-green-100":"bg-gray-200"}`,children:u.jsx(ve,{className:`w-4 h-4 ${be?"text-green-600":"text-gray-500"}`})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 text-sm",children:N[C].label}),u.jsx("p",{className:"text-xs text-gray-500",children:N[C].desc})]})]}),u.jsx("button",{onClick:()=>K(Z.rollNo,C,be),disabled:oe||!a,className:`relative w-12 h-6 rounded-full transition-all ${be?"bg-green-500":"bg-gray-300"} ${a?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:oe?u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx(Nn,{className:"w-4 h-4 animate-spin text-white"})}):u.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-all ${be?"left-6":"left-0.5"}`})})]},C)};return t?!a&&!P?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Ys,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),u.jsx("p",{className:"text-gray-600",children:"Only admins and co-leaders can access this panel"})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[w&&S&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 ${L==="remove"?"bg-gradient-to-r from-red-500 to-orange-500":"bg-gradient-to-r from-blue-500 to-purple-500"}`,children:u.jsx(ki,{className:"w-8 h-8 text-white"})}),u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[L==="add"&&"Add Password",L==="change"&&"Change Password",L==="remove"&&"Remove Password"]}),u.jsx("p",{className:"text-gray-600",children:L==="remove"?`Remove password protection from ${S.name}?`:`Set password for ${S.name}`})]}),L!=="remove"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Qt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:U?"text":"password",placeholder:"New password",value:B,onChange:Z=>z(Z.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),u.jsx("button",{type:"button",onClick:()=>R(!U),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:U?u.jsx(Vi,{className:"w-5 h-5 text-gray-400"}):u.jsx(Oa,{className:"w-5 h-5 text-gray-400"})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(Qt,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:U?"text":"password",placeholder:"Confirm password",value:G,onChange:Z=>q(Z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),L==="remove"&&u.jsx("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200 mb-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(zd,{className:"w-5 h-5 text-red-600 mt-0.5"}),u.jsx("p",{className:"text-sm text-red-700",children:"This will allow anyone to access this student's account without a password."})]})}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{onClick:ne,disabled:A,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium ${L==="remove"?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"}`,children:A?u.jsxs(u.Fragment,{children:[u.jsx(Nn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{children:"Processing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(ki,{className:"w-4 h-4"}),u.jsx("span",{children:L==="remove"?"Remove Password":"Save Password"})]})}),u.jsx("button",{type:"button",onClick:()=>_(!1),disabled:A,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})}),u.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 mb-8 text-center bg-gray-900 border border-gray-800 shadow-2xl",children:[u.jsx("div",{className:`absolute top-0 right-0 w-64 h-64 bg-gradient-to-br rounded-full blur-[100px] opacity-30 ${a?"from-yellow-600 to-amber-800":"from-purple-600 to-pink-800"}`}),u.jsx("div",{className:`absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr rounded-full blur-[100px] opacity-30 ${a?"from-amber-600 to-yellow-800":"from-pink-600 to-purple-800"}`}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",children:a?u.jsx(Jn,{className:"w-10 h-10 text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"}):u.jsx(wn,{className:"w-10 h-10 text-purple-400 drop-shadow-[0_0_15px_rgba(192,132,252,0.5)]"})}),u.jsx("h2",{className:"text-4xl font-extrabold text-white mb-2 tracking-tight",children:"Admin Privileges"}),u.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-lg",children:a?"Manage co-leader permissions and quick admin actions with executive control":"View your assigned permissions and accessible management tools"})]})]}),u.jsxs("div",{className:`relative overflow-hidden rounded-3xl p-1 border shadow-xl ${a?"bg-gradient-to-br from-amber-200/50 via-yellow-100/50 to-orange-100/50 border-amber-200":"bg-gradient-to-br from-purple-200/50 via-fuchsia-100/50 to-pink-100/50 border-purple-200"}`,children:[u.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-overlay bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),u.jsxs("div",{className:"relative flex items-center gap-6 p-6 rounded-[20px] backdrop-blur-sm bg-white/40",children:[u.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg ${a?"bg-gradient-to-br from-yellow-400 to-amber-600 text-white":"bg-gradient-to-br from-purple-500 to-fuchsia-600 text-white"}`,children:a?u.jsx(Jn,{className:"w-8 h-8 drop-shadow-md"}):u.jsx(wn,{className:"w-8 h-8 drop-shadow-md"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h3",{className:`font-bold text-2xl ${a?"text-amber-900":"text-purple-900"}`,children:a?"Administrator":"Co-Leader"}),u.jsx("span",{className:`px-3 py-0.5 rounded-full text-xs font-bold uppercase tracking-wider ${a?"bg-amber-900/10 text-amber-900":"bg-purple-900/10 text-purple-900"}`,children:"Verified"})]}),u.jsxs("p",{className:`font-medium ${a?"text-amber-700":"text-purple-700"}`,children:[t.name," ",u.jsx("span",{className:"opacity-60",children:""})," ",t.rollNo]})]}),u.jsx("div",{className:"ml-auto hidden md:block opacity-10 scale-150 transform translate-x-4",children:a?u.jsx(Jn,{size:120}):u.jsx(wn,{size:120})})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg",children:u.jsx(Fa,{className:"w-5 h-5 text-gray-700"})}),"Quick Actions"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(a||k?.canCreateUsers)&&u.jsxs("button",{onClick:()=>J("createUser"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-green-50 hover:from-green-50 hover:to-green-100 rounded-2xl border border-green-100 hover:border-green-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(X1,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-bold text-green-900 text-lg group-hover:text-green-800",children:"Create User"}),u.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Add new student"})]}),u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-green-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-green-300/30 transition-all"})]}),(a||k?.canPostNotices)&&u.jsxs("button",{onClick:()=>J("manageNotices"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-blue-50 hover:from-blue-50 hover:to-blue-100 rounded-2xl border border-blue-100 hover:border-blue-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(ka,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-bold text-blue-900 text-lg group-hover:text-blue-800",children:"Manage Notices"}),u.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Create & edit notices"})]}),u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-blue-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-blue-300/30 transition-all"})]}),u.jsxs("button",{onClick:()=>J("viewStudents"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-purple-50 hover:from-purple-50 hover:to-purple-100 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-fuchsia-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:u.jsx(ms,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-bold text-purple-900 text-lg group-hover:text-purple-800",children:"View Students"}),u.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Student management"})]}),u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-purple-300/30 transition-all"})]})]})]}),a&&u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(wn,{className:"w-5 h-5 text-purple-500"}),"Co-Leader Permissions",u.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",ce.length," co-leader",ce.length!==1?"s":"",")"]})]}),ce.length===0?u.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-2xl",children:[u.jsx(wn,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),u.jsx("p",{className:"text-gray-600 mb-2",children:"No co-leaders appointed yet"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Go to Student & Settings to promote students to co-leader role"})]}):u.jsx("div",{className:"space-y-4",children:ce.map(Z=>u.jsxs("div",{className:"border border-gray-200 rounded-2xl overflow-hidden",children:[u.jsxs("button",{onClick:()=>p(m===Z.rollNo?null:Z.rollNo),className:"w-full flex items-center justify-between p-4 bg-purple-50 hover:bg-purple-100 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-xl flex items-center justify-center",children:u.jsx(wn,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-purple-900",children:Z.name}),u.jsx("p",{className:"text-sm text-purple-700",children:Z.rollNo})]})]}),m===Z.rollNo?u.jsx(fp,{className:"w-5 h-5 text-purple-600"}):u.jsx(gf,{className:"w-5 h-5 text-purple-600"})]}),m===Z.rollNo&&u.jsx("div",{className:"p-4 space-y-3 bg-white",children:Object.keys(N).map(C=>X(Z,C))})]},Z.rollNo))})]}),P&&k&&u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Ys,{className:"w-5 h-5 text-purple-500"}),"Your Permissions"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(N).map(([Z,C])=>{const ae=k[Z]??bc[Z],be=C.icon;return u.jsx("div",{className:`p-4 rounded-2xl border ${ae?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${ae?"bg-green-500":"bg-gray-400"}`,children:u.jsx(be,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:`font-medium ${ae?"text-green-900":"text-gray-700"}`,children:C.label}),u.jsx("p",{className:"text-xs text-gray-500",children:C.desc})]}),u.jsx("div",{className:"ml-auto",children:ae?u.jsx(to,{className:"w-5 h-5 text-green-600"}):u.jsx(fn,{className:"w-5 h-5 text-gray-400"})})]})},Z)})})]}),(a||k?.canManagePasswords)&&u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(ki,{className:"w-5 h-5 text-blue-500"}),"Password Management"]}),u.jsxs("div",{className:"relative mb-4",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:u.jsx(yf,{className:"w-5 h-5 text-gray-400"})}),u.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:x,onChange:Z=>b(Z.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),x&&u.jsx("button",{onClick:()=>b(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(fn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:pe.map(Z=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${Z.rollNo===Pe.rollNo?"bg-yellow-100":Z.role==="co-leader"?"bg-purple-100":"bg-blue-100"}`,children:Z.rollNo===Pe.rollNo?u.jsx(Jn,{className:"w-4 h-4 text-yellow-600"}):Z.role==="co-leader"?u.jsx(wn,{className:"w-4 h-4 text-purple-600"}):u.jsx(pp,{className:"w-4 h-4 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 text-sm",children:Z.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:Z.rollNo}),Z.isProtected&&u.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[u.jsx(Qt,{className:"w-3 h-3"}),"Protected"]})]})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:Z.isProtected?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>ue(Z,"change"),className:"px-3 py-1.5 text-xs font-medium bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all",children:"Change"}),Z.rollNo!==Pe.rollNo&&u.jsx("button",{onClick:()=>ue(Z,"remove"),className:"px-3 py-1.5 text-xs font-medium bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:"Remove"})]}):u.jsx("button",{onClick:()=>ue(Z,"add"),className:"px-3 py-1.5 text-xs font-medium bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all",children:"Add Password"})})]},Z.rollNo))})]})]}):u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Ys,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),u.jsx("p",{className:"text-gray-600",children:"Please select a student to view admin privileges"})]})})}function DI({selectedStudent:t,semester:e}){const{notices:n}=Lf(t,e),[s,a]=Y.useState(new Date),[o,c]=Y.useState(new Date),[f,m]=Y.useState(new Date),[p,x]=Y.useState(new Date),[b,w]=Y.useState("month"),[_,S]=Y.useState(0),[M,L]=Y.useState(!1);Y.useEffect(()=>{const ne=X=>{const Z=new Date,C=X.getTime()-Z.getTime();S(C),L(!0)},J=async()=>{const X=async(C,ae={})=>{const{timeout:be=5e3,...oe}=ae,ve=new AbortController,Te=setTimeout(()=>ve.abort(),be);try{const it=await fetch(C,{...oe,signal:ve.signal});return clearTimeout(Te),it}catch(it){throw clearTimeout(Te),it}},Z=[async()=>{const C=await X("https://timeapi.io/api/Time/current/zone?timeZone=Asia/Kolkata",{timeout:5e3});if(!C.ok)throw new Error("TimeAPI failed");const ae=await C.json();return new Date(ae.dateTime+"+05:30")},async()=>{const C=await X("https://worldtimeapi.org/api/timezone/Asia/Kolkata",{timeout:5e3});if(!C.ok)throw new Error("WorldTimeAPI failed");const ae=await C.json();return new Date(ae.datetime)},async()=>{const ae=(await X("https://api.github.com",{method:"HEAD",timeout:5e3})).headers.get("date");if(!ae)throw new Error("No Date header");return new Date(ae)},async()=>{const C=await X("https://api.coindesk.com/v1/bpi/currentprice.json",{timeout:5e3});if(!C.ok)throw new Error("Coindesk failed");const ae=await C.json();return new Date(ae.time.updatedISO)}];for(let C=0;C<Z.length;C++)try{const ae=await Z[C]();ne(ae);return}catch{}L(!1)};J();const N=setInterval(J,300*1e3);return()=>clearInterval(N)},[]),Y.useEffect(()=>{const ne=setInterval(()=>{m(new Date(Date.now()+_))},1e3);return()=>clearInterval(ne)},[_]),Y.useEffect(()=>{n.length>0&&x(new Date(Date.now()+_))},[n,_]);const F=ne=>ne.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"}),B=ne=>ne.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",timeZone:"Asia/Kolkata"}),z=ne=>ne.toLocaleDateString("en-US",{weekday:"long",timeZone:"Asia/Kolkata"}),G=ne=>{if(!ne)return"Never updated";const J=new Date-ne;return J<6e4?"Updated just now":J<36e5?`Updated ${Math.floor(J/6e4)} minutes ago`:J<864e5?`Updated ${Math.floor(J/36e5)} hours ago`:`Updated on ${ne.toLocaleDateString()}`},q=(ne,J)=>ne.getDate()===J.getDate()&&ne.getMonth()===J.getMonth()&&ne.getFullYear()===J.getFullYear(),U=Y.useMemo(()=>n.flatMap(ne=>{const J={id:ne.id,type:ne.type,meta:ne.meta};if(ne.type==="todo"&&ne.meta.dueDate){const N=new Date(ne.meta.dueDate);return isNaN(N)?null:{...J,title:ne.content,date:N,color:"bg-blue-500",icon:iT}}if(ne.type==="reminder"&&ne.meta.reminderDate){const N=new Date(ne.meta.reminderDate);return isNaN(N)?null:{...J,title:ne.content,date:N,color:"bg-yellow-500",icon:Dc}}if(ne.type==="assessment"){if(ne.meta.assessments?.length>0)return ne.meta.assessments.map((N,X)=>{const Z=new Date(N.date);return isNaN(Z)?null:{id:`${ne.id}-${X}`,type:"assessment",title:`${N.subject}${N.assessmentName?": "+N.assessmentName:""} (${N.assessmentType})`,date:Z,color:"bg-purple-500",icon:Va,meta:ne.meta}}).filter(Boolean);if(ne.meta.date){const N=new Date(ne.meta.date);return isNaN(N)?null:{...J,title:`${ne.meta.subject}${ne.meta.assessmentName?": "+ne.meta.assessmentName:""} (${ne.meta.assessmentType})`,date:N,color:"bg-purple-500",icon:Va}}}return null}).filter(Boolean),[n]),R=[{day:25,month:11,title:"Christmas Day",type:"holiday"},{day:26,month:0,title:"Republic Day",type:"holiday"},{day:19,month:1,title:"Shiv Jayanti",type:"holiday"},{day:14,month:3,title:"Ambedkar Jayanti",type:"holiday"},{day:1,month:4,title:"Maharashtra Day",type:"holiday"},{day:15,month:7,title:"Independence Day",type:"holiday"},{day:2,month:9,title:"Gandhi Jayanti",type:"holiday"}],j=ne=>R.find(J=>J.day===ne.getDate()&&J.month===ne.getMonth()),O=Y.useMemo(()=>U,[U]),A=ne=>{const J=O.filter(X=>q(X.date,ne)),N=j(ne);return N&&J.unshift({id:`holiday-${ne.getTime()}`,type:"holiday",title:N.title,date:ne,color:"bg-red-600",icon:wn}),J},D=A(o),P=(ne,J)=>new Date(ne,J+1,0).getDate(),k=(ne,J)=>(new Date(ne,J,1).getDay()+6)%7,ce=P(s.getFullYear(),s.getMonth()),pe=k(s.getFullYear(),s.getMonth()),K=()=>{a(new Date(s.getFullYear(),s.getMonth()+1))},ue=()=>{a(new Date(s.getFullYear(),s.getMonth()-1))};return u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 border border-gray-100 mb-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ws,{className:"w-4 h-4 text-green-600"}),u.jsx("span",{className:"text-sm text-gray-600",children:G(p)})]}),u.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[u.jsx(jr,{className:"w-4 h-4"}),u.jsxs("span",{children:[O.length," Events"]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-xl p-1",children:[u.jsxs("button",{onClick:()=>w("month"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${b==="month"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[u.jsx(jr,{className:"w-4 h-4"}),"Month"]}),u.jsxs("button",{onClick:()=>w("list"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${b==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[u.jsx(Gs,{className:"w-4 h-4"}),"List"]})]})]})}),u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[u.jsxs("div",{className:"flex-1 bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(jr,{className:"w-6 h-6 text-blue-600"}),s.toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),u.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:ue,className:"p-2 hover:bg-white rounded-md shadow-sm transition-all text-gray-600",children:u.jsx(NE,{className:"w-5 h-5"})}),u.jsx("button",{onClick:K,className:"p-2 hover:bg-white rounded-md shadow-sm transition-all text-gray-600",children:u.jsx(i2,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((ne,J)=>u.jsx("div",{className:`text-center text-sm font-semibold py-2
                                        ${J===6?"text-red-500":J===4?"text-green-600":"text-gray-500"}`,children:ne},ne))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:pe}).map((ne,J)=>u.jsx("div",{className:"h-24 sm:h-32 bg-gray-50/50 rounded-xl"},`empty-${J}`)),Array.from({length:ce}).map((ne,J)=>{const N=J+1,X=new Date(s.getFullYear(),s.getMonth(),N),Z=q(X,f),C=q(X,o),ae=A(X),be=j(X),oe=X.getDay(),it=Z?"bg-blue-600 text-white shadow-md shadow-blue-200":be||oe===0?"text-red-600 drop-shadow-[0_0_8px_rgba(239,68,68,0.5)] font-bold":oe===5?"text-green-600 drop-shadow-[0_0_8px_rgba(22,163,74,0.5)] font-bold":"text-gray-700";return u.jsxs("button",{onClick:()=>c(X),className:`
                      relative h-24 sm:h-32 rounded-xl border p-2 transition-all text-left flex flex-col justify-between
                      ${C?"border-blue-500 ring-2 ring-blue-100 bg-blue-50/30":"border-transparent hover:bg-gray-50"}
                      ${Z?"bg-blue-50":""}
                      ${be?"bg-red-50/30":""} 
                    `,children:[u.jsx("span",{className:`
                      w-7 h-7 flex items-center justify-center rounded-full text-sm font-medium
                      ${it}
                    `,children:N}),u.jsxs("div",{className:"space-y-1 w-full",children:[ae.slice(0,3).map((lt,_e)=>u.jsxs("div",{className:`
                            text-[10px] truncate px-1.5 py-0.5 rounded-full flex items-center gap-1
                            ${lt.type==="assessment"?"bg-purple-100 text-purple-700":lt.type==="todo"?"bg-blue-100 text-blue-700":lt.type==="holiday"?"bg-red-100 text-red-700 font-medium":"bg-yellow-100 text-yellow-700"}
                          `,children:[u.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${lt.type==="holiday"?"bg-red-500":lt.color}`}),u.jsx("span",{className:"hidden sm:inline",children:lt.title})]},_e)),ae.length>3&&u.jsxs("div",{className:"text-[10px] text-gray-400 pl-1",children:["+",ae.length-3," more"]})]})]},N)})]})]})]}),u.jsxs("div",{className:"lg:w-80 w-full flex flex-col gap-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 rounded-2xl shadow-xl p-6 text-white overflow-hidden relative z-0 group",children:[u.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl group-hover:bg-white/20 transition-all duration-700"}),u.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-20 h-20 bg-purple-500/20 rounded-full blur-xl"}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[u.jsx("div",{className:"text-sm font-medium opacity-80 uppercase tracking-widest mb-1",children:z(f)}),u.jsxs("div",{className:"text-4xl sm:text-5xl font-black tracking-tighter mb-2 drop-shadow-md whitespace-nowrap",children:[F(f).split(" ")[0],u.jsx("span",{className:"text-xl sm:text-2xl font-bold opacity-60 ml-2 uppercase",children:F(f).split(" ")[1]})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-4 py-1.5 rounded-full backdrop-blur-sm border border-white/10",children:[u.jsx(jr,{className:"w-4 h-4 text-blue-200"}),u.jsx("span",{className:"text-sm font-bold tracking-tight",children:B(f)})]}),u.jsx("div",{className:`flex items-center gap-1 mt-2 text-xs px-3 py-1 rounded-full ${M?"bg-green-500/20 text-green-200":"bg-yellow-500/20 text-yellow-200"}`,children:M?u.jsxs(u.Fragment,{children:[u.jsx(_0,{className:"w-3 h-3"})," IST (Synced)"]}):u.jsxs(u.Fragment,{children:[u.jsx($s,{className:"w-3 h-3"})," Local Clock"]})})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 flex-1 flex flex-col min-h-[400px]",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),u.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-auto",children:[D.length," Events"]})]}),u.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto -mr-2 pr-2",children:D.length>0?D.map(ne=>u.jsxs("div",{className:`
                      p-3 rounded-xl border flex gap-3
                      ${ne.type==="assessment"?"bg-purple-50 border-purple-100":ne.type==="todo"?"bg-blue-50 border-blue-100":ne.type==="holiday"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-100"}
                    `,children:[u.jsx("div",{className:`
                       mt-1 w-8 h-8 rounded-full flex items-center justify-center shrink-0
                       ${ne.type==="assessment"?"bg-purple-100 text-purple-600":ne.type==="todo"?"bg-blue-100 text-blue-600":ne.type==="holiday"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}
                     `,children:u.jsx(ne.icon,{className:"w-4 h-4"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-bold uppercase tracking-wider opacity-70 mb-0.5",children:ne.type}),u.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:ne.title}),ne.type!=="holiday"&&u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[u.jsx($s,{className:"w-3 h-3"}),ne.date.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]},ne.id)):u.jsxs("div",{className:"text-center py-10 text-gray-400",children:[u.jsx($s,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),u.jsx("p",{children:"No events for this day"})]})})]})]})]})]})}function II(t,e){const[n,s]=Y.useState(()=>{try{const c=window.localStorage.getItem(t);return c?JSON.parse(c):e}catch(c){return console.error(`Error loading localStorage key "${t}":`,c),e}});return[n,c=>{try{s(c),window.localStorage.setItem(t,JSON.stringify(c))}catch(f){console.error(`Error setting localStorage key "${t}":`,f)}},()=>{try{s(e),window.localStorage.removeItem(t)}catch(c){console.error(`Error clearing localStorage key "${t}":`,c)}}]}function MI(t){const[e,n]=Y.useState(navigator.onLine),[s,a]=Y.useState(!1),[o,c]=Y.useState(null);return Y.useEffect(()=>{const p=()=>n(!0),x=()=>n(!1);return window.addEventListener("online",p),window.addEventListener("offline",x),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",x)}},[]),{isOnline:e,isSyncing:s,lastSynced:o,saveToFirestore:async(p,x,b,w)=>{if(!t)return!1;try{a(!0);const _=Dn(Vt,"academic-data",`${t}-${p}-${x}`);return await qs(_,{studentId:t,semester:p,subject:x,type:w,data:b,timestamp:Gl(),lastModified:new Date().toISOString()}),c(new Date),!0}catch(_){return console.error("Error saving to Firestore:",_),!1}finally{a(!1)}},loadAllData:async()=>{if(!t)return{};try{a(!0);const p=Wp(qc(Vt,"academic-data"),Yw("studentId","==",t));return new Promise((x,b)=>Kw(p,_=>{const S={};_.forEach(M=>{const L=M.data(),F=`${L.semester}-${L.subject}`;S[F]=L}),c(new Date),x(S)},_=>{console.error("Error loading all data:",_),b(_)}))}catch(p){return console.error("Error setting up real-time listener:",p),{}}finally{a(!1)}}}}function OI(){const[t,e]=Y.useState(0),[n,s]=Y.useState(5),[a,o]=Y.useState(!1),c=a_(),{students:f,selectedStudent:m,isLoading:p,hasInitialized:x,selectStudent:b}=c,w=m?`academic-data-${m.rollNo}`:"academic-data-temp",[_,S]=II(w,{}),M=m?.rollNo,{isOnline:L,isSyncing:F,lastSynced:B,saveToFirestore:z,loadAllData:G}=MI(M);Y.useEffect(()=>{let D=!1;if(!m){S({});return}return o(!0),S({}),setTimeout(async()=>{if(!D){if(L&&m)try{const P=await G();D||P&&Object.keys(P).length>0&&S(P)}catch{D||S({})}D||o(!1)}},50),()=>{D=!0}},[m,L]);const q=D=>{if(!D||!D.admissionYear)return!1;const P=new Date;return(P.getMonth()+1>=7?P.getFullYear():P.getFullYear()-1)-Number(D.admissionYear)>=4};Y.useEffect(()=>{if(m){const D=R(m);D?s(D):m.isDSY&&s(P=>P<3?3:P),q(m)&&e(5),!q(m)&&t===5&&e(0)}},[m]);const U=async(D,P,k="theory")=>{if(!m)return;const ce=`${n}-${D}`,pe={data:P,type:k,semester:n,subject:D},K={..._,[ce]:pe};if(S(K),L)try{await z(n,D,P,k)}catch(ue){console.error("Error syncing to Firestore:",ue)}},R=D=>{if(!D||!D.admissionYear)return null;const P=new Date,k=P.getMonth()+1,ce=k>=7?P.getFullYear():P.getFullYear()-1,pe=Number(D.admissionYear);let K=ce-pe;K<0&&(K=0);const ue=D.isDSY?3:1,ne=k>=7?0:1;let J=ue+K*2+ne;return J<ue&&(J=ue),J>8&&(J=8),J},j=D=>{S({});const P=R(D);P&&s(P),b(D)};if(!m||p||!x||a)return u.jsx(YT,{students:f,onStudentSelect:j,isLoading:p||!x||a,studentManagement:c});const O={isOnline:L,isSyncing:F,lastSynced:B},A=()=>{b(null),localStorage.removeItem("selected-student"),S({})};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[u.jsx(QT,{semester:n,syncStatus:O,selectedStudent:m,onStudentSwitch:A}),u.jsx(KT,{activeTab:t,onTabChange:e,showDegreeTab:q(m),showAdminTab:m?.rollNo===Pe.rollNo||m?.role==="co-leader"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[u.jsx(Ai,{value:t,index:0,children:u.jsx(Z5,{semester:n,allData:_,handleDataChange:U,selectedStudent:m})}),u.jsx(Ai,{value:t,index:1,children:u.jsx(W5,{semester:n,allData:_,handleDataChange:U,selectedStudent:m})}),u.jsx(Ai,{value:t,index:2,children:u.jsx(SI,{selectedStudent:m,semester:n})}),u.jsx(Ai,{value:t,index:3,children:u.jsx(jI,{selectedStudent:m})}),u.jsx(Ai,{value:t,index:4,children:u.jsx(CI,{semester:n,setSemester:s,studentManagement:c})}),u.jsx(Ai,{value:t,index:5,children:u.jsx(kI,{selectedStudent:m})}),u.jsx(Ai,{value:t,index:6,children:u.jsx(RI,{selectedStudent:m,studentManagement:c,onNavigateToTab:(D,P)=>{e(D)}})}),u.jsx(Ai,{value:t,index:7,children:u.jsx(DI,{selectedStudent:m,semester:n})})]})]})}function VI({children:t}){return u.jsxs(u.Fragment,{children:[t,u.jsx(TI,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastStyle:{fontSize:"14px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"}})]})}WN.createRoot(document.getElementById("root")).render(u.jsx(yt.StrictMode,{children:u.jsx(VI,{children:u.jsx(OI,{})})}));
