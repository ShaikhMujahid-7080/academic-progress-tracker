(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var jf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function hE(){if(Ty)return ql;Ty=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var Ay;function fE(){return Ay||(Ay=1,jf.exports=hE()),jf.exports}var A=fE(),Uf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function dE(){if(by)return bt;by=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,tt={};function Z(D,J,rt){this.props=D,this.context=J,this.refs=tt,this.updater=rt||z}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function at(){}at.prototype=Z.prototype;function ut(D,J,rt){this.props=D,this.context=J,this.refs=tt,this.updater=rt||z}var ct=ut.prototype=new at;ct.constructor=ut,G(ct,Z.prototype),ct.isPureReactComponent=!0;var kt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function I(D,J,rt,et,dt,Rt){return rt=Rt.ref,{$$typeof:s,type:D,key:J,ref:rt!==void 0?rt:null,props:Rt}}function S(D,J){return I(D.type,J,void 0,void 0,void 0,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function M(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(rt){return J[rt]})}var O=/\/+/g;function U(D,J){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):J.toString(36)}function C(){}function be(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,J,rt,et,dt){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case s:case e:vt=!0;break;case b:return vt=D._init,ie(vt(D._payload),J,rt,et,dt)}}if(vt)return dt=dt(D),vt=et===""?"."+U(D,0):et,kt(dt)?(rt="",vt!=null&&(rt=vt.replace(O,"$&/")+"/"),ie(dt,J,rt,"",function(Pn){return Pn})):dt!=null&&(N(dt)&&(dt=S(dt,rt+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(O,"$&/")+"/")+vt)),J.push(dt)),1;vt=0;var De=et===""?".":et+":";if(kt(D))for(var Jt=0;Jt<D.length;Jt++)et=D[Jt],Rt=De+U(et,Jt),vt+=ie(et,J,rt,Rt,dt);else if(Jt=w(D),typeof Jt=="function")for(D=Jt.call(D),Jt=0;!(et=D.next()).done;)et=et.value,Rt=De+U(et,Jt++),vt+=ie(et,J,rt,Rt,dt);else if(Rt==="object"){if(typeof D.then=="function")return ie(be(D),J,rt,et,dt);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return vt}function Q(D,J,rt){if(D==null)return D;var et=[],dt=0;return ie(D,et,"","",function(Rt){return J.call(rt,Rt,dt++)}),et}function it(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(rt){(D._status===0||D._status===-1)&&(D._status=1,D._result=rt)},function(rt){(D._status===0||D._status===-1)&&(D._status=2,D._result=rt)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var W=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function At(){}return bt.Children={map:Q,forEach:function(D,J,rt){Q(D,function(){J.apply(this,arguments)},rt)},count:function(D){var J=0;return Q(D,function(){J++}),J},toArray:function(D){return Q(D,function(J){return J})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},bt.Component=Z,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=ut,bt.StrictMode=a,bt.Suspense=v,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,bt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return pt.H.useMemoCache(D)}},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cloneElement=function(D,J,rt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=G({},D.props),dt=D.key,Rt=void 0;if(J!=null)for(vt in J.ref!==void 0&&(Rt=void 0),J.key!==void 0&&(dt=""+J.key),J)!Nt.call(J,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&J.ref===void 0||(et[vt]=J[vt]);var vt=arguments.length-2;if(vt===1)et.children=rt;else if(1<vt){for(var De=Array(vt),Jt=0;Jt<vt;Jt++)De[Jt]=arguments[Jt+2];et.children=De}return I(D.type,dt,void 0,void 0,Rt,et)},bt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},bt.createElement=function(D,J,rt){var et,dt={},Rt=null;if(J!=null)for(et in J.key!==void 0&&(Rt=""+J.key),J)Nt.call(J,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(dt[et]=J[et]);var vt=arguments.length-2;if(vt===1)dt.children=rt;else if(1<vt){for(var De=Array(vt),Jt=0;Jt<vt;Jt++)De[Jt]=arguments[Jt+2];dt.children=De}if(D&&D.defaultProps)for(et in vt=D.defaultProps,vt)dt[et]===void 0&&(dt[et]=vt[et]);return I(D,Rt,void 0,void 0,null,dt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:g,render:D}},bt.isValidElement=N,bt.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:it}},bt.memo=function(D,J){return{$$typeof:_,type:D,compare:J===void 0?null:J}},bt.startTransition=function(D){var J=pt.T,rt={};pt.T=rt;try{var et=D(),dt=pt.S;dt!==null&&dt(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(At,W)}catch(Rt){W(Rt)}finally{pt.T=J}},bt.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},bt.use=function(D){return pt.H.use(D)},bt.useActionState=function(D,J,rt){return pt.H.useActionState(D,J,rt)},bt.useCallback=function(D,J){return pt.H.useCallback(D,J)},bt.useContext=function(D){return pt.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,J){return pt.H.useDeferredValue(D,J)},bt.useEffect=function(D,J,rt){var et=pt.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(D,J)},bt.useId=function(){return pt.H.useId()},bt.useImperativeHandle=function(D,J,rt){return pt.H.useImperativeHandle(D,J,rt)},bt.useInsertionEffect=function(D,J){return pt.H.useInsertionEffect(D,J)},bt.useLayoutEffect=function(D,J){return pt.H.useLayoutEffect(D,J)},bt.useMemo=function(D,J){return pt.H.useMemo(D,J)},bt.useOptimistic=function(D,J){return pt.H.useOptimistic(D,J)},bt.useReducer=function(D,J,rt){return pt.H.useReducer(D,J,rt)},bt.useRef=function(D){return pt.H.useRef(D)},bt.useState=function(D){return pt.H.useState(D)},bt.useSyncExternalStore=function(D,J,rt){return pt.H.useSyncExternalStore(D,J,rt)},bt.useTransition=function(){return pt.H.useTransition()},bt.version="19.1.1",bt}var Sy;function wd(){return Sy||(Sy=1,Uf.exports=dE()),Uf.exports}var wt=wd(),Lf={exports:{}},Hl={},kf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function mE(){return wy||(wy=1,(function(s){function e(Q,it){var W=Q.length;Q.push(it);t:for(;0<W;){var At=W-1>>>1,D=Q[At];if(0<o(D,it))Q[At]=it,Q[W]=D,W=At;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var it=Q[0],W=Q.pop();if(W!==it){Q[0]=W;t:for(var At=0,D=Q.length,J=D>>>1;At<J;){var rt=2*(At+1)-1,et=Q[rt],dt=rt+1,Rt=Q[dt];if(0>o(et,W))dt<D&&0>o(Rt,et)?(Q[At]=Rt,Q[dt]=W,At=dt):(Q[At]=et,Q[rt]=W,At=rt);else if(dt<D&&0>o(Rt,W))Q[At]=Rt,Q[dt]=W,At=dt;else break t}}return it}function o(Q,it){var W=Q.sortIndex-it.sortIndex;return W!==0?W:Q.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],b=1,R=null,w=3,z=!1,G=!1,tt=!1,Z=!1,at=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function kt(Q){for(var it=i(_);it!==null;){if(it.callback===null)a(_);else if(it.startTime<=Q)a(_),it.sortIndex=it.expirationTime,e(v,it);else break;it=i(_)}}function pt(Q){if(tt=!1,kt(Q),!G)if(i(v)!==null)G=!0,Nt||(Nt=!0,U());else{var it=i(_);it!==null&&ie(pt,it.startTime-Q)}}var Nt=!1,I=-1,S=5,N=-1;function M(){return Z?!0:!(s.unstable_now()-N<S)}function O(){if(Z=!1,Nt){var Q=s.unstable_now();N=Q;var it=!0;try{t:{G=!1,tt&&(tt=!1,ut(I),I=-1),z=!0;var W=w;try{e:{for(kt(Q),R=i(v);R!==null&&!(R.expirationTime>Q&&M());){var At=R.callback;if(typeof At=="function"){R.callback=null,w=R.priorityLevel;var D=At(R.expirationTime<=Q);if(Q=s.unstable_now(),typeof D=="function"){R.callback=D,kt(Q),it=!0;break e}R===i(v)&&a(v),kt(Q)}else a(v);R=i(v)}if(R!==null)it=!0;else{var J=i(_);J!==null&&ie(pt,J.startTime-Q),it=!1}}break t}finally{R=null,w=W,z=!1}it=void 0}}finally{it?U():Nt=!1}}}var U;if(typeof ct=="function")U=function(){ct(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,be=C.port2;C.port1.onmessage=O,U=function(){be.postMessage(null)}}else U=function(){at(O,0)};function ie(Q,it){I=at(function(){Q(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var it=3;break;default:it=w}var W=w;w=it;try{return Q()}finally{w=W}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(Q,it){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var W=w;w=Q;try{return it()}finally{w=W}},s.unstable_scheduleCallback=function(Q,it,W){var At=s.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?At+W:At):W=At,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=W+D,Q={id:b++,callback:it,priorityLevel:Q,startTime:W,expirationTime:D,sortIndex:-1},W>At?(Q.sortIndex=W,e(_,Q),i(v)===null&&Q===i(_)&&(tt?(ut(I),I=-1):tt=!0,ie(pt,W-At))):(Q.sortIndex=D,e(v,Q),G||z||(G=!0,Nt||(Nt=!0,U()))),Q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(Q){var it=w;return function(){var W=w;w=it;try{return Q.apply(this,arguments)}finally{w=W}}}})(zf)),zf}var Ry;function gE(){return Ry||(Ry=1,kf.exports=mE()),kf.exports}var Pf={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function pE(){if(xy)return Ye;xy=1;var s=wd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:v,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,b)},Ye.flushSync=function(v){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=b,a.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,R=g(b,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:w,fetchPriority:z}):b==="script"&&a.d.X(v,{crossOrigin:R,integrity:w,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,R=g(b,_.crossOrigin);a.d.L(v,b,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.1.1",Ye}var Ny;function yE(){if(Ny)return Pf.exports;Ny=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pf.exports=pE(),Pf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function _E(){if(Cy)return Hl;Cy=1;var s=gE(),e=wd(),i=yE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),at=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case Z:return"Profiler";case tt:return"StrictMode";case pt:return"Suspense";case Nt:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case kt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:be(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return be(t(n))}catch{}}return null}var ie=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},At=[],D=-1;function J(t){return{current:t}}function rt(t){0>D||(t.current=At[D],At[D]=null,D--)}function et(t,n){D++,At[D]=t.current,t.current=n}var dt=J(null),Rt=J(null),vt=J(null),De=J(null);function Jt(t,n){switch(et(vt,n),et(Rt,t),et(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Xp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Xp(n),t=$p(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rt(dt),et(dt,t)}function Pn(){rt(dt),rt(Rt),rt(vt)}function zi(t){t.memoizedState!==null&&et(De,t);var n=dt.current,r=$p(n,t.type);n!==r&&(et(Rt,t),et(dt,r))}function ci(t){Rt.current===t&&(rt(dt),rt(Rt)),De.current===t&&(rt(De),Ll._currentValue=W)}var Vr=Object.prototype.hasOwnProperty,Ir=s.unstable_scheduleCallback,Mr=s.unstable_cancelCallback,Os=s.unstable_shouldYield,po=s.unstable_requestPaint,_n=s.unstable_now,Oc=s.unstable_getCurrentPriorityLevel,js=s.unstable_ImmediatePriority,wa=s.unstable_UserBlockingPriority,Or=s.unstable_NormalPriority,jc=s.unstable_LowPriority,Ra=s.unstable_IdlePriority,Us=s.log,yo=s.unstable_setDisableYieldValue,oe=null,Gt=null;function ln(t){if(typeof Us=="function"&&yo(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(oe,t)}catch{}}var Qe=Math.clz32?Math.clz32:jr,_o=Math.log,Uc=Math.LN2;function jr(t){return t>>>=0,t===0?32:31-(_o(t)/Uc|0)|0}var Ur=256,Lr=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=In(l):(y&=E,y!==0?c=In(y):r||(r=E&~t,r!==0&&(c=In(r))))):(E=l&~f,E!==0?c=In(E):y!==0?c=In(y):r||(r=l&~t,r!==0&&(c=In(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function kr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ls(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var t=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),t}function zs(){var t=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),t}function hi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function fi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ps(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var F=31-Qe(r),X=1<<F;E[F]=0,x[F]=-1;var B=P[F];if(B!==null)for(P[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}r&=~X}l!==0&&Bn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Bn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Bs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Pi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Na(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bi(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:gy(t.type))}function vo(t,n){var r=it.p;try{return it.p=t,n()}finally{it.p=r}}var re=Math.random().toString(36).slice(2),Se="__reactFiber$"+re,ge="__reactProps$"+re,vn="__reactContainer$"+re,qs="__reactEvents$"+re,Lc="__reactListeners$"+re,qi="__reactHandles$"+re,Eo="__reactResources$"+re,zr="__reactMarker$"+re;function Hi(t){delete t[Se],delete t[ge],delete t[qs],delete t[Lc],delete t[qi]}function di(t){var n=t[Se];if(n)return n;for(var r=t.parentNode;r;){if(n=r[vn]||r[Se]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ty(t);t!==null;){if(r=t[Se])return r;t=ty(t)}return n}t=r,r=t.parentNode}return null}function qn(t){if(t=t[Se]||t[vn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ze(t){var n=t[Eo];return n||(n=t[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[zr]=!0}var Hs=new Set,Ca={};function Mn(t,n){mi(t,n),mi(t+"Capture",n)}function mi(t,n){for(Ca[t]=n,t=0;t<n.length;t++)Hs.add(n[t])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},Pr={};function bo(t){return Vr.call(Pr,t)?!0:Vr.call(Ao,t)?!1:To.test(t)?Pr[t]=!0:(Ao[t]=!0,!1)}function Gi(t,n,r){if(bo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Gn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Le(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Br,So;function gi(t){if(Br===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Br=n&&n[1]||"",So=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Br+t+So}var Da=!1;function Va(t,n){if(!t||Da)return"";Da=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){B=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var x=y.split(`
`),P=E.split(`
`);for(c=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===x.length||c===P.length)for(l=x.length-1,c=P.length-1;1<=l&&0<=c&&x[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(x[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||x[l]!==P[c]){var F=`
`+x[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Da=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?gi(r):""}function Gs(t){switch(t.tag){case 26:case 27:case 5:return gi(t.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Va(t.type,!1);case 11:return Va(t.type.render,!1);case 1:return Va(t.type,!0);case 31:return gi("Activity");default:return""}}function Ia(t){try{var n="";do n+=Gs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kc(t){var n=Qs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ma(t){t._valueTracker||(t._valueTracker=kc(t))}function Fs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Qs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function qr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zc=/[\n"\\]/g;function pe(t){return t.replace(zc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Je(n)):t.value!==""+Je(n)&&(t.value=""+Je(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Qi(t,y,Je(n)):r!=null?Qi(t,y,Je(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Je(E):t.removeAttribute("name")}function Hr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Je(r):"",n=n!=null?""+Je(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Qi(t,n,r){n==="number"&&qr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function pi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Je(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Yt(t,n,r){if(n!=null&&(n=""+Je(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Je(r):""}function Gr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Je(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function En(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Qr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ys(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&wo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&wo(t,f,n[f])}function Ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return Bc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yi=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,vi=null;function Xs(t){var n=qn(t);if(n&&(t=n.stateNode)){var r=t[ge]||null;t:switch(t=n.stateNode,n.type){case"input":if(on(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ge]||null;if(!c)throw Error(a(90));on(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Fs(l)}break t;case"textarea":Yt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&pi(t,!!r.multiple,n,!1)}}}var Qn=!1;function Ro(t,n,r){if(Qn)return t(n,r);Qn=!0;try{var l=t(n);return l}finally{if(Qn=!1,(_i!==null||vi!==null)&&(vu(),_i&&(n=_i,t=vi,vi=_i=null,Xs(n),t)))for(n=0;n<t.length;n++)Xs(t[n])}}function Fr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ge]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(On)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){An=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{An=!1}var Fn=null,Fi=null,Ei=null;function $s(){if(Ei)return Ei;var t,n=Fi,r=n.length,l,c="value"in Fn?Fn.value:Fn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return Ei=c.slice(t,1<l?1-l:void 0)}function Yn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function Zs(){return!1}function Ve(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:Zs,this.isPropagationStopped=Zs,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Ve(qt),Kr=b({},qt,{view:0,detail:0}),xo=Ve(Kr),Ua,La,Xn,Xr=b({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xn&&(Xn&&t.type==="mousemove"?(Ua=t.screenX-Xn.screenX,La=t.screenY-Xn.screenY):La=Ua=0,Xn=t),Ua)},movementY:function(t){return"movementY"in t?t.movementY:La}}),bn=Ve(Xr),No=b({},Xr,{dataTransfer:0}),qc=Ve(No),$r=b({},Kr,{relatedTarget:0}),ka=Ve($r),Js=b({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),za=Ve(Js),Co=b({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pa=Ve(Co),Hc=b({},qt,{data:0}),Ws=Ve(Hc),Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Do={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vo[t])?!!n[t]:!1}function Jr(){return tl}var Io=b({},Kr,{key:function(t){if(t.key){var n=Zr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Do[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ba=Ve(Io),Mo=b({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ve(Mo),Ti=b({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Oo=Ve(Ti),jo=b({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uo=Ve(jo),Lo=b({},Xr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Ve(Lo),We=b({},qt,{newState:0,oldState:0}),ko=Ve(We),zo=[9,13,27,32],$n=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,p=On&&(!$n||u&&8<u&&11>=u),T=" ",L=!1;function H(t,n){switch(t){case"keyup":return zo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function we(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Ot(t,n){if(Mt)return t==="compositionend"||!$n&&H(t,n)?(t=$s(),Ei=Fi=Fn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function Ai(t,n,r,l){_i?vi?vi.push(l):vi=[l]:_i=l,n=wu(n,"onChange"),0<n.length&&(r=new ja("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var ke=null,Zn=null;function nl(t){Gp(t,0)}function Po(t){var n=Hn(t);if(Fs(n))return t}function hm(t,n){if(t==="change")return n}var fm=!1;if(On){var Gc;if(On){var Qc="oninput"in document;if(!Qc){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),Qc=typeof dm.oninput=="function"}Gc=Qc}else Gc=!1;fm=Gc&&(!document.documentMode||9<document.documentMode)}function mm(){ke&&(ke.detachEvent("onpropertychange",gm),Zn=ke=null)}function gm(t){if(t.propertyName==="value"&&Po(Zn)){var n=[];Ai(n,Zn,t,Tn(t)),Ro(nl,n)}}function Bv(t,n,r){t==="focusin"?(mm(),ke=n,Zn=r,ke.attachEvent("onpropertychange",gm)):t==="focusout"&&mm()}function qv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Po(Zn)}function Hv(t,n){if(t==="click")return Po(n)}function Gv(t,n){if(t==="input"||t==="change")return Po(n)}function Qv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:Qv;function il(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Vr.call(n,c)||!un(t[c],n[c]))return!1}return!0}function pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ym(t,n){var r=pm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=pm(r)}}function _m(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?_m(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function vm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=qr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=qr(t.document)}return n}function Fc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Fv=On&&"documentMode"in document&&11>=document.documentMode,Ha=null,Yc=null,rl=null,Kc=!1;function Em(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kc||Ha==null||Ha!==qr(l)||(l=Ha,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=wu(Yc,"onSelect"),0<l.length&&(n=new ja("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ha)))}function Wr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ga={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},Xc={},Tm={};On&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function ta(t){if(Xc[t])return Xc[t];if(!Ga[t])return t;var n=Ga[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Tm)return Xc[t]=n[r];return t}var Am=ta("animationend"),bm=ta("animationiteration"),Sm=ta("animationstart"),Yv=ta("transitionrun"),Kv=ta("transitionstart"),Xv=ta("transitioncancel"),wm=ta("transitionend"),Rm=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function jn(t,n){Rm.set(t,n),Mn(n,[t])}var xm=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var r=xm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ia(n)},xm.set(t,n),n)}return{value:t,source:n,stack:Ia(n)}}var wn=[],Qa=0,Zc=0;function Bo(){for(var t=Qa,n=Zc=Qa=0;n<t;){var r=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Nm(r,c,f)}}function qo(t,n,r,l){wn[Qa++]=t,wn[Qa++]=n,wn[Qa++]=r,wn[Qa++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jc(t,n,r,l){return qo(t,n,r,l),Ho(t)}function Fa(t,n){return qo(t,null,null,n),Ho(t)}function Nm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Qe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ho(t){if(50<Cl)throw Cl=0,af=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ya={};function $v(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,r,l){return new $v(t,n,r,l)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var r=t.alternate;return r===null?(r=cn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Cm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Go(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Wc(t)&&(y=1);else if(typeof t=="string")y=J1(t,r,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case N:return t=cn(31,r,n,c),t.elementType=N,t.lanes=f,t;case G:return ea(r.children,c,f,n);case tt:y=8,c|=24;break;case Z:return t=cn(12,r,n,c|2),t.elementType=Z,t.lanes=f,t;case pt:return t=cn(13,r,n,c),t.elementType=pt,t.lanes=f,t;case Nt:return t=cn(19,r,n,c),t.elementType=Nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case at:case ct:y=10;break t;case ut:y=9;break t;case kt:y=11;break t;case I:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=cn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ea(t,n,r,l){return t=cn(7,t,l,n),t.lanes=r,t}function th(t,n,r){return t=cn(6,t,null,n),t.lanes=r,t}function eh(t,n,r){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ka=[],Xa=0,Qo=null,Fo=0,Rn=[],xn=0,na=null,Si=1,wi="";function ia(t,n){Ka[Xa++]=Fo,Ka[Xa++]=Qo,Qo=t,Fo=n}function Dm(t,n,r){Rn[xn++]=Si,Rn[xn++]=wi,Rn[xn++]=na,na=t;var l=Si;t=wi;var c=32-Qe(l)-1;l&=~(1<<c),r+=1;var f=32-Qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Si=1<<32-Qe(n)+c|r<<c|l,wi=f+t}else Si=1<<f|r<<c|l,wi=t}function nh(t){t.return!==null&&(ia(t,1),Dm(t,1,0))}function ih(t){for(;t===Qo;)Qo=Ka[--Xa],Ka[Xa]=null,Fo=Ka[--Xa],Ka[Xa]=null;for(;t===na;)na=Rn[--xn],Rn[xn]=null,wi=Rn[--xn],Rn[xn]=null,Si=Rn[--xn],Rn[xn]=null}var tn=null,ue=null,Bt=!1,ra=null,Jn=!1,rh=Error(a(519));function aa(t){var n=Error(a(418,""));throw ll(Sn(n,t)),rh}function Vm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Se]=t,n[ge]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Vl.length;r++)Dt(Vl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Hr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ma(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Gr(n,l.value,l.defaultValue,l.children),Ma(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Kp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Ru),n=!0):n=!1,n||aa(t)}function Im(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:tn=tn.return}}function al(t){if(t!==tn)return!1;if(!Bt)return Im(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Tf(t.type,t.memoizedProps)),r=!r),r&&ue&&aa(t),Im(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ue=Ln(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ue=null}}else n===27?(n=ue,or(t.type)?(t=wf,wf=null,ue=t):ue=n):ue=tn?Ln(t.stateNode.nextSibling):null;return!0}function sl(){ue=tn=null,Bt=!1}function Mm(){var t=ra;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),ra=null),t}function ll(t){ra===null?ra=[t]:ra.push(t)}var ah=J(null),sa=null,Ri=null;function Yi(t,n,r){et(ah,n._currentValue),n._currentValue=r}function xi(t){t._currentValue=ah.current,rt(ah)}function sh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function lh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),sh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),sh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ol(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;un(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===De.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}c=c.return}t!==null&&lh(n,t,r,l),n.flags|=262144}function Yo(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function la(t){sa=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return Om(sa,t)}function Ko(t,n){return sa===null&&la(t),Om(t,n)}function Om(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ri===null){if(t===null)throw Error(a(308));Ri=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ri=Ri.next=n;return r}var Zv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Jv=s.unstable_scheduleCallback,Wv=s.unstable_NormalPriority,xe={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new Zv,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&Jv(Wv,function(){t.controller.abort()})}var cl=null,uh=0,$a=0,Za=null;function t1(t,n){if(cl===null){var r=cl=[];uh=0,$a=ff(),Za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return uh++,n.then(jm,jm),n}function jm(){if(--uh===0&&cl!==null){Za!==null&&(Za.status="fulfilled");var t=cl;cl=null,$a=0,Za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function e1(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Um=Q.S;Q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&t1(t,n),Um!==null&&Um(t,n)};var oa=J(null);function ch(){var t=oa.current;return t!==null?t:Wt.pooledCache}function Xo(t,n){n===null?et(oa,oa.current):et(oa,n.pool)}function Lm(){var t=ch();return t===null?null:{parent:xe._currentValue,pool:t}}var hl=Error(a(460)),km=Error(a(474)),$o=Error(a(542)),hh={then:function(){}};function zm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zo(){}function Pm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Zo,Zo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qm(t),t;default:if(typeof n.status=="string")n.then(Zo,Zo);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qm(t),t}throw fl=n,hl}}var fl=null;function Bm(){if(fl===null)throw Error(a(459));var t=fl;return fl=null,t}function qm(t){if(t===hl||t===$o)throw Error(a(483))}var Ki=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $i(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ho(t),Nm(t,null,r),n}return qo(t,l,n,r),Ho(t)}function dl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Bs(t,r)}}function mh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gh=!1;function ml(){if(gh){var t=Za;if(t!==null)throw t}}function gl(t,n,r,l){gh=!1;var c=t.updateQueue;Ki=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var x=E,P=x.next;x.next=null,y===null?f=P:y.next=P,y=x;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=x))}if(f!==null){var X=c.baseState;y=0,F=P=x=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(jt&B)===B:(l&B)===B){B!==0&&B===$a&&(gh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,mt=E;B=n;var $t=r;switch(mt.tag){case 1:if(_t=mt.payload,typeof _t=="function"){X=_t.call($t,X,B);break t}X=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=mt.payload,B=typeof _t=="function"?_t.call($t,X,B):_t,B==null)break t;X=b({},X,B);break t;case 2:Ki=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=q,x=X):F=F.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);F===null&&(x=X),c.baseState=x,c.firstBaseUpdate=P,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),rr|=y,t.lanes=y,t.memoizedState=X}}function Hm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Gm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Hm(r[t],n)}var Ja=J(null),Jo=J(0);function Qm(t,n){t=Oi,et(Jo,t),et(Ja,n),Oi=t|n.baseLanes}function ph(){et(Jo,Oi),et(Ja,Ja.current)}function yh(){Oi=Jo.current,rt(Ja),rt(Jo)}var Zi=0,St=null,Kt=null,ye=null,Wo=!1,Wa=!1,ua=!1,tu=0,pl=0,ts=null,n1=0;function fe(){throw Error(a(321))}function _h(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!un(t[r],n[r]))return!1;return!0}function vh(t,n,r,l,c,f){return Zi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Ng:Cg,ua=!1,f=r(l,c),ua=!1,Wa&&(f=Ym(n,r,l,c)),Fm(t),f}function Fm(t){Q.H=su;var n=Kt!==null&&Kt.next!==null;if(Zi=0,ye=Kt=St=null,Wo=!1,pl=0,ts=null,n)throw Error(a(300));t===null||Me||(t=t.dependencies,t!==null&&Yo(t)&&(Me=!0))}function Ym(t,n,r,l){St=t;var c=0;do{if(Wa&&(ts=null),pl=0,Wa=!1,25<=c)throw Error(a(301));if(c+=1,ye=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=u1,f=n(r,l)}while(Wa);return f}function i1(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(St.flags|=1024),n}function Eh(){var t=tu!==0;return tu=0,t}function Th(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ah(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}Zi=0,ye=Kt=St=null,Wa=!1,pl=tu=0,ts=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?St.memoizedState=ye=t:ye=ye.next=t,ye}function _e(){if(Kt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=ye===null?St.memoizedState:ye.next;if(n!==null)ye=n,Kt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ye===null?St.memoizedState=ye=t:ye=ye.next=t}return ye}function bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,ts===null&&(ts=[]),t=Pm(ts,t,n),n=St,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Ng:Cg),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===ct)return Fe(t)}throw Error(a(438,String(t)))}function Sh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=bh(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function Ni(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=_e();return wh(n,Kt,t)}function wh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,x=null,P=n,F=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(jt&X)===X:(Zi&X)===X){var B=P.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===$a&&(F=!0);else if((Zi&B)===B){P=P.next,B===$a&&(F=!0);continue}else X={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=X,y=f):x=x.next=X,St.lanes|=B,rr|=B;X=P.action,ua&&r(f,X),f=P.hasEagerState?P.eagerState:r(f,X)}else B={lane:X,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=B,y=f):x=x.next=B,St.lanes|=X,rr|=X;P=P.next}while(P!==null&&P!==n);if(x===null?y=f:x.next=E,!un(f,t.memoizedState)&&(Me=!0,F&&(r=Za,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=x,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rh(t){var n=_e(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);un(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Km(t,n,r){var l=St,c=_e(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!un((Kt||c).memoizedState,r);y&&(c.memoizedState=r,Me=!0),c=c.queue;var E=Zm.bind(null,l,c,t);if(_l(2048,8,E,[t]),c.getSnapshot!==n||y||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,es(9,iu(),$m.bind(null,l,c,r,n),null),Wt===null)throw Error(a(349));f||(Zi&124)!==0||Xm(l,n,r)}return r}function Xm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=bh(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function $m(t,n,r,l){n.value=r,n.getSnapshot=l,Jm(n)&&Wm(t)}function Zm(t,n,r){return r(function(){Jm(n)&&Wm(t)})}function Jm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!un(t,r)}catch{return!0}}function Wm(t){var n=Fa(t,2);n!==null&&gn(n,t,2)}function xh(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),ua){ln(!0);try{r()}finally{ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function tg(t,n,r,l){return t.baseState=r,wh(t,Kt,typeof l=="function"?l:Ni)}function r1(t,n,r,l,c){if(au(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,eg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function eg(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Q.T,y={};Q.T=y;try{var E=r(c,l),x=Q.S;x!==null&&x(y,E),ng(t,n,E)}catch(P){Nh(t,n,P)}finally{Q.T=f}}else try{f=r(c,l),ng(t,n,f)}catch(P){Nh(t,n,P)}}function ng(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ig(t,n,l)},function(l){return Nh(t,n,l)}):ig(t,n,r)}function ig(t,n,r){n.status="fulfilled",n.value=r,rg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,eg(t,r)))}function Nh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,rg(n),n=n.next;while(n!==l)}t.action=null}function rg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ag(t,n){return n}function sg(t,n){if(Bt){var r=Wt.formState;if(r!==null){t:{var l=St;if(Bt){if(ue){e:{for(var c=ue,f=Jn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ue=Ln(c.nextSibling),l=c.data==="F!";break t}}aa(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},r.queue=l,r=wg.bind(null,St,l),l.dispatch=r,l=xh(!1),f=Mh.bind(null,St,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=r1.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function lg(t){var n=_e();return og(n,Kt,t)}function og(t,n,r){if(n=wh(t,n,ag)[0],t=nu(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(y){throw y===hl?$o:y}else l=n;n=_e();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,es(9,iu(),a1.bind(null,c,r),null)),[l,f,t]}function a1(t,n){t.action=n}function ug(t){var n=_e(),r=Kt;if(r!==null)return og(n,r,t);_e(),n=n.memoizedState,r=_e();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function es(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=bh(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function iu(){return{destroy:void 0,resource:void 0}}function cg(){return _e().memoizedState}function ru(t,n,r,l){var c=en();l=l===void 0?null:l,St.flags|=t,c.memoizedState=es(1|n,iu(),r,l)}function _l(t,n,r,l){var c=_e();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&_h(l,Kt.memoizedState.deps)?c.memoizedState=es(n,f,r,l):(St.flags|=t,c.memoizedState=es(1|n,f,r,l))}function hg(t,n){ru(8390656,8,t,n)}function fg(t,n){_l(2048,8,t,n)}function dg(t,n){return _l(4,2,t,n)}function mg(t,n){return _l(4,4,t,n)}function gg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function pg(t,n,r){r=r!=null?r.concat([t]):null,_l(4,4,gg.bind(null,n,t),r)}function Ch(){}function yg(t,n){var r=_e();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&_h(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function _g(t,n){var r=_e();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&_h(n,l[1]))return l[0];if(l=t(),ua){ln(!0);try{t()}finally{ln(!1)}}return r.memoizedState=[l,n],l}function Dh(t,n,r){return r===void 0||(Zi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Tp(),St.lanes|=t,rr|=t,r)}function vg(t,n,r,l){return un(r,n)?r:Ja.current!==null?(t=Dh(t,r,l),un(t,n)||(Me=!0),t):(Zi&42)===0?(Me=!0,t.memoizedState=r):(t=Tp(),St.lanes|=t,rr|=t,n)}function Eg(t,n,r,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var y=Q.T,E={};Q.T=E,Mh(t,!1,n,r);try{var x=c(),P=Q.S;if(P!==null&&P(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var F=e1(x,l);vl(t,n,F,mn(t))}else vl(t,n,l,mn(t))}catch(X){vl(t,n,{then:function(){},status:"rejected",reason:X},mn())}finally{it.p=f,Q.T=y}}function s1(){}function Vh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Tg(t).queue;Eg(t,c,n,W,r===null?s1:function(){return Ag(t),r(l)})}function Tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:W},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ag(t){var n=Tg(t).next.queue;vl(t,n,{},mn())}function Ih(){return Fe(Ll)}function bg(){return _e().memoizedState}function Sg(){return _e().memoizedState}function l1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=mn();t=Xi(r);var l=$i(n,t,r);l!==null&&(gn(l,n,r),dl(l,n,r)),n={cache:oh()},t.payload=n;return}n=n.return}}function o1(t,n,r){var l=mn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},au(t)?Rg(n,r):(r=Jc(t,n,r,l),r!==null&&(gn(r,t,l),xg(r,n,l)))}function wg(t,n,r){var l=mn();vl(t,n,r,l)}function vl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(au(t))Rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,un(E,y))return qo(t,n,c,0),Wt===null&&Bo(),!1}catch{}finally{}if(r=Jc(t,n,c,l),r!==null)return gn(r,t,l),xg(r,n,l),!0}return!1}function Mh(t,n,r,l){if(l={lane:2,revertLane:ff(),action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(a(479))}else n=Jc(t,r,l,2),n!==null&&gn(n,t,2)}function au(t){var n=t.alternate;return t===St||n!==null&&n===St}function Rg(t,n){Wa=Wo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function xg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Bs(t,r)}}var su={readContext:Fe,use:eu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},Ng={readContext:Fe,use:eu,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Fe,useEffect:hg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ru(4194308,4,gg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ru(4194308,4,t,n)},useInsertionEffect:function(t,n){ru(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(ua){ln(!0);try{t()}finally{ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if(ua){ln(!0);try{r(n)}finally{ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=o1.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=xh(t);var n=t.queue,r=wg.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ch,useDeferredValue:function(t,n){var r=en();return Dh(r,t,n)},useTransition:function(){var t=xh(!1);return t=Eg.bind(null,St,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=en();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(jt&124)!==0||Xm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,hg(Zm.bind(null,l,f,t),[t]),l.flags|=2048,es(9,iu(),$m.bind(null,l,f,r,n),null),r},useId:function(){var t=en(),n=Wt.identifierPrefix;if(Bt){var r=wi,l=Si;r=(l&~(1<<32-Qe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=tu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=n1++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:sg,useActionState:sg,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:Sh,useCacheRefresh:function(){return en().memoizedState=l1.bind(null,St)}},Cg={readContext:Fe,use:eu,useCallback:yg,useContext:Fe,useEffect:fg,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:nu,useRef:cg,useState:function(){return nu(Ni)},useDebugValue:Ch,useDeferredValue:function(t,n){var r=_e();return vg(r,Kt.memoizedState,t,n)},useTransition:function(){var t=nu(Ni)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Km,useId:bg,useHostTransitionStatus:Ih,useFormState:lg,useActionState:lg,useOptimistic:function(t,n){var r=_e();return tg(r,Kt,t,n)},useMemoCache:Sh,useCacheRefresh:Sg},u1={readContext:Fe,use:eu,useCallback:yg,useContext:Fe,useEffect:fg,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:Rh,useRef:cg,useState:function(){return Rh(Ni)},useDebugValue:Ch,useDeferredValue:function(t,n){var r=_e();return Kt===null?Dh(r,t,n):vg(r,Kt.memoizedState,t,n)},useTransition:function(){var t=Rh(Ni)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Km,useId:bg,useHostTransitionStatus:Ih,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var r=_e();return Kt!==null?tg(r,Kt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Sh,useCacheRefresh:Sg},ns=null,El=0;function lu(t){var n=El;return El+=1,ns===null&&(ns=[]),Pm(ns,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ou(t,n){throw n.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dg(t){var n=t._init;return n(t._payload)}function Vg(t){function n(j,V){if(t){var k=j.deletions;k===null?(j.deletions=[V],j.flags|=16):k.push(V)}}function r(j,V){if(!t)return null;for(;V!==null;)n(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function c(j,V){return j=bi(j,V),j.index=0,j.sibling=null,j}function f(j,V,k){return j.index=k,t?(k=j.alternate,k!==null?(k=k.index,k<V?(j.flags|=67108866,V):k):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function y(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,V,k,Y){return V===null||V.tag!==6?(V=th(k,j.mode,Y),V.return=j,V):(V=c(V,k),V.return=j,V)}function x(j,V,k,Y){var ot=k.type;return ot===G?F(j,V,k.props.children,Y,k.key):V!==null&&(V.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Dg(ot)===V.type)?(V=c(V,k.props),Tl(V,k),V.return=j,V):(V=Go(k.type,k.key,k.props,null,j.mode,Y),Tl(V,k),V.return=j,V)}function P(j,V,k,Y){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=eh(k,j.mode,Y),V.return=j,V):(V=c(V,k.children||[]),V.return=j,V)}function F(j,V,k,Y,ot){return V===null||V.tag!==7?(V=ea(k,j.mode,Y,ot),V.return=j,V):(V=c(V,k),V.return=j,V)}function X(j,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=th(""+V,j.mode,k),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return k=Go(V.type,V.key,V.props,null,j.mode,k),Tl(k,V),k.return=j,k;case z:return V=eh(V,j.mode,k),V.return=j,V;case S:var Y=V._init;return V=Y(V._payload),X(j,V,k)}if(ie(V)||U(V))return V=ea(V,j.mode,k,null),V.return=j,V;if(typeof V.then=="function")return X(j,lu(V),k);if(V.$$typeof===ct)return X(j,Ko(j,V),k);ou(j,V)}return null}function B(j,V,k,Y){var ot=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(j,V,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return k.key===ot?x(j,V,k,Y):null;case z:return k.key===ot?P(j,V,k,Y):null;case S:return ot=k._init,k=ot(k._payload),B(j,V,k,Y)}if(ie(k)||U(k))return ot!==null?null:F(j,V,k,Y,null);if(typeof k.then=="function")return B(j,V,lu(k),Y);if(k.$$typeof===ct)return B(j,V,Ko(j,k),Y);ou(j,k)}return null}function q(j,V,k,Y,ot){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(k)||null,E(V,j,""+Y,ot);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return j=j.get(Y.key===null?k:Y.key)||null,x(V,j,Y,ot);case z:return j=j.get(Y.key===null?k:Y.key)||null,P(V,j,Y,ot);case S:var xt=Y._init;return Y=xt(Y._payload),q(j,V,k,Y,ot)}if(ie(Y)||U(Y))return j=j.get(k)||null,F(V,j,Y,ot,null);if(typeof Y.then=="function")return q(j,V,k,lu(Y),ot);if(Y.$$typeof===ct)return q(j,V,k,Ko(V,Y),ot);ou(V,Y)}return null}function _t(j,V,k,Y){for(var ot=null,xt=null,ht=V,gt=V=0,je=null;ht!==null&&gt<k.length;gt++){ht.index>gt?(je=ht,ht=null):je=ht.sibling;var zt=B(j,ht,k[gt],Y);if(zt===null){ht===null&&(ht=je);break}t&&ht&&zt.alternate===null&&n(j,ht),V=f(zt,V,gt),xt===null?ot=zt:xt.sibling=zt,xt=zt,ht=je}if(gt===k.length)return r(j,ht),Bt&&ia(j,gt),ot;if(ht===null){for(;gt<k.length;gt++)ht=X(j,k[gt],Y),ht!==null&&(V=f(ht,V,gt),xt===null?ot=ht:xt.sibling=ht,xt=ht);return Bt&&ia(j,gt),ot}for(ht=l(ht);gt<k.length;gt++)je=q(ht,j,gt,k[gt],Y),je!==null&&(t&&je.alternate!==null&&ht.delete(je.key===null?gt:je.key),V=f(je,V,gt),xt===null?ot=je:xt.sibling=je,xt=je);return t&&ht.forEach(function(dr){return n(j,dr)}),Bt&&ia(j,gt),ot}function mt(j,V,k,Y){if(k==null)throw Error(a(151));for(var ot=null,xt=null,ht=V,gt=V=0,je=null,zt=k.next();ht!==null&&!zt.done;gt++,zt=k.next()){ht.index>gt?(je=ht,ht=null):je=ht.sibling;var dr=B(j,ht,zt.value,Y);if(dr===null){ht===null&&(ht=je);break}t&&ht&&dr.alternate===null&&n(j,ht),V=f(dr,V,gt),xt===null?ot=dr:xt.sibling=dr,xt=dr,ht=je}if(zt.done)return r(j,ht),Bt&&ia(j,gt),ot;if(ht===null){for(;!zt.done;gt++,zt=k.next())zt=X(j,zt.value,Y),zt!==null&&(V=f(zt,V,gt),xt===null?ot=zt:xt.sibling=zt,xt=zt);return Bt&&ia(j,gt),ot}for(ht=l(ht);!zt.done;gt++,zt=k.next())zt=q(ht,j,gt,zt.value,Y),zt!==null&&(t&&zt.alternate!==null&&ht.delete(zt.key===null?gt:zt.key),V=f(zt,V,gt),xt===null?ot=zt:xt.sibling=zt,xt=zt);return t&&ht.forEach(function(cE){return n(j,cE)}),Bt&&ia(j,gt),ot}function $t(j,V,k,Y){if(typeof k=="object"&&k!==null&&k.type===G&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case w:t:{for(var ot=k.key;V!==null;){if(V.key===ot){if(ot=k.type,ot===G){if(V.tag===7){r(j,V.sibling),Y=c(V,k.props.children),Y.return=j,j=Y;break t}}else if(V.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Dg(ot)===V.type){r(j,V.sibling),Y=c(V,k.props),Tl(Y,k),Y.return=j,j=Y;break t}r(j,V);break}else n(j,V);V=V.sibling}k.type===G?(Y=ea(k.props.children,j.mode,Y,k.key),Y.return=j,j=Y):(Y=Go(k.type,k.key,k.props,null,j.mode,Y),Tl(Y,k),Y.return=j,j=Y)}return y(j);case z:t:{for(ot=k.key;V!==null;){if(V.key===ot)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){r(j,V.sibling),Y=c(V,k.children||[]),Y.return=j,j=Y;break t}else{r(j,V);break}else n(j,V);V=V.sibling}Y=eh(k,j.mode,Y),Y.return=j,j=Y}return y(j);case S:return ot=k._init,k=ot(k._payload),$t(j,V,k,Y)}if(ie(k))return _t(j,V,k,Y);if(U(k)){if(ot=U(k),typeof ot!="function")throw Error(a(150));return k=ot.call(k),mt(j,V,k,Y)}if(typeof k.then=="function")return $t(j,V,lu(k),Y);if(k.$$typeof===ct)return $t(j,V,Ko(j,k),Y);ou(j,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(r(j,V.sibling),Y=c(V,k),Y.return=j,j=Y):(r(j,V),Y=th(k,j.mode,Y),Y.return=j,j=Y),y(j)):r(j,V)}return function(j,V,k,Y){try{El=0;var ot=$t(j,V,k,Y);return ns=null,ot}catch(ht){if(ht===hl||ht===$o)throw ht;var xt=cn(29,ht,null,j.mode);return xt.lanes=Y,xt.return=j,xt}finally{}}}var is=Vg(!0),Ig=Vg(!1),Nn=J(null),Wn=null;function Ji(t){var n=t.alternate;et(Ne,Ne.current&1),et(Nn,t),Wn===null&&(n===null||Ja.current!==null||n.memoizedState!==null)&&(Wn=t)}function Mg(t){if(t.tag===22){if(et(Ne,Ne.current),et(Nn,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else Wi()}function Wi(){et(Ne,Ne.current),et(Nn,Nn.current)}function Ci(t){rt(Nn),Wn===t&&(Wn=null),rt(Ne)}var Ne=J(0);function uu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Sf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Oh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:b({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=mn(),c=Xi(l);c.payload=n,r!=null&&(c.callback=r),n=$i(t,c,l),n!==null&&(gn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=mn(),c=Xi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=$i(t,c,l),n!==null&&(gn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=mn(),l=Xi(r);l.tag=2,n!=null&&(l.callback=n),n=$i(t,l,r),n!==null&&(gn(n,t,r),dl(n,t,r))}};function Og(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!il(r,l)||!il(c,f):!0}function jg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&jh.enqueueReplaceState(n,n.state,null)}function ca(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=b({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ug(t){cu(t)}function Lg(t){console.error(t)}function kg(t){cu(t)}function hu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function zg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uh(t,n,r){return r=Xi(r),r.tag=3,r.payload={element:null},r.callback=function(){hu(t,n)},r}function Pg(t){return t=Xi(t),t.tag=3,t}function Bg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){zg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){zg(n,r,l),typeof c!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function c1(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ol(n,r,c,!0),r=Nn.current,r!==null){switch(r.tag){case 13:return Wn===null?lf():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===hh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),uf(t,l,c)),!1;case 22:return r.flags|=65536,l===hh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),uf(t,l,c)),!1}throw Error(a(435,r.tag))}return uf(t,l,c),lf(),!1}if(Bt)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==rh&&(t=Error(a(422),{cause:l}),ll(Sn(t,r)))):(l!==rh&&(n=Error(a(423),{cause:l}),ll(Sn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Sn(l,r),c=Uh(t.stateNode,l,c),mh(t,c),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:l});if(f=Sn(f,r),Nl===null?Nl=[f]:Nl.push(f),ce!==4&&(ce=2),n===null)return!0;l=Sn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Uh(r.stateNode,l,t),mh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ar===null||!ar.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Pg(c),Bg(c,t,r,l),mh(r,c),!1}r=r.return}while(r!==null);return!1}var qg=Error(a(461)),Me=!1;function ze(t,n,r,l){n.child=t===null?Ig(n,null,r,l):is(n,t.child,r,l)}function Hg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return la(n),l=vh(t,n,r,y,f,c),E=Eh(),t!==null&&!Me?(Th(t,n,c),Di(t,n,c)):(Bt&&E&&nh(n),n.flags|=1,ze(t,n,l,c),n.child)}function Gg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Wc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Qg(t,n,f,l,c)):(t=Go(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(y,l)&&t.ref===n.ref)return Di(t,n,c)}return n.flags|=1,t=bi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Qg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Me=!1,n.pendingProps=l=f,Gh(t,c))(t.flags&131072)!==0&&(Me=!0);else return n.lanes=t.lanes,Di(t,n,c)}return Lh(t,n,r,l,c)}function Fg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Yg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,f!==null?f.cachePool:null),f!==null?Qm(n,f):ph(),Mg(n);else return n.lanes=n.childLanes=536870912,Yg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Xo(n,f.cachePool),Qm(n,f),Wi(),n.memoizedState=null):(t!==null&&Xo(n,null),ph(),Wi());return ze(t,n,c,r),n.child}function Yg(t,n,r,l){var c=ch();return c=c===null?null:{parent:xe._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Xo(n,null),ph(),Mg(n),t!==null&&ol(t,n,l,!0),null}function fu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lh(t,n,r,l,c){return la(n),r=vh(t,n,r,l,void 0,c),l=Eh(),t!==null&&!Me?(Th(t,n,c),Di(t,n,c)):(Bt&&l&&nh(n),n.flags|=1,ze(t,n,r,c),n.child)}function Kg(t,n,r,l,c,f){return la(n),n.updateQueue=null,r=Ym(n,l,r,c),Fm(t),l=Eh(),t!==null&&!Me?(Th(t,n,f),Di(t,n,f)):(Bt&&l&&nh(n),n.flags|=1,ze(t,n,r,f),n.child)}function Xg(t,n,r,l,c){if(la(n),n.stateNode===null){var f=Ya,y=r.contextType;typeof y=="object"&&y!==null&&(f=Fe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},fh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Fe(y):Ya,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Oh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&jh.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=ca(r,E);f.props=x;var P=f.context,F=r.contextType;y=Ya,typeof F=="object"&&F!==null&&(y=Fe(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&jg(n,f,l,y),Ki=!1;var B=n.memoizedState;f.state=B,gl(n,l,f,c),ml(),P=n.memoizedState,E||B!==P||Ki?(typeof X=="function"&&(Oh(n,r,X,l),P=n.memoizedState),(x=Ki||Og(n,r,x,l,B,P,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,dh(t,n),y=n.memoizedProps,F=ca(r,y),f.props=F,X=n.pendingProps,B=f.context,P=r.contextType,x=Ya,typeof P=="object"&&P!==null&&(x=Fe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||B!==x)&&jg(n,f,l,x),Ki=!1,B=n.memoizedState,f.state=B,gl(n,l,f,c),ml();var q=n.memoizedState;y!==X||B!==q||Ki||t!==null&&t.dependencies!==null&&Yo(t.dependencies)?(typeof E=="function"&&(Oh(n,r,E,l),q=n.memoizedState),(F=Ki||Og(n,r,F,l,B,q,x)||t!==null&&t.dependencies!==null&&Yo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=x,l=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=is(n,t.child,null,c),n.child=is(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Di(t,n,c),t}function $g(t,n,r,l){return sl(),n.flags|=256,ze(t,n,r,l),n.child}var kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zh(t){return{baseLanes:t,cachePool:Lm()}}function Ph(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function Zg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ne.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Ji(n):Wi(),Bt){var E=ue,x;if(x=E){t:{for(x=E,E=Jn;x.nodeType!==8;){if(!E){E=null;break t}if(x=Ln(x.nextSibling),x===null){E=null;break t}}E=x}E!==null?(n.memoizedState={dehydrated:E,treeContext:na!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},x=cn(18,null,null,0),x.stateNode=E,x.return=n,n.child=x,tn=n,ue=null,x=!0):x=!1}x||aa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Sf(E)?n.lanes=32:n.lanes=536870912,null;Ci(n)}return E=l.children,l=l.fallback,c?(Wi(),c=n.mode,E=du({mode:"hidden",children:E},c),l=ea(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=zh(r),c.childLanes=Ph(t,y,r),n.memoizedState=kh,l):(Ji(n),Bh(n,E))}if(x=t.memoizedState,x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Ji(n),n.flags&=-257,n=qh(t,n,r)):n.memoizedState!==null?(Wi(),n.child=t.child,n.flags|=128,n=null):(Wi(),c=l.fallback,E=n.mode,l=du({mode:"visible",children:l.children},E),c=ea(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,is(n,t.child,null,r),l=n.child,l.memoizedState=zh(r),l.childLanes=Ph(t,y,r),n.memoizedState=kh,n=c);else if(Ji(n),Sf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,ll({value:l,source:null,stack:null}),n=qh(t,n,r)}else if(Me||ol(t,n,r,!1),y=(r&t.childLanes)!==0,Me||y){if(y=Wt,y!==null&&(l=r&-r,l=(l&42)!==0?1:Pi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Fa(t,l),gn(y,t,l),qg;E.data==="$?"||lf(),n=qh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,ue=Ln(E.nextSibling),tn=n,Bt=!0,ra=null,Jn=!1,t!==null&&(Rn[xn++]=Si,Rn[xn++]=wi,Rn[xn++]=na,Si=t.id,wi=t.overflow,na=n),n=Bh(n,l.children),n.flags|=4096);return n}return c?(Wi(),c=l.fallback,E=n.mode,x=t.child,P=x.sibling,l=bi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,P!==null?c=bi(P,c):(c=ea(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=zh(r):(x=E.cachePool,x!==null?(P=xe._currentValue,x=x.parent!==P?{parent:P,pool:P}:x):x=Lm(),E={baseLanes:E.baseLanes|r,cachePool:x}),c.memoizedState=E,c.childLanes=Ph(t,y,r),n.memoizedState=kh,l):(Ji(n),r=t.child,t=r.sibling,r=bi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Bh(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=cn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function qh(t,n,r){return is(n,t.child,null,r),t=Bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sh(t.return,n,r)}function Hh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Wg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=Ne.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jg(t,r,n);else if(t.tag===19)Jg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(Ne,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&uu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Hh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Hh(n,!0,r,null,f);break;case"together":Hh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),rr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ol(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=bi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=bi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Gh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yo(t)))}function h1(t,n,r){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),Yi(n,xe,t.memoizedState.cache),sl();break;case 27:case 5:zi(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:Yi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Zg(t,n,r):(Ji(n),t=Di(t,n,r),t!==null?t.sibling:null);Ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ol(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Wg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Ne,Ne.current),l)break;return null;case 22:case 23:return n.lanes=0,Fg(t,n,r);case 24:Yi(n,xe,t.memoizedState.cache)}return Di(t,n,r)}function tp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Me=!0;else{if(!Gh(t,r)&&(n.flags&128)===0)return Me=!1,h1(t,n,r);Me=(t.flags&131072)!==0}else Me=!1,Bt&&(n.flags&1048576)!==0&&Dm(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Wc(l)?(t=ca(l,t),n.tag=1,n=Xg(null,n,l,t,r)):(n.tag=0,n=Lh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===kt){n.tag=11,n=Hg(null,n,l,t,r);break t}else if(c===I){n.tag=14,n=Gg(null,n,l,t,r);break t}}throw n=be(l)||l,Error(a(306,n,""))}}return n;case 0:return Lh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ca(l,n.pendingProps),Xg(t,n,l,c,r);case 3:t:{if(Jt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,dh(t,n),gl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Yi(n,xe,l),l!==f.cache&&lh(n,[xe],r,!0),ml(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$g(t,n,l,r);break t}else if(l!==c){c=Sn(Error(a(424)),n),ll(c),n=$g(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ue=Ln(t.firstChild),tn=n,Bt=!0,ra=null,Jn=!0,r=Ig(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sl(),l===c){n=Di(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return fu(t,n),t===null?(r=ry(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=xu(vt.current).createElement(r),l[Se]=n,l[ge]=t,Be(l,r,t),he(l),n.stateNode=l):n.memoizedState=ry(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&Bt&&(l=n.stateNode=ey(n.type,n.pendingProps,vt.current),tn=n,Jn=!0,c=ue,or(n.type)?(wf=c,ue=Ln(l.firstChild)):ue=c),ze(t,n,n.pendingProps.children,r),fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ue)&&(l=z1(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,tn=n,ue=Ln(l.firstChild),Jn=!1,c=!0):c=!1),c||aa(n)),zi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Tf(c,f)?l=null:y!==null&&Tf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=vh(t,n,i1,null,null,r),Ll._currentValue=c),fu(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=ue)&&(r=P1(r,n.pendingProps,Jn),r!==null?(n.stateNode=r,tn=n,ue=null,t=!0):t=!1),t||aa(n)),null;case 13:return Zg(t,n,r);case 4:return Jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=is(n,null,l,r):ze(t,n,l,r),n.child;case 11:return Hg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Yi(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,la(n),c=Fe(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return Gg(t,n,n.type,n.pendingProps,r);case 15:return Qg(t,n,n.type,n.pendingProps,r);case 19:return Wg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=du(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=bi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Fg(t,n,r);case 24:return la(n),l=Fe(xe),t===null?(c=ch(),c===null&&(c=Wt,f=oh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},fh(n),Yi(n,xe,c)):((t.lanes&r)!==0&&(dh(t,n),gl(n,null,null,r),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Yi(n,xe,l)):(l=f.cache,Yi(n,xe,l),l!==c.cache&&lh(n,[xe],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Vi(t){t.flags|=4}function ep(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uy(n)){if(n=Nn.current,n!==null&&((jt&4194048)===jt?Wn!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==Wn))throw fl=hh,km;t.flags|=8192}}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zs():536870912,t.lanes|=n,ls|=n)}function Al(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function f1(t,n,r){var l=n.pendingProps;switch(ih(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xi(xe),Pn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(al(n)?Vi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mm())),se(n),null;case 26:return r=n.memoizedState,t===null?(Vi(n),r!==null?(se(n),ep(n,r)):(se(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Vi(n),se(n),ep(n,r)):(se(n),n.flags&=-16777217):(t.memoizedProps!==l&&Vi(n),se(n),n.flags&=-16777217),null;case 27:ci(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}t=dt.current,al(n)?Vm(n):(t=ey(c,l,r),n.stateNode=t,Vi(n))}return se(n),null;case 5:if(ci(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(t=dt.current,al(n))Vm(n);else{switch(c=xu(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Se]=n,t[ge]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Be(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Vi(n)}}return se(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,al(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=tn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Se]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Kp(t.nodeValue,r)),t||aa(n)}else t=xu(t).createTextNode(l),t[Se]=n,n.stateNode=t}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Se]=n}else sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=Mm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),mu(n,n.updateQueue),se(n),null;case 4:return Pn(),t===null&&pf(n.stateNode.containerInfo),se(n),null;case 10:return xi(n.type),se(n),null;case 19:if(rt(Ne),c=n.memoizedState,c===null)return se(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Al(c,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=uu(t),f!==null){for(n.flags|=128,Al(c,!1),t=f.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Cm(r,t),r=r.sibling;return et(Ne,Ne.current&1|2),n.child}t=t.sibling}c.tail!==null&&_n()>yu&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304)}else{if(!l)if(t=uu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return se(n),null}else 2*_n()-c.renderingStartTime>yu&&r!==536870912&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=_n(),n.sibling=null,t=Ne.current,et(Ne,l?t&1|2:t&1),n):(se(n),null);case 22:case 23:return Ci(n),yh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),r=n.updateQueue,r!==null&&mu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&rt(oa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(xe),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function d1(t,n){switch(ih(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xi(xe),Pn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ci(n),null;case 13:if(Ci(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return rt(Ne),null;case 4:return Pn(),null;case 10:return xi(n.type),null;case 22:case 23:return Ci(n),yh(),t!==null&&rt(oa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return xi(xe),null;case 25:return null;default:return null}}function np(t,n){switch(ih(n),n.tag){case 3:xi(xe),Pn();break;case 26:case 27:case 5:ci(n);break;case 4:Pn();break;case 13:Ci(n);break;case 19:rt(Ne);break;case 10:xi(n.type);break;case 22:case 23:Ci(n),yh(),t!==null&&rt(oa);break;case 24:xi(xe)}}function bl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function tr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var x=r,P=E;try{P()}catch(F){Zt(c,x,F)}}}l=l.next}while(l!==f)}}catch(F){Zt(n,n.return,F)}}function ip(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Gm(n,r)}catch(l){Zt(t,t.return,l)}}}function rp(t,n,r){r.props=ca(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function Sl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function ti(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function ap(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function Qh(t,n,r){try{var l=t.stateNode;O1(l,t.type,r,n),l[ge]=n}catch(c){Zt(t,t.return,c)}}function sp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&or(t.type)||t.tag===4}function Fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&or(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ru));else if(l!==4&&(l===27&&or(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Yh(t,n,r),t=t.sibling;t!==null;)Yh(t,n,r),t=t.sibling}function gu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&or(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(gu(t,n,r),t=t.sibling;t!==null;)gu(t,n,r),t=t.sibling}function lp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,l,r),n[Se]=t,n[ge]=r}catch(f){Zt(t,t.return,f)}}var Ii=!1,de=!1,Kh=!1,op=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function m1(t,n){if(t=t.containerInfo,vf=Mu,t=vm(t),Fc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,x=-1,P=0,F=0,X=t,B=null;e:for(;;){for(var q;X!==r||c!==0&&X.nodeType!==3||(E=y+c),X!==f||l!==0&&X.nodeType!==3||(x=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++F===l&&(x=y),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}r=E===-1||x===-1?null:{start:E,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ef={focusedElem:t,selectionRange:r},Mu=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=ca(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Zt(r,r.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)bf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}}function up(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:er(t,r),l&4&&bl(5,r);break;case 1:if(er(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Zt(r,r.return,y)}else{var c=ca(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(r,r.return,y)}}l&64&&ip(r),l&512&&Sl(r,r.return);break;case 3:if(er(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Gm(t,n)}catch(y){Zt(r,r.return,y)}}break;case 27:n===null&&l&4&&lp(r);case 26:case 5:er(t,r),n===null&&l&4&&ap(r),l&512&&Sl(r,r.return);break;case 12:er(t,r);break;case 13:er(t,r),l&4&&fp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=b1.bind(null,r),B1(t,r))));break;case 22:if(l=r.memoizedState!==null||Ii,!l){n=n!==null&&n.memoizedState!==null||de,c=Ii;var f=de;Ii=l,(de=n)&&!f?nr(t,r,(r.subtreeFlags&8772)!==0):er(t,r),Ii=c,de=f}break;case 30:break;default:er(t,r)}}function cp(t){var n=t.alternate;n!==null&&(t.alternate=null,cp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Hi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,nn=!1;function Mi(t,n,r){for(r=r.child;r!==null;)hp(t,n,r),r=r.sibling}function hp(t,n,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(oe,r)}catch{}switch(r.tag){case 26:de||ti(r,n),Mi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:de||ti(r,n);var l=ae,c=nn;or(r.type)&&(ae=r.stateNode,nn=!1),Mi(t,n,r),Ml(r.stateNode),ae=l,nn=c;break;case 5:de||ti(r,n);case 6:if(l=ae,c=nn,ae=null,Mi(t,n,r),ae=l,nn=c,ae!==null)if(nn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:ae!==null&&(nn?(t=ae,Wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Bl(t)):Wp(ae,r.stateNode));break;case 4:l=ae,c=nn,ae=r.stateNode.containerInfo,nn=!0,Mi(t,n,r),ae=l,nn=c;break;case 0:case 11:case 14:case 15:de||tr(2,r,n),de||tr(4,r,n),Mi(t,n,r);break;case 1:de||(ti(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&rp(r,n,l)),Mi(t,n,r);break;case 21:Mi(t,n,r);break;case 22:de=(l=de)||r.memoizedState!==null,Mi(t,n,r),de=l;break;default:Mi(t,n,r)}}function fp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(r){Zt(n,n.return,r)}}function g1(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new op),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new op),n;default:throw Error(a(435,t.tag))}}function Xh(t,n){var r=g1(t);n.forEach(function(l){var c=S1.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function hn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(or(E.type)){ae=E.stateNode,nn=!1;break t}break;case 5:ae=E.stateNode,nn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));hp(f,y,c),ae=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)dp(n,t),n=n.sibling}var Un=null;function dp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(n,t),fn(t),l&4&&(tr(3,t,t.return),bl(3,t),tr(5,t,t.return));break;case 1:hn(n,t),fn(t),l&512&&(de||r===null||ti(r,r.return)),l&64&&Ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(hn(n,t),fn(t),l&512&&(de||r===null||ti(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[zr]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,l,r),f[Se]=t,he(f),l=f;break t;case"link":var y=ly("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;case"meta":if(y=ly("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Se]=t,he(f),l=f}t.stateNode=l}else oy(c,t.type,t.stateNode);else t.stateNode=sy(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?oy(c,t.type,t.stateNode):sy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qh(t,t.memoizedProps,r.memoizedProps)}break;case 27:hn(n,t),fn(t),l&512&&(de||r===null||ti(r,r.return)),r!==null&&l&4&&Qh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(hn(n,t),fn(t),l&512&&(de||r===null||ti(r,r.return)),t.flags&32){c=t.stateNode;try{En(c,"")}catch(q){Zt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Qh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Kh=!0);break;case 6:if(hn(n,t),fn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Zt(t,t.return,q)}}break;case 3:if(Du=null,c=Un,Un=Nu(n.containerInfo),hn(n,t),Un=c,fn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(q){Zt(t,t.return,q)}Kh&&(Kh=!1,mp(t));break;case 4:l=Un,Un=Nu(t.stateNode.containerInfo),hn(n,t),fn(t),Un=l;break;case 12:hn(n,t),fn(t);break;case 13:hn(n,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ef=_n()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xh(t,l)));break;case 22:c=t.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,P=Ii,F=de;if(Ii=P||c,de=F||x,hn(n,t),de=F,Ii=P,fn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||x||Ii||de||ha(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=x.stateNode;var X=x.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Zt(x,x.return,q)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(q){Zt(x,x.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Xh(t,r))));break;case 19:hn(n,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xh(t,l)));break;case 30:break;case 21:break;default:hn(n,t),fn(t)}}function fn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(sp(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Fh(t);gu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(En(y,""),r.flags&=-33);var E=Fh(t);gu(t,E,y);break;case 3:case 4:var x=r.stateNode.containerInfo,P=Fh(t);Yh(t,P,x);break;default:throw Error(a(161))}}catch(F){Zt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function er(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)up(t,n.alternate,n),n=n.sibling}function ha(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:tr(4,n,n.return),ha(n);break;case 1:ti(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&rp(n,n.return,r),ha(n);break;case 27:Ml(n.stateNode);case 26:case 5:ti(n,n.return),ha(n);break;case 22:n.memoizedState===null&&ha(n);break;case 30:ha(n);break;default:ha(n)}t=t.sibling}}function nr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:nr(c,f,r),bl(4,f);break;case 1:if(nr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Zt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var x=c.shared.hiddenCallbacks;if(x!==null)for(c.shared.hiddenCallbacks=null,c=0;c<x.length;c++)Hm(x[c],E)}catch(P){Zt(l,l.return,P)}}r&&y&64&&ip(f),Sl(f,f.return);break;case 27:lp(f);case 26:case 5:nr(c,f,r),r&&l===null&&y&4&&ap(f),Sl(f,f.return);break;case 12:nr(c,f,r);break;case 13:nr(c,f,r),r&&y&4&&fp(c,f);break;case 22:f.memoizedState===null&&nr(c,f,r),Sl(f,f.return);break;case 30:break;default:nr(c,f,r)}n=n.sibling}}function $h(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ul(r))}function Zh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function ei(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gp(t,n,r,l),n=n.sibling}function gp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n,r,l),c&2048&&bl(9,n);break;case 1:ei(t,n,r,l);break;case 3:ei(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){ei(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Zt(n,n.return,x)}}else ei(t,n,r,l);break;case 13:ei(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ei(t,n,r,l):wl(t,n):f._visibility&2?ei(t,n,r,l):(f._visibility|=2,rs(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&$h(y,n);break;case 24:ei(t,n,r,l),c&2048&&Zh(n.alternate,n);break;default:ei(t,n,r,l)}}function rs(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,x=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:rs(f,y,E,x,c),bl(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?rs(f,y,E,x,c):wl(f,y):(F._visibility|=2,rs(f,y,E,x,c)),c&&P&2048&&$h(y.alternate,y);break;case 24:rs(f,y,E,x,c),c&&P&2048&&Zh(y.alternate,y);break;default:rs(f,y,E,x,c)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:wl(r,l),c&2048&&$h(l.alternate,l);break;case 24:wl(r,l),c&2048&&Zh(l.alternate,l);break;default:wl(r,l)}n=n.sibling}}var Rl=8192;function as(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)pp(t),t=t.sibling}function pp(t){switch(t.tag){case 26:as(t),t.flags&Rl&&t.memoizedState!==null&&tE(Un,t.memoizedState,t.memoizedProps);break;case 5:as(t);break;case 3:case 4:var n=Un;Un=Nu(t.stateNode.containerInfo),as(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Rl,Rl=16777216,as(t),Rl=n):as(t));break;default:as(t)}}function yp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,vp(l,t)}yp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&tr(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pu(t)):xl(t);break;default:xl(t)}}function pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,vp(l,t)}yp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:tr(8,n,n.return),pu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,pu(n));break;default:pu(n)}t=t.sibling}}function vp(t,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=t;Oe!==null;){l=Oe;var c=l.sibling,f=l.return;if(cp(l),l===r){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}var p1={getCacheForType:function(t){var n=Fe(xe),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},y1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,Wt=null,Ct=null,jt=0,Ft=0,dn=null,ir=!1,ss=!1,Jh=!1,Oi=0,ce=0,rr=0,fa=0,Wh=0,Cn=0,ls=0,Nl=null,rn=null,tf=!1,ef=0,yu=1/0,_u=null,ar=null,Pe=0,sr=null,os=null,us=0,nf=0,rf=null,Ep=null,Cl=0,af=null;function mn(){if((Qt&2)!==0&&jt!==0)return jt&-jt;if(Q.T!==null){var t=$a;return t!==0?t:ff()}return Bi()}function Tp(){Cn===0&&(Cn=(jt&536870912)===0||Bt?ks():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),Cn}function gn(t,n,r){(t===Wt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(cs(t,0),lr(t,jt,Cn,!1)),fi(t,r),((Qt&2)===0||t!==Wt)&&(t===Wt&&((Qt&2)===0&&(fa|=r),ce===4&&lr(t,jt,Cn,!1)),ni(t))}function Ap(t,n,r){if((Qt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||kr(t,n),c=l?E1(t,n):of(t,n,!0),f=l;do{if(c===0){ss&&!l&&lr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!_1(r)){c=of(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Nl;var x=E.current.memoizedState.isDehydrated;if(x&&(cs(E,y).flags|=256),y=of(E,y,!1),y!==2){if(Jh&&!x){E.errorRecoveryDisabledLanes|=f,fa|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){cs(t,0),lr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:lr(l,n,Cn,!ir);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=ef+300-_n(),10<c)){if(lr(l,n,Cn,!ir),xa(l,0,!0)!==0)break t;l.timeoutHandle=Zp(bp.bind(null,l,r,rn,_u,tf,n,Cn,fa,ls,ir,f,2,-0,0),c);break t}bp(l,r,rn,_u,tf,n,Cn,fa,ls,ir,f,0,-0,0)}}break}while(!0);ni(t)}function bp(t,n,r,l,c,f,y,E,x,P,F,X,B,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:W1},pp(n),X=eE(),X!==null)){t.cancelPendingCommit=X(Dp.bind(null,t,n,f,r,l,c,y,E,x,F,1,B,q)),lr(t,f,y,!P);return}Dp(t,n,f,r,l,c,y,E,x)}function _1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!un(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(t,n,r,l){n&=~Wh,n&=~fa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Qe(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Bn(t,r,n)}function vu(){return(Qt&6)===0?(Dl(0),!1):!0}function sf(){if(Ct!==null){if(Ft===0)var t=Ct.return;else t=Ct,Ri=sa=null,Ah(t),ns=null,El=0,t=Ct;for(;t!==null;)np(t.alternate,t),t=t.return;Ct=null}}function cs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,U1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),sf(),Wt=t,Ct=r=bi(t.current,null),jt=n,Ft=0,dn=null,ir=!1,ss=kr(t,n),Jh=!1,ls=Cn=Wh=fa=rr=ce=0,rn=Nl=null,tf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Qe(l),f=1<<c;n|=t[c],l&=~f}return Oi=n,Bo(),r}function Sp(t,n){St=null,Q.H=su,n===hl||n===$o?(n=Bm(),Ft=3):n===km?(n=Bm(),Ft=4):Ft=n===qg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Ct===null&&(ce=1,hu(t,Sn(n,t.current)))}function wp(){var t=Q.H;return Q.H=su,t===null?su:t}function Rp(){var t=Q.A;return Q.A=p1,t}function lf(){ce=4,ir||(jt&4194048)!==jt&&Nn.current!==null||(ss=!0),(rr&134217727)===0&&(fa&134217727)===0||Wt===null||lr(Wt,jt,Cn,!1)}function of(t,n,r){var l=Qt;Qt|=2;var c=wp(),f=Rp();(Wt!==t||jt!==n)&&(_u=null,cs(t,n)),n=!1;var y=ce;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,x=dn;switch(Ft){case 8:sf(),y=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var P=Ft;if(Ft=0,dn=null,hs(t,E,x,P),r&&ss){y=0;break t}break;default:P=Ft,Ft=0,dn=null,hs(t,E,x,P)}}v1(),y=ce;break}catch(F){Sp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Ri=sa=null,Qt=l,Q.H=c,Q.A=f,Ct===null&&(Wt=null,jt=0,Bo()),y}function v1(){for(;Ct!==null;)xp(Ct)}function E1(t,n){var r=Qt;Qt|=2;var l=wp(),c=Rp();Wt!==t||jt!==n?(_u=null,yu=_n()+500,cs(t,n)):ss=kr(t,n);t:do try{if(Ft!==0&&Ct!==null){n=Ct;var f=dn;e:switch(Ft){case 1:Ft=0,dn=null,hs(t,n,f,1);break;case 2:case 9:if(zm(f)){Ft=0,dn=null,Np(n);break}n=function(){Ft!==2&&Ft!==9||Wt!==t||(Ft=7),ni(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:zm(f)?(Ft=0,dn=null,Np(n)):(Ft=0,dn=null,hs(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||uy(y)){Ft=0,dn=null;var x=E.sibling;if(x!==null)Ct=x;else{var P=E.return;P!==null?(Ct=P,Eu(P)):Ct=null}break e}}Ft=0,dn=null,hs(t,n,f,5);break;case 6:Ft=0,dn=null,hs(t,n,f,6);break;case 8:sf(),ce=6;break t;default:throw Error(a(462))}}T1();break}catch(F){Sp(t,F)}while(!0);return Ri=sa=null,Q.H=l,Q.A=c,Qt=r,Ct!==null?0:(Wt=null,jt=0,Bo(),ce)}function T1(){for(;Ct!==null&&!Os();)xp(Ct)}function xp(t){var n=tp(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?Eu(t):Ct=n}function Np(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Kg(r,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=Kg(r,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:Ah(n);default:np(r,n),n=Ct=Cm(n,Oi),n=tp(r,n,Oi)}t.memoizedProps=t.pendingProps,n===null?Eu(t):Ct=n}function hs(t,n,r,l){Ri=sa=null,Ah(n),ns=null,El=0;var c=n.return;try{if(c1(t,c,n,r,jt)){ce=1,hu(t,Sn(r,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;ce=1,hu(t,Sn(r,t.current)),Ct=null;return}n.flags&32768?(Bt||l===1?t=!0:ss||(jt&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cp(n,t)):Eu(n)}function Eu(t){var n=t;do{if((n.flags&32768)!==0){Cp(n,ir);return}t=n.return;var r=f1(n.alternate,n,Oi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);ce===0&&(ce=5)}function Cp(t,n){do{var r=d1(t.alternate,t);if(r!==null){r.flags&=32767,Ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=r}while(t!==null);ce=6,Ct=null}function Dp(t,n,r,l,c,f,y,E,x){t.cancelPendingCommit=null;do Tu();while(Pe!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Zc,Ps(t,r,f,y,E,x),t===Wt&&(Ct=Wt=null,jt=0),os=n,sr=t,us=r,nf=f,rf=c,Ep=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,w1(Or,function(){return jp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=it.p,it.p=2,y=Qt,Qt|=4;try{m1(t,n,r)}finally{Qt=y,it.p=c,Q.T=l}}Pe=1,Vp(),Ip(),Mp()}}function Vp(){if(Pe===1){Pe=0;var t=sr,n=os,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null;var l=it.p;it.p=2;var c=Qt;Qt|=4;try{dp(n,t);var f=Ef,y=vm(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&_m(E.ownerDocument.documentElement,E)){if(x!==null&&Fc(E)){var P=x.start,F=x.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),_t=E.textContent.length,mt=Math.min(x.start,_t),$t=x.end===void 0?mt:Math.min(x.end,_t);!q.extend&&mt>$t&&(y=$t,$t=mt,mt=y);var j=ym(E,mt),V=ym(E,$t);if(j&&V&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var k=X.createRange();k.setStart(j.node,j.offset),q.removeAllRanges(),mt>$t?(q.addRange(k),q.extend(V.node,V.offset)):(k.setEnd(V.node,V.offset),q.addRange(k))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Mu=!!vf,Ef=vf=null}finally{Qt=c,it.p=l,Q.T=r}}t.current=n,Pe=2}}function Ip(){if(Pe===2){Pe=0;var t=sr,n=os,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Q.T,Q.T=null;var l=it.p;it.p=2;var c=Qt;Qt|=4;try{up(t,n.alternate,n)}finally{Qt=c,it.p=l,Q.T=r}}Pe=3}}function Mp(){if(Pe===4||Pe===3){Pe=0,po();var t=sr,n=os,r=us,l=Ep;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,os=sr=null,Op(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ar=null),Na(r),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=it.p,it.p=2,Q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,it.p=c}}(us&3)!==0&&Tu(),ni(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===af?Cl++:(Cl=0,af=t):Cl=0,Dl(0)}}function Op(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Tu(t){return Vp(),Ip(),Mp(),jp()}function jp(){if(Pe!==5)return!1;var t=sr,n=nf;nf=0;var r=Na(us),l=Q.T,c=it.p;try{it.p=32>r?32:r,Q.T=null,r=rf,rf=null;var f=sr,y=us;if(Pe=0,os=sr=null,us=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,_p(f.current),gp(f,f.current,y,r),Qt=E,Dl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(oe,f)}catch{}return!0}finally{it.p=c,Q.T=l,Op(t,n)}}function Up(t,n,r){n=Sn(r,n),n=Uh(t.stateNode,n,2),t=$i(t,n,2),t!==null&&(fi(t,2),ni(t))}function Zt(t,n,r){if(t.tag===3)Up(t,t,r);else for(;n!==null;){if(n.tag===3){Up(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ar===null||!ar.has(l))){t=Sn(r,t),r=Pg(2),l=$i(n,r,2),l!==null&&(Bg(r,l,n,t),fi(l,2),ni(l));break}}n=n.return}}function uf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new y1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Jh=!0,c.add(r),t=A1.bind(null,t,n,r),n.then(t,t))}function A1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Wt===t&&(jt&r)===r&&(ce===4||ce===3&&(jt&62914560)===jt&&300>_n()-ef?(Qt&2)===0&&cs(t,0):Wh|=r,ls===jt&&(ls=0)),ni(t)}function Lp(t,n){n===0&&(n=zs()),t=Fa(t,n),t!==null&&(fi(t,n),ni(t))}function b1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Lp(t,r)}function S1(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Lp(t,r)}function w1(t,n){return Ir(t,n)}var Au=null,fs=null,cf=!1,bu=!1,hf=!1,da=0;function ni(t){t!==fs&&t.next===null&&(fs===null?Au=fs=t:fs=fs.next=t),bu=!0,cf||(cf=!0,x1())}function Dl(t,n){if(!hf&&bu){hf=!0;do for(var r=!1,l=Au;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Bp(l,f))}else f=jt,f=xa(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||kr(l,f)||(r=!0,Bp(l,f));l=l.next}while(r);hf=!1}}function R1(){kp()}function kp(){bu=cf=!1;var t=0;da!==0&&(j1()&&(t=da),da=0);for(var n=_n(),r=null,l=Au;l!==null;){var c=l.next,f=zp(l,n);f===0?(l.next=null,r===null?Au=c:r.next=c,c===null&&(fs=r)):(r=l,(t!==0||(f&3)!==0)&&(bu=!0)),l=c}Dl(t)}function zp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Qe(f),E=1<<y,x=c[y];x===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ls(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,r=jt,r=xa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||kr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Mr(l),Na(r)){case 2:case 8:r=wa;break;case 32:r=Or;break;case 268435456:r=Ra;break;default:r=Or}return l=Pp.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Mr(l),t.callbackPriority=2,t.callbackNode=null,2}function Pp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Tu()&&t.callbackNode!==r)return null;var l=jt;return l=xa(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ap(t,l,n),zp(t,_n()),t.callbackNode!=null&&t.callbackNode===r?Pp.bind(null,t):null)}function Bp(t,n){if(Tu())return null;Ap(t,n,!0)}function x1(){L1(function(){(Qt&6)!==0?Ir(js,R1):kp()})}function ff(){return da===0&&(da=ks()),da}function qp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function Hp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function N1(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=qp((c[ge]||null).action),y=l.submitter;y&&(n=(n=y[ge]||null)?qp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new ja("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var x=y?Hp(c,y):new FormData(c);Vh(r,{pending:!0,data:x,method:c.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=y?Hp(c,y):new FormData(c),Vh(r,{pending:!0,data:x,method:c.method,action:f},f,x))},currentTarget:c}]})}}for(var df=0;df<$c.length;df++){var mf=$c[df],C1=mf.toLowerCase(),D1=mf[0].toUpperCase()+mf.slice(1);jn(C1,"on"+D1)}jn(Am,"onAnimationEnd"),jn(bm,"onAnimationIteration"),jn(Sm,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Yv,"onTransitionRun"),jn(Kv,"onTransitionStart"),jn(Xv,"onTransitionCancel"),jn(wm,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Gp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],x=E.instance,P=E.currentTarget;if(E=E.listener,x!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(F){cu(F)}c.currentTarget=null,f=x}else for(y=0;y<l.length;y++){if(E=l[y],x=E.instance,P=E.currentTarget,E=E.listener,x!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(F){cu(F)}c.currentTarget=null,f=x}}}}function Dt(t,n){var r=n[qs];r===void 0&&(r=n[qs]=new Set);var l=t+"__bubble";r.has(l)||(Qp(n,t,2,!1),r.add(l))}function gf(t,n,r){var l=0;n&&(l|=4),Qp(r,t,l,n)}var Su="_reactListening"+Math.random().toString(36).slice(2);function pf(t){if(!t[Su]){t[Su]=!0,Hs.forEach(function(r){r!=="selectionchange"&&(V1.has(r)||gf(r,!1,t),gf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Su]||(n[Su]=!0,gf("selectionchange",!1,n))}}function Qp(t,n,r,l){switch(gy(n)){case 2:var c=rE;break;case 8:c=aE;break;default:c=Df}r=c.bind(null,n,r,t),c=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function yf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var x=y.tag;if((x===3||x===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=di(E),y===null)return;if(x=y.tag,x===5||x===6||x===26||x===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Ro(function(){var P=f,F=Tn(r),X=[];t:{var B=Rm.get(t);if(B!==void 0){var q=ja,_t=t;switch(t){case"keypress":if(Yn(r)===0)break t;case"keydown":case"keyup":q=Ba;break;case"focusin":_t="focus",q=ka;break;case"focusout":_t="blur",q=ka;break;case"beforeblur":case"afterblur":q=ka;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Oo;break;case Am:case bm:case Sm:q=za;break;case wm:q=Uo;break;case"scroll":case"scrollend":q=xo;break;case"wheel":q=qa;break;case"copy":case"cut":case"paste":q=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=el;break;case"toggle":case"beforetoggle":q=ko}var mt=(n&4)!==0,$t=!mt&&(t==="scroll"||t==="scrollend"),j=mt?B!==null?B+"Capture":null:B;mt=[];for(var V=P,k;V!==null;){var Y=V;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||j===null||(Y=Fr(V,j),Y!=null&&mt.push(Il(V,Y,k))),$t)break;V=V.return}0<mt.length&&(B=new q(B,_t,null,r,F),X.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==yi&&(_t=r.relatedTarget||r.fromElement)&&(di(_t)||_t[vn]))break t;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(_t=r.relatedTarget||r.toElement,q=P,_t=_t?di(_t):null,_t!==null&&($t=h(_t),mt=_t.tag,_t!==$t||mt!==5&&mt!==27&&mt!==6)&&(_t=null)):(q=null,_t=P),q!==_t)){if(mt=bn,Y="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(mt=el,Y="onPointerLeave",j="onPointerEnter",V="pointer"),$t=q==null?B:Hn(q),k=_t==null?B:Hn(_t),B=new mt(Y,V+"leave",q,r,F),B.target=$t,B.relatedTarget=k,Y=null,di(F)===P&&(mt=new mt(j,V+"enter",_t,r,F),mt.target=k,mt.relatedTarget=$t,Y=mt),$t=Y,q&&_t)e:{for(mt=q,j=_t,V=0,k=mt;k;k=ds(k))V++;for(k=0,Y=j;Y;Y=ds(Y))k++;for(;0<V-k;)mt=ds(mt),V--;for(;0<k-V;)j=ds(j),k--;for(;V--;){if(mt===j||j!==null&&mt===j.alternate)break e;mt=ds(mt),j=ds(j)}mt=null}else mt=null;q!==null&&Fp(X,B,q,mt,!1),_t!==null&&$t!==null&&Fp(X,$t,_t,mt,!0)}}t:{if(B=P?Hn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ot=hm;else if(Re(B))if(fm)ot=Gv;else{ot=qv;var xt=Bv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ks(P.elementType)&&(ot=hm):ot=Hv;if(ot&&(ot=ot(t,P))){Ai(X,ot,r,F);break t}xt&&xt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Qi(B,"number",B.value)}switch(xt=P?Hn(P):window,t){case"focusin":(Re(xt)||xt.contentEditable==="true")&&(Ha=xt,Yc=P,rl=null);break;case"focusout":rl=Yc=Ha=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Em(X,r,F);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":Em(X,r,F)}var ht;if($n)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Mt?H(t,r)&&(gt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(gt="onCompositionStart");gt&&(p&&r.locale!=="ko"&&(Mt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Mt&&(ht=$s()):(Fn=F,Fi="value"in Fn?Fn.value:Fn.textContent,Mt=!0)),xt=wu(P,gt),0<xt.length&&(gt=new Ws(gt,t,null,r,F),X.push({event:gt,listeners:xt}),ht?gt.data=ht:(ht=nt(r),ht!==null&&(gt.data=ht)))),(ht=m?we(t,r):Ot(t,r))&&(gt=wu(P,"onBeforeInput"),0<gt.length&&(xt=new Ws("onBeforeInput","beforeinput",null,r,F),X.push({event:xt,listeners:gt}),xt.data=ht)),N1(X,t,P,r,F)}Gp(X,n)})}function Il(t,n,r){return{instance:t,listener:n,currentTarget:r}}function wu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Fr(t,r),c!=null&&l.unshift(Il(t,c,f)),c=Fr(t,n),c!=null&&l.push(Il(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,x=E.alternate,P=E.stateNode;if(E=E.tag,x!==null&&x===l)break;E!==5&&E!==26&&E!==27||P===null||(x=P,c?(P=Fr(r,f),P!=null&&y.unshift(Il(r,P,x))):c||(P=Fr(r,f),P!=null&&y.push(Il(r,P,x)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var I1=/\r\n?/g,M1=/\u0000|\uFFFD/g;function Yp(t){return(typeof t=="string"?t:""+t).replace(I1,`
`).replace(M1,"")}function Kp(t,n){return n=Yp(n),Yp(t)===n}function Ru(){}function Xt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,r,l);break;case"style":Ys(t,l,f);break;case"data":if(n!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Oa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Oa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Gi(t,"popover",l);break;case"xlinkActuate":Le(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Pc.get(r)||r,Gi(t,r,l))}}function _f(t,n,r,l,c,f){switch(r){case"style":Ys(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ge]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Gi(t,r,l)}}}function Be(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(t,n,f,y,r,null)}}c&&Xt(t,n,"srcSet",r.srcSet,r,null),l&&Xt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,x=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":c=F;break;case"type":y=F;break;case"checked":x=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Xt(t,n,l,F,r,null)}}Hr(t,f,E,x,P,y,c,!1),Ma(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Xt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?pi(t,!!l,n,!1):r!=null&&pi(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(t,n,y,E,r,null)}Gr(t,l,c,f),Ma(t);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(l=r[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,x,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Dt(Vl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(t,n,P,l,r,null)}return;default:if(Ks(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&_f(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Xt(t,n,E,l,r,null))}function O1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,x=null,P=null,F=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=X;default:l.hasOwnProperty(q)||Xt(t,n,q,null,l,X)}}for(var B in l){var q=l[B];if(X=r[B],l.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&Xt(t,n,B,q,l,X)}}on(t,y,E,x,P,F,f,c);return;case"select":q=y=E=B=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,x)}for(c in l)if(f=l[c],x=r[c],l.hasOwnProperty(c)&&(f!=null||x!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==x&&Xt(t,n,c,f,l,x)}n=E,r=y,l=q,B!=null?pi(t,!!r,B,!1):!!l!=!!r&&(n!=null?pi(t,!!r,n,!0):pi(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xt(t,n,y,c,l,f)}Yt(t,B,q);return;case"option":for(var _t in r)if(B=r[_t],r.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Xt(t,n,_t,null,l,B)}for(x in l)if(B=l[x],q=r[x],l.hasOwnProperty(x)&&B!==q&&(B!=null||q!=null))switch(x){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xt(t,n,x,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt)&&Xt(t,n,mt,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Xt(t,n,P,B,l,q)}return;default:if(Ks(n)){for(var $t in r)B=r[$t],r.hasOwnProperty($t)&&B!==void 0&&!l.hasOwnProperty($t)&&_f(t,n,$t,void 0,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||_f(t,n,F,B,l,q);return}}for(var j in r)B=r[j],r.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&Xt(t,n,j,null,l,B);for(X in l)B=l[X],q=r[X],!l.hasOwnProperty(X)||B===q||B==null&&q==null||Xt(t,n,X,B,l,q)}var vf=null,Ef=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function Xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $p(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function j1(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(t){return Jp.resolve(null).then(t).catch(k1)}:Zp;function k1(t){setTimeout(function(){throw t})}function or(t){return t==="head"}function Wp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Ml(y.documentElement),r&2&&Ml(y.body),r&4)for(r=y.head,Ml(r),y=r.firstChild;y;){var E=y.nextSibling,x=y.nodeName;y[zr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Bl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Bl(n)}function bf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bf(r),Hi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function z1(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function P1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function B1(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var wf=null;function ty(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function ey(t,n,r){switch(n=xu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Hi(t)}var Dn=new Map,ny=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=it.d;it.d={f:q1,r:H1,D:G1,C:Q1,L:F1,m:Y1,X:X1,S:K1,M:$1};function q1(){var t=ji.f(),n=vu();return t||n}function H1(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?Ag(n):ji.r(t)}var ms=typeof document>"u"?null:document;function iy(t,n,r){var l=ms;if(l&&typeof n=="string"&&n){var c=pe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ny.has(c)||(ny.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Be(n,"link",t),he(n),l.head.appendChild(n)))}}function G1(t){ji.D(t),iy("dns-prefetch",t,null)}function Q1(t,n){ji.C(t,n),iy("preconnect",t,n)}function F1(t,n,r){ji.L(t,n,r);var l=ms;if(l&&t&&n){var c='link[rel="preload"][as="'+pe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+pe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+pe(r.imageSizes)+'"]')):c+='[href="'+pe(t)+'"]';var f=c;switch(n){case"style":f=gs(t);break;case"script":f=ps(t)}Dn.has(f)||(t=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ol(f))||n==="script"&&l.querySelector(jl(f))||(n=l.createElement("link"),Be(n,"link",t),he(n),l.head.appendChild(n)))}}function Y1(t,n){ji.m(t,n);var r=ms;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ps(t)}if(!Dn.has(f)&&(t=b({rel:"modulepreload",href:t},n),Dn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(jl(f)))return}l=r.createElement("link"),Be(l,"link",t),he(l),r.head.appendChild(l)}}}function K1(t,n,r){ji.S(t,n,r);var l=ms;if(l&&t){var c=Ze(l).hoistableStyles,f=gs(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ol(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(f))&&Rf(t,r);var x=y=l.createElement("link");he(x),Be(x,"link",t),x._p=new Promise(function(P,F){x.onload=P,x.onerror=F}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function X1(t,n){ji.X(t,n);var r=ms;if(r&&t){var l=Ze(r).hoistableScripts,c=ps(t),f=l.get(c);f||(f=r.querySelector(jl(c)),f||(t=b({src:t,async:!0},n),(n=Dn.get(c))&&xf(t,n),f=r.createElement("script"),he(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $1(t,n){ji.M(t,n);var r=ms;if(r&&t){var l=Ze(r).hoistableScripts,c=ps(t),f=l.get(c);f||(f=r.querySelector(jl(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&xf(t,n),f=r.createElement("script"),he(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ry(t,n,r,l){var c=(c=vt.current)?Nu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=gs(r.href),r=Ze(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=gs(r.href);var f=Ze(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Ol(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),f||Z1(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ps(r),r=Ze(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function gs(t){return'href="'+pe(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function ay(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Z1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",r),he(n),t.head.appendChild(n))}function ps(t){return'[src="'+pe(t)+'"]'}function jl(t){return"script[async]"+t}function sy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pe(r.href)+'"]');if(l)return n.instance=l,he(l),l;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),Be(l,"style",c),Cu(l,r.precedence,t),n.instance=l;case"stylesheet":c=gs(r.href);var f=t.querySelector(Ol(c));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=ay(r),(c=Dn.get(c))&&Rf(l,c),f=(t.ownerDocument||t).createElement("link"),he(f);var y=f;return y._p=new Promise(function(E,x){y.onload=E,y.onerror=x}),Be(f,"link",l),n.state.loading|=4,Cu(f,r.precedence,t),n.instance=f;case"script":return f=ps(r.src),(c=t.querySelector(jl(f)))?(n.instance=c,he(c),c):(l=r,(c=Dn.get(f))&&(l=b({},r),xf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),he(c),Be(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Cu(l,r.precedence,t));return n.instance}function Cu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function ly(t,n,r){if(Du===null){var l=new Map,c=Du=new Map;c.set(r,l)}else c=Du,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[zr]||f[Se]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function oy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function J1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function W1(){}function tE(t,n,r){if(Ul===null)throw Error(a(475));var l=Ul;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=gs(r.href),f=t.querySelector(Ol(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,he(f);return}f=t.ownerDocument||t,r=ay(r),(c=Dn.get(c))&&Rf(r,c),f=f.createElement("link"),he(f);var y=f;y._p=new Promise(function(E,x){y.onload=E,y.onerror=x}),Be(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Vu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function eE(){if(Ul===null)throw Error(a(475));var t=Ul;return t.stylesheets&&t.count===0&&Nf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Nf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Vu(){if(this.count--,this.count===0){if(this.stylesheets)Nf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Iu=null;function Nf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Iu=new Map,n.forEach(nE,t),Iu=null,Vu.call(t))}function nE(t,n){if(!(n.state.loading&4)){var r=Iu.get(t);if(r)var l=r.get(null);else{r=new Map,Iu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Vu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:ct,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function iE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function cy(t,n,r,l,c,f,y,E,x,P,F,X){return t=new iE(t,n,r,y,E,x,P,X),n=1,f===!0&&(n|=24),f=cn(3,null,null,n),t.current=f,f.stateNode=t,n=oh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},fh(f),t}function hy(t){return t?(t=Ya,t):Ya}function fy(t,n,r,l,c,f){c=hy(c),l.context===null?l.context=c:l.pendingContext=c,l=Xi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=$i(t,l,n),r!==null&&(gn(r,t,n),dl(r,t,n))}function dy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cf(t,n){dy(t,n),(t=t.alternate)&&dy(t,n)}function my(t){if(t.tag===13){var n=Fa(t,67108864);n!==null&&gn(n,t,67108864),Cf(t,67108864)}}var Mu=!0;function rE(t,n,r,l){var c=Q.T;Q.T=null;var f=it.p;try{it.p=2,Df(t,n,r,l)}finally{it.p=f,Q.T=c}}function aE(t,n,r,l){var c=Q.T;Q.T=null;var f=it.p;try{it.p=8,Df(t,n,r,l)}finally{it.p=f,Q.T=c}}function Df(t,n,r,l){if(Mu){var c=Vf(l);if(c===null)yf(t,n,l,Ou,r),py(t,l);else if(lE(c,t,n,r,l))l.stopPropagation();else if(py(t,l),n&4&&-1<sE.indexOf(t)){for(;c!==null;){var f=qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var x=1<<31-Qe(y);E.entanglements[1]|=x,y&=~x}ni(f),(Qt&6)===0&&(yu=_n()+500,Dl(0))}}break;case 13:E=Fa(f,2),E!==null&&gn(E,f,2),vu(),Cf(f,2)}if(f=Vf(l),f===null&&yf(t,n,l,Ou,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else yf(t,n,l,null,r)}}function Vf(t){return t=Tn(t),If(t)}var Ou=null;function If(t){if(Ou=null,t=di(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ou=t,null}function gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oc()){case js:return 2;case wa:return 8;case Or:case jc:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var Mf=!1,ur=null,cr=null,hr=null,kl=new Map,zl=new Map,fr=[],sE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(t,n){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Pl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=qn(n),n!==null&&my(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function lE(t,n,r,l,c){switch(n){case"focusin":return ur=Pl(ur,t,n,r,l,c),!0;case"dragenter":return cr=Pl(cr,t,n,r,l,c),!0;case"mouseover":return hr=Pl(hr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return kl.set(f,Pl(kl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Pl(zl.get(f)||null,t,n,r,l,c)),!0}return!1}function yy(t){var n=di(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,vo(t.priority,function(){if(r.tag===13){var l=mn();l=Pi(l);var c=Fa(r,l);c!==null&&gn(c,r,l),Cf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);yi=l,r.target.dispatchEvent(l),yi=null}else return n=qn(r),n!==null&&my(n),t.blockedOn=r,!1;n.shift()}return!0}function _y(t,n,r){ju(t)&&r.delete(n)}function oE(){Mf=!1,ur!==null&&ju(ur)&&(ur=null),cr!==null&&ju(cr)&&(cr=null),hr!==null&&ju(hr)&&(hr=null),kl.forEach(_y),zl.forEach(_y)}function Uu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,oE)))}var Lu=null;function vy(t){Lu!==t&&(Lu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lu===t&&(Lu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(If(l||r)===null)continue;break}var f=qn(r);f!==null&&(t.splice(n,3),n-=3,Vh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Bl(t){function n(x){return Uu(x,t)}ur!==null&&Uu(ur,t),cr!==null&&Uu(cr,t),hr!==null&&Uu(hr,t),kl.forEach(n),zl.forEach(n);for(var r=0;r<fr.length;r++){var l=fr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fr.length&&(r=fr[0],r.blockedOn===null);)yy(r),r.blockedOn===null&&fr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ge]||null;if(typeof f=="function")y||vy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ge]||null)E=y.formAction;else if(If(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),vy(r)}}}function Of(t){this._internalRoot=t}ku.prototype.render=Of.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=mn();fy(r,l,t,n,null,null)},ku.prototype.unmount=Of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;fy(t.current,2,null,t,null,null),vu(),n[vn]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<fr.length&&n!==0&&n<fr[r].priority;r++);fr.splice(r,0,t),r===0&&yy(t)}};var Ey=e.version;if(Ey!=="19.1.1")throw Error(a(527,Ey,"19.1.1"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var uE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{oe=zu.inject(uE),Gt=zu}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Ug,f=Lg,y=kg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=cy(t,1,!1,null,null,r,l,c,f,y,E,null),t[vn]=n.current,pf(t),new Of(n)},Hl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=Ug,y=Lg,E=kg,x=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(x=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=cy(t,1,!0,n,r??null,l,c,f,y,E,x,P),n.context=hy(null),r=n.current,l=mn(),l=Pi(l),c=Xi(l),c.callback=null,$i(r,c,l),r=l,n.current.lanes=r,fi(n,r),ni(n),t[vn]=n.current,pf(t),new ku(n)},Hl.version="19.1.1",Hl}var Dy;function vE(){if(Dy)return Lf.exports;Dy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lf.exports=_E(),Lf.exports}var EE=vE();/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AE=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Vy=s=>{const e=AE(s);return e.charAt(0).toUpperCase()+e.slice(1)},F_=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),bE=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=wt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:d,...g},v)=>wt.createElement("svg",{ref:v,...SE,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:F_("lucide",o),...!h&&!bE(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,b])=>wt.createElement(_,b)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(s,e)=>{const i=wt.forwardRef(({className:a,...o},h)=>wt.createElement(wE,{ref:h,iconNode:e,className:F_(`lucide-${TE(Vy(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Vy(s),i};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],xE=ne("award",RE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Y_=ne("book-open",NE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],DE=ne("calculator",CE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],IE=ne("calendar",VE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OE=ne("chevron-right",ME);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UE=ne("circle-check-big",jE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Iy=ne("circle-check",LE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zE=ne("circle",kE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],BE=ne("cloud-off",PE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],HE=ne("cloud",qE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],gr=ne("crown",GE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],K_=ne("flask-conical",QE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Jf=ne("graduation-cap",FE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ga=ne("loader-circle",YE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ju=ne("lock",KE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],My=ne("plus",XE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],X_=ne("search",$E);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JE=ne("settings",ZE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tT=ne("star",WE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nT=ne("target",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rT=ne("trash-2",iT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],sT=ne("trophy",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rd=ne("user",lT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wu=ne("users",oT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$_=ne("x",uT),pr={1:{theory:["Mathematics-I","Physics","Programming Fundamentals","English"],practical:["Physics Lab","Programming Lab"]},2:{theory:["Mathematics-II","Chemistry","Data Structures","Digital Logic"],practical:["Chemistry Lab","DS Lab"]},3:{theory:["OOP","Discrete Math","Computer Architecture","Statistics"],practical:["OOP Lab","Hardware Lab"]},4:{theory:["DBMS","Operating Systems","Computer Networks","Software Engineering"],practical:["DBMS Lab","Networks Lab"]},5:{theory:["Artificial Intelligence","Design & Analysis of Algorithms","Database Management","Embedded Systems","Machine Learning","Mobile Development","Open Elective-4"],practical:["AI Lab","Algorithms Lab","Database Lab","ML Lab"]},6:{theory:["Advanced AI","Compiler Design","Internet of Things","Cloud Computing"],practical:["Compiler Lab","IoT Lab"]},7:{theory:["Deep Learning","Big Data Analytics","Cybersecurity","Project Management"],practical:["ML Lab","Security Lab"]},8:{theory:["Major Project","Technical Seminar","Industry Training"],practical:["Project Implementation"]}},cT=["Assignment","Certificate","Quiz","Presentation","Test","Project","Custom"],Pt={rollNo:"2405225",name:"Shaikh Mujahid"};function hT({students:s,onStudentSelect:e,isLoading:i}){const[a,o]=wt.useState(""),[h,d]=wt.useState(!1),[g,v]=wt.useState(""),[_,b]=wt.useState(!1),R="admin123",w=wt.useMemo(()=>{if(!a.trim())return s;const at=a.toLowerCase();return s.filter(ut=>ut.name.toLowerCase().includes(at)||ut.rollNo.toLowerCase().includes(at))},[s,a]),z=at=>{if(at.rollNo===Pt.rollNo){d(!0);return}e(at)},G=at=>{if(at.preventDefault(),!g.trim()){alert("Please enter admin password");return}b(!0),setTimeout(()=>{if(g===R){const ut=s.find(ct=>ct.rollNo===Pt.rollNo);e(ut)}else alert(" Incorrect admin password. Please try again."),v("");b(!1)},800)},tt=()=>{d(!1),v("")},Z=()=>{o("")};return i?A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center",children:A.jsxs("div",{className:"text-center",children:[A.jsx(Jf,{className:"w-16 h-16 mx-auto text-blue-600 mb-4"}),A.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[A.jsx(ga,{className:"w-6 h-6 animate-spin text-blue-600"}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loading Academic Tracker..."})]}),A.jsx("p",{className:"text-gray-600",children:"Setting up your student data"})]})}):h?A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:A.jsx("div",{className:"max-w-md w-full",children:A.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[A.jsxs("div",{className:"text-center mb-6",children:[A.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:A.jsx(gr,{className:"w-8 h-8 text-white"})}),A.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),A.jsxs("p",{className:"text-gray-600",children:["Enter admin password to continue as ",Pt.name]})]}),A.jsxs("form",{onSubmit:G,className:"space-y-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:A.jsx(Ju,{className:"w-5 h-5 text-gray-400"})}),A.jsx("input",{type:"password",placeholder:"Admin password",value:g,onChange:at=>v(at.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:_})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{type:"submit",disabled:_||!g.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:_?A.jsxs(A.Fragment,{children:[A.jsx(ga,{className:"w-4 h-4 animate-spin"}),A.jsx("span",{children:"Authenticating..."})]}):A.jsxs(A.Fragment,{children:[A.jsx(gr,{className:"w-4 h-4"}),A.jsx("span",{children:"Login as Admin"})]})}),A.jsx("button",{type:"button",onClick:tt,disabled:_,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]}),A.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:A.jsxs("p",{className:"text-sm text-yellow-700 text-center",children:[A.jsx("strong",{children:"Admin privileges include:"}),A.jsx("br",{}),"Creating and deleting student accounts, managing all student data"]})})]})})}):A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:A.jsxs("div",{className:"max-w-2xl w-full",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:A.jsx(Jf,{className:"w-10 h-10 text-white"})}),A.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Academic Progress Tracker"}),A.jsx("p",{className:"text-gray-600",children:"Select your student profile to continue"})]}),A.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[A.jsx(Wu,{className:"w-6 h-6 text-blue-600"}),A.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Select Student Profile"}),A.jsxs("span",{className:"text-sm text-gray-500",children:["(",s.length," total)"]})]}),A.jsxs("div",{className:"relative mb-6",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:A.jsx(X_,{className:"w-5 h-5 text-gray-400"})}),A.jsx("input",{type:"text",placeholder:"Search by name or roll number...",value:a,onChange:at=>o(at.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a&&A.jsx("button",{onClick:Z,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:A.jsx($_,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),A.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:w.length>0?w.map(at=>A.jsx("button",{onClick:()=>z(at),className:`
                    w-full flex items-center p-4 rounded-2xl border-2 transition-all text-left
                    ${at.rollNo===Pt.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300 hover:bg-yellow-100":"border-gray-200 bg-gray-50 hover:border-blue-300 hover:bg-blue-50"}
                  `,children:A.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[A.jsx("div",{className:`
                      w-12 h-12 rounded-2xl flex items-center justify-center
                      ${at.rollNo===Pt.rollNo?"bg-yellow-200":"bg-blue-100"}
                    `,children:at.rollNo===Pt.rollNo?A.jsx(gr,{className:"w-6 h-6 text-yellow-600"}):A.jsx(Rd,{className:"w-6 h-6 text-blue-600"})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("h3",{className:"font-bold text-gray-900",children:at.name}),at.rollNo===Pt.rollNo&&A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(Ju,{className:"w-3 h-3 text-yellow-600"}),A.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Protected"})]})]}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",at.rollNo]}),at.rollNo===Pt.rollNo&&A.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:"Administrator Account"})]})]})},at.rollNo)):A.jsxs("div",{className:"text-center py-8 text-gray-500",children:[A.jsx(Wu,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),A.jsxs("p",{children:['No students found matching "',a,'"']})]})}),A.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-2xl border border-gray-200",children:A.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[A.jsx("strong",{children:"Note:"})," Regular students can access immediately. Admin account requires password for security."]})})]})]})})}function fT({semester:s,syncStatus:e,selectedStudent:i,onStudentSwitch:a}){const{isOnline:o,isSyncing:h,lastSynced:d}=e;return A.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:A.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center",children:A.jsx(Jf,{className:"w-7 h-7 text-white"})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Progress Tracker"}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Semester ",s,"  Track your academic journey"]})]})]}),A.jsxs("div",{className:"flex items-center gap-6",children:[i&&A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"text-right",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.name}),i.rollNo==="2405225"&&A.jsx(gr,{className:"w-4 h-4 text-yellow-500"})]}),A.jsxs("span",{className:"text-xs text-gray-600",children:["Roll: ",i.rollNo]})]}),A.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",title:"Switch Student",children:A.jsx(Rd,{className:"w-5 h-5 text-gray-600"})})]}),A.jsxs("div",{className:"flex flex-col items-end gap-1",children:[A.jsx("div",{className:"flex items-center gap-2",children:h?A.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[A.jsx(ga,{className:"w-4 h-4 animate-spin"}),A.jsx("span",{className:"text-sm",children:"Syncing..."})]}):o?A.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[A.jsx(HE,{className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Online"}),d&&A.jsx(UE,{className:"w-3 h-3"})]}):A.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[A.jsx(BE,{className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Offline"})]})}),d&&A.jsxs("div",{className:"text-xs text-gray-500",children:["Last synced: ",d.toLocaleTimeString()]})]}),A.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[A.jsx(IE,{className:"w-4 h-4"}),A.jsx("span",{children:"Academic Year 2024-25"})]})]})]})})})}const dT=[{id:0,label:"Theory Subjects",icon:Y_},{id:1,label:"Practicals",icon:K_},{id:2,label:"Student & Settings",icon:JE}];function mT({activeTab:s,onTabChange:e}){return A.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-10",children:A.jsx("div",{className:"max-w-7xl mx-auto px-6",children:A.jsx("div",{className:"flex space-x-1",children:dT.map(i=>A.jsxs("button",{onClick:()=>e(i.id),className:`
                flex items-center gap-2 px-6 py-4 font-medium transition-all duration-200 border-b-2 relative
                ${s===i.id?"text-blue-600 border-blue-600 bg-blue-50":"text-gray-600 border-transparent hover:text-gray-900 hover:bg-gray-50"}
              `,children:[A.jsx(i.icon,{className:"w-5 h-5"}),A.jsx("span",{children:i.label}),s===i.id&&A.jsx(OE,{className:"w-4 h-4 ml-1"})]},i.id))})})})}function Bf({children:s,value:e,index:i,className:a=""}){return A.jsx("div",{className:`transition-all duration-300 ${e!==i?"hidden opacity-0":"opacity-100"}`,style:{display:e!==i?"none":"block"},children:A.jsx("div",{className:`p-6 ${a}`,children:s})})}const gT=wt.memo(function({subject:e,onDataChange:i,initialData:a}){const[o,h]=wt.useState({ca1:{type:"",date:"",marks:""},ca2:{type:"",date:"",marks:""},ca3:{type:"",date:"",marks:""},ca4:{type:"",date:"",marks:""},midSem:{date:"",marks:""}});wt.useEffect(()=>{a&&h(a)},[a]);const d=(R,w,z)=>{if(w==="marks"&&z!==""){const tt=parseFloat(z),Z=R==="midSem"?20:10;if(tt<0||tt>Z)return}const G={...o,[R]:{...o[R],[w]:z}};h(G),i&&i(e,G)},g=()=>{let w=0;return["ca1","ca2","ca3","ca4"].forEach(z=>{o[z].type&&w++,o[z].date&&w++,o[z].marks&&w++}),o.midSem.date&&w++,o.midSem.marks&&w++,Math.round(w/14*100)},v=()=>{let R=0;["ca1","ca2","ca3","ca4"].forEach(z=>{const G=parseFloat(o[z].marks);isNaN(G)||(R+=G)});const w=parseFloat(o.midSem.marks);return isNaN(w)||(R+=w),R},_=g(),b=v();return A.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[A.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Y_,{className:"w-6 h-6"}),A.jsx("h3",{className:"text-lg font-bold",children:e})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("div",{className:"text-sm opacity-90",children:[_,"%"]}),A.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${_}%`}})})]})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[A.jsx(DE,{className:"w-4 h-4"}),A.jsx("span",{children:"Internal Assessment"})]}),A.jsxs("div",{className:"text-right",children:[A.jsxs("div",{className:"text-lg font-bold",children:[b,"/60"]}),A.jsx("div",{className:"text-xs opacity-75",children:b>0?`${(b/60*100).toFixed(1)}%`:"0%"})]})]})]}),A.jsxs("div",{className:"p-6 space-y-6",children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[A.jsx(nT,{className:"w-4 h-4"}),"Continuous Assessment (4  10 = 40 marks)"]}),[1,2,3,4].map(R=>A.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3 border border-gray-100 hover:border-blue-200 transition-colors",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("span",{className:"font-medium text-gray-800",children:["CA-",R]}),o[`ca${R}`].marks&&A.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:[o[`ca${R}`].marks,"/10"]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[A.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",value:o[`ca${R}`].type,onChange:w=>d(`ca${R}`,"type",w.target.value),children:[A.jsx("option",{value:"",children:"Select Type"}),cT.map(w=>A.jsx("option",{value:w,children:w},w))]}),A.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o[`ca${R}`].date,onChange:w=>d(`ca${R}`,"date",w.target.value)}),A.jsx("input",{type:"number",min:"0",max:"10",step:"0.5",placeholder:"Marks (0-10)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o[`ca${R}`].marks,onChange:w=>d(`ca${R}`,"marks",w.target.value),onKeyDown:w=>{(w.key==="-"||w.key==="+")&&w.preventDefault()}})]})]},R))]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[A.jsx(xE,{className:"w-4 h-4"}),"Mid Semester Exam (20 marks)"]}),A.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-4 border border-orange-200",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsx("span",{className:"font-medium text-gray-800",children:"Mid-Sem Exam"}),o.midSem.marks&&A.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium",children:[o.midSem.marks,"/20"]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[A.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:o.midSem.date,onChange:R=>d("midSem","date",R.target.value)}),A.jsx("input",{type:"number",min:"0",max:"20",step:"0.5",placeholder:"Marks (0-20)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:o.midSem.marks,onChange:R=>d("midSem","marks",R.target.value),onKeyDown:R=>{(R.key==="-"||R.key==="+")&&R.preventDefault()}})]})]})]})]})]})});function pT({semester:s,allData:e,handleDataChange:i}){return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Theory Subjects"}),A.jsxs("p",{className:"text-gray-600",children:["Semester ",s,"  ",pr[s].theory.length," subjects"]})]}),A.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:pr[s].theory.map(a=>A.jsx(gT,{subject:a,onDataChange:(o,h)=>i(o,h,"theory"),initialData:e[`${s}-${a}`]?.data},`${s}-${a}`))})]})}const yT=wt.memo(function({subject:e,onDataChange:i,initialData:a}){const[o,h]=wt.useState(new Set);wt.useEffect(()=>{a&&Array.isArray(a)&&h(new Set(a))},[a]);const d=v=>{const _=new Set(o);_.has(v)?_.delete(v):_.add(v),h(_),i&&i(e,Array.from(_))},g=o.size/10*100;return A.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[A.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 p-4 text-white",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(K_,{className:"w-6 h-6"}),A.jsx("h3",{className:"text-lg font-bold",children:e}),A.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Practical"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("div",{className:"text-sm opacity-90",children:[o.size,"/10"]}),A.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${g}%`}})})]})]})}),A.jsxs("div",{className:"p-6",children:[A.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-4 flex items-center gap-2",children:[A.jsx(Iy,{className:"w-4 h-4"}),"Lab Experiments (",o.size,"/10 completed)"]}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Array.from({length:10},(v,_)=>_+1).map(v=>A.jsx("button",{onClick:()=>d(v),className:`
                flex items-center justify-center p-4 rounded-2xl border-2 transition-all duration-200 font-medium
                ${o.has(v)?"bg-green-100 border-green-500 text-green-700 shadow-md":"bg-gray-50 border-gray-200 text-gray-600 hover:border-green-300 hover:bg-green-50"}
              `,children:A.jsxs("div",{className:"flex items-center gap-2",children:[o.has(v)?A.jsx(Iy,{className:"w-4 h-4"}):A.jsx(zE,{className:"w-4 h-4"}),A.jsxs("span",{children:["Lab ",v]})]})},v))}),g===100&&A.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:A.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[A.jsx(sT,{className:"w-5 h-5"}),A.jsx("span",{className:"font-medium",children:"All labs completed! Great work! "})]})})]})]})});function _T({semester:s,allData:e,handleDataChange:i}){return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practical Subjects"}),A.jsxs("p",{className:"text-gray-600",children:["Semester ",s,"  ",pr[s].practical.length," labs"]})]}),A.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:pr[s].practical.map(a=>A.jsx(yT,{subject:a,onDataChange:(o,h)=>i(o,h,"practical"),initialData:e[`${s}-${a}`]?.data},`${s}-${a}`))})]})}function vT({semester:s,setSemester:e,studentManagement:i}){const{students:a,selectedStudent:o,isAdmin:h,isLoading:d,createStudent:g,deleteStudent:v,selectStudent:_}=i,[b,R]=wt.useState(!1),[w,z]=wt.useState({rollNo:"",name:""}),[G,tt]=wt.useState(!1),[Z,at]=wt.useState(null),[ut,ct]=wt.useState(""),[kt,pt]=wt.useState(!1),[Nt,I]=wt.useState(""),[S,N]=wt.useState(!1),M="admin123",O=wt.useMemo(()=>{if(!ut.trim())return a;const W=ut.toLowerCase();return a.filter(At=>At.name.toLowerCase().includes(W)||At.rollNo.toLowerCase().includes(W))},[a,ut]),U=W=>{if(W.rollNo===Pt.rollNo&&o?.rollNo!==Pt.rollNo){pt(!0);return}_(W)},C=W=>{if(W.preventDefault(),!Nt.trim()){alert("Please enter admin password");return}N(!0),setTimeout(()=>{if(Nt===M){const At=a.find(D=>D.rollNo===Pt.rollNo);_(At),pt(!1),I("")}else alert(" Incorrect admin password. Please try again."),I("");N(!1)},800)},be=()=>{pt(!1),I("")},ie=async W=>{if(W.preventDefault(),!w.rollNo.trim()||!w.name.trim()){alert("Please fill in both roll number and name");return}try{tt(!0),await g(w.rollNo.trim(),w.name.trim()),z({rollNo:"",name:""}),R(!1),alert(" Student created successfully!")}catch(At){alert(` Error creating student: ${At.message}`)}finally{tt(!1)}},Q=async(W,At)=>{if(W===Pt.rollNo){alert("Cannot delete admin student");return}if(window.confirm(` Are you sure you want to delete student "${At}" (${W})?

This will permanently delete all their academic data and cannot be undone.`))try{at(W),await v(W),alert(" Student deleted successfully!")}catch(J){alert(` Error deleting student: ${J.message}`)}finally{at(null)}},it=()=>{ct("")};return d?A.jsx("div",{className:"flex items-center justify-center py-12",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(ga,{className:"w-6 h-6 animate-spin text-blue-600"}),A.jsx("span",{className:"text-lg text-gray-600",children:"Loading students..."})]})}):A.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[kt&&A.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:A.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[A.jsxs("div",{className:"text-center mb-6",children:[A.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:A.jsx(gr,{className:"w-8 h-8 text-white"})}),A.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),A.jsxs("p",{className:"text-gray-600",children:["Enter admin password to switch to ",Pt.name]})]}),A.jsxs("form",{onSubmit:C,className:"space-y-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:A.jsx(Ju,{className:"w-5 h-5 text-gray-400"})}),A.jsx("input",{type:"password",placeholder:"Admin password",value:Nt,onChange:W=>I(W.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:S,autoFocus:!0})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{type:"submit",disabled:S||!Nt.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:S?A.jsxs(A.Fragment,{children:[A.jsx(ga,{className:"w-4 h-4 animate-spin"}),A.jsx("span",{children:"Authenticating..."})]}):A.jsxs(A.Fragment,{children:[A.jsx(gr,{className:"w-4 h-4"}),A.jsx("span",{children:"Switch to Admin"})]})}),A.jsx("button",{type:"button",onClick:be,disabled:S,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]}),A.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:A.jsxs("p",{className:"text-sm text-yellow-700 text-center",children:[A.jsx("strong",{children:"Admin privileges include:"}),A.jsx("br",{}),"Creating and deleting student accounts, managing all student data"]})})]})}),A.jsxs("div",{className:"text-center",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Student & Semester Management"}),A.jsx("p",{className:"text-gray-600",children:"Manage students and select current semester"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[A.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[A.jsx(Rd,{className:"w-5 h-5"}),"Current Student",o?.rollNo===Pt.rollNo&&A.jsx(gr,{className:"w-4 h-4 text-yellow-500"})]}),o&&A.jsx("div",{className:`rounded-2xl p-4 border ${o.rollNo===Pt.rollNo?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:A.jsx("div",{className:"flex items-center justify-between",children:A.jsxs("div",{children:[A.jsx("p",{className:`font-bold ${o.rollNo===Pt.rollNo?"text-yellow-900":"text-blue-900"}`,children:o.name}),A.jsxs("p",{className:`text-sm ${o.rollNo===Pt.rollNo?"text-yellow-700":"text-blue-700"}`,children:["Roll No: ",o.rollNo]}),o.rollNo===Pt.rollNo&&A.jsx("p",{className:"text-xs text-yellow-600 font-medium mt-1",children:"Administrator"})]})})})]}),A.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Semester"}),A.jsx("select",{className:"w-full p-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-lg font-medium bg-white",value:s,onChange:W=>e(Number(W.target.value)),children:[1,2,3,4,5,6,7,8].map(W=>A.jsxs("option",{value:W,children:["Semester ",W," (",pr[W].theory.length," theory + ",pr[W].practical.length," practical)"]},W))}),A.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(tT,{className:"w-4 h-4 text-blue-600 mt-1"}),A.jsxs("div",{children:[A.jsxs("h4",{className:"font-medium text-blue-900 text-sm",children:["Semester ",s," Overview"]}),A.jsxs("p",{className:"text-xs text-blue-700",children:[pr[s].theory.length," theory subjects and ",pr[s].practical.length," practical labs"]})]})]})})]})]}),A.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[A.jsx(Wu,{className:"w-5 h-5"}),"Select Student (",a.length," total)"]}),h&&A.jsxs("button",{onClick:()=>R(!b),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:[A.jsx(My,{className:"w-4 h-4"}),"Add Student"]})]}),A.jsxs("div",{className:"relative mb-6",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:A.jsx(X_,{className:"w-5 h-5 text-gray-400"})}),A.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:ut,onChange:W=>ct(W.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),ut&&A.jsx("button",{onClick:it,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:A.jsx($_,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),b&&h&&A.jsxs("form",{onSubmit:ie,className:"mb-6 p-4 bg-green-50 rounded-2xl border border-green-200",children:[A.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Create New Student"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[A.jsx("input",{type:"text",placeholder:"Roll Number (e.g., 2405226)",value:w.rollNo,onChange:W=>z({...w,rollNo:W.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),A.jsx("input",{type:"text",placeholder:"Full Name",value:w.name,onChange:W=>z({...w,name:W.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{type:"submit",disabled:G,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all disabled:opacity-50",children:[G?A.jsx(ga,{className:"w-4 h-4 animate-spin"}):A.jsx(My,{className:"w-4 h-4"}),G?"Creating...":"Create Student"]}),A.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:O.length>0?O.map(W=>A.jsxs("div",{className:`
                  p-4 rounded-2xl border-2 transition-all cursor-pointer relative
                  ${o?.rollNo===W.rollNo?W.rollNo===Pt.rollNo?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50":W.rollNo===Pt.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300":"border-gray-200 bg-gray-50 hover:border-blue-300"}
                `,onClick:()=>U(W),children:[W.rollNo===Pt.rollNo&&o?.rollNo!==Pt.rollNo&&A.jsx("div",{className:"absolute top-2 right-2",children:A.jsx(Ju,{className:"w-4 h-4 text-yellow-600"})}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("h4",{className:"font-bold text-gray-900",children:W.name}),W.rollNo===Pt.rollNo&&A.jsx(gr,{className:"w-4 h-4 text-yellow-500"})]}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Roll: ",W.rollNo]}),o?.rollNo===W.rollNo?A.jsx("p",{className:"text-xs text-blue-600 font-medium mt-1",children:"Currently Selected"}):W.rollNo===Pt.rollNo?A.jsx("p",{className:"text-xs text-yellow-600 font-medium mt-1",children:"Admin - Password Required"}):null]}),h&&W.rollNo!==Pt.rollNo&&A.jsx("button",{onClick:At=>{At.stopPropagation(),Q(W.rollNo,W.name)},disabled:Z===W.rollNo,className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-all disabled:opacity-50",title:"Delete Student",children:Z===W.rollNo?A.jsx(ga,{className:"w-4 h-4 animate-spin"}):A.jsx(rT,{className:"w-4 h-4"})})]})]},W.rollNo)):A.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[A.jsx(Wu,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),A.jsxs("p",{children:['No students found matching "',ut,'"']})]})})]})]})}function ET(s,e){const[i,a]=wt.useState(()=>{try{const d=window.localStorage.getItem(s);return d?JSON.parse(d):e}catch(d){return console.error(`Error loading localStorage key "${s}":`,d),e}});return[i,d=>{try{a(d),window.localStorage.setItem(s,JSON.stringify(d))}catch(g){console.error(`Error setting localStorage key "${s}":`,g)}},()=>{try{a(e),window.localStorage.removeItem(s)}catch(d){console.error(`Error clearing localStorage key "${s}":`,d)}}]}const TT=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},AT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},J_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,b=h>>2,R=(h&3)<<4|g>>4;let w=(g&15)<<2|_>>6,z=_&63;v||(z=64,d||(w=64)),a.push(i[b],i[R],i[w],i[z])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Z_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):AT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const R=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||_==null||R==null)throw new bT;const w=h<<2|g>>4;if(a.push(w),_!==64){const z=g<<4&240|_>>2;if(a.push(z),R!==64){const G=_<<6&192|R;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class bT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ST=function(s){const e=Z_(s);return J_.encodeByteArray(e,!0)},tc=function(s){return ST(s).replace(/\./g,"")},wT=function(s){try{return J_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=()=>RT().__FIREBASE_DEFAULTS__,NT=()=>{if(typeof process>"u"||typeof Oy>"u")return;const s=Oy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},CT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&wT(s[1]);return e&&JSON.parse(e)},xd=()=>{try{return TT()||xT()||NT()||CT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},DT=s=>xd()?.emulatorHosts?.[s],VT=s=>{const e=DT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},W_=()=>xd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[tc(JSON.stringify(i)),tc(JSON.stringify(d)),""].join(".")}const Kl={};function jT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?s.emulator.push(e):s.prod.push(e);return s}function UT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let jy=!1;function LT(s,e){if(typeof window>"u"||typeof document>"u"||!Nd(window.location.host)||Kl[s]===e||Kl[s]||jy)return;Kl[s]=e;function i(w){return`__firebase__banner__${w}`}const a="__firebase__banner",h=jT().prod.length>0;function d(){const w=document.getElementById(a);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function v(w,z){w.setAttribute("width","24"),w.setAttribute("id",z),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{jy=!0,d()},w}function b(w,z){w.setAttribute("id",z),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function R(){const w=UT(a),z=i("text"),G=document.getElementById(z)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),at=i("preprendIcon"),ut=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ct=w.element;g(ct),b(Z,tt);const kt=_();v(ut,at),ct.append(ut,G,Z,kt),document.body.appendChild(ct)}h?(G.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zT(){const s=xd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PT(){return!zT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BT(){try{return typeof indexedDB=="object"}catch{return!1}}function qT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="FirebaseError";class Cs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=HT,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t0.prototype.create)}}class t0{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?GT(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Cs(o,g,a)}}function GT(s,e){return s.replace(QT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const QT=/\{\$([^}]+)}/g;function ec(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(Uy(h)&&Uy(d)){if(!ec(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Uy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(s){return s&&s._delegate?s._delegate:s}class Wl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new IT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KT(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:YT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YT(s){return s===ma?void 0:s}function KT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new FT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const $T={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},ZT=Lt.INFO,JT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},WT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=JT[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e0{constructor(e){this.name=e,this._logLevel=ZT,this._logHandler=WT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$T[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const tA=(s,e)=>e.some(i=>s instanceof i);let Ly,ky;function eA(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nA(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n0=new WeakMap,Wf=new WeakMap,i0=new WeakMap,qf=new WeakMap,Cd=new WeakMap;function iA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(_r(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&n0.set(i,s)}).catch(()=>{}),Cd.set(e,s),e}function rA(s){if(Wf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Wf.set(s,e)}let td={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Wf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||i0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function aA(s){td=s(td)}function sA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hf(this),e,...i);return i0.set(a,e.sort?e.sort():[e]),_r(a)}:nA().includes(s)?function(...e){return s.apply(Hf(this),e),_r(n0.get(this))}:function(...e){return _r(s.apply(Hf(this),e))}}function lA(s){return typeof s=="function"?sA(s):(s instanceof IDBTransaction&&rA(s),tA(s,eA())?new Proxy(s,td):s)}function _r(s){if(s instanceof IDBRequest)return iA(s);if(qf.has(s))return qf.get(s);const e=lA(s);return e!==s&&(qf.set(s,e),Cd.set(e,s)),e}const Hf=s=>Cd.get(s);function oA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=_r(d);return a&&d.addEventListener("upgradeneeded",v=>{a(_r(d.result),v.oldVersion,v.newVersion,_r(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const uA=["get","getKey","getAll","getAllKeys","count"],cA=["put","add","delete","clear"],Gf=new Map;function zy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=cA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||uA.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Gf.set(e,h),h}aA(s=>({...s,get:(e,i,a)=>zy(e,i)||s.get(e,i,a),has:(e,i)=>!!zy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function fA(s){return s.getComponent()?.type==="VERSION"}const ed="@firebase/app",Py="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new e0("@firebase/app"),dA="@firebase/app-compat",mA="@firebase/analytics-compat",gA="@firebase/analytics",pA="@firebase/app-check-compat",yA="@firebase/app-check",_A="@firebase/auth",vA="@firebase/auth-compat",EA="@firebase/database",TA="@firebase/data-connect",AA="@firebase/database-compat",bA="@firebase/functions",SA="@firebase/functions-compat",wA="@firebase/installations",RA="@firebase/installations-compat",xA="@firebase/messaging",NA="@firebase/messaging-compat",CA="@firebase/performance",DA="@firebase/performance-compat",VA="@firebase/remote-config",IA="@firebase/remote-config-compat",MA="@firebase/storage",OA="@firebase/storage-compat",jA="@firebase/firestore",UA="@firebase/ai",LA="@firebase/firestore-compat",kA="firebase",zA="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="[DEFAULT]",PA={[ed]:"fire-core",[dA]:"fire-core-compat",[gA]:"fire-analytics",[mA]:"fire-analytics-compat",[yA]:"fire-app-check",[pA]:"fire-app-check-compat",[_A]:"fire-auth",[vA]:"fire-auth-compat",[EA]:"fire-rtdb",[TA]:"fire-data-connect",[AA]:"fire-rtdb-compat",[bA]:"fire-fn",[SA]:"fire-fn-compat",[wA]:"fire-iid",[RA]:"fire-iid-compat",[xA]:"fire-fcm",[NA]:"fire-fcm-compat",[CA]:"fire-perf",[DA]:"fire-perf-compat",[VA]:"fire-rc",[IA]:"fire-rc-compat",[MA]:"fire-gcs",[OA]:"fire-gcs-compat",[jA]:"fire-fst",[LA]:"fire-fst-compat",[UA]:"fire-vertex","fire-js":"fire-js",[kA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,BA=new Map,id=new Map;function By(s,e){try{s.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ic(s){const e=s.name;if(id.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;id.set(e,s);for(const i of nc.values())By(i,s);for(const i of BA.values())By(i,s);return!0}function qA(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function HA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new t0("app","Firebase",GA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=zA;function r0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:nd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=W_()),!i)throw vr.create("no-options");const h=nc.get(o);if(h){if(ec(i,h.options)&&ec(a,h.config))return h;throw vr.create("duplicate-app",{appName:o})}const d=new XT(o);for(const v of id.values())d.addComponent(v);const g=new QA(i,a,d);return nc.set(o,g),g}function YA(s=nd){const e=nc.get(s);if(!e&&s===nd&&W_())return r0();if(!e)throw vr.create("no-app",{appName:s});return e}function Ts(s,e,i){let a=PA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}ic(new Wl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebase-heartbeat-database",XA=1,to="firebase-heartbeat-store";let Qf=null;function a0(){return Qf||(Qf=oA(KA,XA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(to)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),Qf}async function $A(s){try{const i=(await a0()).transaction(to),a=await i.objectStore(to).get(s0(s));return await i.done,a}catch(e){if(e instanceof Cs)Ui.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(i.message)}}}async function qy(s,e){try{const a=(await a0()).transaction(to,"readwrite");await a.objectStore(to).put(e,s0(s)),await a.done}catch(i){if(i instanceof Cs)Ui.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i?.message});Ui.warn(a.message)}}}function s0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1024,JA=30;class WA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new e2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Hy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>JA){const o=n2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hy(),{heartbeatsToSend:i,unsentEntries:a}=t2(this._heartbeatsCache.heartbeats),o=tc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ui.warn(e),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function t2(s,e=ZA){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Gy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Gy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class e2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BT()?qT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $A(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Gy(s){return tc(JSON.stringify({version:2,heartbeats:s})).length}function n2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(s){ic(new Wl("platform-logger",e=>new hA(e),"PRIVATE")),ic(new Wl("heartbeat",e=>new WA(e),"PRIVATE")),Ts(ed,Py,s),Ts(ed,Py,"esm2020"),Ts("fire-js","")}i2("");var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,l0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function N(){}N.prototype=S.prototype,I.D=S.prototype,I.prototype=new N,I.prototype.constructor=I,I.C=function(M,O,U){for(var C=Array(arguments.length-2),be=2;be<arguments.length;be++)C[be-2]=arguments[be];return S.prototype[O].apply(M,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,N){N||(N=0);var M=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)M[O]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(O=0;16>O;++O)M[O]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=I.g[0],N=I.g[1],O=I.g[2];var U=I.g[3],C=S+(U^N&(O^U))+M[0]+3614090360&4294967295;S=N+(C<<7&4294967295|C>>>25),C=U+(O^S&(N^O))+M[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=O+(N^U&(S^N))+M[2]+606105819&4294967295,O=U+(C<<17&4294967295|C>>>15),C=N+(S^O&(U^S))+M[3]+3250441966&4294967295,N=O+(C<<22&4294967295|C>>>10),C=S+(U^N&(O^U))+M[4]+4118548399&4294967295,S=N+(C<<7&4294967295|C>>>25),C=U+(O^S&(N^O))+M[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=O+(N^U&(S^N))+M[6]+2821735955&4294967295,O=U+(C<<17&4294967295|C>>>15),C=N+(S^O&(U^S))+M[7]+4249261313&4294967295,N=O+(C<<22&4294967295|C>>>10),C=S+(U^N&(O^U))+M[8]+1770035416&4294967295,S=N+(C<<7&4294967295|C>>>25),C=U+(O^S&(N^O))+M[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=O+(N^U&(S^N))+M[10]+4294925233&4294967295,O=U+(C<<17&4294967295|C>>>15),C=N+(S^O&(U^S))+M[11]+2304563134&4294967295,N=O+(C<<22&4294967295|C>>>10),C=S+(U^N&(O^U))+M[12]+1804603682&4294967295,S=N+(C<<7&4294967295|C>>>25),C=U+(O^S&(N^O))+M[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=O+(N^U&(S^N))+M[14]+2792965006&4294967295,O=U+(C<<17&4294967295|C>>>15),C=N+(S^O&(U^S))+M[15]+1236535329&4294967295,N=O+(C<<22&4294967295|C>>>10),C=S+(O^U&(N^O))+M[1]+4129170786&4294967295,S=N+(C<<5&4294967295|C>>>27),C=U+(N^O&(S^N))+M[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=O+(S^N&(U^S))+M[11]+643717713&4294967295,O=U+(C<<14&4294967295|C>>>18),C=N+(U^S&(O^U))+M[0]+3921069994&4294967295,N=O+(C<<20&4294967295|C>>>12),C=S+(O^U&(N^O))+M[5]+3593408605&4294967295,S=N+(C<<5&4294967295|C>>>27),C=U+(N^O&(S^N))+M[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=O+(S^N&(U^S))+M[15]+3634488961&4294967295,O=U+(C<<14&4294967295|C>>>18),C=N+(U^S&(O^U))+M[4]+3889429448&4294967295,N=O+(C<<20&4294967295|C>>>12),C=S+(O^U&(N^O))+M[9]+568446438&4294967295,S=N+(C<<5&4294967295|C>>>27),C=U+(N^O&(S^N))+M[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=O+(S^N&(U^S))+M[3]+4107603335&4294967295,O=U+(C<<14&4294967295|C>>>18),C=N+(U^S&(O^U))+M[8]+1163531501&4294967295,N=O+(C<<20&4294967295|C>>>12),C=S+(O^U&(N^O))+M[13]+2850285829&4294967295,S=N+(C<<5&4294967295|C>>>27),C=U+(N^O&(S^N))+M[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=O+(S^N&(U^S))+M[7]+1735328473&4294967295,O=U+(C<<14&4294967295|C>>>18),C=N+(U^S&(O^U))+M[12]+2368359562&4294967295,N=O+(C<<20&4294967295|C>>>12),C=S+(N^O^U)+M[5]+4294588738&4294967295,S=N+(C<<4&4294967295|C>>>28),C=U+(S^N^O)+M[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=O+(U^S^N)+M[11]+1839030562&4294967295,O=U+(C<<16&4294967295|C>>>16),C=N+(O^U^S)+M[14]+4259657740&4294967295,N=O+(C<<23&4294967295|C>>>9),C=S+(N^O^U)+M[1]+2763975236&4294967295,S=N+(C<<4&4294967295|C>>>28),C=U+(S^N^O)+M[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=O+(U^S^N)+M[7]+4139469664&4294967295,O=U+(C<<16&4294967295|C>>>16),C=N+(O^U^S)+M[10]+3200236656&4294967295,N=O+(C<<23&4294967295|C>>>9),C=S+(N^O^U)+M[13]+681279174&4294967295,S=N+(C<<4&4294967295|C>>>28),C=U+(S^N^O)+M[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=O+(U^S^N)+M[3]+3572445317&4294967295,O=U+(C<<16&4294967295|C>>>16),C=N+(O^U^S)+M[6]+76029189&4294967295,N=O+(C<<23&4294967295|C>>>9),C=S+(N^O^U)+M[9]+3654602809&4294967295,S=N+(C<<4&4294967295|C>>>28),C=U+(S^N^O)+M[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=O+(U^S^N)+M[15]+530742520&4294967295,O=U+(C<<16&4294967295|C>>>16),C=N+(O^U^S)+M[2]+3299628645&4294967295,N=O+(C<<23&4294967295|C>>>9),C=S+(O^(N|~U))+M[0]+4096336452&4294967295,S=N+(C<<6&4294967295|C>>>26),C=U+(N^(S|~O))+M[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=O+(S^(U|~N))+M[14]+2878612391&4294967295,O=U+(C<<15&4294967295|C>>>17),C=N+(U^(O|~S))+M[5]+4237533241&4294967295,N=O+(C<<21&4294967295|C>>>11),C=S+(O^(N|~U))+M[12]+1700485571&4294967295,S=N+(C<<6&4294967295|C>>>26),C=U+(N^(S|~O))+M[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=O+(S^(U|~N))+M[10]+4293915773&4294967295,O=U+(C<<15&4294967295|C>>>17),C=N+(U^(O|~S))+M[1]+2240044497&4294967295,N=O+(C<<21&4294967295|C>>>11),C=S+(O^(N|~U))+M[8]+1873313359&4294967295,S=N+(C<<6&4294967295|C>>>26),C=U+(N^(S|~O))+M[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=O+(S^(U|~N))+M[6]+2734768916&4294967295,O=U+(C<<15&4294967295|C>>>17),C=N+(U^(O|~S))+M[13]+1309151649&4294967295,N=O+(C<<21&4294967295|C>>>11),C=S+(O^(N|~U))+M[4]+4149444226&4294967295,S=N+(C<<6&4294967295|C>>>26),C=U+(N^(S|~O))+M[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=O+(S^(U|~N))+M[2]+718787259&4294967295,O=U+(C<<15&4294967295|C>>>17),C=N+(U^(O|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var N=S-this.blockSize,M=this.B,O=this.h,U=0;U<S;){if(O==0)for(;U<=N;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(M[O++]=I.charCodeAt(U++),O==this.blockSize){o(this,M),O=0;break}}else for(;U<S;)if(M[O++]=I[U++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=S},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var N=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=N&255,N/=256;for(this.u(I),I=Array(16),S=N=0;4>S;++S)for(var M=0;32>M;M+=8)I[N++]=this.g[S]>>>M&255;return I};function h(I,S){var N=g;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=S(I)}function d(I,S){this.h=S;for(var N=[],M=!0,O=I.length-1;0<=O;O--){var U=I[O]|0;M&&U==S||(N[O]=U,M=!1)}this.g=N}var g={};function v(I){return-128<=I&&128>I?h(I,function(S){return new d([S|0],0>S?-1:0)}):new d([I|0],0>I?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return R;if(0>I)return Z(_(-I));for(var S=[],N=1,M=0;I>=N;M++)S[M]=I/N|0,N*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return Z(b(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=_(Math.pow(S,8)),M=R,O=0;O<I.length;O+=8){var U=Math.min(8,I.length-O),C=parseInt(I.substring(O,O+U),S);8>U?(U=_(Math.pow(S,U)),M=M.j(U).add(_(C))):(M=M.j(N),M=M.add(_(C)))}return M}var R=v(0),w=v(1),z=v(16777216);s=d.prototype,s.m=function(){if(tt(this))return-Z(this).m();for(var I=0,S=1,N=0;N<this.g.length;N++){var M=this.i(N);I+=(0<=M?M:4294967296+M)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(G(this))return"0";if(tt(this))return"-"+Z(this).toString(I);for(var S=_(Math.pow(I,6)),N=this,M="";;){var O=kt(N,S).g;N=at(N,O.j(S));var U=((0<N.g.length?N.g[0]:N.h)>>>0).toString(I);if(N=O,G(N))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},s.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function G(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function tt(I){return I.h==-1}s.l=function(I){return I=at(this,I),tt(I)?-1:G(I)?0:1};function Z(I){for(var S=I.g.length,N=[],M=0;M<S;M++)N[M]=~I.g[M];return new d(N,~I.h).add(w)}s.abs=function(){return tt(this)?Z(this):this},s.add=function(I){for(var S=Math.max(this.g.length,I.g.length),N=[],M=0,O=0;O<=S;O++){var U=M+(this.i(O)&65535)+(I.i(O)&65535),C=(U>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);M=C>>>16,U&=65535,C&=65535,N[O]=C<<16|U}return new d(N,N[N.length-1]&-2147483648?-1:0)};function at(I,S){return I.add(Z(S))}s.j=function(I){if(G(this)||G(I))return R;if(tt(this))return tt(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(tt(I))return Z(this.j(Z(I)));if(0>this.l(z)&&0>I.l(z))return _(this.m()*I.m());for(var S=this.g.length+I.g.length,N=[],M=0;M<2*S;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<I.g.length;O++){var U=this.i(M)>>>16,C=this.i(M)&65535,be=I.i(O)>>>16,ie=I.i(O)&65535;N[2*M+2*O]+=C*ie,ut(N,2*M+2*O),N[2*M+2*O+1]+=U*ie,ut(N,2*M+2*O+1),N[2*M+2*O+1]+=C*be,ut(N,2*M+2*O+1),N[2*M+2*O+2]+=U*be,ut(N,2*M+2*O+2)}for(M=0;M<S;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=S;M<2*S;M++)N[M]=0;return new d(N,0)};function ut(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ct(I,S){this.g=I,this.h=S}function kt(I,S){if(G(S))throw Error("division by zero");if(G(I))return new ct(R,R);if(tt(I))return S=kt(Z(I),S),new ct(Z(S.g),Z(S.h));if(tt(S))return S=kt(I,Z(S)),new ct(Z(S.g),S.h);if(30<I.g.length){if(tt(I)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var N=w,M=S;0>=M.l(I);)N=pt(N),M=pt(M);var O=Nt(N,1),U=Nt(M,1);for(M=Nt(M,2),N=Nt(N,2);!G(M);){var C=U.add(M);0>=C.l(I)&&(O=O.add(N),U=C),M=Nt(M,1),N=Nt(N,1)}return S=at(I,O.j(S)),new ct(O,S)}for(O=R;0<=I.l(S);){for(N=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=_(N),C=U.j(S);tt(C)||0<C.l(I);)N-=M,U=_(N),C=U.j(S);G(U)&&(U=w),O=O.add(U),I=at(I,C)}return new ct(O,I)}s.A=function(I){return kt(this,I).h},s.and=function(I){for(var S=Math.max(this.g.length,I.g.length),N=[],M=0;M<S;M++)N[M]=this.i(M)&I.i(M);return new d(N,this.h&I.h)},s.or=function(I){for(var S=Math.max(this.g.length,I.g.length),N=[],M=0;M<S;M++)N[M]=this.i(M)|I.i(M);return new d(N,this.h|I.h)},s.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),N=[],M=0;M<S;M++)N[M]=this.i(M)^I.i(M);return new d(N,this.h^I.h)};function pt(I){for(var S=I.g.length+1,N=[],M=0;M<S;M++)N[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(N,I.h)}function Nt(I,S){var N=S>>5;S%=32;for(var M=I.g.length-N,O=[],U=0;U<M;U++)O[U]=0<S?I.i(U+N)>>>S|I.i(U+N+1)<<32-S:I.i(U+N);return new d(O,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,l0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Er=d}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o0,Gl,u0,Qu,rd,c0,h0,f0;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var H=p++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,p){return u.call.apply(u.bind,arguments)}function R(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function w(u,m,p){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:R,w.apply(null,arguments)}function z(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function G(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,H){for(var nt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)nt[Mt-2]=arguments[Mt];return m.prototype[L].apply(T,nt)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=u.length||0,H=T.length||0;u.length=L+H;for(let nt=0;nt<H;nt++)u[L+nt]=T[nt]}else u.push(T)}}class at{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function kt(u){return kt[" "](u),u}kt[" "]=function(){};var pt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Nt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function I(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let H=0;H<N.length;H++)p=N[H],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function C(){var u=At;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new at(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let it,W=!1,At=new be,D=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then(J)}};var J=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(p){U(p)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}W=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function Rt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{kt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}G(Rt,et);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Pn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Jt,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ci(u){this.src=u,this.g={},this.h=0}ci.prototype.add=function(u,m,p,T,L){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var nt=Ir(u,m,T,L);return-1<nt?(m=u[nt],p||(m.fa=!1)):(m=new Pn(m,this.src,H,!!T,L),m.fa=p,u.push(m)),m};function Vr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=L)&&Array.prototype.splice.call(T,L,1),H&&(zi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ir(u,m,p,T){for(var L=0;L<u.length;++L){var H=u[L];if(!H.da&&H.listener==m&&H.capture==!!p&&H.ha==T)return L}return-1}var Mr="closure_lm_"+(1e6*Math.random()|0),Os={};function po(u,m,p,T,L){if(Array.isArray(m)){for(var H=0;H<m.length;H++)po(u,m[H],p,T,L);return null}return p=yo(p),u&&u[De]?u.K(m,p,_(T)?!!T.capture:!1,L):_n(u,m,p,!1,T,L)}function _n(u,m,p,T,L,H){if(!m)throw Error("Invalid event type");var nt=_(L)?!!L.capture:!!L,Mt=Ra(u);if(Mt||(u[Mr]=Mt=new ci(u)),p=Mt.add(m,p,T,nt,H),p.proxy)return p;if(T=Oc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)dt||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Or(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Oc(){function u(p){return m.call(u.src,u.listener,p)}const m=jc;return u}function js(u,m,p,T,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)js(u,m[H],p,T,L);else T=_(T)?!!T.capture:!!T,p=yo(p),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],p=Ir(H,p,T,L),-1<p&&(zi(H[p]),Array.prototype.splice.call(H,p,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ra(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ir(m,p,T,L)),(p=-1<u?m[u]:null)&&wa(p))}function wa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Vr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Or(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ra(m))?(Vr(p,u),p.h==0&&(p.src=null,m[Mr]=null)):zi(u)}}}function Or(u){return u in Os?Os[u]:Os[u]="on"+u}function jc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&wa(u),u=p.call(T,m)}return u}function Ra(u){return u=u[Mr],u instanceof ci?u:null}var Us="__closure_events_fn_"+(1e9*Math.random()>>>0);function yo(u){return typeof u=="function"?u:(u[Us]||(u[Us]=function(m){return u.handleEvent(m)}),u[Us])}function oe(){rt.call(this),this.i=new ci(this),this.M=this,this.F=null}G(oe,rt),oe.prototype[De]=!0,oe.prototype.removeEventListener=function(u,m,p,T){js(this,u,m,p,T)};function Gt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var L=m;m=new et(T,u),M(m,L)}if(L=!0,p)for(var H=p.length-1;0<=H;H--){var nt=m.g=p[H];L=ln(nt,T,!0,m)&&L}if(nt=m.g=u,L=ln(nt,T,!0,m)&&L,L=ln(nt,T,!1,m)&&L,p)for(H=0;H<p.length;H++)nt=m.g=p[H],L=ln(nt,T,!1,m)&&L}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)zi(p[T]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},oe.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function ln(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,H=0;H<m.length;++H){var nt=m[H];if(nt&&!nt.da&&nt.capture==p){var Mt=nt.listener,we=nt.ha||nt.src;nt.fa&&Vr(u.i,nt),L=Mt.call(we,T)!==!1&&L}}return L&&!T.defaultPrevented}function Qe(u,m,p){if(typeof u=="function")p&&(u=w(u,p));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function _o(u){u.g=Qe(()=>{u.g=null,u.i&&(u.i=!1,_o(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Uc extends rt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(u){rt.call(this),this.h=u,this.g={}}G(jr,rt);var Ur=[];function Lr(u){Nt(u.g,function(m,p){this.g.hasOwnProperty(p)&&wa(m)},u),u.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Lr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,xa=g.JSON.parse,kr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ls(){}Ls.prototype.h=null;function ks(u){return u.h||(u.h=u.i())}function zs(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){et.call(this,"d")}G(fi,et);function Ps(){et.call(this,"c")}G(Ps,et);var Bn={},Bs=null;function Pi(){return Bs=Bs||new oe}Bn.La="serverreachability";function Na(u){et.call(this,Bn.La,u)}G(Na,et);function Bi(u){const m=Pi();Gt(m,new Na(m))}Bn.STAT_EVENT="statevent";function vo(u,m){et.call(this,Bn.STAT_EVENT,u),this.stat=m}G(vo,et);function re(u){const m=Pi();Gt(m,new vo(m,u))}Bn.Ma="timingevent";function Se(u,m){et.call(this,Bn.Ma,u),this.size=m}G(Se,et);function ge(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function qs(u,m,p,T,L,H){u.info(function(){if(u.g)if(H)for(var nt="",Mt=H.split("&"),we=0;we<Mt.length;we++){var Ot=Mt[we].split("=");if(1<Ot.length){var Ie=Ot[0];Ot=Ot[1];var Re=Ie.split("_");nt=2<=Re.length&&Re[1]=="type"?nt+(Ie+"="+Ot+"&"):nt+(Ie+"=redacted&")}}else nt=null;else nt=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+nt})}function Lc(u,m,p,T,L,H,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+H+" "+nt})}function qi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zr(u,p)+(T?" "+T:"")})}function Eo(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function zr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var nt=1;nt<L.length;nt++)L[nt]=""}}}}return In(p)}catch{return m}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Hn(){}G(Hn,Ls),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},qn=new Hn;function Ze(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var Hs={},Ca={};function Mn(u,m,p){u.L=1,u.v=Gr(on(m)),u.m=p,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),Pr(u),u.A=on(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Xs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new he,u.g=Uo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Uc(w(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ur[0]=L.toString()),L=Ur);for(var H=0;H<L.length;H++){var nt=po(p,L[H],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Bi(),qs(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Re=bn(this.g);var m=this.g.Ba();const Ai=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||No(this.g)))){this.J||Re!=4||m==7||(m==8||0>=Ai?Bi(3):Bi(2)),Gi(this);var p=this.g.Z();this.X=p;e:if(To(this)){var T=No(this.g);u="";var L=T.length,H=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Gn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=p==200,Lc(this.i,this.u,this.A,this.l,this.R,Re,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,we=this.g;if((Mt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Mt)){var Ot=Mt;break e}}Ot=null}if(p=Ot)qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,p);else{this.o=!1,this.s=3,re(12),Le(this),Gn(this);break t}}if(this.P){p=!0;let ke;for(;!this.J&&this.C<nt.length;)if(ke=Ao(this,nt),ke==Ca){Re==4&&(this.s=4,re(14),p=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==Hs){this.s=4,re(15),qi(this.i,this.l,nt,"[Invalid Chunk]"),p=!1;break}else qi(this.i,this.l,ke,null),Br(this,ke);if(To(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||nt.length!=0||this.h.h||(this.s=1,re(16),p=!1),this.o=this.o&&p,!p)qi(this.i,this.l,nt,"[Invalid Chunked Response]"),Le(this),Gn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Jr(Ie),Ie.M=!0,re(11))}}else qi(this.i,this.l,nt,null),Br(this,nt);Re==4&&Le(this),this.o&&!this.J&&(Re==4?Mo(this.j,this):(this.o=!1,Pr(this)))}else qc(this.g),p==400&&0<nt.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Le(this),Gn(this)}}}catch{}finally{}};function To(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ao(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ca:(p=Number(m.substring(p,T)),isNaN(p)?Hs:(T+=1,T+p>m.length?Ca:(m=m.slice(T,T+p),u.C=T+p,m)))}Ze.prototype.cancel=function(){this.J=!0,Le(this)};function Pr(u){u.S=Date.now()+u.I,bo(u,u.I)}function bo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ge(w(u.ba,u),m)}function Gi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Eo(this.i,this.A),this.L!=2&&(Bi(),re(17)),Le(this),this.s=2,Gn(this)):bo(this,this.S-u)};function Gn(u){u.j.G==0||u.J||Mo(u.j,u)}function Le(u){Gi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Lr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Br(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Gs(p.h,u))){if(!u.K&&Gs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ba(p),za(p);else break t;tl(p),re(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=ge(w(p.Za,p),6e3));if(1>=Va(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ti(p,11)}else if((u.K||p.g==u)&&Ba(p),!ut(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const Ie=Ot[3];Ie!=null&&(p.la=Ie,p.j.info("VER="+p.la));const Re=Ot[4];Re!=null&&(p.Aa=Re,p.j.info("SVER="+p.Aa));const Ai=Ot[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(T=1.5*Ai,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const ke=u.g;if(ke){const Zn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var H=T.h;H.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ia(H,H.h),H.h=null))}if(T.D){const nl=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(T.ya=nl,Yt(T.I,T.D,nl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var nt=u;if(T.qa=jo(T,T.J?T.ia:null,T.W),nt.K){Je(T.h,nt);var Mt=nt,we=T.L;we&&(Mt.I=we),Mt.B&&(Gi(Mt),Pr(Mt)),T.g=nt}else Vo(T);0<p.i.length&&Pa(p)}else Ot[0]!="stop"&&Ot[0]!="close"||Ti(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Ti(p,7):Js(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}Bi(4)}catch{}}var So=class{constructor(u,m){this.g=u,this.map=m}};function gi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Da(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Va(u){return u.h?1:u.g?u.g.size:0}function Gs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ia(u,m){u.g?u.g.add(m):u.h=m}function Je(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gi.prototype.cancel=function(){if(this.i=Qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function kc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Ma(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Fs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ma(u),T=kc(u),L=T.length,H=0;H<L;H++)m.call(void 0,T[H],p&&p[H],u)}var qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var H=u[p].substring(0,T);L=u[p].substring(T+1)}else H=u[p];m(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pe){this.h=u.h,Hr(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.s),this.l=u.l;var m=u.i,p=new yi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),pi(this,p),this.m=u.m}else u&&(m=String(u).match(qr))?(this.h=!1,Hr(this,m[1]||"",!0),this.o=En(m[2]||""),this.g=En(m[3]||"",!0),Qi(this,m[4]),this.l=En(m[5]||"",!0),pi(this,m[6]||"",!0),this.m=En(m[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}pe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Qr(m,Ys,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qr(m,Ys,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Qr(p,p.charAt(0)=="/"?Pc:Ks,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Qr(p,Oa)),u.join("")};function on(u){return new pe(u)}function Hr(u,m,p){u.j=p?En(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function pi(u,m,p){m instanceof yi?(u.i=m,Ro(u.i,u.h)):(p||(m=Qr(m,Bc)),u.i=new yi(m,u.h))}function Yt(u,m,p){u.i.set(m,p)}function Gr(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,wo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ys=/[#\/\?@]/g,Ks=/[#\?:]/g,Pc=/[#\?]/g,Bc=/[#\?@]/g,Oa=/#/g;function yi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&zc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=yi.prototype,s.add=function(u,m){Tn(this),this.i=null,u=Qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function _i(u,m){Tn(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return Tn(u),m=Qn(u,m),u.g.has(m)}s.forEach=function(u,m){Tn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},s.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let H=0;H<L.length;H++)p.push(m[T])}return p},s.V=function(u){Tn(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return Tn(this),this.i=null,u=Qn(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Xs(u,m,p){_i(u,m),0<p.length&&(u.i=null,u.g.set(Qn(u,m),tt(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const H=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var L=H;nt[T]!==""&&(L+="="+encodeURIComponent(String(nt[T]))),u.push(L)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ro(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(_i(this,T),Xs(this,L,p))},u)),u.j=m}function Fr(u,m){const p=new vn;if(g.Image){const T=new Image;T.onload=z(An,p,"TestLoadImage: loaded",!0,m,T),T.onerror=z(An,p,"TestLoadImage: error",!1,m,T),T.onabort=z(An,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=z(An,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function On(u,m){const p=new vn,T=new AbortController,L=setTimeout(()=>{T.abort(),An(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?An(p,"TestPingServer: ok",!0,m):An(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(p,"TestPingServer: error",!1,m)})}function An(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Yr(){this.g=new kr}function Fn(u,m,p){const T=p||"";try{Fs(u,function(L,H){let nt=L;_(L)&&(nt=In(L)),m.push(T+H+"="+encodeURIComponent(nt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Fi(u){this.l=u.Ub||null,this.j=u.eb||!1}G(Fi,Ls),Fi.prototype.g=function(){return new Ei(this.l,this.j)},Fi.prototype.i=(function(u){return function(){return u}})({});function Ei(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(Ei,oe),s=Ei.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$s(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $s(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Kn(this),this.readyState==3&&$s(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},s.Qa=function(u){this.g&&(this.response=u,Yn(this))},s.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zs(u){let m="";return Nt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ve(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Zs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Yt(u,m,p))}function qt(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(qt,oe);var ja=/^https?$/i,Kr=["POST","PUT"];s=qt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?ks(this.o):ks(qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){xo(this,H);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())p.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(H=>H.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Kr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of p)this.g.setRequestHeader(H,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){xo(this,H)}};function xo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ua(u),Xn(u)}function Ua(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Xn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},s.bb=function(){La(this)};function La(u){if(u.h&&typeof d<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Qe(u.Ea,0,u);else if(Gt(u,"readystatechange"),bn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=nt===0){var L=String(u.D).match(qr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!ja.test(L?L.toLowerCase():"")}p=T}if(p)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var H=2<bn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Ua(u)}}finally{Xn(u)}}}}function Xn(u,m){if(u.g){Xr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Gt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Xr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xa(m)}};function No(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qc(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ut(u[T]))continue;var p=O(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const H=m[L]||[];m[L]=H,H.push(p)}I(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ka(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,u),this.cb=$r("retryDelaySeedMs",1e4,u),this.Wa=$r("forwardChannelMaxRetries",2,u),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(u&&u.concurrentRequestLimit),this.Da=new Yr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ka.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){re(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=jo(this,null,this.W),Pa(this)};function Js(u){if(Co(u),u.G==3){var m=u.U++,p=on(u.I);if(Yt(p,"SID",u.K),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),Zr(u,p),m=new Ze(u,u.j,m),m.L=2,m.v=Gr(on(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Uo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Pr(m)}Oo(u)}function za(u){u.g&&(Jr(u),u.g.cancel(),u.g=null)}function Co(u){za(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ba(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Pa(u){if(!Da(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||D(),W||(it(),W=!0),At.add(m,u),u.B=0}}function Hc(u,m){return Va(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ge(w(u.Ga,u,m),el(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ze(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),M(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Do(this,L,m),p=on(this.I),Yt(p,"RID",u),Yt(p,"CVER",22),this.D&&Yt(p,"X-HTTP-Session-Id",this.D),Zr(this,p),H&&(this.O?m="headers="+encodeURIComponent(String(Zs(H)))+"&"+m:this.m&&Ve(p,this.m,H)),Ia(this.h,L),this.Ua&&Yt(p,"TYPE","init"),this.P?(Yt(p,"$req",m),Yt(p,"SID","null"),L.T=!0,Mn(L,p,null)):Mn(L,p,m),this.G=2}}else this.G==3&&(u?Ws(this,u):this.i.length==0||Da(this.h)||Ws(this))};function Ws(u,m){var p;m?p=m.l:p=u.U++;const T=on(u.I);Yt(T,"SID",u.K),Yt(T,"RID",p),Yt(T,"AID",u.T),Zr(u,T),u.m&&u.o&&Ve(T,u.m,u.o),p=new Ze(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Do(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ia(u.h,p),Mn(p,T,m)}function Zr(u,m){u.H&&Nt(u.H,function(p,T){Yt(m,T,p)}),u.l&&Fs({},function(p,T){Yt(m,T,p)})}function Do(u,m,p){p=Math.min(u.i.length,p);var T=u.l?w(u.l.Na,u.l,u):null;t:{var L=u.i;let H=-1;for(;;){const nt=["count="+p];H==-1?0<p?(H=L[0].g,nt.push("ofs="+H)):H=0:nt.push("ofs="+H);let Mt=!0;for(let we=0;we<p;we++){let Ot=L[we].g;const Ie=L[we].map;if(Ot-=H,0>Ot)H=Math.max(0,L[we].g-100),Mt=!1;else try{Fn(Ie,nt,"req"+Ot+"_")}catch{T&&T(Ie)}}if(Mt){T=nt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Vo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||D(),W||(it(),W=!0),At.add(m,u),u.v=0}}function tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ge(w(u.Fa,u),el(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Io(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ge(w(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),za(this),Io(this))};function Jr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Io(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),Zr(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Gr(on(m)),p.m=null,p.P=!0,mi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,za(this),tl(this),re(19))};function Ba(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Mo(u,m){var p=null;if(u.g==m){Ba(u),Jr(u),u.g=null;var T=2}else if(Gs(u.h,m))p=m.D,Je(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Pi(),Gt(T,new Se(T,p)),Pa(u)}else Vo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Hc(u,m)||T==2&&tl(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function el(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var p=w(u.fb,u),T=u.Xa;const L=!T;T=new pe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Hr(T,"https"),Gr(T),L?Fr(T.toString(),p):On(T.toString(),p)}else re(2);u.G=0,u.l&&u.l.sa(m),Oo(u),Co(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Oo(u){if(u.G=0,u.ka=[],u.l){const m=Qs(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function jo(u,m,p){var T=p instanceof pe?on(p):new pe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Qi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var H=new pe(null);T&&Hr(H,T),m&&(H.g=m),L&&Qi(H,L),p&&(H.l=p),T=H}return p=u.D,m=u.ya,p&&m&&Yt(T,p,m),Yt(T,"VER",u.la),Zr(u,T),T}function Uo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Fi({eb:p})):new qt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lo(){}s=Lo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function qa(){}qa.prototype.g=function(u,m){return new We(u,m)};function We(u,m){oe.call(this),this.g=new ka(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ut(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}G(We,oe),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Js(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=In(u),u=p);m.i.push(new So(m.Ya++,u)),m.G==3&&Pa(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,We.aa.N.call(this)};function ko(u){fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}G(ko,fi);function zo(){Ps.call(this),this.status=1}G(zo,Ps);function $n(u){this.g=u}G($n,Lo),$n.prototype.ua=function(){Gt(this.g,"a")},$n.prototype.ta=function(u){Gt(this.g,new ko(u))},$n.prototype.sa=function(u){Gt(this.g,new zo)},$n.prototype.ra=function(){Gt(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,f0=function(){return new qa},h0=function(){return Pi()},c0=Bn,rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Qu=Hi,di.COMPLETE="complete",u0=di,zs.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Gl=zs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,o0=qt}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const Fy="@firebase/firestore",Yy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new e0("@firebase/firestore");function ys(){return va.logLevel}function lt(s,...e){if(va.logLevel<=Lt.DEBUG){const i=e.map(Dd);va.debug(`Firestore (${Ds}): ${s}`,...i)}}function Li(s,...e){if(va.logLevel<=Lt.ERROR){const i=e.map(Dd);va.error(`Firestore (${Ds}): ${s}`,...i)}}function bs(s,...e){if(va.logLevel<=Lt.WARN){const i=e.map(Dd);va.warn(`Firestore (${Ds}): ${s}`,...i)}}function Dd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,d0(s,a,i)}function d0(s,e,i){let a=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Li(a),new Error(a)}function Ht(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||d0(e,o,a)}function Tt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class a2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class s2{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Tr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Tr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new m0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class l2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new l2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,HA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const a=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ky(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=c2(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Vt(s,e){return s<e?-1:s>e?1:0}function ad(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),h=e.charAt(a);if(o!==h)return Ff(o)===Ff(h)?Vt(o,h):Ff(o)?1:-1}return Vt(s.length,e.length)}const h2=55296,f2=57343;function Ff(s){const e=s.charCodeAt(0);return e>=h2&&e<=f2}function Ss(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="__name__";class ii{constructor(e,i,a){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&yt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ii.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const a=ii.isNumericId(e),o=ii.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ii.extractNumericId(e).compare(ii.extractNumericId(i)):ad(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class te extends ii{construct(e,i,a){return new te(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const d2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ii{construct(e,i,a){return new He(e,i,a)}static isValidIdentifier(e){return d2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xy}static keyField(){return new He([Xy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(te.fromString(e))}static fromName(e){return new ft(te.fromString(e).popFirst(5))}static empty(){return new ft(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(s,e,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function m2(s,e,i,a){if(e===!0&&a===!0)throw new st(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function $y(s){if(!ft.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Zy(s){if(ft.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function p0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function gc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function ri(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gc(s);throw new st(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(s,e){const i={typeString:s};return e&&(i.value=e),i}function oo(s,e){if(!p0(s))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new st(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-62135596800,Wy=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Wy);return new ee(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jy)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wy}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oo(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Te("string",ee._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new ee(0,0))}static max(){return new Et(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function g2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new ee(i+1,0):new ee(i,a));return new br(o,ft.empty(),e)}function p2(s){return new br(s.readTime,s.key,eo)}class br{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new br(Et.min(),ft.empty(),eo)}static max(){return new br(Et.max(),ft.empty(),eo)}}function y2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==_2)throw s;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((b=>{d[_]=b,++g,g===h&&a(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new $(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function E2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Is(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=-1;function yc(s){return s==null}function rc(s){return s===0&&1/s==-1/0}function T2(s){return typeof s=="number"&&Number.isInteger(s)&&!rc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="";function A2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=t_(e)),e=b2(s.get(i),e);return t_(e)}function b2(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case y0:i+="";break;default:i+=h}}return i}function t_(s){return s+y0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Cr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function _0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,i){this.comparator=e,this.root=i||qe.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??qe.RED,this.left=o??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new qe(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new pn([])}unionWith(e){let i=new Ce(He.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new v0("Invalid base64 string: "+h):h}})(e);return new Ge(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const S2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(s){if(Ht(!!s,39018),typeof s=="string"){let e=0;const i=S2.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?Ge.fromBase64String(s):Ge.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="server_timestamp",T0="__type__",A0="__previous_value__",b0="__local_write_time__";function Md(s){return(s?.mapValue?.fields||{})[T0]?.stringValue===E0}function _c(s){const e=s.mapValue.fields[A0];return Md(e)?_c(e):e}function no(s){const e=Sr(s.mapValue.fields[b0].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,i,a,o,h,d,g,v,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=b}}const ac="(default)";class io{constructor(e,i){this.projectId=e,this.database=i||ac}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===ac}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="__type__",R2="__max__",qu={mapValue:{}},w0="__vector__",sc="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Md(s)?4:N2(s)?9007199254740991:x2(s)?10:11:yt(28295,{value:s})}function ui(s,e){if(s===e)return!0;const i=Rr(s);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return no(s).isEqual(no(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Sr(o.timestampValue),g=Sr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return wr(o.bytesValue).isEqual(wr(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),g=me(h.doubleValue);return d===g?rc(d)===rc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Ss(s.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(e_(d)!==e_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ui(d[v],g[v])))return!1;return!0})(s,e);default:return yt(52216,{left:s})}}function ro(s,e){return(s.values||[]).find((i=>ui(i,e)))!==void 0}function ws(s,e){if(s===e)return 0;const i=Rr(s),a=Rr(e);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,e);case 3:return i_(s.timestampValue,e.timestampValue);case 4:return i_(no(s),no(e));case 5:return ad(s.stringValue,e.stringValue);case 6:return(function(h,d){const g=wr(h),v=wr(d);return g.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const b=Vt(g[_],v[_]);if(b!==0)return b}return Vt(g.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Vt(me(h.latitude),me(d.latitude));return g!==0?g:Vt(me(h.longitude),me(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return r_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[sc]?.arrayValue,b=v[sc]?.arrayValue,R=Vt(_?.values?.length||0,b?.values?.length||0);return R!==0?R:r_(_,b)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===qu.mapValue&&d===qu.mapValue)return 0;if(h===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let R=0;R<v.length&&R<b.length;++R){const w=ad(v[R],b[R]);if(w!==0)return w;const z=ws(g[v[R]],_[b[R]]);if(z!==0)return z}return Vt(v.length,b.length)})(s.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function i_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=Sr(s),a=Sr(e),o=Vt(i.seconds,a.seconds);return o!==0?o:Vt(i.nanos,a.nanos)}function r_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=ws(i[o],a[o]);if(h)return h}return Vt(i.length,a.length)}function Rs(s){return sd(s)}function sd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Sr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return wr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=sd(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${sd(i.fields[d])}`;return o+"}"})(s.mapValue):yt(61005,{value:s})}function Fu(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_c(s);return e?16+Fu(e):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+Fu(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Cr(a.fields,((h,d)=>{o+=h.length+Fu(d)})),o})(s.mapValue);default:throw yt(13486,{value:s})}}function a_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ld(s){return!!s&&"integerValue"in s}function Od(s){return!!s&&"arrayValue"in s}function s_(s){return!!s&&"nullValue"in s}function l_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yu(s){return!!s&&"mapValue"in s}function x2(s){return(s?.mapValue?.fields||{})[S0]?.stringValue===w0}function Xl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Cr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Xl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(s.arrayValue.values[i]);return e}return{...s}}function N2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===R2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=He.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Xl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Yu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Cr(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new sn(Xl(this.value))}}function R0(s){const e=[];return Cr(s.fields,((i,a)=>{const o=new He([i]);if(Yu(a)){const h=R0(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new $e(e,0,Et.min(),Et.min(),Et.min(),sn.empty(),0)}static newFoundDocument(e,i,a,o){return new $e(e,1,i,Et.min(),a,o,0)}static newNoDocument(e,i){return new $e(e,2,i,Et.min(),Et.min(),sn.empty(),0)}static newUnknownDocument(e,i){return new $e(e,3,i,Et.min(),Et.min(),sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i){this.position=e,this.inclusive=i}}function o_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=ws(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function u_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ui(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i="asc"){this.field=e,this.dir=i}}function C2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{}class Ee extends x0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new V2(e,i,a):i==="array-contains"?new O2(e,a):i==="in"?new j2(e,a):i==="not-in"?new U2(e,a):i==="array-contains-any"?new L2(e,a):new Ee(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new I2(e,a):new M2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ws(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(ws(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends x0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new zn(e,i)}matches(e){return N0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N0(s){return s.op==="and"}function C0(s){return D2(s)&&N0(s)}function D2(s){for(const e of s.filters)if(e instanceof zn)return!1;return!0}function od(s){if(s instanceof Ee)return s.field.canonicalString()+s.op.toString()+Rs(s.value);if(C0(s))return s.filters.map((e=>od(e))).join(",");{const e=s.filters.map((i=>od(i))).join(",");return`${s.op}(${e})`}}function D0(s,e){return s instanceof Ee?(function(a,o){return o instanceof Ee&&a.op===o.op&&a.field.isEqual(o.field)&&ui(a.value,o.value)})(s,e):s instanceof zn?(function(a,o){return o instanceof zn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,g)=>h&&D0(d,o.filters[g])),!0):!1})(s,e):void yt(19439)}function V0(s){return s instanceof Ee?(function(i){return`${i.field.canonicalString()} ${i.op} ${Rs(i.value)}`})(s):s instanceof zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(V0).join(" ,")+"}"})(s):"Filter"}class V2 extends Ee{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class I2 extends Ee{constructor(e,i){super(e,"in",i),this.keys=I0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class M2 extends Ee{constructor(e,i){super(e,"not-in",i),this.keys=I0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function I0(s,e){return(e.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class O2 extends Ee{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Od(i)&&ro(i.arrayValue,this.value)}}class j2 extends Ee{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ro(this.value.arrayValue,i)}}class U2 extends Ee{constructor(e,i){super(e,"not-in",i)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ro(this.value.arrayValue,i)}}class L2 extends Ee{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Od(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ro(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function c_(s,e=null,i=[],a=[],o=null,h=null,d=null){return new k2(s,e,i,a,o,h,d)}function jd(s){const e=Tt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>od(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),yc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Rs(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Rs(a))).join(",")),e.Te=i}return e.Te}function Ud(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!C2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!D0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!u_(s.startAt,e.startAt)&&u_(s.endAt,e.endAt)}function ud(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z2(s,e,i,a,o,h,d,g){return new uo(s,e,i,a,o,h,d,g)}function Ld(s){return new uo(s)}function h_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function M0(s){return s.collectionGroup!==null}function $l(s){const e=Tt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(He.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new oc(h,a))})),i.has(He.keyField().canonicalString())||e.Ie.push(new oc(He.keyField(),a))}return e.Ie}function ai(s){const e=Tt(s);return e.Ee||(e.Ee=P2(e,$l(s))),e.Ee}function P2(s,e){if(s.limitType==="F")return c_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new oc(o.field,h)}));const i=s.endAt?new lc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new lc(s.startAt.position,s.startAt.inclusive):null;return c_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function cd(s,e){const i=s.filters.concat([e]);return new uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function hd(s,e,i){return new uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function vc(s,e){return Ud(ai(s),ai(e))&&s.limitType===e.limitType}function O0(s){return`${jd(ai(s))}|lt:${s.limitType}`}function _s(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>V0(o))).join(", ")}]`),yc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Rs(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Rs(o))).join(",")),`Target(${a})`})(ai(s))}; limitType=${s.limitType})`}function Ec(s,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,e)&&(function(a,o){for(const h of $l(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const _=o_(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,$l(a),o)||a.endAt&&!(function(d,g,v){const _=o_(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,$l(a),o))})(s,e)}function B2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function j0(s){return(e,i)=>{let a=!1;for(const o of $l(s)){const h=q2(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function q2(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?ws(v,_):yt(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return _0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new le(ft.comparator);function ki(){return H2}const U0=new le(ft.comparator);function Ql(...s){let e=U0;for(const i of s)e=e.insert(i.key,i);return e}function L0(s){let e=U0;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function pa(){return Zl()}function k0(){return Zl()}function Zl(){return new Aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const G2=new le(ft.comparator),Q2=new Ce(ft.comparator);function It(...s){let e=Q2;for(const i of s)e=e.add(i);return e}const F2=new Ce(Vt);function Y2(){return F2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function z0(s){return{integerValue:""+s}}function K2(s,e){return T2(e)?z0(e):kd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function X2(s,e,i){return s instanceof ao?(function(o,h){const d={fields:{[T0]:{stringValue:E0},[b0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Md(h)&&(h=_c(h)),h&&(d.fields[A0]=h),{mapValue:d}})(i,e):s instanceof so?B0(s,e):s instanceof lo?q0(s,e):(function(o,h){const d=P0(o,h),g=f_(d)+f_(o.Ae);return ld(d)&&ld(o.Ae)?z0(g):kd(o.serializer,g)})(s,e)}function $2(s,e,i){return s instanceof so?B0(s,e):s instanceof lo?q0(s,e):i}function P0(s,e){return s instanceof uc?(function(a){return ld(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class ao extends Tc{}class so extends Tc{constructor(e){super(),this.elements=e}}function B0(s,e){const i=H0(e);for(const a of s.elements)i.some((o=>ui(o,a)))||i.push(a);return{arrayValue:{values:i}}}class lo extends Tc{constructor(e){super(),this.elements=e}}function q0(s,e){let i=H0(e);for(const a of s.elements)i=i.filter((o=>!ui(o,a)));return{arrayValue:{values:i}}}class uc extends Tc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function f_(s){return me(s.integerValue||s.doubleValue)}function H0(s){return Od(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,i){this.field=e,this.transform=i}}function J2(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof so&&o instanceof so||a instanceof lo&&o instanceof lo?Ss(a.elements,o.elements,ui):a instanceof uc&&o instanceof uc?ui(a.Ae,o.Ae):a instanceof ao&&o instanceof ao})(s.transform,e.transform)}class W2{constructor(e,i){this.version=e,this.transformResults=i}}class yn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ac{}function G0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new bc(s.key,yn.none()):new co(s.key,s.data,yn.none());{const i=s.data,a=sn.empty();let o=new Ce(He.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Dr(s.key,a,new pn(o.toArray()),yn.none())}}function tb(s,e,i){s instanceof co?(function(o,h,d){const g=o.value.clone(),v=m_(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Dr?(function(o,h,d){if(!Ku(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=m_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Q0(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Jl(s,e,i,a){return s instanceof co?(function(h,d,g,v){if(!Ku(h.precondition,d))return g;const _=h.value.clone(),b=g_(h.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Dr?(function(h,d,g,v){if(!Ku(h.precondition,d))return g;const _=g_(h.fieldTransforms,v,d),b=d.data;return b.setAll(Q0(h)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(s,e,i,a):(function(h,d,g){return Ku(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function eb(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=P0(a.transform,o||null);h!=null&&(i===null&&(i=sn.empty()),i.set(a.field,h))}return i||null}function d_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ss(a,o,((h,d)=>J2(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class co extends Ac{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dr extends Ac{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Q0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function m_(s,e,i){const a=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,$2(d,g,i[o]))}return a}function g_(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,X2(h,d,e))}return a}class bc extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nb extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&tb(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Jl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Jl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=k0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=G0(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,((i,a)=>d_(i,a)))&&Ss(this.baseMutations,e.baseMutations,((i,a)=>d_(i,a)))}}class zd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ht(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return G2})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new zd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function sb(s){switch(s){case K.OK:return yt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function F0(s){if(s===void 0)return Li("GRPC error has no .code"),K.UNKNOWN;switch(s){case ve.OK:return K.OK;case ve.CANCELLED:return K.CANCELLED;case ve.UNKNOWN:return K.UNKNOWN;case ve.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ve.INTERNAL:return K.INTERNAL;case ve.UNAVAILABLE:return K.UNAVAILABLE;case ve.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ve.NOT_FOUND:return K.NOT_FOUND;case ve.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ve.ABORTED:return K.ABORTED;case ve.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ve.DATA_LOSS:return K.DATA_LOSS;default:return yt(39323,{code:s})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new Er([4294967295,4294967295],0);function p_(s){const e=lb().encode(s),i=new l0;return i.update(e),new Uint8Array(i.digest())}function y_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Er([i,a],0),new Er([o,h],0)]}class Pd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Fl(`Invalid padding: ${i}`);if(a<0)throw new Fl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Er.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Er.fromNumber(a)));return o.compare(ob)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=p_(e),[a,o]=y_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Pd(h,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=p_(e),[a,o]=y_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,ho.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Sc(Et.min(),o,new le(Vt),ki(),It())}}class ho{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ho(a,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class Y0{constructor(e,i){this.targetId=e,this.Ce=i}}class K0{constructor(e,i,a=Ge.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class __{constructor(){this.ve=0,this.Fe=v_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),a=It();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:h})}})),new ho(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=v_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ub{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.Je=Hu(),this.He=Hu(),this.Ye=new le(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ud(h))if(a===0){const d=new ft(h.path);this.et(i,d,$e.newNoDocument(d,Et.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=wr(a).toUint8Array()}catch(v){if(v instanceof v0)return bs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Pd(d,o,h)}catch(v){return bs(v instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&ud(g.target)){const v=new ft(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,$e.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=It();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Sc(e,i,this.Ye,this.je,a);return this.je=ki(),this.Je=Hu(),this.He=Hu(),this.Ye=new le(Vt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new __,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ce(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ce(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new __),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new le(ft.comparator)}function v_(){return new le(ft.comparator)}const cb={asc:"ASCENDING",desc:"DESCENDING"},hb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fb={and:"AND",or:"OR"};class db{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function fd(s,e){return s.useProto3Json||yc(e)?e:{value:e}}function cc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function mb(s,e){return cc(s,e.toTimestamp())}function si(s){return Ht(!!s,49232),Et.fromTimestamp((function(i){const a=Sr(i);return new ee(a.seconds,a.nanos)})(s))}function Bd(s,e){return dd(s,e).canonicalString()}function dd(s,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function $0(s){const e=te.fromString(s);return Ht(ev(e),10190,{key:e.toString()}),e}function md(s,e){return Bd(s.databaseId,e.path)}function Yf(s,e){const i=$0(e);if(i.get(1)!==s.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(J0(i))}function Z0(s,e){return Bd(s.databaseId,e)}function gb(s){const e=$0(s);return e.length===4?te.emptyPath():J0(e)}function gd(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function J0(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function E_(s,e,i){return{name:md(s,e),fields:i.value.mapValue.fields}}function pb(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,b){return _.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Ge.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ge.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const b=_.code===void 0?K.UNKNOWN:F0(_.code);return new st(b,_.message||"")})(d);i=new K0(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Yf(s,a.document.name),h=si(a.document.updateTime),d=a.document.createTime?si(a.document.createTime):Et.min(),g=new sn({mapValue:{fields:a.document.fields}}),v=$e.newFoundDocument(o,h,d,g),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Xu(_,b,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Yf(s,a.document),h=a.readTime?si(a.readTime):Et.min(),d=$e.newNoDocument(o,h),g=a.removedTargetIds||[];i=new Xu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Yf(s,a.document),h=a.removedTargetIds||[];i=new Xu([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new ab(o,h),g=a.targetId;i=new Y0(g,d)}}return i}function yb(s,e){let i;if(e instanceof co)i={update:E_(s,e.key,e.value)};else if(e instanceof bc)i={delete:md(s,e.key)};else if(e instanceof Dr)i={update:E_(s,e.key,e.data),updateMask:Rb(e.fieldMask)};else{if(!(e instanceof nb))return yt(16599,{Vt:e.type});i={verify:md(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof ao)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof so)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:mb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(s,e.precondition)),i}function _b(s,e){return s&&s.length>0?(Ht(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?si(o.updateTime):si(h);return d.isEqual(Et.min())&&(d=si(h)),new W2(d,o.transformResults||[])})(i,e)))):[]}function vb(s,e){return{documents:[Z0(s,e.path)]}}function Eb(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Z0(s,o);const h=(function(_){if(_.length!==0)return tv(zn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((b=>(function(w){return{field:vs(w.field),direction:bb(w.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=fd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function Tb(s){let e=gb(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ht(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=(function(R){const w=W0(R);return w instanceof zn&&C0(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((w=>(function(G){return new oc(Es(G.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(R){let w;return w=typeof R=="object"?R.value:R,yc(w)?null:w})(i.limit));let v=null;i.startAt&&(v=(function(R){const w=!!R.before,z=R.values||[];return new lc(z,w)})(i.startAt));let _=null;return i.endAt&&(_=(function(R){const w=!R.before,z=R.values||[];return new lc(z,w)})(i.endAt)),z2(e,o,d,h,g,"F",v,_)}function Ab(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function W0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Es(i.unaryFilter.field);return Ee.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Es(i.unaryFilter.field);return Ee.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Es(i.unaryFilter.field);return Ee.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Es(i.unaryFilter.field);return Ee.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ee.create(Es(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return zn.create(i.compositeFilter.filters.map((a=>W0(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function bb(s){return cb[s]}function Sb(s){return hb[s]}function wb(s){return fb[s]}function vs(s){return{fieldPath:s.canonicalString()}}function Es(s){return He.fromServerFormat(s.fieldPath)}function tv(s){return s instanceof Ee?(function(i){if(i.op==="=="){if(l_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NAN"}};if(s_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(l_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NAN"}};if(s_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(i.field),op:Sb(i.op),value:i.value}}})(s):s instanceof zn?(function(i){const a=i.getFilters().map((o=>tv(o)));return a.length===1?a[0]:{compositeFilter:{op:wb(i.op),filters:a}}})(s):yt(54877,{filter:s})}function Rb(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function ev(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,a,o,h=Et.min(),d=Et.min(),g=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.yt=e}}function Nb(s){const e=Tb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.Cn=new Db}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(br.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class Db{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ce(te.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ce(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nv=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(nv,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xs(0)}static cr(){return new xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LruGarbageCollector",Vb=1048576;function b_([s,e],[i,a]){const o=Vt(s,i);return o===0?Vt(e,a):o}class Ib{constructor(e){this.Ir=e,this.buffer=new Ce(b_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();b_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Mb{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(A_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Is(i)?lt(A_,"Ignoring IndexedDB error during garbage collection: ",i):await Vs(i)}await this.Vr(3e5)}))}}class Ob{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(pc.ce);const a=new Ib(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(T_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,g,v,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(a=R,g=Date.now(),this.removeTargets(e,a,i)))).next((R=>(h=R,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((R=>(_=Date.now(),ys()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${R} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R}))))}}function jb(s,e){return new Ob(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.changes=new Aa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Jl(a.mutation,o,pn.empty(),ee.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,It()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=It()){const o=pa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=Ql();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=pa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,It())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let h=ki();const d=Zl(),g=(function(){return Zl()})();return i.forEach(((v,_)=>{const b=a.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof Dr)?h=h.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Jl(b.mutation,_,b.mutation.getFieldMask(),ee.now())):d.set(_.key,pn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>g.set(_,new Lb(b,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Zl();let o=new le(((d,g)=>d-g)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let b=a.get(v)||pn.empty();b=g.applyToLocalView(_,b),a.set(v,b);const R=(o.get(g.batchId)||It()).add(v);o=o.insert(g.batchId,R)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,b=v.value,R=k0();b.forEach((w=>{if(!h.has(w)){const z=G0(i.get(w),a.get(w));z!==null&&R.set(w,z),h=h.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,R))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):M0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):$.resolve(pa());let g=eo,v=h;return d.next((_=>$.forEach(_,((b,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),h.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{v=v.insert(b,w)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,It()))).next((b=>({batchId:g,changes:L0(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((a=>{let o=Ql();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,h).next((g=>$.forEach(g,(v=>{const _=(function(R,w){return new uo(w,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((b=>{b.forEach(((R,w)=>{d=d.insert(R,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,$e.newInvalidDocument(b)))}));let g=Ql();return d.forEach(((v,_)=>{const b=h.get(v);b!==void 0&&Jl(b.mutation,_,pn.empty(),ee.now()),Ec(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Nb(o.bundledQuery),readTime:si(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.overlays=new le(ft.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=pa();return $.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=pa(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new le(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=h.get(_.largestBatchId);b===null&&(b=pa(),h=h.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=pa(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=o)););return $.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new rb(i,a));let h=this.qr.get(i);h===void 0&&(h=It(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.Qr=new Ce(Ue.$r),this.Ur=new Ce(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ue(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ft(new te([])),a=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ft(new te([])),a=new Ue(i,e),o=new Ue(i,e+1);let h=It();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ft.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(Ue.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ib(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ue(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Id:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ce(Vt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ft(h),0);let g=new Ce(Vt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ue(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.ri=e,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(e,i){let a=ki();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():$e.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=ki();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||y2(p2(b),a)<=0||(o.has(b.key)||Ec(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,a,o){yt(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Gb(this)}getSize(e){return $.resolve(this.size)}}class Gb extends Ub{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.persistence=e,this.si=new Aa((i=>jd(i)),Ud),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new qd,this.targetCount=0,this.ai=xs.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new xs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),$.waitFor(h).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,i){this.ui={},this.overlays={},this.ci=new pc(0),this.li=!1,this.li=!0,this.hi=new Bb,this.referenceDelegate=e(this),this.Pi=new Qb(this),this.indexManager=new Cb,this.remoteDocumentCache=(function(o){return new Hb(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new xb(i),this.Ii=new zb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Pb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new qb(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){lt("MemoryPersistence","Starting transaction:",e);const o=new Fb(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class Fb extends v2{constructor(e){super(),this.currentSequenceNumber=e}}class Hd{constructor(e){this.persistence=e,this.Ri=new qd,this.Vi=null}static mi(e){return new Hd(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=ft.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Et.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class hc{constructor(e,i){this.persistence=e,this.pi=new Aa((a=>A2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=jb(this,i)}static mi(e,i){return new hc(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,h.removeEntry(d,Et.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fu(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Gd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PT()?8:E2(kT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Yb;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(ys()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",_s(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ys()<=Lt.DEBUG&&lt("QueryEngine","Query:",_s(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ys()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",_s(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(i))):$.resolve())}ys(e,i){if(h_(i))return $.resolve(null);let a=ai(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hd(i,null,"F"),a=ai(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=It(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,hd(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return h_(i)||o.isEqual(Et.min())?$.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?$.resolve(null):(ys()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_s(i)),this.vs(e,d,i,g2(o,eo)).next((g=>g)))}))}Ds(e,i){let a=new Ce(j0(e));return i.forEach(((o,h)=>{Ec(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return ys()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",_s(i)),this.ps.getDocumentsMatchingQuery(e,i,br.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="LocalStore",Xb=3e8;class $b{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new le(Vt),this.xs=new Aa((h=>jd(h)),Ud),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Zb(s,e,i,a){return new $b(s,e,i,a)}async function rv(s,e){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let v=It();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of h){g.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Jb(s,e){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,b){const R=_.batch,w=R.keys();let z=$.resolve();return w.forEach((G=>{z=z.next((()=>b.getEntry(v,G))).next((tt=>{const Z=_.docVersions.get(G);Ht(Z!==null,48541),tt.version.compareTo(Z)<0&&(R.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),b.addEntry(tt)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(v,R)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=It();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function av(s){const e=Tt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Wb(s,e){const i=Tt(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((b,R)=>{const w=o.get(R);if(!w)return;g.push(i.Pi.removeMatchingKeys(h,b.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(h,b.addedDocuments,R))));let z=w.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?z=z.withResumeToken(Ge.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(b.resumeToken,a)),o=o.insert(R,z),(function(tt,Z,at){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=Xb?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(w,z,b)&&g.push(i.Pi.updateTargetData(h,z))}));let v=ki(),_=It();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),g.push(tS(h,d,e.documentUpdates).next((b=>{v=b.ks,_=b.qs}))),!a.isEqual(Et.min())){const b=i.Pi.getLastRemoteSnapshotVersion(h).next((R=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function tS(s,e,i){let a=It(),o=It();return i.forEach((h=>a=a.add(h))),e.getEntries(s,a).next((h=>{let d=ki();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Et.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):lt(Qd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function eS(s,e){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Id),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function nS(s,e){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function pd(s,e,i){const a=Tt(s),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Is(d))throw d;lt(Qd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function S_(s,e,i){const a=Tt(s);let o=Et.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,b){const R=Tt(v),w=R.xs.get(b);return w!==void 0?$.resolve(R.Ms.get(w)):R.Pi.getTargetData(_,b)})(a,d,ai(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:It()))).next((g=>(iS(a,B2(e),g),{documents:g,Qs:h})))))}function iS(s,e,i){let a=s.Os.get(e)||Et.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Os.set(e,a)}class w_{constructor(){this.activeTargetIds=Y2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rS{constructor(){this.Mo=new w_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new w_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="ConnectivityMonitor";class x_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(R_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function yd(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",sS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ac?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=yd(),g=this.zo(e,i.toUriEncodedString());lt(Kf,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),b=Nd(_);return this.Jo(e,g,v,a,b).then((R=>(lt(Kf,`Received RPC '${e}' ${d}: `,R),R)),(R=>{throw bs(Kf,`RPC '${e}' ${d} failed with error: `,R,"url: ",g,"request:",a),R}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ds})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=sS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class uS extends lS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=yd();return new Promise(((g,v)=>{const _=new o0;_.setWithCredentials(!0),_.listenOnce(u0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qu.NO_ERROR:const R=_.getResponseJson();lt(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),g(R);break;case Qu.TIMEOUT:lt(Ke,`RPC '${e}' ${d} timed out`),v(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const w=_.getStatus();if(lt(Ke,`RPC '${e}' ${d} failed with status:`,w,"response text:",_.getResponseText()),w>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const G=z?.error;if(G&&G.status&&G.message){const tt=(function(at){const ut=at.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ut)>=0?ut:K.UNKNOWN})(G.status);v(new st(tt,G.message))}else v(new st(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(K.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(Ke,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);lt(Ke,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const o=yd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=f0(),g=h0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const b=h.join("");lt(Ke,`Creating RPC '${e}' stream ${o}: ${b}`,v);const R=d.createWebChannel(b,v);this.I_(R);let w=!1,z=!1;const G=new oS({Yo:Z=>{z?lt(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(w||(lt(Ke,`Opening RPC '${e}' stream ${o} transport.`),R.open(),w=!0),lt(Ke,`RPC '${e}' stream ${o} sending:`,Z),R.send(Z))},Zo:()=>R.close()}),tt=(Z,at,ut)=>{Z.listen(at,(ct=>{try{ut(ct)}catch(kt){setTimeout((()=>{throw kt}),0)}}))};return tt(R,Gl.EventType.OPEN,(()=>{z||(lt(Ke,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),tt(R,Gl.EventType.CLOSE,(()=>{z||(z=!0,lt(Ke,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(R))})),tt(R,Gl.EventType.ERROR,(Z=>{z||(z=!0,bs(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),G.a_(new st(K.UNAVAILABLE,"The operation could not be completed")))})),tt(R,Gl.EventType.MESSAGE,(Z=>{if(!z){const at=Z.data[0];Ht(!!at,16349);const ut=at,ct=ut?.error||ut[0]?.error;if(ct){lt(Ke,`RPC '${e}' stream ${o} received error:`,ct);const kt=ct.status;let pt=(function(S){const N=ve[S];if(N!==void 0)return F0(N)})(kt),Nt=ct.message;pt===void 0&&(pt=K.INTERNAL,Nt="Unknown error status: "+kt+" with message "+ct.message),z=!0,G.a_(new st(pt,Nt)),R.close()}else lt(Ke,`RPC '${e}' stream ${o} received:`,at),G.u_(at)}})),tt(g,c0.STAT_EVENT,(Z=>{Z.stat===rd.PROXY?lt(Ke,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===rd.NOPROXY&&lt(Ke,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s){return new db(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="PersistentStream";class lv{constructor(e,i,a,o,h,d,g,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new st(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(N_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(lt(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cS extends lv{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=pb(this.serializer,e),a=(function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?si(d.readTime):Et.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=gd(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=ud(v)?{documents:vb(h,v)}:{query:Eb(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=X0(h,d.resumeToken);const _=fd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=cc(h,d.snapshotVersion.toTimestamp());const _=fd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=Ab(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=gd(this.serializer),i.removeTarget=e,this.q_(i)}}class hS extends lv{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=_b(e.writeResults,e.commitTime),a=si(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=gd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>yb(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{}class dS extends fS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,dd(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(K.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,dd(i,a),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class gS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ba(this)&&(lt(Ea,"Restarting streams for network reachability change."),await(async function(v){const _=Tt(v);_.Ea.add(4),await fo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rc(_)})(this))}))})),this.Ra=new mS(a,o)}}async function Rc(s){if(ba(s))for(const e of s.da)await e(!0)}async function fo(s){for(const e of s.da)await e(!1)}function ov(s,e){const i=Tt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Xd(i)?Kd(i):Ms(i).O_()&&Yd(i,e))}function Fd(s,e){const i=Tt(s),a=Ms(i);i.Ia.delete(e),a.O_()&&uv(i,e),i.Ia.size===0&&(a.O_()?a.L_():ba(i)&&i.Ra.set("Unknown"))}function Yd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ms(s).Y_(e)}function uv(s,e){s.Va.Ue(e),Ms(s).Z_(e)}function Kd(s){s.Va=new ub({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ms(s).start(),s.Ra.ua()}function Xd(s){return ba(s)&&!Ms(s).x_()&&s.Ia.size>0}function ba(s){return Tt(s).Ea.size===0}function cv(s){s.Va=void 0}async function pS(s){s.Ra.set("Online")}async function yS(s){s.Ia.forEach(((e,i)=>{Yd(s,e)}))}async function _S(s,e){cv(s),Xd(s)?(s.Ra.ha(e),Kd(s)):s.Ra.set("Unknown")}async function vS(s,e,i){if(s.Ra.set("Online"),e instanceof K0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){lt(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await fc(s,a)}else if(e instanceof Xu?s.Va.Ze(e):e instanceof Y0?s.Va.st(e):s.Va.tt(e),!i.isEqual(Et.min()))try{const a=await av(s.localStore);i.compareTo(a)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=h.Ia.get(_);b&&h.Ia.set(_,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const b=h.Ia.get(v);if(!b)return;h.Ia.set(v,b.withResumeToken(Ge.EMPTY_BYTE_STRING,b.snapshotVersion)),uv(h,v);const R=new yr(b.target,v,_,b.sequenceNumber);Yd(h,R)})),h.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){lt(Ea,"Failed to raise snapshot:",a),await fc(s,a)}}async function fc(s,e,i){if(!Is(e))throw e;s.Ea.add(1),await fo(s),s.Ra.set("Offline"),i||(i=()=>av(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{lt(Ea,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rc(s)}))}function hv(s,e){return e().catch((i=>fc(s,i,e)))}async function xc(s){const e=Tt(s),i=xr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Id;for(;ES(e);)try{const o=await eS(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,TS(e,o)}catch(o){await fc(e,o)}fv(e)&&dv(e)}function ES(s){return ba(s)&&s.Ta.length<10}function TS(s,e){s.Ta.push(e);const i=xr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function fv(s){return ba(s)&&!xr(s).x_()&&s.Ta.length>0}function dv(s){xr(s).start()}async function AS(s){xr(s).ra()}async function bS(s){const e=xr(s);for(const i of s.Ta)e.ea(i.mutations)}async function SS(s,e,i){const a=s.Ta.shift(),o=zd.from(a,e,i);await hv(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await xc(s)}async function wS(s,e){e&&xr(s).X_&&await(async function(a,o){if((function(d){return sb(d)&&d!==K.ABORTED})(o.code)){const h=a.Ta.shift();xr(a).B_(),await hv(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await xc(a)}})(s,e),fv(s)&&dv(s)}async function C_(s,e){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),lt(Ea,"RemoteStore received new credentials");const a=ba(i);i.Ea.add(3),await fo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rc(i)}async function RS(s,e){const i=Tt(s);e?(i.Ea.delete(2),await Rc(i)):e||(i.Ea.add(2),await fo(i),i.Ra.set("Unknown"))}function Ms(s){return s.ma||(s.ma=(function(i,a,o){const h=Tt(i);return h.sa(),new cS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:pS.bind(null,s),t_:yS.bind(null,s),r_:_S.bind(null,s),H_:vS.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Xd(s)?Kd(s):s.Ra.set("Unknown")):(await s.ma.stop(),cv(s))}))),s.ma}function xr(s){return s.fa||(s.fa=(function(i,a,o){const h=Tt(i);return h.sa(),new hS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:AS.bind(null,s),r_:wS.bind(null,s),ta:bS.bind(null,s),na:SS.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await xc(s)):(await s.fa.stop(),s.Ta.length>0&&(lt(Ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new $d(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(s,e){if(Li("AsyncQueue",`${e}: ${s}`),Is(s))return new st(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Ql(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new As;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.ga=new le(ft.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Ns{constructor(e,i,a,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ns(e,i,As.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NS{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Tt(i),h=o.queries;o.queries=V_(),h.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new st(K.ABORTED,"Firestore shutting down"))}}function V_(){return new Aa((s=>O0(s)),vc)}async function mv(s,e){const i=Tt(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new xS,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Zd(d,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Jd(i)}async function gv(s,e){const i=Tt(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function CS(s,e){const i=Tt(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Jd(i)}function DS(s,e,i){const a=Tt(s),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Jd(s){s.Ca.forEach((e=>{e.next()}))}var _d,I_;(I_=_d||(_d={})).Ma="default",I_.Cache="cache";class pv{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ns(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_d.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.key=e}}class _v{constructor(e){this.key=e}}class VS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=j0(e),this.tu=new As(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new D_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,R)=>{const w=o.get(b),z=Ec(this.query,R)?R:null,G=!!w&&this.mutatedKeys.has(w.key),tt=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Z=!1;w&&z?w.data.isEqual(z.data)?G!==tt&&(a.track({type:3,doc:z}),Z=!0):this.su(w,z)||(a.track({type:2,doc:z}),Z=!0,(v&&this.eu(z,v)>0||_&&this.eu(z,_)<0)&&(g=!0)):!w&&z?(a.track({type:0,doc:z}),Z=!0):w&&!z&&(a.track({type:1,doc:w}),Z=!0,(v||_)&&(g=!0)),Z&&(z?(d=d.add(z),h=tt?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,R)=>(function(z,G){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:Z})}};return tt(z)-tt(G)})(b.type,R.type)||this.eu(b.doc,R.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ns(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new _v(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new yv(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ns.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wd="SyncEngine";class IS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class MS{constructor(e){this.key=e,this.hu=!1}}class OS{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Aa((g=>O0(g)),vc),this.Iu=new Map,this.Eu=new Set,this.du=new le(ft.comparator),this.Au=new Map,this.Ru=new qd,this.Vu={},this.mu=new Map,this.fu=xs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jS(s,e,i=!0){const a=Sv(s);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await vv(a,e,i,!0),o}async function US(s,e){const i=Sv(s);await vv(i,e,!0,!1)}async function vv(s,e,i,a){const o=await nS(s.localStore,ai(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await LS(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&ov(s.remoteStore,o),g}async function LS(s,e,i,a,o){s.pu=(R,w,z)=>(async function(tt,Z,at,ut){let ct=Z.view.ru(at);ct.Cs&&(ct=await S_(tt.localStore,Z.query,!1).then((({documents:I})=>Z.view.ru(I,ct))));const kt=ut&&ut.targetChanges.get(Z.targetId),pt=ut&&ut.targetMismatches.get(Z.targetId)!=null,Nt=Z.view.applyChanges(ct,tt.isPrimaryClient,kt,pt);return O_(tt,Z.targetId,Nt.au),Nt.snapshot})(s,R,w,z);const h=await S_(s.localStore,e,!0),d=new VS(e,h.Qs),g=d.ru(h.documents),v=ho.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,v);O_(s,i,_.au);const b=new IS(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function kS(s,e,i){const a=Tt(s),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!vc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await pd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Fd(a.remoteStore,o.targetId),vd(a,o.targetId)})).catch(Vs)):(vd(a,o.targetId),await pd(a.localStore,o.targetId,!0))}async function zS(s,e){const i=Tt(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Fd(i.remoteStore,a.targetId))}async function PS(s,e,i){const a=YS(s);try{const o=await(function(d,g){const v=Tt(d),_=ee.now(),b=g.reduce(((z,G)=>z.add(G.key)),It());let R,w;return v.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let G=ki(),tt=It();return v.Ns.getEntries(z,b).next((Z=>{G=Z,G.forEach(((at,ut)=>{ut.isValidDocument()||(tt=tt.add(at))}))})).next((()=>v.localDocuments.getOverlayedDocuments(z,G))).next((Z=>{R=Z;const at=[];for(const ut of g){const ct=eb(ut,R.get(ut.key).overlayedDocument);ct!=null&&at.push(new Dr(ut.key,ct,R0(ct.value.mapValue),yn.exists(!0)))}return v.mutationQueue.addMutationBatch(z,_,at,g)})).next((Z=>{w=Z;const at=Z.applyToLocalDocumentSet(R,tt);return v.documentOverlayCache.saveOverlays(z,Z.batchId,at)}))})).then((()=>({batchId:w.batchId,changes:L0(R)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Vt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await mo(a,o.changes),await xc(a.remoteStore)}catch(o){const h=Zd(o,"Failed to persist write");i.reject(h)}}async function Ev(s,e){const i=Tt(s);try{const a=await Wb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await mo(i,a,e)}catch(a){await Vs(a)}}function M_(s,e,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Tt(d);v.onlineState=g;let _=!1;v.queries.forEach(((b,R)=>{for(const w of R.Sa)w.va(g)&&(_=!0)})),_&&Jd(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function BS(s,e,i){const a=Tt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new le(ft.comparator);d=d.insert(h,$e.newNoDocument(h,Et.min()));const g=It().add(h),v=new Sc(Et.min(),new Map,new le(Vt),d,g);await Ev(a,v),a.du=a.du.remove(h),a.Au.delete(e),tm(a)}else await pd(a.localStore,e,!1).then((()=>vd(a,e,i))).catch(Vs)}async function qS(s,e){const i=Tt(s),a=e.batch.batchId;try{const o=await Jb(i.localStore,e);Av(i,a,null),Tv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await mo(i,o)}catch(o){await Vs(o)}}async function HS(s,e,i){const a=Tt(s);try{const o=await(function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return v.mutationQueue.lookupMutationBatch(_,g).next((R=>(Ht(R!==null,37113),b=R.keys(),v.mutationQueue.removeMutationBatch(_,R)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>v.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);Av(a,e,i),Tv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await mo(a,o)}catch(o){await Vs(o)}}function Tv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Av(s,e,i){const a=Tt(s);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function vd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||bv(s,a)}))}function bv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Fd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),tm(s))}function O_(s,e,i){for(const a of i)a instanceof yv?(s.Ru.addReference(a.key,e),GS(s,a)):a instanceof _v?(lt(Wd,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||bv(s,a.key)):yt(19791,{wu:a})}function GS(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(lt(Wd,"New document in limbo: "+i),s.Eu.add(a),tm(s))}function tm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ft(te.fromString(e)),a=s.fu.next();s.Au.set(a,new MS(i)),s.du=s.du.insert(i,a),ov(s.remoteStore,new yr(ai(Ld(i.path)),a,"TargetPurposeLimboResolution",pc.ce))}}async function mo(s,e,i){const a=Tt(s),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(_){o.push(_);const b=Gd.As(v.targetId,_);h.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const b=Tt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>$.forEach(_,(w=>$.forEach(w.Es,(z=>b.persistence.referenceDelegate.addReference(R,w.targetId,z))).next((()=>$.forEach(w.ds,(z=>b.persistence.referenceDelegate.removeReference(R,w.targetId,z)))))))))}catch(R){if(!Is(R))throw R;lt(Qd,"Failed to update sequence numbers: "+R)}for(const R of _){const w=R.targetId;if(!R.fromCache){const z=b.Ms.get(w),G=z.snapshotVersion,tt=z.withLastLimboFreeSnapshotVersion(G);b.Ms=b.Ms.insert(w,tt)}}})(a.localStore,h))}async function QS(s,e){const i=Tt(s);if(!i.currentUser.isEqual(e)){lt(Wd,"User change. New user:",e.toKey());const a=await rv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new st(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await mo(i,a.Ls)}}function FS(s,e){const i=Tt(s),a=i.Au.get(e);if(a&&a.hu)return It().add(a.key);{let o=It();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function Sv(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ev.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BS.bind(null,e),e.Pu.H_=CS.bind(null,e.eventManager),e.Pu.yu=DS.bind(null,e.eventManager),e}function YS(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HS.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Zb(this.persistence,new Kb,e.initialUser,this.serializer)}Cu(e){return new iv(Hd.mi,this.serializer)}Du(e){return new rS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class KS extends dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof hc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Mb(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new iv((a=>hc.mi(a,i)),this.serializer)}}class Ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>M_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=QS.bind(null,this.syncEngine),await RS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NS})()}createDatastore(e){const i=wc(e.databaseInfo.databaseId),a=(function(h){return new uS(h)})(e.databaseInfo);return(function(h,d,g,v){return new dS(h,d,g,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,g){return new gS(a,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>M_(this.syncEngine,i,0)),(function(){return x_.v()?new x_:new aS})())}createSyncEngine(e,i){return(function(o,h,d,g,v,_,b){const R=new OS(o,h,d,g,v,_);return b&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);lt(Ea,"RemoteStore shutting down."),a.Ea.add(5),await fo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ed.provider={build:()=>new Ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class XS{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{lt(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Zd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function $f(s,e){s.asyncQueue.verifyOperationInProgress(),lt(Nr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await rv(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function j_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await $S(s);lt(Nr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>C_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>C_(e.remoteStore,o))),s._onlineComponents=e}async function $S(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){lt(Nr,"Using user provided OfflineComponentProvider");try{await $f(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;bs("Error using user provided cache. Falling back to memory cache: "+i),await $f(s,new dc)}}else lt(Nr,"Using default OfflineComponentProvider"),await $f(s,new KS(void 0));return s._offlineComponents}async function Rv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(lt(Nr,"Using user provided OnlineComponentProvider"),await j_(s,s._uninitializedComponentsProvider._online)):(lt(Nr,"Using default OnlineComponentProvider"),await j_(s,new Ed))),s._onlineComponents}function ZS(s){return Rv(s).then((e=>e.syncEngine))}async function Td(s){const e=await Rv(s),i=e.eventManager;return i.onListen=jS.bind(null,e.syncEngine),i.onUnlisten=kS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=US.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=zS.bind(null,e.syncEngine),i}function JS(s,e,i={}){const a=new Tr;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,v,_){const b=new wv({next:w=>{b.Nu(),d.enqueueAndForget((()=>gv(h,R))),w.fromCache&&v.source==="server"?_.reject(new st(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(w)},error:w=>_.reject(w)}),R=new pv(g,b,{includeMetadataChanges:!0,qa:!0});return mv(h,R)})(await Td(s),s.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="firestore.googleapis.com",L_=!0;class k_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nv,this.ssl=L_}else this.host=e.host,this.ssl=e.ssl??L_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vb)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xv(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new r2;switch(a.type){case"firstParty":return new o2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=U_.get(i);a&&(lt("ComponentProvider","Removing Datastore"),U_.delete(i),a.terminate())})(this),Promise.resolve()}}function WS(s,e,i,a={}){s=ri(s,Nc);const o=Nd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(MT(`https://${g}`),LT("Firestore",!0)),h.host!==Nv&&h.host!==g&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:a};if(!ec(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=Xe.MOCK_USER;else{_=OT(a.mockUserToken,s._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xe(R)}s._authCredentials=new a2(new m0(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Ae{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ae(this.firestore,e,this._key)}toJSON(){return{type:Ae._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(oo(i,Ae._jsonSchema))return new Ae(e,a||null,new ft(te.fromString(i.referencePath)))}}Ae._jsonSchemaVersion="firestore/documentReference/1.0",Ae._jsonSchema={type:Te("string",Ae._jsonSchemaVersion),referencePath:Te("string")};class Ar extends Sa{constructor(e,i,a){super(e,i,Ld(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ae(this.firestore,null,new ft(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function Ad(s,e,...i){if(s=kn(s),g0("collection","path",e),s instanceof Nc){const a=te.fromString(e,...i);return Zy(a),new Ar(s,null,a)}{if(!(s instanceof Ae||s instanceof Ar))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(e,...i));return Zy(a),new Ar(s.firestore,null,a)}}function $u(s,e,...i){if(s=kn(s),arguments.length===1&&(e=Vd.newId()),g0("doc","path",e),s instanceof Nc){const a=te.fromString(e,...i);return $y(a),new Ae(s,null,new ft(a))}{if(!(s instanceof Ae||s instanceof Ar))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(e,...i));return $y(a),new Ae(s.firestore,s instanceof Ar?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="AsyncQueue";class P_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sv(this,"async_queue_retry"),this._c=()=>{const a=Xf();a&&lt(z_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Is(e))throw e;lt(z_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",B_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=$d.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:B_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function B_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class Ta extends Nc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new P_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P_(e),this._firestoreClient=void 0,await e}}}function tw(s,e){const i=typeof s=="object"?s:YA(),a=typeof s=="string"?s:ac,o=qA(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=VT("firestore");h&&WS(o,...h)}return o}function Cc(s){if(s._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ew(s),s._firestoreClient}function ew(s){const e=s._freezeSettings(),i=(function(o,h,d,g){return new w2(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,xv(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new XS(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Ge.fromBase64String(e))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oo(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Te("string",Vn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(oo(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Te("string",li._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oo(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new oi(e.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Te("string",oi._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=/^__.*__$/;class iw{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms):new co(e,this.data,i,this.fieldTransforms)}}class Cv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Dv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class em{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new em({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Dv(this.Ac)&&nw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rw{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||wc(e)}Cc(e,i,a,o=!1){return new em({Ac:e,methodName:i,Dc:a,path:He.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nm(s){const e=s._freezeSettings(),i=wc(s._databaseId);return new rw(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Vv(s,e,i,a,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);rm("Data must be an object, but it was:",d,a);const g=Iv(a,d);let v,_;if(h.merge)v=new pn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const R of h.mergeFields){const w=bd(e,R,i);if(!d.contains(w))throw new st(K.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Ov(b,w)||b.push(w)}v=new pn(b),_=d.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,_=d.fieldTransforms;return new iw(new sn(g),v,_)}class Ic extends Vc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ic}}class im extends Vc{_toFieldTransform(e){return new Z2(e.path,new ao)}isEqual(e){return e instanceof im}}function aw(s,e,i,a){const o=s.Cc(1,e,i);rm("Data must be an object, but it was:",o,a);const h=[],d=sn.empty();Cr(a,((v,_)=>{const b=am(e,v,i);_=kn(_);const R=o.yc(b);if(_ instanceof Ic)h.push(b);else{const w=go(_,R);w!=null&&(h.push(b),d.set(b,w))}}));const g=new pn(h);return new Cv(d,g,o.fieldTransforms)}function sw(s,e,i,a,o,h){const d=s.Cc(1,e,i),g=[bd(e,a,i)],v=[o];if(h.length%2!=0)throw new st(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<h.length;w+=2)g.push(bd(e,h[w])),v.push(h[w+1]);const _=[],b=sn.empty();for(let w=g.length-1;w>=0;--w)if(!Ov(_,g[w])){const z=g[w];let G=v[w];G=kn(G);const tt=d.yc(z);if(G instanceof Ic)_.push(z);else{const Z=go(G,tt);Z!=null&&(_.push(z),b.set(z,Z))}}const R=new pn(_);return new Cv(b,R,d.fieldTransforms)}function lw(s,e,i,a=!1){return go(i,s.Cc(a?4:3,e))}function go(s,e){if(Mv(s=kn(s)))return rm("Unsupported field value:",e,s),Iv(s,e);if(s instanceof Vc)return(function(a,o){if(!Dv(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const g of a){let v=go(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(a,o){if((a=kn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return K2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ee.fromDate(a);return{timestampValue:cc(o.serializer,h)}}if(a instanceof ee){const h=new ee(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:cc(o.serializer,h)}}if(a instanceof li)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vn)return{bytesValue:X0(o.serializer,a._byteString)};if(a instanceof Ae){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Bd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof oi)return(function(d,g){return{mapValue:{fields:{[S0]:{stringValue:w0},[sc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return kd(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${gc(a)}`)})(s,e)}function Iv(s,e){const i={};return _0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(s,((a,o)=>{const h=go(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function Mv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof li||s instanceof Vn||s instanceof Ae||s instanceof Vc||s instanceof oi)}function rm(s,e,i){if(!Mv(i)||!p0(i)){const a=gc(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function bd(s,e,i){if((e=kn(e))instanceof Dc)return e._internalPath;if(typeof e=="string")return am(s,e);throw mc("Field path arguments must be of type string or ",s,!1,void 0,i)}const ow=new RegExp("[~\\*/\\[\\]]");function am(s,e,i){if(e.search(ow)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Dc(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new st(K.INVALID_ARGUMENT,g+s+v)}function Ov(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(sm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class uw extends jv{data(){return super.data()}}function sm(s,e){return typeof e=="string"?am(s,e):e instanceof Dc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lm{}class cw extends lm{}function Lv(s,e,...i){let a=[];e instanceof lm&&a.push(e),a=a.concat(i),(function(h){const d=h.filter((v=>v instanceof om)).length,g=h.filter((v=>v instanceof Mc)).length;if(d>1||d>0&&g>0)throw new st(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class Mc extends cw{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Mc(e,i,a)}_apply(e){const i=this._parse(e);return zv(e._query,i),new Sa(e.firestore,e.converter,cd(e._query,i))}_parse(e){const i=nm(e.firestore);return(function(h,d,g,v,_,b,R){let w;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new st(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){G_(R,b);const G=[];for(const tt of R)G.push(H_(v,h,tt));w={arrayValue:{values:G}}}else w=H_(v,h,R)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||G_(R,b),w=lw(g,d,R,b==="in"||b==="not-in");return Ee.create(_,b,w)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function kv(s,e,i){const a=e,o=sm("where",s);return Mc._create(o,a,i)}class om extends lm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new om(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const v of g)zv(d,v),d=cd(d,v)})(e._query,i),new Sa(e.firestore,e.converter,cd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function H_(s,e,i){if(typeof(i=kn(i))=="string"){if(i==="")throw new st(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M0(e)&&i.indexOf("/")!==-1)throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(te.fromString(i));if(!ft.isDocumentKey(a))throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return a_(s,new ft(a))}if(i instanceof Ae)return a_(s,i._key);throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gc(i)}.`)}function G_(s,e){if(!Array.isArray(s)||s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zv(s,e){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class hw{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Cr(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[sc].arrayValue?.values?.map((a=>me(a.doubleValue)));return new oi(i)}convertGeoPoint(e){return new li(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=_c(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const i=Sr(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=te.fromString(e);Ht(ev(a),9688,{name:e});const o=new io(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return o.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Yl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends jv{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(sm("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ya._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Te("string",ya._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class Zu extends ya{data(e={}){return super.data(e)}}class _a{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Zu(this._firestore,this._userDataWriter,a.key,a,new Yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:fw(g.type),doc:v,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fw(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:Te("string",_a._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class um extends hw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ae(this.firestore,null,i)}}function Q_(s){s=ri(s,Sa);const e=ri(s.firestore,Ta),i=Cc(e),a=new um(e);return Uv(s._query),JS(i,s._query).then((o=>new _a(e,a,s,o)))}function Sd(s,e,i){s=ri(s,Ae);const a=ri(s.firestore,Ta),o=Pv(s.converter,e,i);return cm(a,[Vv(nm(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,yn.none())])}function dw(s){return cm(ri(s.firestore,Ta),[new bc(s._key,yn.none())])}function mw(s,...e){s=kn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||q_(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(q_(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let h,d,g;if(s instanceof Ae)d=ri(s.firestore,Ta),g=Ld(s._key.path),h={next:v=>{e[a]&&e[a](gw(d,s,v))},error:e[a+1],complete:e[a+2]};else{const v=ri(s,Sa);d=ri(v.firestore,Ta),g=v._query;const _=new um(d);h={next:b=>{e[a]&&e[a](new _a(d,_,v,b))},error:e[a+1],complete:e[a+2]},Uv(s._query)}return(function(_,b,R,w){const z=new wv(w),G=new pv(b,z,R);return _.asyncQueue.enqueueAndForget((async()=>mv(await Td(_),G))),()=>{z.Nu(),_.asyncQueue.enqueueAndForget((async()=>gv(await Td(_),G)))}})(Cc(d),g,o,h)}function cm(s,e){return(function(a,o){const h=new Tr;return a.asyncQueue.enqueueAndForget((async()=>PS(await ZS(a),o,h))),h.promise})(Cc(s),e)}function gw(s,e,i){const a=i.docs.get(e._key),o=new um(s);return new ya(s,o,e._key,a,new Yl(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=nm(e)}set(e,i,a){this._verifyNotCommitted();const o=Zf(e,this._firestore),h=Pv(o.converter,i,a),d=Vv(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,a);return this._mutations.push(d.toMutation(o._key,yn.none())),this}update(e,i,a,...o){this._verifyNotCommitted();const h=Zf(e,this._firestore);let d;return d=typeof(i=kn(i))=="string"||i instanceof Dc?sw(this._dataReader,"WriteBatch.update",h._key,i,a,o):aw(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Zf(e,this._firestore);return this._mutations=this._mutations.concat(new bc(i._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zf(s,e){if((s=kn(s)).firestore!==e)throw new st(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function yw(){return new im("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(s){return Cc(s=ri(s,Ta)),new pw(s,(e=>cm(s,e)))}(function(e,i=!0){(function(o){Ds=o})(FA),ic(new Wl("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Ta(new s2(a.getProvider("auth-internal")),new u2(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(_.options.projectId,b)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Ts(Fy,Yy,e),Ts(Fy,Yy,"esm2020")})();var vw="firebase",Ew="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(vw,Ew,"app");const Tw={apiKey:"AIzaSyC2RM2HldOB3ScxGRpGxkSj9wvuDqAwWm4",authDomain:"academic-progress-tracke-4774a.firebaseapp.com",projectId:"academic-progress-tracke-4774a",storageBucket:"academic-progress-tracke-4774a.firebasestorage.app",messagingSenderId:"660250554925",appId:"1:660250554925:web:55db1dfd08215d6e493ea4"},Aw=r0(Tw),mr=tw(Aw);function bw(s){const[e,i]=wt.useState(navigator.onLine),[a,o]=wt.useState(!1),[h,d]=wt.useState(null);return wt.useEffect(()=>{const _=()=>i(!0),b=()=>i(!1);return window.addEventListener("online",_),window.addEventListener("offline",b),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",b)}},[]),{isOnline:e,isSyncing:a,lastSynced:h,saveToFirestore:async(_,b,R,w)=>{if(!s)return!1;try{o(!0);const z=$u(mr,"academic-data",`${s}-${_}-${b}`);return await Sd(z,{studentId:s,semester:_,subject:b,type:w,data:R,timestamp:yw(),lastModified:new Date().toISOString()}),d(new Date),!0}catch(z){return console.error("Error saving to Firestore:",z),!1}finally{o(!1)}},loadAllData:async()=>{if(!s)return{};try{o(!0);const _=Lv(Ad(mr,"academic-data"),kv("studentId","==",s));return new Promise((b,R)=>mw(_,z=>{const G={};z.forEach(tt=>{const Z=tt.data(),at=`${Z.semester}-${Z.subject}`;G[at]=Z}),d(new Date),b(G)},z=>{console.error("Error loading all data:",z),R(z)}))}catch(_){return console.error("Error setting up real-time listener:",_),{}}finally{o(!1)}}}}function Sw(){const[s,e]=wt.useState([]),[i,a]=wt.useState(null),[o,h]=wt.useState(!0),[d,g]=wt.useState(!1),v=i&&i.rollNo===Pt.rollNo,_=async()=>{try{h(!0);const z=await Q_(Ad(mr,"students")),G=[];z.forEach(Z=>{G.push(Z.data())}),G.some(Z=>Z.rollNo===Pt.rollNo)||(G.push(Pt),await Sd($u(mr,"students",Pt.rollNo),Pt)),e(G),g(!0)}catch(z){console.error("Error loading students:",z),e([Pt]),g(!0)}finally{h(!1)}},b=async(z,G)=>{try{const tt={rollNo:z,name:G};if(s.some(at=>at.rollNo===z))throw new Error("Student with this roll number already exists");return await Sd($u(mr,"students",z),tt),e([...s,tt]),!0}catch(tt){throw console.error("Error creating student:",tt),tt}},R=async z=>{try{if(z===Pt.rollNo)throw new Error("Cannot delete admin student");await dw($u(mr,"students",z));const G=_w(mr),tt=Lv(Ad(mr,"academic-data"),kv("studentId","==",z));return(await Q_(tt)).forEach(at=>{G.delete(at.ref)}),await G.commit(),e(s.filter(at=>at.rollNo!==z)),i&&i.rollNo===z&&(a(null),localStorage.removeItem("selected-student")),!0}catch(G){throw console.error("Error deleting student:",G),G}},w=z=>{const G=i;if(G&&G.rollNo!==z.rollNo){const tt=`academic-data-${G.rollNo}`;localStorage.removeItem(tt)}a(z),localStorage.setItem("selected-student",JSON.stringify(z))};return wt.useEffect(()=>{_()},[]),{students:s,selectedStudent:i,isAdmin:v,isLoading:o,hasInitialized:d,createStudent:b,deleteStudent:R,selectStudent:w,loadStudents:_}}function ww(){const[s,e]=wt.useState(0),[i,a]=wt.useState(5),o=Sw(),{students:h,selectedStudent:d,isLoading:g,hasInitialized:v,selectStudent:_}=o,b=d?`academic-data-${d.rollNo}`:"academic-data-temp",[R,w]=ET(b,{}),z=d?.rollNo,{isOnline:G,isSyncing:tt,lastSynced:Z,saveToFirestore:at,loadAllData:ut}=bw(z);wt.useEffect(()=>{if(!d){w({});return}(async()=>{try{if(w({}),G){console.log(`Loading data for student: ${d.name} (${d.rollNo})`);const S=await ut();Object.keys(S).length>0?(w(S),console.log(" Student data loaded from Firestore")):(console.log("No data found in Firestore for this student - starting with clean slate"),w({}))}}catch(S){console.error("Error loading student data:",S),w({})}})()},[d,G]);const ct=async(I,S,N="theory")=>{if(!d)return;const M=`${i}-${I}`,O={data:S,type:N,semester:i,subject:I},U={...R,[M]:O};if(w(U),G)try{await at(i,I,S,N)||console.warn("Failed to sync to Firestore, data saved locally")}catch(C){console.error("Error syncing to Firestore:",C)}},kt=I=>{w({}),_(I)};if(!d||g||!v)return A.jsx(hT,{students:h,onStudentSelect:kt,isLoading:g||!v});const pt={isOnline:G,isSyncing:tt,lastSynced:Z},Nt=()=>{_(null),localStorage.removeItem("selected-student")};return A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[A.jsx(fT,{semester:i,syncStatus:pt,selectedStudent:d,onStudentSwitch:Nt}),A.jsx(mT,{activeTab:s,onTabChange:e}),A.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[A.jsx(Bf,{value:s,index:0,children:A.jsx(pT,{semester:i,allData:R,handleDataChange:ct})}),A.jsx(Bf,{value:s,index:1,children:A.jsx(_T,{semester:i,allData:R,handleDataChange:ct})}),A.jsx(Bf,{value:s,index:2,children:A.jsx(vT,{semester:i,setSemester:a,studentManagement:o})})]})]})}EE.createRoot(document.getElementById("root")).render(A.jsx(wt.StrictMode,{children:A.jsx(ww,{})}));
