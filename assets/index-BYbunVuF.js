(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function uh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mm={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function jT(){if(S1)return eu;S1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:o}}return eu.Fragment=e,eu.jsx=n,eu.jsxs=n,eu}var A1;function DT(){return A1||(A1=1,Mm.exports=jT()),Mm.exports}var m=DT(),Om={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function IT(){if(N1)return ze;N1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function V(S,se,pe){this.props=S,this.context=se,this.refs=O,this.updater=pe||w}V.prototype.isReactComponent={},V.prototype.setState=function(S,se){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,se,"setState")},V.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function z(){}z.prototype=V.prototype;function U(S,se,pe){this.props=S,this.context=se,this.refs=O,this.updater=pe||w}var L=U.prototype=new z;L.constructor=U,N(L,V.prototype),L.isPureReactComponent=!0;var Q=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function D(S,se,pe,j,Z,ge){return pe=ge.ref,{$$typeof:t,type:S,key:se,ref:pe!==void 0?pe:null,props:ge}}function k(S,se){return D(S.type,se,void 0,void 0,void 0,S.props)}function M(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function C(S){var se={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(pe){return se[pe]})}var P=/\/+/g;function B(S,se){return typeof S=="object"&&S!==null&&S.key!=null?C(""+S.key):se.toString(36)}function A(){}function ae(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(A,A):(S.status="pending",S.then(function(se){S.status==="pending"&&(S.status="fulfilled",S.value=se)},function(se){S.status==="pending"&&(S.status="rejected",S.reason=se)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function me(S,se,pe,j,Z){var ge=typeof S;(ge==="undefined"||ge==="boolean")&&(S=null);var ie=!1;if(S===null)ie=!0;else switch(ge){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(S.$$typeof){case t:case e:ie=!0;break;case x:return ie=S._init,me(ie(S._payload),se,pe,j,Z)}}if(ie)return Z=Z(S),ie=j===""?"."+B(S,0):j,Q(Z)?(pe="",ie!=null&&(pe=ie.replace(P,"$&/")+"/"),me(Z,se,pe,"",function(it){return it})):Z!=null&&(M(Z)&&(Z=k(Z,pe+(Z.key==null||S&&S.key===Z.key?"":(""+Z.key).replace(P,"$&/")+"/")+ie)),se.push(Z)),1;ie=0;var be=j===""?".":j+":";if(Q(S))for(var Te=0;Te<S.length;Te++)j=S[Te],ge=be+B(j,Te),ie+=me(j,se,pe,ge,Z);else if(Te=_(S),typeof Te=="function")for(S=Te.call(S),Te=0;!(j=S.next()).done;)j=j.value,ge=be+B(j,Te++),ie+=me(j,se,pe,ge,Z);else if(ge==="object"){if(typeof S.then=="function")return me(ae(S),se,pe,j,Z);throw se=String(S),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ie}function W(S,se,pe){if(S==null)return S;var j=[],Z=0;return me(S,j,"","",function(ge){return se.call(pe,ge,Z++)}),j}function de(S){if(S._status===-1){var se=S._result;se=se(),se.then(function(pe){(S._status===0||S._status===-1)&&(S._status=1,S._result=pe)},function(pe){(S._status===0||S._status===-1)&&(S._status=2,S._result=pe)}),S._status===-1&&(S._status=0,S._result=se)}if(S._status===1)return S._result.default;throw S._result}var ve=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function Ie(){}return ze.Children={map:W,forEach:function(S,se,pe){W(S,function(){se.apply(this,arguments)},pe)},count:function(S){var se=0;return W(S,function(){se++}),se},toArray:function(S){return W(S,function(se){return se})||[]},only:function(S){if(!M(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ze.Component=V,ze.Fragment=n,ze.Profiler=s,ze.PureComponent=U,ze.StrictMode=i,ze.Suspense=d,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ze.__COMPILER_RUNTIME={__proto__:null,c:function(S){return F.H.useMemoCache(S)}},ze.cache=function(S){return function(){return S.apply(null,arguments)}},ze.cloneElement=function(S,se,pe){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var j=N({},S.props),Z=S.key,ge=void 0;if(se!=null)for(ie in se.ref!==void 0&&(ge=void 0),se.key!==void 0&&(Z=""+se.key),se)!q.call(se,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&se.ref===void 0||(j[ie]=se[ie]);var ie=arguments.length-2;if(ie===1)j.children=pe;else if(1<ie){for(var be=Array(ie),Te=0;Te<ie;Te++)be[Te]=arguments[Te+2];j.children=be}return D(S.type,Z,void 0,void 0,ge,j)},ze.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},ze.createElement=function(S,se,pe){var j,Z={},ge=null;if(se!=null)for(j in se.key!==void 0&&(ge=""+se.key),se)q.call(se,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(Z[j]=se[j]);var ie=arguments.length-2;if(ie===1)Z.children=pe;else if(1<ie){for(var be=Array(ie),Te=0;Te<ie;Te++)be[Te]=arguments[Te+2];Z.children=be}if(S&&S.defaultProps)for(j in ie=S.defaultProps,ie)Z[j]===void 0&&(Z[j]=ie[j]);return D(S,ge,void 0,void 0,null,Z)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(S){return{$$typeof:h,render:S}},ze.isValidElement=M,ze.lazy=function(S){return{$$typeof:x,_payload:{_status:-1,_result:S},_init:de}},ze.memo=function(S,se){return{$$typeof:g,type:S,compare:se===void 0?null:se}},ze.startTransition=function(S){var se=F.T,pe={};F.T=pe;try{var j=S(),Z=F.S;Z!==null&&Z(pe,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(Ie,ve)}catch(ge){ve(ge)}finally{F.T=se}},ze.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ze.use=function(S){return F.H.use(S)},ze.useActionState=function(S,se,pe){return F.H.useActionState(S,se,pe)},ze.useCallback=function(S,se){return F.H.useCallback(S,se)},ze.useContext=function(S){return F.H.useContext(S)},ze.useDebugValue=function(){},ze.useDeferredValue=function(S,se){return F.H.useDeferredValue(S,se)},ze.useEffect=function(S,se,pe){var j=F.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(S,se)},ze.useId=function(){return F.H.useId()},ze.useImperativeHandle=function(S,se,pe){return F.H.useImperativeHandle(S,se,pe)},ze.useInsertionEffect=function(S,se){return F.H.useInsertionEffect(S,se)},ze.useLayoutEffect=function(S,se){return F.H.useLayoutEffect(S,se)},ze.useMemo=function(S,se){return F.H.useMemo(S,se)},ze.useOptimistic=function(S,se){return F.H.useOptimistic(S,se)},ze.useReducer=function(S,se,pe){return F.H.useReducer(S,se,pe)},ze.useRef=function(S){return F.H.useRef(S)},ze.useState=function(S){return F.H.useState(S)},ze.useSyncExternalStore=function(S,se,pe){return F.H.useSyncExternalStore(S,se,pe)},ze.useTransition=function(){return F.H.useTransition()},ze.version="19.1.1",ze}var C1;function n0(){return C1||(C1=1,Om.exports=IT()),Om.exports}var le=n0();const dt=uh(le);var Vm={exports:{}},tu={},Pm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function MT(){return k1||(k1=1,(function(t){function e(W,de){var ve=W.length;W.push(de);e:for(;0<ve;){var Ie=ve-1>>>1,S=W[Ie];if(0<s(S,de))W[Ie]=de,W[ve]=S,ve=Ie;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var de=W[0],ve=W.pop();if(ve!==de){W[0]=ve;e:for(var Ie=0,S=W.length,se=S>>>1;Ie<se;){var pe=2*(Ie+1)-1,j=W[pe],Z=pe+1,ge=W[Z];if(0>s(j,ve))Z<S&&0>s(ge,j)?(W[Ie]=ge,W[Z]=ve,Ie=Z):(W[Ie]=j,W[pe]=ve,Ie=pe);else if(Z<S&&0>s(ge,ve))W[Ie]=ge,W[Z]=ve,Ie=Z;else break e}}return de}function s(W,de){var ve=W.sortIndex-de.sortIndex;return ve!==0?ve:W.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],g=[],x=1,b=null,_=3,w=!1,N=!1,O=!1,V=!1,z=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function Q(W){for(var de=n(g);de!==null;){if(de.callback===null)i(g);else if(de.startTime<=W)i(g),de.sortIndex=de.expirationTime,e(d,de);else break;de=n(g)}}function F(W){if(O=!1,Q(W),!N)if(n(d)!==null)N=!0,q||(q=!0,B());else{var de=n(g);de!==null&&me(F,de.startTime-W)}}var q=!1,D=-1,k=5,M=-1;function C(){return V?!0:!(t.unstable_now()-M<k)}function P(){if(V=!1,q){var W=t.unstable_now();M=W;var de=!0;try{e:{N=!1,O&&(O=!1,U(D),D=-1),w=!0;var ve=_;try{t:{for(Q(W),b=n(d);b!==null&&!(b.expirationTime>W&&C());){var Ie=b.callback;if(typeof Ie=="function"){b.callback=null,_=b.priorityLevel;var S=Ie(b.expirationTime<=W);if(W=t.unstable_now(),typeof S=="function"){b.callback=S,Q(W),de=!0;break t}b===n(d)&&i(d),Q(W)}else i(d);b=n(d)}if(b!==null)de=!0;else{var se=n(g);se!==null&&me(F,se.startTime-W),de=!1}}break e}finally{b=null,_=ve,w=!1}de=void 0}}finally{de?B():q=!1}}}var B;if(typeof L=="function")B=function(){L(P)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ae=A.port2;A.port1.onmessage=P,B=function(){ae.postMessage(null)}}else B=function(){z(P,0)};function me(W,de){D=z(function(){W(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(W){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var ve=_;_=de;try{return W()}finally{_=ve}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(W,de){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ve=_;_=W;try{return de()}finally{_=ve}},t.unstable_scheduleCallback=function(W,de,ve){var Ie=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ie+ve:Ie):ve=Ie,W){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ve+S,W={id:x++,callback:de,priorityLevel:W,startTime:ve,expirationTime:S,sortIndex:-1},ve>Ie?(W.sortIndex=ve,e(g,W),n(d)===null&&W===n(g)&&(O?(U(D),D=-1):O=!0,me(F,ve-Ie))):(W.sortIndex=S,e(d,W),N||w||(N=!0,q||(q=!0,B()))),W},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(W){var de=_;return function(){var ve=_;_=de;try{return W.apply(this,arguments)}finally{_=ve}}}})(Lm)),Lm}var R1;function OT(){return R1||(R1=1,Pm.exports=MT()),Pm.exports}var zm={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function VT(){if(j1)return mn;j1=1;var t=n0();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:d,containerInfo:g,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(d,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(d,g,null,x)},mn.flushSync=function(d){var g=u.T,x=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=g,i.p=x,i.d.f()}},mn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(d,g))},mn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},mn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var x=g.as,b=h(x,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:w}):x==="script"&&i.d.X(d,{crossOrigin:b,integrity:_,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=h(g.as,g.crossOrigin);i.d.M(d,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(d)},mn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=h(x,g.crossOrigin);i.d.L(d,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(d,g){if(typeof d=="string")if(g){var x=h(g.as,g.crossOrigin);i.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(d)},mn.requestFormReset=function(d){i.d.r(d)},mn.unstable_batchedUpdates=function(d,g){return d(g)},mn.useFormState=function(d,g,x){return u.H.useFormState(d,g,x)},mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},mn.version="19.1.1",mn}var D1;function PT(){if(D1)return zm.exports;D1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zm.exports=VT(),zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function LT(){if(I1)return tu;I1=1;var t=OT(),e=n0(),n=PT();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),r;if(y===c)return h(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var T=!1,R=p.child;R;){if(R===l){T=!0,l=p,c=y;break}if(R===c){T=!0,c=p,l=y;break}R=R.sibling}if(!T){for(R=y.child;R;){if(R===l){T=!0,l=y,c=p;break}if(R===c){T=!0,c=y,l=p;break}R=R.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var A=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===A?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case V:return"Profiler";case O:return"StrictMode";case F:return"Suspense";case q:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case L:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case Q:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:ae(r.type)||"Memo";case k:a=r._payload,r=r._init;try{return ae(r(a))}catch{}}return null}var me=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ie=[],S=-1;function se(r){return{current:r}}function pe(r){0>S||(r.current=Ie[S],Ie[S]=null,S--)}function j(r,a){S++,Ie[S]=r.current,r.current=a}var Z=se(null),ge=se(null),ie=se(null),be=se(null);function Te(r,a){switch(j(ie,a),j(ge,r),j(Z,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Wx(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Wx(a),r=e1(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(Z),j(Z,r)}function it(){pe(Z),pe(ge),pe(ie)}function Ct(r){r.memoizedState!==null&&j(be,r);var a=Z.current,l=e1(a,r.type);a!==l&&(j(ge,r),j(Z,l))}function Tt(r){ge.current===r&&(pe(Z),pe(ge)),be.current===r&&(pe(be),Xo._currentValue=ve)}var vn=Object.prototype.hasOwnProperty,Bn=t.unstable_scheduleCallback,vr=t.unstable_cancelCallback,Rr=t.unstable_shouldYield,si=t.unstable_requestPaint,tn=t.unstable_now,Ma=t.unstable_getCurrentPriorityLevel,jr=t.unstable_ImmediatePriority,rr=t.unstable_UserBlockingPriority,_r=t.unstable_NormalPriority,Oa=t.unstable_LowPriority,Dr=t.unstable_IdlePriority,li=t.log,qn=t.unstable_setDisableYieldValue,$=null,re=null;function we(r){if(typeof li=="function"&&qn(r),re&&typeof re.setStrictMode=="function")try{re.setStrictMode($,r)}catch{}}var Ne=Math.clz32?Math.clz32:wn,tt=Math.log,_n=Math.LN2;function wn(r){return r>>>=0,r===0?32:31-(tt(r)/_n|0)|0}var nn=256,Fn=4194304;function rn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function It(r,a,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var R=c&134217727;return R!==0?(c=R&~y,c!==0?p=rn(c):(T&=R,T!==0?p=rn(T):l||(l=R&~r,l!==0&&(p=rn(l))))):(R=c&~y,R!==0?p=rn(R):T!==0?p=rn(T):l||(l=c&~r,l!==0&&(p=rn(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function Dn(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function En(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(){var r=nn;return nn<<=1,(nn&4194048)===0&&(nn=256),r}function Kl(){var r=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),r}function oi(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function ui(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Zl(r,a,l,c,p,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var R=r.entanglements,H=r.expirationTimes,J=r.hiddenUpdates;for(l=T&~l;0<l;){var oe=31-Ne(l),fe=1<<oe;R[oe]=0,H[oe]=-1;var ee=J[oe];if(ee!==null)for(J[oe]=null,oe=0;oe<ee.length;oe++){var te=ee[oe];te!==null&&(te.lane&=-536870913)}l&=~fe}c!==0&&Ir(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~a))}function Ir(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-Ne(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function Jl(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-Ne(l),p=1<<c;p&a|r[c]&a&&(r[c]|=a),l&=~p}}function qi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ns(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Fi(){var r=de.p;return r!==0?r:(r=window.event,r===void 0?32:b1(r.type))}function rc(r,a){var l=de.p;try{return de.p=r,a()}finally{de.p=l}}var vt=Math.random().toString(36).slice(2),qt="__reactFiber$"+vt,Mt="__reactProps$"+vt,ir="__reactContainer$"+vt,Wl="__reactEvents$"+vt,Ph="__reactListeners$"+vt,Hi="__reactHandles$"+vt,ic="__reactResources$"+vt,Va="__reactMarker$"+vt;function $i(r){delete r[qt],delete r[Mt],delete r[Wl],delete r[Ph],delete r[Hi]}function ci(r){var a=r[qt];if(a)return a;for(var l=r.parentNode;l;){if(a=l[ir]||l[qt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=i1(r);r!==null;){if(l=r[qt])return l;r=i1(r)}return a}r=l,l=r.parentNode}return null}function Mr(r){if(r=r[qt]||r[ir]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Or(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Tn(r){var a=r[ic];return a||(a=r[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function kt(r){r[Va]=!0}var eo=new Set,Cs={};function wr(r,a){fi(r,a),fi(r+"Capture",a)}function fi(r,a){for(Cs[r]=a,r=0;r<a.length;r++)eo.add(a[r])}var ac=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sc={},Pa={};function lc(r){return vn.call(Pa,r)?!0:vn.call(sc,r)?!1:ac.test(r)?Pa[r]=!0:(sc[r]=!0,!1)}function Gi(r,a,l){if(lc(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Vr(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function an(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}var La,oc;function hi(r){if(La===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);La=a&&a[1]||"",oc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+r+oc}var ks=!1;function Rs(r,a){if(!r||ks)return"";ks=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(te){var ee=te}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(te){ee=te}r.call(fe.prototype)}}else{try{throw Error()}catch(te){ee=te}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],R=y[1];if(T&&R){var H=T.split(`
`),J=R.split(`
`);for(p=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===H.length||p===J.length)for(c=H.length-1,p=J.length-1;1<=c&&0<=p&&H[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(H[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||H[c]!==J[p]){var oe=`
`+H[c].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=c&&0<=p);break}}}finally{ks=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?hi(l):""}function to(r){switch(r.tag){case 26:case 27:case 5:return hi(r.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Rs(r.type,!1);case 11:return Rs(r.type.render,!1);case 1:return Rs(r.type,!0);case 31:return hi("Activity");default:return""}}function js(r){try{var a="";do a+=to(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Sn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function no(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Lh(r){var a=no(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),c=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ds(r){r._valueTracker||(r._valueTracker=Lh(r))}function ro(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=no(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function za(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var zh=/[\n"\\]/g;function Ot(r){return r.replace(zh,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Hn(r,a,l,c,p,y,T,R){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),a!=null?T==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Sn(a)):r.value!==""+Sn(a)&&(r.value=""+Sn(a)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),a!=null?Qi(r,T,Sn(a)):l!=null?Qi(r,T,Sn(l)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+Sn(R):r.removeAttribute("name")}function Ua(r,a,l,c,p,y,T,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Sn(l):"",a=a!=null?""+Sn(a):l,R||a===r.value||(r.value=a),r.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=R?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Qi(r,a,l){a==="number"&&za(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function di(r,a,l,c){if(r=r.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=a.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Sn(l),a=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function ut(r,a,l){if(a!=null&&(a=""+Sn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+Sn(l):""}function Ba(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(me(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Sn(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function ar(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||qa.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function io(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&uc(r,p,c)}else for(var y in a)a.hasOwnProperty(y)&&uc(r,y,a[y])}function ao(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(r){return Bh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var mi=null;function sr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pi=null,gi=null;function so(r){var a=Mr(r);if(a&&(r=a.stateNode)){var l=r[Mt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Hn(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ot(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var p=c[Mt]||null;if(!p)throw Error(i(90));Hn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&ro(c)}break e;case"textarea":ut(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&di(r,!!l.multiple,a,!1)}}}var Pr=!1;function cc(r,a,l){if(Pr)return r(a,l);Pr=!0;try{var c=r(a);return c}finally{if(Pr=!1,(pi!==null||gi!==null)&&(rf(),pi&&(a=pi,r=gi,gi=pi=null,so(a),r)))for(a=0;a<r.length;a++)so(r[a])}}function Fa(r,a){var l=r.stateNode;if(l===null)return null;var c=l[Mt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(Er)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{lr=!1}var Lr=null,Yi=null,yi=null;function lo(){if(yi)return yi;var r,a=Yi,l=a.length,c,p="value"in Lr?Lr.value:Lr.textContent,y=p.length;for(r=0;r<l&&a[r]===p[r];r++);var T=l-r;for(c=1;c<=T&&a[l-c]===p[y-c];c++);return yi=p.slice(r,1<c?1-c:void 0)}function zr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ur(){return!0}function oo(){return!1}function Yt(r){function a(l,c,p,y,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ur:oo,this.isPropagationStopped=oo,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),a}var at={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=Yt(at),$a=x({},at,{view:0,detail:0}),fc=Yt($a),Os,Vs,Br,Ga=x({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Br&&(Br&&r.type==="mousemove"?(Os=r.screenX-Br.screenX,Vs=r.screenY-Br.screenY):Vs=Os=0,Br=r),Os)},movementY:function(r){return"movementY"in r?r.movementY:Vs}}),or=Yt(Ga),hc=x({},Ga,{dataTransfer:0}),qh=Yt(hc),Qa=x({},$a,{relatedTarget:0}),Ps=Yt(Qa),uo=x({},at,{animationName:0,elapsedTime:0,pseudoElement:0}),Ls=Yt(uo),dc=x({},at,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zs=Yt(dc),Fh=x({},at,{data:0}),co=Yt(Fh),Ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fo(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=pc[r])?!!a[r]:!1}function Xa(){return fo}var gc=x({},$a,{key:function(r){if(r.key){var a=Ya[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=zr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(r){return r.type==="keypress"?zr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?zr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Us=Yt(gc),yc=x({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=Yt(yc),xi=x({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),xc=Yt(xi),bc=x({},at,{propertyName:0,elapsedTime:0,pseudoElement:0}),vc=Yt(bc),_c=x({},Ga,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Bs=Yt(_c),An=x({},at,{newState:0,oldState:0}),wc=Yt(An),Ec=[9,13,27,32],qr=Er&&"CompositionEvent"in window,f=null;Er&&"documentMode"in document&&(f=document.documentMode);var v=Er&&"TextEvent"in window&&!f,E=Er&&(!qr||f&&8<f&&11>=f),I=" ",X=!1;function ne(r,a){switch(r){case"keyup":return Ec.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ye=!1;function Ft(r,a){switch(r){case"compositionend":return xe(a);case"keypress":return a.which!==32?null:(X=!0,I);case"textInput":return r=a.data,r===I&&X?null:r;default:return null}}function Xe(r,a){if(Ye)return r==="compositionend"||!qr&&ne(r,a)?(r=lo(),yi=Yi=Lr=null,Ye=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Xt[r.type]:a==="textarea"}function bi(r,a,l,c){pi?gi?gi.push(c):gi=[c]:pi=c,a=cf(a,"onChange"),0<a.length&&(l=new Ms("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var sn=null,Fr=null;function mo(r){Yx(r,0)}function Tc(r){var a=Or(r);if(ro(a))return r}function pg(r,a){if(r==="change")return a}var gg=!1;if(Er){var Hh;if(Er){var $h="oninput"in document;if(!$h){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),$h=typeof yg.oninput=="function"}Hh=$h}else Hh=!1;gg=Hh&&(!document.documentMode||9<document.documentMode)}function xg(){sn&&(sn.detachEvent("onpropertychange",bg),Fr=sn=null)}function bg(r){if(r.propertyName==="value"&&Tc(Fr)){var a=[];bi(a,Fr,r,sr(r)),cc(mo,a)}}function lE(r,a,l){r==="focusin"?(xg(),sn=a,Fr=l,sn.attachEvent("onpropertychange",bg)):r==="focusout"&&xg()}function oE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tc(Fr)}function uE(r,a){if(r==="click")return Tc(a)}function cE(r,a){if(r==="input"||r==="change")return Tc(a)}function fE(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var $n=typeof Object.is=="function"?Object.is:fE;function po(r,a){if($n(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!vn.call(a,p)||!$n(r[p],a[p]))return!1}return!0}function vg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _g(r,a){var l=vg(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=vg(l)}}function wg(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?wg(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Eg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=za(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=za(r.document)}return a}function Gh(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var hE=Er&&"documentMode"in document&&11>=document.documentMode,qs=null,Qh=null,go=null,Yh=!1;function Tg(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yh||qs==null||qs!==za(c)||(c=qs,"selectionStart"in c&&Gh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),go&&po(go,c)||(go=c,c=cf(Qh,"onSelect"),0<c.length&&(a=new Ms("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=qs)))}function Ka(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var Fs={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Xh={},Sg={};Er&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function Za(r){if(Xh[r])return Xh[r];if(!Fs[r])return r;var a=Fs[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Sg)return Xh[r]=a[l];return r}var Ag=Za("animationend"),Ng=Za("animationiteration"),Cg=Za("animationstart"),dE=Za("transitionrun"),mE=Za("transitionstart"),pE=Za("transitioncancel"),kg=Za("transitionend"),Rg=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Tr(r,a){Rg.set(r,a),wr(a,[r])}var jg=new WeakMap;function ur(r,a){if(typeof r=="object"&&r!==null){var l=jg.get(r);return l!==void 0?l:(a={value:r,source:a,stack:js(a)},jg.set(r,a),a)}return{value:r,source:a,stack:js(a)}}var cr=[],Hs=0,Zh=0;function Sc(){for(var r=Hs,a=Zh=Hs=0;a<r;){var l=cr[a];cr[a++]=null;var c=cr[a];cr[a++]=null;var p=cr[a];cr[a++]=null;var y=cr[a];if(cr[a++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}y!==0&&Dg(l,p,y)}}function Ac(r,a,l,c){cr[Hs++]=r,cr[Hs++]=a,cr[Hs++]=l,cr[Hs++]=c,Zh|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Jh(r,a,l,c){return Ac(r,a,l,c),Nc(r)}function $s(r,a){return Ac(r,null,null,a),Nc(r)}function Dg(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&a!==null&&(p=31-Ne(l),r=y.hiddenUpdates,c=r[p],c===null?r[p]=[a]:c.push(a),a.lane=l|536870912),y):null}function Nc(r){if(50<Bo)throw Bo=0,im=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Gs={};function gE(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(r,a,l,c){return new gE(r,a,l,c)}function Wh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vi(r,a){var l=r.alternate;return l===null?(l=Gn(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Ig(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Cc(r,a,l,c,p,y){var T=0;if(c=r,typeof r=="function")Wh(r)&&(T=1);else if(typeof r=="string")T=xT(r,l,Z.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Gn(31,l,a,p),r.elementType=M,r.lanes=y,r;case N:return Ja(l.children,p,y,a);case O:T=8,p|=24;break;case V:return r=Gn(12,l,a,p|2),r.elementType=V,r.lanes=y,r;case F:return r=Gn(13,l,a,p),r.elementType=F,r.lanes=y,r;case q:return r=Gn(19,l,a,p),r.elementType=q,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:case L:T=10;break e;case U:T=9;break e;case Q:T=11;break e;case D:T=14;break e;case k:T=16,c=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=Gn(T,l,a,p),a.elementType=r,a.type=c,a.lanes=y,a}function Ja(r,a,l,c){return r=Gn(7,r,c,a),r.lanes=l,r}function ed(r,a,l){return r=Gn(6,r,null,a),r.lanes=l,r}function td(r,a,l){return a=Gn(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Qs=[],Ys=0,kc=null,Rc=0,fr=[],hr=0,Wa=null,_i=1,wi="";function es(r,a){Qs[Ys++]=Rc,Qs[Ys++]=kc,kc=r,Rc=a}function Mg(r,a,l){fr[hr++]=_i,fr[hr++]=wi,fr[hr++]=Wa,Wa=r;var c=_i;r=wi;var p=32-Ne(c)-1;c&=~(1<<p),l+=1;var y=32-Ne(a)+p;if(30<y){var T=p-p%5;y=(c&(1<<T)-1).toString(32),c>>=T,p-=T,_i=1<<32-Ne(a)+p|l<<p|c,wi=y+r}else _i=1<<y|l<<p|c,wi=r}function nd(r){r.return!==null&&(es(r,1),Mg(r,1,0))}function rd(r){for(;r===kc;)kc=Qs[--Ys],Qs[Ys]=null,Rc=Qs[--Ys],Qs[Ys]=null;for(;r===Wa;)Wa=fr[--hr],fr[hr]=null,wi=fr[--hr],fr[hr]=null,_i=fr[--hr],fr[hr]=null}var Nn=null,St=null,rt=!1,ts=null,Hr=!1,id=Error(i(519));function ns(r){var a=Error(i(418,""));throw bo(ur(a,r)),id}function Og(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[qt]=r,a[Mt]=c,l){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(l=0;l<Fo.length;l++)He(Fo[l],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":He("invalid",a),Ua(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ds(a);break;case"select":He("invalid",a);break;case"textarea":He("invalid",a),Ba(a,c.value,c.defaultValue,c.children),Ds(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||Jx(a.textContent,l)?(c.popover!=null&&(He("beforetoggle",a),He("toggle",a)),c.onScroll!=null&&He("scroll",a),c.onScrollEnd!=null&&He("scrollend",a),c.onClick!=null&&(a.onclick=ff),a=!0):a=!1,a||ns(r)}function Vg(r){for(Nn=r.return;Nn;)switch(Nn.tag){case 5:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:Nn=Nn.return}}function yo(r){if(r!==Nn)return!1;if(!rt)return Vg(r),rt=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||vm(r.type,r.memoizedProps)),l=!l),l&&St&&ns(r),Vg(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){St=Ar(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}St=null}}else a===27?(a=St,ca(r.type)?(r=Tm,Tm=null,St=r):St=a):St=Nn?Ar(r.stateNode.nextSibling):null;return!0}function xo(){St=Nn=null,rt=!1}function Pg(){var r=ts;return r!==null&&(On===null?On=r:On.push.apply(On,r),ts=null),r}function bo(r){ts===null?ts=[r]:ts.push(r)}var ad=se(null),rs=null,Ei=null;function Xi(r,a,l){j(ad,a._currentValue),a._currentValue=l}function Ti(r){r._currentValue=ad.current,pe(ad)}function sd(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function ld(r,a,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=p;for(var H=0;H<a.length;H++)if(R.context===a[H]){y.lanes|=l,R=y.alternate,R!==null&&(R.lanes|=l),sd(y.return,l,r),c||(T=null);break e}y=R.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),sd(T,l,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function vo(r,a,l,c){r=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var R=p.type;$n(p.pendingProps.value,T.value)||(r!==null?r.push(R):r=[R])}}else if(p===be.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Xo):r=[Xo])}p=p.return}r!==null&&ld(a,r,l,c),a.flags|=262144}function jc(r){for(r=r.firstContext;r!==null;){if(!$n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function is(r){rs=r,Ei=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function dn(r){return Lg(rs,r)}function Dc(r,a){return rs===null&&is(r),Lg(r,a)}function Lg(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ei===null){if(r===null)throw Error(i(308));Ei=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Ei=Ei.next=a;return l}var yE=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},xE=t.unstable_scheduleCallback,bE=t.unstable_NormalPriority,$t={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new yE,data:new Map,refCount:0}}function _o(r){r.refCount--,r.refCount===0&&xE(bE,function(){r.controller.abort()})}var wo=null,ud=0,Xs=0,Ks=null;function vE(r,a){if(wo===null){var l=wo=[];ud=0,Xs=fm(),Ks={status:"pending",value:void 0,then:function(c){l.push(c)}}}return ud++,a.then(zg,zg),a}function zg(){if(--ud===0&&wo!==null){Ks!==null&&(Ks.status="fulfilled");var r=wo;wo=null,Xs=0,Ks=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function _E(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var Ug=W.S;W.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&vE(r,a),Ug!==null&&Ug(r,a)};var as=se(null);function cd(){var r=as.current;return r!==null?r:gt.pooledCache}function Ic(r,a){a===null?j(as,as.current):j(as,a.pool)}function Bg(){var r=cd();return r===null?null:{parent:$t._currentValue,pool:r}}var Eo=Error(i(460)),qg=Error(i(474)),Mc=Error(i(542)),fd={then:function(){}};function Fg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Oc(){}function Hg(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(Oc,Oc),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Gg(r),r;default:if(typeof a.status=="string")a.then(Oc,Oc);else{if(r=gt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Gg(r),r}throw To=a,Eo}}var To=null;function $g(){if(To===null)throw Error(i(459));var r=To;return To=null,r}function Gg(r){if(r===Eo||r===Mc)throw Error(i(483))}var Ki=!1;function hd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Zi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ji(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Nc(r),Dg(r,null,l),a}return Ac(r,c,a,l),Nc(r)}function So(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,Jl(r,l)}}function md(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var pd=!1;function Ao(){if(pd){var r=Ks;if(r!==null)throw r}}function No(r,a,l,c){pd=!1;var p=r.updateQueue;Ki=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var H=R,J=H.next;H.next=null,T===null?y=J:T.next=J,T=H;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,R=oe.lastBaseUpdate,R!==T&&(R===null?oe.firstBaseUpdate=J:R.next=J,oe.lastBaseUpdate=H))}if(y!==null){var fe=p.baseState;T=0,oe=J=H=null,R=y;do{var ee=R.lane&-536870913,te=ee!==R.lane;if(te?(Ke&ee)===ee:(c&ee)===ee){ee!==0&&ee===Xs&&(pd=!0),oe!==null&&(oe=oe.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ve=r,De=R;ee=a;var ht=l;switch(De.tag){case 1:if(Ve=De.payload,typeof Ve=="function"){fe=Ve.call(ht,fe,ee);break e}fe=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=De.payload,ee=typeof Ve=="function"?Ve.call(ht,fe,ee):Ve,ee==null)break e;fe=x({},fe,ee);break e;case 2:Ki=!0}}ee=R.callback,ee!==null&&(r.flags|=64,te&&(r.flags|=8192),te=p.callbacks,te===null?p.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},oe===null?(J=oe=te,H=fe):oe=oe.next=te,T|=ee;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;te=R,R=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);oe===null&&(H=fe),p.baseState=H,p.firstBaseUpdate=J,p.lastBaseUpdate=oe,y===null&&(p.shared.lanes=0),sa|=T,r.lanes=T,r.memoizedState=fe}}function Qg(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Yg(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Qg(l[r],a)}var Zs=se(null),Vc=se(0);function Xg(r,a){r=ji,j(Vc,r),j(Zs,a),ji=r|a.baseLanes}function gd(){j(Vc,ji),j(Zs,Zs.current)}function yd(){ji=Vc.current,pe(Zs),pe(Vc)}var Wi=0,Be=null,ct=null,Vt=null,Pc=!1,Js=!1,ss=!1,Lc=0,Co=0,Ws=null,wE=0;function Rt(){throw Error(i(321))}function xd(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!$n(r[l],a[l]))return!1;return!0}function bd(r,a,l,c,p,y){return Wi=y,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=r===null||r.memoizedState===null?Dy:Iy,ss=!1,y=l(c,p),ss=!1,Js&&(y=Zg(a,l,c,p)),Kg(r),y}function Kg(r){W.H=Hc;var a=ct!==null&&ct.next!==null;if(Wi=0,Vt=ct=Be=null,Pc=!1,Co=0,Ws=null,a)throw Error(i(300));r===null||Kt||(r=r.dependencies,r!==null&&jc(r)&&(Kt=!0))}function Zg(r,a,l,c){Be=r;var p=0;do{if(Js&&(Ws=null),Co=0,Js=!1,25<=p)throw Error(i(301));if(p+=1,Vt=ct=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=kE,y=a(l,c)}while(Js);return y}function EE(){var r=W.H,a=r.useState()[0];return a=typeof a.then=="function"?ko(a):a,r=r.useState()[0],(ct!==null?ct.memoizedState:null)!==r&&(Be.flags|=1024),a}function vd(){var r=Lc!==0;return Lc=0,r}function _d(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function wd(r){if(Pc){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Pc=!1}Wi=0,Vt=ct=Be=null,Js=!1,Co=Lc=0,Ws=null}function In(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Be.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Pt(){if(ct===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=ct.next;var a=Vt===null?Be.memoizedState:Vt.next;if(a!==null)Vt=a,ct=r;else{if(r===null)throw Be.alternate===null?Error(i(467)):Error(i(310));ct=r,r={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Vt===null?Be.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function Ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(r){var a=Co;return Co+=1,Ws===null&&(Ws=[]),r=Hg(Ws,r,a),a=Be,(Vt===null?a.memoizedState:Vt.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?Dy:Iy),r}function zc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ko(r);if(r.$$typeof===L)return dn(r)}throw Error(i(438,String(r)))}function Td(r){var a=null,l=Be.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ed(),Be.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=C;return a.index++,l}function Si(r,a){return typeof a=="function"?a(r):a}function Uc(r){var a=Pt();return Sd(a,ct,r)}function Sd(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}a.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{a=p.next;var R=T=null,H=null,J=a,oe=!1;do{var fe=J.lane&-536870913;if(fe!==J.lane?(Ke&fe)===fe:(Wi&fe)===fe){var ee=J.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),fe===Xs&&(oe=!0);else if((Wi&ee)===ee){J=J.next,ee===Xs&&(oe=!0);continue}else fe={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(R=H=fe,T=y):H=H.next=fe,Be.lanes|=ee,sa|=ee;fe=J.action,ss&&l(y,fe),y=J.hasEagerState?J.eagerState:l(y,fe)}else ee={lane:fe,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(R=H=ee,T=y):H=H.next=ee,Be.lanes|=fe,sa|=fe;J=J.next}while(J!==null&&J!==a);if(H===null?T=y:H.next=R,!$n(y,r.memoizedState)&&(Kt=!0,oe&&(l=Ks,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=H,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Ad(r){var a=Pt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);$n(y,a.memoizedState)||(Kt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function Jg(r,a,l){var c=Be,p=Pt(),y=rt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!$n((ct||p).memoizedState,l);T&&(p.memoizedState=l,Kt=!0),p=p.queue;var R=ty.bind(null,c,p,r);if(Ro(2048,8,R,[r]),p.getSnapshot!==a||T||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,el(9,Bc(),ey.bind(null,c,p,l,a),null),gt===null)throw Error(i(349));y||(Wi&124)!==0||Wg(c,a,l)}return l}function Wg(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Be.updateQueue,a===null?(a=Ed(),Be.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function ey(r,a,l,c){a.value=l,a.getSnapshot=c,ny(a)&&ry(r)}function ty(r,a,l){return l(function(){ny(a)&&ry(r)})}function ny(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!$n(r,l)}catch{return!0}}function ry(r){var a=$s(r,2);a!==null&&Zn(a,r,2)}function Nd(r){var a=In();if(typeof r=="function"){var l=r;if(r=l(),ss){we(!0);try{l()}finally{we(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},a}function iy(r,a,l,c){return r.baseState=l,Sd(r,ct,typeof c=="function"?c:Si)}function TE(r,a,l,c,p){if(Fc(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};W.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,ay(a,y)):(y.next=l.next,a.pending=l.next=y)}}function ay(r,a){var l=a.action,c=a.payload,p=r.state;if(a.isTransition){var y=W.T,T={};W.T=T;try{var R=l(p,c),H=W.S;H!==null&&H(T,R),sy(r,a,R)}catch(J){Cd(r,a,J)}finally{W.T=y}}else try{y=l(p,c),sy(r,a,y)}catch(J){Cd(r,a,J)}}function sy(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){ly(r,a,c)},function(c){return Cd(r,a,c)}):ly(r,a,l)}function ly(r,a,l){a.status="fulfilled",a.value=l,oy(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,ay(r,l)))}function Cd(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,oy(a),a=a.next;while(a!==c)}r.action=null}function oy(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function uy(r,a){return a}function cy(r,a){if(rt){var l=gt.formState;if(l!==null){e:{var c=Be;if(rt){if(St){t:{for(var p=St,y=Hr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Ar(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){St=Ar(p.nextSibling),c=p.data==="F!";break e}}ns(c)}c=!1}c&&(a=l[0])}}return l=In(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uy,lastRenderedState:a},l.queue=c,l=ky.bind(null,Be,c),c.dispatch=l,c=Nd(!1),y=Id.bind(null,Be,!1,c.queue),c=In(),p={state:a,dispatch:null,action:r,pending:null},c.queue=p,l=TE.bind(null,Be,p,y,l),p.dispatch=l,c.memoizedState=r,[a,l,!1]}function fy(r){var a=Pt();return hy(a,ct,r)}function hy(r,a,l){if(a=Sd(r,a,uy)[0],r=Uc(Si)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=ko(a)}catch(T){throw T===Eo?Mc:T}else c=a;a=Pt();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Be.flags|=2048,el(9,Bc(),SE.bind(null,p,l),null)),[c,y,r]}function SE(r,a){r.action=a}function dy(r){var a=Pt(),l=ct;if(l!==null)return hy(a,l,r);Pt(),a=a.memoizedState,l=Pt();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function el(r,a,l,c){return r={tag:r,create:l,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=Ed(),Be.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function Bc(){return{destroy:void 0,resource:void 0}}function my(){return Pt().memoizedState}function qc(r,a,l,c){var p=In();c=c===void 0?null:c,Be.flags|=r,p.memoizedState=el(1|a,Bc(),l,c)}function Ro(r,a,l,c){var p=Pt();c=c===void 0?null:c;var y=p.memoizedState.inst;ct!==null&&c!==null&&xd(c,ct.memoizedState.deps)?p.memoizedState=el(a,y,l,c):(Be.flags|=r,p.memoizedState=el(1|a,y,l,c))}function py(r,a){qc(8390656,8,r,a)}function gy(r,a){Ro(2048,8,r,a)}function yy(r,a){return Ro(4,2,r,a)}function xy(r,a){return Ro(4,4,r,a)}function by(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function vy(r,a,l){l=l!=null?l.concat([r]):null,Ro(4,4,by.bind(null,a,r),l)}function kd(){}function _y(r,a){var l=Pt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&xd(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function wy(r,a){var l=Pt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&xd(a,c[1]))return c[0];if(c=r(),ss){we(!0);try{r()}finally{we(!1)}}return l.memoizedState=[c,a],c}function Rd(r,a,l){return l===void 0||(Wi&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=Sx(),Be.lanes|=r,sa|=r,l)}function Ey(r,a,l,c){return $n(l,a)?l:Zs.current!==null?(r=Rd(r,l,c),$n(r,a)||(Kt=!0),r):(Wi&42)===0?(Kt=!0,r.memoizedState=l):(r=Sx(),Be.lanes|=r,sa|=r,a)}function Ty(r,a,l,c,p){var y=de.p;de.p=y!==0&&8>y?y:8;var T=W.T,R={};W.T=R,Id(r,!1,a,l);try{var H=p(),J=W.S;if(J!==null&&J(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var oe=_E(H,c);jo(r,a,oe,Kn(r))}else jo(r,a,c,Kn(r))}catch(fe){jo(r,a,{then:function(){},status:"rejected",reason:fe},Kn())}finally{de.p=y,W.T=T}}function AE(){}function jd(r,a,l,c){if(r.tag!==5)throw Error(i(476));var p=Sy(r).queue;Ty(r,p,a,ve,l===null?AE:function(){return Ay(r),l(c)})}function Sy(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ve},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Ay(r){var a=Sy(r).next.queue;jo(r,a,{},Kn())}function Dd(){return dn(Xo)}function Ny(){return Pt().memoizedState}function Cy(){return Pt().memoizedState}function NE(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=Kn();r=Zi(l);var c=Ji(a,r,l);c!==null&&(Zn(c,a,l),So(c,a,l)),a={cache:od()},r.payload=a;return}a=a.return}}function CE(r,a,l){var c=Kn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Fc(r)?Ry(a,l):(l=Jh(r,a,l,c),l!==null&&(Zn(l,r,c),jy(l,a,c)))}function ky(r,a,l){var c=Kn();jo(r,a,l,c)}function jo(r,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fc(r))Ry(a,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,R=y(T,l);if(p.hasEagerState=!0,p.eagerState=R,$n(R,T))return Ac(r,a,p,0),gt===null&&Sc(),!1}catch{}finally{}if(l=Jh(r,a,p,c),l!==null)return Zn(l,r,c),jy(l,a,c),!0}return!1}function Id(r,a,l,c){if(c={lane:2,revertLane:fm(),action:c,hasEagerState:!1,eagerState:null,next:null},Fc(r)){if(a)throw Error(i(479))}else a=Jh(r,l,c,2),a!==null&&Zn(a,r,2)}function Fc(r){var a=r.alternate;return r===Be||a!==null&&a===Be}function Ry(r,a){Js=Pc=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function jy(r,a,l){if((l&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,Jl(r,l)}}var Hc={readContext:dn,use:zc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt},Dy={readContext:dn,use:zc,useCallback:function(r,a){return In().memoizedState=[r,a===void 0?null:a],r},useContext:dn,useEffect:py,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,qc(4194308,4,by.bind(null,a,r),l)},useLayoutEffect:function(r,a){return qc(4194308,4,r,a)},useInsertionEffect:function(r,a){qc(4,2,r,a)},useMemo:function(r,a){var l=In();a=a===void 0?null:a;var c=r();if(ss){we(!0);try{r()}finally{we(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=In();if(l!==void 0){var p=l(a);if(ss){we(!0);try{l(a)}finally{we(!1)}}}else p=a;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=CE.bind(null,Be,r),[c.memoizedState,r]},useRef:function(r){var a=In();return r={current:r},a.memoizedState=r},useState:function(r){r=Nd(r);var a=r.queue,l=ky.bind(null,Be,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:kd,useDeferredValue:function(r,a){var l=In();return Rd(l,r,a)},useTransition:function(){var r=Nd(!1);return r=Ty.bind(null,Be,r.queue,!0,!1),In().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=Be,p=In();if(rt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),gt===null)throw Error(i(349));(Ke&124)!==0||Wg(c,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,py(ty.bind(null,c,y,r),[r]),c.flags|=2048,el(9,Bc(),ey.bind(null,c,y,l,a),null),l},useId:function(){var r=In(),a=gt.identifierPrefix;if(rt){var l=wi,c=_i;l=(c&~(1<<32-Ne(c)-1)).toString(32)+l,a=""+a+"R"+l,l=Lc++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=wE++,a=""+a+"r"+l.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:Dd,useFormState:cy,useActionState:cy,useOptimistic:function(r){var a=In();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Id.bind(null,Be,!0,l),l.dispatch=a,[r,a]},useMemoCache:Td,useCacheRefresh:function(){return In().memoizedState=NE.bind(null,Be)}},Iy={readContext:dn,use:zc,useCallback:_y,useContext:dn,useEffect:gy,useImperativeHandle:vy,useInsertionEffect:yy,useLayoutEffect:xy,useMemo:wy,useReducer:Uc,useRef:my,useState:function(){return Uc(Si)},useDebugValue:kd,useDeferredValue:function(r,a){var l=Pt();return Ey(l,ct.memoizedState,r,a)},useTransition:function(){var r=Uc(Si)[0],a=Pt().memoizedState;return[typeof r=="boolean"?r:ko(r),a]},useSyncExternalStore:Jg,useId:Ny,useHostTransitionStatus:Dd,useFormState:fy,useActionState:fy,useOptimistic:function(r,a){var l=Pt();return iy(l,ct,r,a)},useMemoCache:Td,useCacheRefresh:Cy},kE={readContext:dn,use:zc,useCallback:_y,useContext:dn,useEffect:gy,useImperativeHandle:vy,useInsertionEffect:yy,useLayoutEffect:xy,useMemo:wy,useReducer:Ad,useRef:my,useState:function(){return Ad(Si)},useDebugValue:kd,useDeferredValue:function(r,a){var l=Pt();return ct===null?Rd(l,r,a):Ey(l,ct.memoizedState,r,a)},useTransition:function(){var r=Ad(Si)[0],a=Pt().memoizedState;return[typeof r=="boolean"?r:ko(r),a]},useSyncExternalStore:Jg,useId:Ny,useHostTransitionStatus:Dd,useFormState:dy,useActionState:dy,useOptimistic:function(r,a){var l=Pt();return ct!==null?iy(l,ct,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Td,useCacheRefresh:Cy},tl=null,Do=0;function $c(r){var a=Do;return Do+=1,tl===null&&(tl=[]),Hg(tl,r,a)}function Io(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Gc(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function My(r){var a=r._init;return a(r._payload)}function Oy(r){function a(Y,G){if(r){var K=Y.deletions;K===null?(Y.deletions=[G],Y.flags|=16):K.push(G)}}function l(Y,G){if(!r)return null;for(;G!==null;)a(Y,G),G=G.sibling;return null}function c(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function p(Y,G){return Y=vi(Y,G),Y.index=0,Y.sibling=null,Y}function y(Y,G,K){return Y.index=K,r?(K=Y.alternate,K!==null?(K=K.index,K<G?(Y.flags|=67108866,G):K):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function T(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,G,K,ce){return G===null||G.tag!==6?(G=ed(K,Y.mode,ce),G.return=Y,G):(G=p(G,K),G.return=Y,G)}function H(Y,G,K,ce){var Se=K.type;return Se===N?oe(Y,G,K.props.children,ce,K.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===k&&My(Se)===G.type)?(G=p(G,K.props),Io(G,K),G.return=Y,G):(G=Cc(K.type,K.key,K.props,null,Y.mode,ce),Io(G,K),G.return=Y,G)}function J(Y,G,K,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==K.containerInfo||G.stateNode.implementation!==K.implementation?(G=td(K,Y.mode,ce),G.return=Y,G):(G=p(G,K.children||[]),G.return=Y,G)}function oe(Y,G,K,ce,Se){return G===null||G.tag!==7?(G=Ja(K,Y.mode,ce,Se),G.return=Y,G):(G=p(G,K),G.return=Y,G)}function fe(Y,G,K){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=ed(""+G,Y.mode,K),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return K=Cc(G.type,G.key,G.props,null,Y.mode,K),Io(K,G),K.return=Y,K;case w:return G=td(G,Y.mode,K),G.return=Y,G;case k:var ce=G._init;return G=ce(G._payload),fe(Y,G,K)}if(me(G)||B(G))return G=Ja(G,Y.mode,K,null),G.return=Y,G;if(typeof G.then=="function")return fe(Y,$c(G),K);if(G.$$typeof===L)return fe(Y,Dc(Y,G),K);Gc(Y,G)}return null}function ee(Y,G,K,ce){var Se=G!==null?G.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Se!==null?null:R(Y,G,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return K.key===Se?H(Y,G,K,ce):null;case w:return K.key===Se?J(Y,G,K,ce):null;case k:return Se=K._init,K=Se(K._payload),ee(Y,G,K,ce)}if(me(K)||B(K))return Se!==null?null:oe(Y,G,K,ce,null);if(typeof K.then=="function")return ee(Y,G,$c(K),ce);if(K.$$typeof===L)return ee(Y,G,Dc(Y,K),ce);Gc(Y,K)}return null}function te(Y,G,K,ce,Se){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(K)||null,R(G,Y,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return Y=Y.get(ce.key===null?K:ce.key)||null,H(G,Y,ce,Se);case w:return Y=Y.get(ce.key===null?K:ce.key)||null,J(G,Y,ce,Se);case k:var qe=ce._init;return ce=qe(ce._payload),te(Y,G,K,ce,Se)}if(me(ce)||B(ce))return Y=Y.get(K)||null,oe(G,Y,ce,Se,null);if(typeof ce.then=="function")return te(Y,G,K,$c(ce),Se);if(ce.$$typeof===L)return te(Y,G,K,Dc(G,ce),Se);Gc(G,ce)}return null}function Ve(Y,G,K,ce){for(var Se=null,qe=null,Ae=G,Me=G=0,Jt=null;Ae!==null&&Me<K.length;Me++){Ae.index>Me?(Jt=Ae,Ae=null):Jt=Ae.sibling;var nt=ee(Y,Ae,K[Me],ce);if(nt===null){Ae===null&&(Ae=Jt);break}r&&Ae&&nt.alternate===null&&a(Y,Ae),G=y(nt,G,Me),qe===null?Se=nt:qe.sibling=nt,qe=nt,Ae=Jt}if(Me===K.length)return l(Y,Ae),rt&&es(Y,Me),Se;if(Ae===null){for(;Me<K.length;Me++)Ae=fe(Y,K[Me],ce),Ae!==null&&(G=y(Ae,G,Me),qe===null?Se=Ae:qe.sibling=Ae,qe=Ae);return rt&&es(Y,Me),Se}for(Ae=c(Ae);Me<K.length;Me++)Jt=te(Ae,Y,Me,K[Me],ce),Jt!==null&&(r&&Jt.alternate!==null&&Ae.delete(Jt.key===null?Me:Jt.key),G=y(Jt,G,Me),qe===null?Se=Jt:qe.sibling=Jt,qe=Jt);return r&&Ae.forEach(function(pa){return a(Y,pa)}),rt&&es(Y,Me),Se}function De(Y,G,K,ce){if(K==null)throw Error(i(151));for(var Se=null,qe=null,Ae=G,Me=G=0,Jt=null,nt=K.next();Ae!==null&&!nt.done;Me++,nt=K.next()){Ae.index>Me?(Jt=Ae,Ae=null):Jt=Ae.sibling;var pa=ee(Y,Ae,nt.value,ce);if(pa===null){Ae===null&&(Ae=Jt);break}r&&Ae&&pa.alternate===null&&a(Y,Ae),G=y(pa,G,Me),qe===null?Se=pa:qe.sibling=pa,qe=pa,Ae=Jt}if(nt.done)return l(Y,Ae),rt&&es(Y,Me),Se;if(Ae===null){for(;!nt.done;Me++,nt=K.next())nt=fe(Y,nt.value,ce),nt!==null&&(G=y(nt,G,Me),qe===null?Se=nt:qe.sibling=nt,qe=nt);return rt&&es(Y,Me),Se}for(Ae=c(Ae);!nt.done;Me++,nt=K.next())nt=te(Ae,Y,Me,nt.value,ce),nt!==null&&(r&&nt.alternate!==null&&Ae.delete(nt.key===null?Me:nt.key),G=y(nt,G,Me),qe===null?Se=nt:qe.sibling=nt,qe=nt);return r&&Ae.forEach(function(RT){return a(Y,RT)}),rt&&es(Y,Me),Se}function ht(Y,G,K,ce){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case _:e:{for(var Se=K.key;G!==null;){if(G.key===Se){if(Se=K.type,Se===N){if(G.tag===7){l(Y,G.sibling),ce=p(G,K.props.children),ce.return=Y,Y=ce;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===k&&My(Se)===G.type){l(Y,G.sibling),ce=p(G,K.props),Io(ce,K),ce.return=Y,Y=ce;break e}l(Y,G);break}else a(Y,G);G=G.sibling}K.type===N?(ce=Ja(K.props.children,Y.mode,ce,K.key),ce.return=Y,Y=ce):(ce=Cc(K.type,K.key,K.props,null,Y.mode,ce),Io(ce,K),ce.return=Y,Y=ce)}return T(Y);case w:e:{for(Se=K.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===K.containerInfo&&G.stateNode.implementation===K.implementation){l(Y,G.sibling),ce=p(G,K.children||[]),ce.return=Y,Y=ce;break e}else{l(Y,G);break}else a(Y,G);G=G.sibling}ce=td(K,Y.mode,ce),ce.return=Y,Y=ce}return T(Y);case k:return Se=K._init,K=Se(K._payload),ht(Y,G,K,ce)}if(me(K))return Ve(Y,G,K,ce);if(B(K)){if(Se=B(K),typeof Se!="function")throw Error(i(150));return K=Se.call(K),De(Y,G,K,ce)}if(typeof K.then=="function")return ht(Y,G,$c(K),ce);if(K.$$typeof===L)return ht(Y,G,Dc(Y,K),ce);Gc(Y,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,G!==null&&G.tag===6?(l(Y,G.sibling),ce=p(G,K),ce.return=Y,Y=ce):(l(Y,G),ce=ed(K,Y.mode,ce),ce.return=Y,Y=ce),T(Y)):l(Y,G)}return function(Y,G,K,ce){try{Do=0;var Se=ht(Y,G,K,ce);return tl=null,Se}catch(Ae){if(Ae===Eo||Ae===Mc)throw Ae;var qe=Gn(29,Ae,null,Y.mode);return qe.lanes=ce,qe.return=Y,qe}finally{}}}var nl=Oy(!0),Vy=Oy(!1),dr=se(null),$r=null;function ea(r){var a=r.alternate;j(Gt,Gt.current&1),j(dr,r),$r===null&&(a===null||Zs.current!==null||a.memoizedState!==null)&&($r=r)}function Py(r){if(r.tag===22){if(j(Gt,Gt.current),j(dr,r),$r===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&($r=r)}}else ta()}function ta(){j(Gt,Gt.current),j(dr,dr.current)}function Ai(r){pe(dr),$r===r&&($r=null),pe(Gt)}var Gt=se(0);function Qc(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Em(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Md(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:x({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Od={enqueueSetState:function(r,a,l){r=r._reactInternals;var c=Kn(),p=Zi(c);p.payload=a,l!=null&&(p.callback=l),a=Ji(r,p,c),a!==null&&(Zn(a,r,c),So(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=Kn(),p=Zi(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Ji(r,p,c),a!==null&&(Zn(a,r,c),So(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=Kn(),c=Zi(l);c.tag=2,a!=null&&(c.callback=a),a=Ji(r,c,l),a!==null&&(Zn(a,r,l),So(a,r,l))}};function Ly(r,a,l,c,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,T):a.prototype&&a.prototype.isPureReactComponent?!po(l,c)||!po(p,y):!0}function zy(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&Od.enqueueReplaceState(a,a.state,null)}function ls(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=x({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}var Yc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Uy(r){Yc(r)}function By(r){console.error(r)}function qy(r){Yc(r)}function Xc(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Fy(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Vd(r,a,l){return l=Zi(l),l.tag=3,l.payload={element:null},l.callback=function(){Xc(r,a)},l}function Hy(r){return r=Zi(r),r.tag=3,r}function $y(r,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){Fy(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Fy(a,l,c),typeof p!="function"&&(la===null?la=new Set([this]):la.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function RE(r,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&vo(a,l,p,!0),l=dr.current,l!==null){switch(l.tag){case 13:return $r===null?sm():l.alternate===null&&At===0&&(At=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===fd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),om(r,c,p)),!1;case 22:return l.flags|=65536,c===fd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),om(r,c,p)),!1}throw Error(i(435,l.tag))}return om(r,c,p),sm(),!1}if(rt)return a=dr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==id&&(r=Error(i(422),{cause:c}),bo(ur(r,l)))):(c!==id&&(a=Error(i(423),{cause:c}),bo(ur(a,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=ur(c,l),p=Vd(r.stateNode,c,p),md(r,p),At!==4&&(At=2)),!1;var y=Error(i(520),{cause:c});if(y=ur(y,l),Uo===null?Uo=[y]:Uo.push(y),At!==4&&(At=2),a===null)return!0;c=ur(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Vd(l.stateNode,c,r),md(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(la===null||!la.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Hy(p),$y(p,r,l,c),md(l,p),!1}l=l.return}while(l!==null);return!1}var Gy=Error(i(461)),Kt=!1;function ln(r,a,l,c){a.child=r===null?Vy(a,null,l,c):nl(a,r.child,l,c)}function Qy(r,a,l,c,p){l=l.render;var y=a.ref;if("ref"in c){var T={};for(var R in c)R!=="ref"&&(T[R]=c[R])}else T=c;return is(a),c=bd(r,a,l,T,y,p),R=vd(),r!==null&&!Kt?(_d(r,a,p),Ni(r,a,p)):(rt&&R&&nd(a),a.flags|=1,ln(r,a,c,p),a.child)}function Yy(r,a,l,c,p){if(r===null){var y=l.type;return typeof y=="function"&&!Wh(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,Xy(r,a,y,c,p)):(r=Cc(l.type,null,c,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!Hd(r,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:po,l(T,c)&&r.ref===a.ref)return Ni(r,a,p)}return a.flags|=1,r=vi(y,c),r.ref=a.ref,r.return=a,a.child=r}function Xy(r,a,l,c,p){if(r!==null){var y=r.memoizedProps;if(po(y,c)&&r.ref===a.ref)if(Kt=!1,a.pendingProps=c=y,Hd(r,p))(r.flags&131072)!==0&&(Kt=!0);else return a.lanes=r.lanes,Ni(r,a,p)}return Pd(r,a,l,c,p)}function Ky(r,a,l){var c=a.pendingProps,p=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,r!==null){for(p=a.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return Zy(r,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ic(a,y!==null?y.cachePool:null),y!==null?Xg(a,y):gd(),Py(a);else return a.lanes=a.childLanes=536870912,Zy(r,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Ic(a,y.cachePool),Xg(a,y),ta(),a.memoizedState=null):(r!==null&&Ic(a,null),gd(),ta());return ln(r,a,p,l),a.child}function Zy(r,a,l,c){var p=cd();return p=p===null?null:{parent:$t._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},r!==null&&Ic(a,null),gd(),Py(a),r!==null&&vo(r,a,c,!0),null}function Kc(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Pd(r,a,l,c,p){return is(a),l=bd(r,a,l,c,void 0,p),c=vd(),r!==null&&!Kt?(_d(r,a,p),Ni(r,a,p)):(rt&&c&&nd(a),a.flags|=1,ln(r,a,l,p),a.child)}function Jy(r,a,l,c,p,y){return is(a),a.updateQueue=null,l=Zg(a,c,l,p),Kg(r),c=vd(),r!==null&&!Kt?(_d(r,a,y),Ni(r,a,y)):(rt&&c&&nd(a),a.flags|=1,ln(r,a,l,y),a.child)}function Wy(r,a,l,c,p){if(is(a),a.stateNode===null){var y=Gs,T=l.contextType;typeof T=="object"&&T!==null&&(y=dn(T)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Od,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},hd(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?dn(T):Gs,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Md(a,l,T,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Od.enqueueReplaceState(y,y.state,null),No(a,c,y,p),Ao(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){y=a.stateNode;var R=a.memoizedProps,H=ls(l,R);y.props=H;var J=y.context,oe=l.contextType;T=Gs,typeof oe=="object"&&oe!==null&&(T=dn(oe));var fe=l.getDerivedStateFromProps;oe=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||J!==T)&&zy(a,y,c,T),Ki=!1;var ee=a.memoizedState;y.state=ee,No(a,c,y,p),Ao(),J=a.memoizedState,R||ee!==J||Ki?(typeof fe=="function"&&(Md(a,l,fe,c),J=a.memoizedState),(H=Ki||Ly(a,l,H,c,ee,J,T))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=J),y.props=c,y.state=J,y.context=T,c=H):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,dd(r,a),T=a.memoizedProps,oe=ls(l,T),y.props=oe,fe=a.pendingProps,ee=y.context,J=l.contextType,H=Gs,typeof J=="object"&&J!==null&&(H=dn(J)),R=l.getDerivedStateFromProps,(J=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==fe||ee!==H)&&zy(a,y,c,H),Ki=!1,ee=a.memoizedState,y.state=ee,No(a,c,y,p),Ao();var te=a.memoizedState;T!==fe||ee!==te||Ki||r!==null&&r.dependencies!==null&&jc(r.dependencies)?(typeof R=="function"&&(Md(a,l,R,c),te=a.memoizedState),(oe=Ki||Ly(a,l,oe,c,ee,te,H)||r!==null&&r.dependencies!==null&&jc(r.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,te,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,te,H)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),y.props=c,y.state=te,y.context=H,c=oe):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(a.flags|=1024),c=!1)}return y=c,Kc(r,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&c?(a.child=nl(a,r.child,null,p),a.child=nl(a,null,l,p)):ln(r,a,l,p),a.memoizedState=y.state,r=a.child):r=Ni(r,a,p),r}function ex(r,a,l,c){return xo(),a.flags|=256,ln(r,a,l,c),a.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zd(r){return{baseLanes:r,cachePool:Bg()}}function Ud(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=mr),r}function tx(r,a,l){var c=a.pendingProps,p=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Gt.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,r===null){if(rt){if(p?ea(a):ta(),rt){var R=St,H;if(H=R){e:{for(H=R,R=Hr;H.nodeType!==8;){if(!R){R=null;break e}if(H=Ar(H.nextSibling),H===null){R=null;break e}}R=H}R!==null?(a.memoizedState={dehydrated:R,treeContext:Wa!==null?{id:_i,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},H=Gn(18,null,null,0),H.stateNode=R,H.return=a,a.child=H,Nn=a,St=null,H=!0):H=!1}H||ns(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Em(R)?a.lanes=32:a.lanes=536870912,null;Ai(a)}return R=c.children,c=c.fallback,p?(ta(),p=a.mode,R=Zc({mode:"hidden",children:R},p),c=Ja(c,p,l,null),R.return=a,c.return=a,R.sibling=c,a.child=R,p=a.child,p.memoizedState=zd(l),p.childLanes=Ud(r,T,l),a.memoizedState=Ld,c):(ea(a),Bd(a,R))}if(H=r.memoizedState,H!==null&&(R=H.dehydrated,R!==null)){if(y)a.flags&256?(ea(a),a.flags&=-257,a=qd(r,a,l)):a.memoizedState!==null?(ta(),a.child=r.child,a.flags|=128,a=null):(ta(),p=c.fallback,R=a.mode,c=Zc({mode:"visible",children:c.children},R),p=Ja(p,R,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,nl(a,r.child,null,l),c=a.child,c.memoizedState=zd(l),c.childLanes=Ud(r,T,l),a.memoizedState=Ld,a=p);else if(ea(a),Em(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var J=T.dgst;T=J,c=Error(i(419)),c.stack="",c.digest=T,bo({value:c,source:null,stack:null}),a=qd(r,a,l)}else if(Kt||vo(r,a,l,!1),T=(l&r.childLanes)!==0,Kt||T){if(T=gt,T!==null&&(c=l&-l,c=(c&42)!==0?1:qi(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==H.retryLane))throw H.retryLane=c,$s(r,c),Zn(T,r,c),Gy;R.data==="$?"||sm(),a=qd(r,a,l)}else R.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=H.treeContext,St=Ar(R.nextSibling),Nn=a,rt=!0,ts=null,Hr=!1,r!==null&&(fr[hr++]=_i,fr[hr++]=wi,fr[hr++]=Wa,_i=r.id,wi=r.overflow,Wa=a),a=Bd(a,c.children),a.flags|=4096);return a}return p?(ta(),p=c.fallback,R=a.mode,H=r.child,J=H.sibling,c=vi(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,J!==null?p=vi(J,p):(p=Ja(p,R,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,R=r.child.memoizedState,R===null?R=zd(l):(H=R.cachePool,H!==null?(J=$t._currentValue,H=H.parent!==J?{parent:J,pool:J}:H):H=Bg(),R={baseLanes:R.baseLanes|l,cachePool:H}),p.memoizedState=R,p.childLanes=Ud(r,T,l),a.memoizedState=Ld,c):(ea(a),l=r.child,r=l.sibling,l=vi(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(T=a.deletions,T===null?(a.deletions=[r],a.flags|=16):T.push(r)),a.child=l,a.memoizedState=null,l)}function Bd(r,a){return a=Zc({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Zc(r,a){return r=Gn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function qd(r,a,l){return nl(a,r.child,null,l),r=Bd(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function nx(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),sd(r.return,a,l)}function Fd(r,a,l,c,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function rx(r,a,l){var c=a.pendingProps,p=c.revealOrder,y=c.tail;if(ln(r,a,c.children,l),c=Gt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&nx(r,l,a);else if(r.tag===19)nx(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(j(Gt,c),p){case"forwards":for(l=a.child,p=null;l!==null;)r=l.alternate,r!==null&&Qc(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Fd(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&Qc(r)===null){a.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Fd(a,!0,l,null,y);break;case"together":Fd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ni(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),sa|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(vo(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=vi(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=vi(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function Hd(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&jc(r)))}function jE(r,a,l){switch(a.tag){case 3:Te(a,a.stateNode.containerInfo),Xi(a,$t,r.memoizedState.cache),xo();break;case 27:case 5:Ct(a);break;case 4:Te(a,a.stateNode.containerInfo);break;case 10:Xi(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ea(a),a.flags|=128,null):(l&a.child.childLanes)!==0?tx(r,a,l):(ea(a),r=Ni(r,a,l),r!==null?r.sibling:null);ea(a);break;case 19:var p=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(vo(r,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return rx(r,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),j(Gt,Gt.current),c)break;return null;case 22:case 23:return a.lanes=0,Ky(r,a,l);case 24:Xi(a,$t,r.memoizedState.cache)}return Ni(r,a,l)}function ix(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)Kt=!0;else{if(!Hd(r,l)&&(a.flags&128)===0)return Kt=!1,jE(r,a,l);Kt=(r.flags&131072)!==0}else Kt=!1,rt&&(a.flags&1048576)!==0&&Mg(a,Rc,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")Wh(c)?(r=ls(c,r),a.tag=1,a=Wy(null,a,c,r,l)):(a.tag=0,a=Pd(null,a,c,r,l));else{if(c!=null){if(p=c.$$typeof,p===Q){a.tag=11,a=Qy(null,a,c,r,l);break e}else if(p===D){a.tag=14,a=Yy(null,a,c,r,l);break e}}throw a=ae(c)||c,Error(i(306,a,""))}}return a;case 0:return Pd(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=ls(c,a.pendingProps),Wy(r,a,c,p,l);case 3:e:{if(Te(a,a.stateNode.containerInfo),r===null)throw Error(i(387));c=a.pendingProps;var y=a.memoizedState;p=y.element,dd(r,a),No(a,c,null,l);var T=a.memoizedState;if(c=T.cache,Xi(a,$t,c),c!==y.cache&&ld(a,[$t],l,!0),Ao(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=ex(r,a,c,l);break e}else if(c!==p){p=ur(Error(i(424)),a),bo(p),a=ex(r,a,c,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(St=Ar(r.firstChild),Nn=a,rt=!0,ts=null,Hr=!0,l=Vy(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(xo(),c===p){a=Ni(r,a,l);break e}ln(r,a,c,l)}a=a.child}return a;case 26:return Kc(r,a),r===null?(l=o1(a.type,null,a.pendingProps,null))?a.memoizedState=l:rt||(l=a.type,r=a.pendingProps,c=hf(ie.current).createElement(l),c[qt]=a,c[Mt]=r,un(c,l,r),kt(c),a.stateNode=c):a.memoizedState=o1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ct(a),r===null&&rt&&(c=a.stateNode=a1(a.type,a.pendingProps,ie.current),Nn=a,Hr=!0,p=St,ca(a.type)?(Tm=p,St=Ar(c.firstChild)):St=p),ln(r,a,a.pendingProps.children,l),Kc(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&rt&&((p=c=St)&&(c=aT(c,a.type,a.pendingProps,Hr),c!==null?(a.stateNode=c,Nn=a,St=Ar(c.firstChild),Hr=!1,p=!0):p=!1),p||ns(a)),Ct(a),p=a.type,y=a.pendingProps,T=r!==null?r.memoizedProps:null,c=y.children,vm(p,y)?c=null:T!==null&&vm(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=bd(r,a,EE,null,null,l),Xo._currentValue=p),Kc(r,a),ln(r,a,c,l),a.child;case 6:return r===null&&rt&&((r=l=St)&&(l=sT(l,a.pendingProps,Hr),l!==null?(a.stateNode=l,Nn=a,St=null,r=!0):r=!1),r||ns(a)),null;case 13:return tx(r,a,l);case 4:return Te(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=nl(a,null,c,l):ln(r,a,c,l),a.child;case 11:return Qy(r,a,a.type,a.pendingProps,l);case 7:return ln(r,a,a.pendingProps,l),a.child;case 8:return ln(r,a,a.pendingProps.children,l),a.child;case 12:return ln(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Xi(a,a.type,c.value),ln(r,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,is(a),p=dn(p),c=c(p),a.flags|=1,ln(r,a,c,l),a.child;case 14:return Yy(r,a,a.type,a.pendingProps,l);case 15:return Xy(r,a,a.type,a.pendingProps,l);case 19:return rx(r,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},r===null?(l=Zc(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=vi(r.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Ky(r,a,l);case 24:return is(a),c=dn($t),r===null?(p=cd(),p===null&&(p=gt,y=od(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:c,cache:p},hd(a),Xi(a,$t,p)):((r.lanes&l)!==0&&(dd(r,a),No(a,null,null,l),Ao()),p=r.memoizedState,y=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Xi(a,$t,c)):(c=y.cache,Xi(a,$t,c),c!==p.cache&&ld(a,[$t],l,!0))),ln(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ci(r){r.flags|=4}function ax(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!d1(a)){if(a=dr.current,a!==null&&((Ke&4194048)===Ke?$r!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||a!==$r))throw To=fd,qg;r.flags|=8192}}function Jc(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Kl():536870912,r.lanes|=a,sl|=a)}function Mo(r,a){if(!rt)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function wt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function DE(r,a,l){var c=a.pendingProps;switch(rd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(a),null;case 1:return wt(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ti($t),it(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(yo(a)?Ci(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Pg())),wt(a),null;case 26:return l=a.memoizedState,r===null?(Ci(a),l!==null?(wt(a),ax(a,l)):(wt(a),a.flags&=-16777217)):l?l!==r.memoizedState?(Ci(a),wt(a),ax(a,l)):(wt(a),a.flags&=-16777217):(r.memoizedProps!==c&&Ci(a),wt(a),a.flags&=-16777217),null;case 27:Tt(a),l=ie.current;var p=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Ci(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return wt(a),null}r=Z.current,yo(a)?Og(a):(r=a1(p,c,l),a.stateNode=r,Ci(a))}return wt(a),null;case 5:if(Tt(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Ci(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return wt(a),null}if(r=Z.current,yo(a))Og(a);else{switch(p=hf(ie.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}r[qt]=a,r[Mt]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=r;e:switch(un(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ci(a)}}return wt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&Ci(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=ie.current,yo(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,p=Nn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[qt]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Jx(r.nodeValue,l)),r||ns(a)}else r=hf(r).createTextNode(c),r[qt]=a,a.stateNode=r}return wt(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=yo(a),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[qt]=a}else xo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wt(a),p=!1}else p=Pg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Ai(a),a):(Ai(a),null)}if(Ai(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),Jc(a,a.updateQueue),wt(a),null;case 4:return it(),r===null&&pm(a.stateNode.containerInfo),wt(a),null;case 10:return Ti(a.type),wt(a),null;case 19:if(pe(Gt),p=a.memoizedState,p===null)return wt(a),null;if(c=(a.flags&128)!==0,y=p.rendering,y===null)if(c)Mo(p,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Qc(r),y!==null){for(a.flags|=128,Mo(p,!1),r=y.updateQueue,a.updateQueue=r,Jc(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)Ig(l,r),l=l.sibling;return j(Gt,Gt.current&1|2),a.child}r=r.sibling}p.tail!==null&&tn()>tf&&(a.flags|=128,c=!0,Mo(p,!1),a.lanes=4194304)}else{if(!c)if(r=Qc(y),r!==null){if(a.flags|=128,c=!0,r=r.updateQueue,a.updateQueue=r,Jc(a,r),Mo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!rt)return wt(a),null}else 2*tn()-p.renderingStartTime>tf&&l!==536870912&&(a.flags|=128,c=!0,Mo(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(r=p.last,r!==null?r.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=tn(),a.sibling=null,r=Gt.current,j(Gt,c?r&1|2:r&1),a):(wt(a),null);case 22:case 23:return Ai(a),yd(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(wt(a),a.subtreeFlags&6&&(a.flags|=8192)):wt(a),l=a.updateQueue,l!==null&&Jc(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&pe(as),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ti($t),wt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function IE(r,a){switch(rd(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ti($t),it(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Tt(a),null;case 13:if(Ai(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));xo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return pe(Gt),null;case 4:return it(),null;case 10:return Ti(a.type),null;case 22:case 23:return Ai(a),yd(),r!==null&&pe(as),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ti($t),null;case 25:return null;default:return null}}function sx(r,a){switch(rd(a),a.tag){case 3:Ti($t),it();break;case 26:case 27:case 5:Tt(a);break;case 4:it();break;case 13:Ai(a);break;case 19:pe(Gt);break;case 10:Ti(a.type);break;case 22:case 23:Ai(a),yd(),r!==null&&pe(as);break;case 24:Ti($t)}}function Oo(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==p)}}catch(R){mt(a,a.return,R)}}function na(r,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var T=c.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,p=a;var H=l,J=R;try{J()}catch(oe){mt(p,H,oe)}}}c=c.next}while(c!==y)}}catch(oe){mt(a,a.return,oe)}}function lx(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{Yg(a,l)}catch(c){mt(r,r.return,c)}}}function ox(r,a,l){l.props=ls(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){mt(r,a,c)}}function Vo(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){mt(r,a,p)}}function Gr(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){mt(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){mt(r,a,p)}else l.current=null}function ux(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){mt(r,r.return,p)}}function $d(r,a,l){try{var c=r.stateNode;eT(c,r.type,l,a),c[Mt]=a}catch(p){mt(r,r.return,p)}}function cx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ca(r.type)||r.tag===4}function Gd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ca(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Qd(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ff));else if(c!==4&&(c===27&&ca(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(Qd(r,a,l),r=r.sibling;r!==null;)Qd(r,a,l),r=r.sibling}function Wc(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&(c===27&&ca(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Wc(r,a,l),r=r.sibling;r!==null;)Wc(r,a,l),r=r.sibling}function fx(r){var a=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);un(a,c,l),a[qt]=r,a[Mt]=l}catch(y){mt(r,r.return,y)}}var ki=!1,jt=!1,Yd=!1,hx=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function ME(r,a){if(r=r.containerInfo,xm=xf,r=Eg(r),Gh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,R=-1,H=-1,J=0,oe=0,fe=r,ee=null;t:for(;;){for(var te;fe!==l||p!==0&&fe.nodeType!==3||(R=T+p),fe!==y||c!==0&&fe.nodeType!==3||(H=T+c),fe.nodeType===3&&(T+=fe.nodeValue.length),(te=fe.firstChild)!==null;)ee=fe,fe=te;for(;;){if(fe===r)break t;if(ee===l&&++J===p&&(R=T),ee===y&&++oe===c&&(H=T),(te=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=te}l=R===-1||H===-1?null:{start:R,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(bm={focusedElem:r,selectionRange:l},xf=!1,Zt=a;Zt!==null;)if(a=Zt,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Zt=r;else for(;Zt!==null;){switch(a=Zt,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ve=ls(l.type,p,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(Ve,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(De){mt(l,l.return,De)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)wm(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":wm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Zt=r;break}Zt=a.return}}function dx(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ra(r,l),c&4&&Oo(5,l);break;case 1:if(ra(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(T){mt(l,l.return,T)}else{var p=ls(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(T){mt(l,l.return,T)}}c&64&&lx(l),c&512&&Vo(l,l.return);break;case 3:if(ra(r,l),c&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Yg(r,a)}catch(T){mt(l,l.return,T)}}break;case 27:a===null&&c&4&&fx(l);case 26:case 5:ra(r,l),a===null&&c&4&&ux(l),c&512&&Vo(l,l.return);break;case 12:ra(r,l);break;case 13:ra(r,l),c&4&&gx(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=FE.bind(null,l),lT(r,l))));break;case 22:if(c=l.memoizedState!==null||ki,!c){a=a!==null&&a.memoizedState!==null||jt,p=ki;var y=jt;ki=c,(jt=a)&&!y?ia(r,l,(l.subtreeFlags&8772)!==0):ra(r,l),ki=p,jt=y}break;case 30:break;default:ra(r,l)}}function mx(r){var a=r.alternate;a!==null&&(r.alternate=null,mx(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&$i(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,Mn=!1;function Ri(r,a,l){for(l=l.child;l!==null;)px(r,a,l),l=l.sibling}function px(r,a,l){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount($,l)}catch{}switch(l.tag){case 26:jt||Gr(l,a),Ri(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:jt||Gr(l,a);var c=_t,p=Mn;ca(l.type)&&(_t=l.stateNode,Mn=!1),Ri(r,a,l),$o(l.stateNode),_t=c,Mn=p;break;case 5:jt||Gr(l,a);case 6:if(c=_t,p=Mn,_t=null,Ri(r,a,l),_t=c,Mn=p,_t!==null)if(Mn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(l.stateNode)}catch(y){mt(l,a,y)}else try{_t.removeChild(l.stateNode)}catch(y){mt(l,a,y)}break;case 18:_t!==null&&(Mn?(r=_t,r1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Wo(r)):r1(_t,l.stateNode));break;case 4:c=_t,p=Mn,_t=l.stateNode.containerInfo,Mn=!0,Ri(r,a,l),_t=c,Mn=p;break;case 0:case 11:case 14:case 15:jt||na(2,l,a),jt||na(4,l,a),Ri(r,a,l);break;case 1:jt||(Gr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&ox(l,a,c)),Ri(r,a,l);break;case 21:Ri(r,a,l);break;case 22:jt=(c=jt)||l.memoizedState!==null,Ri(r,a,l),jt=c;break;default:Ri(r,a,l)}}function gx(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Wo(r)}catch(l){mt(a,a.return,l)}}function OE(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new hx),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new hx),a;default:throw Error(i(435,r.tag))}}function Xd(r,a){var l=OE(r);a.forEach(function(c){var p=HE.bind(null,r,c);l.has(c)||(l.add(c),c.then(p,p))})}function Qn(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=r,T=a,R=T;e:for(;R!==null;){switch(R.tag){case 27:if(ca(R.type)){_t=R.stateNode,Mn=!1;break e}break;case 5:_t=R.stateNode,Mn=!1;break e;case 3:case 4:_t=R.stateNode.containerInfo,Mn=!0;break e}R=R.return}if(_t===null)throw Error(i(160));px(y,T,p),_t=null,Mn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)yx(a,r),a=a.sibling}var Sr=null;function yx(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qn(a,r),Yn(r),c&4&&(na(3,r,r.return),Oo(3,r),na(5,r,r.return));break;case 1:Qn(a,r),Yn(r),c&512&&(jt||l===null||Gr(l,l.return)),c&64&&ki&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Sr;if(Qn(a,r),Yn(r),c&512&&(jt||l===null||Gr(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Va]||y[qt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),un(y,c,l),y[qt]=r,kt(y),c=y;break e;case"link":var T=f1("link","href",p).get(c+(l.href||""));if(T){for(var R=0;R<T.length;R++)if(y=T[R],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(R,1);break t}}y=p.createElement(c),un(y,c,l),p.head.appendChild(y);break;case"meta":if(T=f1("meta","content",p).get(c+(l.content||""))){for(R=0;R<T.length;R++)if(y=T[R],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(R,1);break t}}y=p.createElement(c),un(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[qt]=r,kt(y),c=y}r.stateNode=c}else h1(p,r.type,r.stateNode);else r.stateNode=c1(p,c,r.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?h1(p,r.type,r.stateNode):c1(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&$d(r,r.memoizedProps,l.memoizedProps)}break;case 27:Qn(a,r),Yn(r),c&512&&(jt||l===null||Gr(l,l.return)),l!==null&&c&4&&$d(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Qn(a,r),Yn(r),c&512&&(jt||l===null||Gr(l,l.return)),r.flags&32){p=r.stateNode;try{ar(p,"")}catch(te){mt(r,r.return,te)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,$d(r,p,l!==null?l.memoizedProps:p)),c&1024&&(Yd=!0);break;case 6:if(Qn(a,r),Yn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(te){mt(r,r.return,te)}}break;case 3:if(pf=null,p=Sr,Sr=df(a.containerInfo),Qn(a,r),Sr=p,Yn(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Wo(a.containerInfo)}catch(te){mt(r,r.return,te)}Yd&&(Yd=!1,xx(r));break;case 4:c=Sr,Sr=df(r.stateNode.containerInfo),Qn(a,r),Yn(r),Sr=c;break;case 12:Qn(a,r),Yn(r);break;case 13:Qn(a,r),Yn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(tm=tn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Xd(r,c)));break;case 22:p=r.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,J=ki,oe=jt;if(ki=J||p,jt=oe||H,Qn(a,r),jt=oe,ki=J,Yn(r),c&8192)e:for(a=r.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||H||ki||jt||os(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){H=l=a;try{if(y=H.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=H.stateNode;var fe=H.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){mt(H,H.return,te)}}}else if(a.tag===6){if(l===null){H=a;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch(te){mt(H,H.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Xd(r,l))));break;case 19:Qn(a,r),Yn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Xd(r,c)));break;case 30:break;case 21:break;default:Qn(a,r),Yn(r)}}function Yn(r){var a=r.flags;if(a&2){try{for(var l,c=r.return;c!==null;){if(cx(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=Gd(r);Wc(r,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(ar(T,""),l.flags&=-33);var R=Gd(r);Wc(r,R,T);break;case 3:case 4:var H=l.stateNode.containerInfo,J=Gd(r);Qd(r,J,H);break;default:throw Error(i(161))}}catch(oe){mt(r,r.return,oe)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function xx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;xx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ra(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)dx(r,a.alternate,a),a=a.sibling}function os(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:na(4,a,a.return),os(a);break;case 1:Gr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&ox(a,a.return,l),os(a);break;case 27:$o(a.stateNode);case 26:case 5:Gr(a,a.return),os(a);break;case 22:a.memoizedState===null&&os(a);break;case 30:os(a);break;default:os(a)}r=r.sibling}}function ia(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=r,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:ia(p,y,l),Oo(4,y);break;case 1:if(ia(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){mt(c,c.return,J)}if(c=y,p=c.updateQueue,p!==null){var R=c.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)Qg(H[p],R)}catch(J){mt(c,c.return,J)}}l&&T&64&&lx(y),Vo(y,y.return);break;case 27:fx(y);case 26:case 5:ia(p,y,l),l&&c===null&&T&4&&ux(y),Vo(y,y.return);break;case 12:ia(p,y,l);break;case 13:ia(p,y,l),l&&T&4&&gx(p,y);break;case 22:y.memoizedState===null&&ia(p,y,l),Vo(y,y.return);break;case 30:break;default:ia(p,y,l)}a=a.sibling}}function Kd(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&_o(l))}function Zd(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&_o(r))}function Qr(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bx(r,a,l,c),a=a.sibling}function bx(r,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Qr(r,a,l,c),p&2048&&Oo(9,a);break;case 1:Qr(r,a,l,c);break;case 3:Qr(r,a,l,c),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&_o(r)));break;case 12:if(p&2048){Qr(r,a,l,c),r=a.stateNode;try{var y=a.memoizedProps,T=y.id,R=y.onPostCommit;typeof R=="function"&&R(T,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){mt(a,a.return,H)}}else Qr(r,a,l,c);break;case 13:Qr(r,a,l,c);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?Qr(r,a,l,c):Po(r,a):y._visibility&2?Qr(r,a,l,c):(y._visibility|=2,rl(r,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&Kd(T,a);break;case 24:Qr(r,a,l,c),p&2048&&Zd(a.alternate,a);break;default:Qr(r,a,l,c)}}function rl(r,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,T=a,R=l,H=c,J=T.flags;switch(T.tag){case 0:case 11:case 15:rl(y,T,R,H,p),Oo(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?rl(y,T,R,H,p):Po(y,T):(oe._visibility|=2,rl(y,T,R,H,p)),p&&J&2048&&Kd(T.alternate,T);break;case 24:rl(y,T,R,H,p),p&&J&2048&&Zd(T.alternate,T);break;default:rl(y,T,R,H,p)}a=a.sibling}}function Po(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,p=c.flags;switch(c.tag){case 22:Po(l,c),p&2048&&Kd(c.alternate,c);break;case 24:Po(l,c),p&2048&&Zd(c.alternate,c);break;default:Po(l,c)}a=a.sibling}}var Lo=8192;function il(r){if(r.subtreeFlags&Lo)for(r=r.child;r!==null;)vx(r),r=r.sibling}function vx(r){switch(r.tag){case 26:il(r),r.flags&Lo&&r.memoizedState!==null&&vT(Sr,r.memoizedState,r.memoizedProps);break;case 5:il(r);break;case 3:case 4:var a=Sr;Sr=df(r.stateNode.containerInfo),il(r),Sr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Lo,Lo=16777216,il(r),Lo=a):il(r));break;default:il(r)}}function _x(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function zo(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Zt=c,Ex(c,r)}_x(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wx(r),r=r.sibling}function wx(r){switch(r.tag){case 0:case 11:case 15:zo(r),r.flags&2048&&na(9,r,r.return);break;case 3:zo(r);break;case 12:zo(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,ef(r)):zo(r);break;default:zo(r)}}function ef(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Zt=c,Ex(c,r)}_x(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:na(8,a,a.return),ef(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ef(a));break;default:ef(a)}r=r.sibling}}function Ex(r,a){for(;Zt!==null;){var l=Zt;switch(l.tag){case 0:case 11:case 15:na(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:_o(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Zt=c;else e:for(l=r;Zt!==null;){c=Zt;var p=c.sibling,y=c.return;if(mx(c),c===l){Zt=null;break e}if(p!==null){p.return=y,Zt=p;break e}Zt=y}}}var VE={getCacheForType:function(r){var a=dn($t),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},PE=typeof WeakMap=="function"?WeakMap:Map,lt=0,gt=null,Fe=null,Ke=0,ot=0,Xn=null,aa=!1,al=!1,Jd=!1,ji=0,At=0,sa=0,us=0,Wd=0,mr=0,sl=0,Uo=null,On=null,em=!1,tm=0,tf=1/0,nf=null,la=null,on=0,oa=null,ll=null,ol=0,nm=0,rm=null,Tx=null,Bo=0,im=null;function Kn(){if((lt&2)!==0&&Ke!==0)return Ke&-Ke;if(W.T!==null){var r=Xs;return r!==0?r:fm()}return Fi()}function Sx(){mr===0&&(mr=(Ke&536870912)===0||rt?Xl():536870912);var r=dr.current;return r!==null&&(r.flags|=32),mr}function Zn(r,a,l){(r===gt&&(ot===2||ot===9)||r.cancelPendingCommit!==null)&&(ul(r,0),ua(r,Ke,mr,!1)),ui(r,l),((lt&2)===0||r!==gt)&&(r===gt&&((lt&2)===0&&(us|=l),At===4&&ua(r,Ke,mr,!1)),Yr(r))}function Ax(r,a,l){if((lt&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&r.expiredLanes)===0||Dn(r,a),p=c?UE(r,a):lm(r,a,!0),y=c;do{if(p===0){al&&!c&&ua(r,a,0,!1);break}else{if(l=r.current.alternate,y&&!LE(l)){p=lm(r,a,!1),y=!1;continue}if(p===2){if(y=a,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var R=r;p=Uo;var H=R.current.memoizedState.isDehydrated;if(H&&(ul(R,T).flags|=256),T=lm(R,T,!1),T!==2){if(Jd&&!H){R.errorRecoveryDisabledLanes|=y,us|=y,p=4;break e}y=On,On=p,y!==null&&(On===null?On=y:On.push.apply(On,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){ul(r,0),ua(r,a,0,!0);break}e:{switch(c=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ua(c,a,mr,!aa);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=tm+300-tn(),10<p)){if(ua(c,a,mr,!aa),It(c,0,!0)!==0)break e;c.timeoutHandle=t1(Nx.bind(null,c,l,On,nf,em,a,mr,us,sl,aa,y,2,-0,0),p);break e}Nx(c,l,On,nf,em,a,mr,us,sl,aa,y,0,-0,0)}}break}while(!0);Yr(r)}function Nx(r,a,l,c,p,y,T,R,H,J,oe,fe,ee,te){if(r.timeoutHandle=-1,fe=a.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Yo={stylesheets:null,count:0,unsuspend:bT},vx(a),fe=_T(),fe!==null)){r.cancelPendingCommit=fe(Mx.bind(null,r,a,y,l,c,p,T,R,H,oe,1,ee,te)),ua(r,y,T,!J);return}Mx(r,a,y,l,c,p,T,R,H)}function LE(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!$n(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ua(r,a,l,c){a&=~Wd,a&=~us,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var p=a;0<p;){var y=31-Ne(p),T=1<<y;c[y]=-1,p&=~T}l!==0&&Ir(r,l,a)}function rf(){return(lt&6)===0?(qo(0),!1):!0}function am(){if(Fe!==null){if(ot===0)var r=Fe.return;else r=Fe,Ei=rs=null,wd(r),tl=null,Do=0,r=Fe;for(;r!==null;)sx(r.alternate,r),r=r.return;Fe=null}}function ul(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,nT(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),am(),gt=r,Fe=l=vi(r.current,null),Ke=a,ot=0,Xn=null,aa=!1,al=Dn(r,a),Jd=!1,sl=mr=Wd=us=sa=At=0,On=Uo=null,em=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var p=31-Ne(c),y=1<<p;a|=r[p],c&=~y}return ji=a,Sc(),l}function Cx(r,a){Be=null,W.H=Hc,a===Eo||a===Mc?(a=$g(),ot=3):a===qg?(a=$g(),ot=4):ot=a===Gy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Xn=a,Fe===null&&(At=1,Xc(r,ur(a,r.current)))}function kx(){var r=W.H;return W.H=Hc,r===null?Hc:r}function Rx(){var r=W.A;return W.A=VE,r}function sm(){At=4,aa||(Ke&4194048)!==Ke&&dr.current!==null||(al=!0),(sa&134217727)===0&&(us&134217727)===0||gt===null||ua(gt,Ke,mr,!1)}function lm(r,a,l){var c=lt;lt|=2;var p=kx(),y=Rx();(gt!==r||Ke!==a)&&(nf=null,ul(r,a)),a=!1;var T=At;e:do try{if(ot!==0&&Fe!==null){var R=Fe,H=Xn;switch(ot){case 8:am(),T=6;break e;case 3:case 2:case 9:case 6:dr.current===null&&(a=!0);var J=ot;if(ot=0,Xn=null,cl(r,R,H,J),l&&al){T=0;break e}break;default:J=ot,ot=0,Xn=null,cl(r,R,H,J)}}zE(),T=At;break}catch(oe){Cx(r,oe)}while(!0);return a&&r.shellSuspendCounter++,Ei=rs=null,lt=c,W.H=p,W.A=y,Fe===null&&(gt=null,Ke=0,Sc()),T}function zE(){for(;Fe!==null;)jx(Fe)}function UE(r,a){var l=lt;lt|=2;var c=kx(),p=Rx();gt!==r||Ke!==a?(nf=null,tf=tn()+500,ul(r,a)):al=Dn(r,a);e:do try{if(ot!==0&&Fe!==null){a=Fe;var y=Xn;t:switch(ot){case 1:ot=0,Xn=null,cl(r,a,y,1);break;case 2:case 9:if(Fg(y)){ot=0,Xn=null,Dx(a);break}a=function(){ot!==2&&ot!==9||gt!==r||(ot=7),Yr(r)},y.then(a,a);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Fg(y)?(ot=0,Xn=null,Dx(a)):(ot=0,Xn=null,cl(r,a,y,7));break;case 5:var T=null;switch(Fe.tag){case 26:T=Fe.memoizedState;case 5:case 27:var R=Fe;if(!T||d1(T)){ot=0,Xn=null;var H=R.sibling;if(H!==null)Fe=H;else{var J=R.return;J!==null?(Fe=J,af(J)):Fe=null}break t}}ot=0,Xn=null,cl(r,a,y,5);break;case 6:ot=0,Xn=null,cl(r,a,y,6);break;case 8:am(),At=6;break e;default:throw Error(i(462))}}BE();break}catch(oe){Cx(r,oe)}while(!0);return Ei=rs=null,W.H=c,W.A=p,lt=l,Fe!==null?0:(gt=null,Ke=0,Sc(),At)}function BE(){for(;Fe!==null&&!Rr();)jx(Fe)}function jx(r){var a=ix(r.alternate,r,ji);r.memoizedProps=r.pendingProps,a===null?af(r):Fe=a}function Dx(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=Jy(l,a,a.pendingProps,a.type,void 0,Ke);break;case 11:a=Jy(l,a,a.pendingProps,a.type.render,a.ref,Ke);break;case 5:wd(a);default:sx(l,a),a=Fe=Ig(a,ji),a=ix(l,a,ji)}r.memoizedProps=r.pendingProps,a===null?af(r):Fe=a}function cl(r,a,l,c){Ei=rs=null,wd(a),tl=null,Do=0;var p=a.return;try{if(RE(r,p,a,l,Ke)){At=1,Xc(r,ur(l,r.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;At=1,Xc(r,ur(l,r.current)),Fe=null;return}a.flags&32768?(rt||c===1?r=!0:al||(Ke&536870912)!==0?r=!1:(aa=r=!0,(c===2||c===9||c===3||c===6)&&(c=dr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ix(a,r)):af(a)}function af(r){var a=r;do{if((a.flags&32768)!==0){Ix(a,aa);return}r=a.return;var l=DE(a.alternate,a,ji);if(l!==null){Fe=l;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=r}while(a!==null);At===0&&(At=5)}function Ix(r,a){do{var l=IE(r.alternate,r);if(l!==null){l.flags&=32767,Fe=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Fe=r;return}Fe=r=l}while(r!==null);At=6,Fe=null}function Mx(r,a,l,c,p,y,T,R,H){r.cancelPendingCommit=null;do sf();while(on!==0);if((lt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Zh,Zl(r,l,y,T,R,H),r===gt&&(Fe=gt=null,Ke=0),ll=a,oa=r,ol=l,nm=y,rm=p,Tx=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,$E(_r,function(){return zx(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,p=de.p,de.p=2,T=lt,lt|=4;try{ME(r,a,l)}finally{lt=T,de.p=p,W.T=c}}on=1,Ox(),Vx(),Px()}}function Ox(){if(on===1){on=0;var r=oa,a=ll,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var c=de.p;de.p=2;var p=lt;lt|=4;try{yx(a,r);var y=bm,T=Eg(r.containerInfo),R=y.focusedElem,H=y.selectionRange;if(T!==R&&R&&R.ownerDocument&&wg(R.ownerDocument.documentElement,R)){if(H!==null&&Gh(R)){var J=H.start,oe=H.end;if(oe===void 0&&(oe=J),"selectionStart"in R)R.selectionStart=J,R.selectionEnd=Math.min(oe,R.value.length);else{var fe=R.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Ve=R.textContent.length,De=Math.min(H.start,Ve),ht=H.end===void 0?De:Math.min(H.end,Ve);!te.extend&&De>ht&&(T=ht,ht=De,De=T);var Y=_g(R,De),G=_g(R,ht);if(Y&&G&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==G.node||te.focusOffset!==G.offset)){var K=fe.createRange();K.setStart(Y.node,Y.offset),te.removeAllRanges(),De>ht?(te.addRange(K),te.extend(G.node,G.offset)):(K.setEnd(G.node,G.offset),te.addRange(K))}}}}for(fe=[],te=R;te=te.parentNode;)te.nodeType===1&&fe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<fe.length;R++){var ce=fe[R];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}xf=!!xm,bm=xm=null}finally{lt=p,de.p=c,W.T=l}}r.current=a,on=2}}function Vx(){if(on===2){on=0;var r=oa,a=ll,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var c=de.p;de.p=2;var p=lt;lt|=4;try{dx(r,a.alternate,a)}finally{lt=p,de.p=c,W.T=l}}on=3}}function Px(){if(on===4||on===3){on=0,si();var r=oa,a=ll,l=ol,c=Tx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?on=5:(on=0,ll=oa=null,Lx(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(la=null),Ns(l),a=a.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot($,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=W.T,p=de.p,de.p=2,W.T=null;try{for(var y=r.onRecoverableError,T=0;T<c.length;T++){var R=c[T];y(R.value,{componentStack:R.stack})}}finally{W.T=a,de.p=p}}(ol&3)!==0&&sf(),Yr(r),p=r.pendingLanes,(l&4194090)!==0&&(p&42)!==0?r===im?Bo++:(Bo=0,im=r):Bo=0,qo(0)}}function Lx(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,_o(a)))}function sf(r){return Ox(),Vx(),Px(),zx()}function zx(){if(on!==5)return!1;var r=oa,a=nm;nm=0;var l=Ns(ol),c=W.T,p=de.p;try{de.p=32>l?32:l,W.T=null,l=rm,rm=null;var y=oa,T=ol;if(on=0,ll=oa=null,ol=0,(lt&6)!==0)throw Error(i(331));var R=lt;if(lt|=4,wx(y.current),bx(y,y.current,T,l),lt=R,qo(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot($,y)}catch{}return!0}finally{de.p=p,W.T=c,Lx(r,a)}}function Ux(r,a,l){a=ur(l,a),a=Vd(r.stateNode,a,2),r=Ji(r,a,2),r!==null&&(ui(r,2),Yr(r))}function mt(r,a,l){if(r.tag===3)Ux(r,r,l);else for(;a!==null;){if(a.tag===3){Ux(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(la===null||!la.has(c))){r=ur(l,r),l=Hy(2),c=Ji(a,l,2),c!==null&&($y(l,c,a,r),ui(c,2),Yr(c));break}}a=a.return}}function om(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new PE;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(Jd=!0,p.add(l),r=qE.bind(null,r,a,l),a.then(r,r))}function qE(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,gt===r&&(Ke&l)===l&&(At===4||At===3&&(Ke&62914560)===Ke&&300>tn()-tm?(lt&2)===0&&ul(r,0):Wd|=l,sl===Ke&&(sl=0)),Yr(r)}function Bx(r,a){a===0&&(a=Kl()),r=$s(r,a),r!==null&&(ui(r,a),Yr(r))}function FE(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),Bx(r,l)}function HE(r,a){var l=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Bx(r,l)}function $E(r,a){return Bn(r,a)}var lf=null,fl=null,um=!1,of=!1,cm=!1,cs=0;function Yr(r){r!==fl&&r.next===null&&(fl===null?lf=fl=r:fl=fl.next=r),of=!0,um||(um=!0,QE())}function qo(r,a){if(!cm&&of){cm=!0;do for(var l=!1,c=lf;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var T=c.suspendedLanes,R=c.pingedLanes;y=(1<<31-Ne(42|r)+1)-1,y&=p&~(T&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,$x(c,y))}else y=Ke,y=It(c,c===gt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Dn(c,y)||(l=!0,$x(c,y));c=c.next}while(l);cm=!1}}function GE(){qx()}function qx(){of=um=!1;var r=0;cs!==0&&(tT()&&(r=cs),cs=0);for(var a=tn(),l=null,c=lf;c!==null;){var p=c.next,y=Fx(c,a);y===0?(c.next=null,l===null?lf=p:l.next=p,p===null&&(fl=l)):(l=c,(r!==0||(y&3)!==0)&&(of=!0)),c=p}qo(r)}function Fx(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-Ne(y),R=1<<T,H=p[T];H===-1?((R&l)===0||(R&c)!==0)&&(p[T]=En(R,a)):H<=a&&(r.expiredLanes|=R),y&=~R}if(a=gt,l=Ke,l=It(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===a&&(ot===2||ot===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&vr(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Dn(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&vr(c),Ns(l)){case 2:case 8:l=rr;break;case 32:l=_r;break;case 268435456:l=Dr;break;default:l=_r}return c=Hx.bind(null,r),l=Bn(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&vr(c),r.callbackPriority=2,r.callbackNode=null,2}function Hx(r,a){if(on!==0&&on!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(sf()&&r.callbackNode!==l)return null;var c=Ke;return c=It(r,r===gt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Ax(r,c,a),Fx(r,tn()),r.callbackNode!=null&&r.callbackNode===l?Hx.bind(null,r):null)}function $x(r,a){if(sf())return null;Ax(r,a,!0)}function QE(){rT(function(){(lt&6)!==0?Bn(jr,GE):qx()})}function fm(){return cs===0&&(cs=Xl()),cs}function Gx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Is(""+r)}function Qx(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function YE(r,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var y=Gx((p[Mt]||null).action),T=c.submitter;T&&(a=(a=T[Mt]||null)?Gx(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var R=new Ms("action","action",null,c,p);r.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(cs!==0){var H=T?Qx(p,T):new FormData(p);jd(l,{pending:!0,data:H,method:p.method,action:y},null,H)}}else typeof y=="function"&&(R.preventDefault(),H=T?Qx(p,T):new FormData(p),jd(l,{pending:!0,data:H,method:p.method,action:y},y,H))},currentTarget:p}]})}}for(var hm=0;hm<Kh.length;hm++){var dm=Kh[hm],XE=dm.toLowerCase(),KE=dm[0].toUpperCase()+dm.slice(1);Tr(XE,"on"+KE)}Tr(Ag,"onAnimationEnd"),Tr(Ng,"onAnimationIteration"),Tr(Cg,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(dE,"onTransitionRun"),Tr(mE,"onTransitionStart"),Tr(pE,"onTransitionCancel"),Tr(kg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function Yx(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var T=c.length-1;0<=T;T--){var R=c[T],H=R.instance,J=R.currentTarget;if(R=R.listener,H!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=J;try{y(p)}catch(oe){Yc(oe)}p.currentTarget=null,y=H}else for(T=0;T<c.length;T++){if(R=c[T],H=R.instance,J=R.currentTarget,R=R.listener,H!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=J;try{y(p)}catch(oe){Yc(oe)}p.currentTarget=null,y=H}}}}function He(r,a){var l=a[Wl];l===void 0&&(l=a[Wl]=new Set);var c=r+"__bubble";l.has(c)||(Xx(a,r,2,!1),l.add(c))}function mm(r,a,l){var c=0;a&&(c|=4),Xx(l,r,c,a)}var uf="_reactListening"+Math.random().toString(36).slice(2);function pm(r){if(!r[uf]){r[uf]=!0,eo.forEach(function(l){l!=="selectionchange"&&(ZE.has(l)||mm(l,!1,r),mm(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[uf]||(a[uf]=!0,mm("selectionchange",!1,a))}}function Xx(r,a,l,c){switch(b1(a)){case 2:var p=TT;break;case 8:p=ST;break;default:p=km}l=p.bind(null,a,l,r),p=void 0,!lr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(a,l,{capture:!0,passive:p}):r.addEventListener(a,l,!0):p!==void 0?r.addEventListener(a,l,{passive:p}):r.addEventListener(a,l,!1)}function gm(r,a,l,c,p){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var R=c.stateNode.containerInfo;if(R===p)break;if(T===4)for(T=c.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;R!==null;){if(T=ci(R),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){c=y=T;continue e}R=R.parentNode}}c=c.return}cc(function(){var J=y,oe=sr(l),fe=[];e:{var ee=Rg.get(r);if(ee!==void 0){var te=Ms,Ve=r;switch(r){case"keypress":if(zr(l)===0)break e;case"keydown":case"keyup":te=Us;break;case"focusin":Ve="focus",te=Ps;break;case"focusout":Ve="blur",te=Ps;break;case"beforeblur":case"afterblur":te=Ps;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=xc;break;case Ag:case Ng:case Cg:te=Ls;break;case kg:te=vc;break;case"scroll":case"scrollend":te=fc;break;case"wheel":te=Bs;break;case"copy":case"cut":case"paste":te=zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ho;break;case"toggle":case"beforetoggle":te=wc}var De=(a&4)!==0,ht=!De&&(r==="scroll"||r==="scrollend"),Y=De?ee!==null?ee+"Capture":null:ee;De=[];for(var G=J,K;G!==null;){var ce=G;if(K=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||K===null||Y===null||(ce=Fa(G,Y),ce!=null&&De.push(Ho(G,ce,K))),ht)break;G=G.return}0<De.length&&(ee=new te(ee,Ve,null,l,oe),fe.push({event:ee,listeners:De}))}}if((a&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",ee&&l!==mi&&(Ve=l.relatedTarget||l.fromElement)&&(ci(Ve)||Ve[ir]))break e;if((te||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Ve=l.relatedTarget||l.toElement,te=J,Ve=Ve?ci(Ve):null,Ve!==null&&(ht=o(Ve),De=Ve.tag,Ve!==ht||De!==5&&De!==27&&De!==6)&&(Ve=null)):(te=null,Ve=J),te!==Ve)){if(De=or,ce="onMouseLeave",Y="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(De=ho,ce="onPointerLeave",Y="onPointerEnter",G="pointer"),ht=te==null?ee:Or(te),K=Ve==null?ee:Or(Ve),ee=new De(ce,G+"leave",te,l,oe),ee.target=ht,ee.relatedTarget=K,ce=null,ci(oe)===J&&(De=new De(Y,G+"enter",Ve,l,oe),De.target=K,De.relatedTarget=ht,ce=De),ht=ce,te&&Ve)t:{for(De=te,Y=Ve,G=0,K=De;K;K=hl(K))G++;for(K=0,ce=Y;ce;ce=hl(ce))K++;for(;0<G-K;)De=hl(De),G--;for(;0<K-G;)Y=hl(Y),K--;for(;G--;){if(De===Y||Y!==null&&De===Y.alternate)break t;De=hl(De),Y=hl(Y)}De=null}else De=null;te!==null&&Kx(fe,ee,te,De,!1),Ve!==null&&ht!==null&&Kx(fe,ht,Ve,De,!0)}}e:{if(ee=J?Or(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Se=pg;else if(Ht(ee))if(gg)Se=cE;else{Se=oE;var qe=lE}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&ao(J.elementType)&&(Se=pg):Se=uE;if(Se&&(Se=Se(r,J))){bi(fe,Se,l,oe);break e}qe&&qe(r,ee,J),r==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Qi(ee,"number",ee.value)}switch(qe=J?Or(J):window,r){case"focusin":(Ht(qe)||qe.contentEditable==="true")&&(qs=qe,Qh=J,go=null);break;case"focusout":go=Qh=qs=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Tg(fe,l,oe);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":Tg(fe,l,oe)}var Ae;if(qr)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ye?ne(r,l)&&(Me="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Me="onCompositionStart");Me&&(E&&l.locale!=="ko"&&(Ye||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ye&&(Ae=lo()):(Lr=oe,Yi="value"in Lr?Lr.value:Lr.textContent,Ye=!0)),qe=cf(J,Me),0<qe.length&&(Me=new co(Me,r,null,l,oe),fe.push({event:Me,listeners:qe}),Ae?Me.data=Ae:(Ae=xe(l),Ae!==null&&(Me.data=Ae)))),(Ae=v?Ft(r,l):Xe(r,l))&&(Me=cf(J,"onBeforeInput"),0<Me.length&&(qe=new co("onBeforeInput","beforeinput",null,l,oe),fe.push({event:qe,listeners:Me}),qe.data=Ae)),YE(fe,r,J,l,oe)}Yx(fe,a)})}function Ho(r,a,l){return{instance:r,listener:a,currentTarget:l}}function cf(r,a){for(var l=a+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Fa(r,l),p!=null&&c.unshift(Ho(r,p,y)),p=Fa(r,a),p!=null&&c.push(Ho(r,p,y))),r.tag===3)return c;r=r.return}return[]}function hl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Kx(r,a,l,c,p){for(var y=a._reactName,T=[];l!==null&&l!==c;){var R=l,H=R.alternate,J=R.stateNode;if(R=R.tag,H!==null&&H===c)break;R!==5&&R!==26&&R!==27||J===null||(H=J,p?(J=Fa(l,y),J!=null&&T.unshift(Ho(l,J,H))):p||(J=Fa(l,y),J!=null&&T.push(Ho(l,J,H)))),l=l.return}T.length!==0&&r.push({event:a,listeners:T})}var JE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function Zx(r){return(typeof r=="string"?r:""+r).replace(JE,`
`).replace(WE,"")}function Jx(r,a){return a=Zx(a),Zx(r)===a}function ff(){}function ft(r,a,l,c,p,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||ar(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&ar(r,""+c);break;case"className":Vr(r,"class",c);break;case"tabIndex":Vr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(r,l,c);break;case"style":io(r,c,y);break;case"data":if(a!=="object"){Vr(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Is(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ft(r,a,"name",p.name,p,null),ft(r,a,"formEncType",p.formEncType,p,null),ft(r,a,"formMethod",p.formMethod,p,null),ft(r,a,"formTarget",p.formTarget,p,null)):(ft(r,a,"encType",p.encType,p,null),ft(r,a,"method",p.method,p,null),ft(r,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Is(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=ff);break;case"onScroll":c!=null&&He("scroll",r);break;case"onScrollEnd":c!=null&&He("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Is(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":He("beforetoggle",r),He("toggle",r),Gi(r,"popover",c);break;case"xlinkActuate":an(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":an(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":an(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":an(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":an(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":an(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":an(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":an(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":an(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Gi(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Uh.get(l)||l,Gi(r,l,c))}}function ym(r,a,l,c,p,y){switch(l){case"style":io(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?ar(r,c):(typeof c=="number"||typeof c=="bigint")&&ar(r,""+c);break;case"onScroll":c!=null&&He("scroll",r);break;case"onScrollEnd":c!=null&&He("scrollend",r);break;case"onClick":c!=null&&(r.onclick=ff);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=r[Mt]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Gi(r,l,c)}}}function un(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",r),He("load",r);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ft(r,a,y,T,l,null)}}p&&ft(r,a,"srcSet",l.srcSet,l,null),c&&ft(r,a,"src",l.src,l,null);return;case"input":He("invalid",r);var R=y=T=p=null,H=null,J=null;for(c in l)if(l.hasOwnProperty(c)){var oe=l[c];if(oe!=null)switch(c){case"name":p=oe;break;case"type":T=oe;break;case"checked":H=oe;break;case"defaultChecked":J=oe;break;case"value":y=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,a));break;default:ft(r,a,c,oe,l,null)}}Ua(r,y,R,H,J,T,p,!1),Ds(r);return;case"select":He("invalid",r),c=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(R=l[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":T=R;break;case"multiple":c=R;default:ft(r,a,p,R,l,null)}a=y,l=T,r.multiple=!!c,a!=null?di(r,!!c,a,!1):l!=null&&di(r,!!c,l,!0);return;case"textarea":He("invalid",r),y=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(R=l[T],R!=null))switch(T){case"value":c=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ft(r,a,T,R,l,null)}Ba(r,c,p,y),Ds(r);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(c=l[H],c!=null))switch(H){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ft(r,a,H,c,l,null)}return;case"dialog":He("beforetoggle",r),He("toggle",r),He("cancel",r),He("close",r);break;case"iframe":case"object":He("load",r);break;case"video":case"audio":for(c=0;c<Fo.length;c++)He(Fo[c],r);break;case"image":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"embed":case"source":case"link":He("error",r),He("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(c=l[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ft(r,a,J,c,l,null)}return;default:if(ao(a)){for(oe in l)l.hasOwnProperty(oe)&&(c=l[oe],c!==void 0&&ym(r,a,oe,c,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(c=l[R],c!=null&&ft(r,a,R,c,l,null))}function eT(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,R=null,H=null,J=null,oe=null;for(te in l){var fe=l[te];if(l.hasOwnProperty(te)&&fe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":H=fe;default:c.hasOwnProperty(te)||ft(r,a,te,null,c,fe)}}for(var ee in c){var te=c[ee];if(fe=l[ee],c.hasOwnProperty(ee)&&(te!=null||fe!=null))switch(ee){case"type":y=te;break;case"name":p=te;break;case"checked":J=te;break;case"defaultChecked":oe=te;break;case"value":T=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==fe&&ft(r,a,ee,te,c,fe)}}Hn(r,T,R,H,J,oe,y,p);return;case"select":te=T=R=ee=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":te=H;default:c.hasOwnProperty(y)||ft(r,a,y,null,c,H)}for(p in c)if(y=c[p],H=l[p],c.hasOwnProperty(p)&&(y!=null||H!=null))switch(p){case"value":ee=y;break;case"defaultValue":R=y;break;case"multiple":T=y;default:y!==H&&ft(r,a,p,y,c,H)}a=R,l=T,c=te,ee!=null?di(r,!!l,ee,!1):!!c!=!!l&&(a!=null?di(r,!!l,a,!0):di(r,!!l,l?[]:"",!1));return;case"textarea":te=ee=null;for(R in l)if(p=l[R],l.hasOwnProperty(R)&&p!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ft(r,a,R,null,c,p)}for(T in c)if(p=c[T],y=l[T],c.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":ee=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ft(r,a,T,p,c,y)}ut(r,ee,te);return;case"option":for(var Ve in l)if(ee=l[Ve],l.hasOwnProperty(Ve)&&ee!=null&&!c.hasOwnProperty(Ve))switch(Ve){case"selected":r.selected=!1;break;default:ft(r,a,Ve,null,c,ee)}for(H in c)if(ee=c[H],te=l[H],c.hasOwnProperty(H)&&ee!==te&&(ee!=null||te!=null))switch(H){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:ft(r,a,H,ee,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in l)ee=l[De],l.hasOwnProperty(De)&&ee!=null&&!c.hasOwnProperty(De)&&ft(r,a,De,null,c,ee);for(J in c)if(ee=c[J],te=l[J],c.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:ft(r,a,J,ee,c,te)}return;default:if(ao(a)){for(var ht in l)ee=l[ht],l.hasOwnProperty(ht)&&ee!==void 0&&!c.hasOwnProperty(ht)&&ym(r,a,ht,void 0,c,ee);for(oe in c)ee=c[oe],te=l[oe],!c.hasOwnProperty(oe)||ee===te||ee===void 0&&te===void 0||ym(r,a,oe,ee,c,te);return}}for(var Y in l)ee=l[Y],l.hasOwnProperty(Y)&&ee!=null&&!c.hasOwnProperty(Y)&&ft(r,a,Y,null,c,ee);for(fe in c)ee=c[fe],te=l[fe],!c.hasOwnProperty(fe)||ee===te||ee==null&&te==null||ft(r,a,fe,ee,c,te)}var xm=null,bm=null;function hf(r){return r.nodeType===9?r:r.ownerDocument}function Wx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function vm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _m=null;function tT(){var r=window.event;return r&&r.type==="popstate"?r===_m?!1:(_m=r,!0):(_m=null,!1)}var t1=typeof setTimeout=="function"?setTimeout:void 0,nT=typeof clearTimeout=="function"?clearTimeout:void 0,n1=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof n1<"u"?function(r){return n1.resolve(null).then(r).catch(iT)}:t1;function iT(r){setTimeout(function(){throw r})}function ca(r){return r==="head"}function r1(r,a){var l=a,c=0,p=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=r.ownerDocument;if(l&1&&$o(T.documentElement),l&2&&$o(T.body),l&4)for(l=T.head,$o(l),T=l.firstChild;T;){var R=T.nextSibling,H=T.nodeName;T[Va]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=R}}if(p===0){r.removeChild(y),Wo(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Wo(a)}function wm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":wm(l),$i(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function aT(r,a,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Va])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Ar(r.nextSibling),r===null)break}return null}function sT(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Ar(r.nextSibling),r===null))return null;return r}function Em(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function lT(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Ar(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Tm=null;function i1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function a1(r,a,l){switch(a=hf(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function $o(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);$i(r)}var pr=new Map,s1=new Set;function df(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Di=de.d;de.d={f:oT,r:uT,D:cT,C:fT,L:hT,m:dT,X:pT,S:mT,M:gT};function oT(){var r=Di.f(),a=rf();return r||a}function uT(r){var a=Mr(r);a!==null&&a.tag===5&&a.type==="form"?Ay(a):Di.r(r)}var dl=typeof document>"u"?null:document;function l1(r,a,l){var c=dl;if(c&&typeof a=="string"&&a){var p=Ot(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),s1.has(p)||(s1.add(p),r={rel:r,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),un(a,"link",r),kt(a),c.head.appendChild(a)))}}function cT(r){Di.D(r),l1("dns-prefetch",r,null)}function fT(r,a){Di.C(r,a),l1("preconnect",r,a)}function hT(r,a,l){Di.L(r,a,l);var c=dl;if(c&&r&&a){var p='link[rel="preload"][as="'+Ot(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ot(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ot(l.imageSizes)+'"]')):p+='[href="'+Ot(r)+'"]';var y=p;switch(a){case"style":y=ml(r);break;case"script":y=pl(r)}pr.has(y)||(r=x({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),pr.set(y,r),c.querySelector(p)!==null||a==="style"&&c.querySelector(Go(y))||a==="script"&&c.querySelector(Qo(y))||(a=c.createElement("link"),un(a,"link",r),kt(a),c.head.appendChild(a)))}}function dT(r,a){Di.m(r,a);var l=dl;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Ot(c)+'"][href="'+Ot(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=pl(r)}if(!pr.has(y)&&(r=x({rel:"modulepreload",href:r},a),pr.set(y,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Qo(y)))return}c=l.createElement("link"),un(c,"link",r),kt(c),l.head.appendChild(c)}}}function mT(r,a,l){Di.S(r,a,l);var c=dl;if(c&&r){var p=Tn(c).hoistableStyles,y=ml(r);a=a||"default";var T=p.get(y);if(!T){var R={loading:0,preload:null};if(T=c.querySelector(Go(y)))R.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":a},l),(l=pr.get(y))&&Sm(r,l);var H=T=c.createElement("link");kt(H),un(H,"link",r),H._p=new Promise(function(J,oe){H.onload=J,H.onerror=oe}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,mf(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:R},p.set(y,T)}}}function pT(r,a){Di.X(r,a);var l=dl;if(l&&r){var c=Tn(l).hoistableScripts,p=pl(r),y=c.get(p);y||(y=l.querySelector(Qo(p)),y||(r=x({src:r,async:!0},a),(a=pr.get(p))&&Am(r,a),y=l.createElement("script"),kt(y),un(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function gT(r,a){Di.M(r,a);var l=dl;if(l&&r){var c=Tn(l).hoistableScripts,p=pl(r),y=c.get(p);y||(y=l.querySelector(Qo(p)),y||(r=x({src:r,async:!0,type:"module"},a),(a=pr.get(p))&&Am(r,a),y=l.createElement("script"),kt(y),un(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function o1(r,a,l,c){var p=(p=ie.current)?df(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ml(l.href),l=Tn(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=ml(l.href);var y=Tn(p).hoistableStyles,T=y.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=p.querySelector(Go(r)))&&!y._p&&(T.instance=y,T.state.loading=5),pr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pr.set(r,l),y||yT(p,r,l,T.state))),a&&c===null)throw Error(i(528,""));return T}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=pl(l),l=Tn(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ml(r){return'href="'+Ot(r)+'"'}function Go(r){return'link[rel="stylesheet"]['+r+"]"}function u1(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function yT(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),un(a,"link",l),kt(a),r.head.appendChild(a))}function pl(r){return'[src="'+Ot(r)+'"]'}function Qo(r){return"script[async]"+r}function c1(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+Ot(l.href)+'"]');if(c)return a.instance=c,kt(c),c;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),kt(c),un(c,"style",p),mf(c,l.precedence,r),a.instance=c;case"stylesheet":p=ml(l.href);var y=r.querySelector(Go(p));if(y)return a.state.loading|=4,a.instance=y,kt(y),y;c=u1(l),(p=pr.get(p))&&Sm(c,p),y=(r.ownerDocument||r).createElement("link"),kt(y);var T=y;return T._p=new Promise(function(R,H){T.onload=R,T.onerror=H}),un(y,"link",c),a.state.loading|=4,mf(y,l.precedence,r),a.instance=y;case"script":return y=pl(l.src),(p=r.querySelector(Qo(y)))?(a.instance=p,kt(p),p):(c=l,(p=pr.get(y))&&(c=x({},l),Am(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),kt(p),un(p,"link",c),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,mf(c,l.precedence,r));return a.instance}function mf(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,T=0;T<c.length;T++){var R=c[T];if(R.dataset.precedence===a)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function Sm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Am(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var pf=null;function f1(r,a,l){if(pf===null){var c=new Map,p=pf=new Map;p.set(l,c)}else p=pf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[Va]||y[qt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=r+T;var R=c.get(T);R?R.push(y):c.set(T,[y])}}return c}function h1(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function xT(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function d1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Yo=null;function bT(){}function vT(r,a,l){if(Yo===null)throw Error(i(475));var c=Yo;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=ml(l.href),y=r.querySelector(Go(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=gf.bind(c),r.then(c,c)),a.state.loading|=4,a.instance=y,kt(y);return}y=r.ownerDocument||r,l=u1(l),(p=pr.get(p))&&Sm(l,p),y=y.createElement("link"),kt(y);var T=y;T._p=new Promise(function(R,H){T.onload=R,T.onerror=H}),un(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=gf.bind(c),r.addEventListener("load",a),r.addEventListener("error",a))}}function _T(){if(Yo===null)throw Error(i(475));var r=Yo;return r.stylesheets&&r.count===0&&Nm(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&Nm(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function gf(){if(this.count--,this.count===0){if(this.stylesheets)Nm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yf=null;function Nm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yf=new Map,a.forEach(wT,r),yf=null,gf.call(r))}function wT(r,a){if(!(a.state.loading&4)){var l=yf.get(r);if(l)var c=l.get(null);else{l=new Map,yf.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=a.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,p),l.set(T,p),this.count++,c=gf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var Xo={$$typeof:L,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function ET(r,a,l,c,p,y,T,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function m1(r,a,l,c,p,y,T,R,H,J,oe,fe){return r=new ET(r,a,l,T,R,H,J,fe),a=1,y===!0&&(a|=24),y=Gn(3,null,null,a),r.current=y,y.stateNode=r,a=od(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},hd(y),r}function p1(r){return r?(r=Gs,r):Gs}function g1(r,a,l,c,p,y){p=p1(p),c.context===null?c.context=p:c.pendingContext=p,c=Zi(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Ji(r,c,a),l!==null&&(Zn(l,r,a),So(l,r,a))}function y1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Cm(r,a){y1(r,a),(r=r.alternate)&&y1(r,a)}function x1(r){if(r.tag===13){var a=$s(r,67108864);a!==null&&Zn(a,r,67108864),Cm(r,67108864)}}var xf=!0;function TT(r,a,l,c){var p=W.T;W.T=null;var y=de.p;try{de.p=2,km(r,a,l,c)}finally{de.p=y,W.T=p}}function ST(r,a,l,c){var p=W.T;W.T=null;var y=de.p;try{de.p=8,km(r,a,l,c)}finally{de.p=y,W.T=p}}function km(r,a,l,c){if(xf){var p=Rm(c);if(p===null)gm(r,a,c,bf,l),v1(r,c);else if(NT(p,r,a,l,c))c.stopPropagation();else if(v1(r,c),a&4&&-1<AT.indexOf(r)){for(;p!==null;){var y=Mr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=rn(y.pendingLanes);if(T!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var H=1<<31-Ne(T);R.entanglements[1]|=H,T&=~H}Yr(y),(lt&6)===0&&(tf=tn()+500,qo(0))}}break;case 13:R=$s(y,2),R!==null&&Zn(R,y,2),rf(),Cm(y,2)}if(y=Rm(c),y===null&&gm(r,a,c,bf,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else gm(r,a,c,null,l)}}function Rm(r){return r=sr(r),jm(r)}var bf=null;function jm(r){if(bf=null,r=ci(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return bf=r,null}function b1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ma()){case jr:return 2;case rr:return 8;case _r:case Oa:return 32;case Dr:return 268435456;default:return 32}default:return 32}}var Dm=!1,fa=null,ha=null,da=null,Ko=new Map,Zo=new Map,ma=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v1(r,a){switch(r){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Ko.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(a.pointerId)}}function Jo(r,a,l,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Mr(a),a!==null&&x1(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function NT(r,a,l,c,p){switch(a){case"focusin":return fa=Jo(fa,r,a,l,c,p),!0;case"dragenter":return ha=Jo(ha,r,a,l,c,p),!0;case"mouseover":return da=Jo(da,r,a,l,c,p),!0;case"pointerover":var y=p.pointerId;return Ko.set(y,Jo(Ko.get(y)||null,r,a,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,Zo.set(y,Jo(Zo.get(y)||null,r,a,l,c,p)),!0}return!1}function _1(r){var a=ci(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,rc(r.priority,function(){if(l.tag===13){var c=Kn();c=qi(c);var p=$s(l,c);p!==null&&Zn(p,l,c),Cm(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=Rm(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);mi=c,l.target.dispatchEvent(c),mi=null}else return a=Mr(l),a!==null&&x1(a),r.blockedOn=l,!1;a.shift()}return!0}function w1(r,a,l){vf(r)&&l.delete(a)}function CT(){Dm=!1,fa!==null&&vf(fa)&&(fa=null),ha!==null&&vf(ha)&&(ha=null),da!==null&&vf(da)&&(da=null),Ko.forEach(w1),Zo.forEach(w1)}function _f(r,a){r.blockedOn===a&&(r.blockedOn=null,Dm||(Dm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CT)))}var wf=null;function E1(r){wf!==r&&(wf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wf===r&&(wf=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],p=r[a+2];if(typeof c!="function"){if(jm(c||l)===null)continue;break}var y=Mr(l);y!==null&&(r.splice(a,3),a-=3,jd(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Wo(r){function a(H){return _f(H,r)}fa!==null&&_f(fa,r),ha!==null&&_f(ha,r),da!==null&&_f(da,r),Ko.forEach(a),Zo.forEach(a);for(var l=0;l<ma.length;l++){var c=ma[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ma.length&&(l=ma[0],l.blockedOn===null);)_1(l),l.blockedOn===null&&ma.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],T=p[Mt]||null;if(typeof y=="function")T||E1(l);else if(T){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Mt]||null)R=T.formAction;else if(jm(p)!==null)continue}else R=T.action;typeof R=="function"?l[c+1]=R:(l.splice(c,3),c-=3),E1(l)}}}function Im(r){this._internalRoot=r}Ef.prototype.render=Im.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Kn();g1(l,c,r,a,null,null)},Ef.prototype.unmount=Im.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;g1(r.current,2,null,r,null,null),rf(),a[ir]=null}};function Ef(r){this._internalRoot=r}Ef.prototype.unstable_scheduleHydration=function(r){if(r){var a=Fi();r={blockedOn:null,target:r,priority:a};for(var l=0;l<ma.length&&a!==0&&a<ma[l].priority;l++);ma.splice(l,0,r),l===0&&_1(r)}};var T1=e.version;if(T1!=="19.1.1")throw Error(i(527,T1,"19.1.1"));de.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var kT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{$=Tf.inject(kT),re=Tf}catch{}}return tu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",p=Uy,y=By,T=qy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=m1(r,1,!1,null,null,l,c,p,y,T,R,null),r[ir]=a.current,pm(r),new Im(a)},tu.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,p="",y=Uy,T=By,R=qy,H=null,J=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(J=l.formState)),a=m1(r,1,!0,a,l??null,c,p,y,T,R,H,J),a.context=p1(null),l=a.current,c=Kn(),c=qi(c),p=Zi(c),p.callback=null,Ji(l,p,c),l=c,a.current.lanes=l,ui(a,l),Yr(a),r[ir]=a.current,pm(r),new Ef(a)},tu.version="19.1.1",tu}var M1;function zT(){if(M1)return Vm.exports;M1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vm.exports=LT(),Vm.exports}var UT=zT();const BT=uh(UT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),O1=t=>{const e=FT(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fv=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),HT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=le.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:u,...h},d)=>le.createElement("svg",{ref:d,...$T,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Fv("lucide",s),...!o&&!HT(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,x])=>le.createElement(g,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=le.forwardRef(({className:i,...s},o)=>le.createElement(GT,{ref:o,iconNode:e,className:Fv(`lucide-${qT(O1(t))}`,`lucide-${t}`,i),...s}));return n.displayName=O1(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],YT=Re("award",QT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qf=Re("bell",XT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],ZT=Re("bold",KT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Hv=Re("book-open",JT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],e4=Re("calculator",WT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_u=Re("calendar",t4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],r0=Re("chart-column",n4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$v=Re("check",r4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gv=Re("chevron-down",i4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],s4=Re("chevron-right",a4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Qv=Re("chevron-up",l4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],u4=Re("circle-alert",o4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yv=Re("circle-check-big",c4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],V1=Re("circle-check",f4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d4=Re("circle",h4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bu=Re("clock",m4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],g4=Re("cloud-off",p4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],x4=Re("cloud",y4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],v4=Re("code",b4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Zr=Re("crown",_4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xs=Re("eye-off",w4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kl=Re("eye",E4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wu=Re("file-text",T4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Xv=Re("flask-conical",S4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],i0=Re("globe",A4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],pp=Re("graduation-cap",N4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],k4=Re("hash",C4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],j4=Re("italic",R4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Um=Re("key",D4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],M4=Re("link",I4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xr=Re("loader-circle",O4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],P4=Re("list",V4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ln=Re("lock",L4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],ou=Re("megaphone",z4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pl=Re("pen-line",U4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ii=Re("plus",B4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],F4=Re("quote",q4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Es=Re("save",H4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],a0=Re("search",$4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ll=Re("settings",G4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Eu=Re("shield",Q4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],s0=Re("square-check-big",Y4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Tu=Re("star",X4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],Mf=Re("sticky-note",K4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],J4=Re("target",Z4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Kv=Re("toggle-left",W4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Zv=Re("toggle-right",eS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Oi=Re("trash-2",tS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bm=Re("triangle-alert",nS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],iS=Re("trophy",rS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sS=Re("user-check",aS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],oS=Re("user-x",lS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ni=Re("user",uS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vi=Re("users",cS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nr=Re("x",fS),xa={1:{theory:["Mathematics-I","Physics","Programming Fundamentals","English"],practical:["Physics Lab","Programming Lab"]},2:{theory:["Mathematics-II","Chemistry","Data Structures","Digital Logic"],practical:["Chemistry Lab","DS Lab"]},3:{theory:["OOP","Discrete Math","Computer Architecture","Statistics"],practical:["OOP Lab","Hardware Lab"]},4:{theory:["DBMS","Operating Systems","Computer Networks","Software Engineering"],practical:["DBMS Lab","Networks Lab"]},5:{theory:["AIA","DAA","DBMS","ES","MLA","MDM","OE-4"],practical:["DAA Lab","DBMS Lab","MLA Lab","ES Lab"]},6:{theory:["CNN","CVPR","DV","K.ENG","MDM","SR"],practical:["CNN Lab","DV Lab","K.ENG Lab","MAD Lab","SR Lab"]},7:{theory:["Deep Learning","Big Data Analytics","Cybersecurity","Project Management"],practical:["ML Lab","Security Lab"]},8:{theory:["Major Project","Technical Seminar","Industry Training"],practical:["Project Implementation"]}},hS=["Assignment","Test","Presentation","Quiz","Certificate","Project","Other"],Je={rollNo:"2405225",name:"Shaikh Mujahid"};function dS({students:t,onStudentSelect:e,isLoading:n,studentManagement:i}){const[s,o]=le.useState(""),[u,h]=le.useState(!1),[d,g]=le.useState(null),[x,b]=le.useState(""),[_,w]=le.useState(!1),[N,O]=le.useState(""),V=le.useMemo(()=>{if(!s.trim())return t;const F=s.toLowerCase();return t.filter(q=>q.name.toLowerCase().includes(F)||q.rollNo.toLowerCase().includes(F))},[t,s]),z=async F=>{F.isProtected?(g(F),h(!0),b(""),O("")):e(F)},U=async F=>{if(F.preventDefault(),!x.trim()){O("Please enter password");return}w(!0),O("");try{await i.authenticateStudent(d,x)?(e(d),h(!1)):(O("Incorrect password. Please try again."),b(""))}catch{O("Authentication failed. Please try again.")}finally{w(!1)}},L=()=>{h(!1),g(null),b(""),O("")},Q=()=>{o("")};return n?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx(pp,{className:"w-16 h-16 mx-auto text-blue-600 mb-4"}),m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx(xr,{className:"w-6 h-6 animate-spin text-blue-600"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loading Academic Tracker..."})]}),m.jsx("p",{className:"text-gray-600",children:"Setting up your student data"})]})}):u&&d?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:m.jsx("div",{className:"max-w-md w-full",children:m.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:`
                w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4
                ${d.rollNo===Je.rollNo?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-blue-500 to-purple-500"}
              `,children:d.rollNo===Je.rollNo?m.jsx(Zr,{className:"w-8 h-8 text-white"}):m.jsx(Ln,{className:"w-8 h-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:d.rollNo===Je.rollNo?"Admin Authentication":"Student Authentication"}),m.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",d.name,"'s account"]})]}),m.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-2xl",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ni,{className:"w-5 h-5 text-gray-600"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:d.name}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",d.rollNo]})]})]})}),m.jsxs("form",{onSubmit:U,className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:m.jsx(Ln,{className:"w-5 h-5 text-gray-400"})}),m.jsx("input",{type:"password",placeholder:"Enter password",value:x,onChange:F=>b(F.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:_,autoFocus:!0})]}),N&&m.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:N}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"submit",disabled:_||!x.trim(),className:`
                    flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed
                    ${d.rollNo===Je.rollNo?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}
                  `,children:_?m.jsxs(m.Fragment,{children:[m.jsx(xr,{className:"w-4 h-4 animate-spin"}),m.jsx("span",{children:"Authenticating..."})]}):m.jsxs(m.Fragment,{children:[d.rollNo===Je.rollNo?m.jsx(Zr,{className:"w-4 h-4"}):m.jsx(Eu,{className:"w-4 h-4"}),m.jsx("span",{children:"Access Account"})]})}),m.jsx("button",{type:"button",onClick:L,disabled:_,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]}),m.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:m.jsxs("p",{className:"text-sm text-blue-700 text-center",children:["This account is password protected for security.",d.rollNo===Je.rollNo&&" Admin accounts have full system privileges."]})})]})})}):m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:m.jsxs("div",{className:"max-w-2xl w-full",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:m.jsx(pp,{className:"w-10 h-10 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Academic Progress Tracker"}),m.jsx("p",{className:"text-gray-600",children:"Select your student profile to continue"})]}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(Vi,{className:"w-6 h-6 text-blue-600"}),m.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Select Student Profile"}),m.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.length," total)"]})]}),m.jsxs("div",{className:"relative mb-6",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:m.jsx(a0,{className:"w-5 h-5 text-gray-400"})}),m.jsx("input",{type:"text",placeholder:"Search by name or roll number...",value:s,onChange:F=>o(F.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s&&m.jsx("button",{onClick:Q,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m.jsx(nr,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),m.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:V.length>0?V.map(F=>m.jsx("button",{onClick:()=>z(F),className:`
                    w-full flex items-center p-4 rounded-2xl border-2 transition-all text-left
                    ${F.rollNo===Je.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300 hover:bg-yellow-100":F.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300 hover:bg-blue-100":"border-gray-200 bg-gray-50 hover:border-blue-300 hover:bg-blue-50"}
                  `,children:m.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[m.jsx("div",{className:`
                      w-12 h-12 rounded-2xl flex items-center justify-center
                      ${F.rollNo===Je.rollNo?"bg-yellow-200":F.isProtected?"bg-blue-200":"bg-gray-200"}
                    `,children:F.rollNo===Je.rollNo?m.jsx(Zr,{className:"w-6 h-6 text-yellow-600"}):F.isProtected?m.jsx(Ln,{className:"w-6 h-6 text-blue-600"}):m.jsx(ni,{className:"w-6 h-6 text-gray-600"})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-bold text-gray-900",children:F.name}),F.rollNo===Je.rollNo&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Zr,{className:"w-4 h-4 text-yellow-600"}),m.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Admin"})]}),F.isProtected&&F.rollNo!==Je.rollNo&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Ln,{className:"w-3 h-3 text-blue-600"}),m.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",F.rollNo]}),F.isProtected&&m.jsx("p",{className:"text-xs text-gray-500",children:"Password required"})]})]})},F.rollNo)):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(Vi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),m.jsxs("p",{children:['No students found matching "',s,'"']})]})}),m.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-2xl border border-gray-200",children:m.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[m.jsx("strong",{children:"Note:"})," Students with ",m.jsx(Ln,{className:"w-3 h-3 inline mx-1"})," require password authentication. Click on any student to access their profile."]})})]})]})})}function mS({semester:t,syncStatus:e,selectedStudent:n,onStudentSwitch:i}){const{isOnline:s,isSyncing:o,lastSynced:u}=e;return m.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:m.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center",children:m.jsx(pp,{className:"w-7 h-7 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Progress Tracker"}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Semester ",t,"  Track your academic journey"]})]})]}),m.jsxs("div",{className:"flex items-center gap-6",children:[n&&m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.name}),n.rollNo==="2405225"&&m.jsx(Zr,{className:"w-4 h-4 text-yellow-500"})]}),m.jsxs("span",{className:"text-xs text-gray-600",children:["Roll: ",n.rollNo]})]}),m.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",title:"Switch Student",children:m.jsx(ni,{className:"w-5 h-5 text-gray-600"})})]}),m.jsxs("div",{className:"flex flex-col items-end gap-1",children:[m.jsx("div",{className:"flex items-center gap-2",children:o?m.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[m.jsx(xr,{className:"w-4 h-4 animate-spin"}),m.jsx("span",{className:"text-sm",children:"Syncing..."})]}):s?m.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[m.jsx(x4,{className:"w-4 h-4"}),m.jsx("span",{className:"text-sm",children:"Online"}),u&&m.jsx(Yv,{className:"w-3 h-3"})]}):m.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[m.jsx(g4,{className:"w-4 h-4"}),m.jsx("span",{className:"text-sm",children:"Offline"})]})}),u&&m.jsxs("div",{className:"text-xs text-gray-500",children:["Last synced: ",u.toLocaleTimeString()]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx(_u,{className:"w-4 h-4"}),m.jsx("span",{children:"Academic Year 2024-25"})]})]})]})})})}const pS=[{id:0,label:"Theory Subjects",icon:Hv},{id:1,label:"Practicals",icon:Xv},{id:2,label:"Notice Board",icon:ou},{id:3,label:"Personal Notes",icon:Mf},{id:4,label:"Student & Settings",icon:Ll}];function gS({activeTab:t,onTabChange:e}){return m.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-10",children:m.jsx("div",{className:"max-w-7xl mx-auto px-6",children:m.jsx("div",{className:"flex space-x-1",children:pS.map(n=>m.jsxs("button",{onClick:()=>e(n.id),className:`
                flex items-center gap-2 px-6 py-4 font-medium transition-all duration-200 border-b-2 relative
                ${t===n.id?"text-blue-600 border-blue-600 bg-blue-50":"text-gray-600 border-transparent hover:text-gray-900 hover:bg-gray-50"}
              `,children:[m.jsx(n.icon,{className:"w-5 h-5"}),m.jsx("span",{children:n.label}),t===n.id&&m.jsx(s4,{className:"w-4 h-4 ml-1"})]},n.id))})})})}function nu({children:t,value:e,index:n,className:i=""}){return m.jsx("div",{className:`transition-all duration-300 ${e!==n?"hidden opacity-0":"opacity-100"}`,style:{display:e!==n?"none":"block"},children:m.jsx("div",{className:`p-6 ${i}`,children:t})})}const yS=le.memo(function({subject:e,onDataChange:n,initialData:i}){const[s,o]=le.useState({ca1:{type:"",date:"",marks:""},ca2:{type:"",date:"",marks:""},ca3:{type:"",date:"",marks:""},ca4:{type:"",date:"",marks:""},midSem:{date:"",marks:""}});le.useEffect(()=>{i&&o(i)},[i]);const u=(b,_,w)=>{if(_==="marks"&&w!==""){const O=parseFloat(w),V=b==="midSem"?20:10;if(O<0||O>V)return}const N={...s,[b]:{...s[b],[_]:w}};o(N),n&&n(e,N)},h=()=>{let _=0;return["ca1","ca2","ca3","ca4"].forEach(w=>{s[w].type&&_++,s[w].date&&_++,s[w].marks&&_++}),s.midSem.date&&_++,s.midSem.marks&&_++,Math.round(_/14*100)},d=()=>{let b=0;["ca1","ca2","ca3","ca4"].forEach(w=>{const N=parseFloat(s[w].marks);isNaN(N)||(b+=N)});const _=parseFloat(s.midSem.marks);return isNaN(_)||(b+=_),b},g=h(),x=d();return m.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[m.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Hv,{className:"w-6 h-6"}),m.jsx("h3",{className:"text-lg font-bold",children:e})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-sm opacity-90",children:[g,"%"]}),m.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${g}%`}})})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[m.jsx(e4,{className:"w-4 h-4"}),m.jsx("span",{children:"Internal Assessment"})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"text-lg font-bold",children:[x,"/60"]}),m.jsx("div",{className:"text-xs opacity-75",children:x>0?`${(x/60*100).toFixed(1)}%`:"0%"})]})]})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[m.jsx(J4,{className:"w-4 h-4"}),"Continuous Assessment (4  10 = 40 marks)"]}),[1,2,3,4].map(b=>m.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3 border border-gray-100 hover:border-blue-200 transition-colors",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"font-medium text-gray-800",children:["CA-",b]}),s[`ca${b}`].marks&&m.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:[s[`ca${b}`].marks,"/10"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[m.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",value:s[`ca${b}`].type,onChange:_=>u(`ca${b}`,"type",_.target.value),children:[m.jsx("option",{value:"",children:"Select Type"}),hS.map(_=>m.jsx("option",{value:_,children:_},_))]}),m.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:s[`ca${b}`].date,onChange:_=>u(`ca${b}`,"date",_.target.value)}),m.jsx("input",{type:"number",min:"0",max:"10",step:"0.5",placeholder:"Marks (0-10)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:s[`ca${b}`].marks,onChange:_=>u(`ca${b}`,"marks",_.target.value),onKeyDown:_=>{(_.key==="-"||_.key==="+")&&_.preventDefault()}})]})]},b))]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[m.jsx(YT,{className:"w-4 h-4"}),"Mid Semester Exam (20 marks)"]}),m.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-4 border border-orange-200",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("span",{className:"font-medium text-gray-800",children:"Mid-Sem Exam"}),s.midSem.marks&&m.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium",children:[s.midSem.marks,"/20"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[m.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:s.midSem.date,onChange:b=>u("midSem","date",b.target.value)}),m.jsx("input",{type:"number",min:"0",max:"20",step:"0.5",placeholder:"Marks (0-20)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:s.midSem.marks,onChange:b=>u("midSem","marks",b.target.value),onKeyDown:b=>{(b.key==="-"||b.key==="+")&&b.preventDefault()}})]})]})]})]})]})});function xS({semester:t,allData:e,handleDataChange:n}){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Theory Subjects"}),m.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",xa[t].theory.length," subjects"]})]}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:xa[t].theory.map(i=>m.jsx(yS,{subject:i,onDataChange:(s,o)=>n(s,o,"theory"),initialData:e[`${t}-${i}`]?.data},`${t}-${i}`))})]})}const bS=le.memo(function({subject:e,onDataChange:n,initialData:i}){const[s,o]=le.useState(new Set);le.useEffect(()=>{i&&Array.isArray(i)&&o(new Set(i))},[i]);const u=d=>{const g=new Set(s);g.has(d)?g.delete(d):g.add(d),o(g),n&&n(e,Array.from(g))},h=s.size/10*100;return m.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[m.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 p-4 text-white",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Xv,{className:"w-6 h-6"}),m.jsx("h3",{className:"text-lg font-bold",children:e}),m.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Practical"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-sm opacity-90",children:[s.size,"/10"]}),m.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${h}%`}})})]})]})}),m.jsxs("div",{className:"p-6",children:[m.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-4 flex items-center gap-2",children:[m.jsx(V1,{className:"w-4 h-4"}),"Lab Experiments (",s.size,"/10 completed)"]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Array.from({length:10},(d,g)=>g+1).map(d=>m.jsx("button",{onClick:()=>u(d),className:`
                flex items-center justify-center p-4 rounded-2xl border-2 transition-all duration-200 font-medium
                ${s.has(d)?"bg-green-100 border-green-500 text-green-700 shadow-md":"bg-gray-50 border-gray-200 text-gray-600 hover:border-green-300 hover:bg-green-50"}
              `,children:m.jsxs("div",{className:"flex items-center gap-2",children:[s.has(d)?m.jsx(V1,{className:"w-4 h-4"}):m.jsx(d4,{className:"w-4 h-4"}),m.jsxs("span",{children:["Lab ",d]})]})},d))}),h===100&&m.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:m.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[m.jsx(iS,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:"All labs completed! Great work! "})]})})]})]})});function vS({semester:t,allData:e,handleDataChange:n}){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practical Subjects"}),m.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",xa[t].practical.length," labs"]})]}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:xa[t].practical.map(i=>m.jsx(bS,{subject:i,onDataChange:(s,o)=>n(s,o,"practical"),initialData:e[`${t}-${i}`]?.data},`${t}-${i}`))})]})}const _S=()=>{};var P1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wS=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],h=t[n++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,h=u?t[s+1]:0,d=s+2<t.length,g=d?t[s+2]:0,x=o>>2,b=(o&3)<<4|h>>4;let _=(h&15)<<2|g>>6,w=g&63;d||(w=64,u||(_=64)),i.push(n[x],n[b],n[_],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const g=s<t.length?n[t.charAt(s)]:64;++s;const b=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||g==null||b==null)throw new ES;const _=o<<2|h>>4;if(i.push(_),g!==64){const w=h<<4&240|g>>2;if(i.push(w),b!==64){const N=g<<6&192|b;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(t){const e=Jv(t);return Wv.encodeByteArray(e,!0)},Ff=function(t){return TS(t).replace(/\./g,"")},SS=function(t){try{return Wv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=()=>AS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof P1>"u")return;const t=P1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SS(t[1]);return e&&JSON.parse(e)},l0=()=>{try{return _S()||NS()||CS()||kS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RS=t=>l0()?.emulatorHosts?.[t],jS=t=>{const e=RS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},e_=()=>l0()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ff(JSON.stringify(n)),Ff(JSON.stringify(u)),""].join(".")}const du={};function OS(){const t={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?t.emulator.push(e):t.prod.push(e);return t}function VS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let L1=!1;function PS(t,e){if(typeof window>"u"||typeof document>"u"||!o0(window.location.host)||du[t]===e||du[t]||L1)return;du[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=OS().prod.length>0;function u(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{L1=!0,u()},_}function x(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=VS(i),w=n("text"),N=document.getElementById(w)||document.createElement("span"),O=n("learnmore"),V=document.getElementById(O)||document.createElement("a"),z=n("preprendIcon"),U=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;h(L),x(V,O);const Q=g();d(U,z),L.append(U,N,V,Q),document.body.appendChild(L)}o?(N.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zS(){const t=l0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="FirebaseError";class zl extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=FS,Object.setPrototypeOf(this,zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t_.prototype.create)}}class t_{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?HS(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new zl(s,h,i)}}function HS(t,e){return t.replace($S,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const $S=/\{\$([^}]+)}/g;function Hf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],u=e[s];if(z1(o)&&z1(u)){if(!Hf(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function z1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){return t&&t._delegate?t._delegate:t}class Su{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new DS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YS(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(t){return t===hs?void 0:t}function YS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const KS={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},ZS=We.INFO,JS={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},WS=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=JS[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n_{constructor(e){this.name=e,this._logLevel=ZS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const eA=(t,e)=>e.some(n=>t instanceof n);let U1,B1;function tA(){return U1||(U1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nA(){return B1||(B1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r_=new WeakMap,gp=new WeakMap,i_=new WeakMap,qm=new WeakMap,u0=new WeakMap;function rA(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(va(t.result)),s()},u=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&r_.set(n,t)}).catch(()=>{}),u0.set(e,t),e}function iA(t){if(gp.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});gp.set(t,e)}let yp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||i_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return va(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aA(t){yp=t(yp)}function sA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Fm(this),e,...n);return i_.set(i,e.sort?e.sort():[e]),va(i)}:nA().includes(t)?function(...e){return t.apply(Fm(this),e),va(r_.get(this))}:function(...e){return va(t.apply(Fm(this),e))}}function lA(t){return typeof t=="function"?sA(t):(t instanceof IDBTransaction&&iA(t),eA(t,tA())?new Proxy(t,yp):t)}function va(t){if(t instanceof IDBRequest)return rA(t);if(qm.has(t))return qm.get(t);const e=lA(t);return e!==t&&(qm.set(t,e),u0.set(e,t)),e}const Fm=t=>u0.get(t);function oA(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),h=va(u);return i&&u.addEventListener("upgradeneeded",d=>{i(va(u.result),d.oldVersion,d.newVersion,va(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const uA=["get","getKey","getAll","getAllKeys","count"],cA=["put","add","delete","clear"],Hm=new Map;function q1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=cA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||uA.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let g=d.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),s&&d.done]))[0]};return Hm.set(e,o),o}aA(t=>({...t,get:(e,n,i)=>q1(e,n)||t.get(e,n,i),has:(e,n)=>!!q1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function hA(t){return t.getComponent()?.type==="VERSION"}const xp="@firebase/app",F1="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new n_("@firebase/app"),dA="@firebase/app-compat",mA="@firebase/analytics-compat",pA="@firebase/analytics",gA="@firebase/app-check-compat",yA="@firebase/app-check",xA="@firebase/auth",bA="@firebase/auth-compat",vA="@firebase/database",_A="@firebase/data-connect",wA="@firebase/database-compat",EA="@firebase/functions",TA="@firebase/functions-compat",SA="@firebase/installations",AA="@firebase/installations-compat",NA="@firebase/messaging",CA="@firebase/messaging-compat",kA="@firebase/performance",RA="@firebase/performance-compat",jA="@firebase/remote-config",DA="@firebase/remote-config-compat",IA="@firebase/storage",MA="@firebase/storage-compat",OA="@firebase/firestore",VA="@firebase/ai",PA="@firebase/firestore-compat",LA="firebase",zA="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="[DEFAULT]",UA={[xp]:"fire-core",[dA]:"fire-core-compat",[pA]:"fire-analytics",[mA]:"fire-analytics-compat",[yA]:"fire-app-check",[gA]:"fire-app-check-compat",[xA]:"fire-auth",[bA]:"fire-auth-compat",[vA]:"fire-rtdb",[_A]:"fire-data-connect",[wA]:"fire-rtdb-compat",[EA]:"fire-fn",[TA]:"fire-fn-compat",[SA]:"fire-iid",[AA]:"fire-iid-compat",[NA]:"fire-fcm",[CA]:"fire-fcm-compat",[kA]:"fire-perf",[RA]:"fire-perf-compat",[jA]:"fire-rc",[DA]:"fire-rc-compat",[IA]:"fire-gcs",[MA]:"fire-gcs-compat",[OA]:"fire-fst",[PA]:"fire-fst-compat",[VA]:"fire-vertex","fire-js":"fire-js",[LA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Map,BA=new Map,vp=new Map;function H1(t,e){try{t.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gf(t){const e=t.name;if(vp.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,t);for(const n of $f.values())H1(n,t);for(const n of BA.values())H1(n,t);return!0}function qA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function FA(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new t_("app","Firebase",HA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=zA;function a_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:bp,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw _a.create("bad-app-name",{appName:String(s)});if(n||(n=e_()),!n)throw _a.create("no-options");const o=$f.get(s);if(o){if(Hf(n,o.options)&&Hf(i,o.config))return o;throw _a.create("duplicate-app",{appName:s})}const u=new XS(s);for(const d of vp.values())u.addComponent(d);const h=new $A(n,i,u);return $f.set(s,h),h}function QA(t=bp){const e=$f.get(t);if(!e&&t===bp&&e_())return a_();if(!e)throw _a.create("no-app",{appName:t});return e}function Sl(t,e,n){let i=UA[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(u.join(" "));return}Gf(new Su(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firebase-heartbeat-database",XA=1,Au="firebase-heartbeat-store";let $m=null;function s_(){return $m||($m=oA(YA,XA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Au)}catch(n){console.warn(n)}}}}).catch(t=>{throw _a.create("idb-open",{originalErrorMessage:t.message})})),$m}async function KA(t){try{const n=(await s_()).transaction(Au),i=await n.objectStore(Au).get(l_(t));return await n.done,i}catch(e){if(e instanceof zl)Pi.warn(e.message);else{const n=_a.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(n.message)}}}async function $1(t,e){try{const i=(await s_()).transaction(Au,"readwrite");await i.objectStore(Au).put(e,l_(t)),await i.done}catch(n){if(n instanceof zl)Pi.warn(n.message);else{const i=_a.create("idb-set",{originalErrorMessage:n?.message});Pi.warn(i.message)}}}function l_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1024,JA=30;class WA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new t3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=G1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>JA){const s=n3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G1(),{heartbeatsToSend:n,unsentEntries:i}=e3(this._heartbeatsCache.heartbeats),s=Ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Pi.warn(e),""}}}function G1(){return new Date().toISOString().substring(0,10)}function e3(t,e=ZA){const n=[];let i=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Q1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Q1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class t3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?qS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return $1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return $1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Q1(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}function n3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){Gf(new Su("platform-logger",e=>new fA(e),"PRIVATE")),Gf(new Su("heartbeat",e=>new WA(e),"PRIVATE")),Sl(xp,F1,t),Sl(xp,F1,"esm2020"),Sl("fire-js","")}r3("");var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wa,o_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,k){function M(){}M.prototype=k.prototype,D.D=k.prototype,D.prototype=new M,D.prototype.constructor=D,D.C=function(C,P,B){for(var A=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)A[ae-2]=arguments[ae];return k.prototype[P].apply(C,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,k,M){M||(M=0);var C=Array(16);if(typeof k=="string")for(var P=0;16>P;++P)C[P]=k.charCodeAt(M++)|k.charCodeAt(M++)<<8|k.charCodeAt(M++)<<16|k.charCodeAt(M++)<<24;else for(P=0;16>P;++P)C[P]=k[M++]|k[M++]<<8|k[M++]<<16|k[M++]<<24;k=D.g[0],M=D.g[1],P=D.g[2];var B=D.g[3],A=k+(B^M&(P^B))+C[0]+3614090360&4294967295;k=M+(A<<7&4294967295|A>>>25),A=B+(P^k&(M^P))+C[1]+3905402710&4294967295,B=k+(A<<12&4294967295|A>>>20),A=P+(M^B&(k^M))+C[2]+606105819&4294967295,P=B+(A<<17&4294967295|A>>>15),A=M+(k^P&(B^k))+C[3]+3250441966&4294967295,M=P+(A<<22&4294967295|A>>>10),A=k+(B^M&(P^B))+C[4]+4118548399&4294967295,k=M+(A<<7&4294967295|A>>>25),A=B+(P^k&(M^P))+C[5]+1200080426&4294967295,B=k+(A<<12&4294967295|A>>>20),A=P+(M^B&(k^M))+C[6]+2821735955&4294967295,P=B+(A<<17&4294967295|A>>>15),A=M+(k^P&(B^k))+C[7]+4249261313&4294967295,M=P+(A<<22&4294967295|A>>>10),A=k+(B^M&(P^B))+C[8]+1770035416&4294967295,k=M+(A<<7&4294967295|A>>>25),A=B+(P^k&(M^P))+C[9]+2336552879&4294967295,B=k+(A<<12&4294967295|A>>>20),A=P+(M^B&(k^M))+C[10]+4294925233&4294967295,P=B+(A<<17&4294967295|A>>>15),A=M+(k^P&(B^k))+C[11]+2304563134&4294967295,M=P+(A<<22&4294967295|A>>>10),A=k+(B^M&(P^B))+C[12]+1804603682&4294967295,k=M+(A<<7&4294967295|A>>>25),A=B+(P^k&(M^P))+C[13]+4254626195&4294967295,B=k+(A<<12&4294967295|A>>>20),A=P+(M^B&(k^M))+C[14]+2792965006&4294967295,P=B+(A<<17&4294967295|A>>>15),A=M+(k^P&(B^k))+C[15]+1236535329&4294967295,M=P+(A<<22&4294967295|A>>>10),A=k+(P^B&(M^P))+C[1]+4129170786&4294967295,k=M+(A<<5&4294967295|A>>>27),A=B+(M^P&(k^M))+C[6]+3225465664&4294967295,B=k+(A<<9&4294967295|A>>>23),A=P+(k^M&(B^k))+C[11]+643717713&4294967295,P=B+(A<<14&4294967295|A>>>18),A=M+(B^k&(P^B))+C[0]+3921069994&4294967295,M=P+(A<<20&4294967295|A>>>12),A=k+(P^B&(M^P))+C[5]+3593408605&4294967295,k=M+(A<<5&4294967295|A>>>27),A=B+(M^P&(k^M))+C[10]+38016083&4294967295,B=k+(A<<9&4294967295|A>>>23),A=P+(k^M&(B^k))+C[15]+3634488961&4294967295,P=B+(A<<14&4294967295|A>>>18),A=M+(B^k&(P^B))+C[4]+3889429448&4294967295,M=P+(A<<20&4294967295|A>>>12),A=k+(P^B&(M^P))+C[9]+568446438&4294967295,k=M+(A<<5&4294967295|A>>>27),A=B+(M^P&(k^M))+C[14]+3275163606&4294967295,B=k+(A<<9&4294967295|A>>>23),A=P+(k^M&(B^k))+C[3]+4107603335&4294967295,P=B+(A<<14&4294967295|A>>>18),A=M+(B^k&(P^B))+C[8]+1163531501&4294967295,M=P+(A<<20&4294967295|A>>>12),A=k+(P^B&(M^P))+C[13]+2850285829&4294967295,k=M+(A<<5&4294967295|A>>>27),A=B+(M^P&(k^M))+C[2]+4243563512&4294967295,B=k+(A<<9&4294967295|A>>>23),A=P+(k^M&(B^k))+C[7]+1735328473&4294967295,P=B+(A<<14&4294967295|A>>>18),A=M+(B^k&(P^B))+C[12]+2368359562&4294967295,M=P+(A<<20&4294967295|A>>>12),A=k+(M^P^B)+C[5]+4294588738&4294967295,k=M+(A<<4&4294967295|A>>>28),A=B+(k^M^P)+C[8]+2272392833&4294967295,B=k+(A<<11&4294967295|A>>>21),A=P+(B^k^M)+C[11]+1839030562&4294967295,P=B+(A<<16&4294967295|A>>>16),A=M+(P^B^k)+C[14]+4259657740&4294967295,M=P+(A<<23&4294967295|A>>>9),A=k+(M^P^B)+C[1]+2763975236&4294967295,k=M+(A<<4&4294967295|A>>>28),A=B+(k^M^P)+C[4]+1272893353&4294967295,B=k+(A<<11&4294967295|A>>>21),A=P+(B^k^M)+C[7]+4139469664&4294967295,P=B+(A<<16&4294967295|A>>>16),A=M+(P^B^k)+C[10]+3200236656&4294967295,M=P+(A<<23&4294967295|A>>>9),A=k+(M^P^B)+C[13]+681279174&4294967295,k=M+(A<<4&4294967295|A>>>28),A=B+(k^M^P)+C[0]+3936430074&4294967295,B=k+(A<<11&4294967295|A>>>21),A=P+(B^k^M)+C[3]+3572445317&4294967295,P=B+(A<<16&4294967295|A>>>16),A=M+(P^B^k)+C[6]+76029189&4294967295,M=P+(A<<23&4294967295|A>>>9),A=k+(M^P^B)+C[9]+3654602809&4294967295,k=M+(A<<4&4294967295|A>>>28),A=B+(k^M^P)+C[12]+3873151461&4294967295,B=k+(A<<11&4294967295|A>>>21),A=P+(B^k^M)+C[15]+530742520&4294967295,P=B+(A<<16&4294967295|A>>>16),A=M+(P^B^k)+C[2]+3299628645&4294967295,M=P+(A<<23&4294967295|A>>>9),A=k+(P^(M|~B))+C[0]+4096336452&4294967295,k=M+(A<<6&4294967295|A>>>26),A=B+(M^(k|~P))+C[7]+1126891415&4294967295,B=k+(A<<10&4294967295|A>>>22),A=P+(k^(B|~M))+C[14]+2878612391&4294967295,P=B+(A<<15&4294967295|A>>>17),A=M+(B^(P|~k))+C[5]+4237533241&4294967295,M=P+(A<<21&4294967295|A>>>11),A=k+(P^(M|~B))+C[12]+1700485571&4294967295,k=M+(A<<6&4294967295|A>>>26),A=B+(M^(k|~P))+C[3]+2399980690&4294967295,B=k+(A<<10&4294967295|A>>>22),A=P+(k^(B|~M))+C[10]+4293915773&4294967295,P=B+(A<<15&4294967295|A>>>17),A=M+(B^(P|~k))+C[1]+2240044497&4294967295,M=P+(A<<21&4294967295|A>>>11),A=k+(P^(M|~B))+C[8]+1873313359&4294967295,k=M+(A<<6&4294967295|A>>>26),A=B+(M^(k|~P))+C[15]+4264355552&4294967295,B=k+(A<<10&4294967295|A>>>22),A=P+(k^(B|~M))+C[6]+2734768916&4294967295,P=B+(A<<15&4294967295|A>>>17),A=M+(B^(P|~k))+C[13]+1309151649&4294967295,M=P+(A<<21&4294967295|A>>>11),A=k+(P^(M|~B))+C[4]+4149444226&4294967295,k=M+(A<<6&4294967295|A>>>26),A=B+(M^(k|~P))+C[11]+3174756917&4294967295,B=k+(A<<10&4294967295|A>>>22),A=P+(k^(B|~M))+C[2]+718787259&4294967295,P=B+(A<<15&4294967295|A>>>17),A=M+(B^(P|~k))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+B&4294967295}i.prototype.u=function(D,k){k===void 0&&(k=D.length);for(var M=k-this.blockSize,C=this.B,P=this.h,B=0;B<k;){if(P==0)for(;B<=M;)s(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<k;)if(C[P++]=D.charCodeAt(B++),P==this.blockSize){s(this,C),P=0;break}}else for(;B<k;)if(C[P++]=D[B++],P==this.blockSize){s(this,C),P=0;break}}this.h=P,this.o+=k},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;var M=8*this.o;for(k=D.length-8;k<D.length;++k)D[k]=M&255,M/=256;for(this.u(D),D=Array(16),k=M=0;4>k;++k)for(var C=0;32>C;C+=8)D[M++]=this.g[k]>>>C&255;return D};function o(D,k){var M=h;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=k(D)}function u(D,k){this.h=k;for(var M=[],C=!0,P=D.length-1;0<=P;P--){var B=D[P]|0;C&&B==k||(M[P]=B,C=!1)}this.g=M}var h={};function d(D){return-128<=D&&128>D?o(D,function(k){return new u([k|0],0>k?-1:0)}):new u([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return V(g(-D));for(var k=[],M=1,C=0;D>=M;C++)k[C]=D/M|0,M*=4294967296;return new u(k,0)}function x(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return V(x(D.substring(1),k));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=g(Math.pow(k,8)),C=b,P=0;P<D.length;P+=8){var B=Math.min(8,D.length-P),A=parseInt(D.substring(P,P+B),k);8>B?(B=g(Math.pow(k,B)),C=C.j(B).add(g(A))):(C=C.j(M),C=C.add(g(A)))}return C}var b=d(0),_=d(1),w=d(16777216);t=u.prototype,t.m=function(){if(O(this))return-V(this).m();for(var D=0,k=1,M=0;M<this.g.length;M++){var C=this.i(M);D+=(0<=C?C:4294967296+C)*k,k*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(O(this))return"-"+V(this).toString(D);for(var k=g(Math.pow(D,6)),M=this,C="";;){var P=Q(M,k).g;M=z(M,P.j(k));var B=((0<M.g.length?M.g[0]:M.h)>>>0).toString(D);if(M=P,N(M))return B+C;for(;6>B.length;)B="0"+B;C=B+C}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function O(D){return D.h==-1}t.l=function(D){return D=z(this,D),O(D)?-1:N(D)?0:1};function V(D){for(var k=D.g.length,M=[],C=0;C<k;C++)M[C]=~D.g[C];return new u(M,~D.h).add(_)}t.abs=function(){return O(this)?V(this):this},t.add=function(D){for(var k=Math.max(this.g.length,D.g.length),M=[],C=0,P=0;P<=k;P++){var B=C+(this.i(P)&65535)+(D.i(P)&65535),A=(B>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);C=A>>>16,B&=65535,A&=65535,M[P]=A<<16|B}return new u(M,M[M.length-1]&-2147483648?-1:0)};function z(D,k){return D.add(V(k))}t.j=function(D){if(N(this)||N(D))return b;if(O(this))return O(D)?V(this).j(V(D)):V(V(this).j(D));if(O(D))return V(this.j(V(D)));if(0>this.l(w)&&0>D.l(w))return g(this.m()*D.m());for(var k=this.g.length+D.g.length,M=[],C=0;C<2*k;C++)M[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<D.g.length;P++){var B=this.i(C)>>>16,A=this.i(C)&65535,ae=D.i(P)>>>16,me=D.i(P)&65535;M[2*C+2*P]+=A*me,U(M,2*C+2*P),M[2*C+2*P+1]+=B*me,U(M,2*C+2*P+1),M[2*C+2*P+1]+=A*ae,U(M,2*C+2*P+1),M[2*C+2*P+2]+=B*ae,U(M,2*C+2*P+2)}for(C=0;C<k;C++)M[C]=M[2*C+1]<<16|M[2*C];for(C=k;C<2*k;C++)M[C]=0;return new u(M,0)};function U(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function L(D,k){this.g=D,this.h=k}function Q(D,k){if(N(k))throw Error("division by zero");if(N(D))return new L(b,b);if(O(D))return k=Q(V(D),k),new L(V(k.g),V(k.h));if(O(k))return k=Q(D,V(k)),new L(V(k.g),k.h);if(30<D.g.length){if(O(D)||O(k))throw Error("slowDivide_ only works with positive integers.");for(var M=_,C=k;0>=C.l(D);)M=F(M),C=F(C);var P=q(M,1),B=q(C,1);for(C=q(C,2),M=q(M,2);!N(C);){var A=B.add(C);0>=A.l(D)&&(P=P.add(M),B=A),C=q(C,1),M=q(M,1)}return k=z(D,P.j(k)),new L(P,k)}for(P=b;0<=D.l(k);){for(M=Math.max(1,Math.floor(D.m()/k.m())),C=Math.ceil(Math.log(M)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),B=g(M),A=B.j(k);O(A)||0<A.l(D);)M-=C,B=g(M),A=B.j(k);N(B)&&(B=_),P=P.add(B),D=z(D,A)}return new L(P,D)}t.A=function(D){return Q(this,D).h},t.and=function(D){for(var k=Math.max(this.g.length,D.g.length),M=[],C=0;C<k;C++)M[C]=this.i(C)&D.i(C);return new u(M,this.h&D.h)},t.or=function(D){for(var k=Math.max(this.g.length,D.g.length),M=[],C=0;C<k;C++)M[C]=this.i(C)|D.i(C);return new u(M,this.h|D.h)},t.xor=function(D){for(var k=Math.max(this.g.length,D.g.length),M=[],C=0;C<k;C++)M[C]=this.i(C)^D.i(C);return new u(M,this.h^D.h)};function F(D){for(var k=D.g.length+1,M=[],C=0;C<k;C++)M[C]=D.i(C)<<1|D.i(C-1)>>>31;return new u(M,D.h)}function q(D,k){var M=k>>5;k%=32;for(var C=D.g.length-M,P=[],B=0;B<C;B++)P[B]=0<k?D.i(B+M)>>>k|D.i(B+M+1)<<32-k:D.i(B+M);return new u(P,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,o_=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=x,wa=u}).apply(typeof Y1<"u"?Y1:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u_,uu,c_,Of,_p,f_,h_,d_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function s(f,v){if(v)e:{var E=i;f=f.split(".");for(var I=0;I<f.length-1;I++){var X=f[I];if(!(X in E))break e;E=E[X]}f=f[f.length-1],I=E[f],v=v(I),v!=I&&v!=null&&e(E,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var E=0,I=!1,X={next:function(){if(!I&&E<f.length){var ne=E++;return{value:v(ne,f[ne]),done:!1}}return I=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(f){return f||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function g(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function x(f,v,E){return f.call.apply(f.bind,arguments)}function b(f,v,E){if(!f)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,I),f.apply(v,X)}}return function(){return f.apply(v,arguments)}}function _(f,v,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:b,_.apply(null,arguments)}function w(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function N(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(I,X,ne){for(var xe=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)xe[Ye-2]=arguments[Ye];return v.prototype[X].apply(I,xe)}}function O(f){const v=f.length;if(0<v){const E=Array(v);for(let I=0;I<v;I++)E[I]=f[I];return E}return[]}function V(f,v){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(d(I)){const X=f.length||0,ne=I.length||0;f.length=X+ne;for(let xe=0;xe<ne;xe++)f[X+xe]=I[xe]}else f.push(I)}}class z{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(f){return/^[\s\xa0]*$/.test(f)}function L(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function Q(f){return Q[" "](f),f}Q[" "]=function(){};var F=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function q(f,v,E){for(const I in f)v.call(E,f[I],I,f)}function D(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function k(f){const v={};for(const E in f)v[E]=f[E];return v}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,v){let E,I;for(let X=1;X<arguments.length;X++){I=arguments[X];for(E in I)f[E]=I[E];for(let ne=0;ne<M.length;ne++)E=M[ne],Object.prototype.hasOwnProperty.call(I,E)&&(f[E]=I[E])}}function P(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function B(f){h.setTimeout(()=>{throw f},0)}function A(){var f=Ie;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ae{constructor(){this.h=this.g=null}add(v,E){const I=me.get();I.set(v,E),this.h?this.h.next=I:this.g=I,this.h=I}}var me=new z(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ve=!1,Ie=new ae,S=()=>{const f=h.Promise.resolve(void 0);de=()=>{f.then(se)}};var se=()=>{for(var f;f=A();){try{f.h.call(f.g)}catch(E){B(E)}var v=me;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ve=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return f})();function ge(f,v){if(j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(F){e:{try{Q(v.nodeName);var X=!0;break e}catch{}X=!1}X||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ie[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ge.aa.h.call(this)}}N(ge,j);var ie={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Te=0;function it(f,v,E,I,X){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!I,this.ha=X,this.key=++Te,this.da=this.fa=!1}function Ct(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Tt(f){this.src=f,this.g={},this.h=0}Tt.prototype.add=function(f,v,E,I,X){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var xe=Bn(f,v,I,X);return-1<xe?(v=f[xe],E||(v.fa=!1)):(v=new it(v,this.src,ne,!!I,X),v.fa=E,f.push(v)),v};function vn(f,v){var E=v.type;if(E in f.g){var I=f.g[E],X=Array.prototype.indexOf.call(I,v,void 0),ne;(ne=0<=X)&&Array.prototype.splice.call(I,X,1),ne&&(Ct(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Bn(f,v,E,I){for(var X=0;X<f.length;++X){var ne=f[X];if(!ne.da&&ne.listener==v&&ne.capture==!!E&&ne.ha==I)return X}return-1}var vr="closure_lm_"+(1e6*Math.random()|0),Rr={};function si(f,v,E,I,X){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)si(f,v[ne],E,I,X);return null}return E=qn(E),f&&f[be]?f.K(v,E,g(I)?!!I.capture:!1,X):tn(f,v,E,!1,I,X)}function tn(f,v,E,I,X,ne){if(!v)throw Error("Invalid event type");var xe=g(X)?!!X.capture:!!X,Ye=Dr(f);if(Ye||(f[vr]=Ye=new Tt(f)),E=Ye.add(v,E,I,xe,ne),E.proxy)return E;if(I=Ma(),E.proxy=I,I.src=f,I.listener=E,f.addEventListener)Z||(X=xe),X===void 0&&(X=!1),f.addEventListener(v.toString(),I,X);else if(f.attachEvent)f.attachEvent(_r(v.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ma(){function f(E){return v.call(f.src,f.listener,E)}const v=Oa;return f}function jr(f,v,E,I,X){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)jr(f,v[ne],E,I,X);else I=g(I)?!!I.capture:!!I,E=qn(E),f&&f[be]?(f=f.i,v=String(v).toString(),v in f.g&&(ne=f.g[v],E=Bn(ne,E,I,X),-1<E&&(Ct(ne[E]),Array.prototype.splice.call(ne,E,1),ne.length==0&&(delete f.g[v],f.h--)))):f&&(f=Dr(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Bn(v,E,I,X)),(E=-1<f?v[f]:null)&&rr(E))}function rr(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[be])vn(v.i,f);else{var E=f.type,I=f.proxy;v.removeEventListener?v.removeEventListener(E,I,f.capture):v.detachEvent?v.detachEvent(_r(E),I):v.addListener&&v.removeListener&&v.removeListener(I),(E=Dr(v))?(vn(E,f),E.h==0&&(E.src=null,v[vr]=null)):Ct(f)}}}function _r(f){return f in Rr?Rr[f]:Rr[f]="on"+f}function Oa(f,v){if(f.da)f=!0;else{v=new ge(v,this);var E=f.listener,I=f.ha||f.src;f.fa&&rr(f),f=E.call(I,v)}return f}function Dr(f){return f=f[vr],f instanceof Tt?f:null}var li="__closure_events_fn_"+(1e9*Math.random()>>>0);function qn(f){return typeof f=="function"?f:(f[li]||(f[li]=function(v){return f.handleEvent(v)}),f[li])}function $(){pe.call(this),this.i=new Tt(this),this.M=this,this.F=null}N($,pe),$.prototype[be]=!0,$.prototype.removeEventListener=function(f,v,E,I){jr(this,f,v,E,I)};function re(f,v){var E,I=f.F;if(I)for(E=[];I;I=I.F)E.push(I);if(f=f.M,I=v.type||v,typeof v=="string")v=new j(v,f);else if(v instanceof j)v.target=v.target||f;else{var X=v;v=new j(I,f),C(v,X)}if(X=!0,E)for(var ne=E.length-1;0<=ne;ne--){var xe=v.g=E[ne];X=we(xe,I,!0,v)&&X}if(xe=v.g=f,X=we(xe,I,!0,v)&&X,X=we(xe,I,!1,v)&&X,E)for(ne=0;ne<E.length;ne++)xe=v.g=E[ne],X=we(xe,I,!1,v)&&X}$.prototype.N=function(){if($.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],I=0;I<E.length;I++)Ct(E[I]);delete f.g[v],f.h--}}this.F=null},$.prototype.K=function(f,v,E,I){return this.i.add(String(f),v,!1,E,I)},$.prototype.L=function(f,v,E,I){return this.i.add(String(f),v,!0,E,I)};function we(f,v,E,I){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var X=!0,ne=0;ne<v.length;++ne){var xe=v[ne];if(xe&&!xe.da&&xe.capture==E){var Ye=xe.listener,Ft=xe.ha||xe.src;xe.fa&&vn(f.i,xe),X=Ye.call(Ft,I)!==!1&&X}}return X&&!I.defaultPrevented}function Ne(f,v,E){if(typeof f=="function")E&&(f=_(f,E));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function tt(f){f.g=Ne(()=>{f.g=null,f.i&&(f.i=!1,tt(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class _n extends pe{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(f){pe.call(this),this.h=f,this.g={}}N(wn,pe);var nn=[];function Fn(f){q(f.g,function(v,E){this.g.hasOwnProperty(E)&&rr(v)},f),f.g={}}wn.prototype.N=function(){wn.aa.N.call(this),Fn(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rn=h.JSON.stringify,It=h.JSON.parse,Dn=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function En(){}En.prototype.h=null;function Xl(f){return f.h||(f.h=f.i())}function Kl(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){j.call(this,"d")}N(ui,j);function Zl(){j.call(this,"c")}N(Zl,j);var Ir={},Jl=null;function qi(){return Jl=Jl||new $}Ir.La="serverreachability";function Ns(f){j.call(this,Ir.La,f)}N(Ns,j);function Fi(f){const v=qi();re(v,new Ns(v))}Ir.STAT_EVENT="statevent";function rc(f,v){j.call(this,Ir.STAT_EVENT,f),this.stat=v}N(rc,j);function vt(f){const v=qi();re(v,new rc(v,f))}Ir.Ma="timingevent";function qt(f,v){j.call(this,Ir.Ma,f),this.size=v}N(qt,j);function Mt(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function ir(){this.g=!0}ir.prototype.xa=function(){this.g=!1};function Wl(f,v,E,I,X,ne){f.info(function(){if(f.g)if(ne)for(var xe="",Ye=ne.split("&"),Ft=0;Ft<Ye.length;Ft++){var Xe=Ye[Ft].split("=");if(1<Xe.length){var Xt=Xe[0];Xe=Xe[1];var Ht=Xt.split("_");xe=2<=Ht.length&&Ht[1]=="type"?xe+(Xt+"="+Xe+"&"):xe+(Xt+"=redacted&")}}else xe=null;else xe=ne;return"XMLHTTP REQ ("+I+") [attempt "+X+"]: "+v+`
`+E+`
`+xe})}function Ph(f,v,E,I,X,ne,xe){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+X+"]: "+v+`
`+E+`
`+ne+" "+xe})}function Hi(f,v,E,I){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Va(f,E)+(I?" "+I:"")})}function ic(f,v){f.info(function(){return"TIMEOUT: "+v})}ir.prototype.info=function(){};function Va(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var I=E[f];if(!(2>I.length)){var X=I[1];if(Array.isArray(X)&&!(1>X.length)){var ne=X[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var xe=1;xe<X.length;xe++)X[xe]=""}}}}return rn(E)}catch{return v}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mr;function Or(){}N(Or,En),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Mr=new Or;function Tn(f,v,E,I){this.j=f,this.i=v,this.l=E,this.R=I||1,this.U=new wn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var eo={},Cs={};function wr(f,v,E){f.L=1,f.v=Ba(Hn(v)),f.m=E,f.P=!0,fi(f,null)}function fi(f,v){f.F=Date.now(),Pa(f),f.A=Hn(f.v);var E=f.A,I=f.R;Array.isArray(I)||(I=[String(I)]),so(E.i,"t",I),f.C=0,E=f.j.J,f.h=new kt,f.g=vc(f.j,E?v:null,!f.m),0<f.O&&(f.M=new _n(_(f.Y,f,f.g),f.O)),v=f.U,E=f.g,I=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(nn[0]=X.toString()),X=nn);for(var ne=0;ne<X.length;ne++){var xe=si(E,X[ne],I||v.handleEvent,!1,v.h||v);if(!xe)break;v.g[xe.key]=xe}v=f.H?k(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Fi(),Wl(f.i,f.u,f.A,f.l,f.R,f.m)}Tn.prototype.ca=function(f){f=f.target;const v=this.M;v&&or(f)==3?v.j():this.Y(f)},Tn.prototype.Y=function(f){try{if(f==this.g)e:{const Ht=or(this.g);var v=this.g.Ba();const bi=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||hc(this.g)))){this.J||Ht!=4||v==7||(v==8||0>=bi?Fi(3):Fi(2)),Gi(this);var E=this.g.Z();this.X=E;t:if(ac(this)){var I=hc(this.g);f="";var X=I.length,ne=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Vr(this);var xe="";break t}this.h.i=new h.TextDecoder}for(v=0;v<X;v++)this.h.h=!0,f+=this.h.i.decode(I[v],{stream:!(ne&&v==X-1)});I.length=0,this.h.g+=f,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=E==200,Ph(this.i,this.u,this.A,this.l,this.R,Ht,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Ft=this.g;if((Ye=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ye)){var Xe=Ye;break t}}Xe=null}if(E=Xe)Hi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,E);else{this.o=!1,this.s=3,vt(12),an(this),Vr(this);break e}}if(this.P){E=!0;let sn;for(;!this.J&&this.C<xe.length;)if(sn=sc(this,xe),sn==Cs){Ht==4&&(this.s=4,vt(14),E=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==eo){this.s=4,vt(15),Hi(this.i,this.l,xe,"[Invalid Chunk]"),E=!1;break}else Hi(this.i,this.l,sn,null),La(this,sn);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||xe.length!=0||this.h.h||(this.s=1,vt(16),E=!1),this.o=this.o&&E,!E)Hi(this.i,this.l,xe,"[Invalid Chunked Response]"),an(this),Vr(this);else if(0<xe.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),Xa(Xt),Xt.M=!0,vt(11))}}else Hi(this.i,this.l,xe,null),La(this,xe);Ht==4&&an(this),this.o&&!this.J&&(Ht==4?yc(this.j,this):(this.o=!1,Pa(this)))}else qh(this.g),E==400&&0<xe.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),an(this),Vr(this)}}}catch{}finally{}};function ac(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function sc(f,v){var E=f.C,I=v.indexOf(`
`,E);return I==-1?Cs:(E=Number(v.substring(E,I)),isNaN(E)?eo:(I+=1,I+E>v.length?Cs:(v=v.slice(I,I+E),f.C=I+E,v)))}Tn.prototype.cancel=function(){this.J=!0,an(this)};function Pa(f){f.S=Date.now()+f.I,lc(f,f.I)}function lc(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Mt(_(f.ba,f),v)}function Gi(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Tn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ic(this.i,this.A),this.L!=2&&(Fi(),vt(17)),an(this),this.s=2,Vr(this)):lc(this,this.S-f)};function Vr(f){f.j.G==0||f.J||yc(f.j,f)}function an(f){Gi(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Fn(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function La(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||to(E.h,f))){if(!f.K&&to(E.h,f)&&E.G==3){try{var I=E.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var X=I;if(X[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Us(E),Ls(E);else break e;fo(E),vt(18)}}else E.za=X[1],0<E.za-E.T&&37500>X[2]&&E.F&&E.v==0&&!E.C&&(E.C=Mt(_(E.Za,E),6e3));if(1>=Rs(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else xi(E,11)}else if((f.K||E.g==f)&&Us(E),!U(v))for(X=E.Da.g.parse(v),v=0;v<X.length;v++){let Xe=X[v];if(E.T=Xe[0],Xe=Xe[1],E.G==2)if(Xe[0]=="c"){E.K=Xe[1],E.ia=Xe[2];const Xt=Xe[3];Xt!=null&&(E.la=Xt,E.j.info("VER="+E.la));const Ht=Xe[4];Ht!=null&&(E.Aa=Ht,E.j.info("SVER="+E.Aa));const bi=Xe[5];bi!=null&&typeof bi=="number"&&0<bi&&(I=1.5*bi,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const sn=f.g;if(sn){const Fr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var ne=I.h;ne.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(js(ne,ne.h),ne.h=null))}if(I.D){const mo=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(I.ya=mo,ut(I.I,I.D,mo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var xe=f;if(I.qa=bc(I,I.J?I.ia:null,I.W),xe.K){Sn(I.h,xe);var Ye=xe,Ft=I.L;Ft&&(Ye.I=Ft),Ye.B&&(Gi(Ye),Pa(Ye)),I.g=xe}else pc(I);0<E.i.length&&zs(E)}else Xe[0]!="stop"&&Xe[0]!="close"||xi(E,7);else E.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?xi(E,7):uo(E):Xe[0]!="noop"&&E.l&&E.l.ta(Xe),E.v=0)}}Fi(4)}catch{}}var oc=class{constructor(f,v){this.g=f,this.map=v}};function hi(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Rs(f){return f.h?1:f.g?f.g.size:0}function to(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function js(f,v){f.g?f.g.add(v):f.h=v}function Sn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}hi.prototype.cancel=function(){if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function no(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return O(f.i)}function Lh(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],E=f.length,I=0;I<E;I++)v.push(f[I]);return v}v=[],E=0;for(I in f)v[E++]=f[I];return v}function Ds(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const I in f)v[E++]=I;return v}}}function ro(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=Ds(f),I=Lh(f),X=I.length,ne=0;ne<X;ne++)v.call(void 0,I[ne],E&&E[ne],f)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zh(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var I=f[E].indexOf("="),X=null;if(0<=I){var ne=f[E].substring(0,I);X=f[E].substring(I+1)}else ne=f[E];v(ne,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Ot(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ot){this.h=f.h,Ua(this,f.j),this.o=f.o,this.g=f.g,Qi(this,f.s),this.l=f.l;var v=f.i,E=new mi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),di(this,E),this.m=f.m}else f&&(v=String(f).match(za))?(this.h=!1,Ua(this,v[1]||"",!0),this.o=ar(v[2]||""),this.g=ar(v[3]||"",!0),Qi(this,v[4]),this.l=ar(v[5]||"",!0),di(this,v[6]||"",!0),this.m=ar(v[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Ot.prototype.toString=function(){var f=[],v=this.j;v&&f.push(qa(v,io,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(qa(v,io,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(qa(E,E.charAt(0)=="/"?Uh:ao,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",qa(E,Is)),f.join("")};function Hn(f){return new Ot(f)}function Ua(f,v,E){f.j=E?ar(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Qi(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function di(f,v,E){v instanceof mi?(f.i=v,cc(f.i,f.h)):(E||(v=qa(v,Bh)),f.i=new mi(v,f.h))}function ut(f,v,E){f.i.set(v,E)}function Ba(f){return ut(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ar(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qa(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,uc),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function uc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var io=/[#\/\?@]/g,ao=/[#\?:]/g,Uh=/[#\?]/g,Bh=/[#\?@]/g,Is=/#/g;function mi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function sr(f){f.g||(f.g=new Map,f.h=0,f.i&&zh(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=mi.prototype,t.add=function(f,v){sr(this),this.i=null,f=Pr(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function pi(f,v){sr(f),v=Pr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function gi(f,v){return sr(f),v=Pr(f,v),f.g.has(v)}t.forEach=function(f,v){sr(this),this.g.forEach(function(E,I){E.forEach(function(X){f.call(v,X,I,this)},this)},this)},t.na=function(){sr(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let I=0;I<v.length;I++){const X=f[I];for(let ne=0;ne<X.length;ne++)E.push(v[I])}return E},t.V=function(f){sr(this);let v=[];if(typeof f=="string")gi(this,f)&&(v=v.concat(this.g.get(Pr(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},t.set=function(f,v){return sr(this),this.i=null,f=Pr(this,f),gi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function so(f,v,E){pi(f,v),0<E.length&&(f.i=null,f.g.set(Pr(f,v),O(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var I=v[E];const ne=encodeURIComponent(String(I)),xe=this.V(I);for(I=0;I<xe.length;I++){var X=ne;xe[I]!==""&&(X+="="+encodeURIComponent(String(xe[I]))),f.push(X)}}return this.i=f.join("&")};function Pr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function cc(f,v){v&&!f.j&&(sr(f),f.i=null,f.g.forEach(function(E,I){var X=I.toLowerCase();I!=X&&(pi(this,I),so(this,X,E))},f)),f.j=v}function Fa(f,v){const E=new ir;if(h.Image){const I=new Image;I.onload=w(lr,E,"TestLoadImage: loaded",!0,v,I),I.onerror=w(lr,E,"TestLoadImage: error",!1,v,I),I.onabort=w(lr,E,"TestLoadImage: abort",!1,v,I),I.ontimeout=w(lr,E,"TestLoadImage: timeout",!1,v,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else v(!1)}function Er(f,v){const E=new ir,I=new AbortController,X=setTimeout(()=>{I.abort(),lr(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:I.signal}).then(ne=>{clearTimeout(X),ne.ok?lr(E,"TestPingServer: ok",!0,v):lr(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(X),lr(E,"TestPingServer: error",!1,v)})}function lr(f,v,E,I,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),I(E)}catch{}}function Ha(){this.g=new Dn}function Lr(f,v,E){const I=E||"";try{ro(f,function(X,ne){let xe=X;g(X)&&(xe=rn(X)),v.push(I+ne+"="+encodeURIComponent(xe))})}catch(X){throw v.push(I+"type="+encodeURIComponent("_badmap")),X}}function Yi(f){this.l=f.Ub||null,this.j=f.eb||!1}N(Yi,En),Yi.prototype.g=function(){return new yi(this.l,this.j)},Yi.prototype.i=(function(f){return function(){return f}})({});function yi(f,v){$.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(yi,$),t=yi.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Ur(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lo(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function lo(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?zr(this):Ur(this),this.readyState==3&&lo(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,zr(this))},t.Qa=function(f){this.g&&(this.response=f,zr(this))},t.ga=function(){this.g&&zr(this)};function zr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ur(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function Ur(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function oo(f){let v="";return q(f,function(E,I){v+=I,v+=":",v+=E,v+=`\r
`}),v}function Yt(f,v,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=oo(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):ut(f,v,E))}function at(f){$.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(at,$);var Ms=/^https?$/i,$a=["POST","PUT"];t=at.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?Xl(this.o):Xl(Mr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ne){fc(this,ne);return}if(f=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var X in I)E.set(X,I[X]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ne of I.keys())E.set(ne,I.get(ne));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call($a,v,void 0))||I||X||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,xe]of E)this.g.setRequestHeader(ne,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ga(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){fc(this,ne)}};function fc(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Os(f),Br(f)}function Os(f){f.A||(f.A=!0,re(f,"complete"),re(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,re(this,"complete"),re(this,"abort"),Br(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vs(this):this.bb())},t.bb=function(){Vs(this)};function Vs(f){if(f.h&&typeof u<"u"&&(!f.v[1]||or(f)!=4||f.Z()!=2)){if(f.u&&or(f)==4)Ne(f.Ea,0,f);else if(re(f,"readystatechange"),or(f)==4){f.h=!1;try{const xe=f.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var I;if(I=xe===0){var X=String(f.D).match(za)[1]||null;!X&&h.self&&h.self.location&&(X=h.self.location.protocol.slice(0,-1)),I=!Ms.test(X?X.toLowerCase():"")}E=I}if(E)re(f,"complete"),re(f,"success");else{f.m=6;try{var ne=2<or(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",Os(f)}}finally{Br(f)}}}}function Br(f,v){if(f.g){Ga(f);const E=f.g,I=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||re(f,"ready");try{E.onreadystatechange=I}catch{}}}function Ga(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function or(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),It(v)}};function hc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function qh(f){const v={};f=(f.g&&2<=or(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(U(f[I]))continue;var E=P(f[I]);const X=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ne=v[X]||[];v[X]=ne,ne.push(E)}D(v,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function Ps(f){this.Aa=0,this.i=[],this.j=new ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,f),this.cb=Qa("retryDelaySeedMs",1e4,f),this.Wa=Qa("forwardChannelMaxRetries",2,f),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(f&&f.concurrentRequestLimit),this.Da=new Ha,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ps.prototype,t.la=8,t.G=1,t.connect=function(f,v,E,I){vt(0),this.W=f,this.H=v||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=bc(this,null,this.W),zs(this)};function uo(f){if(dc(f),f.G==3){var v=f.U++,E=Hn(f.I);if(ut(E,"SID",f.K),ut(E,"RID",v),ut(E,"TYPE","terminate"),Ya(f,E),v=new Tn(f,f.j,v),v.L=2,v.v=Ba(Hn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.v,E=!0),E||(v.g=vc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Pa(v)}xc(f)}function Ls(f){f.g&&(Xa(f),f.g.cancel(),f.g=null)}function dc(f){Ls(f),f.u&&(h.clearTimeout(f.u),f.u=null),Us(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function zs(f){if(!ks(f.h)&&!f.s){f.s=!0;var v=f.Ga;de||S(),ve||(de(),ve=!0),Ie.add(v,f),f.B=0}}function Fh(f,v){return Rs(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Mt(_(f.Ga,f,v),ho(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new Tn(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=k(ne),C(ne,this.S)):ne=this.S),this.m!==null||this.O||(X.H=ne,ne=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=mc(this,X,v),E=Hn(this.I),ut(E,"RID",f),ut(E,"CVER",22),this.D&&ut(E,"X-HTTP-Session-Id",this.D),Ya(this,E),ne&&(this.O?v="headers="+encodeURIComponent(String(oo(ne)))+"&"+v:this.m&&Yt(E,this.m,ne)),js(this.h,X),this.Ua&&ut(E,"TYPE","init"),this.P?(ut(E,"$req",v),ut(E,"SID","null"),X.T=!0,wr(X,E,null)):wr(X,E,v),this.G=2}}else this.G==3&&(f?co(this,f):this.i.length==0||ks(this.h)||co(this))};function co(f,v){var E;v?E=v.l:E=f.U++;const I=Hn(f.I);ut(I,"SID",f.K),ut(I,"RID",E),ut(I,"AID",f.T),Ya(f,I),f.m&&f.o&&Yt(I,f.m,f.o),E=new Tn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=mc(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),js(f.h,E),wr(E,I,v)}function Ya(f,v){f.H&&q(f.H,function(E,I){ut(v,I,E)}),f.l&&ro({},function(E,I){ut(v,I,E)})}function mc(f,v,E){E=Math.min(f.i.length,E);var I=f.l?_(f.l.Na,f.l,f):null;e:{var X=f.i;let ne=-1;for(;;){const xe=["count="+E];ne==-1?0<E?(ne=X[0].g,xe.push("ofs="+ne)):ne=0:xe.push("ofs="+ne);let Ye=!0;for(let Ft=0;Ft<E;Ft++){let Xe=X[Ft].g;const Xt=X[Ft].map;if(Xe-=ne,0>Xe)ne=Math.max(0,X[Ft].g-100),Ye=!1;else try{Lr(Xt,xe,"req"+Xe+"_")}catch{I&&I(Xt)}}if(Ye){I=xe.join("&");break e}}}return f=f.i.splice(0,E),v.D=f,I}function pc(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;de||S(),ve||(de(),ve=!0),Ie.add(v,f),f.v=0}}function fo(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Mt(_(f.Fa,f),ho(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Mt(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Ls(this),gc(this))};function Xa(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function gc(f){f.g=new Tn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Hn(f.qa);ut(v,"RID","rpc"),ut(v,"SID",f.K),ut(v,"AID",f.T),ut(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&ut(v,"TO",f.ja),ut(v,"TYPE","xmlhttp"),Ya(f,v),f.m&&f.o&&Yt(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Ba(Hn(v)),E.m=null,E.P=!0,fi(E,f)}t.Za=function(){this.C!=null&&(this.C=null,Ls(this),fo(this),vt(19))};function Us(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function yc(f,v){var E=null;if(f.g==v){Us(f),Xa(f),f.g=null;var I=2}else if(to(f.h,v))E=v.D,Sn(f.h,v),I=1;else return;if(f.G!=0){if(v.o)if(I==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var X=f.B;I=qi(),re(I,new qt(I,E)),zs(f)}else pc(f);else if(X=v.s,X==3||X==0&&0<v.X||!(I==1&&Fh(f,v)||I==2&&fo(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),X){case 1:xi(f,5);break;case 4:xi(f,10);break;case 3:xi(f,6);break;default:xi(f,2)}}}function ho(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function xi(f,v){if(f.j.info("Error code "+v),v==2){var E=_(f.fb,f),I=f.Xa;const X=!I;I=new Ot(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ua(I,"https"),Ba(I),X?Fa(I.toString(),E):Er(I.toString(),E)}else vt(2);f.G=0,f.l&&f.l.sa(v),xc(f),dc(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function xc(f){if(f.G=0,f.ka=[],f.l){const v=no(f.h);(v.length!=0||f.i.length!=0)&&(V(f.ka,v),V(f.ka,f.i),f.h.i.length=0,O(f.i),f.i.length=0),f.l.ra()}}function bc(f,v,E){var I=E instanceof Ot?Hn(E):new Ot(E);if(I.g!="")v&&(I.g=v+"."+I.g),Qi(I,I.s);else{var X=h.location;I=X.protocol,v=v?v+"."+X.hostname:X.hostname,X=+X.port;var ne=new Ot(null);I&&Ua(ne,I),v&&(ne.g=v),X&&Qi(ne,X),E&&(ne.l=E),I=ne}return E=f.D,v=f.ya,E&&v&&ut(I,E,v),ut(I,"VER",f.la),Ya(f,I),I}function vc(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new at(new Yi({eb:E})):new at(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}t=_c.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bs(){}Bs.prototype.g=function(f,v){return new An(f,v)};function An(f,v){$.call(this),this.g=new Ps(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!U(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!U(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new qr(this)}N(An,$),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){uo(this.g)},An.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=rn(f),f=E);v.i.push(new oc(v.Ya++,f)),v.G==3&&zs(v)},An.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,An.aa.N.call(this)};function wc(f){ui.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const E in v){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}N(wc,ui);function Ec(){Zl.call(this),this.status=1}N(Ec,Zl);function qr(f){this.g=f}N(qr,_c),qr.prototype.ua=function(){re(this.g,"a")},qr.prototype.ta=function(f){re(this.g,new wc(f))},qr.prototype.sa=function(f){re(this.g,new Ec)},qr.prototype.ra=function(){re(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,d_=function(){return new Bs},h_=function(){return qi()},f_=Ir,_p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Of=$i,ci.COMPLETE="complete",c_=ci,Kl.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",$.prototype.listen=$.prototype.K,uu=Kl,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,u_=at}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const X1="@firebase/firestore",K1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new n_("@firebase/firestore");function bl(){return bs.logLevel}function Ee(t,...e){if(bs.logLevel<=We.DEBUG){const n=e.map(c0);bs.debug(`Firestore (${Ul}): ${t}`,...n)}}function Li(t,...e){if(bs.logLevel<=We.ERROR){const n=e.map(c0);bs.error(`Firestore (${Ul}): ${t}`,...n)}}function Rl(t,...e){if(bs.logLevel<=We.WARN){const n=e.map(c0);bs.warn(`Firestore (${Ul}): ${t}`,...n)}}function c0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,m_(t,i,n)}function m_(t,e,n){let i=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Li(i),new Error(i)}function st(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||m_(e,s,i)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends zl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class a3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class s3{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let i=this.i;const s=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mi,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},h=d=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string",31837,{l:i}),new p_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class l3{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o3{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new l3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,FA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const i=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Z1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=c3(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function Ge(t,e){return t<e?-1:t>e?1:0}function wp(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),o=e.charAt(i);if(s!==o)return Gm(s)===Gm(o)?Ge(s,o):Gm(s)?1:-1}return Ge(t.length,e.length)}const f3=55296,h3=57343;function Gm(t){const e=t.charCodeAt(0);return e>=f3&&e<=h3}function jl(t,e,n){return t.length===e.length&&t.every(((i,s)=>n(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="__name__";class Kr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Oe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=Kr.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ge(e.length,n.length)}static compareSegments(e,n){const i=Kr.isNumericId(e),s=Kr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Kr.extractNumericId(e).compare(Kr.extractNumericId(n)):wp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wa.fromString(e.substring(4,e.length-2))}}class xt extends Kr{construct(e,n,i){return new xt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new xt(n)}static emptyPath(){return new xt([])}}const d3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Kr{construct(e,n,i){return new fn(e,n,i)}static isValidIdentifier(e){return d3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J1}static keyField(){return new fn([J1])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(xt.fromString(e))}static fromName(e){return new ke(xt.fromString(e).popFirst(5))}static empty(){return new ke(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e,n){if(!n)throw new _e(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m3(t,e,n,i){if(e===!0&&i===!0)throw new _e(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W1(t){if(!ke.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eb(t){if(ke.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ch(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ch(t);throw new _e(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function qu(t,e){if(!y_(t))throw new _e(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(s&&typeof u!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new _e(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=-62135596800,nb=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*nb);return new bt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tb)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nb}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Bt("string",bt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new bt(0,0))}static max(){return new Pe(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=-1;function p3(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(i===1e9?new bt(n+1,0):new bt(n,i));return new Ta(s,ke.empty(),e)}function g3(t){return new Ta(t.readTime,t.key,Nu)}class Ta{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ta(Pe.min(),ke.empty(),Nu)}static max(){return new Ta(Pe.max(),ke.empty(),Nu)}}function y3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==x3)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,i)=>{n(e)}))}static reject(e){return new he(((n,i)=>{i(e)}))}static waitFor(e){return new he(((n,i)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&n()}),(d=>i(d)))})),u=!0,o===s&&n()}))}static or(e){let n=he.resolve(!1);for(const i of e)n=n.next((s=>s?he.resolve(s):i()));return n}static forEach(e,n){const i=[];return e.forEach(((s,o)=>{i.push(n.call(this,s,o))})),this.waitFor(i)}static mapArray(e,n){return new he(((i,s)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const g=d;n(e[g]).next((x=>{u[g]=x,++h,h===o&&i(u)}),(x=>s(x)))}}))}static doWhile(e,n){return new he(((i,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):i()};o()}))}}function v3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ql(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=-1;function hh(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function _3(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="";function w3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rb(e)),e=E3(t.get(n),e);return rb(e)}function E3(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case x_:n+="";break;default:n+=o}}return n}function rb(t){return t+x_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}}class Af{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??cn.RED,this.left=s??cn.EMPTY,this.right=o??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new cn(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return cn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ab(this.data.getIterator())}getIteratorFrom(e){return new ab(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class ab{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new er([])}unionWith(e){let n=new Qt(fn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new v_("Invalid base64 string: "+o):o}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const T3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=T3.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Aa(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="server_timestamp",w_="__type__",E_="__previous_value__",T_="__local_write_time__";function d0(t){return(t?.mapValue?.fields||{})[w_]?.stringValue===__}function dh(t){const e=t.mapValue.fields[E_];return d0(e)?dh(e):e}function Cu(t){const e=Sa(t.mapValue.fields[T_].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n,i,s,o,u,h,d,g,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=x}}const Yf="(default)";class ku{constructor(e,n){this.projectId=e,this.database=n||Yf}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="__type__",A3="__max__",Nf={mapValue:{}},A_="__vector__",Xf="value";function Na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d0(t)?4:C3(t)?9007199254740991:N3(t)?10:11:Oe(28295,{value:t})}function ri(t,e){if(t===e)return!0;const n=Na(t);if(n!==Na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cu(t).isEqual(Cu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Sa(s.timestampValue),h=Sa(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Aa(s.bytesValue).isEqual(Aa(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Dt(s.geoPointValue.latitude)===Dt(o.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Dt(s.integerValue)===Dt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Dt(s.doubleValue),h=Dt(o.doubleValue);return u===h?Qf(u)===Qf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return jl(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(ib(u)!==ib(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ri(u[d],h[d])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function Ru(t,e){return(t.values||[]).find((n=>ri(n,e)))!==void 0}function Dl(t,e){if(t===e)return 0;const n=Na(t),i=Na(e);if(n!==i)return Ge(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Dt(o.integerValue||o.doubleValue),d=Dt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return sb(t.timestampValue,e.timestampValue);case 4:return sb(Cu(t),Cu(e));case 5:return wp(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=Aa(o),d=Aa(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let g=0;g<h.length&&g<d.length;g++){const x=Ge(h[g],d[g]);if(x!==0)return x}return Ge(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Ge(Dt(o.latitude),Dt(u.latitude));return h!==0?h:Ge(Dt(o.longitude),Dt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lb(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},g=h[Xf]?.arrayValue,x=d[Xf]?.arrayValue,b=Ge(g?.values?.length||0,x?.values?.length||0);return b!==0?b:lb(g,x)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Nf.mapValue&&u===Nf.mapValue)return 0;if(o===Nf.mapValue)return 1;if(u===Nf.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),g=u.fields||{},x=Object.keys(g);d.sort(),x.sort();for(let b=0;b<d.length&&b<x.length;++b){const _=wp(d[b],x[b]);if(_!==0)return _;const w=Dl(h[d[b]],g[x[b]]);if(w!==0)return w}return Ge(d.length,x.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function sb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Sa(t),i=Sa(e),s=Ge(n.seconds,i.seconds);return s!==0?s:Ge(n.nanos,i.nanos)}function lb(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=Dl(n[s],i[s]);if(o)return o}return Ge(n.length,i.length)}function Il(t){return Ep(t)}function Ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Sa(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Aa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=Ep(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${Ep(n.fields[u])}`;return s+"}"})(t.mapValue):Oe(61005,{value:t})}function Vf(t){switch(Na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dh(t);return e?16+Vf(e):16;case 5:return 2*t.stringValue.length;case 6:return Aa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+Vf(o)),0)})(t.arrayValue);case 10:case 11:return(function(i){let s=0;return Ra(i.fields,((o,u)=>{s+=o.length+Vf(u)})),s})(t.mapValue);default:throw Oe(13486,{value:t})}}function ob(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tp(t){return!!t&&"integerValue"in t}function m0(t){return!!t&&"arrayValue"in t}function ub(t){return!!t&&"nullValue"in t}function cb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function N3(t){return(t?.mapValue?.fields||{})[S_]?.stringValue===A_}function mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ra(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=mu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return{...t}}function C3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===A3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=fn.emptyPath(),i={},s=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,s),i={},s=[],n=h.popLast()}u?i[h.lastSegment()]=mu(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Pf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ra(n,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new zn(mu(this.value))}}function N_(t){const e=[];return Ra(t.fields,((n,i)=>{const s=new fn([n]);if(Pf(i)){const o=N_(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,i,s,o,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new yn(e,0,Pe.min(),Pe.min(),Pe.min(),zn.empty(),0)}static newFoundDocument(e,n,i,s){return new yn(e,1,n,Pe.min(),i,s,0)}static newNoDocument(e,n){return new yn(e,2,n,Pe.min(),Pe.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Pe.min(),Pe.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.position=e,this.inclusive=n}}function fb(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?i=ke.comparator(ke.fromName(u.referenceValue),n.key):i=Dl(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function hb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n="asc"){this.field=e,this.dir=n}}function k3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{}class Ut extends C_{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new j3(e,n,i):n==="array-contains"?new M3(e,i):n==="in"?new O3(e,i):n==="not-in"?new V3(e,i):n==="array-contains-any"?new P3(e,i):new Ut(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new D3(e,i):new I3(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dl(n,this.value)):n!==null&&Na(this.value)===Na(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends C_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new kr(e,n)}matches(e){return k_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k_(t){return t.op==="and"}function R_(t){return R3(t)&&k_(t)}function R3(t){for(const e of t.filters)if(e instanceof kr)return!1;return!0}function Sp(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+Il(t.value);if(R_(t))return t.filters.map((e=>Sp(e))).join(",");{const e=t.filters.map((n=>Sp(n))).join(",");return`${t.op}(${e})`}}function j_(t,e){return t instanceof Ut?(function(i,s){return s instanceof Ut&&i.op===s.op&&i.field.isEqual(s.field)&&ri(i.value,s.value)})(t,e):t instanceof kr?(function(i,s){return s instanceof kr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,u,h)=>o&&j_(u,s.filters[h])),!0):!1})(t,e):void Oe(19439)}function D_(t){return t instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${Il(n.value)}`})(t):t instanceof kr?(function(n){return n.op.toString()+" {"+n.getFilters().map(D_).join(" ,")+"}"})(t):"Filter"}class j3 extends Ut{constructor(e,n,i){super(e,n,i),this.key=ke.fromName(i.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class D3 extends Ut{constructor(e,n){super(e,"in",n),this.keys=I_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class I3 extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=I_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function I_(t,e){return(e.arrayValue?.values||[]).map((n=>ke.fromName(n.referenceValue)))}class M3 extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return m0(n)&&Ru(n.arrayValue,this.value)}}class O3 extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class V3 extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ru(this.value.arrayValue,n)}}class P3 extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!m0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Ru(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n=null,i=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function db(t,e=null,n=[],i=[],s=null,o=null,u=null){return new L3(t,e,n,i,s,o,u)}function p0(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Sp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Il(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Il(i))).join(",")),e.Te=n}return e.Te}function g0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!j_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hb(t.startAt,e.startAt)&&hb(t.endAt,e.endAt)}function Ap(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n=null,i=[],s=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z3(t,e,n,i,s,o,u,h){return new Fl(t,e,n,i,s,o,u,h)}function mh(t){return new Fl(t)}function mb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M_(t){return t.collectionGroup!==null}function pu(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Qt(fn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ju(o,i))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new ju(fn.keyField(),i))}return e.Ie}function Jr(t){const e=Le(t);return e.Ee||(e.Ee=U3(e,pu(t))),e.Ee}function U3(t,e){if(t.limitType==="F")return db(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new ju(s.field,o)}));const n=t.endAt?new Kf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Kf(t.startAt.position,t.startAt.inclusive):null;return db(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Np(t,e){const n=t.filters.concat([e]);return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cp(t,e,n){return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return g0(Jr(t),Jr(e))&&t.limitType===e.limitType}function O_(t){return`${p0(Jr(t))}|lt:${t.limitType}`}function vl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>D_(s))).join(", ")}]`),hh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>Il(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>Il(s))).join(",")),`Target(${i})`})(Jr(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ke.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,s){for(const o of pu(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(i,s){return!(i.startAt&&!(function(u,h,d){const g=fb(u,h,d);return u.inclusive?g<=0:g<0})(i.startAt,pu(i),s)||i.endAt&&!(function(u,h,d){const g=fb(u,h,d);return u.inclusive?g>=0:g>0})(i.endAt,pu(i),s))})(t,e)}function B3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V_(t){return(e,n)=>{let i=!1;for(const s of pu(t)){const o=q3(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function q3(t,e,n){const i=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(o,u,h){const d=u.data.field(o),g=h.data.field(o);return d!==null&&g!==null?Dl(d,g):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,((n,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return b_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Et(ke.comparator);function zi(){return F3}const P_=new Et(ke.comparator);function cu(...t){let e=P_;for(const n of t)e=e.insert(n.key,n);return e}function L_(t){let e=P_;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ds(){return gu()}function z_(){return gu()}function gu(){return new Ts((t=>t.toString()),((t,e)=>t.isEqual(e)))}const H3=new Et(ke.comparator),$3=new Qt(ke.comparator);function Qe(...t){let e=$3;for(const n of t)e=e.add(n);return e}const G3=new Qt(Ge);function Q3(){return G3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function U_(t){return{integerValue:""+t}}function Y3(t,e){return _3(e)?U_(e):y0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function X3(t,e,n){return t instanceof Du?(function(s,o){const u={fields:{[w_]:{stringValue:__},[T_]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&d0(o)&&(o=dh(o)),o&&(u.fields[E_]=o),{mapValue:u}})(n,e):t instanceof Iu?q_(t,e):t instanceof Mu?F_(t,e):(function(s,o){const u=B_(s,o),h=pb(u)+pb(s.Ae);return Tp(u)&&Tp(s.Ae)?U_(h):y0(s.serializer,h)})(t,e)}function K3(t,e,n){return t instanceof Iu?q_(t,e):t instanceof Mu?F_(t,e):n}function B_(t,e){return t instanceof Zf?(function(i){return Tp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Du extends yh{}class Iu extends yh{constructor(e){super(),this.elements=e}}function q_(t,e){const n=H_(e);for(const i of t.elements)n.some((s=>ri(s,i)))||n.push(i);return{arrayValue:{values:n}}}class Mu extends yh{constructor(e){super(),this.elements=e}}function F_(t,e){let n=H_(e);for(const i of t.elements)n=n.filter((s=>!ri(s,i)));return{arrayValue:{values:n}}}class Zf extends yh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function pb(t){return Dt(t.integerValue||t.doubleValue)}function H_(t){return m0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n){this.field=e,this.transform=n}}function J3(t,e){return t.field.isEqual(e.field)&&(function(i,s){return i instanceof Iu&&s instanceof Iu||i instanceof Mu&&s instanceof Mu?jl(i.elements,s.elements,ri):i instanceof Zf&&s instanceof Zf?ri(i.Ae,s.Ae):i instanceof Du&&s instanceof Du})(t.transform,e.transform)}class W3{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xh{}function $_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bh(t.key,jn.none()):new Fu(t.key,t.data,jn.none());{const n=t.data,i=zn.empty();let s=new Qt(fn.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new ja(t.key,i,new er(s.toArray()),jn.none())}}function eN(t,e,n){t instanceof Fu?(function(s,o,u){const h=s.value.clone(),d=yb(s.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ja?(function(s,o,u){if(!Lf(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=yb(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(G_(s)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function yu(t,e,n,i){return t instanceof Fu?(function(o,u,h,d){if(!Lf(o.precondition,u))return h;const g=o.value.clone(),x=xb(o.fieldTransforms,d,u);return g.setAll(x),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof ja?(function(o,u,h,d){if(!Lf(o.precondition,u))return h;const g=xb(o.fieldTransforms,d,u),x=u.data;return x.setAll(G_(o)),x.setAll(g),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(o,u,h){return Lf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function tN(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=B_(i.transform,s||null);o!=null&&(n===null&&(n=zn.empty()),n.set(i.field,o))}return n||null}function gb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&jl(i,s,((o,u)=>J3(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends xh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ja extends xh{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function G_(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function yb(t,e,n){const i=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,h=e.data.field(o.field);i.set(o.field,K3(u,h,n[s]))}return i}function xb(t,e,n){const i=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);i.set(s.field,X3(o,u,e))}return i}class bh extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nN extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&eN(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=yu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=yu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=z_();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(s.key)?null:h;const d=$_(u,h);d!==null&&i.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(Pe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,((n,i)=>gb(n,i)))&&jl(this.baseMutations,e.baseMutations,((n,i)=>gb(n,i)))}}class x0{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){st(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return H3})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new x0(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ze;function sN(t){switch(t){case ue.OK:return Oe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function Q_(t){if(t===void 0)return Li("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Lt.OK:return ue.OK;case Lt.CANCELLED:return ue.CANCELLED;case Lt.UNKNOWN:return ue.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ue.INTERNAL;case Lt.UNAVAILABLE:return ue.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ue.NOT_FOUND;case Lt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Lt.ABORTED:return ue.ABORTED;case Lt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Lt.DATA_LOSS:return ue.DATA_LOSS;default:return Oe(39323,{code:t})}}(Ze=Lt||(Lt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new wa([4294967295,4294967295],0);function bb(t){const e=lN().encode(t),n=new o_;return n.update(e),new Uint8Array(n.digest())}function vb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wa([n,i],0),new wa([s,o],0)]}class b0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new fu(`Invalid padding: ${n}`);if(i<0)throw new fu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wa.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(wa.fromNumber(i)));return s.compare(oN)===1&&(s=new wa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bb(e),[i,s]=vb(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);if(!this.we(u))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new b0(o,s,n);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=bb(e),[i,s]=vb(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new vh(Pe.min(),s,new Et(Ge),zi(),Qe())}}class Hu{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Hu(i,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,i,s){this.be=e,this.removedTargetIds=n,this.key=i,this.De=s}}class Y_{constructor(e,n){this.targetId=e,this.Ce=n}}class X_{constructor(e,n,i=hn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class _b{constructor(){this.ve=0,this.Fe=wb(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),i=Qe();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Oe(38017,{changeType:o})}})),new Hu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=wb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uN{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=Cf(),this.He=Cf(),this.Ye=new Et(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Ap(o))if(i===0){const u=new ke(o.path);this.et(n,u,yn.newNoDocument(u,Pe.min()))}else st(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let u,h;try{u=Aa(i).toUint8Array()}catch(d){if(d instanceof v_)return Rl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new b0(u,s,o)}catch(d){return Rl(d instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&Ap(h.target)){const d=new ke(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,yn.newNoDocument(d,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let i=Qe();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const g=this.ot(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new vh(e,n,this.Ye,this.je,i);return this.je=zi(),this.Je=Cf(),this.He=Cf(),this.Ye=new Et(Ge),s}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _b,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _b),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cf(){return new Et(ke.comparator)}function wb(){return new Et(ke.comparator)}const cN={asc:"ASCENDING",desc:"DESCENDING"},fN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hN={and:"AND",or:"OR"};class dN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kp(t,e){return t.useProto3Json||hh(e)?e:{value:e}}function Jf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mN(t,e){return Jf(t,e.toTimestamp())}function Wr(t){return st(!!t,49232),Pe.fromTimestamp((function(n){const i=Sa(n);return new bt(i.seconds,i.nanos)})(t))}function v0(t,e){return Rp(t,e).canonicalString()}function Rp(t,e){const n=(function(s){return new xt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Z_(t){const e=xt.fromString(t);return st(n2(e),10190,{key:e.toString()}),e}function jp(t,e){return v0(t.databaseId,e.path)}function Qm(t,e){const n=Z_(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(W_(n))}function J_(t,e){return v0(t.databaseId,e)}function pN(t){const e=Z_(t);return e.length===4?xt.emptyPath():W_(e)}function Dp(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W_(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Eb(t,e,n){return{name:jp(t,e),fields:n.value.mapValue.fields}}function gN(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(g,x){return g.useProto3Json?(st(x===void 0||typeof x=="string",58123),hn.fromBase64String(x||"")):(st(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),hn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(g){const x=g.code===void 0?ue.UNKNOWN:Q_(g.code);return new _e(x,g.message||"")})(u);n=new X_(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Qm(t,i.document.name),o=Wr(i.document.updateTime),u=i.document.createTime?Wr(i.document.createTime):Pe.min(),h=new zn({mapValue:{fields:i.document.fields}}),d=yn.newFoundDocument(s,o,u,h),g=i.targetIds||[],x=i.removedTargetIds||[];n=new zf(g,x,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Qm(t,i.document),o=i.readTime?Wr(i.readTime):Pe.min(),u=yn.newNoDocument(s,o),h=i.removedTargetIds||[];n=new zf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Qm(t,i.document),o=i.removedTargetIds||[];n=new zf([],o,s,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new aN(s,o),h=i.targetId;n=new Y_(h,u)}}return n}function yN(t,e){let n;if(e instanceof Fu)n={update:Eb(t,e.key,e.value)};else if(e instanceof bh)n={delete:jp(t,e.key)};else if(e instanceof ja)n={update:Eb(t,e.key,e.data),updateMask:AN(e.fieldMask)};else{if(!(e instanceof nN))return Oe(16599,{Vt:e.type});n={verify:jp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof Du)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Mu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Zf)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Oe(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:mN(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Oe(27497)})(t,e.precondition)),n}function xN(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(s,o){let u=s.updateTime?Wr(s.updateTime):Wr(o);return u.isEqual(Pe.min())&&(u=Wr(o)),new W3(u,s.transformResults||[])})(n,e)))):[]}function bN(t,e){return{documents:[J_(t,e.path)]}}function vN(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=J_(t,s);const o=(function(g){if(g.length!==0)return t2(kr.create(g,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(g){if(g.length!==0)return g.map((x=>(function(_){return{field:_l(_.field),direction:EN(_.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=kp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:s}}function _N(t){let e=pN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){st(i===1,65062);const x=n.from[0];x.allDescendants?s=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=(function(b){const _=e2(b);return _ instanceof kr&&R_(_)?_.getFilters():[_]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((_=>(function(N){return new ju(wl(N.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let _;return _=typeof b=="object"?b.value:b,hh(_)?null:_})(n.limit));let d=null;n.startAt&&(d=(function(b){const _=!!b.before,w=b.values||[];return new Kf(w,_)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const _=!b.before,w=b.values||[];return new Kf(w,_)})(n.endAt)),z3(e,s,u,o,h,"F",d,g)}function wN(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=wl(n.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=wl(n.unaryFilter.field);return Ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wl(n.unaryFilter.field);return Ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=wl(n.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ut.create(wl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return kr.create(n.compositeFilter.filters.map((i=>e2(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function EN(t){return cN[t]}function TN(t){return fN[t]}function SN(t){return hN[t]}function _l(t){return{fieldPath:t.canonicalString()}}function wl(t){return fn.fromServerFormat(t.fieldPath)}function t2(t){return t instanceof Ut?(function(n){if(n.op==="=="){if(cb(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NAN"}};if(ub(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cb(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NAN"}};if(ub(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(n.field),op:TN(n.op),value:n.value}}})(t):t instanceof kr?(function(n){const i=n.getFilters().map((s=>t2(s)));return i.length===1?i[0]:{compositeFilter:{op:SN(n.op),filters:i}}})(t):Oe(54877,{filter:t})}function AN(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function n2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,i,s,o=Pe.min(),u=Pe.min(),h=hn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.yt=e}}function CN(t){const e=_N({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Cn=new RN}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Ta.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Ta.min())}updateCollectionGroup(e,n,i){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class RN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Qt(xt.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Qt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r2=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(r2,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ml(0)}static cr(){return new Ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="LruGarbageCollector",jN=1048576;function Ab([t,e],[n,i]){const s=Ge(t,n);return s===0?Ge(e,i):s}class DN{constructor(e){this.Ir=e,this.buffer=new Qt(Ab),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Ab(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(Sb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ql(n)?Ee(Sb,"Ignoring IndexedDB error during garbage collection: ",n):await Bl(n)}await this.Vr(3e5)}))}}class MN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(fh.ce);const i=new DN(n);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Tb)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,o,u,h,d,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,u=Date.now(),this.nthSequenceNumber(e,s)))).next((b=>(i=b,h=Date.now(),this.removeTargets(e,i,n)))).next((b=>(o=b,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(g=Date.now(),bl()<=We.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(g-d)+`ms
Total Duration: ${g-x}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b}))))}}function ON(t,e){return new MN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.changes=new Ts((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?he.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(i!==null&&yu(i.mutation,s,er.empty(),bt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Qe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Qe()){const s=ds();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,i).next((o=>{let u=cu();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=ds();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Qe())))}populateOverlays(e,n,i){const s=[];return i.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,i,s){let o=zi();const u=gu(),h=(function(){return gu()})();return n.forEach(((d,g)=>{const x=i.get(g.key);s.has(g.key)&&(x===void 0||x.mutation instanceof ja)?o=o.insert(g.key,g):x!==void 0?(u.set(g.key,x.mutation.getFieldMask()),yu(x.mutation,g,x.mutation.getFieldMask(),bt.now())):u.set(g.key,er.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((g,x)=>u.set(g,x))),n.forEach(((g,x)=>h.set(g,new PN(x,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=gu();let s=new Et(((u,h)=>u-h)),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const g=n.get(d);if(g===null)return;let x=i.get(d)||er.empty();x=h.applyToLocalView(g,x),i.set(d,x);const b=(s.get(h.batchId)||Qe()).add(d);s=s.insert(h.batchId,b)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),g=d.key,x=d.value,b=z_();x.forEach((_=>{if(!o.has(_)){const w=$_(n.get(_),i.get(_));w!==null&&b.set(_,w),o=o.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return he.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,s){return(function(u){return ke.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):he.resolve(ds());let h=Nu,d=o;return u.next((g=>he.forEach(g,((x,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(x)?he.resolve():this.remoteDocumentCache.getEntry(e,x).next((_=>{d=d.insert(x,_)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,d,g,Qe()))).next((x=>({batchId:h,changes:L_(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((i=>{let s=cu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let u=cu();return this.indexManager.getCollectionParents(e,o).next((h=>he.forEach(h,(d=>{const g=(function(b,_){return new Fl(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next((x=>{x.forEach(((b,_)=>{u=u.insert(b,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s)))).next((u=>{o.forEach(((d,g)=>{const x=g.getKey();u.get(x)===null&&(u=u.insert(x,yn.newInvalidDocument(x)))}));let h=cu();return u.forEach(((d,g)=>{const x=o.get(d);x!==void 0&&yu(x.mutation,g,er.empty(),bt.now()),gh(n,g)&&(h=h.insert(d,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Wr(s.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:CN(s.bundledQuery),readTime:Wr(s.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.overlays=new Et(ke.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ds();return he.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((s,o)=>{this.St(e,n,o)})),he.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),he.resolve()}getOverlaysForCollection(e,n,i){const s=ds(),o=n.length+1,u=new ke(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return he.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new Et(((g,x)=>g-x));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let x=o.get(g.largestBatchId);x===null&&(x=ds(),o=o.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const h=ds(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((g,x)=>h.set(g,x))),!(h.size()>=s)););return he.resolve(h)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new iN(n,i));let o=this.qr.get(n);o===void 0&&(o=Qe(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.Qr=new Qt(Wt.$r),this.Ur=new Qt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Wt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new ke(new xt([])),i=new Wt(n,e),s=new Wt(n,e+1),o=[];return this.Ur.forEachInRange([i,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new xt([])),i=new Wt(n,e),s=new Wt(n,e+1);let o=Qe();return this.Ur.forEachInRange([i,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new Wt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Wt.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new rN(o,n,i,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new Wt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),o=s<0?0:s;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?h0:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Wt(n,0),s=new Wt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Qt(Ge);return n.forEach((s=>{const o=new Wt(s,0),u=new Wt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{i=i.add(h.Yr)}))})),he.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;ke.isDocumentKey(o)||(o=o.child(""));const u=new Wt(new ke(o),0);let h=new Qt(Ge);return this.Zr.forEachWhile((d=>{const g=d.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(h=h.add(d.Yr)),!0)}),u),he.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return he.forEach(n.mutations,(s=>{const o=new Wt(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Wt(n,0),s=this.Zr.firstAfterOrEqual(i);return he.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.ri=e,this.docs=(function(){return new Et(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return he.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let i=zi();return n.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():yn.newInvalidDocument(s))})),he.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=zi();const u=n.path,h=new ke(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:g,value:{document:x}}=d.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||y3(g3(x),i)<=0||(s.has(x.key)||gh(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Oe(9500)}ii(e,n){return he.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new HN(this)}getSize(e){return he.resolve(this.size)}}class HN extends VN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.persistence=e,this.si=new Ts((n=>p0(n)),g0),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new _0,this.targetCount=0,this.ai=Ml.ur()}forEachTarget(e,n){return this.si.forEach(((i,s)=>n(s))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),he.waitFor(o).next((()=>s))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return he.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),he.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),he.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return he.resolve(i)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new BN,this.referenceDelegate=e(this),this.Pi=new $N(this),this.indexManager=new kN,this.remoteDocumentCache=(function(s){return new FN(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new NN(n),this.Ii=new zN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new qN(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ee("MemoryPersistence","Starting transaction:",e);const s=new GN(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return he.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class GN extends b3{constructor(e){super(),this.currentSequenceNumber=e}}class w0{constructor(e){this.persistence=e,this.Ri=new _0,this.Vi=null}static mi(e){return new w0(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),he.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(i=>{const s=ke.fromPath(i);return this.gi(e,s).next((o=>{o||n.removeEntry(s,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wf{constructor(e,n){this.persistence=e,this.pi=new Ts((i=>w3(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=ON(this,n)}static mi(e,n){return new Wf(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((s=>i+s))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((i,s)=>this.br(e,i,s).next((o=>o?he.resolve():n(s)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,n).next((h=>{h||(i++,o.removeEntry(u,Pe.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vf(e.data.value)),n}br(e,n,i){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return he.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=Qe(),s=Qe();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new E0(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return US()?8:v3(LS())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,s,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new QN;return this.Ss(e,n,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>o.result))}bs(e,n,i,s){return i.documentReadCount<this.fs?(bl()<=We.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(bl()<=We.DEBUG&&Ee("QueryEngine","Query:",vl(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(bl()<=We.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):he.resolve())}ys(e,n){if(mb(n))return he.resolve(null);let i=Jr(n);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Cp(n,null,"F"),i=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=Qe(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const g=this.Ds(n,h);return this.Cs(n,g,u,d.readTime)?this.ys(e,Cp(n,null,"F")):this.vs(e,g,n,d)}))))})))))}ws(e,n,i,s){return mb(n)||s.isEqual(Pe.min())?he.resolve(null):this.ps.getDocuments(e,i).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,i,s)?he.resolve(null):(bl()<=We.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vl(n)),this.vs(e,u,n,p3(s,Nu)).next((h=>h)))}))}Ds(e,n){let i=new Qt(V_(e));return n.forEach(((s,o)=>{gh(e,o)&&(i=i.add(o))})),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,i){return bl()<=We.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",vl(n)),this.ps.getDocumentsMatchingQuery(e,n,Ta.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LocalStore",XN=3e8;class KN{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Et(Ge),this.xs=new Ts((o=>p0(o)),g0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZN(t,e,n,i){return new KN(t,e,n,i)}async function a2(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let d=Qe();for(const g of s){u.push(g.batchId);for(const x of g.mutations)d=d.add(x.key)}for(const g of o){h.push(g.batchId);for(const x of g.mutations)d=d.add(x.key)}return n.localDocuments.getDocuments(i,d).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function JN(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,g,x){const b=g.batch,_=b.keys();let w=he.resolve();return _.forEach((N=>{w=w.next((()=>x.getEntry(d,N))).next((O=>{const V=g.docVersions.get(N);st(V!==null,48541),O.version.compareTo(V)<0&&(b.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),x.addEntry(O)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(d,b)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Qe();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(d=d.add(h.batch.mutations[g].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function s2(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function WN(t,e){const n=Le(t),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const h=[];e.targetChanges.forEach(((x,b)=>{const _=s.get(b);if(!_)return;h.push(n.Pi.removeMatchingKeys(o,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,x.addedDocuments,b))));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(hn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):x.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(x.resumeToken,i)),s=s.insert(b,w),(function(O,V,z){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=XN?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(_,w,x)&&h.push(n.Pi.updateTargetData(o,w))}));let d=zi(),g=Qe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))})),h.push(e6(o,u,e.documentUpdates).next((x=>{d=x.ks,g=x.qs}))),!i.isEqual(Pe.min())){const x=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(x)}return he.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,g))).next((()=>d))})).then((o=>(n.Ms=s,o)))}function e6(t,e,n){let i=Qe(),s=Qe();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let u=zi();return n.forEach(((h,d)=>{const g=o.get(h);d.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):Ee(T0,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",d.version)})),{ks:u,qs:s}}))}function t6(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=h0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function n6(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,e).next((o=>o?(s=o,he.resolve(s)):n.Pi.allocateTargetId(i).next((u=>(s=new ba(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Ip(t,e,n){const i=Le(t),s=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!ql(u))throw u;Ee(T0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function Nb(t,e,n){const i=Le(t);let s=Pe.min(),o=Qe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,g,x){const b=Le(d),_=b.xs.get(x);return _!==void 0?he.resolve(b.Ms.get(_)):b.Pi.getTargetData(g,x)})(i,u,Jr(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?s:Pe.min(),n?o:Qe()))).next((h=>(r6(i,B3(e),h),{documents:h,Qs:o})))))}function r6(t,e,n){let i=t.Os.get(e)||Pe.min();n.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.Os.set(e,i)}class Cb{constructor(){this.activeTargetIds=Q3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i6{constructor(){this.Mo=new Cb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="ConnectivityMonitor";class Rb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(kb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(kb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=null;function Mp(){return kf===null?kf=(function(){return 268435456+Math.round(2147483648*Math.random())})():kf++,"0x"+kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",s6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Yf?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,o){const u=Mp(),h=this.zo(e,n.toUriEncodedString());Ee(Ym,`Sending RPC '${e}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:g}=new URL(h),x=o0(g);return this.Jo(e,h,d,i,x).then((b=>(Ee(Ym,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Rl(Ym,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",i),b}))}Ho(e,n,i,s,o,u){return this.Go(e,n,i,s,o)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const i=s6[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class u6 extends l6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,o){const u=Mp();return new Promise(((h,d)=>{const g=new u_;g.setWithCredentials(!0),g.listenOnce(c_.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Of.NO_ERROR:const b=g.getResponseJson();Ee(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case Of.TIMEOUT:Ee(pn,`RPC '${e}' ${u} timed out`),d(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const _=g.getStatus();if(Ee(pn,`RPC '${e}' ${u} failed with status:`,_,"response text:",g.getResponseText()),_>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w?.error;if(N&&N.status&&N.message){const O=(function(z){const U=z.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(U)>=0?U:ue.UNKNOWN})(N.status);d(new _e(O,N.message))}else d(new _e(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ee(pn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(s);Ee(pn,`RPC '${e}' ${u} sending request:`,s),g.send(n,"POST",x,i,15)}))}T_(e,n,i){const s=Mp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=d_(),h=h_(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const x=o.join("");Ee(pn,`Creating RPC '${e}' stream ${s}: ${x}`,d);const b=u.createWebChannel(x,d);this.I_(b);let _=!1,w=!1;const N=new o6({Yo:V=>{w?Ee(pn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(_||(Ee(pn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),_=!0),Ee(pn,`RPC '${e}' stream ${s} sending:`,V),b.send(V))},Zo:()=>b.close()}),O=(V,z,U)=>{V.listen(z,(L=>{try{U(L)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return O(b,uu.EventType.OPEN,(()=>{w||(Ee(pn,`RPC '${e}' stream ${s} transport opened.`),N.o_())})),O(b,uu.EventType.CLOSE,(()=>{w||(w=!0,Ee(pn,`RPC '${e}' stream ${s} transport closed`),N.a_(),this.E_(b))})),O(b,uu.EventType.ERROR,(V=>{w||(w=!0,Rl(pn,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),N.a_(new _e(ue.UNAVAILABLE,"The operation could not be completed")))})),O(b,uu.EventType.MESSAGE,(V=>{if(!w){const z=V.data[0];st(!!z,16349);const U=z,L=U?.error||U[0]?.error;if(L){Ee(pn,`RPC '${e}' stream ${s} received error:`,L);const Q=L.status;let F=(function(k){const M=Lt[k];if(M!==void 0)return Q_(M)})(Q),q=L.message;F===void 0&&(F=ue.INTERNAL,q="Unknown error status: "+Q+" with message "+L.message),w=!0,N.a_(new _e(F,q)),b.close()}else Ee(pn,`RPC '${e}' stream ${s} received:`,z),N.u_(z)}})),O(h,f_.STAT_EVENT,(V=>{V.stat===_p.PROXY?Ee(pn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===_p.NOPROXY&&Ee(pn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){return new dN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="PersistentStream";class o2{constructor(e,n,i,s,o,u,h,d){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{e((()=>{const s=new _e(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(jb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(jb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c6 extends o2{constructor(e,n,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gN(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Pe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?Wr(u.readTime):Pe.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Dp(this.serializer),n.addTarget=(function(o,u){let h;const d=u.target;if(h=Ap(d)?{documents:bN(o,d)}:{query:vN(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=K_(o,u.resumeToken);const g=kp(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Pe.min())>0){h.readTime=Jf(o,u.snapshotVersion.toTimestamp());const g=kp(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const i=wN(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.q_(n)}}class f6 extends o2{constructor(e,n,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xN(e.writeResults,e.commitTime),i=Wr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Dp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>yN(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{}class d6 extends h6{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,Rp(n,i),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ue.UNKNOWN,o.toString())}))}Ho(e,n,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Rp(n,i),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ue.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class m6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="RemoteStore";class p6{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ss(this)&&(Ee(vs,"Restarting streams for network reachability change."),await(async function(d){const g=Le(d);g.Ea.add(4),await $u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await wh(g)})(this))}))})),this.Ra=new m6(i,s)}}async function wh(t){if(Ss(t))for(const e of t.da)await e(!0)}async function $u(t){for(const e of t.da)await e(!1)}function u2(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),C0(n)?N0(n):Hl(n).O_()&&A0(n,e))}function S0(t,e){const n=Le(t),i=Hl(n);n.Ia.delete(e),i.O_()&&c2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ss(n)&&n.Ra.set("Unknown"))}function A0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hl(t).Y_(e)}function c2(t,e){t.Va.Ue(e),Hl(t).Z_(e)}function N0(t){t.Va=new uN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hl(t).start(),t.Ra.ua()}function C0(t){return Ss(t)&&!Hl(t).x_()&&t.Ia.size>0}function Ss(t){return Le(t).Ea.size===0}function f2(t){t.Va=void 0}async function g6(t){t.Ra.set("Online")}async function y6(t){t.Ia.forEach(((e,n)=>{A0(t,e)}))}async function x6(t,e){f2(t),C0(t)?(t.Ra.ha(e),N0(t)):t.Ra.set("Unknown")}async function b6(t,e,n){if(t.Ra.set("Online"),e instanceof X_&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))})(t,e)}catch(i){Ee(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await eh(t,i)}else if(e instanceof zf?t.Va.Ze(e):e instanceof Y_?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const i=await s2(t.localStore);n.compareTo(i)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const x=o.Ia.get(g);x&&o.Ia.set(g,x.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,g)=>{const x=o.Ia.get(d);if(!x)return;o.Ia.set(d,x.withResumeToken(hn.EMPTY_BYTE_STRING,x.snapshotVersion)),c2(o,d);const b=new ba(x.target,d,g,x.sequenceNumber);A0(o,b)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){Ee(vs,"Failed to raise snapshot:",i),await eh(t,i)}}async function eh(t,e,n){if(!ql(e))throw e;t.Ea.add(1),await $u(t),t.Ra.set("Offline"),n||(n=()=>s2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(vs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wh(t)}))}function h2(t,e){return e().catch((n=>eh(t,n,e)))}async function Eh(t){const e=Le(t),n=Ca(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:h0;for(;v6(e);)try{const s=await t6(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,_6(e,s)}catch(s){await eh(e,s)}d2(e)&&m2(e)}function v6(t){return Ss(t)&&t.Ta.length<10}function _6(t,e){t.Ta.push(e);const n=Ca(t);n.O_()&&n.X_&&n.ea(e.mutations)}function d2(t){return Ss(t)&&!Ca(t).x_()&&t.Ta.length>0}function m2(t){Ca(t).start()}async function w6(t){Ca(t).ra()}async function E6(t){const e=Ca(t);for(const n of t.Ta)e.ea(n.mutations)}async function T6(t,e,n){const i=t.Ta.shift(),s=x0.from(i,e,n);await h2(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Eh(t)}async function S6(t,e){e&&Ca(t).X_&&await(async function(i,s){if((function(u){return sN(u)&&u!==ue.ABORTED})(s.code)){const o=i.Ta.shift();Ca(i).B_(),await h2(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Eh(i)}})(t,e),d2(t)&&m2(t)}async function Db(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),Ee(vs,"RemoteStore received new credentials");const i=Ss(n);n.Ea.add(3),await $u(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wh(n)}async function A6(t,e){const n=Le(t);e?(n.Ea.delete(2),await wh(n)):e||(n.Ea.add(2),await $u(n),n.Ra.set("Unknown"))}function Hl(t){return t.ma||(t.ma=(function(n,i,s){const o=Le(n);return o.sa(),new c6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:g6.bind(null,t),t_:y6.bind(null,t),r_:x6.bind(null,t),H_:b6.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),C0(t)?N0(t):t.Ra.set("Unknown")):(await t.ma.stop(),f2(t))}))),t.ma}function Ca(t){return t.fa||(t.fa=(function(n,i,s){const o=Le(n);return o.sa(),new f6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:w6.bind(null,t),r_:S6.bind(null,t),ta:E6.bind(null,t),na:T6.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Eh(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(vs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const u=Date.now()+i,h=new k0(e,n,u,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R0(t,e){if(Li("AsyncQueue",`${e}: ${t}`),ql(t))return new _e(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{static emptySet(e){return new Al(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ke.comparator(n.key,i.key):(n,i)=>ke.comparator(n.key,i.key),this.keyedMap=cu(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Al;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.ga=new Et(ke.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ol{constructor(e,n,i,s,o,u,h,d,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,s,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Ol(e,n,Al.emptySet(n),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class C6{constructor(){this.queries=Mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Le(n),o=s.queries;s.queries=Mb(),o.forEach(((u,h)=>{for(const d of h.Sa)d.onError(i)}))})(this,new _e(ue.ABORTED,"Firestore shutting down"))}}function Mb(){return new Ts((t=>O_(t)),ph)}async function j0(t,e){const n=Le(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(i=2):(o=new N6,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const h=R0(u,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&I0(n)}async function D0(t,e){const n=Le(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function k6(t,e){const n=Le(t);let i=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(i=!0);u.wa=s}}i&&I0(n)}function R6(t,e,n){const i=Le(t),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);i.queries.delete(e)}function I0(t){t.Ca.forEach((e=>{e.next()}))}var Op,Ob;(Ob=Op||(Op={})).Ma="default",Ob.Cache="cache";class M0{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Ol(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.key=e}}class g2{constructor(e){this.key=e}}class j6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=V_(e),this.tu=new Al(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Ib,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((x,b)=>{const _=s.get(x),w=gh(this.query,b)?b:null,N=!!_&&this.mutatedKeys.has(_.key),O=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let V=!1;_&&w?_.data.isEqual(w.data)?N!==O&&(i.track({type:3,doc:w}),V=!0):this.su(_,w)||(i.track({type:2,doc:w}),V=!0,(d&&this.eu(w,d)>0||g&&this.eu(w,g)<0)&&(h=!0)):!_&&w?(i.track({type:0,doc:w}),V=!0):_&&!w&&(i.track({type:1,doc:_}),V=!0,(d||g)&&(h=!0)),V&&(w?(u=u.add(w),o=O?o.add(x):o.delete(x)):(u=u.delete(x),o=o.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),o=o.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,b)=>(function(w,N){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:V})}};return O(w)-O(N)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(i),s=s??!1;const h=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,g=d!==this.Za;return this.Za=d,u.length!==0||g?{snapshot:new Ol(this.query,e.tu,o,u,e.mutatedKeys,d===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ib,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new g2(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new p2(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const O0="SyncEngine";class D6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class I6{constructor(e){this.key=e,this.hu=!1}}class M6{constructor(e,n,i,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ts((h=>O_(h)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new Et(ke.comparator),this.Au=new Map,this.Ru=new _0,this.Vu={},this.mu=new Map,this.fu=Ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O6(t,e,n=!0){const i=w2(t);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await y2(i,e,n,!0),s}async function V6(t,e){const n=w2(t);await y2(n,e,!0,!1)}async function y2(t,e,n,i){const s=await n6(t.localStore,Jr(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await P6(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&u2(t.remoteStore,s),h}async function P6(t,e,n,i,s){t.pu=(b,_,w)=>(async function(O,V,z,U){let L=V.view.ru(z);L.Cs&&(L=await Nb(O.localStore,V.query,!1).then((({documents:D})=>V.view.ru(D,L))));const Q=U&&U.targetChanges.get(V.targetId),F=U&&U.targetMismatches.get(V.targetId)!=null,q=V.view.applyChanges(L,O.isPrimaryClient,Q,F);return Pb(O,V.targetId,q.au),q.snapshot})(t,b,_,w);const o=await Nb(t.localStore,e,!0),u=new j6(e,o.Qs),h=u.ru(o.documents),d=Hu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),g=u.applyChanges(h,t.isPrimaryClient,d);Pb(t,n,g.au);const x=new D6(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function L6(t,e,n){const i=Le(t),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((u=>!ph(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Ip(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&S0(i.remoteStore,s.targetId),Vp(i,s.targetId)})).catch(Bl)):(Vp(i,s.targetId),await Ip(i.localStore,s.targetId,!0))}async function z6(t,e){const n=Le(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),S0(n.remoteStore,i.targetId))}async function U6(t,e,n){const i=Q6(t);try{const s=await(function(u,h){const d=Le(u),g=bt.now(),x=h.reduce(((w,N)=>w.add(N.key)),Qe());let b,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let N=zi(),O=Qe();return d.Ns.getEntries(w,x).next((V=>{N=V,N.forEach(((z,U)=>{U.isValidDocument()||(O=O.add(z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,N))).next((V=>{b=V;const z=[];for(const U of h){const L=tN(U,b.get(U.key).overlayedDocument);L!=null&&z.push(new ja(U.key,L,N_(L.value.mapValue),jn.exists(!0)))}return d.mutationQueue.addMutationBatch(w,g,z,h)})).next((V=>{_=V;const z=V.applyToLocalDocumentSet(b,O);return d.documentOverlayCache.saveOverlays(w,V.batchId,z)}))})).then((()=>({batchId:_.batchId,changes:L_(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(u,h,d){let g=u.Vu[u.currentUser.toKey()];g||(g=new Et(Ge)),g=g.insert(h,d),u.Vu[u.currentUser.toKey()]=g})(i,s.batchId,n),await Gu(i,s.changes),await Eh(i.remoteStore)}catch(s){const o=R0(s,"Failed to persist write");n.reject(o)}}async function x2(t,e){const n=Le(t);try{const i=await WN(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=n.Au.get(o);u&&(st(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?st(u.hu,14607):s.removedDocuments.size>0&&(st(u.hu,42227),u.hu=!1))})),await Gu(n,i,e)}catch(i){await Bl(i)}}function Vb(t,e,n){const i=Le(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const d=Le(u);d.onlineState=h;let g=!1;d.queries.forEach(((x,b)=>{for(const _ of b.Sa)_.va(h)&&(g=!0)})),g&&I0(d)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function B6(t,e,n){const i=Le(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),o=s&&s.key;if(o){let u=new Et(ke.comparator);u=u.insert(o,yn.newNoDocument(o,Pe.min()));const h=Qe().add(o),d=new vh(Pe.min(),new Map,new Et(Ge),u,h);await x2(i,d),i.du=i.du.remove(o),i.Au.delete(e),V0(i)}else await Ip(i.localStore,e,!1).then((()=>Vp(i,e,n))).catch(Bl)}async function q6(t,e){const n=Le(t),i=e.batch.batchId;try{const s=await JN(n.localStore,e);v2(n,i,null),b2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Gu(n,s)}catch(s){await Bl(s)}}async function F6(t,e,n){const i=Le(t);try{const s=await(function(u,h){const d=Le(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return d.mutationQueue.lookupMutationBatch(g,h).next((b=>(st(b!==null,37113),x=b.keys(),d.mutationQueue.removeMutationBatch(g,b)))).next((()=>d.mutationQueue.performConsistencyCheck(g))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(g,x,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>d.localDocuments.getDocuments(g,x)))}))})(i.localStore,e);v2(i,e,n),b2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Gu(i,s)}catch(s){await Bl(s)}}function b2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function v2(t,e,n){const i=Le(t);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function Vp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||_2(t,i)}))}function _2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(S0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),V0(t))}function Pb(t,e,n){for(const i of n)i instanceof p2?(t.Ru.addReference(i.key,e),H6(t,i)):i instanceof g2?(Ee(O0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||_2(t,i.key)):Oe(19791,{wu:i})}function H6(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Ee(O0,"New document in limbo: "+n),t.Eu.add(i),V0(t))}function V0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(xt.fromString(e)),i=t.fu.next();t.Au.set(i,new I6(n)),t.du=t.du.insert(n,i),u2(t.remoteStore,new ba(Jr(mh(n.path)),i,"TargetPurposeLimboResolution",fh.ce))}}async function Gu(t,e,n){const i=Le(t),s=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const x=g?!g.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,x?"current":"not-current")}if(g){s.push(g);const x=E0.As(d.targetId,g);o.push(x)}})))})),await Promise.all(u),i.Pu.H_(s),await(async function(d,g){const x=Le(d);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>he.forEach(g,(_=>he.forEach(_.Es,(w=>x.persistence.referenceDelegate.addReference(b,_.targetId,w))).next((()=>he.forEach(_.ds,(w=>x.persistence.referenceDelegate.removeReference(b,_.targetId,w)))))))))}catch(b){if(!ql(b))throw b;Ee(T0,"Failed to update sequence numbers: "+b)}for(const b of g){const _=b.targetId;if(!b.fromCache){const w=x.Ms.get(_),N=w.snapshotVersion,O=w.withLastLimboFreeSnapshotVersion(N);x.Ms=x.Ms.insert(_,O)}}})(i.localStore,o))}async function $6(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){Ee(O0,"User change. New user:",e.toKey());const i=await a2(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new _e(ue.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Gu(n,i.Ls)}}function G6(t,e){const n=Le(t),i=n.Au.get(e);if(i&&i.hu)return Qe().add(i.key);{let s=Qe();const o=n.Iu.get(e);if(!o)return s;for(const u of o){const h=n.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function w2(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B6.bind(null,e),e.Pu.H_=k6.bind(null,e.eventManager),e.Pu.yu=R6.bind(null,e.eventManager),e}function Q6(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F6.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZN(this.persistence,new YN,e.initialUser,this.serializer)}Cu(e){return new i2(w0.mi,this.serializer)}Du(e){return new i6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class Y6 extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Wf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new IN(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new i2((i=>Wf.mi(i,n)),this.serializer)}}class Pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Vb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$6.bind(null,this.syncEngine),await A6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C6})()}createDatastore(e){const n=_h(e.databaseInfo.databaseId),i=(function(o){return new u6(o)})(e.databaseInfo);return(function(o,u,h,d){return new d6(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,s,o,u,h){return new p6(i,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Vb(this.syncEngine,n,0)),(function(){return Rb.v()?new Rb:new a6})())}createSyncEngine(e,n){return(function(s,o,u,h,d,g,x){const b=new M6(s,o,u,h,d,g);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Le(n);Ee(vs,"RemoteStore shutting down."),i.Ea.add(5),await $u(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class X6{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=gn.UNAUTHENTICATED,this.clientId=f0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{Ee(ka,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Ee(ka,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=R0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Km(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(ka,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async s=>{i.isEqual(s)||(await a2(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Lb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K6(t);Ee(ka,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>Db(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,s)=>Db(e.remoteStore,s))),t._onlineComponents=e}async function K6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(ka,"Using user provided OfflineComponentProvider");try{await Km(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Rl("Error using user provided cache. Falling back to memory cache: "+n),await Km(t,new th)}}else Ee(ka,"Using default OfflineComponentProvider"),await Km(t,new Y6(void 0));return t._offlineComponents}async function E2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(ka,"Using user provided OnlineComponentProvider"),await Lb(t,t._uninitializedComponentsProvider._online)):(Ee(ka,"Using default OnlineComponentProvider"),await Lb(t,new Pp))),t._onlineComponents}function Z6(t){return E2(t).then((e=>e.syncEngine))}async function nh(t){const e=await E2(t),n=e.eventManager;return n.onListen=O6.bind(null,e.syncEngine),n.onUnlisten=L6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z6.bind(null,e.syncEngine),n}function J6(t,e,n={}){const i=new Mi;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,g){const x=new P0({next:_=>{x.Nu(),u.enqueueAndForget((()=>D0(o,b)));const w=_.docs.has(h);!w&&_.fromCache?g.reject(new _e(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&d&&d.source==="server"?g.reject(new _e(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new M0(mh(h.path),x,{includeMetadataChanges:!0,qa:!0});return j0(o,b)})(await nh(t),t.asyncQueue,e,n,i))),i.promise}function W6(t,e,n={}){const i=new Mi;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,g){const x=new P0({next:_=>{x.Nu(),u.enqueueAndForget((()=>D0(o,b))),_.fromCache&&d.source==="server"?g.reject(new _e(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new M0(h,x,{includeMetadataChanges:!0,qa:!0});return j0(o,b)})(await nh(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="firestore.googleapis.com",Ub=!0;class Bb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S2,this.ssl=Ub}else this.host=e.host,this.ssl=e.ssl??Ub;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jN)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new i3;switch(i.type){case"firstParty":return new o3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=zb.get(n);i&&(Ee("ComponentProvider","Removing Datastore"),zb.delete(n),i.terminate())})(this),Promise.resolve()}}function eC(t,e,n,i={}){t=Rn(t,Th);const s=o0(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;s&&(IS(`https://${h}`),PS("Firestore",!0)),o.host!==S2&&o.host!==h&&Rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:s,emulatorOptions:i};if(!Hf(d,u)&&(t._setSettings(d),i.mockUserToken)){let g,x;if(typeof i.mockUserToken=="string")g=i.mockUserToken,x=gn.MOCK_USER;else{g=MS(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new gn(b)}t._authCredentials=new a3(new p_(g,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class Nt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(qu(n,Nt._jsonSchema))return new Nt(e,i||null,new ke(xt.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Bt("string",Nt._jsonSchemaVersion),referencePath:Bt("string")};class Ea extends Da{constructor(e,n,i){super(e,n,mh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ke(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function Ou(t,e,...n){if(t=br(t),g_("collection","path",e),t instanceof Th){const i=xt.fromString(e,...n);return eb(i),new Ea(t,null,i)}{if(!(t instanceof Nt||t instanceof Ea))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xt.fromString(e,...n));return eb(i),new Ea(t.firestore,null,i)}}function Wn(t,e,...n){if(t=br(t),arguments.length===1&&(e=f0.newId()),g_("doc","path",e),t instanceof Th){const i=xt.fromString(e,...n);return W1(i),new Nt(t,null,new ke(i))}{if(!(t instanceof Nt||t instanceof Ea))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xt.fromString(e,...n));return W1(i),new Nt(t.firestore,t instanceof Ea?t.converter:null,new ke(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="AsyncQueue";class Fb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l2(this,"async_queue_retry"),this._c=()=>{const i=Xm();i&&Ee(qb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ql(e))throw e;Ee(qb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",Hb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=k0.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Oe(47125,{Pc:Hb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Hb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ii extends Th{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Fb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fb(e),this._firestoreClient=void 0,await e}}}function tC(t,e){const n=typeof t=="object"?t:QA(),i=typeof t=="string"?t:Yf,s=qA(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=jS("firestore");o&&eC(s,...o)}return s}function Qu(t){if(t._terminated)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nC(t),t._firestoreClient}function nC(t){const e=t._freezeSettings(),n=(function(s,o,u,h){return new S3(s,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,T2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new X6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(hn.fromBase64String(e))}catch(n){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yr(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:Bt("string",yr._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(qu(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:Bt("string",ei._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ti(e.vectorValues);throw new _e(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Bt("string",ti._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=/^__.*__$/;class iC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class A2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function N2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class L0{constructor(e,n,i,s,o,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new L0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(N2(this.Ac)&&rC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aC{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||_h(e)}Cc(e,n,i,s=!1){return new L0({Ac:e,methodName:n,Dc:i,path:fn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xu(t){const e=t._freezeSettings(),n=_h(t._databaseId);return new aC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z0(t,e,n,i,s,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);B0("Data must be an object, but it was:",u,i);const h=R2(i,u);let d,g;if(o.merge)d=new er(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const x=[];for(const b of o.mergeFields){const _=Lp(e,b,n);if(!u.contains(_))throw new _e(ue.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);D2(x,_)||x.push(_)}d=new er(x),g=u.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,g=u.fieldTransforms;return new iC(new zn(h),d,g)}class Ah extends Sh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ah}}class U0 extends Sh{_toFieldTransform(e){return new Z3(e.path,new Du)}isEqual(e){return e instanceof U0}}function C2(t,e,n,i){const s=t.Cc(1,e,n);B0("Data must be an object, but it was:",s,i);const o=[],u=zn.empty();Ra(i,((d,g)=>{const x=q0(e,d,n);g=br(g);const b=s.yc(x);if(g instanceof Ah)o.push(x);else{const _=Ku(g,b);_!=null&&(o.push(x),u.set(x,_))}}));const h=new er(o);return new A2(u,h,s.fieldTransforms)}function k2(t,e,n,i,s,o){const u=t.Cc(1,e,n),h=[Lp(e,i,n)],d=[s];if(o.length%2!=0)throw new _e(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)h.push(Lp(e,o[_])),d.push(o[_+1]);const g=[],x=zn.empty();for(let _=h.length-1;_>=0;--_)if(!D2(g,h[_])){const w=h[_];let N=d[_];N=br(N);const O=u.yc(w);if(N instanceof Ah)g.push(w);else{const V=Ku(N,O);V!=null&&(g.push(w),x.set(w,V))}}const b=new er(g);return new A2(x,b,u.fieldTransforms)}function sC(t,e,n,i=!1){return Ku(n,t.Cc(i?4:3,e))}function Ku(t,e){if(j2(t=br(t)))return B0("Unsupported field value:",e,t),R2(t,e);if(t instanceof Sh)return(function(i,s){if(!N2(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const o=[];let u=0;for(const h of i){let d=Ku(h,s.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(t,e)}return(function(i,s){if((i=br(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Y3(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=bt.fromDate(i);return{timestampValue:Jf(s.serializer,o)}}if(i instanceof bt){const o=new bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Jf(s.serializer,o)}}if(i instanceof ei)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yr)return{bytesValue:K_(s.serializer,i._byteString)};if(i instanceof Nt){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:v0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ti)return(function(u,h){return{mapValue:{fields:{[S_]:{stringValue:A_},[Xf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return y0(h.serializer,g)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${ch(i)}`)})(t,e)}function R2(t,e){const n={};return b_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(t,((i,s)=>{const o=Ku(s,e.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function j2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof ei||t instanceof yr||t instanceof Nt||t instanceof Sh||t instanceof ti)}function B0(t,e,n){if(!j2(n)||!y_(n)){const i=ch(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Lp(t,e,n){if((e=br(e))instanceof Yu)return e._internalPath;if(typeof e=="string")return q0(t,e);throw rh("Field path arguments must be of type string or ",t,!1,void 0,n)}const lC=new RegExp("[~\\*/\\[\\]]");function q0(t,e,n){if(e.search(lC)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yu(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rh(t,e,n,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${i}`),u&&(d+=` in document ${s}`),d+=")"),new _e(ue.INVALID_ARGUMENT,h+t+d)}function D2(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oC extends I2{data(){return super.data()}}function Nh(t,e){return typeof e=="string"?q0(t,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F0{}class O2 extends F0{}function H0(t,e,...n){let i=[];e instanceof F0&&i.push(e),i=i.concat(n),(function(o){const u=o.filter((d=>d instanceof $0)).length,h=o.filter((d=>d instanceof Ch)).length;if(u>1||u>0&&h>0)throw new _e(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)t=s._apply(t);return t}class Ch extends O2{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Ch(e,n,i)}_apply(e){const n=this._parse(e);return P2(e._query,n),new Da(e.firestore,e.converter,Np(e._query,n))}_parse(e){const n=Xu(e.firestore);return(function(o,u,h,d,g,x,b){let _;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Qb(b,x);const N=[];for(const O of b)N.push(Gb(d,o,O));_={arrayValue:{values:N}}}else _=Gb(d,o,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Qb(b,x),_=sC(h,u,b,x==="in"||x==="not-in");return Ut.create(g,x,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function V2(t,e,n){const i=e,s=Nh("where",t);return Ch._create(s,i,n)}class $0 extends F0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const d of h)P2(u,d),u=Np(u,d)})(e._query,n),new Da(e.firestore,e.converter,Np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G0 extends O2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new G0(e,n)}_apply(e){const n=(function(s,o,u){if(s.startAt!==null)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ju(o,u)})(e._query,this._field,this._direction);return new Da(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new Fl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function uC(t,e="asc"){const n=e,i=Nh("orderBy",t);return G0._create(i,n)}function Gb(t,e,n){if(typeof(n=br(n))=="string"){if(n==="")throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M_(e)&&n.indexOf("/")!==-1)throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(xt.fromString(n));if(!ke.isDocumentKey(i))throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ob(t,new ke(i))}if(n instanceof Nt)return ob(t,n._key);throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(n)}.`)}function Qb(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P2(t,e){const n=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cC{convertValue(e,n="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ra(e,((s,o)=>{i[s]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[Xf].arrayValue?.values?.map((i=>Dt(i.doubleValue)));return new ti(n)}convertGeoPoint(e){return new ei(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=dh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const n=Sa(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=xt.fromString(e);st(n2(i),9688,{name:e});const s=new ku(i.get(1),i.get(3)),o=new ke(i.popFirst(5));return s.isEqual(n)||Li(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ps extends I2{constructor(e,n,i,s,o,u){super(e,n,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Nh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",ps._jsonSchema={type:Bt("string",ps._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Uf extends ps{data(e={}){return super.data(e)}}class gs{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Uf(this._firestore,this._userDataWriter,i.key,i,new hu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const d=new Uf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new hu(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Uf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new hu(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,x=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),x=u.indexOf(h.doc.key)),{type:fC(h.type),doc:d,oldIndex:g,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=f0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){t=Rn(t,Nt);const e=Rn(t.firestore,ii);return J6(Qu(e),t._key).then((n=>U2(e,t,n)))}gs._jsonSchemaVersion="firestore/querySnapshot/1.0",gs._jsonSchema={type:Bt("string",gs._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Y0 extends cC{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function Yb(t){t=Rn(t,Da);const e=Rn(t.firestore,ii),n=Qu(e),i=new Y0(e);return M2(t._query),W6(n,t._query).then((s=>new gs(e,i,t,s)))}function ms(t,e,n){t=Rn(t,Nt);const i=Rn(t.firestore,ii),s=Q0(t.converter,e,n);return Zu(i,[z0(Xu(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,jn.none())])}function dC(t,e,n,...i){t=Rn(t,Nt);const s=Rn(t.firestore,ii),o=Xu(s);let u;return u=typeof(e=br(e))=="string"||e instanceof Yu?k2(o,"updateDoc",t._key,e,n,i):C2(o,"updateDoc",t._key,e),Zu(s,[u.toMutation(t._key,jn.exists(!0))])}function L2(t){return Zu(Rn(t.firestore,ii),[new bh(t._key,jn.none())])}function mC(t,e){const n=Rn(t.firestore,ii),i=Wn(t),s=Q0(t.converter,e);return Zu(n,[z0(Xu(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,jn.exists(!1))]).then((()=>i))}function z2(t,...e){t=br(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||$b(e[i])||(n=e[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($b(e[i])){const d=e[i];e[i]=d.next?.bind(d),e[i+1]=d.error?.bind(d),e[i+2]=d.complete?.bind(d)}let o,u,h;if(t instanceof Nt)u=Rn(t.firestore,ii),h=mh(t._key.path),o={next:d=>{e[i]&&e[i](U2(u,t,d))},error:e[i+1],complete:e[i+2]};else{const d=Rn(t,Da);u=Rn(d.firestore,ii),h=d._query;const g=new Y0(u);o={next:x=>{e[i]&&e[i](new gs(u,g,d,x))},error:e[i+1],complete:e[i+2]},M2(t._query)}return(function(g,x,b,_){const w=new P0(_),N=new M0(x,w,b);return g.asyncQueue.enqueueAndForget((async()=>j0(await nh(g),N))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>D0(await nh(g),N)))}})(Qu(u),h,s,o)}function Zu(t,e){return(function(i,s){const o=new Mi;return i.asyncQueue.enqueueAndForget((async()=>U6(await Z6(i),s,o))),o.promise})(Qu(t),e)}function U2(t,e,n){const i=n.docs.get(e._key),s=new Y0(t);return new ps(t,s,e._key,i,new hu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xu(e)}set(e,n,i){this._verifyNotCommitted();const s=Zm(e,this._firestore),o=Q0(s.converter,n,i),u=z0(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,i);return this._mutations.push(u.toMutation(s._key,jn.none())),this}update(e,n,i,...s){this._verifyNotCommitted();const o=Zm(e,this._firestore);let u;return u=typeof(n=br(n))=="string"||n instanceof Yu?k2(this._dataReader,"WriteBatch.update",o._key,n,i,s):C2(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(u.toMutation(o._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Zm(e,this._firestore);return this._mutations=this._mutations.concat(new bh(n._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zm(t,e){if((t=br(t)).firestore!==e)throw new _e(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Nl(){return new U0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){return Qu(t=Rn(t,ii)),new pC(t,(e=>Zu(t,e)))}(function(e,n=!0){(function(s){Ul=s})(GA),Gf(new Su("firestore",((i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new ii(new s3(i.getProvider("auth-internal")),new u3(u,i.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(g.options.projectId,x)})(u,s),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Sl(X1,K1,e),Sl(X1,K1,"esm2020")})();var yC="firebase",xC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sl(yC,xC,"app");const bC={apiKey:"AIzaSyC2RM2HldOB3ScxGRpGxkSj9wvuDqAwWm4",authDomain:"academic-progress-tracke-4774a.firebaseapp.com",projectId:"academic-progress-tracke-4774a",storageBucket:"academic-progress-tracke-4774a.firebasestorage.app",messagingSenderId:"660250554925",appId:"1:660250554925:web:55db1dfd08215d6e493ea4"},vC=a_(bC),en=tC(vC);function _C(t){const[e,n]=le.useState([]),[i,s]=le.useState(!0),[o,u]=le.useState(!1),h=t?.rollNo===Je.rollNo,d=t?.role==="co-leader",g=h||d;le.useEffect(()=>{if(!t){n([]),s(!1);return}const U=H0(Ou(en,"noticeBoard"),uC("createdAt","desc")),L=z2(U,Q=>{const F=[];Q.forEach(q=>{const D={id:q.id,...q.data()};if(g)F.push(D);else{const k=D.allowedUsers||[];(D.isPublic||!1||k.includes(t.rollNo))&&F.push(D)}}),n(F),s(!1)},Q=>{console.error("Error loading notices:",Q),s(!1)});return()=>L()},[t,g]);const x=async(U,L,Q={},F=[],q=!1)=>{if(!g)throw new Error("Only admin and co-leaders can create notices");try{return u(!0),await mC(Ou(en,"noticeBoard"),{type:U,content:L,meta:Q,createdBy:t.name,createdByRoll:t.rollNo,allowedUsers:F,isPublic:q,createdAt:Nl(),updatedAt:Nl()}),!0}catch(D){return console.error("Error creating notice:",D),!1}finally{u(!1)}},b=async(U,L,Q="admin")=>{try{const F=Wn(en,"noticeBoard",U);if(Q==="admin"&&!g)throw new Error("Only admin and co-leaders can manage notices");return await dC(F,{...L,updatedAt:Nl()}),!0}catch(F){return console.error("Error updating notice:",F),!1}};return{notices:e,isLoading:i,isSaving:o,isAdmin:h,isCoLeader:d,canManageNotices:g,createNotice:x,updateNotice:b,editNotice:async(U,L)=>{if(!g)throw new Error("Only admin and co-leaders can edit notices");try{return await b(U,L,"admin"),!0}catch(Q){return console.error("Error editing notice:",Q),!1}},deleteNotice:async U=>{if(!g)throw new Error("Only admin and co-leaders can delete notices");try{return await L2(Wn(en,"noticeBoard",U)),!0}catch(L){return console.error("Error deleting notice:",L),!1}},updateNoticePermissions:async(U,L,Q)=>{if(!g)throw new Error("Only admin and co-leaders can update permissions");try{return await b(U,{allowedUsers:L,isPublic:Q},"admin"),!0}catch(F){return console.error("Error updating permissions:",F),!1}},voteInPoll:async(U,L,Q)=>{try{const F=e.find(k=>k.id===U);if(!F||F.type!=="poll")return!1;const q=[...F.meta.options];if(F.meta.isAnonymous||!1){L.forEach(C=>{q[C].anonymousVotes||(q[C].anonymousVotes=0)});const k=F.meta.userVotes||{};(k[Q]||[]).forEach(C=>{q[C].anonymousVotes>0&&q[C].anonymousVotes--}),L.forEach(C=>{q[C].anonymousVotes++}),k[Q]=L,await b(U,{meta:{...F.meta,options:q,userVotes:k}},"user")}else q.forEach(k=>{k.votes=k.votes?.filter(M=>M!==Q)||[]}),L.forEach(k=>{q[k].votes||(q[k].votes=[]),q[k].votes.push(Q)}),await b(U,{meta:{...F.meta,options:q}},"user");return!0}catch(F){return console.error("Error voting:",F),!1}},toggleChecklistItem:async(U,L,Q)=>{try{const F=e.find(k=>k.id===U);if(!F||F.type!=="checklist")return!1;const q=[...F.meta.items];if(F.meta.isAnonymous||!1){q[L].anonymousCompletions||(q[L].anonymousCompletions=0);const k=F.meta.userCompletions||{},M=k[Q]||[];M.includes(L)?(k[Q]=M.filter(C=>C!==L),q[L].anonymousCompletions=Math.max(0,q[L].anonymousCompletions-1)):(k[Q]=[...M,L],q[L].anonymousCompletions++),await b(U,{meta:{...F.meta,items:q,userCompletions:k}},"user")}else{q[L].completedBy||(q[L].completedBy=[]);const k=q[L].completedBy.indexOf(Q);k>-1?q[L].completedBy.splice(k,1):q[L].completedBy.push(Q),await b(U,{meta:{...F.meta,items:q}},"user")}return!0}catch(F){return console.error("Error toggling checklist:",F),!1}},toggleTodo:async(U,L)=>{try{const Q=e.find(k=>k.id===U);if(!Q||Q.type!=="todo")return!1;const F=Q.meta.completedBy||[],q=F.indexOf(L);let D;return q>-1?D=F.filter(k=>k!==L):D=[...F,L],await b(U,{meta:{...Q.meta,completedBy:D}},"user"),!0}catch(Q){return console.error("Error toggling todo:",Q),!1}}}}const wC={};var zp=null;function EC(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return wC.randomBytes(t)}catch{}if(!zp)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return zp(t)}function TC(t){zp=t}function X0(t,e){if(t=t||K0,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(ih(EC(Vu),Vu)),n.join("")}function B2(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=K0;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function i(s){Nr(function(){try{s(null,X0(t))}catch(o){s(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(s,o){i(function(u,h){if(u){o(u);return}s(h)})})}function q2(t,e){if(typeof e>"u"&&(e=K0),typeof e=="number"&&(e=X0(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return Up(t,e)}function F2(t,e,n,i){function s(o){typeof t=="string"&&typeof e=="number"?B2(e,function(u,h){Up(t,h,o,i)}):typeof t=="string"&&typeof e=="string"?Up(t,e,o,i):Nr(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(o,u){s(function(h,d){if(h){u(h);return}o(d)})})}function H2(t,e){for(var n=t.length^e.length,i=0;i<t.length;++i)n|=t.charCodeAt(i)^e.charCodeAt(i);return n===0}function SC(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:H2(q2(t,e.substring(0,e.length-31)),e)}function AC(t,e,n,i){function s(o){if(typeof t!="string"||typeof e!="string"){Nr(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Nr(o.bind(this,null,!1));return}F2(t,e.substring(0,29),function(u,h){u?o(u):o(null,H2(h,e))},i)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(o,u){s(function(h,d){if(h){u(h);return}o(d)})})}function NC(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function CC(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function kC(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return $2(t)>72}var Nr=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function $2(t){for(var e=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,e+=4):e+=3;return e}function RC(t){for(var e=0,n,i,s=new Array($2(t)),o=0,u=t.length;o<u;++o)n=t.charCodeAt(o),n<128?s[e++]=n:n<2048?(s[e++]=n>>6|192,s[e++]=n&63|128):(n&64512)===55296&&((i=t.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(i&1023),++o,s[e++]=n>>18|240,s[e++]=n>>12&63|128,s[e++]=n>>6&63|128,s[e++]=n&63|128):(s[e++]=n>>12|224,s[e++]=n>>6&63|128,s[e++]=n&63|128);return s}var gl="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ga=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function ih(t,e){var n=0,i=[],s,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(s=t[n++]&255,i.push(gl[s>>2&63]),s=(s&3)<<4,n>=e){i.push(gl[s&63]);break}if(o=t[n++]&255,s|=o>>4&15,i.push(gl[s&63]),s=(o&15)<<2,n>=e){i.push(gl[s&63]);break}o=t[n++]&255,s|=o>>6&3,i.push(gl[s&63]),i.push(gl[o&63])}return i.join("")}function G2(t,e){var n=0,i=t.length,s=0,o=[],u,h,d,g,x,b;if(e<=0)throw Error("Illegal len: "+e);for(;n<i-1&&s<e&&(b=t.charCodeAt(n++),u=b<ga.length?ga[b]:-1,b=t.charCodeAt(n++),h=b<ga.length?ga[b]:-1,!(u==-1||h==-1||(x=u<<2>>>0,x|=(h&48)>>4,o.push(String.fromCharCode(x)),++s>=e||n>=i)||(b=t.charCodeAt(n++),d=b<ga.length?ga[b]:-1,d==-1)||(x=(h&15)<<4>>>0,x|=(d&60)>>2,o.push(String.fromCharCode(x)),++s>=e||n>=i)));)b=t.charCodeAt(n++),g=b<ga.length?ga[b]:-1,x=(d&3)<<6>>>0,x|=g,o.push(String.fromCharCode(x)),++s;var _=[];for(n=0;n<s;n++)_.push(o[n].charCodeAt(0));return _}var Vu=16,K0=10,jC=16,DC=100,Xb=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Kb=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Q2=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Pu(t,e,n,i){var s,o=t[e],u=t[e+1];return o^=n[0],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[1],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[2],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[3],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[4],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[5],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[6],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[7],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[8],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[9],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[10],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[11],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[12],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[13],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[14],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[15],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[16],t[e]=u^n[jC+1],t[e+1]=o,t}function El(t,e){for(var n=0,i=0;n<4;++n)i=i<<8|t[e]&255,e=(e+1)%t.length;return{key:i,offp:e}}function Zb(t,e,n){for(var i=0,s=[0,0],o=e.length,u=n.length,h,d=0;d<o;d++)h=El(t,i),i=h.offp,e[d]=e[d]^h.key;for(d=0;d<o;d+=2)s=Pu(s,0,e,n),e[d]=s[0],e[d+1]=s[1];for(d=0;d<u;d+=2)s=Pu(s,0,e,n),n[d]=s[0],n[d+1]=s[1]}function IC(t,e,n,i){for(var s=0,o=[0,0],u=n.length,h=i.length,d,g=0;g<u;g++)d=El(e,s),s=d.offp,n[g]=n[g]^d.key;for(s=0,g=0;g<u;g+=2)d=El(t,s),s=d.offp,o[0]^=d.key,d=El(t,s),s=d.offp,o[1]^=d.key,o=Pu(o,0,n,i),n[g]=o[0],n[g+1]=o[1];for(g=0;g<h;g+=2)d=El(t,s),s=d.offp,o[0]^=d.key,d=El(t,s),s=d.offp,o[1]^=d.key,o=Pu(o,0,n,i),i[g]=o[0],i[g+1]=o[1]}function Jb(t,e,n,i,s){var o=Q2.slice(),u=o.length,h;if(n<4||n>31)if(h=Error("Illegal number of rounds (4-31): "+n),i){Nr(i.bind(this,h));return}else throw h;if(e.length!==Vu)if(h=Error("Illegal salt length: "+e.length+" != "+Vu),i){Nr(i.bind(this,h));return}else throw h;n=1<<n>>>0;var d,g,x=0,b;typeof Int32Array=="function"?(d=new Int32Array(Xb),g=new Int32Array(Kb)):(d=Xb.slice(),g=Kb.slice()),IC(e,t,d,g);function _(){if(s&&s(x/n),x<n)for(var N=Date.now();x<n&&(x=x+1,Zb(t,d,g),Zb(e,d,g),!(Date.now()-N>DC)););else{for(x=0;x<64;x++)for(b=0;b<u>>1;b++)Pu(o,b<<1,d,g);var O=[];for(x=0;x<u;x++)O.push((o[x]>>24&255)>>>0),O.push((o[x]>>16&255)>>>0),O.push((o[x]>>8&255)>>>0),O.push((o[x]&255)>>>0);if(i){i(null,O);return}else return O}i&&Nr(_)}if(typeof i<"u")_();else for(var w;;)if(typeof(w=_())<"u")return w||[]}function Up(t,e,n,i){var s;if(typeof t!="string"||typeof e!="string")if(s=Error("Invalid string / salt: Not a string"),n){Nr(n.bind(this,s));return}else throw s;var o,u;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(s=Error("Invalid salt version: "+e.substring(0,2)),n){Nr(n.bind(this,s));return}else throw s;if(e.charAt(2)==="$")o="\0",u=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+e.substring(2,4)),n){Nr(n.bind(this,s));return}else throw s;u=4}if(e.charAt(u+2)>"$")if(s=Error("Missing salt rounds"),n){Nr(n.bind(this,s));return}else throw s;var h=parseInt(e.substring(u,u+1),10)*10,d=parseInt(e.substring(u+1,u+2),10),g=h+d,x=e.substring(u+3,u+25);t+=o>="a"?"\0":"";var b=RC(t),_=G2(x,Vu);function w(N){var O=[];return O.push("$2"),o>="a"&&O.push(o),O.push("$"),g<10&&O.push("0"),O.push(g.toString()),O.push("$"),O.push(ih(_,_.length)),O.push(ih(N,Q2.length*4-1)),O.join("")}if(typeof n>"u")return w(Jb(b,_,g));Jb(b,_,g,function(N,O){N?n(N,null):n(null,w(O))},i)}function MC(t,e){return ih(t,e)}function OC(t,e){return G2(t,e)}const ru={setRandomFallback:TC,genSaltSync:X0,genSalt:B2,hashSync:q2,hash:F2,compareSync:SC,compare:AC,getRounds:NC,getSalt:CC,truncates:kC,encodeBase64:MC,decodeBase64:OC};function Y2(){const[t,e]=le.useState([]),[n,i]=le.useState(null),[s,o]=le.useState(!0),[u,h]=le.useState(!1),d=n&&n.rollNo===Je.rollNo,g=async()=>{try{o(!0);const V=await Yb(Ou(en,"students")),z=[];if(V.forEach(L=>{z.push(L.data())}),!z.some(L=>L.rollNo===Je.rollNo)){const L={...Je,password:ru.hashSync("admin123",10),isProtected:!0,role:"admin"};z.push(L),await ms(Wn(en,"students",Je.rollNo),L)}e(z),h(!0)}catch(V){console.error("Error loading students:",V);const z={...Je,password:ru.hashSync("admin123",10),isProtected:!0,role:"admin"};e([z]),h(!0)}finally{o(!1)}},x=async(V,z,U="",L="student")=>{try{const Q={rollNo:V,name:z,isProtected:!!U,password:U?ru.hashSync(U,10):null,role:L};if(t.some(q=>q.rollNo===V))throw new Error("Student with this roll number already exists");return await ms(Wn(en,"students",V),Q),e([...t,Q]),!0}catch(Q){throw console.error("Error creating student:",Q),Q}},b=async(V,z)=>{try{if(V===Je.rollNo)throw new Error("Cannot change admin role");const U=t.find(Q=>Q.rollNo===V);if(!U)throw new Error("Student not found");const L={...U,role:z};return await ms(Wn(en,"students",V),L),e(t.map(Q=>Q.rollNo===V?L:Q)),n&&n.rollNo===V&&(i(L),localStorage.setItem("selected-student",JSON.stringify(L))),!0}catch(U){throw console.error("Error updating role:",U),U}},_=async V=>{try{if(V===Je.rollNo)throw new Error("Cannot delete admin student");await L2(Wn(en,"students",V));const z=gC(en),U=H0(Ou(en,"academic-data"),V2("studentId","==",V));(await Yb(U)).forEach(F=>{z.delete(F.ref)});const Q=Wn(en,"userNotes",V);return z.delete(Q),await z.commit(),e(t.filter(F=>F.rollNo!==V)),n&&n.rollNo===V&&(i(null),localStorage.removeItem("selected-student")),!0}catch(z){throw console.error("Error deleting student:",z),z}},w=async(V,z)=>{try{return V.isProtected?z?await ru.compare(z,V.password):!1:!0}catch(U){return console.error("Error authenticating student:",U),!1}},N=async(V,z,U=!1)=>{try{const L=t.find(F=>F.rollNo===V);if(!L)throw new Error("Student not found");const Q={...L,password:U?null:ru.hashSync(z,10),isProtected:!U};return await ms(Wn(en,"students",V),Q),e(t.map(F=>F.rollNo===V?Q:F)),!0}catch(L){throw console.error("Error updating password:",L),L}},O=V=>{const z=n;if(z&&z.rollNo!==V?.rollNo){const U=`academic-data-${z.rollNo}`;localStorage.removeItem(U)}i(V),V?localStorage.setItem("selected-student",JSON.stringify(V)):localStorage.removeItem("selected-student")};return le.useEffect(()=>{g()},[]),{students:t,selectedStudent:n,isAdmin:d,isLoading:s,hasInitialized:u,createStudent:x,deleteStudent:_,selectStudent:O,authenticateStudent:w,updateStudentPassword:N,updateStudentRole:b,loadStudents:g}}function VC(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const PC=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,LC=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zC={};function Wb(t,e){return(zC.jsx?LC:PC).test(t)}const UC=/[ \t\n\f\r]/g;function BC(t){return typeof t=="object"?t.type==="text"?ev(t.value):!1:ev(t)}function ev(t){return t.replace(UC,"")===""}class Ju{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Ju.prototype.normal={};Ju.prototype.property={};Ju.prototype.space=void 0;function X2(t,e){const n={},i={};for(const s of t)Object.assign(n,s.property),Object.assign(i,s.normal);return new Ju(n,i,e)}function Bp(t){return t.toLowerCase()}class Un{constructor(e,n){this.attribute=n,this.property=e}}Un.prototype.attribute="";Un.prototype.booleanish=!1;Un.prototype.boolean=!1;Un.prototype.commaOrSpaceSeparated=!1;Un.prototype.commaSeparated=!1;Un.prototype.defined=!1;Un.prototype.mustUseProperty=!1;Un.prototype.number=!1;Un.prototype.overloadedBoolean=!1;Un.prototype.property="";Un.prototype.spaceSeparated=!1;Un.prototype.space=void 0;let qC=0;const Ue=As(),zt=As(),qp=As(),ye=As(),yt=As(),Cl=As(),Jn=As();function As(){return 2**++qC}const Fp=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ue,booleanish:zt,commaOrSpaceSeparated:Jn,commaSeparated:Cl,number:ye,overloadedBoolean:qp,spaceSeparated:yt},Symbol.toStringTag,{value:"Module"})),Jm=Object.keys(Fp);class Z0 extends Un{constructor(e,n,i,s){let o=-1;if(super(e,n),tv(this,"space",s),typeof i=="number")for(;++o<Jm.length;){const u=Jm[o];tv(this,Jm[o],(i&Fp[u])===Fp[u])}}}Z0.prototype.defined=!0;function tv(t,e,n){n&&(t[e]=n)}function $l(t){const e={},n={};for(const[i,s]of Object.entries(t.properties)){const o=new Z0(i,t.transform(t.attributes||{},i),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,n[Bp(i)]=i,n[Bp(o.attribute)]=i}return new Ju(e,n,t.space)}const K2=$l({properties:{ariaActiveDescendant:null,ariaAtomic:zt,ariaAutoComplete:null,ariaBusy:zt,ariaChecked:zt,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:yt,ariaCurrent:null,ariaDescribedBy:yt,ariaDetails:null,ariaDisabled:zt,ariaDropEffect:yt,ariaErrorMessage:null,ariaExpanded:zt,ariaFlowTo:yt,ariaGrabbed:zt,ariaHasPopup:null,ariaHidden:zt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yt,ariaLevel:ye,ariaLive:null,ariaModal:zt,ariaMultiLine:zt,ariaMultiSelectable:zt,ariaOrientation:null,ariaOwns:yt,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:zt,ariaReadOnly:zt,ariaRelevant:null,ariaRequired:zt,ariaRoleDescription:yt,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:zt,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Z2(t,e){return e in t?t[e]:e}function J2(t,e){return Z2(t,e.toLowerCase())}const FC=$l({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Cl,acceptCharset:yt,accessKey:yt,action:null,allow:null,allowFullScreen:Ue,allowPaymentRequest:Ue,allowUserMedia:Ue,alt:null,as:null,async:Ue,autoCapitalize:null,autoComplete:yt,autoFocus:Ue,autoPlay:Ue,blocking:yt,capture:null,charSet:null,checked:Ue,cite:null,className:yt,cols:ye,colSpan:null,content:null,contentEditable:zt,controls:Ue,controlsList:yt,coords:ye|Cl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ue,defer:Ue,dir:null,dirName:null,disabled:Ue,download:qp,draggable:zt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ue,formTarget:null,headers:yt,height:ye,hidden:qp,high:ye,href:null,hrefLang:null,htmlFor:yt,httpEquiv:yt,id:null,imageSizes:null,imageSrcSet:null,inert:Ue,inputMode:null,integrity:null,is:null,isMap:Ue,itemId:null,itemProp:yt,itemRef:yt,itemScope:Ue,itemType:yt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ue,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:Ue,muted:Ue,name:null,nonce:null,noModule:Ue,noValidate:Ue,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ue,optimum:ye,pattern:null,ping:yt,placeholder:null,playsInline:Ue,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ue,referrerPolicy:null,rel:yt,required:Ue,reversed:Ue,rows:ye,rowSpan:ye,sandbox:yt,scope:null,scoped:Ue,seamless:Ue,selected:Ue,shadowRootClonable:Ue,shadowRootDelegatesFocus:Ue,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:zt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:Ue,useMap:null,value:zt,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yt,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ue,declare:Ue,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:Ue,noHref:Ue,noShade:Ue,noWrap:Ue,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:zt,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ue,disableRemotePlayback:Ue,prefix:null,property:null,results:ye,security:null,unselectable:null},space:"html",transform:J2}),HC=$l({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Jn,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:yt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:Ue,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Cl,g2:Cl,glyphName:Cl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:Jn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Jn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Jn,rev:Jn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Jn,requiredFeatures:Jn,requiredFonts:Jn,requiredFormats:Jn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:Jn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Jn,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Jn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Z2}),W2=$l({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),ew=$l({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:J2}),tw=$l({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),$C={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},GC=/[A-Z]/g,nv=/-[a-z]/g,QC=/^data[-\w.:]+$/i;function YC(t,e){const n=Bp(e);let i=e,s=Un;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&QC.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(nv,KC);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!nv.test(o)){let u=o.replace(GC,XC);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=Z0}return new s(i,e)}function XC(t){return"-"+t.toLowerCase()}function KC(t){return t.charAt(1).toUpperCase()}const ZC=X2([K2,FC,W2,ew,tw],"html"),J0=X2([K2,HC,W2,ew,tw],"svg");function JC(t){return t.join(" ").trim()}var yl={},Wm,rv;function WC(){if(rv)return Wm;rv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,d=`
`,g="/",x="*",b="",_="comment",w="declaration";Wm=function(O,V){if(typeof O!="string")throw new TypeError("First argument must be a string");if(!O)return[];V=V||{};var z=1,U=1;function L(A){var ae=A.match(e);ae&&(z+=ae.length);var me=A.lastIndexOf(d);U=~me?A.length-me:U+A.length}function Q(){var A={line:z,column:U};return function(ae){return ae.position=new F(A),k(),ae}}function F(A){this.start=A,this.end={line:z,column:U},this.source=V.source}F.prototype.content=O;function q(A){var ae=new Error(V.source+":"+z+":"+U+": "+A);if(ae.reason=A,ae.filename=V.source,ae.line=z,ae.column=U,ae.source=O,!V.silent)throw ae}function D(A){var ae=A.exec(O);if(ae){var me=ae[0];return L(me),O=O.slice(me.length),ae}}function k(){D(n)}function M(A){var ae;for(A=A||[];ae=C();)ae!==!1&&A.push(ae);return A}function C(){var A=Q();if(!(g!=O.charAt(0)||x!=O.charAt(1))){for(var ae=2;b!=O.charAt(ae)&&(x!=O.charAt(ae)||g!=O.charAt(ae+1));)++ae;if(ae+=2,b===O.charAt(ae-1))return q("End of comment missing");var me=O.slice(2,ae-2);return U+=2,L(me),O=O.slice(ae),U+=2,A({type:_,comment:me})}}function P(){var A=Q(),ae=D(i);if(ae){if(C(),!D(s))return q("property missing ':'");var me=D(o),W=A({type:w,property:N(ae[0].replace(t,b)),value:me?N(me[0].replace(t,b)):b});return D(u),W}}function B(){var A=[];M(A);for(var ae;ae=P();)ae!==!1&&(A.push(ae),M(A));return A}return k(),B()};function N(O){return O?O.replace(h,b):b}return Wm}var iv;function e5(){if(iv)return yl;iv=1;var t=yl&&yl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yl,"__esModule",{value:!0}),yl.default=n;var e=t(WC());function n(i,s){var o=null;if(!i||typeof i!="string")return o;var u=(0,e.default)(i),h=typeof s=="function";return u.forEach(function(d){if(d.type==="declaration"){var g=d.property,x=d.value;h?s(g,x,d):x&&(o=o||{},o[g]=x)}}),o}return yl}var iu={},av;function t5(){if(av)return iu;av=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(g){return!g||n.test(g)||t.test(g)},u=function(g,x){return x.toUpperCase()},h=function(g,x){return"".concat(x,"-")},d=function(g,x){return x===void 0&&(x={}),o(g)?g:(g=g.toLowerCase(),x.reactCompat?g=g.replace(s,h):g=g.replace(i,h),g.replace(e,u))};return iu.camelCase=d,iu}var au,sv;function n5(){if(sv)return au;sv=1;var t=au&&au.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(e5()),n=t5();function i(s,o){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(h,d){h&&d&&(u[(0,n.camelCase)(h,o)]=d)}),u}return i.default=i,au=i,au}var r5=n5();const i5=uh(r5),nw=rw("end"),W0=rw("start");function rw(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function a5(t){const e=W0(t),n=nw(t);if(e&&n)return{start:e,end:n}}function xu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?lv(t.position):"start"in t||"end"in t?lv(t):"line"in t||"column"in t?Hp(t):""}function Hp(t){return ov(t&&t.line)+":"+ov(t&&t.column)}function lv(t){return Hp(t&&t.start)+"-"+Hp(t&&t.end)}function ov(t){return t&&typeof t=="number"?t:1}class bn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(u=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?o.ruleId=i:(o.source=i.slice(0,d),o.ruleId=i.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=h?h.line:void 0,this.name=xu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}bn.prototype.file="";bn.prototype.name="";bn.prototype.reason="";bn.prototype.message="";bn.prototype.stack="";bn.prototype.column=void 0;bn.prototype.line=void 0;bn.prototype.ancestors=void 0;bn.prototype.cause=void 0;bn.prototype.fatal=void 0;bn.prototype.place=void 0;bn.prototype.ruleId=void 0;bn.prototype.source=void 0;const eg={}.hasOwnProperty,s5=new Map,l5=/[A-Z]/g,o5=new Set(["table","tbody","thead","tfoot","tr"]),u5=new Set(["td","th"]),iw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function c5(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=x5(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=y5(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?J0:ZC,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=aw(s,t,void 0);return o&&typeof o!="string"?o:s.create(t,s.Fragment,{children:o||void 0},void 0)}function aw(t,e,n){if(e.type==="element")return f5(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return h5(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return m5(t,e,n);if(e.type==="mdxjsEsm")return d5(t,e);if(e.type==="root")return p5(t,e,n);if(e.type==="text")return g5(t,e)}function f5(t,e,n){const i=t.schema;let s=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=J0,t.schema=s),t.ancestors.push(e);const o=lw(t,e.tagName,!1),u=b5(t,e);let h=ng(t,e);return o5.has(e.tagName)&&(h=h.filter(function(d){return typeof d=="string"?!BC(d):!0})),sw(t,u,o,e),tg(u,h),t.ancestors.pop(),t.schema=i,t.create(e,o,u,n)}function h5(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}Lu(t,e.position)}function d5(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Lu(t,e.position)}function m5(t,e,n){const i=t.schema;let s=i;e.name==="svg"&&i.space==="html"&&(s=J0,t.schema=s),t.ancestors.push(e);const o=e.name===null?t.Fragment:lw(t,e.name,!0),u=v5(t,e),h=ng(t,e);return sw(t,u,o,e),tg(u,h),t.ancestors.pop(),t.schema=i,t.create(e,o,u,n)}function p5(t,e,n){const i={};return tg(i,ng(t,e)),t.create(e,t.Fragment,i,n)}function g5(t,e){return e.value}function sw(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function tg(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function y5(t,e,n){return i;function i(s,o,u,h){const g=Array.isArray(u.children)?n:e;return h?g(o,u,h):g(o,u)}}function x5(t,e){return n;function n(i,s,o,u){const h=Array.isArray(o.children),d=W0(i);return e(s,o,u,h,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function b5(t,e){const n={};let i,s;for(s in e.properties)if(s!=="children"&&eg.call(e.properties,s)){const o=_5(t,s,e.properties[s]);if(o){const[u,h]=o;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&u5.has(e.tagName)?i=h:n[u]=h}}if(i){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function v5(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else Lu(t,e.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const h=i.value.data.estree.body[0];h.type,o=t.evaluater.evaluateExpression(h.expression)}else Lu(t,e.position);else o=i.value===null?!0:i.value;n[s]=o}return n}function ng(t,e){const n=[];let i=-1;const s=t.passKeys?new Map:s5;for(;++i<e.children.length;){const o=e.children[i];let u;if(t.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const g=s.get(d)||0;u=d+"-"+g,s.set(d,g+1)}}const h=aw(t,o,u);h!==void 0&&n.push(h)}return n}function _5(t,e,n){const i=YC(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?VC(n):JC(n)),i.property==="style"){let s=typeof n=="object"?n:w5(t,String(n));return t.stylePropertyNameCase==="css"&&(s=E5(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&i.space?$C[i.property]||i.property:i.attribute,n]}}function w5(t,e){try{return i5(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,s=new bn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=iw+"#cannot-parse-style-attribute",s}}function lw(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,u;for(;++o<s.length;){const h=Wb(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}i=u}else i=Wb(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const s=i.value;return eg.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(i);Lu(t)}function Lu(t,e){const n=new bn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=iw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function E5(t){const e={};let n;for(n in t)eg.call(t,n)&&(e[T5(n)]=t[n]);return e}function T5(t){let e=t.replace(l5,S5);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function S5(t){return"-"+t.toLowerCase()}const ep={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},A5={};function rg(t,e){const n=A5,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ow(t,i,s)}function ow(t,e,n){if(N5(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return uv(t.children,e,n)}return Array.isArray(t)?uv(t,e,n):""}function uv(t,e,n){const i=[];let s=-1;for(;++s<t.length;)i[s]=ow(t[s],e,n);return i.join("")}function N5(t){return!!(t&&typeof t=="object")}const cv=document.createElement("i");function ig(t){const e="&"+t+";";cv.innerHTML=e;const n=cv.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function tr(t,e,n,i){const s=t.length;let o=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<i.length;)u=i.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function gr(t,e){return t.length>0?(tr(t,t.length,0,e),t):e}const fv={}.hasOwnProperty;function uw(t){const e={};let n=-1;for(;++n<t.length;)C5(e,t[n]);return e}function C5(t,e){let n;for(n in e){const s=(fv.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){fv.call(s,u)||(s[u]=[]);const h=o[u];k5(s[u],Array.isArray(h)?h:h?[h]:[])}}}function k5(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);tr(t,0,0,i)}function cw(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Cr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cn=Ia(/[A-Za-z]/),xn=Ia(/[\dA-Za-z]/),R5=Ia(/[#-'*+\--9=?A-Z^-~]/);function ah(t){return t!==null&&(t<32||t===127)}const $p=Ia(/\d/),j5=Ia(/[\dA-Fa-f]/),D5=Ia(/[!-/:-@[-`{-~]/);function je(t){return t!==null&&t<-2}function pt(t){return t!==null&&(t<0||t===32)}function $e(t){return t===-2||t===-1||t===32}const kh=Ia(new RegExp("\\p{P}|\\p{S}","u")),_s=Ia(/\s/);function Ia(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Gl(t){const e=[];let n=-1,i=0,s=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&xn(t.charCodeAt(n+1))&&xn(t.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=t.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),s=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(i)}function et(t,e,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(d){return $e(d)?(t.enter(n),h(d)):e(d)}function h(d){return $e(d)&&o++<s?(t.consume(d),h):(t.exit(n),e(d))}}const I5={tokenize:M5};function M5(t){const e=t.attempt(this.parser.constructs.contentInitial,i,s);let n;return e;function i(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),et(t,e,"linePrefix")}function s(h){return t.enter("paragraph"),o(h)}function o(h){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return je(h)?(t.consume(h),t.exit("chunkText"),o):(t.consume(h),u)}}const O5={tokenize:V5},hv={tokenize:P5};function V5(t){const e=this,n=[];let i=0,s,o,u;return h;function h(L){if(i<n.length){const Q=n[i];return e.containerState=Q[1],t.attempt(Q[0].continuation,d,g)(L)}return g(L)}function d(L){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&U();const Q=e.events.length;let F=Q,q;for(;F--;)if(e.events[F][0]==="exit"&&e.events[F][1].type==="chunkFlow"){q=e.events[F][1].end;break}z(i);let D=Q;for(;D<e.events.length;)e.events[D][1].end={...q},D++;return tr(e.events,F+1,0,e.events.slice(Q)),e.events.length=D,g(L)}return h(L)}function g(L){if(i===n.length){if(!s)return _(L);if(s.currentConstruct&&s.currentConstruct.concrete)return N(L);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(hv,x,b)(L)}function x(L){return s&&U(),z(i),_(L)}function b(L){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,N(L)}function _(L){return e.containerState={},t.attempt(hv,w,N)(L)}function w(L){return i++,n.push([e.currentConstruct,e.containerState]),_(L)}function N(L){if(L===null){s&&U(),z(0),t.consume(L);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),O(L)}function O(L){if(L===null){V(t.exit("chunkFlow"),!0),z(0),t.consume(L);return}return je(L)?(t.consume(L),V(t.exit("chunkFlow")),i=0,e.interrupt=void 0,h):(t.consume(L),O)}function V(L,Q){const F=e.sliceStream(L);if(Q&&F.push(null),L.previous=o,o&&(o.next=L),o=L,s.defineSkip(L.start),s.write(F),e.parser.lazy[L.start.line]){let q=s.events.length;for(;q--;)if(s.events[q][1].start.offset<u&&(!s.events[q][1].end||s.events[q][1].end.offset>u))return;const D=e.events.length;let k=D,M,C;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(M){C=e.events[k][1].end;break}M=!0}for(z(i),q=D;q<e.events.length;)e.events[q][1].end={...C},q++;tr(e.events,k+1,0,e.events.slice(D)),e.events.length=q}}function z(L){let Q=n.length;for(;Q-- >L;){const F=n[Q];e.containerState=F[1],F[0].exit.call(e,t)}n.length=L}function U(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function P5(t,e,n){return et(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Vl(t){if(t===null||pt(t)||_s(t))return 1;if(kh(t))return 2}function Rh(t,e,n){const i=[];let s=-1;for(;++s<t.length;){const o=t[s].resolveAll;o&&!i.includes(o)&&(e=o(e,n),i.push(o))}return e}const Gp={name:"attention",resolveAll:L5,tokenize:z5};function L5(t,e){let n=-1,i,s,o,u,h,d,g,x;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[i][1].end},_={...t[n][1].start};dv(b,-d),dv(_,d),u={type:d>1?"strongSequence":"emphasisSequence",start:b,end:{...t[i][1].end}},h={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:_},o={type:d>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[i][1].end={...u.start},t[n][1].start={...h.end},g=[],t[i][1].end.offset-t[i][1].start.offset&&(g=gr(g,[["enter",t[i][1],e],["exit",t[i][1],e]])),g=gr(g,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",o,e]]),g=gr(g,Rh(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),g=gr(g,[["exit",o,e],["enter",h,e],["exit",h,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(x=2,g=gr(g,[["enter",t[n][1],e],["exit",t[n][1],e]])):x=0,tr(t,i-1,n-i+3,g),n=i+g.length-x-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function z5(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=Vl(i);let o;return u;function u(d){return o=d,t.enter("attentionSequence"),h(d)}function h(d){if(d===o)return t.consume(d),h;const g=t.exit("attentionSequence"),x=Vl(d),b=!x||x===2&&s||n.includes(d),_=!s||s===2&&x||n.includes(i);return g._open=!!(o===42?b:b&&(s||!_)),g._close=!!(o===42?_:_&&(x||!b)),e(d)}}function dv(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const U5={name:"autolink",tokenize:B5};function B5(t,e,n){let i=0;return s;function s(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return Cn(w)?(t.consume(w),u):w===64?n(w):g(w)}function u(w){return w===43||w===45||w===46||xn(w)?(i=1,h(w)):g(w)}function h(w){return w===58?(t.consume(w),i=0,d):(w===43||w===45||w===46||xn(w))&&i++<32?(t.consume(w),h):(i=0,g(w))}function d(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||ah(w)?n(w):(t.consume(w),d)}function g(w){return w===64?(t.consume(w),x):R5(w)?(t.consume(w),g):n(w)}function x(w){return xn(w)?b(w):n(w)}function b(w){return w===46?(t.consume(w),i=0,x):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):_(w)}function _(w){if((w===45||xn(w))&&i++<63){const N=w===45?_:b;return t.consume(w),N}return n(w)}}const Wu={partial:!0,tokenize:q5};function q5(t,e,n){return i;function i(o){return $e(o)?et(t,s,"linePrefix")(o):s(o)}function s(o){return o===null||je(o)?e(o):n(o)}}const fw={continuation:{tokenize:H5},exit:$5,name:"blockQuote",tokenize:F5};function F5(t,e,n){const i=this;return s;function s(u){if(u===62){const h=i.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return $e(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function H5(t,e,n){const i=this;return s;function s(u){return $e(u)?et(t,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(fw,e,n)(u)}}function $5(t){t.exit("blockQuote")}const hw={name:"characterEscape",tokenize:G5};function G5(t,e,n){return i;function i(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),s}function s(o){return D5(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const dw={name:"characterReference",tokenize:Q5};function Q5(t,e,n){const i=this;let s=0,o,u;return h;function h(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),d}function d(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),g):(t.enter("characterReferenceValue"),o=31,u=xn,x(b))}function g(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=j5,x):(t.enter("characterReferenceValue"),o=7,u=$p,x(b))}function x(b){if(b===59&&s){const _=t.exit("characterReferenceValue");return u===xn&&!ig(i.sliceSerialize(_))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(b)&&s++<o?(t.consume(b),x):n(b)}}const mv={partial:!0,tokenize:X5},pv={concrete:!0,name:"codeFenced",tokenize:Y5};function Y5(t,e,n){const i=this,s={partial:!0,tokenize:F};let o=0,u=0,h;return d;function d(q){return g(q)}function g(q){const D=i.events[i.events.length-1];return o=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,h=q,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(q)}function x(q){return q===h?(u++,t.consume(q),x):u<3?n(q):(t.exit("codeFencedFenceSequence"),$e(q)?et(t,b,"whitespace")(q):b(q))}function b(q){return q===null||je(q)?(t.exit("codeFencedFence"),i.interrupt?e(q):t.check(mv,O,Q)(q)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),_(q))}function _(q){return q===null||je(q)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(q)):$e(q)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),et(t,w,"whitespace")(q)):q===96&&q===h?n(q):(t.consume(q),_)}function w(q){return q===null||je(q)?b(q):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),N(q))}function N(q){return q===null||je(q)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(q)):q===96&&q===h?n(q):(t.consume(q),N)}function O(q){return t.attempt(s,Q,V)(q)}function V(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),z}function z(q){return o>0&&$e(q)?et(t,U,"linePrefix",o+1)(q):U(q)}function U(q){return q===null||je(q)?t.check(mv,O,Q)(q):(t.enter("codeFlowValue"),L(q))}function L(q){return q===null||je(q)?(t.exit("codeFlowValue"),U(q)):(t.consume(q),L)}function Q(q){return t.exit("codeFenced"),e(q)}function F(q,D,k){let M=0;return C;function C(me){return q.enter("lineEnding"),q.consume(me),q.exit("lineEnding"),P}function P(me){return q.enter("codeFencedFence"),$e(me)?et(q,B,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):B(me)}function B(me){return me===h?(q.enter("codeFencedFenceSequence"),A(me)):k(me)}function A(me){return me===h?(M++,q.consume(me),A):M>=u?(q.exit("codeFencedFenceSequence"),$e(me)?et(q,ae,"whitespace")(me):ae(me)):k(me)}function ae(me){return me===null||je(me)?(q.exit("codeFencedFence"),D(me)):k(me)}}}function X5(t,e,n){const i=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const tp={name:"codeIndented",tokenize:Z5},K5={partial:!0,tokenize:J5};function Z5(t,e,n){const i=this;return s;function s(g){return t.enter("codeIndented"),et(t,o,"linePrefix",5)(g)}function o(g){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?u(g):n(g)}function u(g){return g===null?d(g):je(g)?t.attempt(K5,u,d)(g):(t.enter("codeFlowValue"),h(g))}function h(g){return g===null||je(g)?(t.exit("codeFlowValue"),u(g)):(t.consume(g),h)}function d(g){return t.exit("codeIndented"),e(g)}}function J5(t,e,n){const i=this;return s;function s(u){return i.parser.lazy[i.now().line]?n(u):je(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):et(t,o,"linePrefix",5)(u)}function o(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):je(u)?s(u):n(u)}}const W5={name:"codeText",previous:tk,resolve:ek,tokenize:nk};function ek(t){let e=t.length-4,n=3,i,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)s===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(s=i):(i===e||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),e-=i-s-2,i=s+2),s=void 0);return t}function tk(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function nk(t,e,n){let i=0,s,o;return u;function u(b){return t.enter("codeText"),t.enter("codeTextSequence"),h(b)}function h(b){return b===96?(t.consume(b),i++,h):(t.exit("codeTextSequence"),d(b))}function d(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),d):b===96?(o=t.enter("codeTextSequence"),s=0,x(b)):je(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),d):(t.enter("codeTextData"),g(b))}function g(b){return b===null||b===32||b===96||je(b)?(t.exit("codeTextData"),d(b)):(t.consume(b),g)}function x(b){return b===96?(t.consume(b),s++,x):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(o.type="codeTextData",g(b))}}class rk{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const s=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&su(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),su(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),su(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);su(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);su(this.left,n.reverse())}}}function su(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function mw(t){const e={};let n=-1,i,s,o,u,h,d,g;const x=new rk(t);for(;++n<x.length;){for(;n in e;)n=e[n];if(i=x.get(n),n&&i[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,ik(x,n)),n=e[n],g=!0);else if(i[1]._container){for(o=n,s=void 0;o--;)if(u=x.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(x.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(i[1].end={...x.get(s)[1].start},h=x.slice(s,n),h.unshift(i),x.splice(s,n-s+1,h))}}return tr(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!g}function ik(t,e){const n=t.get(e)[1],i=t.get(e)[2];let s=e-1;const o=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,d=[],g={};let x,b,_=-1,w=n,N=0,O=0;const V=[O];for(;w;){for(;t.get(++s)[1]!==w;);o.push(s),w._tokenizer||(x=i.sliceStream(w),w.next||x.push(null),b&&u.defineSkip(w.start),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(x),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),b=w,w=w.next}for(w=n;++_<h.length;)h[_][0]==="exit"&&h[_-1][0]==="enter"&&h[_][1].type===h[_-1][1].type&&h[_][1].start.line!==h[_][1].end.line&&(O=_+1,V.push(O),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(u.events=[],w?(w._tokenizer=void 0,w.previous=void 0):V.pop(),_=V.length;_--;){const z=h.slice(V[_],V[_+1]),U=o.pop();d.push([U,U+z.length-1]),t.splice(U,2,z)}for(d.reverse(),_=-1;++_<d.length;)g[N+d[_][0]]=N+d[_][1],N+=d[_][1]-d[_][0]-1;return g}const ak={resolve:lk,tokenize:ok},sk={partial:!0,tokenize:uk};function lk(t){return mw(t),t}function ok(t,e){let n;return i;function i(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(h)}function s(h){return h===null?o(h):je(h)?t.check(sk,u,o)(h):(t.consume(h),s)}function o(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function uk(t,e,n){const i=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),et(t,o,"linePrefix")}function o(u){if(u===null||je(u))return n(u);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function pw(t,e,n,i,s,o,u,h,d){const g=d||Number.POSITIVE_INFINITY;let x=0;return b;function b(z){return z===60?(t.enter(i),t.enter(s),t.enter(o),t.consume(z),t.exit(o),_):z===null||z===32||z===41||ah(z)?n(z):(t.enter(i),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),O(z))}function _(z){return z===62?(t.enter(o),t.consume(z),t.exit(o),t.exit(s),t.exit(i),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),w(z))}function w(z){return z===62?(t.exit("chunkString"),t.exit(h),_(z)):z===null||z===60||je(z)?n(z):(t.consume(z),z===92?N:w)}function N(z){return z===60||z===62||z===92?(t.consume(z),w):w(z)}function O(z){return!x&&(z===null||z===41||pt(z))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(i),e(z)):x<g&&z===40?(t.consume(z),x++,O):z===41?(t.consume(z),x--,O):z===null||z===32||z===40||ah(z)?n(z):(t.consume(z),z===92?V:O)}function V(z){return z===40||z===41||z===92?(t.consume(z),O):O(z)}}function gw(t,e,n,i,s,o){const u=this;let h=0,d;return g;function g(w){return t.enter(i),t.enter(s),t.consume(w),t.exit(s),t.enter(o),x}function x(w){return h>999||w===null||w===91||w===93&&!d||w===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(w):w===93?(t.exit(o),t.enter(s),t.consume(w),t.exit(s),t.exit(i),e):je(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),b(w))}function b(w){return w===null||w===91||w===93||je(w)||h++>999?(t.exit("chunkString"),x(w)):(t.consume(w),d||(d=!$e(w)),w===92?_:b)}function _(w){return w===91||w===92||w===93?(t.consume(w),h++,b):b(w)}}function yw(t,e,n,i,s,o){let u;return h;function h(_){return _===34||_===39||_===40?(t.enter(i),t.enter(s),t.consume(_),t.exit(s),u=_===40?41:_,d):n(_)}function d(_){return _===u?(t.enter(s),t.consume(_),t.exit(s),t.exit(i),e):(t.enter(o),g(_))}function g(_){return _===u?(t.exit(o),d(u)):_===null?n(_):je(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),et(t,g,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(_))}function x(_){return _===u||_===null||je(_)?(t.exit("chunkString"),g(_)):(t.consume(_),_===92?b:x)}function b(_){return _===u||_===92?(t.consume(_),x):x(_)}}function bu(t,e){let n;return i;function i(s){return je(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,i):$e(s)?et(t,i,n?"linePrefix":"lineSuffix")(s):e(s)}}const ck={name:"definition",tokenize:hk},fk={partial:!0,tokenize:dk};function hk(t,e,n){const i=this;let s;return o;function o(w){return t.enter("definition"),u(w)}function u(w){return gw.call(i,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function h(w){return s=Cr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),d):n(w)}function d(w){return pt(w)?bu(t,g)(w):g(w)}function g(w){return pw(t,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function x(w){return t.attempt(fk,b,b)(w)}function b(w){return $e(w)?et(t,_,"whitespace")(w):_(w)}function _(w){return w===null||je(w)?(t.exit("definition"),i.parser.defined.push(s),e(w)):n(w)}}function dk(t,e,n){return i;function i(h){return pt(h)?bu(t,s)(h):n(h)}function s(h){return yw(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return $e(h)?et(t,u,"whitespace")(h):u(h)}function u(h){return h===null||je(h)?e(h):n(h)}}const mk={name:"hardBreakEscape",tokenize:pk};function pk(t,e,n){return i;function i(o){return t.enter("hardBreakEscape"),t.consume(o),s}function s(o){return je(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const gk={name:"headingAtx",resolve:yk,tokenize:xk};function yk(t,e){let n=t.length-2,i=3,s,o;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},o={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},tr(t,i,n-i+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function xk(t,e,n){let i=0;return s;function s(x){return t.enter("atxHeading"),o(x)}function o(x){return t.enter("atxHeadingSequence"),u(x)}function u(x){return x===35&&i++<6?(t.consume(x),u):x===null||pt(x)?(t.exit("atxHeadingSequence"),h(x)):n(x)}function h(x){return x===35?(t.enter("atxHeadingSequence"),d(x)):x===null||je(x)?(t.exit("atxHeading"),e(x)):$e(x)?et(t,h,"whitespace")(x):(t.enter("atxHeadingText"),g(x))}function d(x){return x===35?(t.consume(x),d):(t.exit("atxHeadingSequence"),h(x))}function g(x){return x===null||x===35||pt(x)?(t.exit("atxHeadingText"),h(x)):(t.consume(x),g)}}const bk=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gv=["pre","script","style","textarea"],vk={concrete:!0,name:"htmlFlow",resolveTo:Ek,tokenize:Tk},_k={partial:!0,tokenize:Ak},wk={partial:!0,tokenize:Sk};function Ek(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Tk(t,e,n){const i=this;let s,o,u,h,d;return g;function g(j){return x(j)}function x(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),b}function b(j){return j===33?(t.consume(j),_):j===47?(t.consume(j),o=!0,O):j===63?(t.consume(j),s=3,i.interrupt?e:S):Cn(j)?(t.consume(j),u=String.fromCharCode(j),V):n(j)}function _(j){return j===45?(t.consume(j),s=2,w):j===91?(t.consume(j),s=5,h=0,N):Cn(j)?(t.consume(j),s=4,i.interrupt?e:S):n(j)}function w(j){return j===45?(t.consume(j),i.interrupt?e:S):n(j)}function N(j){const Z="CDATA[";return j===Z.charCodeAt(h++)?(t.consume(j),h===Z.length?i.interrupt?e:B:N):n(j)}function O(j){return Cn(j)?(t.consume(j),u=String.fromCharCode(j),V):n(j)}function V(j){if(j===null||j===47||j===62||pt(j)){const Z=j===47,ge=u.toLowerCase();return!Z&&!o&&gv.includes(ge)?(s=1,i.interrupt?e(j):B(j)):bk.includes(u.toLowerCase())?(s=6,Z?(t.consume(j),z):i.interrupt?e(j):B(j)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(j):o?U(j):L(j))}return j===45||xn(j)?(t.consume(j),u+=String.fromCharCode(j),V):n(j)}function z(j){return j===62?(t.consume(j),i.interrupt?e:B):n(j)}function U(j){return $e(j)?(t.consume(j),U):C(j)}function L(j){return j===47?(t.consume(j),C):j===58||j===95||Cn(j)?(t.consume(j),Q):$e(j)?(t.consume(j),L):C(j)}function Q(j){return j===45||j===46||j===58||j===95||xn(j)?(t.consume(j),Q):F(j)}function F(j){return j===61?(t.consume(j),q):$e(j)?(t.consume(j),F):L(j)}function q(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),d=j,D):$e(j)?(t.consume(j),q):k(j)}function D(j){return j===d?(t.consume(j),d=null,M):j===null||je(j)?n(j):(t.consume(j),D)}function k(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||pt(j)?F(j):(t.consume(j),k)}function M(j){return j===47||j===62||$e(j)?L(j):n(j)}function C(j){return j===62?(t.consume(j),P):n(j)}function P(j){return j===null||je(j)?B(j):$e(j)?(t.consume(j),P):n(j)}function B(j){return j===45&&s===2?(t.consume(j),W):j===60&&s===1?(t.consume(j),de):j===62&&s===4?(t.consume(j),se):j===63&&s===3?(t.consume(j),S):j===93&&s===5?(t.consume(j),Ie):je(j)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(_k,pe,A)(j)):j===null||je(j)?(t.exit("htmlFlowData"),A(j)):(t.consume(j),B)}function A(j){return t.check(wk,ae,pe)(j)}function ae(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),me}function me(j){return j===null||je(j)?A(j):(t.enter("htmlFlowData"),B(j))}function W(j){return j===45?(t.consume(j),S):B(j)}function de(j){return j===47?(t.consume(j),u="",ve):B(j)}function ve(j){if(j===62){const Z=u.toLowerCase();return gv.includes(Z)?(t.consume(j),se):B(j)}return Cn(j)&&u.length<8?(t.consume(j),u+=String.fromCharCode(j),ve):B(j)}function Ie(j){return j===93?(t.consume(j),S):B(j)}function S(j){return j===62?(t.consume(j),se):j===45&&s===2?(t.consume(j),S):B(j)}function se(j){return j===null||je(j)?(t.exit("htmlFlowData"),pe(j)):(t.consume(j),se)}function pe(j){return t.exit("htmlFlow"),e(j)}}function Sk(t,e,n){const i=this;return s;function s(u){return je(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function Ak(t,e,n){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Wu,e,n)}}const Nk={name:"htmlText",tokenize:Ck};function Ck(t,e,n){const i=this;let s,o,u;return h;function h(S){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(S),d}function d(S){return S===33?(t.consume(S),g):S===47?(t.consume(S),F):S===63?(t.consume(S),L):Cn(S)?(t.consume(S),k):n(S)}function g(S){return S===45?(t.consume(S),x):S===91?(t.consume(S),o=0,N):Cn(S)?(t.consume(S),U):n(S)}function x(S){return S===45?(t.consume(S),w):n(S)}function b(S){return S===null?n(S):S===45?(t.consume(S),_):je(S)?(u=b,de(S)):(t.consume(S),b)}function _(S){return S===45?(t.consume(S),w):b(S)}function w(S){return S===62?W(S):S===45?_(S):b(S)}function N(S){const se="CDATA[";return S===se.charCodeAt(o++)?(t.consume(S),o===se.length?O:N):n(S)}function O(S){return S===null?n(S):S===93?(t.consume(S),V):je(S)?(u=O,de(S)):(t.consume(S),O)}function V(S){return S===93?(t.consume(S),z):O(S)}function z(S){return S===62?W(S):S===93?(t.consume(S),z):O(S)}function U(S){return S===null||S===62?W(S):je(S)?(u=U,de(S)):(t.consume(S),U)}function L(S){return S===null?n(S):S===63?(t.consume(S),Q):je(S)?(u=L,de(S)):(t.consume(S),L)}function Q(S){return S===62?W(S):L(S)}function F(S){return Cn(S)?(t.consume(S),q):n(S)}function q(S){return S===45||xn(S)?(t.consume(S),q):D(S)}function D(S){return je(S)?(u=D,de(S)):$e(S)?(t.consume(S),D):W(S)}function k(S){return S===45||xn(S)?(t.consume(S),k):S===47||S===62||pt(S)?M(S):n(S)}function M(S){return S===47?(t.consume(S),W):S===58||S===95||Cn(S)?(t.consume(S),C):je(S)?(u=M,de(S)):$e(S)?(t.consume(S),M):W(S)}function C(S){return S===45||S===46||S===58||S===95||xn(S)?(t.consume(S),C):P(S)}function P(S){return S===61?(t.consume(S),B):je(S)?(u=P,de(S)):$e(S)?(t.consume(S),P):M(S)}function B(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),s=S,A):je(S)?(u=B,de(S)):$e(S)?(t.consume(S),B):(t.consume(S),ae)}function A(S){return S===s?(t.consume(S),s=void 0,me):S===null?n(S):je(S)?(u=A,de(S)):(t.consume(S),A)}function ae(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||pt(S)?M(S):(t.consume(S),ae)}function me(S){return S===47||S===62||pt(S)?M(S):n(S)}function W(S){return S===62?(t.consume(S),t.exit("htmlTextData"),t.exit("htmlText"),e):n(S)}function de(S){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),ve}function ve(S){return $e(S)?et(t,Ie,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):Ie(S)}function Ie(S){return t.enter("htmlTextData"),u(S)}}const ag={name:"labelEnd",resolveAll:Dk,resolveTo:Ik,tokenize:Mk},kk={tokenize:Ok},Rk={tokenize:Vk},jk={tokenize:Pk};function Dk(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",e+=s}}return t.length!==n.length&&tr(t,0,t.length,n),t}function Ik(t,e){let n=t.length,i=0,s,o,u,h;for(;n--;)if(s=t[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(u=n);const d={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},g={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},x={type:"labelText",start:{...t[o+i+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",d,e],["enter",g,e]],h=gr(h,t.slice(o+1,o+i+3)),h=gr(h,[["enter",x,e]]),h=gr(h,Rh(e.parser.constructs.insideSpan.null,t.slice(o+i+4,u-3),e)),h=gr(h,[["exit",x,e],t[u-2],t[u-1],["exit",g,e]]),h=gr(h,t.slice(u+1)),h=gr(h,[["exit",d,e]]),tr(t,o,t.length,h),t}function Mk(t,e,n){const i=this;let s=i.events.length,o,u;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return h;function h(_){return o?o._inactive?b(_):(u=i.parser.defined.includes(Cr(i.sliceSerialize({start:o.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(_),t.exit("labelMarker"),t.exit("labelEnd"),d):n(_)}function d(_){return _===40?t.attempt(kk,x,u?x:b)(_):_===91?t.attempt(Rk,x,u?g:b)(_):u?x(_):b(_)}function g(_){return t.attempt(jk,x,b)(_)}function x(_){return e(_)}function b(_){return o._balanced=!0,n(_)}}function Ok(t,e,n){return i;function i(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),s}function s(b){return pt(b)?bu(t,o)(b):o(b)}function o(b){return b===41?x(b):pw(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function u(b){return pt(b)?bu(t,d)(b):x(b)}function h(b){return n(b)}function d(b){return b===34||b===39||b===40?yw(t,g,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function g(b){return pt(b)?bu(t,x)(b):x(b)}function x(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function Vk(t,e,n){const i=this;return s;function s(h){return gw.call(i,t,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return i.parser.defined.includes(Cr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function Pk(t,e,n){return i;function i(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),s}function s(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const Lk={name:"labelStartImage",resolveAll:ag.resolveAll,tokenize:zk};function zk(t,e,n){const i=this;return s;function s(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),o}function o(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):e(h)}}const Uk={name:"labelStartLink",resolveAll:ag.resolveAll,tokenize:Bk};function Bk(t,e,n){const i=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const np={name:"lineEnding",tokenize:qk};function qk(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),et(t,e,"linePrefix")}}const Bf={name:"thematicBreak",tokenize:Fk};function Fk(t,e,n){let i=0,s;return o;function o(g){return t.enter("thematicBreak"),u(g)}function u(g){return s=g,h(g)}function h(g){return g===s?(t.enter("thematicBreakSequence"),d(g)):i>=3&&(g===null||je(g))?(t.exit("thematicBreak"),e(g)):n(g)}function d(g){return g===s?(t.consume(g),i++,d):(t.exit("thematicBreakSequence"),$e(g)?et(t,h,"whitespace")(g):h(g))}}const Vn={continuation:{tokenize:Qk},exit:Xk,name:"list",tokenize:Gk},Hk={partial:!0,tokenize:Kk},$k={partial:!0,tokenize:Yk};function Gk(t,e,n){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return h;function h(w){const N=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:$p(w)){if(i.containerState.type||(i.containerState.type=N,t.enter(N,{_container:!0})),N==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(Bf,n,g)(w):g(w);if(!i.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(w)}return n(w)}function d(w){return $p(w)&&++u<10?(t.consume(w),d):(!i.interrupt||u<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),g(w)):n(w)}function g(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,t.check(Wu,i.interrupt?n:x,t.attempt(Hk,_,b))}function x(w){return i.containerState.initialBlankLine=!0,o++,_(w)}function b(w){return $e(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),_):n(w)}function _(w){return i.containerState.size=o+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function Qk(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Wu,s,o);function s(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,et(t,e,"listItemIndent",i.containerState.size+1)(h)}function o(h){return i.containerState.furtherBlankLines||!$e(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt($k,e,u)(h))}function u(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,et(t,t.attempt(Vn,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function Yk(t,e,n){const i=this;return et(t,s,"listItemIndent",i.containerState.size+1);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(o):n(o)}}function Xk(t){t.exit(this.containerState.type)}function Kk(t,e,n){const i=this;return et(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=i.events[i.events.length-1];return!$e(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const yv={name:"setextUnderline",resolveTo:Zk,tokenize:Jk};function Zk(t,e){let n=t.length,i,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",o?(t.splice(s,0,["enter",u,e]),t.splice(o+1,0,["exit",t[i][1],e]),t[i][1].end={...t[o][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function Jk(t,e,n){const i=this;let s;return o;function o(g){let x=i.events.length,b;for(;x--;)if(i.events[x][1].type!=="lineEnding"&&i.events[x][1].type!=="linePrefix"&&i.events[x][1].type!=="content"){b=i.events[x][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||b)?(t.enter("setextHeadingLine"),s=g,u(g)):n(g)}function u(g){return t.enter("setextHeadingLineSequence"),h(g)}function h(g){return g===s?(t.consume(g),h):(t.exit("setextHeadingLineSequence"),$e(g)?et(t,d,"lineSuffix")(g):d(g))}function d(g){return g===null||je(g)?(t.exit("setextHeadingLine"),e(g)):n(g)}}const Wk={tokenize:e9};function e9(t){const e=this,n=t.attempt(Wu,i,t.attempt(this.parser.constructs.flowInitial,s,et(t,t.attempt(this.parser.constructs.flow,s,t.attempt(ak,s)),"linePrefix")));return n;function i(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const t9={resolveAll:bw()},n9=xw("string"),r9=xw("text");function xw(t){return{resolveAll:bw(t==="text"?i9:void 0),tokenize:e};function e(n){const i=this,s=this.parser.constructs[t],o=n.attempt(s,u,h);return u;function u(x){return g(x)?o(x):h(x)}function h(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),d}function d(x){return g(x)?(n.exit("data"),o(x)):(n.consume(x),d)}function g(x){if(x===null)return!0;const b=s[x];let _=-1;if(b)for(;++_<b.length;){const w=b[_];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}function bw(t){return e;function e(n,i){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,i):n}}function i9(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],s=e.sliceStream(i);let o=s.length,u=-1,h=0,d;for(;o--;){const g=s[o];if(typeof g=="string"){for(u=g.length;g.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(g===-2)d=!0,h++;else if(g!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const g={type:n===t.length||d||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...g.start},i.start.offset===i.end.offset?Object.assign(i,g):(t.splice(n,0,["enter",g,e],["exit",g,e]),n+=2)}n++}return t}const a9={42:Vn,43:Vn,45:Vn,48:Vn,49:Vn,50:Vn,51:Vn,52:Vn,53:Vn,54:Vn,55:Vn,56:Vn,57:Vn,62:fw},s9={91:ck},l9={[-2]:tp,[-1]:tp,32:tp},o9={35:gk,42:Bf,45:[yv,Bf],60:vk,61:yv,95:Bf,96:pv,126:pv},u9={38:dw,92:hw},c9={[-5]:np,[-4]:np,[-3]:np,33:Lk,38:dw,42:Gp,60:[U5,Nk],91:Uk,92:[mk,hw],93:ag,95:Gp,96:W5},f9={null:[Gp,t9]},h9={null:[42,95]},d9={null:[]},m9=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:h9,contentInitial:s9,disable:d9,document:a9,flow:o9,flowInitial:l9,insideSpan:f9,string:u9,text:c9},Symbol.toStringTag,{value:"Module"}));function p9(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let u=[],h=[];const d={attempt:D(F),check:D(q),consume:U,enter:L,exit:Q,interrupt:D(q,{interrupt:!0})},g={code:null,containerState:{},defineSkip:O,events:[],now:N,parser:t,previous:null,sliceSerialize:_,sliceStream:w,write:b};let x=e.tokenize.call(g,d);return e.resolveAll&&o.push(e),g;function b(P){return u=gr(u,P),V(),u[u.length-1]!==null?[]:(k(e,0),g.events=Rh(o,g.events,g),g.events)}function _(P,B){return y9(w(P),B)}function w(P){return g9(u,P)}function N(){const{_bufferIndex:P,_index:B,line:A,column:ae,offset:me}=i;return{_bufferIndex:P,_index:B,line:A,column:ae,offset:me}}function O(P){s[P.line]=P.column,C()}function V(){let P;for(;i._index<u.length;){const B=u[i._index];if(typeof B=="string")for(P=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===P&&i._bufferIndex<B.length;)z(B.charCodeAt(i._bufferIndex));else z(B)}}function z(P){x=x(P)}function U(P){je(P)?(i.line++,i.column=1,i.offset+=P===-3?2:1,C()):P!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),g.previous=P}function L(P,B){const A=B||{};return A.type=P,A.start=N(),g.events.push(["enter",A,g]),h.push(A),A}function Q(P){const B=h.pop();return B.end=N(),g.events.push(["exit",B,g]),B}function F(P,B){k(P,B.from)}function q(P,B){B.restore()}function D(P,B){return A;function A(ae,me,W){let de,ve,Ie,S;return Array.isArray(ae)?pe(ae):"tokenize"in ae?pe([ae]):se(ae);function se(ie){return be;function be(Te){const it=Te!==null&&ie[Te],Ct=Te!==null&&ie.null,Tt=[...Array.isArray(it)?it:it?[it]:[],...Array.isArray(Ct)?Ct:Ct?[Ct]:[]];return pe(Tt)(Te)}}function pe(ie){return de=ie,ve=0,ie.length===0?W:j(ie[ve])}function j(ie){return be;function be(Te){return S=M(),Ie=ie,ie.partial||(g.currentConstruct=ie),ie.name&&g.parser.constructs.disable.null.includes(ie.name)?ge():ie.tokenize.call(B?Object.assign(Object.create(g),B):g,d,Z,ge)(Te)}}function Z(ie){return P(Ie,S),me}function ge(ie){return S.restore(),++ve<de.length?j(de[ve]):W}}}function k(P,B){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&tr(g.events,B,g.events.length-B,P.resolve(g.events.slice(B),g)),P.resolveTo&&(g.events=P.resolveTo(g.events,g))}function M(){const P=N(),B=g.previous,A=g.currentConstruct,ae=g.events.length,me=Array.from(h);return{from:ae,restore:W};function W(){i=P,g.previous=B,g.currentConstruct=A,g.events.length=ae,h=me,C()}}function C(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function g9(t,e){const n=e.start._index,i=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(i,o)];else{if(u=t.slice(n,s),i>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(i):u.shift()}o>0&&u.push(t[s].slice(0,o))}return u}function y9(t,e){let n=-1;const i=[];let s;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,i.push(u)}return i.join("")}function x9(t){const i={constructs:uw([m9,...(t||{}).extensions||[]]),content:s(I5),defined:[],document:s(O5),flow:s(Wk),lazy:{},string:s(n9),text:s(r9)};return i;function s(o){return u;function u(h){return p9(i,o,h)}}}function b9(t){for(;!mw(t););return t}const xv=/[\0\t\n\r]/g;function v9(){let t=1,e="",n=!0,i;return s;function s(o,u,h){const d=[];let g,x,b,_,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(xv.lastIndex=b,g=xv.exec(o),_=g&&g.index!==void 0?g.index:o.length,w=o.charCodeAt(_),!g){e=o.slice(b);break}if(w===10&&b===_&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),b<_&&(d.push(o.slice(b,_)),t+=_-b),w){case 0:{d.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,d.push(-2);t++<x;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:i=!0,t=1}b=_+1}return h&&(i&&d.push(-5),e&&d.push(e),d.push(null)),d}}const _9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function w9(t){return t.replace(_9,E9)}function E9(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return cw(n.slice(o?2:1),o?16:10)}return ig(n)||t}const vw={}.hasOwnProperty;function T9(t,e,n){return typeof e!="string"&&(n=e,e=void 0),S9(n)(b9(x9(n).document().write(v9()(t,e,!0))))}function S9(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(jr),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(Rr),blockQuote:o(Ct),characterEscape:M,characterReference:M,codeFenced:o(Tt),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Tt,u),codeText:o(vn,u),codeTextData:M,data:M,codeFlowValue:M,definition:o(Bn),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(vr),hardBreakEscape:o(si),hardBreakTrailing:o(si),htmlFlow:o(tn,u),htmlFlowData:M,htmlText:o(tn,u),htmlTextData:M,image:o(Ma),label:u,link:o(jr),listItem:o(_r),listItemValue:_,listOrdered:o(rr,b),listUnordered:o(rr),paragraph:o(Oa),reference:j,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Rr),strong:o(Dr),thematicBreak:o(qn)},exit:{atxHeading:d(),atxHeadingSequence:F,autolink:d(),autolinkEmail:it,autolinkProtocol:Te,blockQuote:d(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:ie,characterReference:be,codeFenced:d(V),codeFencedFence:O,codeFencedFenceInfo:w,codeFencedFenceMeta:N,codeFlowValue:C,codeIndented:d(z),codeText:d(me),codeTextData:C,data:C,definition:d(),definitionDestinationString:Q,definitionLabelString:U,definitionTitleString:L,emphasis:d(),hardBreakEscape:d(B),hardBreakTrailing:d(B),htmlFlow:d(A),htmlFlowData:C,htmlText:d(ae),htmlTextData:C,image:d(de),label:Ie,labelText:ve,lineEnding:P,link:d(W),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Z,resourceDestinationString:S,resourceTitleString:se,resource:pe,setextHeading:d(k),setextHeadingLineSequence:D,setextHeadingText:q,strong:d(),thematicBreak:d()}};_w(e,(t||{}).mdastExtensions||[]);const n={};return i;function i($){let re={type:"root",children:[]};const we={stack:[re],tokenStack:[],config:e,enter:h,exit:g,buffer:u,resume:x,data:n},Ne=[];let tt=-1;for(;++tt<$.length;)if($[tt][1].type==="listOrdered"||$[tt][1].type==="listUnordered")if($[tt][0]==="enter")Ne.push(tt);else{const _n=Ne.pop();tt=s($,_n,tt)}for(tt=-1;++tt<$.length;){const _n=e[$[tt][0]];vw.call(_n,$[tt][1].type)&&_n[$[tt][1].type].call(Object.assign({sliceSerialize:$[tt][2].sliceSerialize},we),$[tt][1])}if(we.tokenStack.length>0){const _n=we.tokenStack[we.tokenStack.length-1];(_n[1]||bv).call(we,void 0,_n[0])}for(re.position={start:ya($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:ya($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},tt=-1;++tt<e.transforms.length;)re=e.transforms[tt](re)||re;return re}function s($,re,we){let Ne=re-1,tt=-1,_n=!1,wn,nn,Fn,rn;for(;++Ne<=we;){const It=$[Ne];switch(It[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{It[0]==="enter"?tt++:tt--,rn=void 0;break}case"lineEndingBlank":{It[0]==="enter"&&(wn&&!rn&&!tt&&!Fn&&(Fn=Ne),rn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rn=void 0}if(!tt&&It[0]==="enter"&&It[1].type==="listItemPrefix"||tt===-1&&It[0]==="exit"&&(It[1].type==="listUnordered"||It[1].type==="listOrdered")){if(wn){let Dn=Ne;for(nn=void 0;Dn--;){const En=$[Dn];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;nn&&($[nn][1].type="lineEndingBlank",_n=!0),En[1].type="lineEnding",nn=Dn}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}Fn&&(!nn||Fn<nn)&&(wn._spread=!0),wn.end=Object.assign({},nn?$[nn][1].start:It[1].end),$.splice(nn||Ne,0,["exit",wn,It[2]]),Ne++,we++}if(It[1].type==="listItemPrefix"){const Dn={type:"listItem",_spread:!1,start:Object.assign({},It[1].start),end:void 0};wn=Dn,$.splice(Ne,0,["enter",Dn,It[2]]),Ne++,we++,Fn=void 0,rn=!0}}}return $[re][1]._spread=_n,we}function o($,re){return we;function we(Ne){h.call(this,$(Ne),Ne),re&&re.call(this,Ne)}}function u(){this.stack.push({type:"fragment",children:[]})}function h($,re,we){this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([re,we||void 0]),$.position={start:ya(re.start),end:void 0}}function d($){return re;function re(we){$&&$.call(this,we),g.call(this,we)}}function g($,re){const we=this.stack.pop(),Ne=this.tokenStack.pop();if(Ne)Ne[0].type!==$.type&&(re?re.call(this,$,Ne[0]):(Ne[1]||bv).call(this,$,Ne[0]));else throw new Error("Cannot close `"+$.type+"` ("+xu({start:$.start,end:$.end})+"): its not open");we.position.end=ya($.end)}function x(){return rg(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function _($){if(this.data.expectingFirstListItemValue){const re=this.stack[this.stack.length-2];re.start=Number.parseInt(this.sliceSerialize($),10),this.data.expectingFirstListItemValue=void 0}}function w(){const $=this.resume(),re=this.stack[this.stack.length-1];re.lang=$}function N(){const $=this.resume(),re=this.stack[this.stack.length-1];re.meta=$}function O(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function V(){const $=this.resume(),re=this.stack[this.stack.length-1];re.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function z(){const $=this.resume(),re=this.stack[this.stack.length-1];re.value=$.replace(/(\r?\n|\r)$/g,"")}function U($){const re=this.resume(),we=this.stack[this.stack.length-1];we.label=re,we.identifier=Cr(this.sliceSerialize($)).toLowerCase()}function L(){const $=this.resume(),re=this.stack[this.stack.length-1];re.title=$}function Q(){const $=this.resume(),re=this.stack[this.stack.length-1];re.url=$}function F($){const re=this.stack[this.stack.length-1];if(!re.depth){const we=this.sliceSerialize($).length;re.depth=we}}function q(){this.data.setextHeadingSlurpLineEnding=!0}function D($){const re=this.stack[this.stack.length-1];re.depth=this.sliceSerialize($).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function M($){const we=this.stack[this.stack.length-1].children;let Ne=we[we.length-1];(!Ne||Ne.type!=="text")&&(Ne=li(),Ne.position={start:ya($.start),end:void 0},we.push(Ne)),this.stack.push(Ne)}function C($){const re=this.stack.pop();re.value+=this.sliceSerialize($),re.position.end=ya($.end)}function P($){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=re.children[re.children.length-1];we.position.end=ya($.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(re.type)&&(M.call(this,$),C.call(this,$))}function B(){this.data.atHardBreak=!0}function A(){const $=this.resume(),re=this.stack[this.stack.length-1];re.value=$}function ae(){const $=this.resume(),re=this.stack[this.stack.length-1];re.value=$}function me(){const $=this.resume(),re=this.stack[this.stack.length-1];re.value=$}function W(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=re,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function de(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=re,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function ve($){const re=this.sliceSerialize($),we=this.stack[this.stack.length-2];we.label=w9(re),we.identifier=Cr(re).toLowerCase()}function Ie(){const $=this.stack[this.stack.length-1],re=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const Ne=$.children;we.children=Ne}else we.alt=re}function S(){const $=this.resume(),re=this.stack[this.stack.length-1];re.url=$}function se(){const $=this.resume(),re=this.stack[this.stack.length-1];re.title=$}function pe(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function Z($){const re=this.resume(),we=this.stack[this.stack.length-1];we.label=re,we.identifier=Cr(this.sliceSerialize($)).toLowerCase(),this.data.referenceType="full"}function ge($){this.data.characterReferenceType=$.type}function ie($){const re=this.sliceSerialize($),we=this.data.characterReferenceType;let Ne;we?(Ne=cw(re,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ne=ig(re);const tt=this.stack[this.stack.length-1];tt.value+=Ne}function be($){const re=this.stack.pop();re.position.end=ya($.end)}function Te($){C.call(this,$);const re=this.stack[this.stack.length-1];re.url=this.sliceSerialize($)}function it($){C.call(this,$);const re=this.stack[this.stack.length-1];re.url="mailto:"+this.sliceSerialize($)}function Ct(){return{type:"blockquote",children:[]}}function Tt(){return{type:"code",lang:null,meta:null,value:""}}function vn(){return{type:"inlineCode",value:""}}function Bn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function vr(){return{type:"emphasis",children:[]}}function Rr(){return{type:"heading",depth:0,children:[]}}function si(){return{type:"break"}}function tn(){return{type:"html",value:""}}function Ma(){return{type:"image",title:null,url:"",alt:null}}function jr(){return{type:"link",title:null,url:"",children:[]}}function rr($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function _r($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function Oa(){return{type:"paragraph",children:[]}}function Dr(){return{type:"strong",children:[]}}function li(){return{type:"text",value:""}}function qn(){return{type:"thematicBreak"}}}function ya(t){return{line:t.line,column:t.column,offset:t.offset}}function _w(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?_w(t,i):A9(t,i)}}function A9(t,e){let n;for(n in e)if(vw.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function bv(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+xu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+xu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+xu({start:e.start,end:e.end})+") is still open")}function N9(t){const e=this;e.parser=n;function n(i){return T9(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function C9(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function k9(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function R9(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function j9(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function D9(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function I9(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),s=Gl(i.toLowerCase()),o=t.footnoteOrder.indexOf(i);let u,h=t.footnoteCounts.get(i);h===void 0?(h=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=o+1,h+=1,t.footnoteCounts.set(i,h);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,d);const g={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,g),t.applyData(e,g)}function M9(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function O9(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function ww(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const s=t.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=i:s.push({type:"text",value:i}),s}function V9(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return ww(t,e);const s={src:Gl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,o),t.applyData(e,o)}function P9(t,e){const n={src:Gl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function L9(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function z9(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return ww(t,e);const s={href:Gl(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function U9(t,e){const n={href:Gl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function B9(t,e,n){const i=t.all(e),s=n?q9(n):Ew(e),o={},u=[];if(typeof e.checked=="boolean"){const x=i[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},i.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const x=i[h];(s||h!==0||x.type!=="element"||x.tagName!=="p")&&u.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!s?u.push(...x.children):u.push(x)}const d=i[i.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,g),t.applyData(e,g)}function q9(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=Ew(n[i])}return e}function Ew(t){const e=t.spread;return e??t.children.length>1}function F9(t,e){const n={},i=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<i.length;){const u=i[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function H9(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $9(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function G9(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Q9(t,e){const n=t.all(e),i=n.shift(),s=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=W0(e.children[1]),d=nw(e.children[e.children.length-1]);h&&d&&(u.position={start:h,end:d}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function Y9(t,e,n){const i=n?n.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let d=-1;const g=[];for(;++d<h;){const b=e.children[d],_={},w=u?u[d]:void 0;w&&(_.align=w);let N={type:"element",tagName:o,properties:_,children:[]};b&&(N.children=t.all(b),t.patch(b,N),N=t.applyData(b,N)),g.push(N)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(g,!0)};return t.patch(e,x),t.applyData(e,x)}function X9(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const vv=9,_v=32;function K9(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),s=0;const o=[];for(;i;)o.push(wv(e.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(e);return o.push(wv(e.slice(s),s>0,!1)),o.join("")}function wv(t,e,n){let i=0,s=t.length;if(e){let o=t.codePointAt(i);for(;o===vv||o===_v;)i++,o=t.codePointAt(i)}if(n){let o=t.codePointAt(s-1);for(;o===vv||o===_v;)s--,o=t.codePointAt(s-1)}return s>i?t.slice(i,s):""}function Z9(t,e){const n={type:"text",value:K9(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function J9(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const W9={blockquote:C9,break:k9,code:R9,delete:j9,emphasis:D9,footnoteReference:I9,heading:M9,html:O9,imageReference:V9,image:P9,inlineCode:L9,linkReference:z9,link:U9,listItem:B9,list:F9,paragraph:H9,root:$9,strong:G9,table:Q9,tableCell:X9,tableRow:Y9,text:Z9,thematicBreak:J9,toml:Rf,yaml:Rf,definition:Rf,footnoteDefinition:Rf};function Rf(){}const Tw=-1,jh=0,vu=1,sh=2,sg=3,lg=4,og=5,ug=6,Sw=7,Aw=8,Ev=typeof self=="object"?self:globalThis,eR=(t,e)=>{const n=(s,o)=>(t.set(o,s),s),i=s=>{if(t.has(s))return t.get(s);const[o,u]=e[s];switch(o){case jh:case Tw:return n(u,s);case vu:{const h=n([],s);for(const d of u)h.push(i(d));return h}case sh:{const h=n({},s);for(const[d,g]of u)h[i(d)]=i(g);return h}case sg:return n(new Date(u),s);case lg:{const{source:h,flags:d}=u;return n(new RegExp(h,d),s)}case og:{const h=n(new Map,s);for(const[d,g]of u)h.set(i(d),i(g));return h}case ug:{const h=n(new Set,s);for(const d of u)h.add(i(d));return h}case Sw:{const{name:h,message:d}=u;return n(new Ev[h](d),s)}case Aw:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new Ev[o](u),s)};return i},Tv=t=>eR(new Map,t)(0),xl="",{toString:tR}={},{keys:nR}=Object,lu=t=>{const e=typeof t;if(e!=="object"||!t)return[jh,e];const n=tR.call(t).slice(8,-1);switch(n){case"Array":return[vu,xl];case"Object":return[sh,xl];case"Date":return[sg,xl];case"RegExp":return[lg,xl];case"Map":return[og,xl];case"Set":return[ug,xl];case"DataView":return[vu,n]}return n.includes("Array")?[vu,n]:n.includes("Error")?[Sw,n]:[sh,n]},jf=([t,e])=>t===jh&&(e==="function"||e==="symbol"),rR=(t,e,n,i)=>{const s=(u,h)=>{const d=i.push(u)-1;return n.set(h,d),d},o=u=>{if(n.has(u))return n.get(u);let[h,d]=lu(u);switch(h){case jh:{let x=u;switch(d){case"bigint":h=Aw,x=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);x=null;break;case"undefined":return s([Tw],u)}return s([h,x],u)}case vu:{if(d){let _=u;return d==="DataView"?_=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(_=new Uint8Array(u)),s([d,[..._]],u)}const x=[],b=s([h,x],u);for(const _ of u)x.push(o(_));return b}case sh:{if(d)switch(d){case"BigInt":return s([d,u.toString()],u);case"Boolean":case"Number":case"String":return s([d,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const x=[],b=s([h,x],u);for(const _ of nR(u))(t||!jf(lu(u[_])))&&x.push([o(_),o(u[_])]);return b}case sg:return s([h,u.toISOString()],u);case lg:{const{source:x,flags:b}=u;return s([h,{source:x,flags:b}],u)}case og:{const x=[],b=s([h,x],u);for(const[_,w]of u)(t||!(jf(lu(_))||jf(lu(w))))&&x.push([o(_),o(w)]);return b}case ug:{const x=[],b=s([h,x],u);for(const _ of u)(t||!jf(lu(_)))&&x.push(o(_));return b}}const{message:g}=u;return s([h,{name:d,message:g}],u)};return o},Sv=(t,{json:e,lossy:n}={})=>{const i=[];return rR(!(e||n),!!e,new Map,i)(t),i},lh=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Tv(Sv(t,e)):structuredClone(t):(t,e)=>Tv(Sv(t,e));function iR(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function aR(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function sR(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||iR,i=t.options.footnoteBackLabel||aR,s=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let d=-1;for(;++d<t.footnoteOrder.length;){const g=t.footnoteById.get(t.footnoteOrder[d]);if(!g)continue;const x=t.all(g),b=String(g.identifier).toUpperCase(),_=Gl(b.toLowerCase());let w=0;const N=[],O=t.footnoteCounts.get(b);for(;O!==void 0&&++w<=O;){N.length>0&&N.push({type:"text",value:" "});let U=typeof n=="string"?n:n(d,w);typeof U=="string"&&(U={type:"text",value:U}),N.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+_+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,w),className:["data-footnote-backref"]},children:Array.isArray(U)?U:[U]})}const V=x[x.length-1];if(V&&V.type==="element"&&V.tagName==="p"){const U=V.children[V.children.length-1];U&&U.type==="text"?U.value+=" ":V.children.push({type:"text",value:" "}),V.children.push(...N)}else x.push(...N);const z={type:"element",tagName:"li",properties:{id:e+"fn-"+_},children:t.wrap(x,!0)};t.patch(g,z),h.push(z)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...lh(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const Dh=(function(t){if(t==null)return cR;if(typeof t=="function")return Ih(t);if(typeof t=="object")return Array.isArray(t)?lR(t):oR(t);if(typeof t=="string")return uR(t);throw new Error("Expected function, string, or object as test")});function lR(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Dh(t[n]);return Ih(i);function i(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function oR(t){const e=t;return Ih(n);function n(i){const s=i;let o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function uR(t){return Ih(e);function e(n){return n&&n.type===t}}function Ih(t){return e;function e(n,i,s){return!!(fR(n)&&t.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function cR(){return!0}function fR(t){return t!==null&&typeof t=="object"&&"type"in t}const Nw=[],hR=!0,Qp=!1,dR="skip";function Cw(t,e,n,i){let s;typeof e=="function"&&typeof n!="function"?(i=n,n=e):s=e;const o=Dh(s),u=i?-1:1;h(t,void 0,[])();function h(d,g,x){const b=d&&typeof d=="object"?d:{};if(typeof b.type=="string"){const w=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(d.type+(w?"<"+w+">":""))+")"})}return _;function _(){let w=Nw,N,O,V;if((!e||o(d,g,x[x.length-1]||void 0))&&(w=mR(n(d,x)),w[0]===Qp))return w;if("children"in d&&d.children){const z=d;if(z.children&&w[0]!==dR)for(O=(i?z.children.length:-1)+u,V=x.concat(z);O>-1&&O<z.children.length;){const U=z.children[O];if(N=h(U,O,V)(),N[0]===Qp)return N;O=typeof N[1]=="number"?N[1]:O+u}}return w}}}function mR(t){return Array.isArray(t)?t:typeof t=="number"?[hR,t]:t==null?Nw:[t]}function cg(t,e,n,i){let s,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,s=n):(o=e,u=n,s=i),Cw(t,o,h,s);function h(d,g){const x=g[g.length-1],b=x?x.children.indexOf(d):void 0;return u(d,b,x)}}const Yp={}.hasOwnProperty,pR={};function gR(t,e){const n=e||pR,i=new Map,s=new Map,o=new Map,u={...W9,...n.handlers},h={all:g,applyData:xR,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:d,options:n,patch:yR,wrap:vR};return cg(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?i:s,_=String(x.identifier).toUpperCase();b.has(_)||b.set(_,x)}}),h;function d(x,b){const _=x.type,w=h.handlers[_];if(Yp.call(h.handlers,_)&&w)return w(h,x,b);if(h.options.passThrough&&h.options.passThrough.includes(_)){if("children"in x){const{children:O,...V}=x,z=lh(V);return z.children=h.all(x),z}return lh(x)}return(h.options.unknownHandler||bR)(h,x,b)}function g(x){const b=[];if("children"in x){const _=x.children;let w=-1;for(;++w<_.length;){const N=h.one(_[w],x);if(N){if(w&&_[w-1].type==="break"&&(!Array.isArray(N)&&N.type==="text"&&(N.value=Av(N.value)),!Array.isArray(N)&&N.type==="element")){const O=N.children[0];O&&O.type==="text"&&(O.value=Av(O.value))}Array.isArray(N)?b.push(...N):b.push(N)}}}return b}}function yR(t,e){t.position&&(e.position=a5(t))}function xR(t,e){let n=e;if(t&&t.data){const i=t.data.hName,s=t.data.hChildren,o=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,lh(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function bR(t,e){const n=e.data||{},i="value"in e&&!(Yp.call(n,"hProperties")||Yp.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function vR(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Av(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Nv(t,e){const n=gR(t,e),i=n.one(t,void 0),s=sR(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function _R(t,e){return t&&"run"in t?async function(n,i){const s=Nv(n,{file:i,...e});await t.run(s,i)}:function(n,i){return Nv(n,{file:i,...t||e})}}function Cv(t){if(t)throw t}var rp,kv;function wR(){if(kv)return rp;kv=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(g){return typeof Array.isArray=="function"?Array.isArray(g):e.call(g)==="[object Array]"},o=function(g){if(!g||e.call(g)!=="[object Object]")return!1;var x=t.call(g,"constructor"),b=g.constructor&&g.constructor.prototype&&t.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!x&&!b)return!1;var _;for(_ in g);return typeof _>"u"||t.call(g,_)},u=function(g,x){n&&x.name==="__proto__"?n(g,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):g[x.name]=x.newValue},h=function(g,x){if(x==="__proto__")if(t.call(g,x)){if(i)return i(g,x).value}else return;return g[x]};return rp=function d(){var g,x,b,_,w,N,O=arguments[0],V=1,z=arguments.length,U=!1;for(typeof O=="boolean"&&(U=O,O=arguments[1]||{},V=2),(O==null||typeof O!="object"&&typeof O!="function")&&(O={});V<z;++V)if(g=arguments[V],g!=null)for(x in g)b=h(O,x),_=h(g,x),O!==_&&(U&&_&&(o(_)||(w=s(_)))?(w?(w=!1,N=b&&s(b)?b:[]):N=b&&o(b)?b:{},u(O,{name:x,newValue:d(U,N,_)})):typeof _<"u"&&u(O,{name:x,newValue:_}));return O},rp}var ER=wR();const ip=uh(ER);function Xp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function TR(){const t=[],e={run:n,use:i};return e;function n(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...s);function h(d,...g){const x=t[++o];let b=-1;if(d){u(d);return}for(;++b<s.length;)(g[b]===null||g[b]===void 0)&&(g[b]=s[b]);s=g,x?SR(x,h)(...g):u(null,...g)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function SR(t,e){let n;return i;function i(...u){const h=t.length>u.length;let d;h&&u.push(s);try{d=t.apply(this,u)}catch(g){const x=g;if(h&&n)throw x;return s(x)}h||(d&&d.then&&typeof d.then=="function"?d.then(o,s):d instanceof Error?s(d):o(d))}function s(u,...h){n||(n=!0,e(u,...h))}function o(u){s(null,u)}}const Xr={basename:AR,dirname:NR,extname:CR,join:kR,sep:"/"};function AR(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ec(t);let n=0,i=-1,s=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,h=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else u<0&&(o=!0,u=s+1),h>-1&&(t.codePointAt(s)===e.codePointAt(h--)?h<0&&(i=s):(h=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function NR(t){if(ec(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function CR(t){ec(t);let e=t.length,n=-1,i=0,s=-1,o=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===i+1?"":t.slice(s,n)}function kR(...t){let e=-1,n;for(;++e<t.length;)ec(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":RR(n)}function RR(t){ec(t);const e=t.codePointAt(0)===47;let n=jR(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function jR(t,e){let n="",i=0,s=-1,o=0,u=-1,h,d;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",i=0):(n=n.slice(0,d),i=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length>0){n="",i=0,s=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),i=u-s-1;s=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function ec(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const DR={cwd:IR};function IR(){return"/"}function Kp(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function MR(t){if(typeof t=="string")t=new URL(t);else if(!Kp(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return OR(t)}function OR(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const ap=["history","path","basename","stem","extname","dirname"];class kw{constructor(e){let n;e?Kp(e)?n={path:e}:typeof e=="string"||VR(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":DR.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<ap.length;){const o=ap[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)ap.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Xr.basename(this.path):void 0}set basename(e){lp(e,"basename"),sp(e,"basename"),this.path=Xr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Xr.dirname(this.path):void 0}set dirname(e){Rv(this.basename,"dirname"),this.path=Xr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Xr.extname(this.path):void 0}set extname(e){if(sp(e,"extname"),Rv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Kp(e)&&(e=MR(e)),lp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Xr.basename(this.path,this.extname):void 0}set stem(e){lp(e,"stem"),sp(e,"stem"),this.path=Xr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const s=this.message(e,n,i);throw s.fatal=!0,s}info(e,n,i){const s=this.message(e,n,i);return s.fatal=void 0,s}message(e,n,i){const s=new bn(e,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function sp(t,e){if(t&&t.includes(Xr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Xr.sep+"`")}function lp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Rv(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function VR(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const PR=(function(t){const i=this.constructor.prototype,s=i[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o}),LR={}.hasOwnProperty;class fg extends PR{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=TR()}copy(){const e=new fg;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(ip(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(cp("data",this.frozen),this.namespace[e]=n,this):LR.call(this.namespace,e)&&this.namespace[e]||void 0:e?(cp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(e,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Df(e),i=this.parser||this.Parser;return op("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),op("process",this.parser||this.Parser),up("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,u){const h=Df(e),d=i.parse(h);i.run(d,h,function(x,b,_){if(x||!b||!_)return g(x);const w=b,N=i.stringify(w,_);BR(N)?_.value=N:_.result=N,g(x,_)});function g(x,b){x||!b?u(x):o?o(b):n(void 0,b)}}}processSync(e){let n=!1,i;return this.freeze(),op("processSync",this.parser||this.Parser),up("processSync",this.compiler||this.Compiler),this.process(e,s),Dv("processSync","process",n),i;function s(o,u){n=!0,Cv(o),i=u}}run(e,n,i){jv(e),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(u,h){const d=Df(n);s.run(e,d,g);function g(x,b,_){const w=b||e;x?h(x):u?u(w):i(void 0,w,_)}}}runSync(e,n){let i=!1,s;return this.run(e,n,o),Dv("runSync","run",i),s;function o(u,h){Cv(u),s=h,i=!0}}stringify(e,n){this.freeze();const i=Df(n),s=this.compiler||this.Compiler;return up("stringify",s),jv(e),s(e,i)}use(e,...n){const i=this.attachers,s=this.namespace;if(cp("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(g){if(typeof g=="function")d(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[x,...b]=g;d(x,b)}else u(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function u(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(g.plugins),g.settings&&(s.settings=ip(!0,s.settings,g.settings))}function h(g){let x=-1;if(g!=null)if(Array.isArray(g))for(;++x<g.length;){const b=g[x];o(b)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function d(g,x){let b=-1,_=-1;for(;++b<i.length;)if(i[b][0]===g){_=b;break}if(_===-1)i.push([g,...x]);else if(x.length>0){let[w,...N]=x;const O=i[_][1];Xp(O)&&Xp(w)&&(w=ip(!0,O,w)),i[_]=[g,w,...N]}}}}const zR=new fg().freeze();function op(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function up(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function cp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function jv(t){if(!Xp(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Dv(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Df(t){return UR(t)?t:new kw(t)}function UR(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function BR(t){return typeof t=="string"||qR(t)}function qR(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const FR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Iv=[],Mv={allowDangerousHtml:!0},HR=/^(https?|ircs?|mailto|xmpp)$/i,$R=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ql(t){const e=GR(t),n=QR(t);return YR(e.runSync(e.parse(n),n),t)}function GR(t){const e=t.rehypePlugins||Iv,n=t.remarkPlugins||Iv,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Mv}:Mv;return zR().use(N9).use(n).use(_R,i).use(e)}function QR(t){const e=t.children||"",n=new kw;return typeof e=="string"&&(n.value=e),n}function YR(t,e){const n=e.allowedElements,i=e.allowElement,s=e.components,o=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,d=e.urlTransform||XR;for(const x of $R)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+FR+x.id,void 0);return cg(t,g),c5(t,{Fragment:m.Fragment,components:s,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function g(x,b,_){if(x.type==="raw"&&_&&typeof b=="number")return u?_.children.splice(b,1):_.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let w;for(w in ep)if(Object.hasOwn(ep,w)&&Object.hasOwn(x.properties,w)){const N=x.properties[w],O=ep[w];(O===null||O.includes(x.tagName))&&(x.properties[w]=d(String(N||""),w,x))}}if(x.type==="element"){let w=n?!n.includes(x.tagName):o?o.includes(x.tagName):!1;if(!w&&i&&typeof b=="number"&&(w=!i(x,b,_)),w&&_&&typeof b=="number")return h&&x.children?_.children.splice(b,1,...x.children):_.children.splice(b,1),b}}}function XR(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||i!==-1&&e>i||HR.test(t.slice(0,e))?t:""}function Ov(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,s=n.indexOf(e);for(;s!==-1;)i++,s=n.indexOf(e,s+e.length);return i}function KR(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function ZR(t,e,n){const s=Dh((n||{}).ignore||[]),o=JR(e);let u=-1;for(;++u<o.length;)Cw(t,"text",h);function h(g,x){let b=-1,_;for(;++b<x.length;){const w=x[b],N=_?_.children:void 0;if(s(w,N?N.indexOf(w):void 0,_))return;_=w}if(_)return d(g,x)}function d(g,x){const b=x[x.length-1],_=o[u][0],w=o[u][1];let N=0;const V=b.children.indexOf(g);let z=!1,U=[];_.lastIndex=0;let L=_.exec(g.value);for(;L;){const Q=L.index,F={index:L.index,input:L.input,stack:[...x,g]};let q=w(...L,F);if(typeof q=="string"&&(q=q.length>0?{type:"text",value:q}:void 0),q===!1?_.lastIndex=Q+1:(N!==Q&&U.push({type:"text",value:g.value.slice(N,Q)}),Array.isArray(q)?U.push(...q):q&&U.push(q),N=Q+L[0].length,z=!0),!_.global)break;L=_.exec(g.value)}return z?(N<g.value.length&&U.push({type:"text",value:g.value.slice(N)}),b.children.splice(V,1,...U)):U=[g],V+U.length}}function JR(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const s=n[i];e.push([WR(s[0]),ej(s[1])])}return e}function WR(t){return typeof t=="string"?new RegExp(KR(t),"g"):t}function ej(t){return typeof t=="function"?t:function(){return t}}const fp="phrasing",hp=["autolink","link","image","label"];function tj(){return{transforms:[oj],enter:{literalAutolink:rj,literalAutolinkEmail:dp,literalAutolinkHttp:dp,literalAutolinkWww:dp},exit:{literalAutolink:lj,literalAutolinkEmail:sj,literalAutolinkHttp:ij,literalAutolinkWww:aj}}}function nj(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:fp,notInConstruct:hp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:fp,notInConstruct:hp},{character:":",before:"[ps]",after:"\\/",inConstruct:fp,notInConstruct:hp}]}}function rj(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function dp(t){this.config.enter.autolinkProtocol.call(this,t)}function ij(t){this.config.exit.autolinkProtocol.call(this,t)}function aj(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function sj(t){this.config.exit.autolinkEmail.call(this,t)}function lj(t){this.exit(t)}function oj(t){ZR(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,uj],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),cj]],{ignore:["link","linkReference"]})}function uj(t,e,n,i,s){let o="";if(!Rw(s)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!fj(n)))return!1;const u=hj(n+i);if(!u[0])return!1;const h={type:"link",title:null,url:o+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[h,{type:"text",value:u[1]}]:h}function cj(t,e,n,i){return!Rw(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function fj(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function hj(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const s=Ov(t,"(");let o=Ov(t,")");for(;i!==-1&&s>o;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),o++;return[t,n]}function Rw(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||_s(n)||kh(n))&&(!e||n!==47)}jw.peek=_j;function dj(){this.buffer()}function mj(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function pj(){this.buffer()}function gj(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function yj(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Cr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function xj(t){this.exit(t)}function bj(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Cr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function vj(t){this.exit(t)}function _j(){return"["}function jw(t,e,n,i){const s=n.createTracker(i);let o=s.move("[^");const u=n.enter("footnoteReference"),h=n.enter("reference");return o+=s.move(n.safe(n.associationId(t),{after:"]",before:o})),h(),u(),o+=s.move("]"),o}function wj(){return{enter:{gfmFootnoteCallString:dj,gfmFootnoteCall:mj,gfmFootnoteDefinitionLabelString:pj,gfmFootnoteDefinition:gj},exit:{gfmFootnoteCallString:yj,gfmFootnoteCall:xj,gfmFootnoteDefinitionLabelString:bj,gfmFootnoteDefinition:vj}}}function Ej(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:jw},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,s,o,u){const h=o.createTracker(u);let d=h.move("[^");const g=o.enter("footnoteDefinition"),x=o.enter("label");return d+=h.move(o.safe(o.associationId(i),{before:d,after:"]"})),x(),d+=h.move("]:"),i.children&&i.children.length>0&&(h.shift(4),d+=h.move((e?`
`:" ")+o.indentLines(o.containerFlow(i,h.current()),e?Dw:Tj))),g(),d}}function Tj(t,e,n){return e===0?t:Dw(t,e,n)}function Dw(t,e,n){return(n?"":"    ")+t}const Sj=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Iw.peek=Rj;function Aj(){return{canContainEols:["delete"],enter:{strikethrough:Cj},exit:{strikethrough:kj}}}function Nj(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Sj}],handlers:{delete:Iw}}}function Cj(t){this.enter({type:"delete",children:[]},t)}function kj(t){this.exit(t)}function Iw(t,e,n,i){const s=n.createTracker(i),o=n.enter("strikethrough");let u=s.move("~~");return u+=n.containerPhrasing(t,{...s.current(),before:u,after:"~"}),u+=s.move("~~"),o(),u}function Rj(){return"~"}function jj(t){return t.length}function Dj(t,e){const n=e||{},i=(n.align||[]).concat(),s=n.stringLength||jj,o=[],u=[],h=[],d=[];let g=0,x=-1;for(;++x<t.length;){const O=[],V=[];let z=-1;for(t[x].length>g&&(g=t[x].length);++z<t[x].length;){const U=Ij(t[x][z]);if(n.alignDelimiters!==!1){const L=s(U);V[z]=L,(d[z]===void 0||L>d[z])&&(d[z]=L)}O.push(U)}u[x]=O,h[x]=V}let b=-1;if(typeof i=="object"&&"length"in i)for(;++b<g;)o[b]=Vv(i[b]);else{const O=Vv(i);for(;++b<g;)o[b]=O}b=-1;const _=[],w=[];for(;++b<g;){const O=o[b];let V="",z="";O===99?(V=":",z=":"):O===108?V=":":O===114&&(z=":");let U=n.alignDelimiters===!1?1:Math.max(1,d[b]-V.length-z.length);const L=V+"-".repeat(U)+z;n.alignDelimiters!==!1&&(U=V.length+U+z.length,U>d[b]&&(d[b]=U),w[b]=U),_[b]=L}u.splice(1,0,_),h.splice(1,0,w),x=-1;const N=[];for(;++x<u.length;){const O=u[x],V=h[x];b=-1;const z=[];for(;++b<g;){const U=O[b]||"";let L="",Q="";if(n.alignDelimiters!==!1){const F=d[b]-(V[b]||0),q=o[b];q===114?L=" ".repeat(F):q===99?F%2?(L=" ".repeat(F/2+.5),Q=" ".repeat(F/2-.5)):(L=" ".repeat(F/2),Q=L):Q=" ".repeat(F)}n.delimiterStart!==!1&&!b&&z.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&U==="")&&(n.delimiterStart!==!1||b)&&z.push(" "),n.alignDelimiters!==!1&&z.push(L),z.push(U),n.alignDelimiters!==!1&&z.push(Q),n.padding!==!1&&z.push(" "),(n.delimiterEnd!==!1||b!==g-1)&&z.push("|")}N.push(n.delimiterEnd===!1?z.join("").replace(/ +$/,""):z.join(""))}return N.join(`
`)}function Ij(t){return t==null?"":String(t)}function Vv(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Mj(t,e,n,i){const s=n.enter("blockquote"),o=n.createTracker(i);o.move("> "),o.shift(2);const u=n.indentLines(n.containerFlow(t,o.current()),Oj);return s(),u}function Oj(t,e,n){return">"+(n?"":" ")+t}function Vj(t,e){return Pv(t,e.inConstruct,!0)&&!Pv(t,e.notInConstruct,!1)}function Pv(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function Lv(t,e,n,i){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&Vj(n.stack,n.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function Pj(t,e){const n=String(t);let i=n.indexOf(e),s=i,o=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++o>u&&(u=o):o=1,s=i+e.length,i=n.indexOf(e,s);return u}function Lj(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function zj(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Uj(t,e,n,i){const s=zj(n),o=t.value||"",u=s==="`"?"GraveAccent":"Tilde";if(Lj(t,n)){const b=n.enter("codeIndented"),_=n.indentLines(o,Bj);return b(),_}const h=n.createTracker(i),d=s.repeat(Math.max(Pj(o,s)+1,3)),g=n.enter("codeFenced");let x=h.move(d);if(t.lang){const b=n.enter(`codeFencedLang${u}`);x+=h.move(n.safe(t.lang,{before:x,after:" ",encode:["`"],...h.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${u}`);x+=h.move(" "),x+=h.move(n.safe(t.meta,{before:x,after:`
`,encode:["`"],...h.current()})),b()}return x+=h.move(`
`),o&&(x+=h.move(o+`
`)),x+=h.move(d),g(),x}function Bj(t,e,n){return(n?"":"    ")+t}function hg(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function qj(t,e,n,i){const s=hg(n),o=s==='"'?"Quote":"Apostrophe",u=n.enter("definition");let h=n.enter("label");const d=n.createTracker(i);let g=d.move("[");return g+=d.move(n.safe(n.associationId(t),{before:g,after:"]",...d.current()})),g+=d.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),g+=d.move("<"),g+=d.move(n.safe(t.url,{before:g,after:">",...d.current()})),g+=d.move(">")):(h=n.enter("destinationRaw"),g+=d.move(n.safe(t.url,{before:g,after:t.title?" ":`
`,...d.current()}))),h(),t.title&&(h=n.enter(`title${o}`),g+=d.move(" "+s),g+=d.move(n.safe(t.title,{before:g,after:s,...d.current()})),g+=d.move(s),h()),u(),g}function Fj(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function zu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function oh(t,e,n){const i=Vl(t),s=Vl(e);return i===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Mw.peek=Hj;function Mw(t,e,n,i){const s=Fj(n),o=n.enter("emphasis"),u=n.createTracker(i),h=u.move(s);let d=u.move(n.containerPhrasing(t,{after:s,before:h,...u.current()}));const g=d.charCodeAt(0),x=oh(i.before.charCodeAt(i.before.length-1),g,s);x.inside&&(d=zu(g)+d.slice(1));const b=d.charCodeAt(d.length-1),_=oh(i.after.charCodeAt(0),b,s);_.inside&&(d=d.slice(0,-1)+zu(b));const w=u.move(s);return o(),n.attentionEncodeSurroundingInfo={after:_.outside,before:x.outside},h+d+w}function Hj(t,e,n){return n.options.emphasis||"*"}function $j(t,e){let n=!1;return cg(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Qp}),!!((!t.depth||t.depth<3)&&rg(t)&&(e.options.setext||n))}function Gj(t,e,n,i){const s=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(i);if($j(t,n)){const x=n.enter("headingSetext"),b=n.enter("phrasing"),_=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return b(),x(),_+`
`+(s===1?"=":"-").repeat(_.length-(Math.max(_.lastIndexOf("\r"),_.lastIndexOf(`
`))+1))}const u="#".repeat(s),h=n.enter("headingAtx"),d=n.enter("phrasing");o.move(u+" ");let g=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(g)&&(g=zu(g.charCodeAt(0))+g.slice(1)),g=g?u+" "+g:u,n.options.closeAtx&&(g+=" "+u),d(),h(),g}Ow.peek=Qj;function Ow(t){return t.value||""}function Qj(){return"<"}Vw.peek=Yj;function Vw(t,e,n,i){const s=hg(n),o=s==='"'?"Quote":"Apostrophe",u=n.enter("image");let h=n.enter("label");const d=n.createTracker(i);let g=d.move("![");return g+=d.move(n.safe(t.alt,{before:g,after:"]",...d.current()})),g+=d.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),g+=d.move("<"),g+=d.move(n.safe(t.url,{before:g,after:">",...d.current()})),g+=d.move(">")):(h=n.enter("destinationRaw"),g+=d.move(n.safe(t.url,{before:g,after:t.title?" ":")",...d.current()}))),h(),t.title&&(h=n.enter(`title${o}`),g+=d.move(" "+s),g+=d.move(n.safe(t.title,{before:g,after:s,...d.current()})),g+=d.move(s),h()),g+=d.move(")"),u(),g}function Yj(){return"!"}Pw.peek=Xj;function Pw(t,e,n,i){const s=t.referenceType,o=n.enter("imageReference");let u=n.enter("label");const h=n.createTracker(i);let d=h.move("![");const g=n.safe(t.alt,{before:d,after:"]",...h.current()});d+=h.move(g+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:d,after:"]",...h.current()});return u(),n.stack=x,o(),s==="full"||!g||g!==b?d+=h.move(b+"]"):s==="shortcut"?d=d.slice(0,-1):d+=h.move("]"),d}function Xj(){return"!"}Lw.peek=Kj;function Lw(t,e,n){let i=t.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<n.unsafe.length;){const u=n.unsafe[o],h=n.compilePattern(u);let d;if(u.atBreak)for(;d=h.exec(i);){let g=d.index;i.charCodeAt(g)===10&&i.charCodeAt(g-1)===13&&g--,i=i.slice(0,g)+" "+i.slice(d.index+1)}}return s+i+s}function Kj(){return"`"}function zw(t,e){const n=rg(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Uw.peek=Zj;function Uw(t,e,n,i){const s=hg(n),o=s==='"'?"Quote":"Apostrophe",u=n.createTracker(i);let h,d;if(zw(t,n)){const x=n.stack;n.stack=[],h=n.enter("autolink");let b=u.move("<");return b+=u.move(n.containerPhrasing(t,{before:b,after:">",...u.current()})),b+=u.move(">"),h(),n.stack=x,b}h=n.enter("link"),d=n.enter("label");let g=u.move("[");return g+=u.move(n.containerPhrasing(t,{before:g,after:"](",...u.current()})),g+=u.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),g+=u.move("<"),g+=u.move(n.safe(t.url,{before:g,after:">",...u.current()})),g+=u.move(">")):(d=n.enter("destinationRaw"),g+=u.move(n.safe(t.url,{before:g,after:t.title?" ":")",...u.current()}))),d(),t.title&&(d=n.enter(`title${o}`),g+=u.move(" "+s),g+=u.move(n.safe(t.title,{before:g,after:s,...u.current()})),g+=u.move(s),d()),g+=u.move(")"),h(),g}function Zj(t,e,n){return zw(t,n)?"<":"["}Bw.peek=Jj;function Bw(t,e,n,i){const s=t.referenceType,o=n.enter("linkReference");let u=n.enter("label");const h=n.createTracker(i);let d=h.move("[");const g=n.containerPhrasing(t,{before:d,after:"]",...h.current()});d+=h.move(g+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:d,after:"]",...h.current()});return u(),n.stack=x,o(),s==="full"||!g||g!==b?d+=h.move(b+"]"):s==="shortcut"?d=d.slice(0,-1):d+=h.move("]"),d}function Jj(){return"["}function dg(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Wj(t){const e=dg(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function eD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function qw(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function tD(t,e,n,i){const s=n.enter("list"),o=n.bulletCurrent;let u=t.ordered?eD(n):dg(n);const h=t.ordered?u==="."?")":".":Wj(n);let d=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&x&&(!x.children||!x.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),qw(n)===u&&x){let b=-1;for(;++b<t.children.length;){const _=t.children[b];if(_&&_.type==="listItem"&&_.children&&_.children[0]&&_.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(u=h),n.bulletCurrent=u;const g=n.containerFlow(t,i);return n.bulletLastUsed=u,n.bulletCurrent=o,s(),g}function nD(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function rD(t,e,n,i){const s=nD(n);let o=n.bulletCurrent||dg(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let u=o.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const h=n.createTracker(i);h.move(o+" ".repeat(u-o.length)),h.shift(u);const d=n.enter("listItem"),g=n.indentLines(n.containerFlow(t,h.current()),x);return d(),g;function x(b,_,w){return _?(w?"":" ".repeat(u))+b:(w?o:o+" ".repeat(u-o.length))+b}}function iD(t,e,n,i){const s=n.enter("paragraph"),o=n.enter("phrasing"),u=n.containerPhrasing(t,i);return o(),s(),u}const aD=Dh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function sD(t,e,n,i){return(t.children.some(function(u){return aD(u)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function lD(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Fw.peek=oD;function Fw(t,e,n,i){const s=lD(n),o=n.enter("strong"),u=n.createTracker(i),h=u.move(s+s);let d=u.move(n.containerPhrasing(t,{after:s,before:h,...u.current()}));const g=d.charCodeAt(0),x=oh(i.before.charCodeAt(i.before.length-1),g,s);x.inside&&(d=zu(g)+d.slice(1));const b=d.charCodeAt(d.length-1),_=oh(i.after.charCodeAt(0),b,s);_.inside&&(d=d.slice(0,-1)+zu(b));const w=u.move(s+s);return o(),n.attentionEncodeSurroundingInfo={after:_.outside,before:x.outside},h+d+w}function oD(t,e,n){return n.options.strong||"*"}function uD(t,e,n,i){return n.safe(t.value,i)}function cD(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function fD(t,e,n){const i=(qw(n)+(n.options.ruleSpaces?" ":"")).repeat(cD(n));return n.options.ruleSpaces?i.slice(0,-1):i}const Hw={blockquote:Mj,break:Lv,code:Uj,definition:qj,emphasis:Mw,hardBreak:Lv,heading:Gj,html:Ow,image:Vw,imageReference:Pw,inlineCode:Lw,link:Uw,linkReference:Bw,list:tD,listItem:rD,paragraph:iD,root:sD,strong:Fw,text:uD,thematicBreak:fD};function hD(){return{enter:{table:dD,tableData:zv,tableHeader:zv,tableRow:pD},exit:{codeText:gD,table:mD,tableData:mp,tableHeader:mp,tableRow:mp}}}function dD(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function mD(t){this.exit(t),this.data.inTable=void 0}function pD(t){this.enter({type:"tableRow",children:[]},t)}function mp(t){this.exit(t)}function zv(t){this.enter({type:"tableCell",children:[]},t)}function gD(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,yD));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function yD(t,e){return e==="|"?e:t}function xD(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,s=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:_,table:u,tableCell:d,tableRow:h}};function u(w,N,O,V){return g(x(w,O,V),w.align)}function h(w,N,O,V){const z=b(w,O,V),U=g([z]);return U.slice(0,U.indexOf(`
`))}function d(w,N,O,V){const z=O.enter("tableCell"),U=O.enter("phrasing"),L=O.containerPhrasing(w,{...V,before:o,after:o});return U(),z(),L}function g(w,N){return Dj(w,{align:N,alignDelimiters:i,padding:n,stringLength:s})}function x(w,N,O){const V=w.children;let z=-1;const U=[],L=N.enter("table");for(;++z<V.length;)U[z]=b(V[z],N,O);return L(),U}function b(w,N,O){const V=w.children;let z=-1;const U=[],L=N.enter("tableRow");for(;++z<V.length;)U[z]=d(V[z],w,N,O);return L(),U}function _(w,N,O){let V=Hw.inlineCode(w,N,O);return O.stack.includes("tableCell")&&(V=V.replace(/\|/g,"\\$&")),V}}function bD(){return{exit:{taskListCheckValueChecked:Uv,taskListCheckValueUnchecked:Uv,paragraph:_D}}}function vD(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:wD}}}function Uv(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function _D(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const s=e.children;let o=-1,u;for(;++o<s.length;){const h=s[o];if(h.type==="paragraph"){u=h;break}}u===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function wD(t,e,n,i){const s=t.children[0],o=typeof t.checked=="boolean"&&s&&s.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",h=n.createTracker(i);o&&h.move(u);let d=Hw.listItem(t,e,n,{...i,...h.current()});return o&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,g)),d;function g(x){return x+u}}function ED(){return[tj(),wj(),Aj(),hD(),bD()]}function TD(t){return{extensions:[nj(),Ej(t),Nj(),xD(t),vD()]}}const SD={tokenize:jD,partial:!0},$w={tokenize:DD,partial:!0},Gw={tokenize:ID,partial:!0},Qw={tokenize:MD,partial:!0},AD={tokenize:OD,partial:!0},Yw={name:"wwwAutolink",tokenize:kD,previous:Kw},Xw={name:"protocolAutolink",tokenize:RD,previous:Zw},Bi={name:"emailAutolink",tokenize:CD,previous:Jw},ai={};function ND(){return{text:ai}}let fs=48;for(;fs<123;)ai[fs]=Bi,fs++,fs===58?fs=65:fs===91&&(fs=97);ai[43]=Bi;ai[45]=Bi;ai[46]=Bi;ai[95]=Bi;ai[72]=[Bi,Xw];ai[104]=[Bi,Xw];ai[87]=[Bi,Yw];ai[119]=[Bi,Yw];function CD(t,e,n){const i=this;let s,o;return u;function u(b){return!Zp(b)||!Jw.call(i,i.previous)||mg(i.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(b))}function h(b){return Zp(b)?(t.consume(b),h):b===64?(t.consume(b),d):n(b)}function d(b){return b===46?t.check(AD,x,g)(b):b===45||b===95||xn(b)?(o=!0,t.consume(b),d):x(b)}function g(b){return t.consume(b),s=!0,d}function x(b){return o&&s&&Cn(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(b)):n(b)}}function kD(t,e,n){const i=this;return s;function s(u){return u!==87&&u!==119||!Kw.call(i,i.previous)||mg(i.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(SD,t.attempt($w,t.attempt(Gw,o),n),n)(u))}function o(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function RD(t,e,n){const i=this;let s="",o=!1;return u;function u(b){return(b===72||b===104)&&Zw.call(i,i.previous)&&!mg(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(b),t.consume(b),h):n(b)}function h(b){if(Cn(b)&&s.length<5)return s+=String.fromCodePoint(b),t.consume(b),h;if(b===58){const _=s.toLowerCase();if(_==="http"||_==="https")return t.consume(b),d}return n(b)}function d(b){return b===47?(t.consume(b),o?g:(o=!0,d)):n(b)}function g(b){return b===null||ah(b)||pt(b)||_s(b)||kh(b)?n(b):t.attempt($w,t.attempt(Gw,x),n)(b)}function x(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(b)}}function jD(t,e,n){let i=0;return s;function s(u){return(u===87||u===119)&&i<3?(i++,t.consume(u),s):u===46&&i===3?(t.consume(u),o):n(u)}function o(u){return u===null?n(u):e(u)}}function DD(t,e,n){let i,s,o;return u;function u(g){return g===46||g===95?t.check(Qw,d,h)(g):g===null||pt(g)||_s(g)||g!==45&&kh(g)?d(g):(o=!0,t.consume(g),u)}function h(g){return g===95?i=!0:(s=i,i=void 0),t.consume(g),u}function d(g){return s||i||!o?n(g):e(g)}}function ID(t,e){let n=0,i=0;return s;function s(u){return u===40?(n++,t.consume(u),s):u===41&&i<n?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(Qw,e,o)(u):u===null||pt(u)||_s(u)?e(u):(t.consume(u),s)}function o(u){return u===41&&i++,t.consume(u),s}}function MD(t,e,n){return i;function i(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),i):h===38?(t.consume(h),o):h===93?(t.consume(h),s):h===60||h===null||pt(h)||_s(h)?e(h):n(h)}function s(h){return h===null||h===40||h===91||pt(h)||_s(h)?e(h):i(h)}function o(h){return Cn(h)?u(h):n(h)}function u(h){return h===59?(t.consume(h),i):Cn(h)?(t.consume(h),u):n(h)}}function OD(t,e,n){return i;function i(o){return t.consume(o),s}function s(o){return xn(o)?n(o):e(o)}}function Kw(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||pt(t)}function Zw(t){return!Cn(t)}function Jw(t){return!(t===47||Zp(t))}function Zp(t){return t===43||t===45||t===46||t===95||xn(t)}function mg(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const VD={tokenize:HD,partial:!0};function PD(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:BD,continuation:{tokenize:qD},exit:FD}},text:{91:{name:"gfmFootnoteCall",tokenize:UD},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:LD,resolveTo:zD}}}}function LD(t,e,n){const i=this;let s=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u;for(;s--;){const d=i.events[s][1];if(d.type==="labelImage"){u=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return h;function h(d){if(!u||!u._balanced)return n(d);const g=Cr(i.sliceSerialize({start:u.end,end:i.now()}));return g.codePointAt(0)!==94||!o.includes(g.slice(1))?n(d):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),e(d))}}function zD(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},h=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",s,e],["exit",s,e],["enter",o,e],["enter",u,e],["exit",u,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...h),t}function UD(t,e,n){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o=0,u;return h;function h(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),d}function d(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",g)}function g(b){if(o>999||b===93&&!u||b===null||b===91||pt(b))return n(b);if(b===93){t.exit("chunkString");const _=t.exit("gfmFootnoteCallString");return s.includes(Cr(i.sliceSerialize(_)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(b)}return pt(b)||(u=!0),o++,t.consume(b),b===92?x:g}function x(b){return b===91||b===92||b===93?(t.consume(b),o++,g):g(b)}}function BD(t,e,n){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,u=0,h;return d;function d(N){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(N),t.exit("gfmFootnoteDefinitionLabelMarker"),g}function g(N){return N===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(N),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):n(N)}function x(N){if(u>999||N===93&&!h||N===null||N===91||pt(N))return n(N);if(N===93){t.exit("chunkString");const O=t.exit("gfmFootnoteDefinitionLabelString");return o=Cr(i.sliceSerialize(O)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(N),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),_}return pt(N)||(h=!0),u++,t.consume(N),N===92?b:x}function b(N){return N===91||N===92||N===93?(t.consume(N),u++,x):x(N)}function _(N){return N===58?(t.enter("definitionMarker"),t.consume(N),t.exit("definitionMarker"),s.includes(o)||s.push(o),et(t,w,"gfmFootnoteDefinitionWhitespace")):n(N)}function w(N){return e(N)}}function qD(t,e,n){return t.check(Wu,e,t.attempt(VD,e,n))}function FD(t){t.exit("gfmFootnoteDefinition")}function HD(t,e,n){const i=this;return et(t,s,"gfmFootnoteDefinitionIndent",5);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(o):n(o)}}function $D(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:o,resolveAll:s};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function s(u,h){let d=-1;for(;++d<u.length;)if(u[d][0]==="enter"&&u[d][1].type==="strikethroughSequenceTemporary"&&u[d][1]._close){let g=d;for(;g--;)if(u[g][0]==="exit"&&u[g][1].type==="strikethroughSequenceTemporary"&&u[g][1]._open&&u[d][1].end.offset-u[d][1].start.offset===u[g][1].end.offset-u[g][1].start.offset){u[d][1].type="strikethroughSequence",u[g][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},u[g][1].start),end:Object.assign({},u[d][1].end)},b={type:"strikethroughText",start:Object.assign({},u[g][1].end),end:Object.assign({},u[d][1].start)},_=[["enter",x,h],["enter",u[g][1],h],["exit",u[g][1],h],["enter",b,h]],w=h.parser.constructs.insideSpan.null;w&&tr(_,_.length,0,Rh(w,u.slice(g+1,d),h)),tr(_,_.length,0,[["exit",b,h],["enter",u[d][1],h],["exit",u[d][1],h],["exit",x,h]]),tr(u,g-1,d-g+3,_),d=g+_.length-2;break}}for(d=-1;++d<u.length;)u[d][1].type==="strikethroughSequenceTemporary"&&(u[d][1].type="data");return u}function o(u,h,d){const g=this.previous,x=this.events;let b=0;return _;function _(N){return g===126&&x[x.length-1][1].type!=="characterEscape"?d(N):(u.enter("strikethroughSequenceTemporary"),w(N))}function w(N){const O=Vl(g);if(N===126)return b>1?d(N):(u.consume(N),b++,w);if(b<2&&!n)return d(N);const V=u.exit("strikethroughSequenceTemporary"),z=Vl(N);return V._open=!z||z===2&&!!O,V._close=!O||O===2&&!!z,h(N)}}}class GD{constructor(){this.map=[]}add(e,n,i){QD(this,e,n,i)}consume(e){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let s=i.pop();for(;s;){for(const o of s)e.push(o);s=i.pop()}this.map.length=0}}function QD(t,e,n,i){let s=0;if(!(n===0&&i.length===0)){for(;s<t.map.length;){if(t.map[s][0]===e){t.map[s][1]+=n,t.map[s][2].push(...i);return}s+=1}t.map.push([e,n,i])}}function YD(t,e){let n=!1;const i=[];for(;e<t.length;){const s=t[e];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=i.length-1;i[o]=i[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function XD(){return{flow:{null:{name:"table",tokenize:KD,resolveAll:ZD}}}}function KD(t,e,n){const i=this;let s=0,o=0,u;return h;function h(C){let P=i.events.length-1;for(;P>-1;){const ae=i.events[P][1].type;if(ae==="lineEnding"||ae==="linePrefix")P--;else break}const B=P>-1?i.events[P][1].type:null,A=B==="tableHead"||B==="tableRow"?q:d;return A===q&&i.parser.lazy[i.now().line]?n(C):A(C)}function d(C){return t.enter("tableHead"),t.enter("tableRow"),g(C)}function g(C){return C===124||(u=!0,o+=1),x(C)}function x(C){return C===null?n(C):je(C)?o>1?(o=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),w):n(C):$e(C)?et(t,x,"whitespace")(C):(o+=1,u&&(u=!1,s+=1),C===124?(t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),u=!0,x):(t.enter("data"),b(C)))}function b(C){return C===null||C===124||pt(C)?(t.exit("data"),x(C)):(t.consume(C),C===92?_:b)}function _(C){return C===92||C===124?(t.consume(C),b):b(C)}function w(C){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(C):(t.enter("tableDelimiterRow"),u=!1,$e(C)?et(t,N,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):N(C))}function N(C){return C===45||C===58?V(C):C===124?(u=!0,t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),O):F(C)}function O(C){return $e(C)?et(t,V,"whitespace")(C):V(C)}function V(C){return C===58?(o+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(C),t.exit("tableDelimiterMarker"),z):C===45?(o+=1,z(C)):C===null||je(C)?Q(C):F(C)}function z(C){return C===45?(t.enter("tableDelimiterFiller"),U(C)):F(C)}function U(C){return C===45?(t.consume(C),U):C===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(C),t.exit("tableDelimiterMarker"),L):(t.exit("tableDelimiterFiller"),L(C))}function L(C){return $e(C)?et(t,Q,"whitespace")(C):Q(C)}function Q(C){return C===124?N(C):C===null||je(C)?!u||s!==o?F(C):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(C)):F(C)}function F(C){return n(C)}function q(C){return t.enter("tableRow"),D(C)}function D(C){return C===124?(t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),D):C===null||je(C)?(t.exit("tableRow"),e(C)):$e(C)?et(t,D,"whitespace")(C):(t.enter("data"),k(C))}function k(C){return C===null||C===124||pt(C)?(t.exit("data"),D(C)):(t.consume(C),C===92?M:k)}function M(C){return C===92||C===124?(t.consume(C),k):k(C)}}function ZD(t,e){let n=-1,i=!0,s=0,o=[0,0,0,0],u=[0,0,0,0],h=!1,d=0,g,x,b;const _=new GD;for(;++n<t.length;){const w=t[n],N=w[1];w[0]==="enter"?N.type==="tableHead"?(h=!1,d!==0&&(Bv(_,e,d,g,x),x=void 0,d=0),g={type:"table",start:Object.assign({},N.start),end:Object.assign({},N.end)},_.add(n,0,[["enter",g,e]])):N.type==="tableRow"||N.type==="tableDelimiterRow"?(i=!0,b=void 0,o=[0,0,0,0],u=[0,n+1,0,0],h&&(h=!1,x={type:"tableBody",start:Object.assign({},N.start),end:Object.assign({},N.end)},_.add(n,0,[["enter",x,e]])),s=N.type==="tableDelimiterRow"?2:x?3:1):s&&(N.type==="data"||N.type==="tableDelimiterMarker"||N.type==="tableDelimiterFiller")?(i=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],b=If(_,e,o,s,void 0,b),o=[0,0,0,0]),u[2]=n)):N.type==="tableCellDivider"&&(i?i=!1:(o[1]!==0&&(u[0]=u[1],b=If(_,e,o,s,void 0,b)),o=u,u=[o[1],n,0,0])):N.type==="tableHead"?(h=!0,d=n):N.type==="tableRow"||N.type==="tableDelimiterRow"?(d=n,o[1]!==0?(u[0]=u[1],b=If(_,e,o,s,n,b)):u[1]!==0&&(b=If(_,e,u,s,n,b)),s=0):s&&(N.type==="data"||N.type==="tableDelimiterMarker"||N.type==="tableDelimiterFiller")&&(u[3]=n)}for(d!==0&&Bv(_,e,d,g,x),_.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=YD(e.events,n))}return t}function If(t,e,n,i,s,o){const u=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(o.end=Object.assign({},Tl(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const d=Tl(e.events,n[1]);if(o={type:u,start:Object.assign({},d),end:Object.assign({},d)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const g=Tl(e.events,n[2]),x=Tl(e.events,n[3]),b={type:h,start:Object.assign({},g),end:Object.assign({},x)};if(t.add(n[2],0,[["enter",b,e]]),i!==2){const _=e.events[n[2]],w=e.events[n[3]];if(_[1].end=Object.assign({},w[1].end),_[1].type="chunkText",_[1].contentType="text",n[3]>n[2]+1){const N=n[2]+1,O=n[3]-n[2]-1;t.add(N,O,[])}}t.add(n[3]+1,0,[["exit",b,e]])}return s!==void 0&&(o.end=Object.assign({},Tl(e.events,s)),t.add(s,0,[["exit",o,e]]),o=void 0),o}function Bv(t,e,n,i,s){const o=[],u=Tl(e.events,n);s&&(s.end=Object.assign({},u),o.push(["exit",s,e])),i.end=Object.assign({},u),o.push(["exit",i,e]),t.add(n+1,0,o)}function Tl(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const JD={name:"tasklistCheck",tokenize:eI};function WD(){return{text:{91:JD}}}function eI(t,e,n){const i=this;return s;function s(d){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(d):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(d),t.exit("taskListCheckMarker"),o)}function o(d){return pt(d)?(t.enter("taskListCheckValueUnchecked"),t.consume(d),t.exit("taskListCheckValueUnchecked"),u):d===88||d===120?(t.enter("taskListCheckValueChecked"),t.consume(d),t.exit("taskListCheckValueChecked"),u):n(d)}function u(d){return d===93?(t.enter("taskListCheckMarker"),t.consume(d),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):n(d)}function h(d){return je(d)?e(d):$e(d)?t.check({tokenize:tI},e,n)(d):n(d)}}function tI(t,e,n){return et(t,i,"whitespace");function i(s){return s===null?n(s):e(s)}}function nI(t){return uw([ND(),PD(),$D(t),XD(),WD()])}const rI={};function Yl(t){const e=this,n=t||rI,i=e.data(),s=i.micromarkExtensions||(i.micromarkExtensions=[]),o=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),u=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);s.push(nI(n)),o.push(ED()),u.push(TD(n))}function iI({notice:t,currentUser:e,isAdmin:n,isCoLeader:i,canManageNotices:s,onDelete:o,onManagePermissions:u,onEdit:h}){const[d,g]=le.useState(!1),[x,b]=le.useState(t.content),_=s,w=s,N=s,O=F=>F?(F.toDate?F.toDate():new Date(F)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",V=()=>t.createdByRoll==="2405225"?"admin":"co-leader",z=()=>{b(t.content),g(!0)},U=()=>{g(!1),b(t.content)},L=async()=>{if(!x.trim()){alert("Please enter content for the notice");return}await h(t.id,{content:x.trim()})&&g(!1)},Q=V();return d?m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Notice"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:L,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[m.jsx(Es,{className:"w-4 h-4"}),"Save"]}),m.jsxs("button",{onClick:U,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[m.jsx(nr,{className:"w-4 h-4"}),"Cancel"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notice Content (Markdown supported)"}),m.jsx("textarea",{value:x,onChange:F=>b(F.target.value),rows:6,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:`Enter your notice content here. You can use Markdown formatting:\r
\r
**Bold text**\r
*Italic text*\r
[Link text](https://example.com)\r
- List item\r
> Quote\r
\`code\``})]}),m.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:m.jsxs("p",{className:"text-sm text-blue-700",children:[m.jsx("strong",{children:"Tip:"})," Use Markdown formatting for rich text. Links will automatically open in new tabs."]})})]}):m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-2xl flex items-center justify-center",children:m.jsx(wu,{className:"w-5 h-5 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-gray-900",children:"Notice"}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx(ni,{className:"w-3 h-3"}),m.jsxs("span",{children:["By ",t.createdBy]}),Q==="admin"&&m.jsx(Zr,{className:"w-3 h-3 text-yellow-500",title:"Admin"}),Q==="co-leader"&&t.createdByRoll!=="2405225"&&m.jsx(Tu,{className:"w-3 h-3 text-purple-500",title:"Co-Leader"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-gray-100",children:t.isPublic?m.jsxs(m.Fragment,{children:[m.jsx(i0,{className:"w-3 h-3 text-green-600"}),m.jsx("span",{className:"text-green-700",children:"Public"})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ln,{className:"w-3 h-3 text-blue-600"}),m.jsxs("span",{className:"text-blue-700",children:[t.allowedUsers?.length||0," users"]})]})}),m.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[m.jsx(Bu,{className:"w-3 h-3"}),m.jsx("span",{children:O(t.createdAt)})]}),w&&m.jsx("button",{onClick:z,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Notice",children:m.jsx(Pl,{className:"w-4 h-4"})}),N&&m.jsx("button",{onClick:u,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:m.jsx(Ll,{className:"w-4 h-4"})}),_&&m.jsx("button",{onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Notice",children:m.jsx(Oi,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"prose prose-sm max-w-none",children:m.jsx(Ql,{remarkPlugins:[Yl],components:{a:({href:F,children:q})=>m.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:q}),p:({children:F})=>m.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:F}),h1:({children:F})=>m.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:F}),h2:({children:F})=>m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:F}),h3:({children:F})=>m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:F}),ul:({children:F})=>m.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-3 space-y-1",children:F}),ol:({children:F})=>m.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-3 space-y-1",children:F}),li:({children:F})=>m.jsx("li",{className:"text-gray-700",children:F}),blockquote:({children:F})=>m.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 text-gray-700 italic mb-3",children:F}),code:({children:F,className:q})=>q?m.jsx("code",{className:"block bg-gray-100 text-gray-800 p-3 rounded text-sm font-mono whitespace-pre-wrap mb-3",children:F}):m.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:F}),strong:({children:F})=>m.jsx("strong",{className:"font-bold text-gray-900",children:F}),em:({children:F})=>m.jsx("em",{className:"italic text-gray-700",children:F})},children:t.content})}),s&&!t.isPublic&&t.allowedUsers?.length>0&&m.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:m.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[m.jsx(Vi,{className:"w-4 h-4"}),m.jsxs("span",{children:["Visible to: ",t.allowedUsers.length," selected students"]})]})})]})}function aI({notice:t,currentUser:e,students:n,isAdmin:i,isCoLeader:s,canManageNotices:o,onDelete:u,onManagePermissions:h,onToggleItem:d,onEdit:g}){const[x,b]=le.useState(!1),[_,w]=le.useState(t.content),[N,O]=le.useState(t.meta.items||[]),[V,z]=le.useState(t.meta.isAnonymous||!1),[U,L]=le.useState(null),Q=o,F=o,q=o,D=t.meta.isAnonymous||!1,k=j=>j?(j.toDate?j.toDate():new Date(j)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",M=j=>{const Z=n.find(ge=>ge.rollNo===j);return Z?Z.name:j},C=j=>{if(D)return[];const Z=t.meta.items[j];return!Z.completedBy||Z.completedBy.length===0?[]:Z.completedBy.map(ge=>M(ge))},P=j=>{const Z=t.meta.items[j];return D?Z.anonymousCompletions||0:Z.completedBy?.length||0},B=j=>{if(D)return((t.meta.userCompletions||{})[e]||[]).includes(j);{const Z=t.meta.items[j];return Z.completedBy&&Z.completedBy.includes(e)}},A=()=>{const j=t.meta.items?.length||0;let Z=0;for(let ge=0;ge<j;ge++)B(ge)&&Z++;return{totalItems:j,completedItems:Z}},ae=j=>{D||L(U===j?null:j)},me=()=>{w(t.content),O([...t.meta.items]),z(t.meta.isAnonymous||!1),b(!0)},W=()=>{b(!1),w(t.content),O([...t.meta.items]),z(t.meta.isAnonymous||!1)},de=async()=>{if(!_.trim()){alert("Please enter content for the checklist");return}if(N.length===0||N.every(Z=>!Z.text.trim())){alert("Please add at least one checklist item");return}await g(t.id,{content:_.trim(),meta:{...t.meta,items:N.filter(Z=>Z.text.trim()),isAnonymous:V}})&&b(!1)},ve=()=>{O([...N,{text:"",completedBy:[],anonymousCompletions:0}])},Ie=(j,Z)=>{const ge=[...N];ge[j]={...ge[j],text:Z},O(ge)},S=j=>{if(N.length<=1){alert("Checklist must have at least 1 item");return}O(N.filter((Z,ge)=>ge!==j))},{totalItems:se,completedItems:pe}=A();return x?m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Checklist"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:de,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[m.jsx(Es,{className:"w-4 h-4"}),"Save"]}),m.jsxs("button",{onClick:W,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[m.jsx(nr,{className:"w-4 h-4"}),"Cancel"]})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Description (Markdown supported)"}),m.jsx("textarea",{value:_,onChange:j=>w(j.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 font-mono text-sm",placeholder:"Enter checklist description. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),m.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous completion:"}),m.jsxs("button",{type:"button",onClick:()=>z(!V),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${V?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[V?m.jsx(xs,{className:"w-4 h-4"}):m.jsx(kl,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium",children:V?"Anonymous":"Show names"})]})]}),m.jsxs("div",{className:"space-y-2 mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Items"}),N.map((j,Z)=>m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:j.text,onChange:ge=>Ie(Z,ge.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:`Item ${Z+1}`}),N.length>1&&m.jsx("button",{onClick:()=>S(Z),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:m.jsx(nr,{className:"w-4 h-4"})})]},Z)),m.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-4 py-2 text-green-600 hover:bg-green-100 rounded-xl transition-colors",children:[m.jsx(Ii,{className:"w-4 h-4"}),"Add Item"]})]})]}):m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-2xl flex items-center justify-center",children:m.jsx(s0,{className:"w-5 h-5 text-green-600"})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-bold text-gray-900",children:"Checklist"}),D&&m.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:"Anonymous"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx(ni,{className:"w-3 h-3"}),m.jsxs("span",{children:["By ",t.createdBy]}),m.jsx("span",{children:""}),m.jsxs("span",{children:[pe,"/",se," completed"]})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[m.jsx(Bu,{className:"w-3 h-3"}),m.jsx("span",{children:k(t.createdAt)})]}),F&&m.jsx("button",{onClick:me,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Checklist",children:m.jsx(Pl,{className:"w-4 h-4"})}),q&&m.jsx("button",{onClick:h,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:m.jsx(Ll,{className:"w-4 h-4"})}),Q&&m.jsx("button",{onClick:()=>u(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Checklist",children:m.jsx(Oi,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:m.jsx(Ql,{remarkPlugins:[Yl],components:{a:({href:j,children:Z})=>m.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:Z}),p:({children:j})=>m.jsx("p",{className:"text-gray-700 leading-relaxed",children:j}),strong:({children:j})=>m.jsx("strong",{className:"font-bold text-gray-900",children:j}),em:({children:j})=>m.jsx("em",{className:"italic",children:j}),ul:({children:j})=>m.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:j}),ol:({children:j})=>m.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:j}),code:({children:j,className:Z})=>Z?m.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:j}):m.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:j})},children:t.content})}),m.jsx("div",{className:"space-y-3",children:t.meta.items?.map((j,Z)=>{const ge=B(Z),ie=C(Z),be=P(Z);return m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:`
                  flex items-center justify-between p-3 rounded-xl border-2 transition-all cursor-pointer
                  ${ge?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 hover:border-green-300"}
                `,onClick:()=>d(Z),children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`
                    w-6 h-6 rounded-lg border-2 flex items-center justify-center
                    ${ge?"bg-green-500 border-green-500 text-white":"border-gray-300"}
                  `,children:ge&&m.jsx($v,{className:"w-4 h-4"})}),m.jsx("span",{className:`${ge?"text-green-700 font-medium":"text-gray-700"}`,children:j.text})]}),be>0&&m.jsxs("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full",children:[be," completed"]})]}),!D&&ie.length>0&&m.jsxs("div",{className:"ml-9",children:[m.jsxs("button",{onClick:()=>ae(Z),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-800 transition-colors",children:[m.jsx(Vi,{className:"w-4 h-4"}),m.jsxs("span",{children:[ie.length," completed by"]}),U===Z?m.jsx(Qv,{className:"w-4 h-4"}):m.jsx(Gv,{className:"w-4 h-4"})]}),U===Z&&m.jsx("div",{className:"mt-2 p-3 bg-green-50 rounded-lg border border-green-200",children:m.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map((Te,it)=>m.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:Te},it))})})]}),D&&be>0&&m.jsx("div",{className:"ml-9",children:m.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[m.jsx(xs,{className:"w-4 h-4"}),m.jsxs("span",{children:[be," anonymous completion",be>1?"s":""]})]})})]},Z)})})]})}function sI({notice:t,currentUser:e,students:n,isAdmin:i,isCoLeader:s,canManageNotices:o,onDelete:u,onManagePermissions:h,onVote:d,onEdit:g}){const[x,b]=le.useState([]),[_,w]=le.useState(!1),[N,O]=le.useState(t.content),[V,z]=le.useState(t.meta.options||[]),[U,L]=le.useState(t.meta.allowMultiple||!1),[Q,F]=le.useState(t.meta.isAnonymous||!1),[q,D]=le.useState(null),k=o,M=o,C=o,P=t.meta.isAnonymous||!1;le.useEffect(()=>{if(t?.meta?.options)if(P){const be=(t.meta.userVotes||{})[e]||[];b(be)}else{const ie=[];t.meta.options.forEach((be,Te)=>{be.votes&&be.votes.includes(e)&&ie.push(Te)}),b(ie)}},[t,e,P]);const B=ie=>ie?(ie.toDate?ie.toDate():new Date(ie)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",A=()=>P?t.meta.options?.reduce((ie,be)=>ie+(be.anonymousVotes||0),0)||0:t.meta.options?.reduce((ie,be)=>ie+(be.votes?.length||0),0)||0,ae=ie=>{const be=t.meta.options[ie];return P?be.anonymousVotes||0:be.votes?.length||0},me=ie=>{const be=n.find(Te=>Te.rollNo===ie);return be?be.name:ie},W=ie=>{if(P)return[];const be=t.meta.options[ie];return!be.votes||be.votes.length===0?[]:be.votes.map(Te=>me(Te))},de=ie=>{let be;t.meta.allowMultiple?x.includes(ie)?be=x.filter(Te=>Te!==ie):be=[...x,ie]:be=x.includes(ie)?[]:[ie],b(be),d(be,e)},ve=ie=>{P||D(q===ie?null:ie)},Ie=()=>{O(t.content),z([...t.meta.options]),L(t.meta.allowMultiple||!1),F(t.meta.isAnonymous||!1),w(!0)},S=()=>{w(!1),O(t.content),z([...t.meta.options]),L(t.meta.allowMultiple||!1),F(t.meta.isAnonymous||!1)},se=async()=>{if(!N.trim()){alert("Please enter a question");return}if(V.length<2||V.some(be=>!be.text.trim())){alert("Please add at least 2 options with text");return}await g(t.id,{content:N.trim(),meta:{...t.meta,options:V,allowMultiple:U,isAnonymous:Q}})&&w(!1)},pe=()=>{z([...V,{text:"",votes:[],anonymousVotes:0}])},j=(ie,be)=>{const Te=[...V];Te[ie]={...Te[ie],text:be},z(Te)},Z=ie=>{if(V.length<=2){alert("Poll must have at least 2 options");return}z(V.filter((be,Te)=>Te!==ie))},ge=A();return _?m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Poll"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:se,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[m.jsx(Es,{className:"w-4 h-4"}),"Save"]}),m.jsxs("button",{onClick:S,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[m.jsx(nr,{className:"w-4 h-4"}),"Cancel"]})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Poll Question (Markdown supported)"}),m.jsx("textarea",{value:N,onChange:ie=>O(ie.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter your poll question. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Multiple selections:"}),m.jsxs("button",{type:"button",onClick:()=>L(!U),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${U?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[U?m.jsx(Zv,{className:"w-4 h-4"}):m.jsx(Kv,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium",children:U?"Enabled":"Disabled"})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous voting:"}),m.jsxs("button",{type:"button",onClick:()=>F(!Q),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${Q?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[Q?m.jsx(xs,{className:"w-4 h-4"}):m.jsx(kl,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium",children:Q?"Anonymous":"Show names"})]})]})]}),m.jsxs("div",{className:"space-y-2 mb-4",children:[V.map((ie,be)=>m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:ie.text,onChange:Te=>j(be,Te.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Option ${be+1}`}),V.length>2&&m.jsx("button",{onClick:()=>Z(be),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:m.jsx(nr,{className:"w-4 h-4"})})]},be)),m.jsxs("button",{onClick:pe,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[m.jsx(Ii,{className:"w-4 h-4"}),"Add Option"]})]})]}):m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-2xl flex items-center justify-center",children:m.jsx(r0,{className:"w-5 h-5 text-purple-600"})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-bold text-gray-900",children:"Poll"}),t.meta.allowMultiple&&m.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:"Multi-select"}),P&&m.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:"Anonymous"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx(ni,{className:"w-3 h-3"}),m.jsxs("span",{children:["By ",t.createdBy]}),m.jsx("span",{children:""}),m.jsxs("span",{children:[ge," votes"]})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[m.jsx(Bu,{className:"w-3 h-3"}),m.jsx("span",{children:B(t.createdAt)})]}),M&&m.jsx("button",{onClick:Ie,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Poll",children:m.jsx(Pl,{className:"w-4 h-4"})}),C&&m.jsx("button",{onClick:h,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:m.jsx(Ll,{className:"w-4 h-4"})}),k&&m.jsx("button",{onClick:()=>u(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Poll",children:m.jsx(Oi,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:m.jsx(Ql,{remarkPlugins:[Yl],components:{a:({href:ie,children:be})=>m.jsx("a",{href:ie,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:be}),p:({children:ie})=>m.jsx("p",{className:"text-gray-700 leading-relaxed font-medium",children:ie}),strong:({children:ie})=>m.jsx("strong",{className:"font-bold text-gray-900",children:ie}),em:({children:ie})=>m.jsx("em",{className:"italic",children:ie}),code:({children:ie,className:be})=>be?m.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:ie}):m.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:ie})},children:t.content})}),m.jsx("div",{className:"space-y-3",children:t.meta.options?.map((ie,be)=>{const Te=ae(be),it=ge>0?Te/ge*100:0,Ct=x.includes(be),Tt=W(be);return m.jsxs("div",{className:"space-y-2",children:[m.jsxs("button",{onClick:()=>de(be),className:`
                  w-full p-3 rounded-xl border-2 transition-all text-left
                  ${Ct?"bg-purple-50 border-purple-300":"bg-gray-50 border-gray-200 hover:border-purple-300"}
                `,children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:`font-medium ${Ct?"text-purple-700":"text-gray-700"}`,children:ie.text}),m.jsxs("span",{className:"text-sm text-gray-600",children:[Te," (",it.toFixed(1),"%)"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:`h-2 rounded-full transition-all ${Ct?"bg-purple-500":"bg-gray-400"}`,style:{width:`${it}%`}})})]}),!P&&Tt.length>0&&m.jsxs("div",{className:"ml-4",children:[m.jsxs("button",{onClick:()=>ve(be),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-800 transition-colors",children:[m.jsx(Vi,{className:"w-4 h-4"}),m.jsxs("span",{children:[Tt.length," voter",Tt.length>1?"s":""]}),q===be?m.jsx(Qv,{className:"w-4 h-4"}):m.jsx(Gv,{className:"w-4 h-4"})]}),q===be&&m.jsx("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:m.jsx("div",{className:"flex flex-wrap gap-2",children:Tt.map((vn,Bn)=>m.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:vn},Bn))})})]}),P&&Te>0&&m.jsx("div",{className:"ml-4",children:m.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[m.jsx(xs,{className:"w-4 h-4"}),m.jsxs("span",{children:[Te," anonymous vote",Te>1?"s":""]})]})})]},be)})}),x.length>0&&m.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:m.jsx("div",{className:"text-sm text-purple-700 text-center",children:t.meta.allowMultiple?m.jsxs(m.Fragment,{children:["You voted for: ",m.jsxs("strong",{children:[x.length," option",x.length>1?"s":""]})]}):m.jsxs(m.Fragment,{children:["You voted for: ",m.jsx("strong",{children:t.meta.options[x[0]]?.text})]})})})]})}function lI({notice:t,currentUser:e,isAdmin:n,isCoLeader:i,canManageNotices:s,onDelete:o,onManagePermissions:u,onEdit:h}){const[d,g]=le.useState(!1),[x,b]=le.useState(t.content),[_,w]=le.useState(t.meta.reminderDate),N=s,O=s,V=s,z=D=>D?(D.toDate?D.toDate():new Date(D)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",U=D=>D?new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",L=()=>t.meta.reminderDate?new Date(t.meta.reminderDate)<new Date:!1,Q=()=>{b(t.content),w(t.meta.reminderDate),g(!0)},F=()=>{g(!1),b(t.content),w(t.meta.reminderDate)},q=async()=>{if(!x.trim()){alert("Please enter content for the reminder");return}if(!_){alert("Please set a reminder date");return}await h(t.id,{content:x.trim(),meta:{...t.meta,reminderDate:_}})&&g(!1)};return d?m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Reminder"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:q,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[m.jsx(Es,{className:"w-4 h-4"}),"Save"]}),m.jsxs("button",{onClick:F,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[m.jsx(nr,{className:"w-4 h-4"}),"Cancel"]})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Content (Markdown supported)"}),m.jsx("textarea",{value:x,onChange:D=>b(D.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 font-mono text-sm",placeholder:"Enter reminder content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Date & Time"}),m.jsx("input",{type:"datetime-local",value:_,onChange:D=>w(D.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",min:new Date().toISOString().slice(0,16)})]})]}):m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${L()?"bg-red-100":"bg-orange-100"}`,children:m.jsx(qf,{className:`w-5 h-5 ${L()?"text-red-600":"text-orange-600"}`})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-bold text-gray-900",children:"Reminder"}),L()&&m.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Past Due"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx(ni,{className:"w-3 h-3"}),m.jsxs("span",{children:["By ",t.createdBy]})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[m.jsx(Bu,{className:"w-3 h-3"}),m.jsx("span",{children:z(t.createdAt)})]}),O&&m.jsx("button",{onClick:Q,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Reminder",children:m.jsx(Pl,{className:"w-4 h-4"})}),V&&m.jsx("button",{onClick:u,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:m.jsx(Ll,{className:"w-4 h-4"})}),N&&m.jsx("button",{onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Reminder",children:m.jsx(Oi,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:m.jsx(Ql,{remarkPlugins:[Yl],components:{a:({href:D,children:k})=>m.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:k}),p:({children:D})=>m.jsx("p",{className:"text-gray-700 leading-relaxed",children:D}),strong:({children:D})=>m.jsx("strong",{className:"font-bold text-gray-900",children:D}),em:({children:D})=>m.jsx("em",{className:"italic",children:D}),ul:({children:D})=>m.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:D}),ol:({children:D})=>m.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:D}),code:({children:D,className:k})=>k?m.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:D}):m.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:D})},children:t.content})}),m.jsx("div",{className:`p-4 rounded-xl border-2 ${L()?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(qf,{className:`w-4 h-4 ${L()?"text-red-600":"text-orange-600"}`}),m.jsx("span",{className:`text-sm font-medium ${L()?"text-red-700":"text-orange-700"}`,children:L()?"Was due:":"Reminder set for:"}),m.jsx("span",{className:`text-sm font-bold ${L()?"text-red-800":"text-orange-800"}`,children:U(t.meta.reminderDate)})]})})]})}function oI({notice:t,currentUser:e,students:n,isAdmin:i,isCoLeader:s,canManageNotices:o,onDelete:u,onManagePermissions:h,onToggle:d,onEdit:g}){const[x,b]=le.useState(!1),[_,w]=le.useState(t.content),[N,O]=le.useState(t.meta.dueDate),V=o,z=o,U=o,L=A=>A?(A.toDate?A.toDate():new Date(A)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",Q=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",F=A=>{const ae=n.find(me=>me.rollNo===A);return ae?ae.name:A},q=t.meta.completedBy&&t.meta.completedBy.includes(e),D=t.meta.completedBy?.length||0,k=t.meta.completedBy?.map(A=>F(A))||[],M=()=>t.meta.dueDate?new Date(t.meta.dueDate)<new Date:!1,C=()=>{w(t.content),O(t.meta.dueDate),b(!0)},P=()=>{b(!1),w(t.content),O(t.meta.dueDate)},B=async()=>{if(!_.trim()){alert("Please enter content for the todo");return}if(!N){alert("Please set a due date");return}await g(t.id,{content:_.trim(),meta:{...t.meta,dueDate:N}})&&b(!1)};return x?m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Todo"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:B,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[m.jsx(Es,{className:"w-4 h-4"}),"Save"]}),m.jsxs("button",{onClick:P,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[m.jsx(nr,{className:"w-4 h-4"}),"Cancel"]})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Todo Content (Markdown supported)"}),m.jsx("textarea",{value:_,onChange:A=>w(A.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Enter todo content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date & Time"}),m.jsx("input",{type:"datetime-local",value:N,onChange:A=>O(A.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",min:new Date().toISOString().slice(0,16)})]})]}):m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${q?"bg-green-100":M()?"bg-red-100":"bg-indigo-100"}`,children:m.jsx(_u,{className:`w-5 h-5 ${q?"text-green-600":M()?"text-red-600":"text-indigo-600"}`})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-bold text-gray-900",children:"Todo"}),q&&m.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Completed"}),!q&&M()&&m.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Past Due"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx(ni,{className:"w-3 h-3"}),m.jsxs("span",{children:["By ",t.createdBy]}),m.jsx("span",{children:""}),m.jsxs("span",{children:[D," completed"]})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[m.jsx(Bu,{className:"w-3 h-3"}),m.jsx("span",{children:L(t.createdAt)})]}),z&&m.jsx("button",{onClick:C,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Todo",children:m.jsx(Pl,{className:"w-4 h-4"})}),U&&m.jsx("button",{onClick:h,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:m.jsx(Ll,{className:"w-4 h-4"})}),V&&m.jsx("button",{onClick:()=>u(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Todo",children:m.jsx(Oi,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:m.jsx(Ql,{remarkPlugins:[Yl],components:{a:({href:A,children:ae})=>m.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:ae}),p:({children:A})=>m.jsx("p",{className:"text-gray-700 leading-relaxed",children:A}),strong:({children:A})=>m.jsx("strong",{className:"font-bold text-gray-900",children:A}),em:({children:A})=>m.jsx("em",{className:"italic",children:A}),ul:({children:A})=>m.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:A}),ol:({children:A})=>m.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:A}),code:({children:A,className:ae})=>ae?m.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:A}):m.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:A})},children:t.content})}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:d,className:`
            w-full flex items-center justify-center gap-3 p-3 rounded-xl border-2 transition-all
            ${q?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 hover:border-indigo-300 text-gray-700"}
          `,children:[m.jsx("div",{className:`
            w-6 h-6 rounded-lg border-2 flex items-center justify-center
            ${q?"bg-green-500 border-green-500 text-white":"border-gray-300"}
          `,children:q&&m.jsx($v,{className:"w-4 h-4"})}),m.jsx("span",{className:"font-medium",children:q?"Mark as Incomplete":"Mark as Complete"})]}),m.jsx("div",{className:`p-3 rounded-xl border-2 ${M()&&!q?"bg-red-50 border-red-200":q?"bg-green-50 border-green-200":"bg-indigo-50 border-indigo-200"}`,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(_u,{className:`w-4 h-4 ${M()&&!q?"text-red-600":q?"text-green-600":"text-indigo-600"}`}),m.jsx("span",{className:`text-sm font-medium ${M()&&!q?"text-red-700":q?"text-green-700":"text-indigo-700"}`,children:M()&&!q?"Was due:":"Due:"}),m.jsx("span",{className:`text-sm font-bold ${M()&&!q?"text-red-800":q?"text-green-800":"text-indigo-800"}`,children:Q(t.meta.dueDate)})]})}),k.length>0&&m.jsxs("div",{className:"p-3 bg-green-50 rounded-xl border border-green-200",children:[m.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"Completed by:"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:k.map((A,ae)=>m.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:A},ae))})]})]})]})}function uI({onSubmit:t,onCancel:e,isLoading:n,students:i}){const[s,o]=le.useState("notice"),[u,h]=le.useState(""),[d,g]=le.useState({}),[x,b]=le.useState(!0),[_,w]=le.useState([]),N=[{id:"notice",label:"Simple Notice",icon:wu,description:"Basic announcement or information"},{id:"checklist",label:"Checklist",icon:s0,description:"List of items to be checked off"},{id:"poll",label:"Poll",icon:r0,description:"Survey with voting options"},{id:"reminder",label:"Reminder",icon:qf,description:"Time-based reminder notification"},{id:"todo",label:"Todo",icon:_u,description:"Task with due date and completion tracking"}],O=i.filter(A=>A.rollNo!==Je.rollNo),V=A=>{switch(o(A),g({}),A){case"checklist":g({items:[{text:""}],isAnonymous:!1});break;case"poll":g({options:[{text:""},{text:""}],allowMultiple:!1,isAnonymous:!1});break;case"reminder":g({reminderDate:""});break;case"todo":g({dueDate:"",completedBy:[]});break;default:g({})}},z=A=>{_.includes(A)?w(_.filter(ae=>ae!==A)):w([..._,A])},U=()=>{_.length===O.length?w([]):w(O.map(A=>A.rollNo))},L=A=>{if(A.preventDefault(),!u.trim()){alert("Please enter content for the notice");return}if(!x&&_.length===0){alert("Please select users or make the notice public");return}if(s==="checklist"&&(!d.items||d.items.length===0||d.items.every(ae=>!ae.text.trim()))){alert("Please add at least one checklist item");return}if(s==="poll"&&(!d.options||d.options.length<2||d.options.some(ae=>!ae.text.trim()))){alert("Please add at least 2 poll options with text");return}if(s==="reminder"&&!d.reminderDate){alert("Please set a reminder date");return}if(s==="todo"&&!d.dueDate){alert("Please set a due date for the todo");return}t({type:s,content:u.trim(),meta:d,allowedUsers:x?[]:_,isPublic:x})},Q=()=>{g({...d,items:[...d.items||[],{text:""}]})},F=(A,ae)=>{const me=[...d.items];me[A]={text:ae,completedBy:[]},g({...d,items:me})},q=A=>{const ae=d.items.filter((me,W)=>W!==A);g({...d,items:ae})},D=()=>{g({...d,options:[...d.options||[],{text:"",votes:[]}]})},k=(A,ae)=>{const me=[...d.options];me[A]={text:ae,votes:[]},g({...d,options:me})},M=A=>{if(d.options.length<=2){alert("Poll must have at least 2 options");return}const ae=d.options.filter((me,W)=>W!==A);g({...d,options:ae})},C=()=>{g({...d,allowMultiple:!d.allowMultiple})},P=()=>{g({...d,isAnonymous:!d.isAnonymous})},B=()=>{g({...d,isAnonymous:!d.isAnonymous})};return m.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 border border-gray-100 max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Notice"}),m.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx(nr,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:L,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Notice Type"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:N.map(A=>m.jsxs("button",{type:"button",onClick:()=>V(A.id),className:`
                  p-4 rounded-xl border-2 transition-all text-left
                  ${s===A.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}
                `,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(A.icon,{className:`w-5 h-5 ${s===A.id?"text-blue-600":"text-gray-600"}`}),m.jsx("span",{className:"font-medium text-gray-900",children:A.label})]}),m.jsx("p",{className:"text-xs text-gray-600",children:A.description})]},A.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s==="poll"?"Poll Question":"Content"}),m.jsx("textarea",{value:u,onChange:A=>h(A.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s==="poll"?"What question would you like to ask?":s==="reminder"?"What should people be reminded about?":s==="todo"?"What task needs to be completed?":"Enter your notice content...",required:!0})]}),s==="checklist"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Checklist Items"}),m.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous completion:"}),m.jsxs("button",{type:"button",onClick:B,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${d.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[d.isAnonymous?m.jsx(xs,{className:"w-4 h-4"}):m.jsx(kl,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium",children:d.isAnonymous?"Anonymous":"Show names"})]})]}),m.jsxs("div",{className:"space-y-2",children:[d.items?.map((A,ae)=>m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:A.text,onChange:me=>F(ae,me.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Item ${ae+1}`}),d.items.length>1&&m.jsx("button",{type:"button",onClick:()=>q(ae),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:m.jsx(Oi,{className:"w-4 h-4"})})]},ae)),m.jsxs("button",{type:"button",onClick:Q,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[m.jsx(Ii,{className:"w-4 h-4"}),"Add Item"]})]})]}),s==="poll"&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Poll Options"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Multiple selections:"}),m.jsxs("button",{type:"button",onClick:C,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${d.allowMultiple?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[d.allowMultiple?m.jsx(Zv,{className:"w-4 h-4"}):m.jsx(Kv,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium",children:d.allowMultiple?"Multi-select":"Single choice"})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous voting:"}),m.jsxs("button",{type:"button",onClick:P,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${d.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[d.isAnonymous?m.jsx(xs,{className:"w-4 h-4"}):m.jsx(kl,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium",children:d.isAnonymous?"Anonymous":"Show names"})]})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[d.options?.map((A,ae)=>m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:A.text,onChange:me=>k(ae,me.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Option ${ae+1}`}),d.options.length>2&&m.jsx("button",{type:"button",onClick:()=>M(ae),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:m.jsx(Oi,{className:"w-4 h-4"})})]},ae)),m.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[m.jsx(Ii,{className:"w-4 h-4"}),"Add Option"]})]})]}),s==="reminder"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reminder Date & Time"}),m.jsx("input",{type:"datetime-local",value:d.reminderDate,onChange:A=>g({...d,reminderDate:A.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().slice(0,16)})]}),s==="todo"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Due Date & Time"}),m.jsx("input",{type:"datetime-local",value:d.dueDate,onChange:A=>g({...d,dueDate:A.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().slice(0,16)})]}),m.jsxs("div",{className:"border-t pt-6",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Who can see this notice?"}),m.jsx("div",{className:"mb-4",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"visibility",checked:x,onChange:()=>b(!0),className:"w-4 h-4 text-blue-600"}),m.jsx(i0,{className:"w-4 h-4 text-green-600"}),m.jsx("span",{className:"text-sm font-medium",children:"Public (Everyone can see)"})]}),m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"visibility",checked:!x,onChange:()=>b(!1),className:"w-4 h-4 text-blue-600"}),m.jsx(Ln,{className:"w-4 h-4 text-blue-600"}),m.jsx("span",{className:"text-sm font-medium",children:"Private (Selected users only)"})]})]})}),!x&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select Students:"}),m.jsx("button",{type:"button",onClick:U,className:"text-sm text-blue-600 hover:text-blue-700",children:_.length===O.length?"Deselect All":"Select All"})]}),m.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:O.map(A=>m.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:_.includes(A.rollNo),onChange:()=>z(A.rollNo),className:"w-4 h-4 text-blue-600"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Vi,{className:"w-4 h-4 text-gray-400"}),m.jsx("span",{className:"text-sm font-medium text-gray-900",children:A.name}),m.jsxs("span",{className:"text-xs text-gray-500",children:["(",A.rollNo,")"]})]})]},A.rollNo))}),_.length>0&&m.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[_.length," student",_.length>1?"s":""," selected"]})]})]}),m.jsxs("div",{className:"flex gap-3 pt-4",children:[m.jsx("button",{type:"submit",disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n?m.jsxs(m.Fragment,{children:[m.jsx(xr,{className:"w-4 h-4 animate-spin"}),m.jsx("span",{children:"Creating..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ii,{className:"w-4 h-4"}),m.jsx("span",{children:"Create Notice"})]})}),m.jsx("button",{type:"button",onClick:e,disabled:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function cI({notice:t,students:e,onUpdate:n,onCancel:i}){const[s,o]=le.useState(t.isPublic||!1),[u,h]=le.useState(t.allowedUsers||[]),[d,g]=le.useState(!1),x=e.filter(N=>N.rollNo!==Je.rollNo);le.useEffect(()=>{o(t.isPublic||!1),h(t.allowedUsers||[])},[t]);const b=N=>{u.includes(N)?h(u.filter(O=>O!==N)):h([...u,N])},_=()=>{u.length===x.length?h([]):h(x.map(N=>N.rollNo))},w=async N=>{if(N.preventDefault(),!s&&u.length===0){alert("Please select users or make the notice public");return}g(!0);try{await n(s?[]:u,s)}finally{g(!1)}};return m.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-6 border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Permissions"}),m.jsx("button",{onClick:i,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx(nr,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[m.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["Notice: ",t.type]}),m.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.content})]}),m.jsxs("form",{onSubmit:w,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Visibility Settings"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[m.jsx("input",{type:"radio",name:"visibility",checked:s,onChange:()=>o(!0),className:"w-4 h-4 text-blue-600"}),m.jsx(i0,{className:"w-4 h-4 text-green-600"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Public"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Everyone can see this notice"})]})]}),m.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[m.jsx("input",{type:"radio",name:"visibility",checked:!s,onChange:()=>o(!1),className:"w-4 h-4 text-blue-600"}),m.jsx(Ln,{className:"w-4 h-4 text-blue-600"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Private"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Only selected users can see"})]})]})]})]}),!s&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Select Students:"}),m.jsx("button",{type:"button",onClick:_,className:"text-sm text-blue-600 hover:text-blue-700",children:u.length===x.length?"Deselect All":"Select All"})]}),m.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:x.map(N=>m.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:u.includes(N.rollNo),onChange:()=>b(N.rollNo),className:"w-4 h-4 text-blue-600"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Vi,{className:"w-4 h-4 text-gray-400"}),m.jsx("span",{className:"text-sm font-medium text-gray-900",children:N.name}),m.jsxs("span",{className:"text-xs text-gray-500",children:["(",N.rollNo,")"]})]})]},N.rollNo))}),u.length>0&&m.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[u.length," student",u.length>1?"s":""," selected"]})]}),m.jsx("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-200",children:m.jsxs("p",{className:"text-sm text-blue-700",children:[m.jsx("strong",{children:"Current:"})," ",t.isPublic?"Public":`Private (${t.allowedUsers?.length||0} users)`]})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"submit",disabled:d,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 font-medium",children:d?m.jsxs(m.Fragment,{children:[m.jsx(xr,{className:"w-4 h-4 animate-spin"}),m.jsx("span",{children:"Saving..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Es,{className:"w-4 h-4"}),m.jsx("span",{children:"Update"})]})}),m.jsx("button",{type:"button",onClick:i,disabled:d,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function Ww({open:t,title:e,message:n,confirmText:i="Confirm",cancelText:s="Cancel",confirmColor:o="red",onConfirm:u,onCancel:h,icon:d="warning"}){if(!t)return null;const g=()=>{switch(d){case"warning":return m.jsx(Bm,{className:"w-12 h-12 text-orange-500"});case"success":return m.jsx(Yv,{className:"w-12 h-12 text-green-500"});case"danger":return m.jsx(Bm,{className:"w-12 h-12 text-red-500"});default:return m.jsx(Bm,{className:"w-12 h-12 text-orange-500"})}},x=()=>{switch(o){case"red":return"bg-red-600 hover:bg-red-700 text-white";case"green":return"bg-green-600 hover:bg-green-700 text-white";case"blue":return"bg-blue-600 hover:bg-blue-700 text-white";case"orange":return"bg-orange-600 hover:bg-orange-700 text-white";default:return"bg-red-600 hover:bg-red-700 text-white"}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out scale-100",children:[m.jsxs("div",{className:"relative p-6 pb-4",children:[m.jsx("button",{onClick:h,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:m.jsx(nr,{className:"w-4 h-4"})}),m.jsx("div",{className:"flex items-center justify-center mb-4",children:m.jsx("div",{className:"p-3 rounded-full bg-gray-50",children:g()})}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:e}),m.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:n})]}),m.jsx("div",{className:"px-6 pb-6",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:h,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:s}),m.jsx("button",{onClick:u,className:`flex-1 px-4 py-3 rounded-xl transition-colors font-medium ${x()}`,children:i})]})})]})})}function eE(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=eE(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function ys(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=eE(t))&&(i&&(i+=" "),i+=e);return i}function fI(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}fI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var tc=t=>typeof t=="number"&&!isNaN(t),ws=t=>typeof t=="string",Ui=t=>typeof t=="function",hI=t=>ws(t)||tc(t),Jp=t=>ws(t)||Ui(t)?t:null,dI=(t,e)=>t===!1||tc(t)&&t>0?t:e,Wp=t=>le.isValidElement(t)||ws(t)||Ui(t)||tc(t);function mI(t,e,n=300){let{scrollHeight:i,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function pI({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:o,position:u,preventExitTransition:h,done:d,nodeRef:g,isIn:x,playToast:b}){let _=n?`${t}--${u}`:t,w=n?`${e}--${u}`:e,N=le.useRef(0);return le.useLayoutEffect(()=>{let O=g.current,V=_.split(" "),z=U=>{U.target===g.current&&(b(),O.removeEventListener("animationend",z),O.removeEventListener("animationcancel",z),N.current===0&&U.type!=="animationcancel"&&O.classList.remove(...V))};O.classList.add(...V),O.addEventListener("animationend",z),O.addEventListener("animationcancel",z)},[]),le.useEffect(()=>{let O=g.current,V=()=>{O.removeEventListener("animationend",V),i?mI(O,d,s):d()};x||(h?V():(N.current=1,O.className+=` ${w}`,O.addEventListener("animationend",V)))},[x]),dt.createElement(dt.Fragment,null,o)}}function qv(t,e){return{content:tE(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function tE(t,e,n=!1){return le.isValidElement(t)&&!ws(t.type)?le.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Ui(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function gI({closeToast:t,theme:e,ariaLabel:n="close"}){return dt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},dt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},dt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function yI({delay:t,isRunning:e,closeToast:n,type:i="default",hide:s,className:o,controlledProgress:u,progress:h,rtl:d,isIn:g,theme:x}){let b=s||u&&h===0,_={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};u&&(_.transform=`scaleX(${h})`);let w=ys("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),N=Ui(o)?o({rtl:d,type:i,defaultClassName:w}):ys(w,o),O={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{g&&n()}};return dt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},dt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${i}`}),dt.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:N,style:_,...O}))}var xI=1,nE=()=>`${xI++}`;function bI(t,e,n){let i=1,s=0,o=[],u=[],h=e,d=new Map,g=new Set,x=U=>(g.add(U),()=>g.delete(U)),b=()=>{u=Array.from(d.values()),g.forEach(U=>U())},_=({containerId:U,toastId:L,updateId:Q})=>{let F=U?U!==t:t!==1,q=d.has(L)&&Q==null;return F||q},w=(U,L)=>{d.forEach(Q=>{var F;(L==null||L===Q.props.toastId)&&((F=Q.toggle)==null||F.call(Q,U))})},N=U=>{var L,Q;(Q=(L=U.props)==null?void 0:L.onClose)==null||Q.call(L,U.removalReason),U.isActive=!1},O=U=>{if(U==null)d.forEach(N);else{let L=d.get(U);L&&N(L)}b()},V=()=>{s-=o.length,o=[]},z=U=>{var L,Q;let{toastId:F,updateId:q}=U.props,D=q==null;U.staleId&&d.delete(U.staleId),U.isActive=!0,d.set(F,U),b(),n(qv(U,D?"added":"updated")),D&&((Q=(L=U.props).onOpen)==null||Q.call(L))};return{id:t,props:h,observe:x,toggle:w,removeToast:O,toasts:d,clearQueue:V,buildToast:(U,L)=>{if(_(L))return;let{toastId:Q,updateId:F,data:q,staleId:D,delay:k}=L,M=F==null;M&&s++;let C={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(L).filter(([B,A])=>A!=null)),toastId:Q,updateId:F,data:q,isIn:!1,className:Jp(L.className||h.toastClassName),progressClassName:Jp(L.progressClassName||h.progressClassName),autoClose:L.isLoading?!1:dI(L.autoClose,h.autoClose),closeToast(B){d.get(Q).removalReason=B,O(Q)},deleteToast(){let B=d.get(Q);if(B!=null){if(n(qv(B,"removed")),d.delete(Q),s--,s<0&&(s=0),o.length>0){z(o.shift());return}b()}}};C.closeButton=h.closeButton,L.closeButton===!1||Wp(L.closeButton)?C.closeButton=L.closeButton:L.closeButton===!0&&(C.closeButton=Wp(h.closeButton)?h.closeButton:!0);let P={content:U,props:C,staleId:D};h.limit&&h.limit>0&&s>h.limit&&M?o.push(P):tc(k)?setTimeout(()=>{z(P)},k):z(P)},setProps(U){h=U},setToggle:(U,L)=>{let Q=d.get(U);Q&&(Q.toggle=L)},isToastActive:U=>{var L;return(L=d.get(U))==null?void 0:L.isActive},getSnapshot:()=>u}}var kn=new Map,Uu=[],e0=new Set,vI=t=>e0.forEach(e=>e(t)),rE=()=>kn.size>0;function _I(){Uu.forEach(t=>aE(t.content,t.options)),Uu=[]}var wI=(t,{containerId:e})=>{var n;return(n=kn.get(e||1))==null?void 0:n.toasts.get(t)};function iE(t,e){var n;if(e)return!!((n=kn.get(e))!=null&&n.isToastActive(t));let i=!1;return kn.forEach(s=>{s.isToastActive(t)&&(i=!0)}),i}function EI(t){if(!rE()){Uu=Uu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||hI(t))kn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=kn.get(t.containerId);e?e.removeToast(t.id):kn.forEach(n=>{n.removeToast(t.id)})}}var TI=(t={})=>{kn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function aE(t,e){Wp(t)&&(rE()||Uu.push({content:t,options:e}),kn.forEach(n=>{n.buildToast(t,e)}))}function SI(t){var e;(e=kn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function sE(t,e){kn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function AI(t){let e=t.containerId||1;return{subscribe(n){let i=bI(e,t,vI);kn.set(e,i);let s=i.observe(n);return _I(),()=>{s(),kn.delete(e)}},setProps(n){var i;(i=kn.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=kn.get(e))==null?void 0:n.getSnapshot()}}}function NI(t){return e0.add(t),()=>{e0.delete(t)}}function CI(t){return t&&(ws(t.toastId)||tc(t.toastId))?t.toastId:nE()}function nc(t,e){return aE(t,e),e.toastId}function Mh(t,e){return{...e,type:e&&e.type||t,toastId:CI(e)}}function Oh(t){return(e,n)=>nc(e,Mh(t,n))}function Ce(t,e){return nc(t,Mh("default",e))}Ce.loading=(t,e)=>nc(t,Mh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function kI(t,{pending:e,error:n,success:i},s){let o;e&&(o=ws(e)?Ce.loading(e,s):Ce.loading(e.render,{...s,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(g,x,b)=>{if(x==null){Ce.dismiss(o);return}let _={type:g,...u,...s,data:b},w=ws(x)?{render:x}:x;return o?Ce.update(o,{..._,...w}):Ce(w.render,{..._,...w}),b},d=Ui(t)?t():t;return d.then(g=>h("success",i,g)).catch(g=>h("error",n,g)),d}Ce.promise=kI;Ce.success=Oh("success");Ce.info=Oh("info");Ce.error=Oh("error");Ce.warning=Oh("warning");Ce.warn=Ce.warning;Ce.dark=(t,e)=>nc(t,Mh("default",{theme:"dark",...e}));function RI(t){EI(t)}Ce.dismiss=RI;Ce.clearWaitingQueue=TI;Ce.isActive=iE;Ce.update=(t,e={})=>{let n=wI(t,e);if(n){let{props:i,content:s}=n,o={delay:100,...i,...e,toastId:e.toastId||t,updateId:nE()};o.toastId!==t&&(o.staleId=t);let u=o.render||s;delete o.render,nc(u,o)}};Ce.done=t=>{Ce.update(t,{progress:1})};Ce.onChange=NI;Ce.play=t=>sE(!0,t);Ce.pause=t=>sE(!1,t);function jI(t){var e;let{subscribe:n,getSnapshot:i,setProps:s}=le.useRef(AI(t)).current;s(t);let o=(e=le.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function u(h){if(!o)return[];let d=new Map;return t.newestOnTop&&o.reverse(),o.forEach(g=>{let{position:x}=g.props;d.has(x)||d.set(x,[]),d.get(x).push(g)}),Array.from(d,g=>h(g[0],g[1]))}return{getToastToRender:u,isToastActive:iE,count:o?.length}}function DI(t){let[e,n]=le.useState(!1),[i,s]=le.useState(!1),o=le.useRef(null),u=le.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:d,closeToast:g,onClick:x,closeOnClick:b}=t;SI({id:t.toastId,containerId:t.containerId,fn:n}),le.useEffect(()=>{if(t.pauseOnFocusLoss)return _(),()=>{w()}},[t.pauseOnFocusLoss]);function _(){document.hasFocus()||z(),window.addEventListener("focus",V),window.addEventListener("blur",z)}function w(){window.removeEventListener("focus",V),window.removeEventListener("blur",z)}function N(D){if(t.draggable===!0||t.draggable===D.pointerType){U();let k=o.current;u.canCloseOnClick=!0,u.canDrag=!0,k.style.transition="none",t.draggableDirection==="x"?(u.start=D.clientX,u.removalDistance=k.offsetWidth*(t.draggablePercent/100)):(u.start=D.clientY,u.removalDistance=k.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function O(D){let{top:k,bottom:M,left:C,right:P}=o.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&t.pauseOnHover&&D.clientX>=C&&D.clientX<=P&&D.clientY>=k&&D.clientY<=M?z():V()}function V(){n(!0)}function z(){n(!1)}function U(){u.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",F)}function L(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",F)}function Q(D){let k=o.current;if(u.canDrag&&k){u.didMove=!0,e&&z(),t.draggableDirection==="x"?u.delta=D.clientX-u.start:u.delta=D.clientY-u.start,u.start!==D.clientX&&(u.canCloseOnClick=!1);let M=t.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;k.style.transform=`translate3d(${M},0)`,k.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function F(){L();let D=o.current;if(u.canDrag&&u.didMove&&D){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let q={onPointerDown:N,onPointerUp:O};return h&&d&&(q.onMouseEnter=z,t.stacked||(q.onMouseLeave=V)),b&&(q.onClick=D=>{x&&x(D),u.canCloseOnClick&&g(!0)}),{playToast:V,pauseToast:z,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:q}}var II=typeof window<"u"?le.useLayoutEffect:le.useEffect,Vh=({theme:t,type:e,isLoading:n,...i})=>dt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function MI(t){return dt.createElement(Vh,{...t},dt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function OI(t){return dt.createElement(Vh,{...t},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function VI(t){return dt.createElement(Vh,{...t},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function PI(t){return dt.createElement(Vh,{...t},dt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function LI(){return dt.createElement("div",{className:"Toastify__spinner"})}var t0={info:OI,warning:MI,success:VI,error:PI,spinner:LI},zI=t=>t in t0;function UI({theme:t,type:e,isLoading:n,icon:i}){let s=null,o={theme:t,type:e};return i===!1||(Ui(i)?s=i({...o,isLoading:n}):le.isValidElement(i)?s=le.cloneElement(i,o):n?s=t0.spinner():zI(e)&&(s=t0[e](o))),s}var BI=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:s,playToast:o}=DI(t),{closeButton:u,children:h,autoClose:d,onClick:g,type:x,hideProgressBar:b,closeToast:_,transition:w,position:N,className:O,style:V,progressClassName:z,updateId:U,role:L,progress:Q,rtl:F,toastId:q,deleteToast:D,isIn:k,isLoading:M,closeOnClick:C,theme:P,ariaLabel:B}=t,A=ys("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":C}),ae=Ui(O)?O({rtl:F,position:N,type:x,defaultClassName:A}):ys(A,O),me=UI(t),W=!!Q||!d,de={closeToast:_,type:x,theme:P},ve=null;return u===!1||(Ui(u)?ve=u(de):le.isValidElement(u)?ve=le.cloneElement(u,de):ve=gI(de)),dt.createElement(w,{isIn:k,done:D,position:N,preventExitTransition:n,nodeRef:i,playToast:o},dt.createElement("div",{id:q,tabIndex:0,onClick:g,"data-in":k,className:ae,...s,style:V,ref:i,...k&&{role:L,"aria-label":B}},me!=null&&dt.createElement("div",{className:ys("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},me),tE(h,t,!e),ve,!t.customProgressBar&&dt.createElement(yI,{...U&&!W?{key:`p-${U}`}:{},rtl:F,theme:P,delay:d,isRunning:e,isIn:k,closeToast:_,hide:b,type:x,className:z,controlledProgress:W,progress:Q||0})))},qI=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),FI=pI(qI("bounce",!0)),HI={position:"top-right",transition:FI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function $I(t){let e={...HI,...t},n=t.stacked,[i,s]=le.useState(!0),o=le.useRef(null),{getToastToRender:u,isToastActive:h,count:d}=jI(e),{className:g,style:x,rtl:b,containerId:_,hotKeys:w}=e;function N(V){let z=ys("Toastify__toast-container",`Toastify__toast-container--${V}`,{"Toastify__toast-container--rtl":b});return Ui(g)?g({position:V,rtl:b,defaultClassName:z}):ys(z,Jp(g))}function O(){n&&(s(!0),Ce.play())}return II(()=>{var V;if(n){let z=o.current.querySelectorAll('[data-in="true"]'),U=12,L=(V=e.position)==null?void 0:V.includes("top"),Q=0,F=0;Array.from(z).reverse().forEach((q,D)=>{let k=q;k.classList.add("Toastify__toast--stacked"),D>0&&(k.dataset.collapsed=`${i}`),k.dataset.pos||(k.dataset.pos=L?"top":"bot");let M=Q*(i?.2:1)+(i?0:U*D);k.style.setProperty("--y",`${L?M:M*-1}px`),k.style.setProperty("--g",`${U}`),k.style.setProperty("--s",`${1-(i?F:0)}`),Q+=k.offsetHeight,F+=.025})}},[i,d,n]),le.useEffect(()=>{function V(z){var U;let L=o.current;w(z)&&((U=L.querySelector('[tabIndex="0"]'))==null||U.focus(),s(!1),Ce.pause()),z.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(s(!0),Ce.play())}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[w]),dt.createElement("section",{ref:o,className:"Toastify",id:_,onMouseEnter:()=>{n&&(s(!1),Ce.pause())},onMouseLeave:O,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((V,z)=>{let U=z.length?{...x}:{...x,pointerEvents:"none"};return dt.createElement("div",{tabIndex:-1,className:N(V),"data-stacked":n,style:U,key:`c-${V}`},z.map(({content:L,props:Q})=>dt.createElement(BI,{...Q,stacked:n,collapseAll:O,isIn:h(Q.toastId,Q.containerId),key:`t-${Q.key}`},L)))}))}function GI({selectedStudent:t}){const{students:e}=Y2(),{notices:n,isLoading:i,isSaving:s,isAdmin:o,isCoLeader:u,canManageNotices:h,createNotice:d,deleteNotice:g,editNotice:x,updateNoticePermissions:b,voteInPoll:_,toggleChecklistItem:w,toggleTodo:N}=_C(t),[O,V]=le.useState(!1),[z,U]=le.useState(!1),[L,Q]=le.useState(null),[F,q]=le.useState("all"),[D,k]=le.useState(""),[M,C]=le.useState(!1),[P,B]=le.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),A=n.filter(Z=>{const ge=F==="all"||Z.type===F,ie=!D||Z.content.toLowerCase().includes(D.toLowerCase())||Z.createdBy.toLowerCase().includes(D.toLowerCase());return ge&&ie}),ae=[{id:"all",label:"All",icon:wu,count:n.length},{id:"notice",label:"Notices",icon:wu,count:n.filter(Z=>Z.type==="notice").length},{id:"checklist",label:"Checklists",icon:s0,count:n.filter(Z=>Z.type==="checklist").length},{id:"poll",label:"Polls",icon:r0,count:n.filter(Z=>Z.type==="poll").length},{id:"reminder",label:"Reminders",icon:qf,count:n.filter(Z=>Z.type==="reminder").length},{id:"todo",label:"Todos",icon:_u,count:n.filter(Z=>Z.type==="todo").length}],me=Z=>{B(Z),C(!0)},W=()=>{P.onConfirm(),C(!1)},de=()=>{C(!1)},ve=async Z=>{if(!h){Ce.error(" Only admin and co-leaders can create notices");return}await d(Z.type,Z.content,Z.meta,Z.allowedUsers||[],Z.isPublic||!1)?(V(!1),Ce.success(" Notice created successfully!")):Ce.error(" Failed to create notice. Please try again.")},Ie=async(Z,ge)=>{if(!h)return Ce.error(" Only admin and co-leaders can edit notices"),!1;const ie=await x(Z,ge);return ie?Ce.success(" Notice updated successfully!"):Ce.error(" Failed to update notice. Please try again."),ie},S=async Z=>{if(!h){Ce.error(" Only admin and co-leaders can delete notices");return}me({title:"Delete Notice",message:"Are you sure you want to delete this notice? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{await g(Z)?Ce.success(" Notice deleted successfully!"):Ce.error(" Failed to delete notice. Please try again.")}})},se=Z=>{Q(Z),U(!0)},pe=async(Z,ge)=>{if(L)try{await b(L.id,Z,ge)?(U(!1),Q(null),Ce.success(" Permissions updated successfully!")):Ce.error(" Failed to update permissions")}catch(ie){Ce.error(" Error updating permissions: "+ie.message)}},j=Z=>{const ge={key:Z.id,notice:Z,currentUser:t?.rollNo,students:e,isAdmin:o,isCoLeader:u,canManageNotices:h,onDelete:S,onEdit:Ie,onManagePermissions:()=>se(Z)};switch(Z.type){case"checklist":return m.jsx(aI,{...ge,onToggleItem:ie=>w(Z.id,ie,t?.rollNo)});case"poll":return m.jsx(sI,{...ge,onVote:(ie,be)=>_(Z.id,ie,be)});case"reminder":return m.jsx(lI,{...ge});case"todo":return m.jsx(oI,{...ge,onToggle:()=>N(Z.id,t?.rollNo)});default:return m.jsx(iI,{...ge})}};return t?i?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(xr,{className:"w-6 h-6 animate-spin text-blue-600"}),m.jsx("span",{className:"text-lg text-gray-600",children:"Loading notice board..."})]})}):m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[m.jsx(Ww,{open:M,title:P.title,message:P.message,confirmText:P.confirmText,cancelText:P.cancelText,confirmColor:P.confirmColor,icon:P.icon,onConfirm:W,onCancel:de}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[m.jsx(ou,{className:"w-8 h-8 text-blue-600"}),"Global Notice Board",o&&m.jsx(Eu,{className:"w-6 h-6 text-yellow-600",title:"Admin View"}),u&&m.jsx(Tu,{className:"w-6 h-6 text-purple-600",title:"Co-Leader View"})]}),m.jsx("p",{className:"text-gray-600",children:h?`${o?"Admin":"Co-Leader"}: Create and manage notices for all students`:"Stay updated with announcements, polls, and reminders"})]}),h&&m.jsxs("button",{onClick:()=>V(!0),disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50",children:[m.jsx(Ii,{className:"w-4 h-4"}),"Create Notice"]})]}),h&&m.jsx("div",{className:`rounded-2xl p-4 border ${o?"bg-yellow-50 border-yellow-200":"bg-purple-50 border-purple-200"}`,children:m.jsxs("div",{className:"flex items-start gap-3",children:[o?m.jsx(Eu,{className:"w-5 h-5 text-yellow-600 mt-0.5"}):m.jsx(Tu,{className:"w-5 h-5 text-purple-600 mt-0.5"}),m.jsxs("div",{children:[m.jsx("h4",{className:`font-medium mb-1 ${o?"text-yellow-900":"text-purple-900"}`,children:o?"Admin Privileges":"Co-Leader Privileges"}),m.jsxs("ul",{className:`text-sm space-y-1 ${o?"text-yellow-700":"text-purple-700"}`,children:[m.jsx("li",{children:" Create, edit and manage notices with user visibility"}),m.jsx("li",{children:" View who voted for each poll option and completed checklist items"}),m.jsx("li",{children:" Create multi-select or single-choice polls"}),m.jsx("li",{children:" Edit existing notices, polls, and checklists"}),o&&m.jsx("li",{children:" Assign co-leader roles to other students"})]})]})]})}),!h&&m.jsx("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ou,{className:"w-5 h-5 text-blue-600"}),m.jsx("div",{children:m.jsx("p",{className:"text-sm text-blue-700",children:"You can view and interact with notices shared with you. Click on voter counts in polls or completion counts in checklists to see who participated."})})]})}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[m.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:ae.map(Z=>m.jsxs("button",{onClick:()=>q(Z.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-xl transition-all
                ${F===Z.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
              `,children:[m.jsx(Z.icon,{className:"w-4 h-4"}),m.jsx("span",{children:Z.label}),m.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:Z.count})]},Z.id))}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:m.jsx(a0,{className:"w-5 h-5 text-gray-400"})}),m.jsx("input",{type:"text",placeholder:"Search notices...",value:D,onChange:Z=>k(Z.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),D&&m.jsx("button",{onClick:()=>k(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m.jsx(nr,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]})]}),O&&h&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:m.jsx("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:m.jsx(uI,{onSubmit:ve,onCancel:()=>V(!1),isLoading:s,students:e})})}),z&&L&&h&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:m.jsx(cI,{notice:L,students:e,onUpdate:pe,onCancel:()=>U(!1)})}),m.jsx("div",{className:"space-y-4",children:A.length>0?A.map(j):m.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border border-gray-100",children:[m.jsx(ou,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No notices found"}),m.jsx("p",{className:"text-gray-600 mb-4",children:D||F!=="all"?"Try adjusting your filters or search terms":h?"Create the first notice to get started!":"No notices have been shared with you yet."}),h&&m.jsxs("button",{onClick:()=>V(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:[m.jsx(Ii,{className:"w-4 h-4"}),"Create First Notice"]})]})})]}):m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsxs("div",{className:"text-center",children:[m.jsx(ou,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),m.jsx("p",{className:"text-gray-600",children:"Please select a student to view the notice board"})]})})}function QI(t){const[e,n]=le.useState(""),[i,s]=le.useState(!0),[o,u]=le.useState(!1),[h,d]=le.useState(null),[g,x]=le.useState(null);return le.useEffect(()=>{if(!t){n(""),s(!1);return}(async()=>{try{s(!0),x(null);const N=Wn(en,"userNotes",t),O=await hC(N);O.exists()?(n(O.data().content||""),d(O.data().updatedAt?O.data().updatedAt.toDate():null)):(n(""),d(null))}catch(N){console.error("Error loading notes:",N),x(N.message)}finally{s(!1)}})()},[t]),le.useEffect(()=>{if(!t||i)return;const w=setTimeout(async()=>{try{u(!0);const N=Wn(en,"userNotes",t);await ms(N,{content:e,updatedAt:Nl(),userId:t}),d(new Date),x(null)}catch(N){console.error("Error saving notes:",N),x("Failed to save notes: "+N.message)}finally{u(!1)}},1e3);return()=>clearTimeout(w)},[e,t,i]),{notes:e,updateNotes:w=>{n(w)},clearNotes:async()=>{if(t)try{u(!0);const w=Wn(en,"userNotes",t);await ms(w,{content:"",updatedAt:Nl(),userId:t}),n(""),d(new Date)}catch(w){console.error("Error clearing notes:",w),x("Failed to clear notes: "+w.message)}finally{u(!1)}},isLoading:i,isSaving:o,lastSaved:h,error:g}}function YI({selectedStudent:t}){const{notes:e,updateNotes:n,clearNotes:i,isLoading:s,isSaving:o,lastSaved:u,error:h}=QI(t?.rollNo),[d,g]=le.useState("split"),[x,b]=le.useState(!1),_=async()=>{window.confirm(" Are you sure you want to clear all your notes? This action cannot be undone.")&&(await i(),alert(" Notes cleared successfully!"))},w=(V,z="",U="")=>{const L=document.getElementById("notes-textarea"),Q=L.selectionStart,F=L.selectionEnd,q=e.substring(Q,F),D=V+(q||U)+z,k=e.substring(0,Q)+D+e.substring(F);n(k),setTimeout(()=>{L.focus();const M=Q+V.length+(q||U).length;L.setSelectionRange(M,M)},0)},N=[{icon:ZT,title:"Bold",action:()=>w("**","**","bold text")},{icon:j4,title:"Italic",action:()=>w("*","*","italic text")},{icon:k4,title:"Heading",action:()=>w("# ","","Heading")},{icon:P4,title:"List",action:()=>w("- ","","List item")},{icon:F4,title:"Quote",action:()=>w("> ","","Quote")},{icon:v4,title:"Code",action:()=>w("`","`","code")},{icon:M4,title:"Link",action:()=>w("[","](url)","link text")}],O=V=>{if(!V)return"Never saved";const U=new Date-V;return U<6e4?"Saved just now":U<36e5?`Saved ${Math.floor(U/6e4)} minutes ago`:U<864e5?`Saved ${Math.floor(U/36e5)} hours ago`:`Saved on ${V.toLocaleDateString()} at ${V.toLocaleTimeString()}`};return t?s?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(xr,{className:"w-6 h-6 animate-spin text-blue-600"}),m.jsx("span",{className:"text-lg text-gray-600",children:"Loading your notes..."})]})}):m.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[m.jsx(Mf,{className:"w-8 h-8 text-yellow-600"}),"Personal Notes"]}),m.jsxs("p",{className:"text-gray-600",children:["Private notes for ",m.jsx("strong",{children:t.name})," (",t.rollNo,")"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>b(!x),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all text-sm",children:"Markdown Help"}),m.jsxs("button",{onClick:_,disabled:o||!e.trim(),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(Oi,{className:"w-4 h-4"}),"Clear All"]})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:o?m.jsxs(m.Fragment,{children:[m.jsx(xr,{className:"w-4 h-4 animate-spin text-blue-600"}),m.jsx("span",{className:"text-sm text-blue-600",children:"Saving..."})]}):h?m.jsxs(m.Fragment,{children:[m.jsx(u4,{className:"w-4 h-4 text-red-600"}),m.jsx("span",{className:"text-sm text-red-600",children:"Error saving"})]}):m.jsxs(m.Fragment,{children:[m.jsx(Es,{className:"w-4 h-4 text-green-600"}),m.jsx("span",{className:"text-sm text-gray-600",children:O(u)})]})}),m.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[m.jsx(wu,{className:"w-4 h-4"}),m.jsxs("span",{children:[e.length," characters"]})]})]}),m.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-xl p-1",children:[m.jsxs("button",{onClick:()=>g("edit"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${d==="edit"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[m.jsx(Pl,{className:"w-4 h-4"}),"Edit"]}),m.jsxs("button",{onClick:()=>g("split"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${d==="split"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[m.jsxs("div",{className:"w-4 h-4 border border-current rounded-sm flex",children:[m.jsx("div",{className:"w-1/2 border-r border-current"}),m.jsx("div",{className:"w-1/2"})]}),"Split"]}),m.jsxs("button",{onClick:()=>g("preview"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${d==="preview"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[m.jsx(kl,{className:"w-4 h-4"}),"Preview"]})]})]}),h&&m.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:h})]}),x&&m.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[m.jsx("h3",{className:"font-bold text-blue-900 mb-4",children:"Markdown Quick Reference"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("div",{className:"mb-2",children:m.jsx("code",{children:"# Heading 1"})}),m.jsx("div",{className:"mb-2",children:m.jsx("code",{children:"## Heading 2"})}),m.jsx("div",{className:"mb-2",children:m.jsx("code",{children:"**bold text**"})}),m.jsx("div",{className:"mb-2",children:m.jsx("code",{children:"*italic text*"})}),m.jsx("div",{className:"mb-2",children:m.jsx("code",{children:"`inline code`"})})]}),m.jsxs("div",{children:[m.jsx("div",{className:"mb-2",children:m.jsx("code",{children:"[Link](https://example.com)"})}),m.jsx("div",{className:"mb-2",children:m.jsx("code",{children:"- List item"})}),m.jsx("div",{className:"mb-2",children:m.jsx("code",{children:"> Quote"})}),m.jsxs("div",{className:"mb-2",children:[m.jsx("code",{children:"---"})," (horizontal rule)"]}),m.jsx("div",{className:"mb-2",children:m.jsx("code",{children:"``````"})})]})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(d==="edit"||d==="split")&&m.jsx("div",{className:"border-b border-gray-200 p-3",children:m.jsx("div",{className:"flex items-center gap-1",children:N.map((V,z)=>m.jsx("button",{onClick:V.action,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:V.title,children:m.jsx(V.icon,{className:"w-4 h-4"})},z))})}),m.jsxs("div",{className:"flex h-96",children:[(d==="edit"||d==="split")&&m.jsx("div",{className:`${d==="split"?"w-1/2 border-r border-gray-200":"w-full"}`,children:m.jsx("textarea",{id:"notes-textarea",value:e,onChange:V=>n(V.target.value),className:"w-full h-full p-6 border-none outline-none resize-none font-mono text-sm",placeholder:`Write your personal notes here, ${t.name}...

You can use Markdown syntax:
# Headings
**Bold** and *italic* text
[Links](https://example.com)
- Lists
> Quotes
\`code\`

Your notes are automatically saved as you type.`})}),(d==="preview"||d==="split")&&m.jsx("div",{className:`${d==="split"?"w-1/2":"w-full"} overflow-y-auto`,children:m.jsx("div",{className:"p-6 prose prose-sm max-w-none",children:e.trim()?m.jsx(Ql,{remarkPlugins:[Yl],components:{a:({href:V,children:z})=>m.jsx("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:z})},children:e}):m.jsxs("div",{className:"text-gray-500 italic",children:["Your notes will appear here as you type...",m.jsx("br",{}),m.jsx("br",{}),"Try writing some ",m.jsx("strong",{children:"Markdown"}),":",m.jsx("br",{}),"# This is a heading",m.jsx("br",{}),"**This is bold text**",m.jsx("br",{}),"[This is a link](https://example.com)"]})})})]})]}),m.jsx("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-200",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Mf,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:" Tips for better note-taking:"}),m.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[m.jsx("li",{children:" Your notes are private and only visible to you"}),m.jsx("li",{children:" Use headings (#) to organize your content"}),m.jsx("li",{children:" Add links to external resources for quick access"}),m.jsx("li",{children:" Notes are automatically saved as you type"}),m.jsx("li",{children:" Use the split view to see formatting in real-time"})]})]})]})})]}):m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Mf,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),m.jsx("p",{className:"text-gray-600",children:"Please select a student to view their personal notes"})]})})}function XI({semester:t,setSemester:e,studentManagement:n}){const{students:i,selectedStudent:s,isAdmin:o,isLoading:u,createStudent:h,deleteStudent:d,selectStudent:g,authenticateStudent:x,updateStudentPassword:b,updateStudentRole:_}=n,[w,N]=le.useState(!1),[O,V]=le.useState({rollNo:"",name:"",password:"",role:"student"}),[z,U]=le.useState(!1),[L,Q]=le.useState(!1),[F,q]=le.useState(!1),[D,k]=le.useState(null),[M,C]=le.useState(null),[P,B]=le.useState(""),[A,ae]=le.useState(!1),[me,W]=le.useState(""),[de,ve]=le.useState(!1),[Ie,S]=le.useState(""),[se,pe]=le.useState(!1),[j,Z]=le.useState(null),[ge,ie]=le.useState({password:"",confirmPassword:""}),[be,Te]=le.useState(!1),[it,Ct]=le.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),Tt=le.useMemo(()=>{if(!P.trim())return i;const $=P.toLowerCase();return i.filter(re=>re.name.toLowerCase().includes($)||re.rollNo.toLowerCase().includes($))},[i,P]),vn=$=>{Ct($),Te(!0)},Bn=()=>{it.onConfirm(),Te(!1)},vr=()=>{Te(!1)},Rr=async $=>{if($.rollNo===Je.rollNo&&s?.rollNo!==Je.rollNo){ae(!0),S("");return}if($.isProtected&&$.rollNo!==s?.rollNo){const re=prompt(`Enter password for ${$.name}:`);if(re===null)return;if(!await x($,re)){Ce.error(" Incorrect password");return}}g($)},si=async $=>{if($.preventDefault(),!me.trim()){S("Please enter admin password");return}ve(!0),S(""),setTimeout(async()=>{const re=i.find(Ne=>Ne.rollNo===Je.rollNo);await x(re,me)?(g(re),ae(!1),W("")):(S("Incorrect admin password. Please try again."),W("")),ve(!1)},800)},tn=()=>{ae(!1),W(""),S("")},Ma=async $=>{if($.preventDefault(),!O.rollNo.trim()||!O.name.trim()){Ce.error("Please fill in both roll number and name");return}if(z&&!O.password.trim()){Ce.error("Please enter a password or uncheck password protection");return}try{q(!0),await h(O.rollNo.trim(),O.name.trim(),z?O.password.trim():"",O.role),V({rollNo:"",name:"",password:"",role:"student"}),U(!1),N(!1),Ce.success(" Student created successfully!")}catch(re){Ce.error(` Error creating student: ${re.message}`)}finally{q(!1)}},jr=async($,re)=>{if($===Je.rollNo){Ce.error("Cannot delete admin student");return}vn({title:"Delete Student",message:`Are you sure you want to delete "${re}" (${$})?

This will permanently delete all their academic data and cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{try{k($),await d($),Ce.success(" Student deleted successfully!")}catch(we){Ce.error(` Error deleting student: ${we.message}`)}finally{k(null)}}})},rr=async($,re)=>{if($.rollNo===Je.rollNo){Ce.error("Cannot change admin role");return}const we={student:"Student","co-leader":"Co-Leader"};vn({title:"Change Role",message:`Change ${$.name}'s role to ${we[re]}?

${re==="co-leader"?"Co-leaders can create and manage notices.":"Students have standard access only."}`,confirmText:"Change Role",cancelText:"Cancel",confirmColor:"blue",icon:"warning",onConfirm:async()=>{try{C($.rollNo),await _($.rollNo,re),Ce.success(` ${$.name}'s role updated to ${we[re]}!`)}catch(Ne){Ce.error(` Error updating role: ${Ne.message}`)}finally{C(null)}}})},_r=$=>{Z($),pe(!0),ie({password:"",confirmPassword:""})},Oa=async $=>{if($.preventDefault(),ge.password!==ge.confirmPassword){Ce.error("Passwords do not match");return}if(!ge.password.trim()){Ce.error("Please enter a password");return}try{await b(j.rollNo,ge.password),pe(!1),Z(null),Ce.success(" Password updated successfully!")}catch(re){Ce.error(` Error updating password: ${re.message}`)}},Dr=async $=>{vn({title:"Remove Password Protection",message:`Remove password protection from ${$.name}?

This will allow unrestricted access to their account.`,confirmText:"Remove",cancelText:"Cancel",confirmColor:"orange",icon:"warning",onConfirm:async()=>{try{await b($.rollNo,"",!0),Ce.success(" Password protection removed!")}catch(re){Ce.error(` Error removing password: ${re.message}`)}}})},li=()=>{B("")},qn=$=>{switch($){case"admin":return{name:"Admin",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:Zr};case"co-leader":return{name:"Co-Leader",color:"text-purple-600",bgColor:"bg-purple-100",icon:Tu};default:return{name:"Student",color:"text-blue-600",bgColor:"bg-blue-100",icon:ni}}};return u?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(xr,{className:"w-6 h-6 animate-spin text-blue-600"}),m.jsx("span",{className:"text-lg text-gray-600",children:"Loading students..."})]})}):m.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[m.jsx(Ww,{open:be,title:it.title,message:it.message,confirmText:it.confirmText,cancelText:it.cancelText,confirmColor:it.confirmColor,icon:it.icon,onConfirm:Bn,onCancel:vr}),A&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:m.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:m.jsx(Zr,{className:"w-8 h-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),m.jsxs("p",{className:"text-gray-600",children:["Enter admin password to switch to ",Je.name]})]}),m.jsxs("form",{onSubmit:si,className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:m.jsx(Ln,{className:"w-5 h-5 text-gray-400"})}),m.jsx("input",{type:"password",placeholder:"Admin password",value:me,onChange:$=>W($.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:de,autoFocus:!0})]}),Ie&&m.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:Ie}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"submit",disabled:de||!me.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:de?m.jsxs(m.Fragment,{children:[m.jsx(xr,{className:"w-4 h-4 animate-spin"}),m.jsx("span",{children:"Authenticating..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Zr,{className:"w-4 h-4"}),m.jsx("span",{children:"Switch to Admin"})]})}),m.jsx("button",{type:"button",onClick:tn,disabled:de,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),se&&j&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:m.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:m.jsx(Um,{className:"w-8 h-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Change Password"}),m.jsxs("p",{className:"text-gray-600",children:["Set new password for ",j.name]})]}),m.jsxs("form",{onSubmit:Oa,className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:m.jsx(Ln,{className:"w-5 h-5 text-gray-400"})}),m.jsx("input",{type:"password",placeholder:"New password",value:ge.password,onChange:$=>ie({...ge,password:$.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:m.jsx(Ln,{className:"w-5 h-5 text-gray-400"})}),m.jsx("input",{type:"password",placeholder:"Confirm password",value:ge.confirmPassword,onChange:$=>ie({...ge,confirmPassword:$.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all font-medium",children:[m.jsx(Um,{className:"w-4 h-4"}),m.jsx("span",{children:"Update Password"})]}),m.jsx("button",{type:"button",onClick:()=>pe(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Student & Semester Management"}),m.jsx("p",{className:"text-gray-600",children:"Manage students, roles, and select current semester"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[m.jsx(ni,{className:"w-5 h-5"}),"Current Student",s?.rollNo===Je.rollNo&&m.jsx(Zr,{className:"w-4 h-4 text-yellow-500"})]}),s&&m.jsx("div",{className:`rounded-2xl p-4 border ${s.rollNo===Je.rollNo?"bg-yellow-50 border-yellow-200":s.role==="co-leader"?"bg-purple-50 border-purple-200":(s.isProtected,"bg-blue-50 border-blue-200")}`,children:m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("p",{className:`font-bold ${s.rollNo===Je.rollNo?"text-yellow-900":s.role==="co-leader"?"text-purple-900":"text-blue-900"}`,children:s.name}),m.jsxs("p",{className:`text-sm ${s.rollNo===Je.rollNo?"text-yellow-700":s.role==="co-leader"?"text-purple-700":"text-blue-700"}`,children:["Roll No: ",s.rollNo]}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsxs("div",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${qn(s.role||"student").bgColor}`,children:[dt.createElement(qn(s.role||"student").icon,{className:`w-3 h-3 ${qn(s.role||"student").color}`}),m.jsx("span",{className:qn(s.role||"student").color,children:qn(s.role||"student").name})]}),s.isProtected&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Ln,{className:"w-3 h-3 text-blue-600"}),m.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]})]})})})]}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Semester"}),m.jsx("select",{className:"w-full p-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-lg font-medium bg-white",value:t,onChange:$=>e(Number($.target.value)),children:[1,2,3,4,5,6,7,8].map($=>m.jsxs("option",{value:$,children:["Semester ",$," (",xa[$].theory.length," theory + ",xa[$].practical.length," practical)"]},$))}),m.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Tu,{className:"w-4 h-4 text-blue-600 mt-1"}),m.jsxs("div",{children:[m.jsxs("h4",{className:"font-medium text-blue-900 text-sm",children:["Semester ",t," Overview"]}),m.jsxs("p",{className:"text-xs text-blue-700",children:[xa[t].theory.length," theory subjects and ",xa[t].practical.length," practical labs"]})]})]})})]})]}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[m.jsx(Vi,{className:"w-5 h-5"}),"Select Student (",i.length," total)"]}),o&&m.jsxs("button",{onClick:()=>N(!w),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:[m.jsx(Ii,{className:"w-4 h-4"}),"Add Student"]})]}),m.jsxs("div",{className:"relative mb-6",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:m.jsx(a0,{className:"w-5 h-5 text-gray-400"})}),m.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:P,onChange:$=>B($.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),P&&m.jsx("button",{onClick:li,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m.jsx(nr,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),w&&o&&m.jsxs("form",{onSubmit:Ma,className:"mb-6 p-4 bg-green-50 rounded-2xl border border-green-200",children:[m.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Create New Student"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[m.jsx("input",{type:"text",placeholder:"Roll Number (e.g., 2405226)",value:O.rollNo,onChange:$=>V({...O,rollNo:$.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),m.jsx("input",{type:"text",placeholder:"Full Name",value:O.name,onChange:$=>V({...O,name:$.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),m.jsxs("div",{className:"mb-3",children:[m.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Role"}),m.jsxs("select",{value:O.role,onChange:$=>V({...O,role:$.target.value}),className:"w-full p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",children:[m.jsx("option",{value:"student",children:"Student"}),m.jsx("option",{value:"co-leader",children:"Co-Leader"})]})]}),m.jsx("div",{className:"mb-3",children:m.jsxs("label",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",checked:z,onChange:$=>U($.target.checked),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),m.jsxs("span",{className:"text-sm font-medium text-green-900 flex items-center gap-1",children:[m.jsx(Eu,{className:"w-4 h-4"}),"Password protect this account"]})]})}),z&&m.jsxs("div",{className:"relative mb-3",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:m.jsx(Ln,{className:"w-5 h-5 text-gray-400"})}),m.jsx("input",{type:L?"text":"password",placeholder:"Password",value:O.password,onChange:$=>V({...O,password:$.target.value}),className:"w-full pl-10 pr-10 p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:z}),m.jsx("button",{type:"button",onClick:()=>Q(!L),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:L?m.jsx(xs,{className:"w-4 h-4 text-gray-400"}):m.jsx(kl,{className:"w-4 h-4 text-gray-400"})})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{type:"submit",disabled:F,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all disabled:opacity-50",children:[F?m.jsx(xr,{className:"w-4 h-4 animate-spin"}):m.jsx(Ii,{className:"w-4 h-4"}),F?"Creating...":"Create Student"]}),m.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:Tt.length>0?Tt.map($=>{const re=qn($.role||"student");return m.jsxs("div",{className:`
                    p-4 rounded-2xl border-2 transition-all cursor-pointer relative
                    ${s?.rollNo===$.rollNo?$.rollNo===Je.rollNo?"border-yellow-500 bg-yellow-50":$.role==="co-leader"?"border-purple-500 bg-purple-50":"border-blue-500 bg-blue-50":$.rollNo===Je.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300":$.role==="co-leader"?"border-purple-200 bg-purple-50 hover:border-purple-300":$.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300":"border-gray-200 bg-gray-50 hover:border-blue-300"}
                  `,onClick:()=>Rr($),children:[$.isProtected&&m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx(Ln,{className:"w-4 h-4 text-blue-600"})}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("h4",{className:"font-bold text-gray-900",children:$.name}),dt.createElement(re.icon,{className:`w-4 h-4 ${re.color}`})]}),m.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Roll: ",$.rollNo]}),m.jsx("div",{className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full ${re.bgColor}`,children:m.jsx("span",{className:re.color,children:re.name})}),m.jsx("div",{className:"mt-2",children:s?.rollNo===$.rollNo?m.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Currently Selected"}):$.isProtected?m.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Password Protected"}):null})]}),o&&$.rollNo!==Je.rollNo&&m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsxs("div",{className:"flex gap-1",children:[$.role!=="co-leader"&&m.jsx("button",{onClick:we=>{we.stopPropagation(),rr($,"co-leader")},disabled:M===$.rollNo,className:"p-1 text-purple-500 hover:bg-purple-100 rounded transition-all",title:"Make Co-Leader",children:m.jsx(sS,{className:"w-3 h-3"})}),$.role==="co-leader"&&m.jsx("button",{onClick:we=>{we.stopPropagation(),rr($,"student")},disabled:M===$.rollNo,className:"p-1 text-gray-500 hover:bg-gray-100 rounded transition-all",title:"Remove Co-Leader",children:m.jsx(oS,{className:"w-3 h-3"})})]}),$.isProtected&&m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:we=>{we.stopPropagation(),_r($)},className:"p-1 text-blue-500 hover:bg-blue-100 rounded transition-all",title:"Change Password",children:m.jsx(Um,{className:"w-3 h-3"})}),m.jsx("button",{onClick:we=>{we.stopPropagation(),Dr($)},className:"p-1 text-orange-500 hover:bg-orange-100 rounded transition-all",title:"Remove Password",children:m.jsx(Eu,{className:"w-3 h-3"})})]}),m.jsx("button",{onClick:we=>{we.stopPropagation(),jr($.rollNo,$.name)},disabled:D===$.rollNo,className:"p-1 text-red-500 hover:bg-red-100 rounded transition-all disabled:opacity-50",title:"Delete Student",children:D===$.rollNo?m.jsx(xr,{className:"w-3 h-3 animate-spin"}):m.jsx(Oi,{className:"w-3 h-3"})})]})]})]},$.rollNo)}):m.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[m.jsx(Vi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),m.jsxs("p",{children:['No students found matching "',P,'"']})]})})]})]})}function KI(t,e){const[n,i]=le.useState(()=>{try{const u=window.localStorage.getItem(t);return u?JSON.parse(u):e}catch(u){return console.error(`Error loading localStorage key "${t}":`,u),e}});return[n,u=>{try{i(u),window.localStorage.setItem(t,JSON.stringify(u))}catch(h){console.error(`Error setting localStorage key "${t}":`,h)}},()=>{try{i(e),window.localStorage.removeItem(t)}catch(u){console.error(`Error clearing localStorage key "${t}":`,u)}}]}function ZI(t){const[e,n]=le.useState(navigator.onLine),[i,s]=le.useState(!1),[o,u]=le.useState(null);return le.useEffect(()=>{const g=()=>n(!0),x=()=>n(!1);return window.addEventListener("online",g),window.addEventListener("offline",x),()=>{window.removeEventListener("online",g),window.removeEventListener("offline",x)}},[]),{isOnline:e,isSyncing:i,lastSynced:o,saveToFirestore:async(g,x,b,_)=>{if(!t)return!1;try{s(!0);const w=Wn(en,"academic-data",`${t}-${g}-${x}`);return await ms(w,{studentId:t,semester:g,subject:x,type:_,data:b,timestamp:Nl(),lastModified:new Date().toISOString()}),u(new Date),!0}catch(w){return console.error("Error saving to Firestore:",w),!1}finally{s(!1)}},loadAllData:async()=>{if(!t)return{};try{s(!0);const g=H0(Ou(en,"academic-data"),V2("studentId","==",t));return new Promise((x,b)=>z2(g,w=>{const N={};w.forEach(O=>{const V=O.data(),z=`${V.semester}-${V.subject}`;N[z]=V}),u(new Date),x(N)},w=>{console.error("Error loading all data:",w),b(w)}))}catch(g){return console.error("Error setting up real-time listener:",g),{}}finally{s(!1)}}}}function JI(){const[t,e]=le.useState(0),[n,i]=le.useState(5),[s,o]=le.useState(!1),u=Y2(),{students:h,selectedStudent:d,isLoading:g,hasInitialized:x,selectStudent:b}=u,_=d?`academic-data-${d.rollNo}`:"academic-data-temp",[w,N]=KI(_,{}),O=d?.rollNo,{isOnline:V,isSyncing:z,lastSynced:U,saveToFirestore:L,loadAllData:Q}=ZI(O);le.useEffect(()=>{let M=!1;if(!d){N({});return}return o(!0),N({}),setTimeout(async()=>{if(!M){if(V&&d)try{const C=await Q();M||C&&Object.keys(C).length>0&&N(C)}catch{M||N({})}M||o(!1)}},50),()=>{M=!0}},[d,V]);const F=async(M,C,P="theory")=>{if(!d)return;const B=`${n}-${M}`,A={data:C,type:P,semester:n,subject:M},ae={...w,[B]:A};if(N(ae),V)try{await L(n,M,C,P)}catch(me){console.error("Error syncing to Firestore:",me)}},q=M=>{N({}),b(M)};if(!d||g||!x||s)return m.jsx(dS,{students:h,onStudentSelect:q,isLoading:g||!x||s,studentManagement:u});const D={isOnline:V,isSyncing:z,lastSynced:U},k=()=>{b(null),localStorage.removeItem("selected-student"),N({})};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[m.jsx(mS,{semester:n,syncStatus:D,selectedStudent:d,onStudentSwitch:k}),m.jsx(gS,{activeTab:t,onTabChange:e}),m.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[m.jsx(nu,{value:t,index:0,children:m.jsx(xS,{semester:n,allData:w,handleDataChange:F})}),m.jsx(nu,{value:t,index:1,children:m.jsx(vS,{semester:n,allData:w,handleDataChange:F})}),m.jsx(nu,{value:t,index:2,children:m.jsx(GI,{selectedStudent:d})}),m.jsx(nu,{value:t,index:3,children:m.jsx(YI,{selectedStudent:d})}),m.jsx(nu,{value:t,index:4,children:m.jsx(XI,{semester:n,setSemester:i,studentManagement:u})})]})]})}function WI({children:t}){return m.jsxs(m.Fragment,{children:[t,m.jsx($I,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastStyle:{fontSize:"14px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"}})]})}BT.createRoot(document.getElementById("root")).render(m.jsx(dt.StrictMode,{children:m.jsx(WI,{children:m.jsx(JI,{})})}));
