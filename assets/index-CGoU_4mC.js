(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function ph(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bm={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function PE(){if(D1)return uu;D1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:o}}return uu.Fragment=e,uu.jsx=n,uu.jsxs=n,uu}var I1;function LE(){return I1||(I1=1,Bm.exports=PE()),Bm.exports}var f=LE(),qm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function zE(){if(M1)return qe;M1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,V={};function z(N,le,te){this.props=N,this.context=le,this.refs=V,this.updater=te||w}z.prototype.isReactComponent={},z.prototype.setState=function(N,le){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,le,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function F(){}F.prototype=z.prototype;function B(N,le,te){this.props=N,this.context=le,this.refs=V,this.updater=te||w}var U=B.prototype=new F;U.constructor=B,S(U,z.prototype),U.isPureReactComponent=!0;var $=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function R(N,le,te,j,Q,xe){return te=xe.ref,{$$typeof:t,type:N,key:le,ref:te!==void 0?te:null,props:xe}}function C(N,le){return R(N.type,le,void 0,void 0,void 0,N.props)}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function k(N){var le={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(te){return le[te]})}var I=/\/+/g;function P(N,le){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):le.toString(36)}function A(){}function ae(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(A,A):(N.status="pending",N.then(function(le){N.status==="pending"&&(N.status="fulfilled",N.value=le)},function(le){N.status==="pending"&&(N.status="rejected",N.reason=le)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ge(N,le,te,j,Q){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var ie=!1;if(N===null)ie=!0;else switch(xe){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(N.$$typeof){case t:case e:ie=!0;break;case y:return ie=N._init,ge(ie(N._payload),le,te,j,Q)}}if(ie)return Q=Q(N),ie=j===""?"."+P(N,0):j,$(Q)?(te="",ie!=null&&(te=ie.replace(I,"$&/")+"/"),ge(Q,le,te,"",function(wt){return wt})):Q!=null&&(M(Q)&&(Q=C(Q,te+(Q.key==null||N&&N.key===Q.key?"":(""+Q.key).replace(I,"$&/")+"/")+ie)),le.push(Q)),1;ie=0;var be=j===""?".":j+":";if($(N))for(var Ne=0;Ne<N.length;Ne++)j=N[Ne],xe=be+P(j,Ne),ie+=ge(j,le,te,xe,Q);else if(Ne=_(N),typeof Ne=="function")for(N=Ne.call(N),Ne=0;!(j=N.next()).done;)j=j.value,xe=be+P(j,Ne++),ie+=ge(j,le,te,xe,Q);else if(xe==="object"){if(typeof N.then=="function")return ge(ae(N),le,te,j,Q);throw le=String(N),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ie}function X(N,le,te){if(N==null)return N;var j=[],Q=0;return ge(N,j,"","",function(xe){return le.call(te,xe,Q++)}),j}function fe(N){if(N._status===-1){var le=N._result;le=le(),le.then(function(te){(N._status===0||N._status===-1)&&(N._status=1,N._result=te)},function(te){(N._status===0||N._status===-1)&&(N._status=2,N._result=te)}),N._status===-1&&(N._status=0,N._result=le)}if(N._status===1)return N._result.default;throw N._result}var ve=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ae(){}return qe.Children={map:X,forEach:function(N,le,te){X(N,function(){le.apply(this,arguments)},te)},count:function(N){var le=0;return X(N,function(){le++}),le},toArray:function(N){return X(N,function(le){return le})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},qe.Component=z,qe.Fragment=n,qe.Profiler=a,qe.PureComponent=B,qe.StrictMode=i,qe.Suspense=m,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,qe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return q.H.useMemoCache(N)}},qe.cache=function(N){return function(){return N.apply(null,arguments)}},qe.cloneElement=function(N,le,te){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var j=S({},N.props),Q=N.key,xe=void 0;if(le!=null)for(ie in le.ref!==void 0&&(xe=void 0),le.key!==void 0&&(Q=""+le.key),le)!L.call(le,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&le.ref===void 0||(j[ie]=le[ie]);var ie=arguments.length-2;if(ie===1)j.children=te;else if(1<ie){for(var be=Array(ie),Ne=0;Ne<ie;Ne++)be[Ne]=arguments[Ne+2];j.children=be}return R(N.type,Q,void 0,void 0,xe,j)},qe.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},qe.createElement=function(N,le,te){var j,Q={},xe=null;if(le!=null)for(j in le.key!==void 0&&(xe=""+le.key),le)L.call(le,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(Q[j]=le[j]);var ie=arguments.length-2;if(ie===1)Q.children=te;else if(1<ie){for(var be=Array(ie),Ne=0;Ne<ie;Ne++)be[Ne]=arguments[Ne+2];Q.children=be}if(N&&N.defaultProps)for(j in ie=N.defaultProps,ie)Q[j]===void 0&&(Q[j]=ie[j]);return R(N,xe,void 0,void 0,null,Q)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(N){return{$$typeof:h,render:N}},qe.isValidElement=M,qe.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:fe}},qe.memo=function(N,le){return{$$typeof:p,type:N,compare:le===void 0?null:le}},qe.startTransition=function(N){var le=q.T,te={};q.T=te;try{var j=N(),Q=q.S;Q!==null&&Q(te,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(Ae,ve)}catch(xe){ve(xe)}finally{q.T=le}},qe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},qe.use=function(N){return q.H.use(N)},qe.useActionState=function(N,le,te){return q.H.useActionState(N,le,te)},qe.useCallback=function(N,le){return q.H.useCallback(N,le)},qe.useContext=function(N){return q.H.useContext(N)},qe.useDebugValue=function(){},qe.useDeferredValue=function(N,le){return q.H.useDeferredValue(N,le)},qe.useEffect=function(N,le,te){var j=q.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(N,le)},qe.useId=function(){return q.H.useId()},qe.useImperativeHandle=function(N,le,te){return q.H.useImperativeHandle(N,le,te)},qe.useInsertionEffect=function(N,le){return q.H.useInsertionEffect(N,le)},qe.useLayoutEffect=function(N,le){return q.H.useLayoutEffect(N,le)},qe.useMemo=function(N,le){return q.H.useMemo(N,le)},qe.useOptimistic=function(N,le){return q.H.useOptimistic(N,le)},qe.useReducer=function(N,le,te){return q.H.useReducer(N,le,te)},qe.useRef=function(N){return q.H.useRef(N)},qe.useState=function(N){return q.H.useState(N)},qe.useSyncExternalStore=function(N,le,te){return q.H.useSyncExternalStore(N,le,te)},qe.useTransition=function(){return q.H.useTransition()},qe.version="19.1.1",qe}var O1;function l0(){return O1||(O1=1,qm.exports=zE()),qm.exports}var ee=l0();const mt=ph(ee);var Fm={exports:{}},cu={},Hm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function UE(){return V1||(V1=1,(function(t){function e(X,fe){var ve=X.length;X.push(fe);e:for(;0<ve;){var Ae=ve-1>>>1,N=X[Ae];if(0<a(N,fe))X[Ae]=fe,X[ve]=N,ve=Ae;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var fe=X[0],ve=X.pop();if(ve!==fe){X[0]=ve;e:for(var Ae=0,N=X.length,le=N>>>1;Ae<le;){var te=2*(Ae+1)-1,j=X[te],Q=te+1,xe=X[Q];if(0>a(j,ve))Q<N&&0>a(xe,j)?(X[Ae]=xe,X[Q]=ve,Ae=Q):(X[Ae]=j,X[te]=ve,Ae=te);else if(Q<N&&0>a(xe,ve))X[Ae]=xe,X[Q]=ve,Ae=Q;else break e}}return fe}function a(X,fe){var ve=X.sortIndex-fe.sortIndex;return ve!==0?ve:X.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,b=null,_=3,w=!1,S=!1,V=!1,z=!1,F=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function $(X){for(var fe=n(p);fe!==null;){if(fe.callback===null)i(p);else if(fe.startTime<=X)i(p),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=n(p)}}function q(X){if(V=!1,$(X),!S)if(n(m)!==null)S=!0,L||(L=!0,P());else{var fe=n(p);fe!==null&&ge(q,fe.startTime-X)}}var L=!1,R=-1,C=5,M=-1;function k(){return z?!0:!(t.unstable_now()-M<C)}function I(){if(z=!1,L){var X=t.unstable_now();M=X;var fe=!0;try{e:{S=!1,V&&(V=!1,B(R),R=-1),w=!0;var ve=_;try{t:{for($(X),b=n(m);b!==null&&!(b.expirationTime>X&&k());){var Ae=b.callback;if(typeof Ae=="function"){b.callback=null,_=b.priorityLevel;var N=Ae(b.expirationTime<=X);if(X=t.unstable_now(),typeof N=="function"){b.callback=N,$(X),fe=!0;break t}b===n(m)&&i(m),$(X)}else i(m);b=n(m)}if(b!==null)fe=!0;else{var le=n(p);le!==null&&ge(q,le.startTime-X),fe=!1}}break e}finally{b=null,_=ve,w=!1}fe=void 0}}finally{fe?P():L=!1}}}var P;if(typeof U=="function")P=function(){U(I)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ae=A.port2;A.port1.onmessage=I,P=function(){ae.postMessage(null)}}else P=function(){F(I,0)};function ge(X,fe){R=F(function(){X(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(X){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var ve=_;_=fe;try{return X()}finally{_=ve}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(X,fe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ve=_;_=X;try{return fe()}finally{_=ve}},t.unstable_scheduleCallback=function(X,fe,ve){var Ae=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ae+ve:Ae):ve=Ae,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ve+N,X={id:y++,callback:fe,priorityLevel:X,startTime:ve,expirationTime:N,sortIndex:-1},ve>Ae?(X.sortIndex=ve,e(p,X),n(m)===null&&X===n(p)&&(V?(B(R),R=-1):V=!0,ge(q,ve-Ae))):(X.sortIndex=N,e(m,X),S||w||(S=!0,L||(L=!0,P()))),X},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(X){var fe=_;return function(){var ve=_;_=fe;try{return X.apply(this,arguments)}finally{_=ve}}}})($m)),$m}var P1;function BE(){return P1||(P1=1,Hm.exports=UE()),Hm.exports}var Gm={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function qE(){if(L1)return wn;L1=1;var t=l0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(m,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(m,p,null,y)},wn.flushSync=function(m){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=y,i.d.f()}},wn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},wn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},wn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:w}):y==="script"&&i.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},wn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},wn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},wn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},wn.requestFormReset=function(m){i.d.r(m)},wn.unstable_batchedUpdates=function(m,p){return m(p)},wn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},wn.version="19.1.1",wn}var z1;function FE(){if(z1)return Gm.exports;z1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gm.exports=qE(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function HE(){if(U1)return cu;U1=1;var t=BE(),e=l0(),n=FE();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,c=s;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return h(g),r;if(x===c)return h(g),s;x=x.sibling}throw Error(i(188))}if(l.return!==c.return)l=g,c=x;else{for(var T=!1,D=g.child;D;){if(D===l){T=!0,l=g,c=x;break}if(D===c){T=!0,c=g,l=x;break}D=D.sibling}if(!T){for(D=x.child;D;){if(D===l){T=!0,l=x,c=g;break}if(D===c){T=!0,c=x,l=g;break}D=D.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var A=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===A?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case z:return"Profiler";case V:return"StrictMode";case q:return"Suspense";case L:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case U:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case $:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return s=r.displayName||null,s!==null?s:ae(r.type)||"Memo";case C:s=r._payload,r=r._init;try{return ae(r(s))}catch{}}return null}var ge=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ae=[],N=-1;function le(r){return{current:r}}function te(r){0>N||(r.current=Ae[N],Ae[N]=null,N--)}function j(r,s){N++,Ae[N]=r.current,r.current=s}var Q=le(null),xe=le(null),ie=le(null),be=le(null);function Ne(r,s){switch(j(ie,s),j(xe,r),j(Q,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?a1(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=a1(s),r=l1(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}te(Q),j(Q,r)}function wt(){te(Q),te(xe),te(ie)}function jt(r){r.memoizedState!==null&&j(be,r);var s=Q.current,l=l1(s,r.type);s!==l&&(j(xe,r),j(Q,l))}function Et(r){xe.current===r&&(te(Q),te(xe)),be.current===r&&(te(be),iu._currentValue=ve)}var Wn=Object.prototype.hasOwnProperty,jn=t.unstable_scheduleCallback,Un=t.unstable_cancelCallback,Bn=t.unstable_shouldYield,Ur=t.unstable_requestPaint,Rt=t.unstable_now,Br=t.unstable_getCurrentPriorityLevel,fr=t.unstable_ImmediatePriority,qn=t.unstable_UserBlockingPriority,hr=t.unstable_NormalPriority,qs=t.unstable_LowPriority,dr=t.unstable_IdlePriority,Fn=t.log,pi=t.unstable_setDisableYieldValue,ne=null,de=null;function Ce(r){if(typeof Fn=="function"&&pi(r),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(ne,r)}catch{}}var Re=Math.clz32?Math.clz32:tn,He=Math.log,un=Math.LN2;function tn(r){return r>>>=0,r===0?32:31-(He(r)/un|0)|0}var Xt=256,bn=4194304;function zt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function St(r,s,l){var c=r.pendingLanes;if(c===0)return 0;var g=0,x=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var D=c&134217727;return D!==0?(c=D&~x,c!==0?g=zt(c):(T&=D,T!==0?g=zt(T):l||(l=D&~r,l!==0&&(g=zt(l))))):(D=c&~x,D!==0?g=zt(D):T!==0?g=zt(T):l||(l=c&~r,l!==0&&(g=zt(l)))),g===0?0:s!==0&&s!==g&&(s&x)===0&&(x=g&-g,l=s&-s,x>=l||x===32&&(l&4194048)!==0)?s:g}function vn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function cn(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fs(){var r=Xt;return Xt<<=1,(Xt&4194048)===0&&(Xt=256),r}function Hs(){var r=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),r}function kr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function jr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function $s(r,s,l,c,g,x){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var D=r.entanglements,H=r.expirationTimes,J=r.hiddenUpdates;for(l=T&~l;0<l;){var ue=31-Re(l),me=1<<ue;D[ue]=0,H[ue]=-1;var W=J[ue];if(W!==null)for(J[ue]=null,ue=0;ue<W.length;ue++){var re=W[ue];re!==null&&(re.lane&=-536870913)}l&=~me}c!==0&&mr(r,c,0),x!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=x&~(T&~s))}function mr(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Re(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function Gs(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-Re(l),g=1<<c;g&s|r[c]&s&&(r[c]|=s),l&=~g}}function Rr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function gi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function qr(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:S1(r.type))}function Fa(r,s){var l=fe.p;try{return fe.p=r,s()}finally{fe.p=l}}var xt=Math.random().toString(36).slice(2),yt="__reactFiber$"+xt,oe="__reactProps$"+xt,ze="__reactContainer$"+xt,Tt="__reactEvents$"+xt,Ys="__reactListeners$"+xt,Ki="__reactHandles$"+xt,oc="__reactResources$"+xt,Qs="__reactMarker$"+xt;function Zi(r){delete r[yt],delete r[oe],delete r[Tt],delete r[Ys],delete r[Ki]}function xi(r){var s=r[yt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[ze]||l[yt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=f1(r);r!==null;){if(l=r[yt])return l;r=f1(r)}return s}r=l,l=r.parentNode}return null}function Fr(r){if(r=r[yt]||r[ze]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Hr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Rn(r){var s=r[oc];return s||(s=r[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(r){r[Qs]=!0}var uo=new Set,Ha={};function Dr(r,s){yi(r,s),yi(r+"Capture",s)}function yi(r,s){for(Ha[r]=s,r=0;r<s.length;r++)uo.add(s[r])}var uc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cc={},Xs={};function fc(r){return Wn.call(Xs,r)?!0:Wn.call(cc,r)?!1:uc.test(r)?Xs[r]=!0:(cc[r]=!0,!1)}function Ji(r,s,l){if(fc(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function $r(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function fn(r,s,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+c)}}var Ks,hc;function bi(r){if(Ks===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ks=s&&s[1]||"",hc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+r+hc}var $a=!1;function Ga(r,s){if(!r||$a)return"";$a=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(re){var W=re}Reflect.construct(r,[],me)}else{try{me.call()}catch(re){W=re}r.call(me.prototype)}}else{try{throw Error()}catch(re){W=re}(me=r())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(re){if(re&&W&&typeof re.stack=="string")return[re.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=c.DetermineComponentFrameRoot(),T=x[0],D=x[1];if(T&&D){var H=T.split(`
`),J=D.split(`
`);for(g=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(c===H.length||g===J.length)for(c=H.length-1,g=J.length-1;1<=c&&0<=g&&H[c]!==J[g];)g--;for(;1<=c&&0<=g;c--,g--)if(H[c]!==J[g]){if(c!==1||g!==1)do if(c--,g--,0>g||H[c]!==J[g]){var ue=`
`+H[c].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=c&&0<=g);break}}}finally{$a=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?bi(l):""}function co(r){switch(r.tag){case 26:case 27:case 5:return bi(r.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Ga(r.type,!1);case 11:return Ga(r.type.render,!1);case 1:return Ga(r.type,!0);case 31:return bi("Activity");default:return""}}function Ya(r){try{var s="";do s+=co(r),r=r.return;while(r);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function fo(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $h(r){var s=fo(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,x=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return g.call(this)},set:function(T){c=""+T,x.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Qa(r){r._valueTracker||(r._valueTracker=$h(r))}function ho(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=fo(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function Zs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Gh=/[\n"\\]/g;function Ut(r){return r.replace(Gh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function er(r,s,l,c,g,x,T,D){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Dn(s)):r.value!==""+Dn(s)&&(r.value=""+Dn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Wi(r,T,Dn(s)):l!=null?Wi(r,T,Dn(l)):c!=null&&r.removeAttribute("value"),g==null&&x!=null&&(r.defaultChecked=!!x),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Dn(D):r.removeAttribute("name")}function Js(r,s,l,c,g,x,T,D){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),s!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||s!=null))return;l=l!=null?""+Dn(l):"",s=s!=null?""+Dn(s):l,D||s===r.value||(r.value=s),r.defaultValue=s}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=D?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Wi(r,s,l){s==="number"&&Zs(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function vi(r,s,l,c){if(r=r.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=s.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Dn(l),s=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,c&&(r[g].defaultSelected=!0);return}s!==null||r[g].disabled||(s=r[g])}s!==null&&(s.selected=!0)}}function ct(r,s,l){if(s!=null&&(s=""+Dn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+Dn(l):""}function Ws(r,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(ge(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Dn(s),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function pr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(r,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,l):typeof l!="number"||l===0||ea.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function mo(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var g in s)c=s[g],s.hasOwnProperty(g)&&l[g]!==c&&dc(r,g,c)}else for(var x in s)s.hasOwnProperty(x)&&dc(r,x,s[x])}function po(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(r){return Qh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _i=null;function gr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var wi=null,Ei=null;function go(r){var s=Fr(r);if(s&&(r=s.stateNode)){var l=r[oe]||null;e:switch(r=s.stateNode,s.type){case"input":if(er(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ut(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var g=c[oe]||null;if(!g)throw Error(i(90));er(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===r.form&&ho(c)}break e;case"textarea":ct(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&vi(r,!!l.multiple,s,!1)}}}var Gr=!1;function mc(r,s,l){if(Gr)return r(s,l);Gr=!0;try{var c=r(s);return c}finally{if(Gr=!1,(wi!==null||Ei!==null)&&(of(),wi&&(s=wi,r=Ei,Ei=wi=null,go(s),r)))for(s=0;s<r.length;s++)go(r[s])}}function ta(r,s){var l=r.stateNode;if(l===null)return null;var c=l[oe]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(Ir)try{var na={};Object.defineProperty(na,"passive",{get:function(){xr=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{xr=!1}var Yr=null,es=null,Ti=null;function xo(){if(Ti)return Ti;var r,s=es,l=s.length,c,g="value"in Yr?Yr.value:Yr.textContent,x=g.length;for(r=0;r<l&&s[r]===g[r];r++);var T=l-r;for(c=1;c<=T&&s[l-c]===g[x-c];c++);return Ti=g.slice(r,1<c?1-c:void 0)}function Qr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xr(){return!0}function yo(){return!1}function nn(r){function s(l,c,g,x,T){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(x):x[D]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Xr:yo,this.isPropagationStopped=yo,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),s}var at={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=nn(at),ra=y({},at,{view:0,detail:0}),pc=nn(ra),Za,Ja,Kr,ia=y({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Kr&&(Kr&&r.type==="mousemove"?(Za=r.screenX-Kr.screenX,Ja=r.screenY-Kr.screenY):Ja=Za=0,Kr=r),Za)},movementY:function(r){return"movementY"in r?r.movementY:Ja}}),yr=nn(ia),gc=y({},ia,{dataTransfer:0}),Xh=nn(gc),sa=y({},ra,{relatedTarget:0}),Wa=nn(sa),bo=y({},at,{animationName:0,elapsedTime:0,pseudoElement:0}),el=nn(bo),xc=y({},at,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tl=nn(xc),Kh=y({},at,{data:0}),vo=nn(Kh),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _o(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=bc[r])?!!s[r]:!1}function la(){return _o}var vc=y({},ra,{key:function(r){if(r.key){var s=aa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?yc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(r){return r.type==="keypress"?Qr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),nl=nn(vc),_c=y({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wo=nn(_c),Ni=y({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),wc=nn(Ni),Ec=y({},at,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tc=nn(Ec),Nc=y({},ia,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),rl=nn(Nc),In=y({},at,{newState:0,oldState:0}),Sc=nn(In),Ac=[9,13,27,32],Zr=Ir&&"CompositionEvent"in window,d=null;Ir&&"documentMode"in document&&(d=document.documentMode);var v=Ir&&"TextEvent"in window&&!d,E=Ir&&(!Zr||d&&8<d&&11>=d),O=" ",K=!1;function se(r,s){switch(r){case"keyup":return Ac.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Je=!1;function Kt(r,s){switch(r){case"compositionend":return _e(s);case"keypress":return s.which!==32?null:(K=!0,O);case"textInput":return r=s.data,r===O&&K?null:r;default:return null}}function We(r,s){if(Je)return r==="compositionend"||!Zr&&se(r,s)?(r=xo(),Ti=es=Yr=null,Je=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!rn[r.type]:s==="textarea"}function Si(r,s,l,c){wi?Ei?Ei.push(c):Ei=[c]:wi=c,s=mf(s,"onChange"),0<s.length&&(l=new Ka("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var hn=null,Jr=null;function Eo(r){t1(r,0)}function Cc(r){var s=Hr(r);if(ho(s))return r}function wg(r,s){if(r==="change")return s}var Eg=!1;if(Ir){var Zh;if(Ir){var Jh="oninput"in document;if(!Jh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Jh=typeof Tg.oninput=="function"}Zh=Jh}else Zh=!1;Eg=Zh&&(!document.documentMode||9<document.documentMode)}function Ng(){hn&&(hn.detachEvent("onpropertychange",Sg),Jr=hn=null)}function Sg(r){if(r.propertyName==="value"&&Cc(Jr)){var s=[];Si(s,Jr,r,gr(r)),mc(Eo,s)}}function d4(r,s,l){r==="focusin"?(Ng(),hn=s,Jr=l,hn.attachEvent("onpropertychange",Sg)):r==="focusout"&&Ng()}function m4(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Cc(Jr)}function p4(r,s){if(r==="click")return Cc(s)}function g4(r,s){if(r==="input"||r==="change")return Cc(s)}function x4(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var tr=typeof Object.is=="function"?Object.is:x4;function To(r,s){if(tr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Wn.call(s,g)||!tr(r[g],s[g]))return!1}return!0}function Ag(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cg(r,s){var l=Ag(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ag(l)}}function kg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?kg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function jg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Zs(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Zs(r.document)}return s}function Wh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var y4=Ir&&"documentMode"in document&&11>=document.documentMode,il=null,ed=null,No=null,td=!1;function Rg(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;td||il==null||il!==Zs(c)||(c=il,"selectionStart"in c&&Wh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),No&&To(No,c)||(No=c,c=mf(ed,"onSelect"),0<c.length&&(s=new Ka("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=il)))}function oa(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var sl={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},nd={},Dg={};Ir&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function ua(r){if(nd[r])return nd[r];if(!sl[r])return r;var s=sl[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Dg)return nd[r]=s[l];return r}var Ig=ua("animationend"),Mg=ua("animationiteration"),Og=ua("animationstart"),b4=ua("transitionrun"),v4=ua("transitionstart"),_4=ua("transitioncancel"),Vg=ua("transitionend"),Pg=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function Mr(r,s){Pg.set(r,s),Dr(s,[r])}var Lg=new WeakMap;function br(r,s){if(typeof r=="object"&&r!==null){var l=Lg.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Ya(s)},Lg.set(r,s),s)}return{value:r,source:s,stack:Ya(s)}}var vr=[],al=0,id=0;function kc(){for(var r=al,s=id=al=0;s<r;){var l=vr[s];vr[s++]=null;var c=vr[s];vr[s++]=null;var g=vr[s];vr[s++]=null;var x=vr[s];if(vr[s++]=null,c!==null&&g!==null){var T=c.pending;T===null?g.next=g:(g.next=T.next,T.next=g),c.pending=g}x!==0&&zg(l,g,x)}}function jc(r,s,l,c){vr[al++]=r,vr[al++]=s,vr[al++]=l,vr[al++]=c,id|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function sd(r,s,l,c){return jc(r,s,l,c),Rc(r)}function ll(r,s){return jc(r,null,null,s),Rc(r)}function zg(r,s,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var g=!1,x=r.return;x!==null;)x.childLanes|=l,c=x.alternate,c!==null&&(c.childLanes|=l),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(g=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,g&&s!==null&&(g=31-Re(l),r=x.hiddenUpdates,c=r[g],c===null?r[g]=[s]:c.push(s),s.lane=l|536870912),x):null}function Rc(r){if(50<Ko)throw Ko=0,fm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ol={};function w4(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(r,s,l,c){return new w4(r,s,l,c)}function ad(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ai(r,s){var l=r.alternate;return l===null?(l=nr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Ug(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Dc(r,s,l,c,g,x){var T=0;if(c=r,typeof r=="function")ad(r)&&(T=1);else if(typeof r=="string")T=TE(r,l,Q.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=nr(31,l,s,g),r.elementType=M,r.lanes=x,r;case S:return ca(l.children,g,x,s);case V:T=8,g|=24;break;case z:return r=nr(12,l,s,g|2),r.elementType=z,r.lanes=x,r;case q:return r=nr(13,l,s,g),r.elementType=q,r.lanes=x,r;case L:return r=nr(19,l,s,g),r.elementType=L,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:case U:T=10;break e;case B:T=9;break e;case $:T=11;break e;case R:T=14;break e;case C:T=16,c=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=nr(T,l,s,g),s.elementType=r,s.type=c,s.lanes=x,s}function ca(r,s,l,c){return r=nr(7,r,c,s),r.lanes=l,r}function ld(r,s,l){return r=nr(6,r,null,s),r.lanes=l,r}function od(r,s,l){return s=nr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ul=[],cl=0,Ic=null,Mc=0,_r=[],wr=0,fa=null,Ci=1,ki="";function ha(r,s){ul[cl++]=Mc,ul[cl++]=Ic,Ic=r,Mc=s}function Bg(r,s,l){_r[wr++]=Ci,_r[wr++]=ki,_r[wr++]=fa,fa=r;var c=Ci;r=ki;var g=32-Re(c)-1;c&=~(1<<g),l+=1;var x=32-Re(s)+g;if(30<x){var T=g-g%5;x=(c&(1<<T)-1).toString(32),c>>=T,g-=T,Ci=1<<32-Re(s)+g|l<<g|c,ki=x+r}else Ci=1<<x|l<<g|c,ki=r}function ud(r){r.return!==null&&(ha(r,1),Bg(r,1,0))}function cd(r){for(;r===Ic;)Ic=ul[--cl],ul[cl]=null,Mc=ul[--cl],ul[cl]=null;for(;r===fa;)fa=_r[--wr],_r[wr]=null,ki=_r[--wr],_r[wr]=null,Ci=_r[--wr],_r[wr]=null}var Mn=null,Dt=null,st=!1,da=null,Wr=!1,fd=Error(i(519));function ma(r){var s=Error(i(418,""));throw Co(br(s,r)),fd}function qg(r){var s=r.stateNode,l=r.type,c=r.memoizedProps;switch(s[yt]=r,s[oe]=c,l){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Qe(Jo[l],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),Js(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Qa(s);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),Ws(s,c.value,c.defaultValue,c.children),Qa(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||s1(s.textContent,l)?(c.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),c.onScroll!=null&&Qe("scroll",s),c.onScrollEnd!=null&&Qe("scrollend",s),c.onClick!=null&&(s.onclick=pf),s=!0):s=!1,s||ma(r)}function Fg(r){for(Mn=r.return;Mn;)switch(Mn.tag){case 5:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Mn=Mn.return}}function So(r){if(r!==Mn)return!1;if(!st)return Fg(r),st=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Am(r.type,r.memoizedProps)),l=!l),l&&Dt&&ma(r),Fg(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(s===0){Dt=Vr(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;r=r.nextSibling}Dt=null}}else s===27?(s=Dt,gs(r.type)?(r=Rm,Rm=null,Dt=r):Dt=s):Dt=Mn?Vr(r.stateNode.nextSibling):null;return!0}function Ao(){Dt=Mn=null,st=!1}function Hg(){var r=da;return r!==null&&(Gn===null?Gn=r:Gn.push.apply(Gn,r),da=null),r}function Co(r){da===null?da=[r]:da.push(r)}var hd=le(null),pa=null,ji=null;function ts(r,s,l){j(hd,s._currentValue),s._currentValue=l}function Ri(r){r._currentValue=hd.current,te(hd)}function dd(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function md(r,s,l,c){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var x=g.dependencies;if(x!==null){var T=g.child;x=x.firstContext;e:for(;x!==null;){var D=x;x=g;for(var H=0;H<s.length;H++)if(D.context===s[H]){x.lanes|=l,D=x.alternate,D!==null&&(D.lanes|=l),dd(x.return,l,r),c||(T=null);break e}x=D.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(i(341));T.lanes|=l,x=T.alternate,x!==null&&(x.lanes|=l),dd(T,l,r),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===r){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function ko(r,s,l,c){r=null;for(var g=s,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var D=g.type;tr(g.pendingProps.value,T.value)||(r!==null?r.push(D):r=[D])}}else if(g===be.current){if(T=g.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(iu):r=[iu])}g=g.return}r!==null&&md(s,r,l,c),s.flags|=262144}function Oc(r){for(r=r.firstContext;r!==null;){if(!tr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ga(r){pa=r,ji=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function _n(r){return $g(pa,r)}function Vc(r,s){return pa===null&&ga(r),$g(r,s)}function $g(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ji===null){if(r===null)throw Error(i(308));ji=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ji=ji.next=s;return l}var E4=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},T4=t.unstable_scheduleCallback,N4=t.unstable_NormalPriority,Jt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new E4,data:new Map,refCount:0}}function jo(r){r.refCount--,r.refCount===0&&T4(N4,function(){r.controller.abort()})}var Ro=null,gd=0,fl=0,hl=null;function S4(r,s){if(Ro===null){var l=Ro=[];gd=0,fl=ym(),hl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return gd++,s.then(Gg,Gg),s}function Gg(){if(--gd===0&&Ro!==null){hl!==null&&(hl.status="fulfilled");var r=Ro;Ro=null,fl=0,hl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function A4(r,s){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var Yg=X.S;X.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&S4(r,s),Yg!==null&&Yg(r,s)};var xa=le(null);function xd(){var r=xa.current;return r!==null?r:bt.pooledCache}function Pc(r,s){s===null?j(xa,xa.current):j(xa,s.pool)}function Qg(){var r=xd();return r===null?null:{parent:Jt._currentValue,pool:r}}var Do=Error(i(460)),Xg=Error(i(474)),Lc=Error(i(542)),yd={then:function(){}};function Kg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function zc(){}function Zg(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(zc,zc),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Wg(r),r;default:if(typeof s.status=="string")s.then(zc,zc);else{if(r=bt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=c}},function(c){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Wg(r),r}throw Io=s,Do}}var Io=null;function Jg(){if(Io===null)throw Error(i(459));var r=Io;return Io=null,r}function Wg(r){if(r===Do||r===Lc)throw Error(i(483))}var ns=!1;function bd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function rs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function is(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var g=c.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),c.pending=s,s=Rc(r),zg(r,null,l),s}return jc(r,c,s,l),Rc(r)}function Mo(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Gs(r,l)}}function _d(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=T:x=x.next=T,l=l.next}while(l!==null);x===null?g=x=s:x=x.next=s}else g=x=s;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var wd=!1;function Oo(){if(wd){var r=hl;if(r!==null)throw r}}function Vo(r,s,l,c){wd=!1;var g=r.updateQueue;ns=!1;var x=g.firstBaseUpdate,T=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var H=D,J=H.next;H.next=null,T===null?x=J:T.next=J,T=H;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,D=ue.lastBaseUpdate,D!==T&&(D===null?ue.firstBaseUpdate=J:D.next=J,ue.lastBaseUpdate=H))}if(x!==null){var me=g.baseState;T=0,ue=J=H=null,D=x;do{var W=D.lane&-536870913,re=W!==D.lane;if(re?(et&W)===W:(c&W)===W){W!==0&&W===fl&&(wd=!0),ue!==null&&(ue=ue.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Le=r,Me=D;W=s;var dt=l;switch(Me.tag){case 1:if(Le=Me.payload,typeof Le=="function"){me=Le.call(dt,me,W);break e}me=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Me.payload,W=typeof Le=="function"?Le.call(dt,me,W):Le,W==null)break e;me=y({},me,W);break e;case 2:ns=!0}}W=D.callback,W!==null&&(r.flags|=64,re&&(r.flags|=8192),re=g.callbacks,re===null?g.callbacks=[W]:re.push(W))}else re={lane:W,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ue===null?(J=ue=re,H=me):ue=ue.next=re,T|=W;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;re=D,D=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);ue===null&&(H=me),g.baseState=H,g.firstBaseUpdate=J,g.lastBaseUpdate=ue,x===null&&(g.shared.lanes=0),hs|=T,r.lanes=T,r.memoizedState=me}}function ex(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function tx(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)ex(l[r],s)}var dl=le(null),Uc=le(0);function nx(r,s){r=Li,j(Uc,r),j(dl,s),Li=r|s.baseLanes}function Ed(){j(Uc,Li),j(dl,dl.current)}function Td(){Li=Uc.current,te(dl),te(Uc)}var ss=0,$e=null,ft=null,Bt=null,Bc=!1,ml=!1,ya=!1,qc=0,Po=0,pl=null,C4=0;function Vt(){throw Error(i(321))}function Nd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!tr(r[l],s[l]))return!1;return!0}function Sd(r,s,l,c,g,x){return ss=x,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=r===null||r.memoizedState===null?zx:Ux,ya=!1,x=l(c,g),ya=!1,ml&&(x=ix(s,l,c,g)),rx(r),x}function rx(r){X.H=Qc;var s=ft!==null&&ft.next!==null;if(ss=0,Bt=ft=$e=null,Bc=!1,Po=0,pl=null,s)throw Error(i(300));r===null||sn||(r=r.dependencies,r!==null&&Oc(r)&&(sn=!0))}function ix(r,s,l,c){$e=r;var g=0;do{if(ml&&(pl=null),Po=0,ml=!1,25<=g)throw Error(i(301));if(g+=1,Bt=ft=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}X.H=O4,x=s(l,c)}while(ml);return x}function k4(){var r=X.H,s=r.useState()[0];return s=typeof s.then=="function"?Lo(s):s,r=r.useState()[0],(ft!==null?ft.memoizedState:null)!==r&&($e.flags|=1024),s}function Ad(){var r=qc!==0;return qc=0,r}function Cd(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function kd(r){if(Bc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bc=!1}ss=0,Bt=ft=$e=null,ml=!1,Po=qc=0,pl=null}function Hn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?$e.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function qt(){if(ft===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=ft.next;var s=Bt===null?$e.memoizedState:Bt.next;if(s!==null)Bt=s,ft=r;else{if(r===null)throw $e.alternate===null?Error(i(467)):Error(i(310));ft=r,r={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Bt===null?$e.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(r){var s=Po;return Po+=1,pl===null&&(pl=[]),r=Zg(pl,r,s),s=$e,(Bt===null?s.memoizedState:Bt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?zx:Ux),r}function Fc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Lo(r);if(r.$$typeof===U)return _n(r)}throw Error(i(438,String(r)))}function Rd(r){var s=null,l=$e.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=$e.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=jd(),$e.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),c=0;c<r;c++)l[c]=k;return s.index++,l}function Di(r,s){return typeof s=="function"?s(r):s}function Hc(r){var s=qt();return Dd(s,ft,r)}function Dd(r,s,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var g=r.baseQueue,x=c.pending;if(x!==null){if(g!==null){var T=g.next;g.next=x.next,x.next=T}s.baseQueue=g=x,c.pending=null}if(x=r.baseState,g===null)r.memoizedState=x;else{s=g.next;var D=T=null,H=null,J=s,ue=!1;do{var me=J.lane&-536870913;if(me!==J.lane?(et&me)===me:(ss&me)===me){var W=J.revertLane;if(W===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),me===fl&&(ue=!0);else if((ss&W)===W){J=J.next,W===fl&&(ue=!0);continue}else me={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(D=H=me,T=x):H=H.next=me,$e.lanes|=W,hs|=W;me=J.action,ya&&l(x,me),x=J.hasEagerState?J.eagerState:l(x,me)}else W={lane:me,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(D=H=W,T=x):H=H.next=W,$e.lanes|=me,hs|=me;J=J.next}while(J!==null&&J!==s);if(H===null?T=x:H.next=D,!tr(x,r.memoizedState)&&(sn=!0,ue&&(l=hl,l!==null)))throw l;r.memoizedState=x,r.baseState=T,r.baseQueue=H,c.lastRenderedState=x}return g===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Id(r){var s=qt(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,g=l.pending,x=s.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do x=r(x,T.action),T=T.next;while(T!==g);tr(x,s.memoizedState)||(sn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,c]}function sx(r,s,l){var c=$e,g=qt(),x=st;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=s();var T=!tr((ft||g).memoizedState,l);T&&(g.memoizedState=l,sn=!0),g=g.queue;var D=ox.bind(null,c,g,r);if(zo(2048,8,D,[r]),g.getSnapshot!==s||T||Bt!==null&&Bt.memoizedState.tag&1){if(c.flags|=2048,gl(9,$c(),lx.bind(null,c,g,l,s),null),bt===null)throw Error(i(349));x||(ss&124)!==0||ax(c,s,l)}return l}function ax(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=$e.updateQueue,s===null?(s=jd(),$e.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function lx(r,s,l,c){s.value=l,s.getSnapshot=c,ux(s)&&cx(r)}function ox(r,s,l){return l(function(){ux(s)&&cx(r)})}function ux(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!tr(r,l)}catch{return!0}}function cx(r){var s=ll(r,2);s!==null&&lr(s,r,2)}function Md(r){var s=Hn();if(typeof r=="function"){var l=r;if(r=l(),ya){Ce(!0);try{l()}finally{Ce(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},s}function fx(r,s,l,c){return r.baseState=l,Dd(r,ft,typeof c=="function"?c:Di)}function j4(r,s,l,c,g){if(Yc(r))throw Error(i(485));if(r=s.action,r!==null){var x={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){x.listeners.push(T)}};X.T!==null?l(!0):x.isTransition=!1,c(x),l=s.pending,l===null?(x.next=s.pending=x,hx(s,x)):(x.next=l.next,s.pending=l.next=x)}}function hx(r,s){var l=s.action,c=s.payload,g=r.state;if(s.isTransition){var x=X.T,T={};X.T=T;try{var D=l(g,c),H=X.S;H!==null&&H(T,D),dx(r,s,D)}catch(J){Od(r,s,J)}finally{X.T=x}}else try{x=l(g,c),dx(r,s,x)}catch(J){Od(r,s,J)}}function dx(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){mx(r,s,c)},function(c){return Od(r,s,c)}):mx(r,s,l)}function mx(r,s,l){s.status="fulfilled",s.value=l,px(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,hx(r,l)))}function Od(r,s,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,px(s),s=s.next;while(s!==c)}r.action=null}function px(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function gx(r,s){return s}function xx(r,s){if(st){var l=bt.formState;if(l!==null){e:{var c=$e;if(st){if(Dt){t:{for(var g=Dt,x=Wr;g.nodeType!==8;){if(!x){g=null;break t}if(g=Vr(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Dt=Vr(g.nextSibling),c=g.data==="F!";break e}}ma(c)}c=!1}c&&(s=l[0])}}return l=Hn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gx,lastRenderedState:s},l.queue=c,l=Vx.bind(null,$e,c),c.dispatch=l,c=Md(!1),x=Ud.bind(null,$e,!1,c.queue),c=Hn(),g={state:s,dispatch:null,action:r,pending:null},c.queue=g,l=j4.bind(null,$e,g,x,l),g.dispatch=l,c.memoizedState=r,[s,l,!1]}function yx(r){var s=qt();return bx(s,ft,r)}function bx(r,s,l){if(s=Dd(r,s,gx)[0],r=Hc(Di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Lo(s)}catch(T){throw T===Do?Lc:T}else c=s;s=qt();var g=s.queue,x=g.dispatch;return l!==s.memoizedState&&($e.flags|=2048,gl(9,$c(),R4.bind(null,g,l),null)),[c,x,r]}function R4(r,s){r.action=s}function vx(r){var s=qt(),l=ft;if(l!==null)return bx(s,l,r);qt(),s=s.memoizedState,l=qt();var c=l.queue.dispatch;return l.memoizedState=r,[s,c,!1]}function gl(r,s,l,c){return r={tag:r,create:l,deps:c,inst:s,next:null},s=$e.updateQueue,s===null&&(s=jd(),$e.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r),r}function $c(){return{destroy:void 0,resource:void 0}}function _x(){return qt().memoizedState}function Gc(r,s,l,c){var g=Hn();c=c===void 0?null:c,$e.flags|=r,g.memoizedState=gl(1|s,$c(),l,c)}function zo(r,s,l,c){var g=qt();c=c===void 0?null:c;var x=g.memoizedState.inst;ft!==null&&c!==null&&Nd(c,ft.memoizedState.deps)?g.memoizedState=gl(s,x,l,c):($e.flags|=r,g.memoizedState=gl(1|s,x,l,c))}function wx(r,s){Gc(8390656,8,r,s)}function Ex(r,s){zo(2048,8,r,s)}function Tx(r,s){return zo(4,2,r,s)}function Nx(r,s){return zo(4,4,r,s)}function Sx(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ax(r,s,l){l=l!=null?l.concat([r]):null,zo(4,4,Sx.bind(null,s,r),l)}function Vd(){}function Cx(r,s){var l=qt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Nd(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function kx(r,s){var l=qt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Nd(s,c[1]))return c[0];if(c=r(),ya){Ce(!0);try{r()}finally{Ce(!1)}}return l.memoizedState=[c,s],c}function Pd(r,s,l){return l===void 0||(ss&1073741824)!==0?r.memoizedState=s:(r.memoizedState=l,r=Dy(),$e.lanes|=r,hs|=r,l)}function jx(r,s,l,c){return tr(l,s)?l:dl.current!==null?(r=Pd(r,l,c),tr(r,s)||(sn=!0),r):(ss&42)===0?(sn=!0,r.memoizedState=l):(r=Dy(),$e.lanes|=r,hs|=r,s)}function Rx(r,s,l,c,g){var x=fe.p;fe.p=x!==0&&8>x?x:8;var T=X.T,D={};X.T=D,Ud(r,!1,s,l);try{var H=g(),J=X.S;if(J!==null&&J(D,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ue=A4(H,c);Uo(r,s,ue,ar(r))}else Uo(r,s,c,ar(r))}catch(me){Uo(r,s,{then:function(){},status:"rejected",reason:me},ar())}finally{fe.p=x,X.T=T}}function D4(){}function Ld(r,s,l,c){if(r.tag!==5)throw Error(i(476));var g=Dx(r).queue;Rx(r,g,s,ve,l===null?D4:function(){return Ix(r),l(c)})}function Dx(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ve},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Ix(r){var s=Dx(r).next.queue;Uo(r,s,{},ar())}function zd(){return _n(iu)}function Mx(){return qt().memoizedState}function Ox(){return qt().memoizedState}function I4(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=ar();r=rs(l);var c=is(s,r,l);c!==null&&(lr(c,s,l),Mo(c,s,l)),s={cache:pd()},r.payload=s;return}s=s.return}}function M4(r,s,l){var c=ar();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Yc(r)?Px(s,l):(l=sd(r,s,l,c),l!==null&&(lr(l,r,c),Lx(l,s,c)))}function Vx(r,s,l){var c=ar();Uo(r,s,l,c)}function Uo(r,s,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yc(r))Px(s,g);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var T=s.lastRenderedState,D=x(T,l);if(g.hasEagerState=!0,g.eagerState=D,tr(D,T))return jc(r,s,g,0),bt===null&&kc(),!1}catch{}finally{}if(l=sd(r,s,g,c),l!==null)return lr(l,r,c),Lx(l,s,c),!0}return!1}function Ud(r,s,l,c){if(c={lane:2,revertLane:ym(),action:c,hasEagerState:!1,eagerState:null,next:null},Yc(r)){if(s)throw Error(i(479))}else s=sd(r,l,c,2),s!==null&&lr(s,r,2)}function Yc(r){var s=r.alternate;return r===$e||s!==null&&s===$e}function Px(r,s){ml=Bc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Lx(r,s,l){if((l&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Gs(r,l)}}var Qc={readContext:_n,use:Fc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},zx={readContext:_n,use:Fc,useCallback:function(r,s){return Hn().memoizedState=[r,s===void 0?null:s],r},useContext:_n,useEffect:wx,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,Gc(4194308,4,Sx.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Gc(4194308,4,r,s)},useInsertionEffect:function(r,s){Gc(4,2,r,s)},useMemo:function(r,s){var l=Hn();s=s===void 0?null:s;var c=r();if(ya){Ce(!0);try{r()}finally{Ce(!1)}}return l.memoizedState=[c,s],c},useReducer:function(r,s,l){var c=Hn();if(l!==void 0){var g=l(s);if(ya){Ce(!0);try{l(s)}finally{Ce(!1)}}}else g=s;return c.memoizedState=c.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},c.queue=r,r=r.dispatch=M4.bind(null,$e,r),[c.memoizedState,r]},useRef:function(r){var s=Hn();return r={current:r},s.memoizedState=r},useState:function(r){r=Md(r);var s=r.queue,l=Vx.bind(null,$e,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:Vd,useDeferredValue:function(r,s){var l=Hn();return Pd(l,r,s)},useTransition:function(){var r=Md(!1);return r=Rx.bind(null,$e,r.queue,!0,!1),Hn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var c=$e,g=Hn();if(st){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),bt===null)throw Error(i(349));(et&124)!==0||ax(c,s,l)}g.memoizedState=l;var x={value:l,getSnapshot:s};return g.queue=x,wx(ox.bind(null,c,x,r),[r]),c.flags|=2048,gl(9,$c(),lx.bind(null,c,x,l,s),null),l},useId:function(){var r=Hn(),s=bt.identifierPrefix;if(st){var l=ki,c=Ci;l=(c&~(1<<32-Re(c)-1)).toString(32)+l,s=""+s+"R"+l,l=qc++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=C4++,s=""+s+"r"+l.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:zd,useFormState:xx,useActionState:xx,useOptimistic:function(r){var s=Hn();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Ud.bind(null,$e,!0,l),l.dispatch=s,[r,s]},useMemoCache:Rd,useCacheRefresh:function(){return Hn().memoizedState=I4.bind(null,$e)}},Ux={readContext:_n,use:Fc,useCallback:Cx,useContext:_n,useEffect:Ex,useImperativeHandle:Ax,useInsertionEffect:Tx,useLayoutEffect:Nx,useMemo:kx,useReducer:Hc,useRef:_x,useState:function(){return Hc(Di)},useDebugValue:Vd,useDeferredValue:function(r,s){var l=qt();return jx(l,ft.memoizedState,r,s)},useTransition:function(){var r=Hc(Di)[0],s=qt().memoizedState;return[typeof r=="boolean"?r:Lo(r),s]},useSyncExternalStore:sx,useId:Mx,useHostTransitionStatus:zd,useFormState:yx,useActionState:yx,useOptimistic:function(r,s){var l=qt();return fx(l,ft,r,s)},useMemoCache:Rd,useCacheRefresh:Ox},O4={readContext:_n,use:Fc,useCallback:Cx,useContext:_n,useEffect:Ex,useImperativeHandle:Ax,useInsertionEffect:Tx,useLayoutEffect:Nx,useMemo:kx,useReducer:Id,useRef:_x,useState:function(){return Id(Di)},useDebugValue:Vd,useDeferredValue:function(r,s){var l=qt();return ft===null?Pd(l,r,s):jx(l,ft.memoizedState,r,s)},useTransition:function(){var r=Id(Di)[0],s=qt().memoizedState;return[typeof r=="boolean"?r:Lo(r),s]},useSyncExternalStore:sx,useId:Mx,useHostTransitionStatus:zd,useFormState:vx,useActionState:vx,useOptimistic:function(r,s){var l=qt();return ft!==null?fx(l,ft,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:Ox},xl=null,Bo=0;function Xc(r){var s=Bo;return Bo+=1,xl===null&&(xl=[]),Zg(xl,r,s)}function qo(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Kc(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Bx(r){var s=r._init;return s(r._payload)}function qx(r){function s(Y,G){if(r){var Z=Y.deletions;Z===null?(Y.deletions=[G],Y.flags|=16):Z.push(G)}}function l(Y,G){if(!r)return null;for(;G!==null;)s(Y,G),G=G.sibling;return null}function c(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function g(Y,G){return Y=Ai(Y,G),Y.index=0,Y.sibling=null,Y}function x(Y,G,Z){return Y.index=Z,r?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<G?(Y.flags|=67108866,G):Z):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function T(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,G,Z,he){return G===null||G.tag!==6?(G=ld(Z,Y.mode,he),G.return=Y,G):(G=g(G,Z),G.return=Y,G)}function H(Y,G,Z,he){var Se=Z.type;return Se===S?ue(Y,G,Z.props.children,he,Z.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&Bx(Se)===G.type)?(G=g(G,Z.props),qo(G,Z),G.return=Y,G):(G=Dc(Z.type,Z.key,Z.props,null,Y.mode,he),qo(G,Z),G.return=Y,G)}function J(Y,G,Z,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=od(Z,Y.mode,he),G.return=Y,G):(G=g(G,Z.children||[]),G.return=Y,G)}function ue(Y,G,Z,he,Se){return G===null||G.tag!==7?(G=ca(Z,Y.mode,he,Se),G.return=Y,G):(G=g(G,Z),G.return=Y,G)}function me(Y,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=ld(""+G,Y.mode,Z),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return Z=Dc(G.type,G.key,G.props,null,Y.mode,Z),qo(Z,G),Z.return=Y,Z;case w:return G=od(G,Y.mode,Z),G.return=Y,G;case C:var he=G._init;return G=he(G._payload),me(Y,G,Z)}if(ge(G)||P(G))return G=ca(G,Y.mode,Z,null),G.return=Y,G;if(typeof G.then=="function")return me(Y,Xc(G),Z);if(G.$$typeof===U)return me(Y,Vc(Y,G),Z);Kc(Y,G)}return null}function W(Y,G,Z,he){var Se=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:D(Y,G,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return Z.key===Se?H(Y,G,Z,he):null;case w:return Z.key===Se?J(Y,G,Z,he):null;case C:return Se=Z._init,Z=Se(Z._payload),W(Y,G,Z,he)}if(ge(Z)||P(Z))return Se!==null?null:ue(Y,G,Z,he,null);if(typeof Z.then=="function")return W(Y,G,Xc(Z),he);if(Z.$$typeof===U)return W(Y,G,Vc(Y,Z),he);Kc(Y,Z)}return null}function re(Y,G,Z,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Y=Y.get(Z)||null,D(G,Y,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return Y=Y.get(he.key===null?Z:he.key)||null,H(G,Y,he,Se);case w:return Y=Y.get(he.key===null?Z:he.key)||null,J(G,Y,he,Se);case C:var Ge=he._init;return he=Ge(he._payload),re(Y,G,Z,he,Se)}if(ge(he)||P(he))return Y=Y.get(Z)||null,ue(G,Y,he,Se,null);if(typeof he.then=="function")return re(Y,G,Z,Xc(he),Se);if(he.$$typeof===U)return re(Y,G,Z,Vc(G,he),Se);Kc(G,he)}return null}function Le(Y,G,Z,he){for(var Se=null,Ge=null,je=G,Oe=G=0,ln=null;je!==null&&Oe<Z.length;Oe++){je.index>Oe?(ln=je,je=null):ln=je.sibling;var it=W(Y,je,Z[Oe],he);if(it===null){je===null&&(je=ln);break}r&&je&&it.alternate===null&&s(Y,je),G=x(it,G,Oe),Ge===null?Se=it:Ge.sibling=it,Ge=it,je=ln}if(Oe===Z.length)return l(Y,je),st&&ha(Y,Oe),Se;if(je===null){for(;Oe<Z.length;Oe++)je=me(Y,Z[Oe],he),je!==null&&(G=x(je,G,Oe),Ge===null?Se=je:Ge.sibling=je,Ge=je);return st&&ha(Y,Oe),Se}for(je=c(je);Oe<Z.length;Oe++)ln=re(je,Y,Oe,Z[Oe],he),ln!==null&&(r&&ln.alternate!==null&&je.delete(ln.key===null?Oe:ln.key),G=x(ln,G,Oe),Ge===null?Se=ln:Ge.sibling=ln,Ge=ln);return r&&je.forEach(function(_s){return s(Y,_s)}),st&&ha(Y,Oe),Se}function Me(Y,G,Z,he){if(Z==null)throw Error(i(151));for(var Se=null,Ge=null,je=G,Oe=G=0,ln=null,it=Z.next();je!==null&&!it.done;Oe++,it=Z.next()){je.index>Oe?(ln=je,je=null):ln=je.sibling;var _s=W(Y,je,it.value,he);if(_s===null){je===null&&(je=ln);break}r&&je&&_s.alternate===null&&s(Y,je),G=x(_s,G,Oe),Ge===null?Se=_s:Ge.sibling=_s,Ge=_s,je=ln}if(it.done)return l(Y,je),st&&ha(Y,Oe),Se;if(je===null){for(;!it.done;Oe++,it=Z.next())it=me(Y,it.value,he),it!==null&&(G=x(it,G,Oe),Ge===null?Se=it:Ge.sibling=it,Ge=it);return st&&ha(Y,Oe),Se}for(je=c(je);!it.done;Oe++,it=Z.next())it=re(je,Y,Oe,it.value,he),it!==null&&(r&&it.alternate!==null&&je.delete(it.key===null?Oe:it.key),G=x(it,G,Oe),Ge===null?Se=it:Ge.sibling=it,Ge=it);return r&&je.forEach(function(VE){return s(Y,VE)}),st&&ha(Y,Oe),Se}function dt(Y,G,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:e:{for(var Se=Z.key;G!==null;){if(G.key===Se){if(Se=Z.type,Se===S){if(G.tag===7){l(Y,G.sibling),he=g(G,Z.props.children),he.return=Y,Y=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&Bx(Se)===G.type){l(Y,G.sibling),he=g(G,Z.props),qo(he,Z),he.return=Y,Y=he;break e}l(Y,G);break}else s(Y,G);G=G.sibling}Z.type===S?(he=ca(Z.props.children,Y.mode,he,Z.key),he.return=Y,Y=he):(he=Dc(Z.type,Z.key,Z.props,null,Y.mode,he),qo(he,Z),he.return=Y,Y=he)}return T(Y);case w:e:{for(Se=Z.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){l(Y,G.sibling),he=g(G,Z.children||[]),he.return=Y,Y=he;break e}else{l(Y,G);break}else s(Y,G);G=G.sibling}he=od(Z,Y.mode,he),he.return=Y,Y=he}return T(Y);case C:return Se=Z._init,Z=Se(Z._payload),dt(Y,G,Z,he)}if(ge(Z))return Le(Y,G,Z,he);if(P(Z)){if(Se=P(Z),typeof Se!="function")throw Error(i(150));return Z=Se.call(Z),Me(Y,G,Z,he)}if(typeof Z.then=="function")return dt(Y,G,Xc(Z),he);if(Z.$$typeof===U)return dt(Y,G,Vc(Y,Z),he);Kc(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(l(Y,G.sibling),he=g(G,Z),he.return=Y,Y=he):(l(Y,G),he=ld(Z,Y.mode,he),he.return=Y,Y=he),T(Y)):l(Y,G)}return function(Y,G,Z,he){try{Bo=0;var Se=dt(Y,G,Z,he);return xl=null,Se}catch(je){if(je===Do||je===Lc)throw je;var Ge=nr(29,je,null,Y.mode);return Ge.lanes=he,Ge.return=Y,Ge}finally{}}}var yl=qx(!0),Fx=qx(!1),Er=le(null),ei=null;function as(r){var s=r.alternate;j(Wt,Wt.current&1),j(Er,r),ei===null&&(s===null||dl.current!==null||s.memoizedState!==null)&&(ei=r)}function Hx(r){if(r.tag===22){if(j(Wt,Wt.current),j(Er,r),ei===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(ei=r)}}else ls()}function ls(){j(Wt,Wt.current),j(Er,Er.current)}function Ii(r){te(Er),ei===r&&(ei=null),te(Wt)}var Wt=le(0);function Zc(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||jm(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Bd(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:y({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var qd={enqueueSetState:function(r,s,l){r=r._reactInternals;var c=ar(),g=rs(c);g.payload=s,l!=null&&(g.callback=l),s=is(r,g,c),s!==null&&(lr(s,r,c),Mo(s,r,c))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=ar(),g=rs(c);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=is(r,g,c),s!==null&&(lr(s,r,c),Mo(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=ar(),c=rs(l);c.tag=2,s!=null&&(c.callback=s),s=is(r,c,l),s!==null&&(lr(s,r,l),Mo(s,r,l))}};function $x(r,s,l,c,g,x,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,x,T):s.prototype&&s.prototype.isPureReactComponent?!To(l,c)||!To(g,x):!0}function Gx(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&qd.enqueueReplaceState(s,s.state,null)}function ba(r,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(r=r.defaultProps){l===s&&(l=y({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}var Jc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Yx(r){Jc(r)}function Qx(r){console.error(r)}function Xx(r){Jc(r)}function Wc(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Kx(r,s,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Fd(r,s,l){return l=rs(l),l.tag=3,l.payload={element:null},l.callback=function(){Wc(r,s)},l}function Zx(r){return r=rs(r),r.tag=3,r}function Jx(r,s,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=c.value;r.payload=function(){return g(x)},r.callback=function(){Kx(s,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Kx(s,l,c),typeof g!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function V4(r,s,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&ko(s,l,g,!0),l=Er.current,l!==null){switch(l.tag){case 13:return ei===null?dm():l.alternate===null&&It===0&&(It=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===yd?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),pm(r,c,g)),!1;case 22:return l.flags|=65536,c===yd?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),pm(r,c,g)),!1}throw Error(i(435,l.tag))}return pm(r,c,g),dm(),!1}if(st)return s=Er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,c!==fd&&(r=Error(i(422),{cause:c}),Co(br(r,l)))):(c!==fd&&(s=Error(i(423),{cause:c}),Co(br(s,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,c=br(c,l),g=Fd(r.stateNode,c,g),_d(r,g),It!==4&&(It=2)),!1;var x=Error(i(520),{cause:c});if(x=br(x,l),Xo===null?Xo=[x]:Xo.push(x),It!==4&&(It=2),s===null)return!0;c=br(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=Fd(l.stateNode,c,r),_d(l,r),!1;case 1:if(s=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ds===null||!ds.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Zx(g),Jx(g,r,l,c),_d(l,g),!1}l=l.return}while(l!==null);return!1}var Wx=Error(i(461)),sn=!1;function dn(r,s,l,c){s.child=r===null?Fx(s,null,l,c):yl(s,r.child,l,c)}function ey(r,s,l,c,g){l=l.render;var x=s.ref;if("ref"in c){var T={};for(var D in c)D!=="ref"&&(T[D]=c[D])}else T=c;return ga(s),c=Sd(r,s,l,T,x,g),D=Ad(),r!==null&&!sn?(Cd(r,s,g),Mi(r,s,g)):(st&&D&&ud(s),s.flags|=1,dn(r,s,c,g),s.child)}function ty(r,s,l,c,g){if(r===null){var x=l.type;return typeof x=="function"&&!ad(x)&&x.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=x,ny(r,s,x,c,g)):(r=Dc(l.type,null,c,s,s.mode,g),r.ref=s.ref,r.return=s,s.child=r)}if(x=r.child,!Zd(r,g)){var T=x.memoizedProps;if(l=l.compare,l=l!==null?l:To,l(T,c)&&r.ref===s.ref)return Mi(r,s,g)}return s.flags|=1,r=Ai(x,c),r.ref=s.ref,r.return=s,s.child=r}function ny(r,s,l,c,g){if(r!==null){var x=r.memoizedProps;if(To(x,c)&&r.ref===s.ref)if(sn=!1,s.pendingProps=c=x,Zd(r,g))(r.flags&131072)!==0&&(sn=!0);else return s.lanes=r.lanes,Mi(r,s,g)}return Hd(r,s,l,c,g)}function ry(r,s,l){var c=s.pendingProps,g=c.children,x=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=x!==null?x.baseLanes|l:l,r!==null){for(g=s.child=r.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;s.childLanes=x&~c}else s.childLanes=0,s.child=null;return iy(r,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Pc(s,x!==null?x.cachePool:null),x!==null?nx(s,x):Ed(),Hx(s);else return s.lanes=s.childLanes=536870912,iy(r,s,x!==null?x.baseLanes|l:l,l)}else x!==null?(Pc(s,x.cachePool),nx(s,x),ls(),s.memoizedState=null):(r!==null&&Pc(s,null),Ed(),ls());return dn(r,s,g,l),s.child}function iy(r,s,l,c){var g=xd();return g=g===null?null:{parent:Jt._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},r!==null&&Pc(s,null),Ed(),Hx(s),r!==null&&ko(r,s,c,!0),null}function ef(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Hd(r,s,l,c,g){return ga(s),l=Sd(r,s,l,c,void 0,g),c=Ad(),r!==null&&!sn?(Cd(r,s,g),Mi(r,s,g)):(st&&c&&ud(s),s.flags|=1,dn(r,s,l,g),s.child)}function sy(r,s,l,c,g,x){return ga(s),s.updateQueue=null,l=ix(s,c,l,g),rx(r),c=Ad(),r!==null&&!sn?(Cd(r,s,x),Mi(r,s,x)):(st&&c&&ud(s),s.flags|=1,dn(r,s,l,x),s.child)}function ay(r,s,l,c,g){if(ga(s),s.stateNode===null){var x=ol,T=l.contextType;typeof T=="object"&&T!==null&&(x=_n(T)),x=new l(c,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=qd,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=c,x.state=s.memoizedState,x.refs={},bd(s),T=l.contextType,x.context=typeof T=="object"&&T!==null?_n(T):ol,x.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Bd(s,l,T,c),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(T=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),T!==x.state&&qd.enqueueReplaceState(x,x.state,null),Vo(s,c,x,g),Oo(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){x=s.stateNode;var D=s.memoizedProps,H=ba(l,D);x.props=H;var J=x.context,ue=l.contextType;T=ol,typeof ue=="object"&&ue!==null&&(T=_n(ue));var me=l.getDerivedStateFromProps;ue=typeof me=="function"||typeof x.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,ue||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D||J!==T)&&Gx(s,x,c,T),ns=!1;var W=s.memoizedState;x.state=W,Vo(s,c,x,g),Oo(),J=s.memoizedState,D||W!==J||ns?(typeof me=="function"&&(Bd(s,l,me,c),J=s.memoizedState),(H=ns||$x(s,l,H,c,W,J,T))?(ue||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=J),x.props=c,x.state=J,x.context=T,c=H):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{x=s.stateNode,vd(r,s),T=s.memoizedProps,ue=ba(l,T),x.props=ue,me=s.pendingProps,W=x.context,J=l.contextType,H=ol,typeof J=="object"&&J!==null&&(H=_n(J)),D=l.getDerivedStateFromProps,(J=typeof D=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==me||W!==H)&&Gx(s,x,c,H),ns=!1,W=s.memoizedState,x.state=W,Vo(s,c,x,g),Oo();var re=s.memoizedState;T!==me||W!==re||ns||r!==null&&r.dependencies!==null&&Oc(r.dependencies)?(typeof D=="function"&&(Bd(s,l,D,c),re=s.memoizedState),(ue=ns||$x(s,l,ue,c,W,re,H)||r!==null&&r.dependencies!==null&&Oc(r.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,re,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,re,H)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=re),x.props=c,x.state=re,x.context=H,c=ue):(typeof x.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),c=!1)}return x=c,ef(r,s),c=(s.flags&128)!==0,x||c?(x=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,r!==null&&c?(s.child=yl(s,r.child,null,g),s.child=yl(s,null,l,g)):dn(r,s,l,g),s.memoizedState=x.state,r=s.child):r=Mi(r,s,g),r}function ly(r,s,l,c){return Ao(),s.flags|=256,dn(r,s,l,c),s.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gd(r){return{baseLanes:r,cachePool:Qg()}}function Yd(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Tr),r}function oy(r,s,l){var c=s.pendingProps,g=!1,x=(s.flags&128)!==0,T;if((T=x)||(T=r!==null&&r.memoizedState===null?!1:(Wt.current&2)!==0),T&&(g=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(st){if(g?as(s):ls(),st){var D=Dt,H;if(H=D){e:{for(H=D,D=Wr;H.nodeType!==8;){if(!D){D=null;break e}if(H=Vr(H.nextSibling),H===null){D=null;break e}}D=H}D!==null?(s.memoizedState={dehydrated:D,treeContext:fa!==null?{id:Ci,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},H=nr(18,null,null,0),H.stateNode=D,H.return=s,s.child=H,Mn=s,Dt=null,H=!0):H=!1}H||ma(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return jm(D)?s.lanes=32:s.lanes=536870912,null;Ii(s)}return D=c.children,c=c.fallback,g?(ls(),g=s.mode,D=tf({mode:"hidden",children:D},g),c=ca(c,g,l,null),D.return=s,c.return=s,D.sibling=c,s.child=D,g=s.child,g.memoizedState=Gd(l),g.childLanes=Yd(r,T,l),s.memoizedState=$d,c):(as(s),Qd(s,D))}if(H=r.memoizedState,H!==null&&(D=H.dehydrated,D!==null)){if(x)s.flags&256?(as(s),s.flags&=-257,s=Xd(r,s,l)):s.memoizedState!==null?(ls(),s.child=r.child,s.flags|=128,s=null):(ls(),g=c.fallback,D=s.mode,c=tf({mode:"visible",children:c.children},D),g=ca(g,D,l,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,yl(s,r.child,null,l),c=s.child,c.memoizedState=Gd(l),c.childLanes=Yd(r,T,l),s.memoizedState=$d,s=g);else if(as(s),jm(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var J=T.dgst;T=J,c=Error(i(419)),c.stack="",c.digest=T,Co({value:c,source:null,stack:null}),s=Xd(r,s,l)}else if(sn||ko(r,s,l,!1),T=(l&r.childLanes)!==0,sn||T){if(T=bt,T!==null&&(c=l&-l,c=(c&42)!==0?1:Rr(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==H.retryLane))throw H.retryLane=c,ll(r,c),lr(T,r,c),Wx;D.data==="$?"||dm(),s=Xd(r,s,l)}else D.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,Dt=Vr(D.nextSibling),Mn=s,st=!0,da=null,Wr=!1,r!==null&&(_r[wr++]=Ci,_r[wr++]=ki,_r[wr++]=fa,Ci=r.id,ki=r.overflow,fa=s),s=Qd(s,c.children),s.flags|=4096);return s}return g?(ls(),g=c.fallback,D=s.mode,H=r.child,J=H.sibling,c=Ai(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,J!==null?g=Ai(J,g):(g=ca(g,D,l,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,D=r.child.memoizedState,D===null?D=Gd(l):(H=D.cachePool,H!==null?(J=Jt._currentValue,H=H.parent!==J?{parent:J,pool:J}:H):H=Qg(),D={baseLanes:D.baseLanes|l,cachePool:H}),g.memoizedState=D,g.childLanes=Yd(r,T,l),s.memoizedState=$d,c):(as(s),l=r.child,r=l.sibling,l=Ai(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=l,s.memoizedState=null,l)}function Qd(r,s){return s=tf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function tf(r,s){return r=nr(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Xd(r,s,l){return yl(s,r.child,null,l),r=Qd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function uy(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),dd(r.return,s,l)}function Kd(r,s,l,c,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=l,x.tailMode=g)}function cy(r,s,l){var c=s.pendingProps,g=c.revealOrder,x=c.tail;if(dn(r,s,c.children,l),c=Wt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&uy(r,l,s);else if(r.tag===19)uy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(j(Wt,c),g){case"forwards":for(l=s.child,g=null;l!==null;)r=l.alternate,r!==null&&Zc(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Kd(s,!1,g,l,x);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(r=g.alternate,r!==null&&Zc(r)===null){s.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Kd(s,!0,l,null,x);break;case"together":Kd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Mi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),hs|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(ko(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=Ai(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ai(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Zd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Oc(r)))}function P4(r,s,l){switch(s.tag){case 3:Ne(s,s.stateNode.containerInfo),ts(s,Jt,r.memoizedState.cache),Ao();break;case 27:case 5:jt(s);break;case 4:Ne(s,s.stateNode.containerInfo);break;case 10:ts(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(as(s),s.flags|=128,null):(l&s.child.childLanes)!==0?oy(r,s,l):(as(s),r=Mi(r,s,l),r!==null?r.sibling:null);as(s);break;case 19:var g=(r.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(ko(r,s,l,!1),c=(l&s.childLanes)!==0),g){if(c)return cy(r,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),j(Wt,Wt.current),c)break;return null;case 22:case 23:return s.lanes=0,ry(r,s,l);case 24:ts(s,Jt,r.memoizedState.cache)}return Mi(r,s,l)}function fy(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)sn=!0;else{if(!Zd(r,l)&&(s.flags&128)===0)return sn=!1,P4(r,s,l);sn=(r.flags&131072)!==0}else sn=!1,st&&(s.flags&1048576)!==0&&Bg(s,Mc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,g=c._init;if(c=g(c._payload),s.type=c,typeof c=="function")ad(c)?(r=ba(c,r),s.tag=1,s=ay(null,s,c,r,l)):(s.tag=0,s=Hd(null,s,c,r,l));else{if(c!=null){if(g=c.$$typeof,g===$){s.tag=11,s=ey(null,s,c,r,l);break e}else if(g===R){s.tag=14,s=ty(null,s,c,r,l);break e}}throw s=ae(c)||c,Error(i(306,s,""))}}return s;case 0:return Hd(r,s,s.type,s.pendingProps,l);case 1:return c=s.type,g=ba(c,s.pendingProps),ay(r,s,c,g,l);case 3:e:{if(Ne(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var x=s.memoizedState;g=x.element,vd(r,s),Vo(s,c,null,l);var T=s.memoizedState;if(c=T.cache,ts(s,Jt,c),c!==x.cache&&md(s,[Jt],l,!0),Oo(),c=T.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=ly(r,s,c,l);break e}else if(c!==g){g=br(Error(i(424)),s),Co(g),s=ly(r,s,c,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Dt=Vr(r.firstChild),Mn=s,st=!0,da=null,Wr=!0,l=Fx(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ao(),c===g){s=Mi(r,s,l);break e}dn(r,s,c,l)}s=s.child}return s;case 26:return ef(r,s),r===null?(l=p1(s.type,null,s.pendingProps,null))?s.memoizedState=l:st||(l=s.type,r=s.pendingProps,c=gf(ie.current).createElement(l),c[yt]=s,c[oe]=r,pn(c,l,r),Ot(c),s.stateNode=c):s.memoizedState=p1(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return jt(s),r===null&&st&&(c=s.stateNode=h1(s.type,s.pendingProps,ie.current),Mn=s,Wr=!0,g=Dt,gs(s.type)?(Rm=g,Dt=Vr(c.firstChild)):Dt=g),dn(r,s,s.pendingProps.children,l),ef(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&st&&((g=c=Dt)&&(c=fE(c,s.type,s.pendingProps,Wr),c!==null?(s.stateNode=c,Mn=s,Dt=Vr(c.firstChild),Wr=!1,g=!0):g=!1),g||ma(s)),jt(s),g=s.type,x=s.pendingProps,T=r!==null?r.memoizedProps:null,c=x.children,Am(g,x)?c=null:T!==null&&Am(g,T)&&(s.flags|=32),s.memoizedState!==null&&(g=Sd(r,s,k4,null,null,l),iu._currentValue=g),ef(r,s),dn(r,s,c,l),s.child;case 6:return r===null&&st&&((r=l=Dt)&&(l=hE(l,s.pendingProps,Wr),l!==null?(s.stateNode=l,Mn=s,Dt=null,r=!0):r=!1),r||ma(s)),null;case 13:return oy(r,s,l);case 4:return Ne(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=yl(s,null,c,l):dn(r,s,c,l),s.child;case 11:return ey(r,s,s.type,s.pendingProps,l);case 7:return dn(r,s,s.pendingProps,l),s.child;case 8:return dn(r,s,s.pendingProps.children,l),s.child;case 12:return dn(r,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ts(s,s.type,c.value),dn(r,s,c.children,l),s.child;case 9:return g=s.type._context,c=s.pendingProps.children,ga(s),g=_n(g),c=c(g),s.flags|=1,dn(r,s,c,l),s.child;case 14:return ty(r,s,s.type,s.pendingProps,l);case 15:return ny(r,s,s.type,s.pendingProps,l);case 19:return cy(r,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},r===null?(l=tf(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Ai(r.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return ry(r,s,l);case 24:return ga(s),c=_n(Jt),r===null?(g=xd(),g===null&&(g=bt,x=pd(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),s.memoizedState={parent:c,cache:g},bd(s),ts(s,Jt,g)):((r.lanes&l)!==0&&(vd(r,s),Vo(s,null,null,l),Oo()),g=r.memoizedState,x=s.memoizedState,g.parent!==c?(g={parent:c,cache:c},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),ts(s,Jt,c)):(c=x.cache,ts(s,Jt,c),c!==g.cache&&md(s,[Jt],l,!0))),dn(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Oi(r){r.flags|=4}function hy(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!v1(s)){if(s=Er.current,s!==null&&((et&4194048)===et?ei!==null:(et&62914560)!==et&&(et&536870912)===0||s!==ei))throw Io=yd,Xg;r.flags|=8192}}function nf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Hs():536870912,r.lanes|=s,wl|=s)}function Fo(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Ct(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function L4(r,s,l){var c=s.pendingProps;switch(cd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(s),null;case 1:return Ct(s),null;case 3:return l=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ri(Jt),wt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(So(s)?Oi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hg())),Ct(s),null;case 26:return l=s.memoizedState,r===null?(Oi(s),l!==null?(Ct(s),hy(s,l)):(Ct(s),s.flags&=-16777217)):l?l!==r.memoizedState?(Oi(s),Ct(s),hy(s,l)):(Ct(s),s.flags&=-16777217):(r.memoizedProps!==c&&Oi(s),Ct(s),s.flags&=-16777217),null;case 27:Et(s),l=ie.current;var g=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Oi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Ct(s),null}r=Q.current,So(s)?qg(s):(r=h1(g,c,l),s.stateNode=r,Oi(s))}return Ct(s),null;case 5:if(Et(s),l=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Oi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Ct(s),null}if(r=Q.current,So(s))qg(s);else{switch(g=gf(ie.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}r[yt]=s,r[oe]=c;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=r;e:switch(pn(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Oi(s)}}return Ct(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Oi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=ie.current,So(s)){if(r=s.stateNode,l=s.memoizedProps,c=null,g=Mn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}r[yt]=s,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||s1(r.nodeValue,l)),r||ma(s)}else r=gf(r).createTextNode(c),r[yt]=s,s.stateNode=r}return Ct(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=So(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[yt]=s}else Ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),g=!1}else g=Hg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ii(s),s):(Ii(s),null)}if(Ii(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=s.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var x=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==g&&(c.flags|=2048)}return l!==r&&l&&(s.child.flags|=8192),nf(s,s.updateQueue),Ct(s),null;case 4:return wt(),r===null&&wm(s.stateNode.containerInfo),Ct(s),null;case 10:return Ri(s.type),Ct(s),null;case 19:if(te(Wt),g=s.memoizedState,g===null)return Ct(s),null;if(c=(s.flags&128)!==0,x=g.rendering,x===null)if(c)Fo(g,!1);else{if(It!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(x=Zc(r),x!==null){for(s.flags|=128,Fo(g,!1),r=x.updateQueue,s.updateQueue=r,nf(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)Ug(l,r),l=l.sibling;return j(Wt,Wt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Rt()>af&&(s.flags|=128,c=!0,Fo(g,!1),s.lanes=4194304)}else{if(!c)if(r=Zc(x),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,nf(s,r),Fo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!st)return Ct(s),null}else 2*Rt()-g.renderingStartTime>af&&l!==536870912&&(s.flags|=128,c=!0,Fo(g,!1),s.lanes=4194304);g.isBackwards?(x.sibling=s.child,s.child=x):(r=g.last,r!==null?r.sibling=x:s.child=x,g.last=x)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Rt(),s.sibling=null,r=Wt.current,j(Wt,c?r&1|2:r&1),s):(Ct(s),null);case 22:case 23:return Ii(s),Td(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(Ct(s),s.subtreeFlags&6&&(s.flags|=8192)):Ct(s),l=s.updateQueue,l!==null&&nf(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),r!==null&&te(xa),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ri(Jt),Ct(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function z4(r,s){switch(cd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ri(Jt),wt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Et(s),null;case 13:if(Ii(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ao()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return te(Wt),null;case 4:return wt(),null;case 10:return Ri(s.type),null;case 22:case 23:return Ii(s),Td(),r!==null&&te(xa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ri(Jt),null;case 25:return null;default:return null}}function dy(r,s){switch(cd(s),s.tag){case 3:Ri(Jt),wt();break;case 26:case 27:case 5:Et(s);break;case 4:wt();break;case 13:Ii(s);break;case 19:te(Wt);break;case 10:Ri(s.type);break;case 22:case 23:Ii(s),Td(),r!==null&&te(xa);break;case 24:Ri(Jt)}}function Ho(r,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&r)===r){c=void 0;var x=l.create,T=l.inst;c=x(),T.destroy=c}l=l.next}while(l!==g)}}catch(D){pt(s,s.return,D)}}function os(r,s,l){try{var c=s.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var x=g.next;c=x;do{if((c.tag&r)===r){var T=c.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,g=s;var H=l,J=D;try{J()}catch(ue){pt(g,H,ue)}}}c=c.next}while(c!==x)}}catch(ue){pt(s,s.return,ue)}}function my(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{tx(s,l)}catch(c){pt(r,r.return,c)}}}function py(r,s,l){l.props=ba(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){pt(r,s,c)}}function $o(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(g){pt(r,s,g)}}function ti(r,s){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){pt(r,s,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){pt(r,s,g)}else l.current=null}function gy(r){var s=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){pt(r,r.return,g)}}function Jd(r,s,l){try{var c=r.stateNode;aE(c,r.type,l,s),c[oe]=s}catch(g){pt(r,r.return,g)}}function xy(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&gs(r.type)||r.tag===4}function Wd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||xy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&gs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function em(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=pf));else if(c!==4&&(c===27&&gs(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(em(r,s,l),r=r.sibling;r!==null;)em(r,s,l),r=r.sibling}function rf(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(c===27&&gs(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(rf(r,s,l),r=r.sibling;r!==null;)rf(r,s,l),r=r.sibling}function yy(r){var s=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);pn(s,c,l),s[yt]=r,s[oe]=l}catch(x){pt(r,r.return,x)}}var Vi=!1,Pt=!1,tm=!1,by=typeof WeakSet=="function"?WeakSet:Set,an=null;function U4(r,s){if(r=r.containerInfo,Nm=wf,r=jg(r),Wh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var T=0,D=-1,H=-1,J=0,ue=0,me=r,W=null;t:for(;;){for(var re;me!==l||g!==0&&me.nodeType!==3||(D=T+g),me!==x||c!==0&&me.nodeType!==3||(H=T+c),me.nodeType===3&&(T+=me.nodeValue.length),(re=me.firstChild)!==null;)W=me,me=re;for(;;){if(me===r)break t;if(W===l&&++J===g&&(D=T),W===x&&++ue===c&&(H=T),(re=me.nextSibling)!==null)break;me=W,W=me.parentNode}me=re}l=D===-1||H===-1?null:{start:D,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sm={focusedElem:r,selectionRange:l},wf=!1,an=s;an!==null;)if(s=an,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,an=r;else for(;an!==null;){switch(s=an,x=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,l=s,g=x.memoizedProps,x=x.memoizedState,c=l.stateNode;try{var Le=ba(l.type,g,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(Le,x),c.__reactInternalSnapshotBeforeUpdate=r}catch(Me){pt(l,l.return,Me)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)km(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":km(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,an=r;break}an=s.return}}function vy(r,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:us(r,l),c&4&&Ho(5,l);break;case 1:if(us(r,l),c&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(T){pt(l,l.return,T)}else{var g=ba(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(g,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){pt(l,l.return,T)}}c&64&&my(l),c&512&&$o(l,l.return);break;case 3:if(us(r,l),c&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{tx(r,s)}catch(T){pt(l,l.return,T)}}break;case 27:s===null&&c&4&&yy(l);case 26:case 5:us(r,l),s===null&&c&4&&gy(l),c&512&&$o(l,l.return);break;case 12:us(r,l);break;case 13:us(r,l),c&4&&Ey(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=X4.bind(null,l),dE(r,l))));break;case 22:if(c=l.memoizedState!==null||Vi,!c){s=s!==null&&s.memoizedState!==null||Pt,g=Vi;var x=Pt;Vi=c,(Pt=s)&&!x?cs(r,l,(l.subtreeFlags&8772)!==0):us(r,l),Vi=g,Pt=x}break;case 30:break;default:us(r,l)}}function _y(r){var s=r.alternate;s!==null&&(r.alternate=null,_y(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Zi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var At=null,$n=!1;function Pi(r,s,l){for(l=l.child;l!==null;)wy(r,s,l),l=l.sibling}function wy(r,s,l){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(ne,l)}catch{}switch(l.tag){case 26:Pt||ti(l,s),Pi(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Pt||ti(l,s);var c=At,g=$n;gs(l.type)&&(At=l.stateNode,$n=!1),Pi(r,s,l),eu(l.stateNode),At=c,$n=g;break;case 5:Pt||ti(l,s);case 6:if(c=At,g=$n,At=null,Pi(r,s,l),At=c,$n=g,At!==null)if($n)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(l.stateNode)}catch(x){pt(l,s,x)}else try{At.removeChild(l.stateNode)}catch(x){pt(l,s,x)}break;case 18:At!==null&&($n?(r=At,c1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),ou(r)):c1(At,l.stateNode));break;case 4:c=At,g=$n,At=l.stateNode.containerInfo,$n=!0,Pi(r,s,l),At=c,$n=g;break;case 0:case 11:case 14:case 15:Pt||os(2,l,s),Pt||os(4,l,s),Pi(r,s,l);break;case 1:Pt||(ti(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&py(l,s,c)),Pi(r,s,l);break;case 21:Pi(r,s,l);break;case 22:Pt=(c=Pt)||l.memoizedState!==null,Pi(r,s,l),Pt=c;break;default:Pi(r,s,l)}}function Ey(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ou(r)}catch(l){pt(s,s.return,l)}}function B4(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new by),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new by),s;default:throw Error(i(435,r.tag))}}function nm(r,s){var l=B4(r);s.forEach(function(c){var g=K4.bind(null,r,c);l.has(c)||(l.add(c),c.then(g,g))})}function rr(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],x=r,T=s,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(gs(D.type)){At=D.stateNode,$n=!1;break e}break;case 5:At=D.stateNode,$n=!1;break e;case 3:case 4:At=D.stateNode.containerInfo,$n=!0;break e}D=D.return}if(At===null)throw Error(i(160));wy(x,T,g),At=null,$n=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Ty(s,r),s=s.sibling}var Or=null;function Ty(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rr(s,r),ir(r),c&4&&(os(3,r,r.return),Ho(3,r),os(5,r,r.return));break;case 1:rr(s,r),ir(r),c&512&&(Pt||l===null||ti(l,l.return)),c&64&&Vi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Or;if(rr(s,r),ir(r),c&512&&(Pt||l===null||ti(l,l.return)),c&4){var x=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Qs]||x[yt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(c),g.head.insertBefore(x,g.querySelector("head > title"))),pn(x,c,l),x[yt]=r,Ot(x),c=x;break e;case"link":var T=y1("link","href",g).get(c+(l.href||""));if(T){for(var D=0;D<T.length;D++)if(x=T[D],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(D,1);break t}}x=g.createElement(c),pn(x,c,l),g.head.appendChild(x);break;case"meta":if(T=y1("meta","content",g).get(c+(l.content||""))){for(D=0;D<T.length;D++)if(x=T[D],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(D,1);break t}}x=g.createElement(c),pn(x,c,l),g.head.appendChild(x);break;default:throw Error(i(468,c))}x[yt]=r,Ot(x),c=x}r.stateNode=c}else b1(g,r.type,r.stateNode);else r.stateNode=x1(g,c,r.memoizedProps);else x!==c?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,c===null?b1(g,r.type,r.stateNode):x1(g,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Jd(r,r.memoizedProps,l.memoizedProps)}break;case 27:rr(s,r),ir(r),c&512&&(Pt||l===null||ti(l,l.return)),l!==null&&c&4&&Jd(r,r.memoizedProps,l.memoizedProps);break;case 5:if(rr(s,r),ir(r),c&512&&(Pt||l===null||ti(l,l.return)),r.flags&32){g=r.stateNode;try{pr(g,"")}catch(re){pt(r,r.return,re)}}c&4&&r.stateNode!=null&&(g=r.memoizedProps,Jd(r,g,l!==null?l.memoizedProps:g)),c&1024&&(tm=!0);break;case 6:if(rr(s,r),ir(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(re){pt(r,r.return,re)}}break;case 3:if(bf=null,g=Or,Or=xf(s.containerInfo),rr(s,r),Or=g,ir(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ou(s.containerInfo)}catch(re){pt(r,r.return,re)}tm&&(tm=!1,Ny(r));break;case 4:c=Or,Or=xf(r.stateNode.containerInfo),rr(s,r),ir(r),Or=c;break;case 12:rr(s,r),ir(r);break;case 13:rr(s,r),ir(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(om=Rt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,nm(r,c)));break;case 22:g=r.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,J=Vi,ue=Pt;if(Vi=J||g,Pt=ue||H,rr(s,r),Pt=ue,Vi=J,ir(r),c&8192)e:for(s=r.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||H||Vi||Pt||va(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){H=l=s;try{if(x=H.stateNode,g)T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=H.stateNode;var me=H.memoizedProps.style,W=me!=null&&me.hasOwnProperty("display")?me.display:null;D.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(re){pt(H,H.return,re)}}}else if(s.tag===6){if(l===null){H=s;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(re){pt(H,H.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,nm(r,l))));break;case 19:rr(s,r),ir(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,nm(r,c)));break;case 30:break;case 21:break;default:rr(s,r),ir(r)}}function ir(r){var s=r.flags;if(s&2){try{for(var l,c=r.return;c!==null;){if(xy(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,x=Wd(r);rf(r,x,g);break;case 5:var T=l.stateNode;l.flags&32&&(pr(T,""),l.flags&=-33);var D=Wd(r);rf(r,D,T);break;case 3:case 4:var H=l.stateNode.containerInfo,J=Wd(r);em(r,J,H);break;default:throw Error(i(161))}}catch(ue){pt(r,r.return,ue)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Ny(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Ny(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function us(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)vy(r,s.alternate,s),s=s.sibling}function va(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:os(4,s,s.return),va(s);break;case 1:ti(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&py(s,s.return,l),va(s);break;case 27:eu(s.stateNode);case 26:case 5:ti(s,s.return),va(s);break;case 22:s.memoizedState===null&&va(s);break;case 30:va(s);break;default:va(s)}r=r.sibling}}function cs(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,g=r,x=s,T=x.flags;switch(x.tag){case 0:case 11:case 15:cs(g,x,l),Ho(4,x);break;case 1:if(cs(g,x,l),c=x,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){pt(c,c.return,J)}if(c=x,g=c.updateQueue,g!==null){var D=c.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)ex(H[g],D)}catch(J){pt(c,c.return,J)}}l&&T&64&&my(x),$o(x,x.return);break;case 27:yy(x);case 26:case 5:cs(g,x,l),l&&c===null&&T&4&&gy(x),$o(x,x.return);break;case 12:cs(g,x,l);break;case 13:cs(g,x,l),l&&T&4&&Ey(g,x);break;case 22:x.memoizedState===null&&cs(g,x,l),$o(x,x.return);break;case 30:break;default:cs(g,x,l)}s=s.sibling}}function rm(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&jo(l))}function im(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&jo(r))}function ni(r,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sy(r,s,l,c),s=s.sibling}function Sy(r,s,l,c){var g=s.flags;switch(s.tag){case 0:case 11:case 15:ni(r,s,l,c),g&2048&&Ho(9,s);break;case 1:ni(r,s,l,c);break;case 3:ni(r,s,l,c),g&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&jo(r)));break;case 12:if(g&2048){ni(r,s,l,c),r=s.stateNode;try{var x=s.memoizedProps,T=x.id,D=x.onPostCommit;typeof D=="function"&&D(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){pt(s,s.return,H)}}else ni(r,s,l,c);break;case 13:ni(r,s,l,c);break;case 23:break;case 22:x=s.stateNode,T=s.alternate,s.memoizedState!==null?x._visibility&2?ni(r,s,l,c):Go(r,s):x._visibility&2?ni(r,s,l,c):(x._visibility|=2,bl(r,s,l,c,(s.subtreeFlags&10256)!==0)),g&2048&&rm(T,s);break;case 24:ni(r,s,l,c),g&2048&&im(s.alternate,s);break;default:ni(r,s,l,c)}}function bl(r,s,l,c,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var x=r,T=s,D=l,H=c,J=T.flags;switch(T.tag){case 0:case 11:case 15:bl(x,T,D,H,g),Ho(8,T);break;case 23:break;case 22:var ue=T.stateNode;T.memoizedState!==null?ue._visibility&2?bl(x,T,D,H,g):Go(x,T):(ue._visibility|=2,bl(x,T,D,H,g)),g&&J&2048&&rm(T.alternate,T);break;case 24:bl(x,T,D,H,g),g&&J&2048&&im(T.alternate,T);break;default:bl(x,T,D,H,g)}s=s.sibling}}function Go(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,c=s,g=c.flags;switch(c.tag){case 22:Go(l,c),g&2048&&rm(c.alternate,c);break;case 24:Go(l,c),g&2048&&im(c.alternate,c);break;default:Go(l,c)}s=s.sibling}}var Yo=8192;function vl(r){if(r.subtreeFlags&Yo)for(r=r.child;r!==null;)Ay(r),r=r.sibling}function Ay(r){switch(r.tag){case 26:vl(r),r.flags&Yo&&r.memoizedState!==null&&SE(Or,r.memoizedState,r.memoizedProps);break;case 5:vl(r);break;case 3:case 4:var s=Or;Or=xf(r.stateNode.containerInfo),vl(r),Or=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Yo,Yo=16777216,vl(r),Yo=s):vl(r));break;default:vl(r)}}function Cy(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Qo(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];an=c,jy(c,r)}Cy(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ky(r),r=r.sibling}function ky(r){switch(r.tag){case 0:case 11:case 15:Qo(r),r.flags&2048&&os(9,r,r.return);break;case 3:Qo(r);break;case 12:Qo(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,sf(r)):Qo(r);break;default:Qo(r)}}function sf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];an=c,jy(c,r)}Cy(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:os(8,s,s.return),sf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,sf(s));break;default:sf(s)}r=r.sibling}}function jy(r,s){for(;an!==null;){var l=an;switch(l.tag){case 0:case 11:case 15:os(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:jo(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,an=c;else e:for(l=r;an!==null;){c=an;var g=c.sibling,x=c.return;if(_y(c),c===l){an=null;break e}if(g!==null){g.return=x,an=g;break e}an=x}}}var q4={getCacheForType:function(r){var s=_n(Jt),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l}},F4=typeof WeakMap=="function"?WeakMap:Map,ot=0,bt=null,Ye=null,et=0,ut=0,sr=null,fs=!1,_l=!1,sm=!1,Li=0,It=0,hs=0,_a=0,am=0,Tr=0,wl=0,Xo=null,Gn=null,lm=!1,om=0,af=1/0,lf=null,ds=null,mn=0,ms=null,El=null,Tl=0,um=0,cm=null,Ry=null,Ko=0,fm=null;function ar(){if((ot&2)!==0&&et!==0)return et&-et;if(X.T!==null){var r=fl;return r!==0?r:ym()}return qr()}function Dy(){Tr===0&&(Tr=(et&536870912)===0||st?Fs():536870912);var r=Er.current;return r!==null&&(r.flags|=32),Tr}function lr(r,s,l){(r===bt&&(ut===2||ut===9)||r.cancelPendingCommit!==null)&&(Nl(r,0),ps(r,et,Tr,!1)),jr(r,l),((ot&2)===0||r!==bt)&&(r===bt&&((ot&2)===0&&(_a|=l),It===4&&ps(r,et,Tr,!1)),ri(r))}function Iy(r,s,l){if((ot&6)!==0)throw Error(i(327));var c=!l&&(s&124)===0&&(s&r.expiredLanes)===0||vn(r,s),g=c?G4(r,s):mm(r,s,!0),x=c;do{if(g===0){_l&&!c&&ps(r,s,0,!1);break}else{if(l=r.current.alternate,x&&!H4(l)){g=mm(r,s,!1),x=!1;continue}if(g===2){if(x=s,r.errorRecoveryDisabledLanes&x)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var D=r;g=Xo;var H=D.current.memoizedState.isDehydrated;if(H&&(Nl(D,T).flags|=256),T=mm(D,T,!1),T!==2){if(sm&&!H){D.errorRecoveryDisabledLanes|=x,_a|=x,g=4;break e}x=Gn,Gn=g,x!==null&&(Gn===null?Gn=x:Gn.push.apply(Gn,x))}g=T}if(x=!1,g!==2)continue}}if(g===1){Nl(r,0),ps(r,s,0,!0);break}e:{switch(c=r,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(c,s,Tr,!fs);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=om+300-Rt(),10<g)){if(ps(c,s,Tr,!fs),St(c,0,!0)!==0)break e;c.timeoutHandle=o1(My.bind(null,c,l,Gn,lf,lm,s,Tr,_a,wl,fs,x,2,-0,0),g);break e}My(c,l,Gn,lf,lm,s,Tr,_a,wl,fs,x,0,-0,0)}}break}while(!0);ri(r)}function My(r,s,l,c,g,x,T,D,H,J,ue,me,W,re){if(r.timeoutHandle=-1,me=s.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:NE},Ay(s),me=AE(),me!==null)){r.cancelPendingCommit=me(By.bind(null,r,s,x,l,c,g,T,D,H,ue,1,W,re)),ps(r,x,T,!J);return}By(r,s,x,l,c,g,T,D,H)}function H4(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],x=g.getSnapshot;g=g.value;try{if(!tr(x(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(r,s,l,c){s&=~am,s&=~_a,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var g=s;0<g;){var x=31-Re(g),T=1<<x;c[x]=-1,g&=~T}l!==0&&mr(r,l,s)}function of(){return(ot&6)===0?(Zo(0),!1):!0}function hm(){if(Ye!==null){if(ut===0)var r=Ye.return;else r=Ye,ji=pa=null,kd(r),xl=null,Bo=0,r=Ye;for(;r!==null;)dy(r.alternate,r),r=r.return;Ye=null}}function Nl(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,oE(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),hm(),bt=r,Ye=l=Ai(r.current,null),et=s,ut=0,sr=null,fs=!1,_l=vn(r,s),sm=!1,wl=Tr=am=_a=hs=It=0,Gn=Xo=null,lm=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var g=31-Re(c),x=1<<g;s|=r[g],c&=~x}return Li=s,kc(),l}function Oy(r,s){$e=null,X.H=Qc,s===Do||s===Lc?(s=Jg(),ut=3):s===Xg?(s=Jg(),ut=4):ut=s===Wx?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sr=s,Ye===null&&(It=1,Wc(r,br(s,r.current)))}function Vy(){var r=X.H;return X.H=Qc,r===null?Qc:r}function Py(){var r=X.A;return X.A=q4,r}function dm(){It=4,fs||(et&4194048)!==et&&Er.current!==null||(_l=!0),(hs&134217727)===0&&(_a&134217727)===0||bt===null||ps(bt,et,Tr,!1)}function mm(r,s,l){var c=ot;ot|=2;var g=Vy(),x=Py();(bt!==r||et!==s)&&(lf=null,Nl(r,s)),s=!1;var T=It;e:do try{if(ut!==0&&Ye!==null){var D=Ye,H=sr;switch(ut){case 8:hm(),T=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(s=!0);var J=ut;if(ut=0,sr=null,Sl(r,D,H,J),l&&_l){T=0;break e}break;default:J=ut,ut=0,sr=null,Sl(r,D,H,J)}}$4(),T=It;break}catch(ue){Oy(r,ue)}while(!0);return s&&r.shellSuspendCounter++,ji=pa=null,ot=c,X.H=g,X.A=x,Ye===null&&(bt=null,et=0,kc()),T}function $4(){for(;Ye!==null;)Ly(Ye)}function G4(r,s){var l=ot;ot|=2;var c=Vy(),g=Py();bt!==r||et!==s?(lf=null,af=Rt()+500,Nl(r,s)):_l=vn(r,s);e:do try{if(ut!==0&&Ye!==null){s=Ye;var x=sr;t:switch(ut){case 1:ut=0,sr=null,Sl(r,s,x,1);break;case 2:case 9:if(Kg(x)){ut=0,sr=null,zy(s);break}s=function(){ut!==2&&ut!==9||bt!==r||(ut=7),ri(r)},x.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Kg(x)?(ut=0,sr=null,zy(s)):(ut=0,sr=null,Sl(r,s,x,7));break;case 5:var T=null;switch(Ye.tag){case 26:T=Ye.memoizedState;case 5:case 27:var D=Ye;if(!T||v1(T)){ut=0,sr=null;var H=D.sibling;if(H!==null)Ye=H;else{var J=D.return;J!==null?(Ye=J,uf(J)):Ye=null}break t}}ut=0,sr=null,Sl(r,s,x,5);break;case 6:ut=0,sr=null,Sl(r,s,x,6);break;case 8:hm(),It=6;break e;default:throw Error(i(462))}}Y4();break}catch(ue){Oy(r,ue)}while(!0);return ji=pa=null,X.H=c,X.A=g,ot=l,Ye!==null?0:(bt=null,et=0,kc(),It)}function Y4(){for(;Ye!==null&&!Bn();)Ly(Ye)}function Ly(r){var s=fy(r.alternate,r,Li);r.memoizedProps=r.pendingProps,s===null?uf(r):Ye=s}function zy(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=sy(l,s,s.pendingProps,s.type,void 0,et);break;case 11:s=sy(l,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:kd(s);default:dy(l,s),s=Ye=Ug(s,Li),s=fy(l,s,Li)}r.memoizedProps=r.pendingProps,s===null?uf(r):Ye=s}function Sl(r,s,l,c){ji=pa=null,kd(s),xl=null,Bo=0;var g=s.return;try{if(V4(r,g,s,l,et)){It=1,Wc(r,br(l,r.current)),Ye=null;return}}catch(x){if(g!==null)throw Ye=g,x;It=1,Wc(r,br(l,r.current)),Ye=null;return}s.flags&32768?(st||c===1?r=!0:_l||(et&536870912)!==0?r=!1:(fs=r=!0,(c===2||c===9||c===3||c===6)&&(c=Er.current,c!==null&&c.tag===13&&(c.flags|=16384))),Uy(s,r)):uf(s)}function uf(r){var s=r;do{if((s.flags&32768)!==0){Uy(s,fs);return}r=s.return;var l=L4(s.alternate,s,Li);if(l!==null){Ye=l;return}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=r}while(s!==null);It===0&&(It=5)}function Uy(r,s){do{var l=z4(r.alternate,r);if(l!==null){l.flags&=32767,Ye=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Ye=r;return}Ye=r=l}while(r!==null);It=6,Ye=null}function By(r,s,l,c,g,x,T,D,H){r.cancelPendingCommit=null;do cf();while(mn!==0);if((ot&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(x=s.lanes|s.childLanes,x|=id,$s(r,l,x,T,D,H),r===bt&&(Ye=bt=null,et=0),El=s,ms=r,Tl=l,um=x,cm=g,Ry=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Z4(hr,function(){return Gy(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,g=fe.p,fe.p=2,T=ot,ot|=4;try{U4(r,s,l)}finally{ot=T,fe.p=g,X.T=c}}mn=1,qy(),Fy(),Hy()}}function qy(){if(mn===1){mn=0;var r=ms,s=El,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var c=fe.p;fe.p=2;var g=ot;ot|=4;try{Ty(s,r);var x=Sm,T=jg(r.containerInfo),D=x.focusedElem,H=x.selectionRange;if(T!==D&&D&&D.ownerDocument&&kg(D.ownerDocument.documentElement,D)){if(H!==null&&Wh(D)){var J=H.start,ue=H.end;if(ue===void 0&&(ue=J),"selectionStart"in D)D.selectionStart=J,D.selectionEnd=Math.min(ue,D.value.length);else{var me=D.ownerDocument||document,W=me&&me.defaultView||window;if(W.getSelection){var re=W.getSelection(),Le=D.textContent.length,Me=Math.min(H.start,Le),dt=H.end===void 0?Me:Math.min(H.end,Le);!re.extend&&Me>dt&&(T=dt,dt=Me,Me=T);var Y=Cg(D,Me),G=Cg(D,dt);if(Y&&G&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==G.node||re.focusOffset!==G.offset)){var Z=me.createRange();Z.setStart(Y.node,Y.offset),re.removeAllRanges(),Me>dt?(re.addRange(Z),re.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),re.addRange(Z))}}}}for(me=[],re=D;re=re.parentNode;)re.nodeType===1&&me.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<me.length;D++){var he=me[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}wf=!!Nm,Sm=Nm=null}finally{ot=g,fe.p=c,X.T=l}}r.current=s,mn=2}}function Fy(){if(mn===2){mn=0;var r=ms,s=El,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var c=fe.p;fe.p=2;var g=ot;ot|=4;try{vy(r,s.alternate,s)}finally{ot=g,fe.p=c,X.T=l}}mn=3}}function Hy(){if(mn===4||mn===3){mn=0,Ur();var r=ms,s=El,l=Tl,c=Ry;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?mn=5:(mn=0,El=ms=null,$y(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(ds=null),gi(l),s=s.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(ne,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=X.T,g=fe.p,fe.p=2,X.T=null;try{for(var x=r.onRecoverableError,T=0;T<c.length;T++){var D=c[T];x(D.value,{componentStack:D.stack})}}finally{X.T=s,fe.p=g}}(Tl&3)!==0&&cf(),ri(r),g=r.pendingLanes,(l&4194090)!==0&&(g&42)!==0?r===fm?Ko++:(Ko=0,fm=r):Ko=0,Zo(0)}}function $y(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,jo(s)))}function cf(r){return qy(),Fy(),Hy(),Gy()}function Gy(){if(mn!==5)return!1;var r=ms,s=um;um=0;var l=gi(Tl),c=X.T,g=fe.p;try{fe.p=32>l?32:l,X.T=null,l=cm,cm=null;var x=ms,T=Tl;if(mn=0,El=ms=null,Tl=0,(ot&6)!==0)throw Error(i(331));var D=ot;if(ot|=4,ky(x.current),Sy(x,x.current,T,l),ot=D,Zo(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(ne,x)}catch{}return!0}finally{fe.p=g,X.T=c,$y(r,s)}}function Yy(r,s,l){s=br(l,s),s=Fd(r.stateNode,s,2),r=is(r,s,2),r!==null&&(jr(r,2),ri(r))}function pt(r,s,l){if(r.tag===3)Yy(r,r,l);else for(;s!==null;){if(s.tag===3){Yy(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ds===null||!ds.has(c))){r=br(l,r),l=Zx(2),c=is(s,l,2),c!==null&&(Jx(l,c,s,r),jr(c,2),ri(c));break}}s=s.return}}function pm(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new F4;var g=new Set;c.set(s,g)}else g=c.get(s),g===void 0&&(g=new Set,c.set(s,g));g.has(l)||(sm=!0,g.add(l),r=Q4.bind(null,r,s,l),s.then(r,r))}function Q4(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,bt===r&&(et&l)===l&&(It===4||It===3&&(et&62914560)===et&&300>Rt()-om?(ot&2)===0&&Nl(r,0):am|=l,wl===et&&(wl=0)),ri(r)}function Qy(r,s){s===0&&(s=Hs()),r=ll(r,s),r!==null&&(jr(r,s),ri(r))}function X4(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Qy(r,l)}function K4(r,s){var l=0;switch(r.tag){case 13:var c=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Qy(r,l)}function Z4(r,s){return jn(r,s)}var ff=null,Al=null,gm=!1,hf=!1,xm=!1,wa=0;function ri(r){r!==Al&&r.next===null&&(Al===null?ff=Al=r:Al=Al.next=r),hf=!0,gm||(gm=!0,W4())}function Zo(r,s){if(!xm&&hf){xm=!0;do for(var l=!1,c=ff;c!==null;){if(r!==0){var g=c.pendingLanes;if(g===0)var x=0;else{var T=c.suspendedLanes,D=c.pingedLanes;x=(1<<31-Re(42|r)+1)-1,x&=g&~(T&~D),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Jy(c,x))}else x=et,x=St(c,c===bt?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(x&3)===0||vn(c,x)||(l=!0,Jy(c,x));c=c.next}while(l);xm=!1}}function J4(){Xy()}function Xy(){hf=gm=!1;var r=0;wa!==0&&(lE()&&(r=wa),wa=0);for(var s=Rt(),l=null,c=ff;c!==null;){var g=c.next,x=Ky(c,s);x===0?(c.next=null,l===null?ff=g:l.next=g,g===null&&(Al=l)):(l=c,(r!==0||(x&3)!==0)&&(hf=!0)),c=g}Zo(r)}function Ky(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,g=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var T=31-Re(x),D=1<<T,H=g[T];H===-1?((D&l)===0||(D&c)!==0)&&(g[T]=cn(D,s)):H<=s&&(r.expiredLanes|=D),x&=~D}if(s=bt,l=et,l=St(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===s&&(ut===2||ut===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Un(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||vn(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(c!==null&&Un(c),gi(l)){case 2:case 8:l=qn;break;case 32:l=hr;break;case 268435456:l=dr;break;default:l=hr}return c=Zy.bind(null,r),l=jn(l,c),r.callbackPriority=s,r.callbackNode=l,s}return c!==null&&c!==null&&Un(c),r.callbackPriority=2,r.callbackNode=null,2}function Zy(r,s){if(mn!==0&&mn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(cf()&&r.callbackNode!==l)return null;var c=et;return c=St(r,r===bt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Iy(r,c,s),Ky(r,Rt()),r.callbackNode!=null&&r.callbackNode===l?Zy.bind(null,r):null)}function Jy(r,s){if(cf())return null;Iy(r,s,!0)}function W4(){uE(function(){(ot&6)!==0?jn(fr,J4):Xy()})}function ym(){return wa===0&&(wa=Fs()),wa}function Wy(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Xa(""+r)}function e1(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function eE(r,s,l,c,g){if(s==="submit"&&l&&l.stateNode===g){var x=Wy((g[oe]||null).action),T=c.submitter;T&&(s=(s=T[oe]||null)?Wy(s.formAction):T.getAttribute("formAction"),s!==null&&(x=s,T=null));var D=new Ka("action","action",null,c,g);r.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(wa!==0){var H=T?e1(g,T):new FormData(g);Ld(l,{pending:!0,data:H,method:g.method,action:x},null,H)}}else typeof x=="function"&&(D.preventDefault(),H=T?e1(g,T):new FormData(g),Ld(l,{pending:!0,data:H,method:g.method,action:x},x,H))},currentTarget:g}]})}}for(var bm=0;bm<rd.length;bm++){var vm=rd[bm],tE=vm.toLowerCase(),nE=vm[0].toUpperCase()+vm.slice(1);Mr(tE,"on"+nE)}Mr(Ig,"onAnimationEnd"),Mr(Mg,"onAnimationIteration"),Mr(Og,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(b4,"onTransitionRun"),Mr(v4,"onTransitionStart"),Mr(_4,"onTransitionCancel"),Mr(Vg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function t1(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],g=c.event;c=c.listeners;e:{var x=void 0;if(s)for(var T=c.length-1;0<=T;T--){var D=c[T],H=D.instance,J=D.currentTarget;if(D=D.listener,H!==x&&g.isPropagationStopped())break e;x=D,g.currentTarget=J;try{x(g)}catch(ue){Jc(ue)}g.currentTarget=null,x=H}else for(T=0;T<c.length;T++){if(D=c[T],H=D.instance,J=D.currentTarget,D=D.listener,H!==x&&g.isPropagationStopped())break e;x=D,g.currentTarget=J;try{x(g)}catch(ue){Jc(ue)}g.currentTarget=null,x=H}}}}function Qe(r,s){var l=s[Tt];l===void 0&&(l=s[Tt]=new Set);var c=r+"__bubble";l.has(c)||(n1(s,r,2,!1),l.add(c))}function _m(r,s,l){var c=0;s&&(c|=4),n1(l,r,c,s)}var df="_reactListening"+Math.random().toString(36).slice(2);function wm(r){if(!r[df]){r[df]=!0,uo.forEach(function(l){l!=="selectionchange"&&(rE.has(l)||_m(l,!1,r),_m(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[df]||(s[df]=!0,_m("selectionchange",!1,s))}}function n1(r,s,l,c){switch(S1(s)){case 2:var g=jE;break;case 8:g=RE;break;default:g=Vm}l=g.bind(null,s,l,r),g=void 0,!xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),c?g!==void 0?r.addEventListener(s,l,{capture:!0,passive:g}):r.addEventListener(s,l,!0):g!==void 0?r.addEventListener(s,l,{passive:g}):r.addEventListener(s,l,!1)}function Em(r,s,l,c,g){var x=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var D=c.stateNode.containerInfo;if(D===g)break;if(T===4)for(T=c.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;D!==null;){if(T=xi(D),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){c=x=T;continue e}D=D.parentNode}}c=c.return}mc(function(){var J=x,ue=gr(l),me=[];e:{var W=Pg.get(r);if(W!==void 0){var re=Ka,Le=r;switch(r){case"keypress":if(Qr(l)===0)break e;case"keydown":case"keyup":re=nl;break;case"focusin":Le="focus",re=Wa;break;case"focusout":Le="blur",re=Wa;break;case"beforeblur":case"afterblur":re=Wa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=yr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=wc;break;case Ig:case Mg:case Og:re=el;break;case Vg:re=Tc;break;case"scroll":case"scrollend":re=pc;break;case"wheel":re=rl;break;case"copy":case"cut":case"paste":re=tl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=wo;break;case"toggle":case"beforetoggle":re=Sc}var Me=(s&4)!==0,dt=!Me&&(r==="scroll"||r==="scrollend"),Y=Me?W!==null?W+"Capture":null:W;Me=[];for(var G=J,Z;G!==null;){var he=G;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Y===null||(he=ta(G,Y),he!=null&&Me.push(Wo(G,he,Z))),dt)break;G=G.return}0<Me.length&&(W=new re(W,Le,null,l,ue),me.push({event:W,listeners:Me}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",W&&l!==_i&&(Le=l.relatedTarget||l.fromElement)&&(xi(Le)||Le[ze]))break e;if((re||W)&&(W=ue.window===ue?ue:(W=ue.ownerDocument)?W.defaultView||W.parentWindow:window,re?(Le=l.relatedTarget||l.toElement,re=J,Le=Le?xi(Le):null,Le!==null&&(dt=o(Le),Me=Le.tag,Le!==dt||Me!==5&&Me!==27&&Me!==6)&&(Le=null)):(re=null,Le=J),re!==Le)){if(Me=yr,he="onMouseLeave",Y="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Me=wo,he="onPointerLeave",Y="onPointerEnter",G="pointer"),dt=re==null?W:Hr(re),Z=Le==null?W:Hr(Le),W=new Me(he,G+"leave",re,l,ue),W.target=dt,W.relatedTarget=Z,he=null,xi(ue)===J&&(Me=new Me(Y,G+"enter",Le,l,ue),Me.target=Z,Me.relatedTarget=dt,he=Me),dt=he,re&&Le)t:{for(Me=re,Y=Le,G=0,Z=Me;Z;Z=Cl(Z))G++;for(Z=0,he=Y;he;he=Cl(he))Z++;for(;0<G-Z;)Me=Cl(Me),G--;for(;0<Z-G;)Y=Cl(Y),Z--;for(;G--;){if(Me===Y||Y!==null&&Me===Y.alternate)break t;Me=Cl(Me),Y=Cl(Y)}Me=null}else Me=null;re!==null&&r1(me,W,re,Me,!1),Le!==null&&dt!==null&&r1(me,dt,Le,Me,!0)}}e:{if(W=J?Hr(J):window,re=W.nodeName&&W.nodeName.toLowerCase(),re==="select"||re==="input"&&W.type==="file")var Se=wg;else if(Zt(W))if(Eg)Se=g4;else{Se=m4;var Ge=d4}else re=W.nodeName,!re||re.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?J&&po(J.elementType)&&(Se=wg):Se=p4;if(Se&&(Se=Se(r,J))){Si(me,Se,l,ue);break e}Ge&&Ge(r,W,J),r==="focusout"&&J&&W.type==="number"&&J.memoizedProps.value!=null&&Wi(W,"number",W.value)}switch(Ge=J?Hr(J):window,r){case"focusin":(Zt(Ge)||Ge.contentEditable==="true")&&(il=Ge,ed=J,No=null);break;case"focusout":No=ed=il=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,Rg(me,l,ue);break;case"selectionchange":if(y4)break;case"keydown":case"keyup":Rg(me,l,ue)}var je;if(Zr)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Je?se(r,l)&&(Oe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(E&&l.locale!=="ko"&&(Je||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Je&&(je=xo()):(Yr=ue,es="value"in Yr?Yr.value:Yr.textContent,Je=!0)),Ge=mf(J,Oe),0<Ge.length&&(Oe=new vo(Oe,r,null,l,ue),me.push({event:Oe,listeners:Ge}),je?Oe.data=je:(je=_e(l),je!==null&&(Oe.data=je)))),(je=v?Kt(r,l):We(r,l))&&(Oe=mf(J,"onBeforeInput"),0<Oe.length&&(Ge=new vo("onBeforeInput","beforeinput",null,l,ue),me.push({event:Ge,listeners:Oe}),Ge.data=je)),eE(me,r,J,l,ue)}t1(me,s)})}function Wo(r,s,l){return{instance:r,listener:s,currentTarget:l}}function mf(r,s){for(var l=s+"Capture",c=[];r!==null;){var g=r,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=ta(r,l),g!=null&&c.unshift(Wo(r,g,x)),g=ta(r,s),g!=null&&c.push(Wo(r,g,x))),r.tag===3)return c;r=r.return}return[]}function Cl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function r1(r,s,l,c,g){for(var x=s._reactName,T=[];l!==null&&l!==c;){var D=l,H=D.alternate,J=D.stateNode;if(D=D.tag,H!==null&&H===c)break;D!==5&&D!==26&&D!==27||J===null||(H=J,g?(J=ta(l,x),J!=null&&T.unshift(Wo(l,J,H))):g||(J=ta(l,x),J!=null&&T.push(Wo(l,J,H)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var iE=/\r\n?/g,sE=/\u0000|\uFFFD/g;function i1(r){return(typeof r=="string"?r:""+r).replace(iE,`
`).replace(sE,"")}function s1(r,s){return s=i1(s),i1(r)===s}function pf(){}function ht(r,s,l,c,g,x){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||pr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&pr(r,""+c);break;case"className":$r(r,"class",c);break;case"tabIndex":$r(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$r(r,l,c);break;case"style":mo(r,c,x);break;case"data":if(s!=="object"){$r(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Xa(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(s!=="input"&&ht(r,s,"name",g.name,g,null),ht(r,s,"formEncType",g.formEncType,g,null),ht(r,s,"formMethod",g.formMethod,g,null),ht(r,s,"formTarget",g.formTarget,g,null)):(ht(r,s,"encType",g.encType,g,null),ht(r,s,"method",g.method,g,null),ht(r,s,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Xa(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=pf);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Xa(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":Qe("beforetoggle",r),Qe("toggle",r),Ji(r,"popover",c);break;case"xlinkActuate":fn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":fn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":fn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":fn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":fn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":fn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":fn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":fn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":fn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ji(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Yh.get(l)||l,Ji(r,l,c))}}function Tm(r,s,l,c,g,x){switch(l){case"style":mo(r,c,x);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?pr(r,c):(typeof c=="number"||typeof c=="bigint")&&pr(r,""+c);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ha.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),x=r[oe]||null,x=x!=null?x[l]:null,typeof x=="function"&&r.removeEventListener(s,x,g),typeof c=="function")){typeof x!="function"&&x!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,c,g);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Ji(r,l,c)}}}function pn(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",r),Qe("load",r);var c=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var T=l[x];if(T!=null)switch(x){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,x,T,l,null)}}g&&ht(r,s,"srcSet",l.srcSet,l,null),c&&ht(r,s,"src",l.src,l,null);return;case"input":Qe("invalid",r);var D=x=T=g=null,H=null,J=null;for(c in l)if(l.hasOwnProperty(c)){var ue=l[c];if(ue!=null)switch(c){case"name":g=ue;break;case"type":T=ue;break;case"checked":H=ue;break;case"defaultChecked":J=ue;break;case"value":x=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,s));break;default:ht(r,s,c,ue,l,null)}}Js(r,x,D,H,J,T,g,!1),Qa(r);return;case"select":Qe("invalid",r),c=T=x=null;for(g in l)if(l.hasOwnProperty(g)&&(D=l[g],D!=null))switch(g){case"value":x=D;break;case"defaultValue":T=D;break;case"multiple":c=D;default:ht(r,s,g,D,l,null)}s=x,l=T,r.multiple=!!c,s!=null?vi(r,!!c,s,!1):l!=null&&vi(r,!!c,l,!0);return;case"textarea":Qe("invalid",r),x=g=c=null;for(T in l)if(l.hasOwnProperty(T)&&(D=l[T],D!=null))switch(T){case"value":c=D;break;case"defaultValue":g=D;break;case"children":x=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:ht(r,s,T,D,l,null)}Ws(r,c,g,x),Qa(r);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(c=l[H],c!=null))switch(H){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ht(r,s,H,c,l,null)}return;case"dialog":Qe("beforetoggle",r),Qe("toggle",r),Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":Qe("load",r);break;case"video":case"audio":for(c=0;c<Jo.length;c++)Qe(Jo[c],r);break;case"image":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"embed":case"source":case"link":Qe("error",r),Qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(c=l[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,J,c,l,null)}return;default:if(po(s)){for(ue in l)l.hasOwnProperty(ue)&&(c=l[ue],c!==void 0&&Tm(r,s,ue,c,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null&&ht(r,s,D,c,l,null))}function aE(r,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,T=null,D=null,H=null,J=null,ue=null;for(re in l){var me=l[re];if(l.hasOwnProperty(re)&&me!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=me;default:c.hasOwnProperty(re)||ht(r,s,re,null,c,me)}}for(var W in c){var re=c[W];if(me=l[W],c.hasOwnProperty(W)&&(re!=null||me!=null))switch(W){case"type":x=re;break;case"name":g=re;break;case"checked":J=re;break;case"defaultChecked":ue=re;break;case"value":T=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==me&&ht(r,s,W,re,c,me)}}er(r,T,D,H,J,ue,x,g);return;case"select":re=T=D=W=null;for(x in l)if(H=l[x],l.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":re=H;default:c.hasOwnProperty(x)||ht(r,s,x,null,c,H)}for(g in c)if(x=c[g],H=l[g],c.hasOwnProperty(g)&&(x!=null||H!=null))switch(g){case"value":W=x;break;case"defaultValue":D=x;break;case"multiple":T=x;default:x!==H&&ht(r,s,g,x,c,H)}s=D,l=T,c=re,W!=null?vi(r,!!l,W,!1):!!c!=!!l&&(s!=null?vi(r,!!l,s,!0):vi(r,!!l,l?[]:"",!1));return;case"textarea":re=W=null;for(D in l)if(g=l[D],l.hasOwnProperty(D)&&g!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ht(r,s,D,null,c,g)}for(T in c)if(g=c[T],x=l[T],c.hasOwnProperty(T)&&(g!=null||x!=null))switch(T){case"value":W=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&ht(r,s,T,g,c,x)}ct(r,W,re);return;case"option":for(var Le in l)if(W=l[Le],l.hasOwnProperty(Le)&&W!=null&&!c.hasOwnProperty(Le))switch(Le){case"selected":r.selected=!1;break;default:ht(r,s,Le,null,c,W)}for(H in c)if(W=c[H],re=l[H],c.hasOwnProperty(H)&&W!==re&&(W!=null||re!=null))switch(H){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ht(r,s,H,W,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)W=l[Me],l.hasOwnProperty(Me)&&W!=null&&!c.hasOwnProperty(Me)&&ht(r,s,Me,null,c,W);for(J in c)if(W=c[J],re=l[J],c.hasOwnProperty(J)&&W!==re&&(W!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:ht(r,s,J,W,c,re)}return;default:if(po(s)){for(var dt in l)W=l[dt],l.hasOwnProperty(dt)&&W!==void 0&&!c.hasOwnProperty(dt)&&Tm(r,s,dt,void 0,c,W);for(ue in c)W=c[ue],re=l[ue],!c.hasOwnProperty(ue)||W===re||W===void 0&&re===void 0||Tm(r,s,ue,W,c,re);return}}for(var Y in l)W=l[Y],l.hasOwnProperty(Y)&&W!=null&&!c.hasOwnProperty(Y)&&ht(r,s,Y,null,c,W);for(me in c)W=c[me],re=l[me],!c.hasOwnProperty(me)||W===re||W==null&&re==null||ht(r,s,me,W,c,re)}var Nm=null,Sm=null;function gf(r){return r.nodeType===9?r:r.ownerDocument}function a1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l1(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Am(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cm=null;function lE(){var r=window.event;return r&&r.type==="popstate"?r===Cm?!1:(Cm=r,!0):(Cm=null,!1)}var o1=typeof setTimeout=="function"?setTimeout:void 0,oE=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(r){return u1.resolve(null).then(r).catch(cE)}:o1;function cE(r){setTimeout(function(){throw r})}function gs(r){return r==="head"}function c1(r,s){var l=s,c=0,g=0;do{var x=l.nextSibling;if(r.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<c&&8>c){l=c;var T=r.ownerDocument;if(l&1&&eu(T.documentElement),l&2&&eu(T.body),l&4)for(l=T.head,eu(l),T=l.firstChild;T;){var D=T.nextSibling,H=T.nodeName;T[Qs]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=D}}if(g===0){r.removeChild(x),ou(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=x}while(l);ou(s)}function km(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":km(l),Zi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function fE(r,s,l,c){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Qs])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Vr(r.nextSibling),r===null)break}return null}function hE(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Vr(r.nextSibling),r===null))return null;return r}function jm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function dE(r,s){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Vr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Rm=null;function f1(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}function h1(r,s,l){switch(s=gf(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function eu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Zi(r)}var Nr=new Map,d1=new Set;function xf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zi=fe.d;fe.d={f:mE,r:pE,D:gE,C:xE,L:yE,m:bE,X:_E,S:vE,M:wE};function mE(){var r=zi.f(),s=of();return r||s}function pE(r){var s=Fr(r);s!==null&&s.tag===5&&s.type==="form"?Ix(s):zi.r(r)}var kl=typeof document>"u"?null:document;function m1(r,s,l){var c=kl;if(c&&typeof s=="string"&&s){var g=Ut(s);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),d1.has(g)||(d1.add(g),r={rel:r,crossOrigin:l,href:s},c.querySelector(g)===null&&(s=c.createElement("link"),pn(s,"link",r),Ot(s),c.head.appendChild(s)))}}function gE(r){zi.D(r),m1("dns-prefetch",r,null)}function xE(r,s){zi.C(r,s),m1("preconnect",r,s)}function yE(r,s,l){zi.L(r,s,l);var c=kl;if(c&&r&&s){var g='link[rel="preload"][as="'+Ut(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Ut(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Ut(l.imageSizes)+'"]')):g+='[href="'+Ut(r)+'"]';var x=g;switch(s){case"style":x=jl(r);break;case"script":x=Rl(r)}Nr.has(x)||(r=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),Nr.set(x,r),c.querySelector(g)!==null||s==="style"&&c.querySelector(tu(x))||s==="script"&&c.querySelector(nu(x))||(s=c.createElement("link"),pn(s,"link",r),Ot(s),c.head.appendChild(s)))}}function bE(r,s){zi.m(r,s);var l=kl;if(l&&r){var c=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Ut(c)+'"][href="'+Ut(r)+'"]',x=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Rl(r)}if(!Nr.has(x)&&(r=y({rel:"modulepreload",href:r},s),Nr.set(x,r),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(nu(x)))return}c=l.createElement("link"),pn(c,"link",r),Ot(c),l.head.appendChild(c)}}}function vE(r,s,l){zi.S(r,s,l);var c=kl;if(c&&r){var g=Rn(c).hoistableStyles,x=jl(r);s=s||"default";var T=g.get(x);if(!T){var D={loading:0,preload:null};if(T=c.querySelector(tu(x)))D.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},l),(l=Nr.get(x))&&Dm(r,l);var H=T=c.createElement("link");Ot(H),pn(H,"link",r),H._p=new Promise(function(J,ue){H.onload=J,H.onerror=ue}),H.addEventListener("load",function(){D.loading|=1}),H.addEventListener("error",function(){D.loading|=2}),D.loading|=4,yf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:D},g.set(x,T)}}}function _E(r,s){zi.X(r,s);var l=kl;if(l&&r){var c=Rn(l).hoistableScripts,g=Rl(r),x=c.get(g);x||(x=l.querySelector(nu(g)),x||(r=y({src:r,async:!0},s),(s=Nr.get(g))&&Im(r,s),x=l.createElement("script"),Ot(x),pn(x,"link",r),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(g,x))}}function wE(r,s){zi.M(r,s);var l=kl;if(l&&r){var c=Rn(l).hoistableScripts,g=Rl(r),x=c.get(g);x||(x=l.querySelector(nu(g)),x||(r=y({src:r,async:!0,type:"module"},s),(s=Nr.get(g))&&Im(r,s),x=l.createElement("script"),Ot(x),pn(x,"link",r),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(g,x))}}function p1(r,s,l,c){var g=(g=ie.current)?xf(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=jl(l.href),l=Rn(g).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=jl(l.href);var x=Rn(g).hoistableStyles,T=x.get(r);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,T),(x=g.querySelector(tu(r)))&&!x._p&&(T.instance=x,T.state.loading=5),Nr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Nr.set(r,l),x||EE(g,r,l,T.state))),s&&c===null)throw Error(i(528,""));return T}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Rl(l),l=Rn(g).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function jl(r){return'href="'+Ut(r)+'"'}function tu(r){return'link[rel="stylesheet"]['+r+"]"}function g1(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function EE(r,s,l,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),pn(s,"link",l),Ot(s),r.head.appendChild(s))}function Rl(r){return'[src="'+Ut(r)+'"]'}function nu(r){return"script[async]"+r}function x1(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Ut(l.href)+'"]');if(c)return s.instance=c,Ot(c),c;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Ot(c),pn(c,"style",g),yf(c,l.precedence,r),s.instance=c;case"stylesheet":g=jl(l.href);var x=r.querySelector(tu(g));if(x)return s.state.loading|=4,s.instance=x,Ot(x),x;c=g1(l),(g=Nr.get(g))&&Dm(c,g),x=(r.ownerDocument||r).createElement("link"),Ot(x);var T=x;return T._p=new Promise(function(D,H){T.onload=D,T.onerror=H}),pn(x,"link",c),s.state.loading|=4,yf(x,l.precedence,r),s.instance=x;case"script":return x=Rl(l.src),(g=r.querySelector(nu(x)))?(s.instance=g,Ot(g),g):(c=l,(g=Nr.get(x))&&(c=y({},l),Im(c,g)),r=r.ownerDocument||r,g=r.createElement("script"),Ot(g),pn(g,"link",c),r.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,yf(c,l.precedence,r));return s.instance}function yf(r,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,x=g,T=0;T<c.length;T++){var D=c[T];if(D.dataset.precedence===s)x=D;else if(x!==g)break}x?x.parentNode.insertBefore(r,x.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function Dm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Im(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var bf=null;function y1(r,s,l){if(bf===null){var c=new Map,g=bf=new Map;g.set(l,c)}else g=bf,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var x=l[g];if(!(x[Qs]||x[yt]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var T=x.getAttribute(s)||"";T=r+T;var D=c.get(T);D?D.push(x):c.set(T,[x])}}return c}function b1(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function TE(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function v1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ru=null;function NE(){}function SE(r,s,l){if(ru===null)throw Error(i(475));var c=ru;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=jl(l.href),x=r.querySelector(tu(g));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=vf.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=x,Ot(x);return}x=r.ownerDocument||r,l=g1(l),(g=Nr.get(g))&&Dm(l,g),x=x.createElement("link"),Ot(x);var T=x;T._p=new Promise(function(D,H){T.onload=D,T.onerror=H}),pn(x,"link",l),s.instance=x}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=vf.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function AE(){if(ru===null)throw Error(i(475));var r=ru;return r.stylesheets&&r.count===0&&Mm(r,r.stylesheets),0<r.count?function(s){var l=setTimeout(function(){if(r.stylesheets&&Mm(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(l)}}:null}function vf(){if(this.count--,this.count===0){if(this.stylesheets)Mm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var _f=null;function Mm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,_f=new Map,s.forEach(CE,r),_f=null,vf.call(r))}function CE(r,s){if(!(s.state.loading&4)){var l=_f.get(r);if(l)var c=l.get(null);else{l=new Map,_f.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var T=g[x];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}g=s.instance,T=g.getAttribute("data-precedence"),x=l.get(T)||c,x===c&&l.set(null,g),l.set(T,g),this.count++,c=vf.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),x?x.parentNode.insertBefore(g,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),s.state.loading|=4}}var iu={$$typeof:U,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function kE(r,s,l,c,g,x,T,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function _1(r,s,l,c,g,x,T,D,H,J,ue,me){return r=new kE(r,s,l,T,D,H,J,me),s=1,x===!0&&(s|=24),x=nr(3,null,null,s),r.current=x,x.stateNode=r,s=pd(),s.refCount++,r.pooledCache=s,s.refCount++,x.memoizedState={element:c,isDehydrated:l,cache:s},bd(x),r}function w1(r){return r?(r=ol,r):ol}function E1(r,s,l,c,g,x){g=w1(g),c.context===null?c.context=g:c.pendingContext=g,c=rs(s),c.payload={element:l},x=x===void 0?null:x,x!==null&&(c.callback=x),l=is(r,c,s),l!==null&&(lr(l,r,s),Mo(l,r,s))}function T1(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Om(r,s){T1(r,s),(r=r.alternate)&&T1(r,s)}function N1(r){if(r.tag===13){var s=ll(r,67108864);s!==null&&lr(s,r,67108864),Om(r,67108864)}}var wf=!0;function jE(r,s,l,c){var g=X.T;X.T=null;var x=fe.p;try{fe.p=2,Vm(r,s,l,c)}finally{fe.p=x,X.T=g}}function RE(r,s,l,c){var g=X.T;X.T=null;var x=fe.p;try{fe.p=8,Vm(r,s,l,c)}finally{fe.p=x,X.T=g}}function Vm(r,s,l,c){if(wf){var g=Pm(c);if(g===null)Em(r,s,c,Ef,l),A1(r,c);else if(IE(g,r,s,l,c))c.stopPropagation();else if(A1(r,c),s&4&&-1<DE.indexOf(r)){for(;g!==null;){var x=Fr(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var T=zt(x.pendingLanes);if(T!==0){var D=x;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var H=1<<31-Re(T);D.entanglements[1]|=H,T&=~H}ri(x),(ot&6)===0&&(af=Rt()+500,Zo(0))}}break;case 13:D=ll(x,2),D!==null&&lr(D,x,2),of(),Om(x,2)}if(x=Pm(c),x===null&&Em(r,s,c,Ef,l),x===g)break;g=x}g!==null&&c.stopPropagation()}else Em(r,s,c,null,l)}}function Pm(r){return r=gr(r),Lm(r)}var Ef=null;function Lm(r){if(Ef=null,r=xi(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=u(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Ef=r,null}function S1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case fr:return 2;case qn:return 8;case hr:case qs:return 32;case dr:return 268435456;default:return 32}default:return 32}}var zm=!1,xs=null,ys=null,bs=null,su=new Map,au=new Map,vs=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A1(r,s){switch(r){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(s.pointerId)}}function lu(r,s,l,c,g,x){return r===null||r.nativeEvent!==x?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:x,targetContainers:[g]},s!==null&&(s=Fr(s),s!==null&&N1(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),r)}function IE(r,s,l,c,g){switch(s){case"focusin":return xs=lu(xs,r,s,l,c,g),!0;case"dragenter":return ys=lu(ys,r,s,l,c,g),!0;case"mouseover":return bs=lu(bs,r,s,l,c,g),!0;case"pointerover":var x=g.pointerId;return su.set(x,lu(su.get(x)||null,r,s,l,c,g)),!0;case"gotpointercapture":return x=g.pointerId,au.set(x,lu(au.get(x)||null,r,s,l,c,g)),!0}return!1}function C1(r){var s=xi(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){r.blockedOn=s,Fa(r.priority,function(){if(l.tag===13){var c=ar();c=Rr(c);var g=ll(l,c);g!==null&&lr(g,l,c),Om(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Pm(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);_i=c,l.target.dispatchEvent(c),_i=null}else return s=Fr(l),s!==null&&N1(s),r.blockedOn=l,!1;s.shift()}return!0}function k1(r,s,l){Tf(r)&&l.delete(s)}function ME(){zm=!1,xs!==null&&Tf(xs)&&(xs=null),ys!==null&&Tf(ys)&&(ys=null),bs!==null&&Tf(bs)&&(bs=null),su.forEach(k1),au.forEach(k1)}function Nf(r,s){r.blockedOn===s&&(r.blockedOn=null,zm||(zm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ME)))}var Sf=null;function j1(r){Sf!==r&&(Sf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sf===r&&(Sf=null);for(var s=0;s<r.length;s+=3){var l=r[s],c=r[s+1],g=r[s+2];if(typeof c!="function"){if(Lm(c||l)===null)continue;break}var x=Fr(l);x!==null&&(r.splice(s,3),s-=3,Ld(x,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function ou(r){function s(H){return Nf(H,r)}xs!==null&&Nf(xs,r),ys!==null&&Nf(ys,r),bs!==null&&Nf(bs,r),su.forEach(s),au.forEach(s);for(var l=0;l<vs.length;l++){var c=vs[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<vs.length&&(l=vs[0],l.blockedOn===null);)C1(l),l.blockedOn===null&&vs.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],x=l[c+1],T=g[oe]||null;if(typeof x=="function")T||j1(l);else if(T){var D=null;if(x&&x.hasAttribute("formAction")){if(g=x,T=x[oe]||null)D=T.formAction;else if(Lm(g)!==null)continue}else D=T.action;typeof D=="function"?l[c+1]=D:(l.splice(c,3),c-=3),j1(l)}}}function Um(r){this._internalRoot=r}Af.prototype.render=Um.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=ar();E1(l,c,r,s,null,null)},Af.prototype.unmount=Um.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;E1(r.current,2,null,r,null,null),of(),s[ze]=null}};function Af(r){this._internalRoot=r}Af.prototype.unstable_scheduleHydration=function(r){if(r){var s=qr();r={blockedOn:null,target:r,priority:s};for(var l=0;l<vs.length&&s!==0&&s<vs[l].priority;l++);vs.splice(l,0,r),l===0&&C1(r)}};var R1=e.version;if(R1!=="19.1.1")throw Error(i(527,R1,"19.1.1"));fe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var OE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{ne=Cf.inject(OE),de=Cf}catch{}}return cu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,c="",g=Yx,x=Qx,T=Xx,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=_1(r,1,!1,null,null,l,c,g,x,T,D,null),r[ze]=s.current,wm(r),new Um(s)},cu.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var c=!1,g="",x=Yx,T=Qx,D=Xx,H=null,J=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(J=l.formState)),s=_1(r,1,!0,s,l??null,c,g,x,T,D,H,J),s.context=w1(null),l=s.current,c=ar(),c=Rr(c),g=rs(c),g.callback=null,is(l,g,c),l=c,s.current.lanes=l,jr(s,l),ri(s),r[ze]=s.current,wm(r),new Af(s)},cu.version="19.1.1",cu}var B1;function $E(){if(B1)return Fm.exports;B1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fm.exports=HE(),Fm.exports}var GE=$E();const YE=ph(GE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),q1=t=>{const e=XE(t);return e.charAt(0).toUpperCase()+e.slice(1)},Wv=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),KE=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=ee.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:u,...h},m)=>ee.createElement("svg",{ref:m,...ZE,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Wv("lucide",a),...!o&&!KE(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>ee.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=ee.forwardRef(({className:i,...a},o)=>ee.createElement(JE,{ref:o,iconNode:e,className:Wv(`lucide-${QE(q1(t))}`,`lucide-${t}`,i),...a}));return n.displayName=q1(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],e2=ke("award",WE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Yf=ke("bell",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],nT=ke("bold",tT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],vp=ke("book-open",rT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],sT=ke("calculator",iT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$l=ke("calendar",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],o0=ke("chart-column",lT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$u=ke("check",oT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],u0=ke("chevron-down",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fT=ke("chevron-right",cT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],c0=ke("chevron-up",hT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mT=ke("circle-alert",dT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gh=ke("circle-check-big",pT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],F1=ke("circle-check",gT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yT=ke("circle",xT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gu=ke("clock",bT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],_T=ke("cloud-off",vT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ET=ke("cloud",wT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],NT=ke("code",TT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],AT=ke("copy",ST);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Zn=ke("crown",CT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Rs=ke("eye-off",kT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ra=ke("eye",jT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Da=ke("file-text",RT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],t2=ke("flask-conical",DT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],f0=ke("globe",IT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Qf=ke("graduation-cap",MT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],VT=ke("hash",OT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],LT=ke("italic",PT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ts=ke("key",zT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],BT=ke("link",UT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nn=ke("loader-circle",qT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],HT=ke("list",FT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gt=ke("lock",$T);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Sa=ke("megaphone",GT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],H1=ke("party-popper",YT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pa=ke("pen-line",QT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bi=ke("plus",XT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],ZT=ke("quote",KT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],La=ke("save",JT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xh=ke("search",WT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],za=ke("settings",eN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],qi=ke("shield",tN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],h0=ke("square-check-big",nN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qn=ke("star",rN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],Lf=ke("sticky-note",iN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$1=ke("target",sN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],n2=ke("toggle-left",aN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],r2=ke("toggle-right",lN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hi=ke("trash-2",oN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zf=ke("triangle-alert",uN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fN=ke("trophy",cN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],d0=ke("user-check",hN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],G1=ke("user-plus",dN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],pN=ke("user-x",mN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ci=ke("user",gN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fi=ke("users",xN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cn=ke("x",yN),Ns={1:{theory:["Mathematics-I","Physics","Programming Fundamentals","English"],practical:["Physics Lab","Programming Lab"]},2:{theory:["Mathematics-II","Chemistry","Data Structures","Digital Logic"],practical:["Chemistry Lab","DS Lab"]},3:{theory:["OOP","Discrete Math","Computer Architecture","Statistics"],practical:["OOP Lab","Hardware Lab"]},4:{theory:["DBMS","Operating Systems","Computer Networks","Software Engineering"],practical:["DBMS Lab","Networks Lab"]},5:{theory:["AIA","DAA","DBMS","ES","MLA","MDM","OE-4"],practical:["DAA Lab","DBMS Lab","MLA Lab","ES Lab"]},6:{theory:["CNN","CVPR","DV","K.ENG","MDM","SR"],practical:["CNN Lab","DV Lab","K.ENG Lab","MAD Lab","SR Lab"]},7:{theory:["Deep Learning","Big Data Analytics","Cybersecurity","Project Management"],practical:["ML Lab","Security Lab"]},8:{theory:["Major Project","Technical Seminar","Industry Training"],practical:["Project Implementation"]}},bN=["Assignment","Test","Presentation","Quiz","Certificate","Project","Other"],Ve={rollNo:"2405225",name:"Shaikh Mujahid",admissionYear:2024,isDSY:!1};function vN({students:t,onStudentSelect:e,isLoading:n,studentManagement:i}){const[a,o]=ee.useState(""),[u,h]=ee.useState(!1),[m,p]=ee.useState(null),[y,b]=ee.useState(""),[_,w]=ee.useState(!1),[S,V]=ee.useState(""),z=ee.useMemo(()=>{if(!a.trim())return t;const q=a.toLowerCase();return t.filter(L=>L.name.toLowerCase().includes(q)||L.rollNo.toLowerCase().includes(q))},[t,a]),F=async q=>{q.isProtected?(p(q),h(!0),b(""),V("")):e(q)},B=async q=>{if(q.preventDefault(),!y.trim()){V("Please enter password");return}w(!0),V("");try{await i.authenticateStudent(m,y)?(e(m),h(!1)):(V("Incorrect password. Please try again."),b(""))}catch{V("Authentication failed. Please try again.")}finally{w(!1)}},U=()=>{h(!1),p(null),b(""),V("")},$=()=>{o("")};return n?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Qf,{className:"w-16 h-16 mx-auto text-blue-600 mb-4"}),f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx(Nn,{className:"w-6 h-6 animate-spin text-blue-600"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loading Academic Tracker..."})]}),f.jsx("p",{className:"text-gray-600",children:"Setting up your student data"})]})}):u&&m?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:f.jsx("div",{className:"max-w-md w-full",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:`
                w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4
                ${m.rollNo===Ve.rollNo?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-blue-500 to-purple-500"}
              `,children:m.rollNo===Ve.rollNo?f.jsx(Zn,{className:"w-8 h-8 text-white"}):f.jsx(Gt,{className:"w-8 h-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:m.rollNo===Ve.rollNo?"Admin Authentication":"Student Authentication"}),f.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",m.name,"'s account"]})]}),f.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-2xl",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ci,{className:"w-5 h-5 text-gray-600"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-900",children:m.name}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",m.rollNo]})]})]})}),f.jsxs("form",{onSubmit:B,className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(Gt,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:"password",placeholder:"Enter password",value:y,onChange:q=>b(q.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:_,autoFocus:!0})]}),S&&f.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:S}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"submit",disabled:_||!y.trim(),className:`
                    flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed
                    ${m.rollNo===Ve.rollNo?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}
                  `,children:_?f.jsxs(f.Fragment,{children:[f.jsx(Nn,{className:"w-4 h-4 animate-spin"}),f.jsx("span",{children:"Authenticating..."})]}):f.jsxs(f.Fragment,{children:[m.rollNo===Ve.rollNo?f.jsx(Zn,{className:"w-4 h-4"}):f.jsx(qi,{className:"w-4 h-4"}),f.jsx("span",{children:"Access Account"})]})}),f.jsx("button",{type:"button",onClick:U,disabled:_,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]}),f.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:f.jsxs("p",{className:"text-sm text-blue-700 text-center",children:["This account is password protected for security.",m.rollNo===Ve.rollNo&&" Admin accounts have full system privileges."]})})]})})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:f.jsxs("div",{className:"max-w-2xl w-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:f.jsx(Qf,{className:"w-10 h-10 text-white"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Academic Progress Tracker"}),f.jsx("p",{className:"text-gray-600",children:"Select your student profile to continue"})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx(fi,{className:"w-6 h-6 text-blue-600"}),f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Select Student Profile"}),f.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.length," total)"]})]}),f.jsxs("div",{className:"relative mb-6",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(xh,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:"text",placeholder:"Search by name or roll number...",value:a,onChange:q=>o(q.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a&&f.jsx("button",{onClick:$,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f.jsx(Cn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),f.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:z.length>0?z.map(q=>f.jsx("button",{onClick:()=>F(q),className:`
                    w-full flex items-center p-4 rounded-2xl border-2 transition-all text-left
                    ${q.rollNo===Ve.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300 hover:bg-yellow-100":q.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300 hover:bg-blue-100":"border-gray-200 bg-gray-50 hover:border-blue-300 hover:bg-blue-50"}
                  `,children:f.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[f.jsx("div",{className:`
                      w-12 h-12 rounded-2xl flex items-center justify-center
                      ${q.rollNo===Ve.rollNo?"bg-yellow-200":q.isProtected?"bg-blue-200":"bg-gray-200"}
                    `,children:q.rollNo===Ve.rollNo?f.jsx(Zn,{className:"w-6 h-6 text-yellow-600"}):q.isProtected?f.jsx(Gt,{className:"w-6 h-6 text-blue-600"}):f.jsx(ci,{className:"w-6 h-6 text-gray-600"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-bold text-gray-900",children:q.name}),q.rollNo===Ve.rollNo&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Zn,{className:"w-4 h-4 text-yellow-600"}),f.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Admin"})]}),q.isProtected&&q.rollNo!==Ve.rollNo&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Gt,{className:"w-3 h-3 text-blue-600"}),f.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",q.rollNo]}),q.isProtected&&f.jsx("p",{className:"text-xs text-gray-500",children:"Password required"})]})]})},q.rollNo)):f.jsxs("div",{className:"text-center py-8 text-gray-500",children:[f.jsx(fi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),f.jsxs("p",{children:['No students found matching "',a,'"']})]})}),f.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-2xl border border-gray-200",children:f.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[f.jsx("strong",{children:"Note:"})," Students with ",f.jsx(Gt,{className:"w-3 h-3 inline mx-1"})," require password authentication. Click on any student to access their profile."]})})]})]})})}function _N({semester:t,syncStatus:e,selectedStudent:n,onStudentSwitch:i}){const{isOnline:a,isSyncing:o,lastSynced:u}=e;return f.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center",children:f.jsx(Qf,{className:"w-7 h-7 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Progress Tracker"}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Semester ",t,"  Track your academic journey"]})]})]}),f.jsxs("div",{className:"flex items-center gap-6",children:[n&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.name}),n.rollNo==="2405225"&&f.jsx(Zn,{className:"w-4 h-4 text-yellow-500"})]}),f.jsxs("span",{className:"text-xs text-gray-600",children:["Roll: ",n.rollNo]})]}),f.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",title:"Switch Student",children:f.jsx(ci,{className:"w-5 h-5 text-gray-600"})})]}),f.jsxs("div",{className:"flex flex-col items-end gap-1",children:[f.jsx("div",{className:"flex items-center gap-2",children:o?f.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[f.jsx(Nn,{className:"w-4 h-4 animate-spin"}),f.jsx("span",{className:"text-sm",children:"Syncing..."})]}):a?f.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[f.jsx(ET,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm",children:"Online"}),u&&f.jsx(gh,{className:"w-3 h-3"})]}):f.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[f.jsx(_T,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm",children:"Offline"})]})}),u&&f.jsxs("div",{className:"text-xs text-gray-500",children:["Last synced: ",u.toLocaleTimeString()]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[f.jsx($l,{className:"w-4 h-4"}),f.jsx("span",{children:"Academic Year 2024-25"})]})]})]})})})}const wN=[{id:0,label:"Theory Subjects",icon:vp},{id:1,label:"Practicals",icon:t2},{id:2,label:"Notice Board",icon:Sa},{id:3,label:"Personal Notes",icon:Lf},{id:4,label:"Student & Settings",icon:za}];function EN({activeTab:t,onTabChange:e,showDegreeTab:n=!1,showAdminTab:i=!1}){let a=[...wN];return n&&a.push({id:5,label:"Degree Completion",icon:gh}),i&&a.push({id:6,label:"Admin Privileges",icon:qi}),f.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-10",children:f.jsx("div",{className:"max-w-7xl mx-auto px-6",children:f.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:a.map(o=>f.jsxs("button",{onClick:()=>e(o.id),className:`
                flex items-center gap-2 px-6 py-4 font-medium transition-all duration-200 border-b-2 relative whitespace-nowrap
                ${t===o.id?o.id===6?"text-yellow-600 border-yellow-600 bg-yellow-50":"text-blue-600 border-blue-600 bg-blue-50":"text-gray-600 border-transparent hover:text-gray-900 hover:bg-gray-50"}
              `,children:[f.jsx(o.icon,{className:"w-5 h-5"}),f.jsx("span",{children:o.label}),t===o.id&&f.jsx(fT,{className:"w-4 h-4 ml-1"})]},o.id))})})})}function Ea({children:t,value:e,index:n,className:i=""}){return f.jsx("div",{className:`transition-all duration-300 ${e!==n?"hidden opacity-0":"opacity-100"}`,style:{display:e!==n?"none":"block"},children:f.jsx("div",{className:`p-6 ${i}`,children:t})})}const TN=ee.memo(function({subject:e,onDataChange:n,initialData:i}){const[a,o]=ee.useState({ca1:{type:"",date:"",marks:""},ca2:{type:"",date:"",marks:""},ca3:{type:"",date:"",marks:""},ca4:{type:"",date:"",marks:""},midSem:{date:"",marks:""}}),[u,h]=ee.useState(!1);ee.useEffect(()=>{i&&o(i)},[i]);const m=(w,S,V)=>{if(S==="marks"&&V!==""){const F=parseFloat(V),B=w==="midSem"?20:10;if(F<0||F>B)return}const z={...a,[w]:{...a[w],[S]:V}};o(z),n&&n(e,z)},p=()=>{let S=0;return["ca1","ca2","ca3","ca4"].forEach(V=>{a[V].type&&S++,a[V].date&&S++,a[V].marks&&S++}),a.midSem.date&&S++,a.midSem.marks&&S++,Math.round(S/14*100)},y=()=>{let w=0;["ca1","ca2","ca3","ca4"].forEach(V=>{const z=parseFloat(a[V].marks);isNaN(z)||(w+=z)});const S=parseFloat(a.midSem.marks);return isNaN(S)||(w+=S),w},b=p(),_=y();return f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[f.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white cursor-pointer",onClick:()=>h(!u),children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(vp,{className:"w-6 h-6"}),f.jsx("h3",{className:"text-lg font-bold",children:e})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"text-sm opacity-90",children:[b,"%"]}),f.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${b}%`}})})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[f.jsx(sT,{className:"w-4 h-4"}),f.jsx("span",{children:"Internal Assessment"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"text-right",children:f.jsxs("div",{className:"text-lg font-bold",children:[_,"/60"]})}),f.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg hover:bg-white/30 transition-colors",children:u?f.jsx($1,{className:"w-4 h-4"}):f.jsx(vp,{className:"w-4 h-4"})})]})]})]}),!u&&f.jsxs("div",{className:"p-4 bg-gray-50/50 cursor-pointer",onClick:()=>h(!0),children:[f.jsxs("div",{className:"grid grid-cols-5 gap-2 text-center",children:[["ca1","ca2","ca3","ca4"].map((w,S)=>f.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl border border-gray-100 bg-white shadow-sm",children:[f.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:["CA-",S+1]}),f.jsx("span",{className:`font-mono font-bold ${a[w].marks?"text-gray-800 text-lg":"text-gray-300"}`,children:a[w].marks||"0"})]},w)),f.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl border border-orange-100 bg-orange-50 shadow-sm",children:[f.jsx("span",{className:"text-xs font-bold text-orange-400 uppercase tracking-wider mb-1",children:"Mid"}),f.jsx("span",{className:`font-mono font-bold ${a.midSem.marks?"text-orange-900 text-lg":"text-orange-300"}`,children:a.midSem.marks||"0"})]})]}),f.jsx("div",{className:"mt-3 text-center",children:f.jsx("span",{className:"text-xs font-medium text-blue-500 hover:text-blue-600 transition-colors uppercase tracking-widest border-b border-dashed border-blue-300 pb-0.5",children:"Tap card to edit details"})})]}),u&&f.jsxs("div",{className:"p-6 space-y-6 animate-in slide-in-from-top-4 duration-300",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[f.jsx($1,{className:"w-4 h-4"}),"Continuous Assessment (4  10 = 40 marks)"]}),[1,2,3,4].map(w=>f.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3 border border-gray-100 hover:border-blue-200 transition-colors",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"font-medium text-gray-800",children:["CA-",w]}),a[`ca${w}`].marks&&f.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:[a[`ca${w}`].marks,"/10"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[f.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",value:a[`ca${w}`].type,onChange:S=>m(`ca${w}`,"type",S.target.value),children:[f.jsx("option",{value:"",children:"Select Type"}),bN.map(S=>f.jsx("option",{value:S,children:S},S))]}),f.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:a[`ca${w}`].date,onChange:S=>m(`ca${w}`,"date",S.target.value)}),f.jsx("input",{type:"number",min:"0",max:"10",step:"0.5",placeholder:"Marks (0-10)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:a[`ca${w}`].marks,onChange:S=>m(`ca${w}`,"marks",S.target.value),onKeyDown:S=>{(S.key==="-"||S.key==="+")&&S.preventDefault()}})]})]},w))]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[f.jsx(e2,{className:"w-4 h-4"}),"Mid Semester Exam (20 marks)"]}),f.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-4 border border-orange-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:"font-medium text-gray-800",children:"Mid-Sem Exam"}),a.midSem.marks&&f.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium",children:[a.midSem.marks,"/20"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[f.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:a.midSem.date,onChange:w=>m("midSem","date",w.target.value)}),f.jsx("input",{type:"number",min:"0",max:"20",step:"0.5",placeholder:"Marks (0-20)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:a.midSem.marks,onChange:w=>m("midSem","marks",w.target.value),onKeyDown:w=>{(w.key==="-"||w.key==="+")&&w.preventDefault()}})]})]})]}),f.jsx("button",{onClick:w=>{w.stopPropagation(),h(!1)},className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-600 font-bold rounded-xl transition-colors uppercase tracking-wide text-sm",children:"Done Editing"})]})]})});function NN({semester:t,allData:e,handleDataChange:n}){return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Theory Subjects"}),f.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",Ns[t].theory.length," subjects"]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Ns[t].theory.map(i=>f.jsx(TN,{subject:i,onDataChange:(a,o)=>n(a,o,"theory"),initialData:e[`${t}-${i}`]?.data},`${t}-${i}`))})]})}const SN=ee.memo(function({subject:e,onDataChange:n,initialData:i}){const[a,o]=ee.useState(new Set);ee.useEffect(()=>{i&&Array.isArray(i)&&o(new Set(i))},[i]);const u=m=>{const p=new Set(a);p.has(m)?p.delete(m):p.add(m),o(p),n&&n(e,Array.from(p))},h=a.size/10*100;return f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[f.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 p-4 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(t2,{className:"w-6 h-6"}),f.jsx("h3",{className:"text-lg font-bold",children:e}),f.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Practical"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"text-sm opacity-90",children:[a.size,"/10"]}),f.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${h}%`}})})]})]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-4 flex items-center gap-2",children:[f.jsx(F1,{className:"w-4 h-4"}),"Lab Experiments (",a.size,"/10 completed)"]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Array.from({length:10},(m,p)=>p+1).map(m=>f.jsx("button",{onClick:()=>u(m),className:`
                flex items-center justify-center p-4 rounded-2xl border-2 transition-all duration-200 font-medium
                ${a.has(m)?"bg-green-100 border-green-500 text-green-700 shadow-md":"bg-gray-50 border-gray-200 text-gray-600 hover:border-green-300 hover:bg-green-50"}
              `,children:f.jsxs("div",{className:"flex items-center gap-2",children:[a.has(m)?f.jsx(F1,{className:"w-4 h-4"}):f.jsx(yT,{className:"w-4 h-4"}),f.jsxs("span",{children:["Lab ",m]})]})},m))}),h===100&&f.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:f.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[f.jsx(fN,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium",children:"All labs completed! Great work! "})]})})]})]})});function AN({semester:t,allData:e,handleDataChange:n}){return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practical Subjects"}),f.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",Ns[t].practical.length," labs"]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Ns[t].practical.map(i=>f.jsx(SN,{subject:i,onDataChange:(a,o)=>n(a,o,"practical"),initialData:e[`${t}-${i}`]?.data},`${t}-${i}`))})]})}const CN=()=>{};var Y1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},kN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],m=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},s2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=o>>2,b=(o&3)<<4|h>>4;let _=(h&15)<<2|p>>6,w=p&63;m||(w=64,u||(_=64)),i.push(n[y],n[b],n[_],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||p==null||b==null)throw new jN;const _=o<<2|h>>4;if(i.push(_),p!==64){const w=h<<4&240|p>>2;if(i.push(w),b!==64){const S=p<<6&192|b;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RN=function(t){const e=i2(t);return s2.encodeByteArray(e,!0)},Xf=function(t){return RN(t).replace(/\./g,"")},DN=function(t){try{return s2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=()=>IN().__FIREBASE_DEFAULTS__,ON=()=>{if(typeof process>"u"||typeof Y1>"u")return;const t=Y1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DN(t[1]);return e&&JSON.parse(e)},m0=()=>{try{return CN()||MN()||ON()||VN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PN=t=>m0()?.emulatorHosts?.[t],LN=t=>{const e=PN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},a2=()=>m0()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xf(JSON.stringify(n)),Xf(JSON.stringify(u)),""].join(".")}const _u={};function qN(){const t={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?t.emulator.push(e):t.prod.push(e);return t}function FN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q1=!1;function HN(t,e){if(typeof window>"u"||typeof document>"u"||!p0(window.location.host)||_u[t]===e||_u[t]||Q1)return;_u[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=qN().prod.length>0;function u(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Q1=!0,u()},_}function y(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=FN(i),w=n("text"),S=document.getElementById(w)||document.createElement("span"),V=n("learnmore"),z=document.getElementById(V)||document.createElement("a"),F=n("preprendIcon"),B=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const U=_.element;h(U),y(z,V);const $=p();m(B,F),U.append(B,S,z,$),document.body.appendChild(U)}o?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GN(){const t=m0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YN(){return!GN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QN(){try{return typeof indexedDB=="object"}catch{return!1}}function XN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="FirebaseError";class Wl extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=KN,Object.setPrototypeOf(this,Wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l2.prototype.create)}}class l2{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?ZN(o,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Wl(a,h,i)}}function ZN(t,e){return t.replace(JN,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const JN=/\{\$([^}]+)}/g;function Kf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const o=t[a],u=e[a];if(X1(o)&&X1(u)){if(!Kf(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function X1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){return t&&t._delegate?t._delegate:t}class ku{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new zN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tS(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(t){return t===Na?void 0:t}function tS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const rS={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},iS=nt.INFO,sS={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},aS=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=sS[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o2{constructor(e){this.name=e,this._logLevel=iS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const lS=(t,e)=>e.some(n=>t instanceof n);let K1,Z1;function oS(){return K1||(K1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return Z1||(Z1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u2=new WeakMap,_p=new WeakMap,c2=new WeakMap,Ym=new WeakMap,g0=new WeakMap;function cS(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(As(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&u2.set(n,t)}).catch(()=>{}),g0.set(e,t),e}function fS(t){if(_p.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});_p.set(t,e)}let wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hS(t){wp=t(wp)}function dS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Qm(this),e,...n);return c2.set(i,e.sort?e.sort():[e]),As(i)}:uS().includes(t)?function(...e){return t.apply(Qm(this),e),As(u2.get(this))}:function(...e){return As(t.apply(Qm(this),e))}}function mS(t){return typeof t=="function"?dS(t):(t instanceof IDBTransaction&&fS(t),lS(t,oS())?new Proxy(t,wp):t)}function As(t){if(t instanceof IDBRequest)return cS(t);if(Ym.has(t))return Ym.get(t);const e=mS(t);return e!==t&&(Ym.set(t,e),g0.set(e,t)),e}const Qm=t=>g0.get(t);function pS(t,e,{blocked:n,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=As(u);return i&&u.addEventListener("upgradeneeded",m=>{i(As(u.result),m.oldVersion,m.newVersion,As(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{o&&m.addEventListener("close",()=>o()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const gS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Xm=new Map;function J1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=xS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||gS.includes(n)))return;const o=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&m.done]))[0]};return Xm.set(e,o),o}hS(t=>({...t,get:(e,n,i)=>J1(e,n)||t.get(e,n,i),has:(e,n)=>!!J1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bS(t){return t.getComponent()?.type==="VERSION"}const Ep="@firebase/app",W1="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new o2("@firebase/app"),vS="@firebase/app-compat",_S="@firebase/analytics-compat",wS="@firebase/analytics",ES="@firebase/app-check-compat",TS="@firebase/app-check",NS="@firebase/auth",SS="@firebase/auth-compat",AS="@firebase/database",CS="@firebase/data-connect",kS="@firebase/database-compat",jS="@firebase/functions",RS="@firebase/functions-compat",DS="@firebase/installations",IS="@firebase/installations-compat",MS="@firebase/messaging",OS="@firebase/messaging-compat",VS="@firebase/performance",PS="@firebase/performance-compat",LS="@firebase/remote-config",zS="@firebase/remote-config-compat",US="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",FS="@firebase/ai",HS="@firebase/firestore-compat",$S="firebase",GS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",YS={[Ep]:"fire-core",[vS]:"fire-core-compat",[wS]:"fire-analytics",[_S]:"fire-analytics-compat",[TS]:"fire-app-check",[ES]:"fire-app-check-compat",[NS]:"fire-auth",[SS]:"fire-auth-compat",[AS]:"fire-rtdb",[CS]:"fire-data-connect",[kS]:"fire-rtdb-compat",[jS]:"fire-fn",[RS]:"fire-fn-compat",[DS]:"fire-iid",[IS]:"fire-iid-compat",[MS]:"fire-fcm",[OS]:"fire-fcm-compat",[VS]:"fire-perf",[PS]:"fire-perf-compat",[LS]:"fire-rc",[zS]:"fire-rc-compat",[US]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[HS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[$S]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,QS=new Map,Np=new Map;function eb(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jf(t){const e=t.name;if(Np.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,t);for(const n of Zf.values())eb(n,t);for(const n of QS.values())eb(n,t);return!0}function XS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function KS(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new l2("app","Firebase",ZS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ku("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=GS;function f2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Tp,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Cs.create("bad-app-name",{appName:String(a)});if(n||(n=a2()),!n)throw Cs.create("no-options");const o=Zf.get(a);if(o){if(Kf(n,o.options)&&Kf(i,o.config))return o;throw Cs.create("duplicate-app",{appName:a})}const u=new nS(a);for(const m of Np.values())u.addComponent(m);const h=new JS(n,i,u);return Zf.set(a,h),h}function e3(t=Tp){const e=Zf.get(t);if(!e&&t===Tp&&a2())return f2();if(!e)throw Cs.create("no-app",{appName:t});return e}function Bl(t,e,n){let i=YS[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(u.join(" "));return}Jf(new ku(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="firebase-heartbeat-database",n3=1,ju="firebase-heartbeat-store";let Km=null;function h2(){return Km||(Km=pS(t3,n3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),Km}async function r3(t){try{const n=(await h2()).transaction(ju),i=await n.objectStore(ju).get(d2(t));return await n.done,i}catch(e){if(e instanceof Wl)$i.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e?.message});$i.warn(n.message)}}}async function tb(t,e){try{const i=(await h2()).transaction(ju,"readwrite");await i.objectStore(ju).put(e,d2(t)),await i.done}catch(n){if(n instanceof Wl)$i.warn(n.message);else{const i=Cs.create("idb-set",{originalErrorMessage:n?.message});$i.warn(i.message)}}}function d2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=1024,s3=30;class a3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>s3){const a=u3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nb(),{heartbeatsToSend:n,unsentEntries:i}=l3(this._heartbeatsCache.heartbeats),a=Xf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return $i.warn(e),""}}}function nb(){return new Date().toISOString().substring(0,10)}function l3(t,e=i3){const n=[];let i=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),rb(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class o3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QN()?XN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return tb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return tb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rb(t){return Xf(JSON.stringify({version:2,heartbeats:t})).length}function u3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){Jf(new ku("platform-logger",e=>new yS(e),"PRIVATE")),Jf(new ku("heartbeat",e=>new a3(e),"PRIVATE")),Bl(Ep,W1,t),Bl(Ep,W1,"esm2020"),Bl("fire-js","")}c3("");var ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,m2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function M(){}M.prototype=C.prototype,R.D=C.prototype,R.prototype=new M,R.prototype.constructor=R,R.C=function(k,I,P){for(var A=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)A[ae-2]=arguments[ae];return C.prototype[I].apply(k,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,C,M){M||(M=0);var k=Array(16);if(typeof C=="string")for(var I=0;16>I;++I)k[I]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(I=0;16>I;++I)k[I]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=R.g[0],M=R.g[1],I=R.g[2];var P=R.g[3],A=C+(P^M&(I^P))+k[0]+3614090360&4294967295;C=M+(A<<7&4294967295|A>>>25),A=P+(I^C&(M^I))+k[1]+3905402710&4294967295,P=C+(A<<12&4294967295|A>>>20),A=I+(M^P&(C^M))+k[2]+606105819&4294967295,I=P+(A<<17&4294967295|A>>>15),A=M+(C^I&(P^C))+k[3]+3250441966&4294967295,M=I+(A<<22&4294967295|A>>>10),A=C+(P^M&(I^P))+k[4]+4118548399&4294967295,C=M+(A<<7&4294967295|A>>>25),A=P+(I^C&(M^I))+k[5]+1200080426&4294967295,P=C+(A<<12&4294967295|A>>>20),A=I+(M^P&(C^M))+k[6]+2821735955&4294967295,I=P+(A<<17&4294967295|A>>>15),A=M+(C^I&(P^C))+k[7]+4249261313&4294967295,M=I+(A<<22&4294967295|A>>>10),A=C+(P^M&(I^P))+k[8]+1770035416&4294967295,C=M+(A<<7&4294967295|A>>>25),A=P+(I^C&(M^I))+k[9]+2336552879&4294967295,P=C+(A<<12&4294967295|A>>>20),A=I+(M^P&(C^M))+k[10]+4294925233&4294967295,I=P+(A<<17&4294967295|A>>>15),A=M+(C^I&(P^C))+k[11]+2304563134&4294967295,M=I+(A<<22&4294967295|A>>>10),A=C+(P^M&(I^P))+k[12]+1804603682&4294967295,C=M+(A<<7&4294967295|A>>>25),A=P+(I^C&(M^I))+k[13]+4254626195&4294967295,P=C+(A<<12&4294967295|A>>>20),A=I+(M^P&(C^M))+k[14]+2792965006&4294967295,I=P+(A<<17&4294967295|A>>>15),A=M+(C^I&(P^C))+k[15]+1236535329&4294967295,M=I+(A<<22&4294967295|A>>>10),A=C+(I^P&(M^I))+k[1]+4129170786&4294967295,C=M+(A<<5&4294967295|A>>>27),A=P+(M^I&(C^M))+k[6]+3225465664&4294967295,P=C+(A<<9&4294967295|A>>>23),A=I+(C^M&(P^C))+k[11]+643717713&4294967295,I=P+(A<<14&4294967295|A>>>18),A=M+(P^C&(I^P))+k[0]+3921069994&4294967295,M=I+(A<<20&4294967295|A>>>12),A=C+(I^P&(M^I))+k[5]+3593408605&4294967295,C=M+(A<<5&4294967295|A>>>27),A=P+(M^I&(C^M))+k[10]+38016083&4294967295,P=C+(A<<9&4294967295|A>>>23),A=I+(C^M&(P^C))+k[15]+3634488961&4294967295,I=P+(A<<14&4294967295|A>>>18),A=M+(P^C&(I^P))+k[4]+3889429448&4294967295,M=I+(A<<20&4294967295|A>>>12),A=C+(I^P&(M^I))+k[9]+568446438&4294967295,C=M+(A<<5&4294967295|A>>>27),A=P+(M^I&(C^M))+k[14]+3275163606&4294967295,P=C+(A<<9&4294967295|A>>>23),A=I+(C^M&(P^C))+k[3]+4107603335&4294967295,I=P+(A<<14&4294967295|A>>>18),A=M+(P^C&(I^P))+k[8]+1163531501&4294967295,M=I+(A<<20&4294967295|A>>>12),A=C+(I^P&(M^I))+k[13]+2850285829&4294967295,C=M+(A<<5&4294967295|A>>>27),A=P+(M^I&(C^M))+k[2]+4243563512&4294967295,P=C+(A<<9&4294967295|A>>>23),A=I+(C^M&(P^C))+k[7]+1735328473&4294967295,I=P+(A<<14&4294967295|A>>>18),A=M+(P^C&(I^P))+k[12]+2368359562&4294967295,M=I+(A<<20&4294967295|A>>>12),A=C+(M^I^P)+k[5]+4294588738&4294967295,C=M+(A<<4&4294967295|A>>>28),A=P+(C^M^I)+k[8]+2272392833&4294967295,P=C+(A<<11&4294967295|A>>>21),A=I+(P^C^M)+k[11]+1839030562&4294967295,I=P+(A<<16&4294967295|A>>>16),A=M+(I^P^C)+k[14]+4259657740&4294967295,M=I+(A<<23&4294967295|A>>>9),A=C+(M^I^P)+k[1]+2763975236&4294967295,C=M+(A<<4&4294967295|A>>>28),A=P+(C^M^I)+k[4]+1272893353&4294967295,P=C+(A<<11&4294967295|A>>>21),A=I+(P^C^M)+k[7]+4139469664&4294967295,I=P+(A<<16&4294967295|A>>>16),A=M+(I^P^C)+k[10]+3200236656&4294967295,M=I+(A<<23&4294967295|A>>>9),A=C+(M^I^P)+k[13]+681279174&4294967295,C=M+(A<<4&4294967295|A>>>28),A=P+(C^M^I)+k[0]+3936430074&4294967295,P=C+(A<<11&4294967295|A>>>21),A=I+(P^C^M)+k[3]+3572445317&4294967295,I=P+(A<<16&4294967295|A>>>16),A=M+(I^P^C)+k[6]+76029189&4294967295,M=I+(A<<23&4294967295|A>>>9),A=C+(M^I^P)+k[9]+3654602809&4294967295,C=M+(A<<4&4294967295|A>>>28),A=P+(C^M^I)+k[12]+3873151461&4294967295,P=C+(A<<11&4294967295|A>>>21),A=I+(P^C^M)+k[15]+530742520&4294967295,I=P+(A<<16&4294967295|A>>>16),A=M+(I^P^C)+k[2]+3299628645&4294967295,M=I+(A<<23&4294967295|A>>>9),A=C+(I^(M|~P))+k[0]+4096336452&4294967295,C=M+(A<<6&4294967295|A>>>26),A=P+(M^(C|~I))+k[7]+1126891415&4294967295,P=C+(A<<10&4294967295|A>>>22),A=I+(C^(P|~M))+k[14]+2878612391&4294967295,I=P+(A<<15&4294967295|A>>>17),A=M+(P^(I|~C))+k[5]+4237533241&4294967295,M=I+(A<<21&4294967295|A>>>11),A=C+(I^(M|~P))+k[12]+1700485571&4294967295,C=M+(A<<6&4294967295|A>>>26),A=P+(M^(C|~I))+k[3]+2399980690&4294967295,P=C+(A<<10&4294967295|A>>>22),A=I+(C^(P|~M))+k[10]+4293915773&4294967295,I=P+(A<<15&4294967295|A>>>17),A=M+(P^(I|~C))+k[1]+2240044497&4294967295,M=I+(A<<21&4294967295|A>>>11),A=C+(I^(M|~P))+k[8]+1873313359&4294967295,C=M+(A<<6&4294967295|A>>>26),A=P+(M^(C|~I))+k[15]+4264355552&4294967295,P=C+(A<<10&4294967295|A>>>22),A=I+(C^(P|~M))+k[6]+2734768916&4294967295,I=P+(A<<15&4294967295|A>>>17),A=M+(P^(I|~C))+k[13]+1309151649&4294967295,M=I+(A<<21&4294967295|A>>>11),A=C+(I^(M|~P))+k[4]+4149444226&4294967295,C=M+(A<<6&4294967295|A>>>26),A=P+(M^(C|~I))+k[11]+3174756917&4294967295,P=C+(A<<10&4294967295|A>>>22),A=I+(C^(P|~M))+k[2]+718787259&4294967295,I=P+(A<<15&4294967295|A>>>17),A=M+(P^(I|~C))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(I+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+P&4294967295}i.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var M=C-this.blockSize,k=this.B,I=this.h,P=0;P<C;){if(I==0)for(;P<=M;)a(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<C;)if(k[I++]=R.charCodeAt(P++),I==this.blockSize){a(this,k),I=0;break}}else for(;P<C;)if(k[I++]=R[P++],I==this.blockSize){a(this,k),I=0;break}}this.h=I,this.o+=C},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var M=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=M&255,M/=256;for(this.u(R),R=Array(16),C=M=0;4>C;++C)for(var k=0;32>k;k+=8)R[M++]=this.g[C]>>>k&255;return R};function o(R,C){var M=h;return Object.prototype.hasOwnProperty.call(M,R)?M[R]:M[R]=C(R)}function u(R,C){this.h=C;for(var M=[],k=!0,I=R.length-1;0<=I;I--){var P=R[I]|0;k&&P==C||(M[I]=P,k=!1)}this.g=M}var h={};function m(R){return-128<=R&&128>R?o(R,function(C){return new u([C|0],0>C?-1:0)}):new u([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return b;if(0>R)return z(p(-R));for(var C=[],M=1,k=0;R>=M;k++)C[k]=R/M|0,M*=4294967296;return new u(C,0)}function y(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return z(y(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(C,8)),k=b,I=0;I<R.length;I+=8){var P=Math.min(8,R.length-I),A=parseInt(R.substring(I,I+P),C);8>P?(P=p(Math.pow(C,P)),k=k.j(P).add(p(A))):(k=k.j(M),k=k.add(p(A)))}return k}var b=m(0),_=m(1),w=m(16777216);t=u.prototype,t.m=function(){if(V(this))return-z(this).m();for(var R=0,C=1,M=0;M<this.g.length;M++){var k=this.i(M);R+=(0<=k?k:4294967296+k)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(V(this))return"-"+z(this).toString(R);for(var C=p(Math.pow(R,6)),M=this,k="";;){var I=$(M,C).g;M=F(M,I.j(C));var P=((0<M.g.length?M.g[0]:M.h)>>>0).toString(R);if(M=I,S(M))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function V(R){return R.h==-1}t.l=function(R){return R=F(this,R),V(R)?-1:S(R)?0:1};function z(R){for(var C=R.g.length,M=[],k=0;k<C;k++)M[k]=~R.g[k];return new u(M,~R.h).add(_)}t.abs=function(){return V(this)?z(this):this},t.add=function(R){for(var C=Math.max(this.g.length,R.g.length),M=[],k=0,I=0;I<=C;I++){var P=k+(this.i(I)&65535)+(R.i(I)&65535),A=(P>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);k=A>>>16,P&=65535,A&=65535,M[I]=A<<16|P}return new u(M,M[M.length-1]&-2147483648?-1:0)};function F(R,C){return R.add(z(C))}t.j=function(R){if(S(this)||S(R))return b;if(V(this))return V(R)?z(this).j(z(R)):z(z(this).j(R));if(V(R))return z(this.j(z(R)));if(0>this.l(w)&&0>R.l(w))return p(this.m()*R.m());for(var C=this.g.length+R.g.length,M=[],k=0;k<2*C;k++)M[k]=0;for(k=0;k<this.g.length;k++)for(var I=0;I<R.g.length;I++){var P=this.i(k)>>>16,A=this.i(k)&65535,ae=R.i(I)>>>16,ge=R.i(I)&65535;M[2*k+2*I]+=A*ge,B(M,2*k+2*I),M[2*k+2*I+1]+=P*ge,B(M,2*k+2*I+1),M[2*k+2*I+1]+=A*ae,B(M,2*k+2*I+1),M[2*k+2*I+2]+=P*ae,B(M,2*k+2*I+2)}for(k=0;k<C;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=C;k<2*C;k++)M[k]=0;return new u(M,0)};function B(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function U(R,C){this.g=R,this.h=C}function $(R,C){if(S(C))throw Error("division by zero");if(S(R))return new U(b,b);if(V(R))return C=$(z(R),C),new U(z(C.g),z(C.h));if(V(C))return C=$(R,z(C)),new U(z(C.g),C.h);if(30<R.g.length){if(V(R)||V(C))throw Error("slowDivide_ only works with positive integers.");for(var M=_,k=C;0>=k.l(R);)M=q(M),k=q(k);var I=L(M,1),P=L(k,1);for(k=L(k,2),M=L(M,2);!S(k);){var A=P.add(k);0>=A.l(R)&&(I=I.add(M),P=A),k=L(k,1),M=L(M,1)}return C=F(R,I.j(C)),new U(I,C)}for(I=b;0<=R.l(C);){for(M=Math.max(1,Math.floor(R.m()/C.m())),k=Math.ceil(Math.log(M)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=p(M),A=P.j(C);V(A)||0<A.l(R);)M-=k,P=p(M),A=P.j(C);S(P)&&(P=_),I=I.add(P),R=F(R,A)}return new U(I,R)}t.A=function(R){return $(this,R).h},t.and=function(R){for(var C=Math.max(this.g.length,R.g.length),M=[],k=0;k<C;k++)M[k]=this.i(k)&R.i(k);return new u(M,this.h&R.h)},t.or=function(R){for(var C=Math.max(this.g.length,R.g.length),M=[],k=0;k<C;k++)M[k]=this.i(k)|R.i(k);return new u(M,this.h|R.h)},t.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),M=[],k=0;k<C;k++)M[k]=this.i(k)^R.i(k);return new u(M,this.h^R.h)};function q(R){for(var C=R.g.length+1,M=[],k=0;k<C;k++)M[k]=R.i(k)<<1|R.i(k-1)>>>31;return new u(M,R.h)}function L(R,C){var M=C>>5;C%=32;for(var k=R.g.length-M,I=[],P=0;P<k;P++)I[P]=0<C?R.i(P+M)>>>C|R.i(P+M+1)<<32-C:R.i(P+M);return new u(I,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,m2=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,ks=u}).apply(typeof ib<"u"?ib:typeof self<"u"?self:typeof window<"u"?window:{});var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p2,xu,g2,Uf,Sp,x2,y2,b2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kf=="object"&&kf];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(d,v){if(v)e:{var E=i;d=d.split(".");for(var O=0;O<d.length-1;O++){var K=d[O];if(!(K in E))break e;E=E[K]}d=d[d.length-1],O=E[d],v=v(O),v!=O&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,O=!1,K={next:function(){if(!O&&E<d.length){var se=E++;return{value:v(se,d[se]),done:!1}}return O=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,E){return d.call.apply(d.bind,arguments)}function b(d,v,E){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,O),d.apply(v,K)}}return function(){return d.apply(v,arguments)}}function _(d,v,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,_.apply(null,arguments)}function w(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function S(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(O,K,se){for(var _e=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)_e[Je-2]=arguments[Je];return v.prototype[K].apply(O,_e)}}function V(d){const v=d.length;if(0<v){const E=Array(v);for(let O=0;O<v;O++)E[O]=d[O];return E}return[]}function z(d,v){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(m(O)){const K=d.length||0,se=O.length||0;d.length=K+se;for(let _e=0;_e<se;_e++)d[K+_e]=O[_e]}else d.push(O)}}class F{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(d){return/^[\s\xa0]*$/.test(d)}function U(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var q=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function L(d,v,E){for(const O in d)v.call(E,d[O],O,d)}function R(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function C(d){const v={};for(const E in d)v[E]=d[E];return v}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,v){let E,O;for(let K=1;K<arguments.length;K++){O=arguments[K];for(E in O)d[E]=O[E];for(let se=0;se<M.length;se++)E=M[se],Object.prototype.hasOwnProperty.call(O,E)&&(d[E]=O[E])}}function I(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function P(d){h.setTimeout(()=>{throw d},0)}function A(){var d=Ae;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ae{constructor(){this.h=this.g=null}add(v,E){const O=ge.get();O.set(v,E),this.h?this.h.next=O:this.g=O,this.h=O}}var ge=new F(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ve=!1,Ae=new ae,N=()=>{const d=h.Promise.resolve(void 0);fe=()=>{d.then(le)}};var le=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(E){P(E)}var v=ge;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ve=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var Q=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return d})();function xe(d,v){if(j.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(q){e:{try{$(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ie[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&xe.aa.h.call(this)}}S(xe,j);var ie={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function wt(d,v,E,O,K){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!O,this.ha=K,this.key=++Ne,this.da=this.fa=!1}function jt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Et(d){this.src=d,this.g={},this.h=0}Et.prototype.add=function(d,v,E,O,K){var se=d.toString();d=this.g[se],d||(d=this.g[se]=[],this.h++);var _e=jn(d,v,O,K);return-1<_e?(v=d[_e],E||(v.fa=!1)):(v=new wt(v,this.src,se,!!O,K),v.fa=E,d.push(v)),v};function Wn(d,v){var E=v.type;if(E in d.g){var O=d.g[E],K=Array.prototype.indexOf.call(O,v,void 0),se;(se=0<=K)&&Array.prototype.splice.call(O,K,1),se&&(jt(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function jn(d,v,E,O){for(var K=0;K<d.length;++K){var se=d[K];if(!se.da&&se.listener==v&&se.capture==!!E&&se.ha==O)return K}return-1}var Un="closure_lm_"+(1e6*Math.random()|0),Bn={};function Ur(d,v,E,O,K){if(Array.isArray(v)){for(var se=0;se<v.length;se++)Ur(d,v[se],E,O,K);return null}return E=pi(E),d&&d[be]?d.K(v,E,p(O)?!!O.capture:!1,K):Rt(d,v,E,!1,O,K)}function Rt(d,v,E,O,K,se){if(!v)throw Error("Invalid event type");var _e=p(K)?!!K.capture:!!K,Je=dr(d);if(Je||(d[Un]=Je=new Et(d)),E=Je.add(v,E,O,_e,se),E.proxy)return E;if(O=Br(),E.proxy=O,O.src=d,O.listener=E,d.addEventListener)Q||(K=_e),K===void 0&&(K=!1),d.addEventListener(v.toString(),O,K);else if(d.attachEvent)d.attachEvent(hr(v.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Br(){function d(E){return v.call(d.src,d.listener,E)}const v=qs;return d}function fr(d,v,E,O,K){if(Array.isArray(v))for(var se=0;se<v.length;se++)fr(d,v[se],E,O,K);else O=p(O)?!!O.capture:!!O,E=pi(E),d&&d[be]?(d=d.i,v=String(v).toString(),v in d.g&&(se=d.g[v],E=jn(se,E,O,K),-1<E&&(jt(se[E]),Array.prototype.splice.call(se,E,1),se.length==0&&(delete d.g[v],d.h--)))):d&&(d=dr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=jn(v,E,O,K)),(E=-1<d?v[d]:null)&&qn(E))}function qn(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[be])Wn(v.i,d);else{var E=d.type,O=d.proxy;v.removeEventListener?v.removeEventListener(E,O,d.capture):v.detachEvent?v.detachEvent(hr(E),O):v.addListener&&v.removeListener&&v.removeListener(O),(E=dr(v))?(Wn(E,d),E.h==0&&(E.src=null,v[Un]=null)):jt(d)}}}function hr(d){return d in Bn?Bn[d]:Bn[d]="on"+d}function qs(d,v){if(d.da)d=!0;else{v=new xe(v,this);var E=d.listener,O=d.ha||d.src;d.fa&&qn(d),d=E.call(O,v)}return d}function dr(d){return d=d[Un],d instanceof Et?d:null}var Fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pi(d){return typeof d=="function"?d:(d[Fn]||(d[Fn]=function(v){return d.handleEvent(v)}),d[Fn])}function ne(){te.call(this),this.i=new Et(this),this.M=this,this.F=null}S(ne,te),ne.prototype[be]=!0,ne.prototype.removeEventListener=function(d,v,E,O){fr(this,d,v,E,O)};function de(d,v){var E,O=d.F;if(O)for(E=[];O;O=O.F)E.push(O);if(d=d.M,O=v.type||v,typeof v=="string")v=new j(v,d);else if(v instanceof j)v.target=v.target||d;else{var K=v;v=new j(O,d),k(v,K)}if(K=!0,E)for(var se=E.length-1;0<=se;se--){var _e=v.g=E[se];K=Ce(_e,O,!0,v)&&K}if(_e=v.g=d,K=Ce(_e,O,!0,v)&&K,K=Ce(_e,O,!1,v)&&K,E)for(se=0;se<E.length;se++)_e=v.g=E[se],K=Ce(_e,O,!1,v)&&K}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],O=0;O<E.length;O++)jt(E[O]);delete d.g[v],d.h--}}this.F=null},ne.prototype.K=function(d,v,E,O){return this.i.add(String(d),v,!1,E,O)},ne.prototype.L=function(d,v,E,O){return this.i.add(String(d),v,!0,E,O)};function Ce(d,v,E,O){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,se=0;se<v.length;++se){var _e=v[se];if(_e&&!_e.da&&_e.capture==E){var Je=_e.listener,Kt=_e.ha||_e.src;_e.fa&&Wn(d.i,_e),K=Je.call(Kt,O)!==!1&&K}}return K&&!O.defaultPrevented}function Re(d,v,E){if(typeof d=="function")E&&(d=_(d,E));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function He(d){d.g=Re(()=>{d.g=null,d.i&&(d.i=!1,He(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class un extends te{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(d){te.call(this),this.h=d,this.g={}}S(tn,te);var Xt=[];function bn(d){L(d.g,function(v,E){this.g.hasOwnProperty(E)&&qn(v)},d),d.g={}}tn.prototype.N=function(){tn.aa.N.call(this),bn(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zt=h.JSON.stringify,St=h.JSON.parse,vn=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function cn(){}cn.prototype.h=null;function Fs(d){return d.h||(d.h=d.i())}function Hs(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){j.call(this,"d")}S(jr,j);function $s(){j.call(this,"c")}S($s,j);var mr={},Gs=null;function Rr(){return Gs=Gs||new ne}mr.La="serverreachability";function gi(d){j.call(this,mr.La,d)}S(gi,j);function qr(d){const v=Rr();de(v,new gi(v))}mr.STAT_EVENT="statevent";function Fa(d,v){j.call(this,mr.STAT_EVENT,d),this.stat=v}S(Fa,j);function xt(d){const v=Rr();de(v,new Fa(v,d))}mr.Ma="timingevent";function yt(d,v){j.call(this,mr.Ma,d),this.size=v}S(yt,j);function oe(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function ze(){this.g=!0}ze.prototype.xa=function(){this.g=!1};function Tt(d,v,E,O,K,se){d.info(function(){if(d.g)if(se)for(var _e="",Je=se.split("&"),Kt=0;Kt<Je.length;Kt++){var We=Je[Kt].split("=");if(1<We.length){var rn=We[0];We=We[1];var Zt=rn.split("_");_e=2<=Zt.length&&Zt[1]=="type"?_e+(rn+"="+We+"&"):_e+(rn+"=redacted&")}}else _e=null;else _e=se;return"XMLHTTP REQ ("+O+") [attempt "+K+"]: "+v+`
`+E+`
`+_e})}function Ys(d,v,E,O,K,se,_e){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+K+"]: "+v+`
`+E+`
`+se+" "+_e})}function Ki(d,v,E,O){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qs(d,E)+(O?" "+O:"")})}function oc(d,v){d.info(function(){return"TIMEOUT: "+v})}ze.prototype.info=function(){};function Qs(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var O=E[d];if(!(2>O.length)){var K=O[1];if(Array.isArray(K)&&!(1>K.length)){var se=K[0];if(se!="noop"&&se!="stop"&&se!="close")for(var _e=1;_e<K.length;_e++)K[_e]=""}}}}return zt(E)}catch{return v}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function Hr(){}S(Hr,cn),Hr.prototype.g=function(){return new XMLHttpRequest},Hr.prototype.i=function(){return{}},Fr=new Hr;function Rn(d,v,E,O){this.j=d,this.i=v,this.l=E,this.R=O||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var uo={},Ha={};function Dr(d,v,E){d.L=1,d.v=Ws(er(v)),d.m=E,d.P=!0,yi(d,null)}function yi(d,v){d.F=Date.now(),Xs(d),d.A=er(d.v);var E=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),go(E.i,"t",O),d.C=0,E=d.j.J,d.h=new Ot,d.g=Tc(d.j,E?v:null,!d.m),0<d.O&&(d.M=new un(_(d.Y,d,d.g),d.O)),v=d.U,E=d.g,O=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(Xt[0]=K.toString()),K=Xt);for(var se=0;se<K.length;se++){var _e=Ur(E,K[se],O||v.handleEvent,!1,v.h||v);if(!_e)break;v.g[_e.key]=_e}v=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),qr(),Tt(d.i,d.u,d.A,d.l,d.R,d.m)}Rn.prototype.ca=function(d){d=d.target;const v=this.M;v&&yr(d)==3?v.j():this.Y(d)},Rn.prototype.Y=function(d){try{if(d==this.g)e:{const Zt=yr(this.g);var v=this.g.Ba();const Si=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||gc(this.g)))){this.J||Zt!=4||v==7||(v==8||0>=Si?qr(3):qr(2)),Ji(this);var E=this.g.Z();this.X=E;t:if(uc(this)){var O=gc(this.g);d="";var K=O.length,se=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),$r(this);var _e="";break t}this.h.i=new h.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,d+=this.h.i.decode(O[v],{stream:!(se&&v==K-1)});O.length=0,this.h.g+=d,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=E==200,Ys(this.i,this.u,this.A,this.l,this.R,Zt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Kt=this.g;if((Je=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Je)){var We=Je;break t}}We=null}if(E=We)Ki(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,E);else{this.o=!1,this.s=3,xt(12),fn(this),$r(this);break e}}if(this.P){E=!0;let hn;for(;!this.J&&this.C<_e.length;)if(hn=cc(this,_e),hn==Ha){Zt==4&&(this.s=4,xt(14),E=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==uo){this.s=4,xt(15),Ki(this.i,this.l,_e,"[Invalid Chunk]"),E=!1;break}else Ki(this.i,this.l,hn,null),Ks(this,hn);if(uc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||_e.length!=0||this.h.h||(this.s=1,xt(16),E=!1),this.o=this.o&&E,!E)Ki(this.i,this.l,_e,"[Invalid Chunked Response]"),fn(this),$r(this);else if(0<_e.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),la(rn),rn.M=!0,xt(11))}}else Ki(this.i,this.l,_e,null),Ks(this,_e);Zt==4&&fn(this),this.o&&!this.J&&(Zt==4?_c(this.j,this):(this.o=!1,Xs(this)))}else Xh(this.g),E==400&&0<_e.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),fn(this),$r(this)}}}catch{}finally{}};function uc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function cc(d,v){var E=d.C,O=v.indexOf(`
`,E);return O==-1?Ha:(E=Number(v.substring(E,O)),isNaN(E)?uo:(O+=1,O+E>v.length?Ha:(v=v.slice(O,O+E),d.C=O+E,v)))}Rn.prototype.cancel=function(){this.J=!0,fn(this)};function Xs(d){d.S=Date.now()+d.I,fc(d,d.I)}function fc(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=oe(_(d.ba,d),v)}function Ji(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Rn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(oc(this.i,this.A),this.L!=2&&(qr(),xt(17)),fn(this),this.s=2,$r(this)):fc(this,this.S-d)};function $r(d){d.j.G==0||d.J||_c(d.j,d)}function fn(d){Ji(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,bn(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ks(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||co(E.h,d))){if(!d.K&&co(E.h,d)&&E.G==3){try{var O=E.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var K=O;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)nl(E),el(E);else break e;_o(E),xt(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=oe(_(E.Za,E),6e3));if(1>=Ga(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ni(E,11)}else if((d.K||E.g==d)&&nl(E),!B(v))for(K=E.Da.g.parse(v),v=0;v<K.length;v++){let We=K[v];if(E.T=We[0],We=We[1],E.G==2)if(We[0]=="c"){E.K=We[1],E.ia=We[2];const rn=We[3];rn!=null&&(E.la=rn,E.j.info("VER="+E.la));const Zt=We[4];Zt!=null&&(E.Aa=Zt,E.j.info("SVER="+E.Aa));const Si=We[5];Si!=null&&typeof Si=="number"&&0<Si&&(O=1.5*Si,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const hn=d.g;if(hn){const Jr=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var se=O.h;se.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ya(se,se.h),se.h=null))}if(O.D){const Eo=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(O.ya=Eo,ct(O.I,O.D,Eo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var _e=d;if(O.qa=Ec(O,O.J?O.ia:null,O.W),_e.K){Dn(O.h,_e);var Je=_e,Kt=O.L;Kt&&(Je.I=Kt),Je.B&&(Ji(Je),Xs(Je)),O.g=_e}else bc(O);0<E.i.length&&tl(E)}else We[0]!="stop"&&We[0]!="close"||Ni(E,7);else E.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ni(E,7):bo(E):We[0]!="noop"&&E.l&&E.l.ta(We),E.v=0)}}qr(4)}catch{}}var hc=class{constructor(d,v){this.g=d,this.map=v}};function bi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $a(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ga(d){return d.h?1:d.g?d.g.size:0}function co(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ya(d,v){d.g?d.g.add(v):d.h=v}function Dn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}bi.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function fo(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return V(d.i)}function $h(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var v=[],E=d.length,O=0;O<E;O++)v.push(d[O]);return v}v=[],E=0;for(O in d)v[E++]=d[O];return v}function Qa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const O in d)v[E++]=O;return v}}}function ho(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=Qa(d),O=$h(d),K=O.length,se=0;se<K;se++)v.call(void 0,O[se],E&&E[se],d)}var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gh(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var O=d[E].indexOf("="),K=null;if(0<=O){var se=d[E].substring(0,O);K=d[E].substring(O+1)}else se=d[E];v(se,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ut(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ut){this.h=d.h,Js(this,d.j),this.o=d.o,this.g=d.g,Wi(this,d.s),this.l=d.l;var v=d.i,E=new _i;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),vi(this,E),this.m=d.m}else d&&(v=String(d).match(Zs))?(this.h=!1,Js(this,v[1]||"",!0),this.o=pr(v[2]||""),this.g=pr(v[3]||"",!0),Wi(this,v[4]),this.l=pr(v[5]||"",!0),vi(this,v[6]||"",!0),this.m=pr(v[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}Ut.prototype.toString=function(){var d=[],v=this.j;v&&d.push(ea(v,mo,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ea(v,mo,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(ea(E,E.charAt(0)=="/"?Yh:po,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",ea(E,Xa)),d.join("")};function er(d){return new Ut(d)}function Js(d,v,E){d.j=E?pr(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Wi(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function vi(d,v,E){v instanceof _i?(d.i=v,mc(d.i,d.h)):(E||(v=ea(v,Qh)),d.i=new _i(v,d.h))}function ct(d,v,E){d.i.set(v,E)}function Ws(d){return ct(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function pr(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ea(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,dc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function dc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var mo=/[#\/\?@]/g,po=/[#\?:]/g,Yh=/[#\?]/g,Qh=/[#\?@]/g,Xa=/#/g;function _i(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function gr(d){d.g||(d.g=new Map,d.h=0,d.i&&Gh(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=_i.prototype,t.add=function(d,v){gr(this),this.i=null,d=Gr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function wi(d,v){gr(d),v=Gr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Ei(d,v){return gr(d),v=Gr(d,v),d.g.has(v)}t.forEach=function(d,v){gr(this),this.g.forEach(function(E,O){E.forEach(function(K){d.call(v,K,O,this)},this)},this)},t.na=function(){gr(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let O=0;O<v.length;O++){const K=d[O];for(let se=0;se<K.length;se++)E.push(v[O])}return E},t.V=function(d){gr(this);let v=[];if(typeof d=="string")Ei(this,d)&&(v=v.concat(this.g.get(Gr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},t.set=function(d,v){return gr(this),this.i=null,d=Gr(this,d),Ei(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function go(d,v,E){wi(d,v),0<E.length&&(d.i=null,d.g.set(Gr(d,v),V(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var O=v[E];const se=encodeURIComponent(String(O)),_e=this.V(O);for(O=0;O<_e.length;O++){var K=se;_e[O]!==""&&(K+="="+encodeURIComponent(String(_e[O]))),d.push(K)}}return this.i=d.join("&")};function Gr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function mc(d,v){v&&!d.j&&(gr(d),d.i=null,d.g.forEach(function(E,O){var K=O.toLowerCase();O!=K&&(wi(this,O),go(this,K,E))},d)),d.j=v}function ta(d,v){const E=new ze;if(h.Image){const O=new Image;O.onload=w(xr,E,"TestLoadImage: loaded",!0,v,O),O.onerror=w(xr,E,"TestLoadImage: error",!1,v,O),O.onabort=w(xr,E,"TestLoadImage: abort",!1,v,O),O.ontimeout=w(xr,E,"TestLoadImage: timeout",!1,v,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else v(!1)}function Ir(d,v){const E=new ze,O=new AbortController,K=setTimeout(()=>{O.abort(),xr(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:O.signal}).then(se=>{clearTimeout(K),se.ok?xr(E,"TestPingServer: ok",!0,v):xr(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),xr(E,"TestPingServer: error",!1,v)})}function xr(d,v,E,O,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),O(E)}catch{}}function na(){this.g=new vn}function Yr(d,v,E){const O=E||"";try{ho(d,function(K,se){let _e=K;p(K)&&(_e=zt(K)),v.push(O+se+"="+encodeURIComponent(_e))})}catch(K){throw v.push(O+"type="+encodeURIComponent("_badmap")),K}}function es(d){this.l=d.Ub||null,this.j=d.eb||!1}S(es,cn),es.prototype.g=function(){return new Ti(this.l,this.j)},es.prototype.i=(function(d){return function(){return d}})({});function Ti(d,v){ne.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ti,ne),t=Ti.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Xr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Qr(this):Xr(this),this.readyState==3&&xo(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Qr(this))},t.Qa=function(d){this.g&&(this.response=d,Qr(this))},t.ga=function(){this.g&&Qr(this)};function Qr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Xr(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function Xr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function yo(d){let v="";return L(d,function(E,O){v+=O,v+=":",v+=E,v+=`\r
`}),v}function nn(d,v,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=yo(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):ct(d,v,E))}function at(d){ne.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(at,ne);var Ka=/^https?$/i,ra=["POST","PUT"];t=at.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?Fs(this.o):Fs(Fr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(se){pc(this,se);return}if(d=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var K in O)E.set(K,O[K]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const se of O.keys())E.set(se,O.get(se));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),K=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ra,v,void 0))||O||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of E)this.g.setRequestHeader(se,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(d),this.u=!1}catch(se){pc(this,se)}};function pc(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Za(d),Kr(d)}function Za(d){d.A||(d.A=!0,de(d,"complete"),de(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,de(this,"complete"),de(this,"abort"),Kr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},t.bb=function(){Ja(this)};function Ja(d){if(d.h&&typeof u<"u"&&(!d.v[1]||yr(d)!=4||d.Z()!=2)){if(d.u&&yr(d)==4)Re(d.Ea,0,d);else if(de(d,"readystatechange"),yr(d)==4){d.h=!1;try{const _e=d.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var O;if(O=_e===0){var K=String(d.D).match(Zs)[1]||null;!K&&h.self&&h.self.location&&(K=h.self.location.protocol.slice(0,-1)),O=!Ka.test(K?K.toLowerCase():"")}E=O}if(E)de(d,"complete"),de(d,"success");else{d.m=6;try{var se=2<yr(d)?d.g.statusText:""}catch{se=""}d.l=se+" ["+d.Z()+"]",Za(d)}}finally{Kr(d)}}}}function Kr(d,v){if(d.g){ia(d);const E=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||de(d,"ready");try{E.onreadystatechange=O}catch{}}}function ia(d){d.I&&(h.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function yr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),St(v)}};function gc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(d){const v={};d=(d.g&&2<=yr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(B(d[O]))continue;var E=I(d[O]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=v[K]||[];v[K]=se,se.push(E)}R(v,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function Wa(d){this.Aa=0,this.i=[],this.j=new ze,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,d),this.cb=sa("retryDelaySeedMs",1e4,d),this.Wa=sa("forwardChannelMaxRetries",2,d),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(d&&d.concurrentRequestLimit),this.Da=new na,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wa.prototype,t.la=8,t.G=1,t.connect=function(d,v,E,O){xt(0),this.W=d,this.H=v||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=Ec(this,null,this.W),tl(this)};function bo(d){if(xc(d),d.G==3){var v=d.U++,E=er(d.I);if(ct(E,"SID",d.K),ct(E,"RID",v),ct(E,"TYPE","terminate"),aa(d,E),v=new Rn(d,d.j,v),v.L=2,v.v=Ws(er(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.v,E=!0),E||(v.g=Tc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xs(v)}wc(d)}function el(d){d.g&&(la(d),d.g.cancel(),d.g=null)}function xc(d){el(d),d.u&&(h.clearTimeout(d.u),d.u=null),nl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function tl(d){if(!$a(d.h)&&!d.s){d.s=!0;var v=d.Ga;fe||N(),ve||(fe(),ve=!0),Ae.add(v,d),d.B=0}}function Kh(d,v){return Ga(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=oe(_(d.Ga,d,v),wo(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new Rn(this,this.j,d);let se=this.o;if(this.S&&(se?(se=C(se),k(se,this.S)):se=this.S),this.m!==null||this.O||(K.H=se,se=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=yc(this,K,v),E=er(this.I),ct(E,"RID",d),ct(E,"CVER",22),this.D&&ct(E,"X-HTTP-Session-Id",this.D),aa(this,E),se&&(this.O?v="headers="+encodeURIComponent(String(yo(se)))+"&"+v:this.m&&nn(E,this.m,se)),Ya(this.h,K),this.Ua&&ct(E,"TYPE","init"),this.P?(ct(E,"$req",v),ct(E,"SID","null"),K.T=!0,Dr(K,E,null)):Dr(K,E,v),this.G=2}}else this.G==3&&(d?vo(this,d):this.i.length==0||$a(this.h)||vo(this))};function vo(d,v){var E;v?E=v.l:E=d.U++;const O=er(d.I);ct(O,"SID",d.K),ct(O,"RID",E),ct(O,"AID",d.T),aa(d,O),d.m&&d.o&&nn(O,d.m,d.o),E=new Rn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=yc(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ya(d.h,E),Dr(E,O,v)}function aa(d,v){d.H&&L(d.H,function(E,O){ct(v,O,E)}),d.l&&ho({},function(E,O){ct(v,O,E)})}function yc(d,v,E){E=Math.min(d.i.length,E);var O=d.l?_(d.l.Na,d.l,d):null;e:{var K=d.i;let se=-1;for(;;){const _e=["count="+E];se==-1?0<E?(se=K[0].g,_e.push("ofs="+se)):se=0:_e.push("ofs="+se);let Je=!0;for(let Kt=0;Kt<E;Kt++){let We=K[Kt].g;const rn=K[Kt].map;if(We-=se,0>We)se=Math.max(0,K[Kt].g-100),Je=!1;else try{Yr(rn,_e,"req"+We+"_")}catch{O&&O(rn)}}if(Je){O=_e.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,O}function bc(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;fe||N(),ve||(fe(),ve=!0),Ae.add(v,d),d.v=0}}function _o(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=oe(_(d.Fa,d),wo(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=oe(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),el(this),vc(this))};function la(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function vc(d){d.g=new Rn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=er(d.qa);ct(v,"RID","rpc"),ct(v,"SID",d.K),ct(v,"AID",d.T),ct(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ct(v,"TO",d.ja),ct(v,"TYPE","xmlhttp"),aa(d,v),d.m&&d.o&&nn(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Ws(er(v)),E.m=null,E.P=!0,yi(E,d)}t.Za=function(){this.C!=null&&(this.C=null,el(this),_o(this),xt(19))};function nl(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function _c(d,v){var E=null;if(d.g==v){nl(d),la(d),d.g=null;var O=2}else if(co(d.h,v))E=v.D,Dn(d.h,v),O=1;else return;if(d.G!=0){if(v.o)if(O==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var K=d.B;O=Rr(),de(O,new yt(O,E)),tl(d)}else bc(d);else if(K=v.s,K==3||K==0&&0<v.X||!(O==1&&Kh(d,v)||O==2&&_o(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),K){case 1:Ni(d,5);break;case 4:Ni(d,10);break;case 3:Ni(d,6);break;default:Ni(d,2)}}}function wo(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function Ni(d,v){if(d.j.info("Error code "+v),v==2){var E=_(d.fb,d),O=d.Xa;const K=!O;O=new Ut(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Js(O,"https"),Ws(O),K?ta(O.toString(),E):Ir(O.toString(),E)}else xt(2);d.G=0,d.l&&d.l.sa(v),wc(d),xc(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function wc(d){if(d.G=0,d.ka=[],d.l){const v=fo(d.h);(v.length!=0||d.i.length!=0)&&(z(d.ka,v),z(d.ka,d.i),d.h.i.length=0,V(d.i),d.i.length=0),d.l.ra()}}function Ec(d,v,E){var O=E instanceof Ut?er(E):new Ut(E);if(O.g!="")v&&(O.g=v+"."+O.g),Wi(O,O.s);else{var K=h.location;O=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var se=new Ut(null);O&&Js(se,O),v&&(se.g=v),K&&Wi(se,K),E&&(se.l=E),O=se}return E=d.D,v=d.ya,E&&v&&ct(O,E,v),ct(O,"VER",d.la),aa(d,O),O}function Tc(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new at(new es({eb:E})):new at(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nc(){}t=Nc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rl(){}rl.prototype.g=function(d,v){return new In(d,v)};function In(d,v){ne.call(this),this.g=new Wa(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!B(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!B(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Zr(this)}S(In,ne),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){bo(this.g)},In.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=zt(d),d=E);v.i.push(new hc(v.Ya++,d)),v.G==3&&tl(v)},In.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,In.aa.N.call(this)};function Sc(d){jr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}S(Sc,jr);function Ac(){$s.call(this),this.status=1}S(Ac,$s);function Zr(d){this.g=d}S(Zr,Nc),Zr.prototype.ua=function(){de(this.g,"a")},Zr.prototype.ta=function(d){de(this.g,new Sc(d))},Zr.prototype.sa=function(d){de(this.g,new Ac)},Zr.prototype.ra=function(){de(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,b2=function(){return new rl},y2=function(){return Rr()},x2=mr,Sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Uf=Zi,xi.COMPLETE="complete",g2=xi,Hs.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",ne.prototype.listen=ne.prototype.K,xu=Hs,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,p2=at}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});const sb="@firebase/firestore",ab="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new o2("@firebase/firestore");function Ol(){return Ia.logLevel}function Te(t,...e){if(Ia.logLevel<=nt.DEBUG){const n=e.map(x0);Ia.debug(`Firestore (${eo}): ${t}`,...n)}}function Gi(t,...e){if(Ia.logLevel<=nt.ERROR){const n=e.map(x0);Ia.error(`Firestore (${eo}): ${t}`,...n)}}function Gl(t,...e){if(Ia.logLevel<=nt.WARN){const n=e.map(x0);Ia.warn(`Firestore (${eo}): ${t}`,...n)}}function x0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,v2(t,i,n)}function v2(t,e,n){let i=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Gi(i),new Error(i)}function lt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||v2(e,a,i)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Wl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class h3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class d3{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let o=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string",31837,{l:i}),new _2(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class m3{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p3{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new m3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,KS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const i=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const a=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=x3(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<n&&(i+=e.charAt(a[o]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function Ap(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),o=e.charAt(i);if(a!==o)return Zm(a)===Zm(o)?Ke(a,o):Zm(a)?1:-1}return Ke(t.length,e.length)}const y3=55296,b3=57343;function Zm(t){const e=t.charCodeAt(0);return e>=y3&&e<=b3}function Yl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="__name__";class si{constructor(e,n,i){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Pe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const o=si.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ke(e.length,n.length)}static compareSegments(e,n){const i=si.isNumericId(e),a=si.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?si.extractNumericId(e).compare(si.extractNumericId(n)):Ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class _t extends si{construct(e,n,i){return new _t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const v3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends si{construct(e,n,i){return new xn(e,n,i)}static isValidIdentifier(e){return v3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ob}static keyField(){return new xn([ob])}static fromServerFormat(e){const n=[];let i="",a=0;const o=()=>{if(i.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new we(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new we(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(o(),a++)}if(o(),u)throw new we(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(_t.fromString(e))}static fromName(e){return new De(_t.fromString(e).popFirst(5))}static empty(){return new De(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e,n){if(!n)throw new we(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _3(t,e,n,i){if(e===!0&&i===!0)throw new we(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ub(t){if(!De.isDocumentKey(t))throw new we(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cb(t){if(De.isDocumentKey(t))throw new we(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function E2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yh(t);throw new we(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yu(t,e){if(!E2(t))throw new we(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new we(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=-62135596800,hb=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*hb);return new Nt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fb)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hb}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yu(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:Qt("string",Nt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Nt(0,0))}static max(){return new Ue(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function w3(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ue.fromTimestamp(i===1e9?new Nt(n+1,0):new Nt(n,i));return new Ds(a,De.empty(),e)}function E3(t){return new Ds(t.readTime,t.key,Ru)}class Ds{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ds(Ue.min(),De.empty(),Ru)}static max(){return new Ds(Ue.max(),De.empty(),Ru)}}function T3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==N3)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,i)=>{n(e)}))}static reject(e){return new pe(((n,i)=>{i(e)}))}static waitFor(e){return new pe(((n,i)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&n()}),(m=>i(m)))})),u=!0,o===a&&n()}))}static or(e){let n=pe.resolve(!1);for(const i of e)n=n.next((a=>a?pe.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,o)=>{i.push(n.call(this,a,o))})),this.waitFor(i)}static mapArray(e,n){return new pe(((i,a)=>{const o=e.length,u=new Array(o);let h=0;for(let m=0;m<o;m++){const p=m;n(e[p]).next((y=>{u[p]=y,++h,h===o&&i(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new pe(((i,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):i()};o()}))}}function A3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=-1;function vh(t){return t==null}function Wf(t){return t===0&&1/t==-1/0}function C3(t){return typeof t=="number"&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="";function k3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=db(e)),e=j3(t.get(n),e);return db(e)}function j3(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case T2:n+="";break;default:n+=o}}return n}function db(t){return t+T2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jf(this.root,e,this.comparator,!1)}getReverseIterator(){return new jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jf(this.root,e,this.comparator,!0)}}class jf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,i,a,o){this.key=e,this.value=n,this.color=i??gn.RED,this.left=a??gn.EMPTY,this.right=o??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,o){return new gn(e??this.key,n??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,i),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,i,a,o){return this}insert(e,n,i){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pb(this.data.getIterator())}getIteratorFrom(e){return new pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new ur([])}unionWith(e){let n=new en(xn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new S2("Invalid base64 string: "+o):o}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const R3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=R3.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ms(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="server_timestamp",C2="__type__",k2="__previous_value__",j2="__local_write_time__";function v0(t){return(t?.mapValue?.fields||{})[C2]?.stringValue===A2}function _h(t){const e=t.mapValue.fields[k2];return v0(e)?_h(e):e}function Du(t){const e=Is(t.mapValue.fields[j2].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,i,a,o,u,h,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const eh="(default)";class Iu{constructor(e,n){this.projectId=e,this.database=n||eh}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="__type__",I3="__max__",Rf={mapValue:{}},D2="__vector__",th="value";function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?v0(t)?4:O3(t)?9007199254740991:M3(t)?10:11:Pe(28295,{value:t})}function hi(t,e){if(t===e)return!0;const n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Du(t).isEqual(Du(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Is(a.timestampValue),h=Is(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Ms(a.bytesValue).isEqual(Ms(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return Lt(a.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Lt(a.integerValue)===Lt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Lt(a.doubleValue),h=Lt(o.doubleValue);return u===h?Wf(u)===Wf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Yl(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(mb(u)!==mb(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!hi(u[m],h[m])))return!1;return!0})(t,e);default:return Pe(52216,{left:t})}}function Mu(t,e){return(t.values||[]).find((n=>hi(n,e)))!==void 0}function Ql(t,e){if(t===e)return 0;const n=Os(t),i=Os(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Lt(o.integerValue||o.doubleValue),m=Lt(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return gb(t.timestampValue,e.timestampValue);case 4:return gb(Du(t),Du(e));case 5:return Ap(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=Ms(o),m=Ms(u);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const y=Ke(h[p],m[p]);if(y!==0)return y}return Ke(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Ke(Lt(o.latitude),Lt(u.latitude));return h!==0?h:Ke(Lt(o.longitude),Lt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return xb(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},m=u.fields||{},p=h[th]?.arrayValue,y=m[th]?.arrayValue,b=Ke(p?.values?.length||0,y?.values?.length||0);return b!==0?b:xb(p,y)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Rf.mapValue&&u===Rf.mapValue)return 0;if(o===Rf.mapValue)return 1;if(u===Rf.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let b=0;b<m.length&&b<y.length;++b){const _=Ap(m[b],y[b]);if(_!==0)return _;const w=Ql(h[m[b]],p[y[b]]);if(w!==0)return w}return Ke(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function gb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Is(t),i=Is(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function xb(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const o=Ql(n[a],i[a]);if(o)return o}return Ke(n.length,i.length)}function Xl(t){return Cp(t)}function Cp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Is(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ms(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const o of n.values||[])a?a=!1:i+=",",i+=Cp(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${Cp(n.fields[u])}`;return a+"}"})(t.mapValue):Pe(61005,{value:t})}function Bf(t){switch(Os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(t);return e?16+Bf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ms(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+Bf(o)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Ls(i.fields,((o,u)=>{a+=o.length+Bf(u)})),a})(t.mapValue);default:throw Pe(13486,{value:t})}}function yb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kp(t){return!!t&&"integerValue"in t}function _0(t){return!!t&&"arrayValue"in t}function bb(t){return!!t&&"nullValue"in t}function vb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qf(t){return!!t&&"mapValue"in t}function M3(t){return(t?.mapValue?.fields||{})[R2]?.stringValue===D2}function wu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ls(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=wu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return{...t}}function O3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=xn.emptyPath(),i={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=wu(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,a)}delete(e){const n=this.field(e.popLast());qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Ls(n,((a,o)=>e[a]=o));for(const a of i)delete e[a]}clone(){return new Kn(wu(this.value))}}function I2(t){const e=[];return Ls(t.fields,((n,i)=>{const a=new xn([n]);if(qf(i)){const o=I2(i.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,i,a,o,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Sn(e,0,Ue.min(),Ue.min(),Ue.min(),Kn.empty(),0)}static newFoundDocument(e,n,i,a){return new Sn(e,1,n,Ue.min(),i,a,0)}static newNoDocument(e,n){return new Sn(e,2,n,Ue.min(),Ue.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Ue.min(),Ue.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.position=e,this.inclusive=n}}function _b(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?i=De.comparator(De.fromName(u.referenceValue),n.key):i=Ql(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function wb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function V3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{}class Yt extends M2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new L3(e,n,i):n==="array-contains"?new B3(e,i):n==="in"?new q3(e,i):n==="not-in"?new F3(e,i):n==="array-contains-any"?new H3(e,i):new Yt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new z3(e,i):new U3(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ql(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(Ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends M2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zr(e,n)}matches(e){return O2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function O2(t){return t.op==="and"}function V2(t){return P3(t)&&O2(t)}function P3(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function jp(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+Xl(t.value);if(V2(t))return t.filters.map((e=>jp(e))).join(",");{const e=t.filters.map((n=>jp(n))).join(",");return`${t.op}(${e})`}}function P2(t,e){return t instanceof Yt?(function(i,a){return a instanceof Yt&&i.op===a.op&&i.field.isEqual(a.field)&&hi(i.value,a.value)})(t,e):t instanceof zr?(function(i,a){return a instanceof zr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,u,h)=>o&&P2(u,a.filters[h])),!0):!1})(t,e):void Pe(19439)}function L2(t){return t instanceof Yt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xl(n.value)}`})(t):t instanceof zr?(function(n){return n.op.toString()+" {"+n.getFilters().map(L2).join(" ,")+"}"})(t):"Filter"}class L3 extends Yt{constructor(e,n,i){super(e,n,i),this.key=De.fromName(i.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class z3 extends Yt{constructor(e,n){super(e,"in",n),this.keys=z2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class U3 extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=z2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function z2(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class B3 extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _0(n)&&Mu(n.arrayValue,this.value)}}class q3 extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}}class F3 extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mu(this.value.arrayValue,n)}}class H3 extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Mu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n=null,i=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Eb(t,e=null,n=[],i=[],a=null,o=null,u=null){return new $3(t,e,n,i,a,o,u)}function w0(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>jp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Xl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Xl(i))).join(",")),e.Te=n}return e.Te}function E0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wb(t.startAt,e.startAt)&&wb(t.endAt,e.endAt)}function Rp(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n=null,i=[],a=[],o=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G3(t,e,n,i,a,o,u,h){return new ro(t,e,n,i,a,o,u,h)}function wh(t){return new ro(t)}function Tb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U2(t){return t.collectionGroup!==null}function Eu(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new en(xn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ou(o,i))})),n.has(xn.keyField().canonicalString())||e.Ie.push(new Ou(xn.keyField(),i))}return e.Ie}function ai(t){const e=Be(t);return e.Ee||(e.Ee=Y3(e,Eu(t))),e.Ee}function Y3(t,e){if(t.limitType==="F")return Eb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Ou(a.field,o)}));const n=t.endAt?new nh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new nh(t.startAt.position,t.startAt.inclusive):null;return Eb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Dp(t,e){const n=t.filters.concat([e]);return new ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ip(t,e,n){return new ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return E0(ai(t),ai(e))&&t.limitType===e.limitType}function B2(t){return`${w0(ai(t))}|lt:${t.limitType}`}function Vl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>L2(a))).join(", ")}]`),vh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Xl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Xl(a))).join(",")),`Target(${i})`})(ai(t))}; limitType=${t.limitType})`}function Th(t,e){return e.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):De.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,a){for(const o of Eu(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,h,m){const p=_b(u,h,m);return u.inclusive?p<=0:p<0})(i.startAt,Eu(i),a)||i.endAt&&!(function(u,h,m){const p=_b(u,h,m);return u.inclusive?p>=0:p>0})(i.endAt,Eu(i),a))})(t,e)}function Q3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function q2(t){return(e,n)=>{let i=!1;for(const a of Eu(t)){const o=X3(a,e,n);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function X3(t,e,n){const i=t.field.isKeyField()?De.comparator(e.key,n.key):(function(o,u,h){const m=u.data.field(o),p=h.data.field(o);return m!==null&&p!==null?Ql(m,p):Pe(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,((n,i)=>{for(const[a,o]of i)e(a,o)}))}isEmpty(){return N2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new kt(De.comparator);function Yi(){return K3}const F2=new kt(De.comparator);function yu(...t){let e=F2;for(const n of t)e=e.insert(n.key,n);return e}function H2(t){let e=F2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Aa(){return Tu()}function $2(){return Tu()}function Tu(){return new Ua((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Z3=new kt(De.comparator),J3=new en(De.comparator);function Ze(...t){let e=J3;for(const n of t)e=e.add(n);return e}const W3=new en(Ke);function e6(){return W3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function G2(t){return{integerValue:""+t}}function t6(t,e){return C3(e)?G2(e):T0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function n6(t,e,n){return t instanceof Vu?(function(a,o){const u={fields:{[C2]:{stringValue:A2},[j2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&v0(o)&&(o=_h(o)),o&&(u.fields[k2]=o),{mapValue:u}})(n,e):t instanceof Pu?Q2(t,e):t instanceof Lu?X2(t,e):(function(a,o){const u=Y2(a,o),h=Nb(u)+Nb(a.Ae);return kp(u)&&kp(a.Ae)?G2(h):T0(a.serializer,h)})(t,e)}function r6(t,e,n){return t instanceof Pu?Q2(t,e):t instanceof Lu?X2(t,e):n}function Y2(t,e){return t instanceof rh?(function(i){return kp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Vu extends Nh{}class Pu extends Nh{constructor(e){super(),this.elements=e}}function Q2(t,e){const n=K2(e);for(const i of t.elements)n.some((a=>hi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Lu extends Nh{constructor(e){super(),this.elements=e}}function X2(t,e){let n=K2(e);for(const i of t.elements)n=n.filter((a=>!hi(a,i)));return{arrayValue:{values:n}}}class rh extends Nh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nb(t){return Lt(t.integerValue||t.doubleValue)}function K2(t){return _0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.field=e,this.transform=n}}function s6(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Pu&&a instanceof Pu||i instanceof Lu&&a instanceof Lu?Yl(i.elements,a.elements,hi):i instanceof rh&&a instanceof rh?hi(i.Ae,a.Ae):i instanceof Vu&&a instanceof Vu})(t.transform,e.transform)}class a6{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sh{}function Z2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ah(t.key,zn.none()):new Qu(t.key,t.data,zn.none());{const n=t.data,i=Kn.empty();let a=new en(xn.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new zs(t.key,i,new ur(a.toArray()),zn.none())}}function l6(t,e,n){t instanceof Qu?(function(a,o,u){const h=a.value.clone(),m=Ab(a.fieldTransforms,o,u.transformResults);h.setAll(m),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof zs?(function(a,o,u){if(!Ff(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Ab(a.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(J2(a)),m.setAll(h),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Nu(t,e,n,i){return t instanceof Qu?(function(o,u,h,m){if(!Ff(o.precondition,u))return h;const p=o.value.clone(),y=Cb(o.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof zs?(function(o,u,h,m){if(!Ff(o.precondition,u))return h;const p=Cb(o.fieldTransforms,m,u),y=u.data;return y.setAll(J2(o)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(o,u,h){return Ff(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function o6(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),o=Y2(i.transform,a||null);o!=null&&(n===null&&(n=Kn.empty()),n.set(i.field,o))}return n||null}function Sb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Yl(i,a,((o,u)=>s6(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qu extends Sh{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zs extends Sh{constructor(e,n,i,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function J2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Ab(t,e,n){const i=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);i.set(o.field,r6(u,h,n[a]))}return i}function Cb(t,e,n){const i=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);i.set(a.field,n6(o,u,e))}return i}class Ah extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u6 extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&l6(o,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Nu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Nu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=$2();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const m=Z2(u,h);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ue.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,((n,i)=>Sb(n,i)))&&Yl(this.baseMutations,e.baseMutations,((n,i)=>Sb(n,i)))}}class N0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){lt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return Z3})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new N0(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,tt;function d6(t){switch(t){case ce.OK:return Pe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function W2(t){if(t===void 0)return Gi("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Ft.OK:return ce.OK;case Ft.CANCELLED:return ce.CANCELLED;case Ft.UNKNOWN:return ce.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ce.INTERNAL;case Ft.UNAVAILABLE:return ce.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ce.NOT_FOUND;case Ft.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ft.ABORTED:return ce.ABORTED;case Ft.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ft.DATA_LOSS:return ce.DATA_LOSS;default:return Pe(39323,{code:t})}}(tt=Ft||(Ft={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new ks([4294967295,4294967295],0);function kb(t){const e=m6().encode(t),n=new m2;return n.update(e),new Uint8Array(n.digest())}function jb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ks([n,i],0),new ks([a,o],0)]}class S0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new bu(`Invalid padding: ${n}`);if(i<0)throw new bu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new bu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ks.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(ks.fromNumber(i)));return a.compare(p6)===1&&(a=new ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kb(e),[i,a]=jb(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new S0(o,a,n);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=kb(e),[i,a]=jb(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,i,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ch(Ue.min(),a,new kt(Ke),Yi(),Ze())}}class Xu{constructor(e,n,i,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Xu(i,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class e_{constructor(e,n){this.targetId=e,this.Ce=n}}class t_{constructor(e,n,i=yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Rb{constructor(){this.ve=0,this.Fe=Db(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),i=Ze();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Pe(38017,{changeType:o})}})),new Xu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Db()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class g6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.Je=Df(),this.He=Df(),this.Ye=new kt(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Rp(o))if(i===0){const u=new De(o.path);this.et(n,u,Sn.newNoDocument(u,Ue.min()))}else lt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=Ms(i).toUint8Array()}catch(m){if(m instanceof S2)return Gl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new S0(u,a,o)}catch(m){return Gl(m instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&Rp(h.target)){const m=new De(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Sn.newNoDocument(m,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let i=Ze();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Ch(e,n,this.Ye,this.je,i);return this.je=Yi(),this.Je=Df(),this.He=Df(),this.Ye=new kt(Ke),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Rb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new en(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new en(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Rb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Df(){return new kt(De.comparator)}function Db(){return new kt(De.comparator)}const x6={asc:"ASCENDING",desc:"DESCENDING"},y6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b6={and:"AND",or:"OR"};class v6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mp(t,e){return t.useProto3Json||vh(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _6(t,e){return ih(t,e.toTimestamp())}function li(t){return lt(!!t,49232),Ue.fromTimestamp((function(n){const i=Is(n);return new Nt(i.seconds,i.nanos)})(t))}function A0(t,e){return Op(t,e).canonicalString()}function Op(t,e){const n=(function(a){return new _t(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function r_(t){const e=_t.fromString(t);return lt(o_(e),10190,{key:e.toString()}),e}function Vp(t,e){return A0(t.databaseId,e.path)}function Jm(t,e){const n=r_(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(s_(n))}function i_(t,e){return A0(t.databaseId,e)}function w6(t){const e=r_(t);return e.length===4?_t.emptyPath():s_(e)}function Pp(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s_(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ib(t,e,n){return{name:Vp(t,e),fields:n.value.mapValue.fields}}function E6(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,y){return p.useProto3Json?(lt(y===void 0||typeof y=="string",58123),yn.fromBase64String(y||"")):(lt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),yn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?ce.UNKNOWN:W2(p.code);return new we(y,p.message||"")})(u);n=new t_(i,a,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Jm(t,i.document.name),o=li(i.document.updateTime),u=i.document.createTime?li(i.document.createTime):Ue.min(),h=new Kn({mapValue:{fields:i.document.fields}}),m=Sn.newFoundDocument(a,o,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];n=new Hf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Jm(t,i.document),o=i.readTime?li(i.readTime):Ue.min(),u=Sn.newNoDocument(a,o),h=i.removedTargetIds||[];n=new Hf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Jm(t,i.document),o=i.removedTargetIds||[];n=new Hf([],o,a,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new h6(a,o),h=i.targetId;n=new e_(h,u)}}return n}function T6(t,e){let n;if(e instanceof Qu)n={update:Ib(t,e.key,e.value)};else if(e instanceof Ah)n={delete:Vp(t,e.key)};else if(e instanceof zs)n={update:Ib(t,e.key,e.data),updateMask:I6(e.fieldMask)};else{if(!(e instanceof u6))return Pe(16599,{Vt:e.type});n={verify:Vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof Vu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Pu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Lu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof rh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Pe(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:_6(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Pe(27497)})(t,e.precondition)),n}function N6(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(a,o){let u=a.updateTime?li(a.updateTime):li(o);return u.isEqual(Ue.min())&&(u=li(o)),new a6(u,a.transformResults||[])})(n,e)))):[]}function S6(t,e){return{documents:[i_(t,e.path)]}}function A6(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=i_(t,a);const o=(function(p){if(p.length!==0)return l_(zr.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((y=>(function(_){return{field:Pl(_.field),direction:j6(_.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Mp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function C6(t){let e=w6(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){lt(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=(function(b){const _=a_(b);return _ instanceof zr&&V2(_)?_.getFilters():[_]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((_=>(function(S){return new Ou(Ll(S.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let _;return _=typeof b=="object"?b.value:b,vh(_)?null:_})(n.limit));let m=null;n.startAt&&(m=(function(b){const _=!!b.before,w=b.values||[];return new nh(w,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const _=!b.before,w=b.values||[];return new nh(w,_)})(n.endAt)),G3(e,a,u,o,h,"F",m,p)}function k6(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function a_(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ll(n.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ll(n.unaryFilter.field);return Yt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ll(n.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ll(n.unaryFilter.field);return Yt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Yt.create(Ll(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zr.create(n.compositeFilter.filters.map((i=>a_(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(n.compositeFilter.op))})(t):Pe(30097,{filter:t})}function j6(t){return x6[t]}function R6(t){return y6[t]}function D6(t){return b6[t]}function Pl(t){return{fieldPath:t.canonicalString()}}function Ll(t){return xn.fromServerFormat(t.fieldPath)}function l_(t){return t instanceof Yt?(function(n){if(n.op==="=="){if(vb(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NAN"}};if(bb(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vb(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NOT_NAN"}};if(bb(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(n.field),op:R6(n.op),value:n.value}}})(t):t instanceof zr?(function(n){const i=n.getFilters().map((a=>l_(a)));return i.length===1?i[0]:{compositeFilter:{op:D6(n.op),filters:i}}})(t):Pe(54877,{filter:t})}function I6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function o_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,i,a,o=Ue.min(),u=Ue.min(),h=yn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.yt=e}}function O6(t){const e=C6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.Cn=new P6}addToCollectionParentIndex(e,n){return this.Cn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Ds.min())}updateCollectionGroup(e,n,i){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class P6{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new en(_t.comparator),o=!a.has(i);return this.index[n]=a.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new en(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u_=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(u_,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Kl(0)}static cr(){return new Kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="LruGarbageCollector",L6=1048576;function Vb([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class z6{constructor(e){this.Ir=e,this.buffer=new en(Vb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Vb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class U6{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(Ob,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?Te(Ob,"Ignoring IndexedDB error during garbage collection: ",n):await to(n)}await this.Vr(3e5)}))}}class B6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(bh.ce);const i=new z6(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Mb)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,o,u,h,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,h=Date.now(),this.removeTargets(e,i,n)))).next((b=>(o=b,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),Ol()<=nt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(m-h)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function q6(t,e){return new B6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(){this.changes=new Ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?pe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Nu(i.mutation,a,ur.empty(),Nt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ze()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ze()){const a=Aa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((o=>{let u=yu();return o.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Aa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ze())))}populateOverlays(e,n,i){const a=[];return i.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,i,a){let o=Yi();const u=Tu(),h=(function(){return Tu()})();return n.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof zs)?o=o.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Nu(y.mutation,p,y.mutation.getFieldMask(),Nt.now())):u.set(p.key,ur.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new H6(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=Tu();let a=new kt(((u,h)=>u-h)),o=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=i.get(m)||ur.empty();y=h.applyToLocalView(p,y),i.set(m,y);const b=(a.get(h.batchId)||Ze()).add(m);a=a.insert(h.batchId,b)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,y=m.value,b=$2();y.forEach((_=>{if(!o.has(_)){const w=Z2(n.get(_),i.get(_));w!==null&&b.set(_,w),o=o.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return pe.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return De.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-o.size):pe.resolve(Aa());let h=Ru,m=o;return u.next((p=>pe.forEach(p,((y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next((_=>{m=m.insert(y,_)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,m,p,Ze()))).next((y=>({batchId:h,changes:H2(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((i=>{let a=yu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const o=n.collectionGroup;let u=yu();return this.indexManager.getCollectionParents(e,o).next((h=>pe.forEach(h,(m=>{const p=(function(b,_){return new ro(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((y=>{y.forEach(((b,_)=>{u=u.insert(b,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,a)))).next((u=>{o.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Sn.newInvalidDocument(y)))}));let h=yu();return u.forEach(((m,p)=>{const y=o.get(m);y!==void 0&&Nu(y.mutation,p,ur.empty(),Nt.now()),Th(n,p)&&(h=h.insert(m,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return pe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:li(a.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:O6(a.bundledQuery),readTime:li(a.readTime)}})(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.overlays=new kt(De.comparator),this.qr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Aa();return pe.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,o)=>{this.St(e,n,o)})),pe.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),pe.resolve()}getOverlaysForCollection(e,n,i){const a=Aa(),o=n.length+1,u=new De(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>i&&a.set(m.getKey(),m)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let o=new kt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=o.get(p.largestBatchId);y===null&&(y=Aa(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Aa(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return pe.resolve(h)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new f6(n,i));let o=this.qr.get(n);o===void 0&&(o=Ze(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.Qr=new en(on.$r),this.Ur=new en(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new on(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new De(new _t([])),i=new on(n,e),a=new on(n,e+1),o=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new _t([])),i=new on(n,e),a=new on(n,e+1);let o=Ze();return this.Ur.forEachInRange([i,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new on(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new en(on.$r)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new c6(o,n,i,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new on(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,n){return pe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?b0:this.tr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new en(Ke);return n.forEach((a=>{const o=new on(a,0),u=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{i=i.add(h.Yr)}))})),pe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let o=i;De.isDocumentKey(o)||(o=o.child(""));const u=new on(new De(o),0);let h=new en(Ke);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Yr)),!0)}),u),pe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return pe.forEach(n.mutations,(a=>{const o=new on(a.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new on(n,0),a=this.Zr.firstAfterOrEqual(i);return pe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.ri=e,this.docs=(function(){return new kt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),o=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return pe.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let i=Yi();return n.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():Sn.newInvalidDocument(a))})),pe.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let o=Yi();const u=n.path,h=new De(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||T3(E3(y),i)<=0||(a.has(y.key)||Th(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,n,i,a){Pe(9500)}ii(e,n){return pe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new Z6(this)}getSize(e){return pe.resolve(this.size)}}class Z6 extends F6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),pe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.persistence=e,this.si=new Ua((n=>w0(n)),E0),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new C0,this.targetCount=0,this.ai=Kl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),pe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Kl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Pr(n),pe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,i){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),pe.waitFor(o).next((()=>a))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return pe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),pe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),pe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return pe.resolve(i)}containsKey(e,n){return pe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new Q6,this.referenceDelegate=e(this),this.Pi=new J6(this),this.indexManager=new V6,this.remoteDocumentCache=(function(a){return new K6(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new M6(n),this.Ii=new G6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new X6(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Te("MemoryPersistence","Starting transaction:",e);const a=new W6(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return pe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class W6 extends S3{constructor(e){super(),this.currentSequenceNumber=e}}class k0{constructor(e){this.persistence=e,this.Ri=new C0,this.Vi=null}static mi(e){return new k0(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),pe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.fi,(i=>{const a=De.fromPath(i);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sh{constructor(e,n){this.persistence=e,this.pi=new Ua((i=>k3(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=q6(this,n)}static mi(e,n){return new sh(e,n)}Ei(){}di(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return pe.forEach(this.pi,((i,a)=>this.br(e,i,a).next((o=>o?pe.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(i++,o.removeEntry(u,Ue.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bf(e.data.value)),n}br(e,n,i){return pe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return pe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Ze(),a=Ze();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new j0(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return YN()?8:A3($N())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,a,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new eA;return this.Ss(e,n,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>o.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Ol()<=nt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pe.resolve()):(Ol()<=nt.DEBUG&&Te("QueryEngine","Query:",Vl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Ol()<=nt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):pe.resolve())}ys(e,n){if(Tb(n))return pe.resolve(null);let i=ai(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ip(n,null,"F"),i=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=Ze(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.Ds(n,h);return this.Cs(n,p,u,m.readTime)?this.ys(e,Ip(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,i,a){return Tb(n)||a.isEqual(Ue.min())?pe.resolve(null):this.ps.getDocuments(e,i).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,i,a)?pe.resolve(null):(Ol()<=nt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vl(n)),this.vs(e,u,n,w3(a,Ru)).next((h=>h)))}))}Ds(e,n){let i=new en(q2(e));return n.forEach(((a,o)=>{Th(e,o)&&(i=i.add(o))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,i){return Ol()<=nt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Vl(n)),this.ps.getDocumentsMatchingQuery(e,n,Ds.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="LocalStore",nA=3e8;class rA{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new kt(Ke),this.xs=new Ua((o=>w0(o)),E0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function iA(t,e,n,i){return new rA(t,e,n,i)}async function f_(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let m=Ze();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of o){h.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function sA(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,y){const b=p.batch,_=b.keys();let w=pe.resolve();return _.forEach((S=>{w=w.next((()=>y.getEntry(m,S))).next((V=>{const z=p.docVersions.get(S);lt(z!==null,48541),V.version.compareTo(z)<0&&(b.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(m,b)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=Ze();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function h_(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function aA(t,e){const n=Be(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,b)=>{const _=a.get(b);if(!_)return;h.push(n.Pi.removeMatchingKeys(o,y.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,y.addedDocuments,b))));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(yn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),a=a.insert(b,w),(function(V,z,F){return V.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=nA?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(_,w,y)&&h.push(n.Pi.updateTargetData(o,w))}));let m=Yi(),p=Ze();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(lA(o,u,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!i.isEqual(Ue.min())){const y=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return pe.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,m,p))).next((()=>m))})).then((o=>(n.Ms=a,o)))}function lA(t,e,n){let i=Ze(),a=Ze();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let u=Yi();return n.forEach(((h,m)=>{const p=o.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ue.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):Te(R0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function oA(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=b0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function uA(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((o=>o?(a=o,pe.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new Ss(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Lp(t,e,n){const i=Be(t),a=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!no(u))throw u;Te(R0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Pb(t,e,n){const i=Be(t);let a=Ue.min(),o=Ze();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const b=Be(m),_=b.xs.get(y);return _!==void 0?pe.resolve(b.Ms.get(_)):b.Pi.getTargetData(p,y)})(i,u,ai(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{o=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:Ue.min(),n?o:Ze()))).next((h=>(cA(i,Q3(e),h),{documents:h,Qs:o})))))}function cA(t,e,n){let i=t.Os.get(e)||Ue.min();n.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.Os.set(e,i)}class Lb{constructor(){this.activeTargetIds=e6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fA{constructor(){this.Mo=new Lb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="ConnectivityMonitor";class Ub{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(zb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=null;function zp(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",dA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===eh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,o){const u=zp(),h=this.zo(e,n.toUriEncodedString());Te(Wm,`Sending RPC '${e}' ${u}:`,h,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,o);const{host:p}=new URL(h),y=p0(p);return this.Jo(e,h,m,i,y).then((b=>(Te(Wm,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Gl(Wm,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",i),b}))}Ho(e,n,i,a,o,u){return this.Go(e,n,i,a,o)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),i&&i.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const i=dA[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class gA extends mA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,o){const u=zp();return new Promise(((h,m)=>{const p=new p2;p.setWithCredentials(!0),p.listenOnce(g2.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Uf.NO_ERROR:const b=p.getResponseJson();Te(En,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case Uf.TIMEOUT:Te(En,`RPC '${e}' ${u} timed out`),m(new we(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const _=p.getStatus();if(Te(En,`RPC '${e}' ${u} failed with status:`,_,"response text:",p.getResponseText()),_>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w?.error;if(S&&S.status&&S.message){const V=(function(F){const B=F.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(B)>=0?B:ce.UNKNOWN})(S.status);m(new we(V,S.message))}else m(new we(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new we(ce.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Te(En,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);Te(En,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=zp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=b2(),h=y2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=o.join("");Te(En,`Creating RPC '${e}' stream ${a}: ${y}`,m);const b=u.createWebChannel(y,m);this.I_(b);let _=!1,w=!1;const S=new pA({Yo:z=>{w?Te(En,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(_||(Te(En,`Opening RPC '${e}' stream ${a} transport.`),b.open(),_=!0),Te(En,`RPC '${e}' stream ${a} sending:`,z),b.send(z))},Zo:()=>b.close()}),V=(z,F,B)=>{z.listen(F,(U=>{try{B(U)}catch($){setTimeout((()=>{throw $}),0)}}))};return V(b,xu.EventType.OPEN,(()=>{w||(Te(En,`RPC '${e}' stream ${a} transport opened.`),S.o_())})),V(b,xu.EventType.CLOSE,(()=>{w||(w=!0,Te(En,`RPC '${e}' stream ${a} transport closed`),S.a_(),this.E_(b))})),V(b,xu.EventType.ERROR,(z=>{w||(w=!0,Gl(En,`RPC '${e}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),S.a_(new we(ce.UNAVAILABLE,"The operation could not be completed")))})),V(b,xu.EventType.MESSAGE,(z=>{if(!w){const F=z.data[0];lt(!!F,16349);const B=F,U=B?.error||B[0]?.error;if(U){Te(En,`RPC '${e}' stream ${a} received error:`,U);const $=U.status;let q=(function(C){const M=Ft[C];if(M!==void 0)return W2(M)})($),L=U.message;q===void 0&&(q=ce.INTERNAL,L="Unknown error status: "+$+" with message "+U.message),w=!0,S.a_(new we(q,L)),b.close()}else Te(En,`RPC '${e}' stream ${a} received:`,F),S.u_(F)}})),V(h,x2.STAT_EVENT,(z=>{z.stat===Sp.PROXY?Te(En,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===Sp.NOPROXY&&Te(En,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){return new v6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n,i=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="PersistentStream";class m_{constructor(e,n,i,a,o,u,h,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new we(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(Bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Te(Bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xA extends m_{constructor(e,n,i,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=E6(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Ue.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?li(u.readTime):Ue.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Pp(this.serializer),n.addTarget=(function(o,u){let h;const m=u.target;if(h=Rp(m)?{documents:S6(o,m)}:{query:A6(o,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=n_(o,u.resumeToken);const p=Mp(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ue.min())>0){h.readTime=ih(o,u.snapshotVersion.toTimestamp());const p=Mp(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=k6(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Pp(this.serializer),n.removeTarget=e,this.q_(n)}}class yA extends m_{constructor(e,n,i,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=N6(e.writeResults,e.commitTime),i=li(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Pp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>T6(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class vA extends bA{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,Op(n,i),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ce.UNKNOWN,o.toString())}))}Ho(e,n,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Op(n,i),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _A{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class wA{constructor(e,n,i,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ba(this)&&(Te(Ma,"Restarting streams for network reachability change."),await(async function(m){const p=Be(m);p.Ea.add(4),await Ku(p),p.Ra.set("Unknown"),p.Ea.delete(4),await jh(p)})(this))}))})),this.Ra=new _A(i,a)}}async function jh(t){if(Ba(t))for(const e of t.da)await e(!0)}async function Ku(t){for(const e of t.da)await e(!1)}function p_(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),O0(n)?M0(n):io(n).O_()&&I0(n,e))}function D0(t,e){const n=Be(t),i=io(n);n.Ia.delete(e),i.O_()&&g_(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ba(n)&&n.Ra.set("Unknown"))}function I0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}io(t).Y_(e)}function g_(t,e){t.Va.Ue(e),io(t).Z_(e)}function M0(t){t.Va=new g6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),io(t).start(),t.Ra.ua()}function O0(t){return Ba(t)&&!io(t).x_()&&t.Ia.size>0}function Ba(t){return Be(t).Ea.size===0}function x_(t){t.Va=void 0}async function EA(t){t.Ra.set("Online")}async function TA(t){t.Ia.forEach(((e,n)=>{I0(t,e)}))}async function NA(t,e){x_(t),O0(t)?(t.Ra.ha(e),M0(t)):t.Ra.set("Unknown")}async function SA(t,e,n){if(t.Ra.set("Online"),e instanceof t_&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(i){Te(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ah(t,i)}else if(e instanceof Hf?t.Va.Ze(e):e instanceof e_?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const i=await h_(t.localStore);n.compareTo(i)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=o.Ia.get(p);y&&o.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,p)=>{const y=o.Ia.get(m);if(!y)return;o.Ia.set(m,y.withResumeToken(yn.EMPTY_BYTE_STRING,y.snapshotVersion)),g_(o,m);const b=new Ss(y.target,m,p,y.sequenceNumber);I0(o,b)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){Te(Ma,"Failed to raise snapshot:",i),await ah(t,i)}}async function ah(t,e,n){if(!no(e))throw e;t.Ea.add(1),await Ku(t),t.Ra.set("Offline"),n||(n=()=>h_(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(Ma,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jh(t)}))}function y_(t,e){return e().catch((n=>ah(t,n,e)))}async function Rh(t){const e=Be(t),n=Vs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:b0;for(;AA(e);)try{const a=await oA(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,CA(e,a)}catch(a){await ah(e,a)}b_(e)&&v_(e)}function AA(t){return Ba(t)&&t.Ta.length<10}function CA(t,e){t.Ta.push(e);const n=Vs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function b_(t){return Ba(t)&&!Vs(t).x_()&&t.Ta.length>0}function v_(t){Vs(t).start()}async function kA(t){Vs(t).ra()}async function jA(t){const e=Vs(t);for(const n of t.Ta)e.ea(n.mutations)}async function RA(t,e,n){const i=t.Ta.shift(),a=N0.from(i,e,n);await y_(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Rh(t)}async function DA(t,e){e&&Vs(t).X_&&await(async function(i,a){if((function(u){return d6(u)&&u!==ce.ABORTED})(a.code)){const o=i.Ta.shift();Vs(i).B_(),await y_(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Rh(i)}})(t,e),b_(t)&&v_(t)}async function qb(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),Te(Ma,"RemoteStore received new credentials");const i=Ba(n);n.Ea.add(3),await Ku(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jh(n)}async function IA(t,e){const n=Be(t);e?(n.Ea.delete(2),await jh(n)):e||(n.Ea.add(2),await Ku(n),n.Ra.set("Unknown"))}function io(t){return t.ma||(t.ma=(function(n,i,a){const o=Be(n);return o.sa(),new xA(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:EA.bind(null,t),t_:TA.bind(null,t),r_:NA.bind(null,t),H_:SA.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),O0(t)?M0(t):t.Ra.set("Unknown")):(await t.ma.stop(),x_(t))}))),t.ma}function Vs(t){return t.fa||(t.fa=(function(n,i,a){const o=Be(n);return o.sa(),new yA(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kA.bind(null,t),r_:DA.bind(null,t),ta:jA.bind(null,t),na:RA.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Rh(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(Ma,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,i,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,o){const u=Date.now()+i,h=new V0(e,n,u,a,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P0(t,e){if(Gi("AsyncQueue",`${e}: ${t}`),no(t))return new we(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{static emptySet(e){return new ql(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||De.comparator(n.key,i.key):(n,i)=>De.comparator(n.key,i.key),this.keyedMap=yu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ql)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ql;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.ga=new kt(De.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Zl{constructor(e,n,i,a,o,u,h,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Zl(e,n,ql.emptySet(n),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OA{constructor(){this.queries=Hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Be(n),o=a.queries;a.queries=Hb(),o.forEach(((u,h)=>{for(const m of h.Sa)m.onError(i)}))})(this,new we(ce.ABORTED,"Firestore shutting down"))}}function Hb(){return new Ua((t=>B2(t)),Eh)}async function L0(t,e){const n=Be(t);let i=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(i=2):(o=new MA,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=P0(u,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&U0(n)}async function z0(t,e){const n=Be(t),i=e.query;let a=3;const o=n.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function VA(t,e){const n=Be(t);let i=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(i=!0);u.wa=a}}i&&U0(n)}function PA(t,e,n){const i=Be(t),a=i.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);i.queries.delete(e)}function U0(t){t.Ca.forEach((e=>{e.next()}))}var Up,$b;($b=Up||(Up={})).Ma="default",$b.Cache="cache";class B0{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Zl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.key=e}}class w_{constructor(e){this.key=e}}class LA{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=q2(e),this.tu=new ql(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Fb,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,b)=>{const _=a.get(y),w=Th(this.query,b)?b:null,S=!!_&&this.mutatedKeys.has(_.key),V=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let z=!1;_&&w?_.data.isEqual(w.data)?S!==V&&(i.track({type:3,doc:w}),z=!0):this.su(_,w)||(i.track({type:2,doc:w}),z=!0,(m&&this.eu(w,m)>0||p&&this.eu(w,p)<0)&&(h=!0)):!_&&w?(i.track({type:0,doc:w}),z=!0):_&&!w&&(i.track({type:1,doc:_}),z=!0,(m||p)&&(h=!0)),z&&(w?(u=u.add(w),o=V?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,b)=>(function(w,S){const V=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:z})}};return V(w)-V(S)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new Zl(this.query,e.tu,o,u,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new w_(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new __(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const q0="SyncEngine";class zA{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class UA{constructor(e){this.key=e,this.hu=!1}}class BA{constructor(e,n,i,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ua((h=>B2(h)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new kt(De.comparator),this.Au=new Map,this.Ru=new C0,this.Vu={},this.mu=new Map,this.fu=Kl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qA(t,e,n=!0){const i=C_(t);let a;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await E_(i,e,n,!0),a}async function FA(t,e){const n=C_(t);await E_(n,e,!0,!1)}async function E_(t,e,n,i){const a=await uA(t.localStore,ai(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await HA(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&p_(t.remoteStore,a),h}async function HA(t,e,n,i,a){t.pu=(b,_,w)=>(async function(V,z,F,B){let U=z.view.ru(F);U.Cs&&(U=await Pb(V.localStore,z.query,!1).then((({documents:R})=>z.view.ru(R,U))));const $=B&&B.targetChanges.get(z.targetId),q=B&&B.targetMismatches.get(z.targetId)!=null,L=z.view.applyChanges(U,V.isPrimaryClient,$,q);return Yb(V,z.targetId,L.au),L.snapshot})(t,b,_,w);const o=await Pb(t.localStore,e,!0),u=new LA(e,o.Qs),h=u.ru(o.documents),m=Xu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,m);Yb(t,n,p.au);const y=new zA(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function $A(t,e,n){const i=Be(t),a=i.Tu.get(e),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((u=>!Eh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Lp(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&D0(i.remoteStore,a.targetId),Bp(i,a.targetId)})).catch(to)):(Bp(i,a.targetId),await Lp(i.localStore,a.targetId,!0))}async function GA(t,e){const n=Be(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),D0(n.remoteStore,i.targetId))}async function YA(t,e,n){const i=e5(t);try{const a=await(function(u,h){const m=Be(u),p=Nt.now(),y=h.reduce(((w,S)=>w.add(S.key)),Ze());let b,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let S=Yi(),V=Ze();return m.Ns.getEntries(w,y).next((z=>{S=z,S.forEach(((F,B)=>{B.isValidDocument()||(V=V.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,S))).next((z=>{b=z;const F=[];for(const B of h){const U=o6(B,b.get(B.key).overlayedDocument);U!=null&&F.push(new zs(B.key,U,I2(U.value.mapValue),zn.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,F,h)})).next((z=>{_=z;const F=z.applyToLocalDocumentSet(b,V);return m.documentOverlayCache.saveOverlays(w,z.batchId,F)}))})).then((()=>({batchId:_.batchId,changes:H2(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new kt(Ke)),p=p.insert(h,m),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,n),await Zu(i,a.changes),await Rh(i.remoteStore)}catch(a){const o=P0(a,"Failed to persist write");n.reject(o)}}async function T_(t,e){const n=Be(t);try{const i=await aA(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?lt(u.hu,14607):a.removedDocuments.size>0&&(lt(u.hu,42227),u.hu=!1))})),await Zu(n,i,e)}catch(i){await to(i)}}function Gb(t,e,n){const i=Be(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=Be(u);m.onlineState=h;let p=!1;m.queries.forEach(((y,b)=>{for(const _ of b.Sa)_.va(h)&&(p=!0)})),p&&U0(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function QA(t,e,n){const i=Be(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),o=a&&a.key;if(o){let u=new kt(De.comparator);u=u.insert(o,Sn.newNoDocument(o,Ue.min()));const h=Ze().add(o),m=new Ch(Ue.min(),new Map,new kt(Ke),u,h);await T_(i,m),i.du=i.du.remove(o),i.Au.delete(e),F0(i)}else await Lp(i.localStore,e,!1).then((()=>Bp(i,e,n))).catch(to)}async function XA(t,e){const n=Be(t),i=e.batch.batchId;try{const a=await sA(n.localStore,e);S_(n,i,null),N_(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Zu(n,a)}catch(a){await to(a)}}async function KA(t,e,n){const i=Be(t);try{const a=await(function(u,h){const m=Be(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,h).next((b=>(lt(b!==null,37113),y=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,e);S_(i,e,n),N_(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Zu(i,a)}catch(a){await to(a)}}function N_(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function S_(t,e,n){const i=Be(t);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Bp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||A_(t,i)}))}function A_(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(D0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),F0(t))}function Yb(t,e,n){for(const i of n)i instanceof __?(t.Ru.addReference(i.key,e),ZA(t,i)):i instanceof w_?(Te(q0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||A_(t,i.key)):Pe(19791,{wu:i})}function ZA(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Te(q0,"New document in limbo: "+n),t.Eu.add(i),F0(t))}function F0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(_t.fromString(e)),i=t.fu.next();t.Au.set(i,new UA(n)),t.du=t.du.insert(n,i),p_(t.remoteStore,new Ss(ai(wh(n.path)),i,"TargetPurposeLimboResolution",bh.ce))}}async function Zu(t,e,n){const i=Be(t),a=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{u.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=j0.As(m.targetId,p);o.push(y)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(m,p){const y=Be(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>pe.forEach(p,(_=>pe.forEach(_.Es,(w=>y.persistence.referenceDelegate.addReference(b,_.targetId,w))).next((()=>pe.forEach(_.ds,(w=>y.persistence.referenceDelegate.removeReference(b,_.targetId,w)))))))))}catch(b){if(!no(b))throw b;Te(R0,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const w=y.Ms.get(_),S=w.snapshotVersion,V=w.withLastLimboFreeSnapshotVersion(S);y.Ms=y.Ms.insert(_,V)}}})(i.localStore,o))}async function JA(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){Te(q0,"User change. New user:",e.toKey());const i=await f_(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((m=>{m.reject(new we(ce.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Zu(n,i.Ls)}}function WA(t,e){const n=Be(t),i=n.Au.get(e);if(i&&i.hu)return Ze().add(i.key);{let a=Ze();const o=n.Iu.get(e);if(!o)return a;for(const u of o){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function C_(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QA.bind(null,e),e.Pu.H_=VA.bind(null,e.eventManager),e.Pu.yu=PA.bind(null,e.eventManager),e}function e5(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KA.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iA(this.persistence,new tA,e.initialUser,this.serializer)}Cu(e){return new c_(k0.mi,this.serializer)}Du(e){return new fA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class t5 extends lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof sh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new U6(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new c_((i=>sh.mi(i,n)),this.serializer)}}class qp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Gb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=JA.bind(null,this.syncEngine),await IA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OA})()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),i=(function(o){return new gA(o)})(e.databaseInfo);return(function(o,u,h,m){return new vA(o,u,h,m)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,o,u,h){return new wA(i,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Gb(this.syncEngine,n,0)),(function(){return Ub.v()?new Ub:new hA})())}createSyncEngine(e,n){return(function(a,o,u,h,m,p,y){const b=new BA(a,o,u,h,m,p);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Be(n);Te(Ma,"RemoteStore shutting down."),i.Ea.add(5),await Ku(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qp.provider={build:()=>new qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class n5{constructor(e,n,i,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Tn.UNAUTHENTICATED,this.clientId=y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{Te(Ps,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Te(Ps,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=P0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function tp(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Ps,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await f_(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Qb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await r5(t);Te(Ps,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>qb(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>qb(e.remoteStore,a))),t._onlineComponents=e}async function r5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Ps,"Using user provided OfflineComponentProvider");try{await tp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Gl("Error using user provided cache. Falling back to memory cache: "+n),await tp(t,new lh)}}else Te(Ps,"Using default OfflineComponentProvider"),await tp(t,new t5(void 0));return t._offlineComponents}async function k_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Ps,"Using user provided OnlineComponentProvider"),await Qb(t,t._uninitializedComponentsProvider._online)):(Te(Ps,"Using default OnlineComponentProvider"),await Qb(t,new qp))),t._onlineComponents}function i5(t){return k_(t).then((e=>e.syncEngine))}async function oh(t){const e=await k_(t),n=e.eventManager;return n.onListen=qA.bind(null,e.syncEngine),n.onUnlisten=$A.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GA.bind(null,e.syncEngine),n}function s5(t,e,n={}){const i=new Fi;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,m,p){const y=new H0({next:_=>{y.Nu(),u.enqueueAndForget((()=>z0(o,b)));const w=_.docs.has(h);!w&&_.fromCache?p.reject(new we(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&m&&m.source==="server"?p.reject(new we(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new B0(wh(h.path),y,{includeMetadataChanges:!0,qa:!0});return L0(o,b)})(await oh(t),t.asyncQueue,e,n,i))),i.promise}function a5(t,e,n={}){const i=new Fi;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,m,p){const y=new H0({next:_=>{y.Nu(),u.enqueueAndForget((()=>z0(o,b))),_.fromCache&&m.source==="server"?p.reject(new we(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new B0(h,y,{includeMetadataChanges:!0,qa:!0});return L0(o,b)})(await oh(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="firestore.googleapis.com",Kb=!0;class Zb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R_,this.ssl=Kb}else this.host=e.host,this.ssl=e.ssl??Kb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L6)throw new we(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j_(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new f3;switch(i.type){case"firstParty":return new p3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Xb.get(n);i&&(Te("ComponentProvider","Removing Datastore"),Xb.delete(n),i.terminate())})(this),Promise.resolve()}}function l5(t,e,n,i={}){t=Ln(t,Dh);const a=p0(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(UN(`https://${h}`),HN("Firestore",!0)),o.host!==R_&&o.host!==h&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:h,ssl:a,emulatorOptions:i};if(!Kf(m,u)&&(t._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=Tn.MOCK_USER;else{p=BN(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new we(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Tn(b)}t._authCredentials=new h3(new _2(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class Mt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Yu(n,Mt._jsonSchema))return new Mt(e,i||null,new De(_t.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Qt("string",Mt._jsonSchemaVersion),referencePath:Qt("string")};class js extends Us{constructor(e,n,i){super(e,n,wh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new De(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function zu(t,e,...n){if(t=Cr(t),w2("collection","path",e),t instanceof Dh){const i=_t.fromString(e,...n);return cb(i),new js(t,null,i)}{if(!(t instanceof Mt||t instanceof js))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_t.fromString(e,...n));return cb(i),new js(t.firestore,null,i)}}function On(t,e,...n){if(t=Cr(t),arguments.length===1&&(e=y0.newId()),w2("doc","path",e),t instanceof Dh){const i=_t.fromString(e,...n);return ub(i),new Mt(t,null,new De(i))}{if(!(t instanceof Mt||t instanceof js))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_t.fromString(e,...n));return ub(i),new Mt(t.firestore,t instanceof js?t.converter:null,new De(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="AsyncQueue";class Wb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d_(this,"async_queue_retry"),this._c=()=>{const i=ep();i&&Te(Jb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!no(e))throw e;Te(Jb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",ev(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=V0.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Pe(47125,{Pc:ev(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ev(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class di extends Dh{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Wb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wb(e),this._firestoreClient=void 0,await e}}}function o5(t,e){const n=typeof t=="object"?t:e3(),i=typeof t=="string"?t:eh,a=XS(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=LN("firestore");o&&l5(a,...o)}return a}function Ju(t){if(t._terminated)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||u5(t),t._firestoreClient}function u5(t){const e=t._freezeSettings(),n=(function(a,o,u,h){return new D3(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,j_(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new n5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ar(yn.fromBase64String(e))}catch(n){throw new we(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ar(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yu(e,Ar._jsonSchema))return Ar.fromBase64String(e.bytes)}}Ar._jsonSchemaVersion="firestore/bytes/1.0",Ar._jsonSchema={type:Qt("string",Ar._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(e){if(Yu(e,oi._jsonSchema))return new oi(e.latitude,e.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:Qt("string",oi._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yu(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ui(e.vectorValues);throw new we(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Qt("string",ui._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=/^__.*__$/;class f5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}class D_{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function I_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class $0{constructor(e,n,i,a,o,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(I_(this.Ac)&&c5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class h5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||kh(e)}Cc(e,n,i,a=!1){return new $0({Ac:e,methodName:n,Dc:i,path:xn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ec(t){const e=t._freezeSettings(),n=kh(t._databaseId);return new h5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G0(t,e,n,i,a,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);Q0("Data must be an object, but it was:",u,i);const h=V_(i,u);let m,p;if(o.merge)m=new ur(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const _=Fp(e,b,n);if(!u.contains(_))throw new we(ce.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);L_(y,_)||y.push(_)}m=new ur(y),p=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=u.fieldTransforms;return new f5(new Kn(h),m,p)}class Mh extends Ih{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}class Y0 extends Ih{_toFieldTransform(e){return new i6(e.path,new Vu)}isEqual(e){return e instanceof Y0}}function M_(t,e,n,i){const a=t.Cc(1,e,n);Q0("Data must be an object, but it was:",a,i);const o=[],u=Kn.empty();Ls(i,((m,p)=>{const y=X0(e,m,n);p=Cr(p);const b=a.yc(y);if(p instanceof Mh)o.push(y);else{const _=tc(p,b);_!=null&&(o.push(y),u.set(y,_))}}));const h=new ur(o);return new D_(u,h,a.fieldTransforms)}function O_(t,e,n,i,a,o){const u=t.Cc(1,e,n),h=[Fp(e,i,n)],m=[a];if(o.length%2!=0)throw new we(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)h.push(Fp(e,o[_])),m.push(o[_+1]);const p=[],y=Kn.empty();for(let _=h.length-1;_>=0;--_)if(!L_(p,h[_])){const w=h[_];let S=m[_];S=Cr(S);const V=u.yc(w);if(S instanceof Mh)p.push(w);else{const z=tc(S,V);z!=null&&(p.push(w),y.set(w,z))}}const b=new ur(p);return new D_(y,b,u.fieldTransforms)}function d5(t,e,n,i=!1){return tc(n,t.Cc(i?4:3,e))}function tc(t,e){if(P_(t=Cr(t)))return Q0("Unsupported field value:",e,t),V_(t,e);if(t instanceof Ih)return(function(i,a){if(!I_(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let u=0;for(const h of i){let m=tc(h,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}})(t,e)}return(function(i,a){if((i=Cr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return t6(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Nt.fromDate(i);return{timestampValue:ih(a.serializer,o)}}if(i instanceof Nt){const o=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ih(a.serializer,o)}}if(i instanceof oi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ar)return{bytesValue:n_(a.serializer,i._byteString)};if(i instanceof Mt){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:A0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ui)return(function(u,h){return{mapValue:{fields:{[R2]:{stringValue:D2},[th]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return T0(h.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${yh(i)}`)})(t,e)}function V_(t,e){const n={};return N2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(t,((i,a)=>{const o=tc(a,e.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function P_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof oi||t instanceof Ar||t instanceof Mt||t instanceof Ih||t instanceof ui)}function Q0(t,e,n){if(!P_(n)||!E2(n)){const i=yh(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Fp(t,e,n){if((e=Cr(e))instanceof Wu)return e._internalPath;if(typeof e=="string")return X0(t,e);throw uh("Field path arguments must be of type string or ",t,!1,void 0,n)}const m5=new RegExp("[~\\*/\\[\\]]");function X0(t,e,n){if(e.search(m5)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wu(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uh(t,e,n,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new we(ce.INVALID_ARGUMENT,h+t+m)}function L_(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,i,a,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class p5 extends z_{data(){return super.data()}}function Oh(t,e){return typeof e=="string"?X0(t,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K0{}class B_ extends K0{}function Z0(t,e,...n){let i=[];e instanceof K0&&i.push(e),i=i.concat(n),(function(o){const u=o.filter((m=>m instanceof J0)).length,h=o.filter((m=>m instanceof Vh)).length;if(u>1||u>0&&h>0)throw new we(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Vh extends B_{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Vh(e,n,i)}_apply(e){const n=this._parse(e);return F_(e._query,n),new Us(e.firestore,e.converter,Dp(e._query,n))}_parse(e){const n=ec(e.firestore);return(function(o,u,h,m,p,y,b){let _;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new we(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){rv(b,y);const S=[];for(const V of b)S.push(nv(m,o,V));_={arrayValue:{values:S}}}else _=nv(m,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||rv(b,y),_=d5(h,u,b,y==="in"||y==="not-in");return Yt.create(p,y,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function q_(t,e,n){const i=e,a=Oh("where",t);return Vh._create(a,i,n)}class J0 extends K0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new J0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const m of h)F_(u,m),u=Dp(u,m)})(e._query,n),new Us(e.firestore,e.converter,Dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class W0 extends B_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new W0(e,n)}_apply(e){const n=(function(a,o,u){if(a.startAt!==null)throw new we(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new we(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ou(o,u)})(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,(function(a,o){const u=a.explicitOrderBy.concat([o]);return new ro(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function g5(t,e="asc"){const n=e,i=Oh("orderBy",t);return W0._create(i,n)}function nv(t,e,n){if(typeof(n=Cr(n))=="string"){if(n==="")throw new we(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U2(e)&&n.indexOf("/")!==-1)throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(_t.fromString(n));if(!De.isDocumentKey(i))throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yb(t,new De(i))}if(n instanceof Mt)return yb(t,n._key);throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(n)}.`)}function rv(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F_(t,e){const n=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class x5{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ls(e,((a,o)=>{i[a]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[th].arrayValue?.values?.map((i=>Lt(i.doubleValue)));return new ui(n)}convertGeoPoint(e){return new oi(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=_h(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const n=Is(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=_t.fromString(e);lt(o_(i),9688,{name:e});const a=new Iu(i.get(1),i.get(3)),o=new De(i.popFirst(5));return a.isEqual(n)||Gi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends z_{constructor(e,n,i,a,o,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Oh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Qt("string",Ca._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class $f extends Ca{data(e={}){return super.data(e)}}class ka{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new vu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new $f(this._firestore,this._userDataWriter,i.key,i,new vu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new $f(a._firestore,a._userDataWriter,h.doc.key,h.doc,new vu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const m=new $f(a._firestore,a._userDataWriter,h.doc.key,h.doc,new vu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:y5(h.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=y0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t){t=Ln(t,Mt);const e=Ln(t.firestore,di);return s5(Ju(e),t._key).then((n=>G_(e,t,n)))}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:Qt("string",ka._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class tg extends x5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function iv(t){t=Ln(t,Us);const e=Ln(t.firestore,di),n=Ju(e),i=new tg(e);return U_(t._query),a5(n,t._query).then((a=>new ka(e,i,t,a)))}function Ui(t,e,n){t=Ln(t,Mt);const i=Ln(t.firestore,di),a=eg(t.converter,e,n);return nc(i,[G0(ec(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,zn.none())])}function v5(t,e,n,...i){t=Ln(t,Mt);const a=Ln(t.firestore,di),o=ec(a);let u;return u=typeof(e=Cr(e))=="string"||e instanceof Wu?O_(o,"updateDoc",t._key,e,n,i):M_(o,"updateDoc",t._key,e),nc(a,[u.toMutation(t._key,zn.exists(!0))])}function H_(t){return nc(Ln(t.firestore,di),[new Ah(t._key,zn.none())])}function _5(t,e){const n=Ln(t.firestore,di),i=On(t),a=eg(t.converter,e);return nc(n,[G0(ec(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,zn.exists(!1))]).then((()=>i))}function $_(t,...e){t=Cr(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||tv(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tv(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let o,u,h;if(t instanceof Mt)u=Ln(t.firestore,di),h=wh(t._key.path),o={next:m=>{e[i]&&e[i](G_(u,t,m))},error:e[i+1],complete:e[i+2]};else{const m=Ln(t,Us);u=Ln(m.firestore,di),h=m._query;const p=new tg(u);o={next:y=>{e[i]&&e[i](new ka(u,p,m,y))},error:e[i+1],complete:e[i+2]},U_(t._query)}return(function(p,y,b,_){const w=new H0(_),S=new B0(y,w,b);return p.asyncQueue.enqueueAndForget((async()=>L0(await oh(p),S))),()=>{w.Nu(),p.asyncQueue.enqueueAndForget((async()=>z0(await oh(p),S)))}})(Ju(u),h,a,o)}function nc(t,e){return(function(i,a){const o=new Fi;return i.asyncQueue.enqueueAndForget((async()=>YA(await i5(i),a,o))),o.promise})(Ju(t),e)}function G_(t,e,n){const i=n.docs.get(e._key),a=new tg(t);return new Ca(t,a,e._key,i,new vu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ec(e)}set(e,n,i){this._verifyNotCommitted();const a=np(e,this._firestore),o=eg(a.converter,n,i),u=G0(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,zn.none())),this}update(e,n,i,...a){this._verifyNotCommitted();const o=np(e,this._firestore);let u;return u=typeof(n=Cr(n))=="string"||n instanceof Wu?O_(this._dataReader,"WriteBatch.update",o._key,n,i,a):M_(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(u.toMutation(o._key,zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=np(e,this._firestore);return this._mutations=this._mutations.concat(new Ah(n._key,zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function np(t,e){if((t=Cr(t)).firestore!==e)throw new we(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Fl(){return new Y0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){return Ju(t=Ln(t,di)),new w5(t,(e=>nc(t,e)))}(function(e,n=!0){(function(a){eo=a})(WS),Jf(new ku("firestore",((i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new di(new d3(i.getProvider("auth-internal")),new g3(u,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(p.options.projectId,y)})(u,a),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Bl(sb,ab,e),Bl(sb,ab,"esm2020")})();var T5="firebase",N5="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bl(T5,N5,"app");const S5={apiKey:"AIzaSyC2RM2HldOB3ScxGRpGxkSj9wvuDqAwWm4",authDomain:"academic-progress-tracke-4774a.firebaseapp.com",projectId:"academic-progress-tracke-4774a",storageBucket:"academic-progress-tracke-4774a.firebasestorage.app",messagingSenderId:"660250554925",appId:"1:660250554925:web:55db1dfd08215d6e493ea4"},A5=f2(S5),$t=o5(A5);function C5(t){const[e,n]=ee.useState([]),[i,a]=ee.useState(!0),[o,u]=ee.useState(!1),h=t?.rollNo===Ve.rollNo,m=t?.role==="co-leader",p=q=>h?!0:m?t?.permissions?t.permissions[q]!==!1:!0:!1,y=h||m&&p("canPostNotices"),b=h||m&&p("canCreateUsers"),_=h||m&&p("canManagePasswords");ee.useEffect(()=>{if(!t){n([]),a(!1);return}const q=Z0(zu($t,"noticeBoard"),g5("createdAt","desc")),L=$_(q,R=>{const C=[];R.forEach(M=>{const k={id:M.id,...M.data()},I=k.allowedUsers||[],P=k.isPublic||!1,A=k.createdByRoll===t.rollNo,ae=I.includes(t.rollNo);h?C.push(k):m?(P||A||ae)&&C.push(k):(P||ae)&&C.push(k)}),n(C),a(!1)},R=>{console.error("Error loading notices:",R),a(!1)});return()=>L()},[t,y]);const w=async(q,L,R={},C=[],M=!1)=>{if(!y)throw new Error("Only admin and co-leaders can create notices");try{return u(!0),await _5(zu($t,"noticeBoard"),{type:q,content:L,meta:R,createdBy:t.name,createdByRoll:t.rollNo,allowedUsers:C,isPublic:M,createdAt:Fl(),updatedAt:Fl()}),!0}catch(k){return console.error("Error creating notice:",k),!1}finally{u(!1)}},S=async(q,L,R="admin")=>{try{const C=On($t,"noticeBoard",q);if(R==="admin"&&!y)throw new Error("Only admin and co-leaders can manage notices");return await v5(C,{...L,updatedAt:Fl()}),!0}catch(C){return console.error("Error updating notice:",C),!1}};return{notices:e,isLoading:i,isSaving:o,isAdmin:h,isCoLeader:m,canManageNotices:y,canCreateUsers:b,canManagePasswords:_,hasPermission:p,createNotice:w,updateNotice:S,editNotice:async(q,L)=>{if(!y)throw new Error("Only admin and co-leaders can edit notices");try{return await S(q,L,"admin"),!0}catch(R){return console.error("Error editing notice:",R),!1}},deleteNotice:async q=>{if(!y)throw new Error("Only admin and co-leaders can delete notices");try{return await H_(On($t,"noticeBoard",q)),!0}catch(L){return console.error("Error deleting notice:",L),!1}},updateNoticePermissions:async(q,L,R)=>{if(!y)throw new Error("Only admin and co-leaders can update permissions");try{return await S(q,{allowedUsers:L,isPublic:R},"admin"),!0}catch(C){return console.error("Error updating permissions:",C),!1}},voteInPoll:async(q,L,R)=>{try{const C=e.find(I=>I.id===q);if(!C||C.type!=="poll")return!1;const M=[...C.meta.options];if(C.meta.isAnonymous||!1){L.forEach(A=>{M[A].anonymousVotes||(M[A].anonymousVotes=0)});const I=C.meta.userVotes||{};(I[R]||[]).forEach(A=>{M[A].anonymousVotes>0&&M[A].anonymousVotes--}),L.forEach(A=>{M[A].anonymousVotes++}),I[R]=L,await S(q,{meta:{...C.meta,options:M,userVotes:I}},"user")}else M.forEach(I=>{I.votes=I.votes?.filter(P=>P!==R)||[]}),L.forEach(I=>{M[I].votes||(M[I].votes=[]),M[I].votes.push(R)}),await S(q,{meta:{...C.meta,options:M}},"user");return!0}catch(C){return console.error("Error voting:",C),!1}},toggleChecklistItem:async(q,L,R)=>{try{const C=e.find(I=>I.id===q);if(!C||C.type!=="checklist")return!1;const M=[...C.meta.items];if(C.meta.isAnonymous||!1){M[L].anonymousCompletions||(M[L].anonymousCompletions=0);const I=C.meta.userCompletions||{},P=I[R]||[];P.includes(L)?(I[R]=P.filter(A=>A!==L),M[L].anonymousCompletions=Math.max(0,M[L].anonymousCompletions-1)):(I[R]=[...P,L],M[L].anonymousCompletions++),await S(q,{meta:{...C.meta,items:M,userCompletions:I}},"user")}else{M[L].completedBy||(M[L].completedBy=[]);const I=M[L].completedBy.indexOf(R);I>-1?M[L].completedBy.splice(I,1):M[L].completedBy.push(R),await S(q,{meta:{...C.meta,items:M}},"user")}return!0}catch(C){return console.error("Error toggling checklist:",C),!1}},toggleTodo:async(q,L)=>{try{const R=e.find(I=>I.id===q);if(!R||R.type!=="todo")return!1;const C=R.meta.completedBy||[],M=C.indexOf(L);let k;return M>-1?k=C.filter(I=>I!==L):k=[...C,L],await S(q,{meta:{...R.meta,completedBy:k}},"user"),!0}catch(R){return console.error("Error toggling todo:",R),!1}}}}const k5={};var Hp=null;function j5(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return k5.randomBytes(t)}catch{}if(!Hp)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Hp(t)}function R5(t){Hp=t}function ng(t,e){if(t=t||rg,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(ch(j5(Uu),Uu)),n.join("")}function Y_(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=rg;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function i(a){Pr(function(){try{a(null,ng(t))}catch(o){a(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(a,o){i(function(u,h){if(u){o(u);return}a(h)})})}function Q_(t,e){if(typeof e>"u"&&(e=rg),typeof e=="number"&&(e=ng(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return $p(t,e)}function X_(t,e,n,i){function a(o){typeof t=="string"&&typeof e=="number"?Y_(e,function(u,h){$p(t,h,o,i)}):typeof t=="string"&&typeof e=="string"?$p(t,e,o,i):Pr(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);a(n)}else return new Promise(function(o,u){a(function(h,m){if(h){u(h);return}o(m)})})}function K_(t,e){for(var n=t.length^e.length,i=0;i<t.length;++i)n|=t.charCodeAt(i)^e.charCodeAt(i);return n===0}function D5(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:K_(Q_(t,e.substring(0,e.length-31)),e)}function I5(t,e,n,i){function a(o){if(typeof t!="string"||typeof e!="string"){Pr(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Pr(o.bind(this,null,!1));return}X_(t,e.substring(0,29),function(u,h){u?o(u):o(null,K_(h,e))},i)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);a(n)}else return new Promise(function(o,u){a(function(h,m){if(h){u(h);return}o(m)})})}function M5(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function O5(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function V5(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return Z_(t)>72}var Pr=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function Z_(t){for(var e=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,e+=4):e+=3;return e}function P5(t){for(var e=0,n,i,a=new Array(Z_(t)),o=0,u=t.length;o<u;++o)n=t.charCodeAt(o),n<128?a[e++]=n:n<2048?(a[e++]=n>>6|192,a[e++]=n&63|128):(n&64512)===55296&&((i=t.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(i&1023),++o,a[e++]=n>>18|240,a[e++]=n>>12&63|128,a[e++]=n>>6&63|128,a[e++]=n&63|128):(a[e++]=n>>12|224,a[e++]=n>>6&63|128,a[e++]=n&63|128);return a}var Dl="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ws=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function ch(t,e){var n=0,i=[],a,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(a=t[n++]&255,i.push(Dl[a>>2&63]),a=(a&3)<<4,n>=e){i.push(Dl[a&63]);break}if(o=t[n++]&255,a|=o>>4&15,i.push(Dl[a&63]),a=(o&15)<<2,n>=e){i.push(Dl[a&63]);break}o=t[n++]&255,a|=o>>6&3,i.push(Dl[a&63]),i.push(Dl[o&63])}return i.join("")}function J_(t,e){var n=0,i=t.length,a=0,o=[],u,h,m,p,y,b;if(e<=0)throw Error("Illegal len: "+e);for(;n<i-1&&a<e&&(b=t.charCodeAt(n++),u=b<ws.length?ws[b]:-1,b=t.charCodeAt(n++),h=b<ws.length?ws[b]:-1,!(u==-1||h==-1||(y=u<<2>>>0,y|=(h&48)>>4,o.push(String.fromCharCode(y)),++a>=e||n>=i)||(b=t.charCodeAt(n++),m=b<ws.length?ws[b]:-1,m==-1)||(y=(h&15)<<4>>>0,y|=(m&60)>>2,o.push(String.fromCharCode(y)),++a>=e||n>=i)));)b=t.charCodeAt(n++),p=b<ws.length?ws[b]:-1,y=(m&3)<<6>>>0,y|=p,o.push(String.fromCharCode(y)),++a;var _=[];for(n=0;n<a;n++)_.push(o[n].charCodeAt(0));return _}var Uu=16,rg=10,L5=16,z5=100,sv=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],av=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],W_=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Bu(t,e,n,i){var a,o=t[e],u=t[e+1];return o^=n[0],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],u^=a^n[1],a=i[u>>>24],a+=i[256|u>>16&255],a^=i[512|u>>8&255],a+=i[768|u&255],o^=a^n[2],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],u^=a^n[3],a=i[u>>>24],a+=i[256|u>>16&255],a^=i[512|u>>8&255],a+=i[768|u&255],o^=a^n[4],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],u^=a^n[5],a=i[u>>>24],a+=i[256|u>>16&255],a^=i[512|u>>8&255],a+=i[768|u&255],o^=a^n[6],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],u^=a^n[7],a=i[u>>>24],a+=i[256|u>>16&255],a^=i[512|u>>8&255],a+=i[768|u&255],o^=a^n[8],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],u^=a^n[9],a=i[u>>>24],a+=i[256|u>>16&255],a^=i[512|u>>8&255],a+=i[768|u&255],o^=a^n[10],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],u^=a^n[11],a=i[u>>>24],a+=i[256|u>>16&255],a^=i[512|u>>8&255],a+=i[768|u&255],o^=a^n[12],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],u^=a^n[13],a=i[u>>>24],a+=i[256|u>>16&255],a^=i[512|u>>8&255],a+=i[768|u&255],o^=a^n[14],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],u^=a^n[15],a=i[u>>>24],a+=i[256|u>>16&255],a^=i[512|u>>8&255],a+=i[768|u&255],o^=a^n[16],t[e]=u^n[L5+1],t[e+1]=o,t}function zl(t,e){for(var n=0,i=0;n<4;++n)i=i<<8|t[e]&255,e=(e+1)%t.length;return{key:i,offp:e}}function lv(t,e,n){for(var i=0,a=[0,0],o=e.length,u=n.length,h,m=0;m<o;m++)h=zl(t,i),i=h.offp,e[m]=e[m]^h.key;for(m=0;m<o;m+=2)a=Bu(a,0,e,n),e[m]=a[0],e[m+1]=a[1];for(m=0;m<u;m+=2)a=Bu(a,0,e,n),n[m]=a[0],n[m+1]=a[1]}function U5(t,e,n,i){for(var a=0,o=[0,0],u=n.length,h=i.length,m,p=0;p<u;p++)m=zl(e,a),a=m.offp,n[p]=n[p]^m.key;for(a=0,p=0;p<u;p+=2)m=zl(t,a),a=m.offp,o[0]^=m.key,m=zl(t,a),a=m.offp,o[1]^=m.key,o=Bu(o,0,n,i),n[p]=o[0],n[p+1]=o[1];for(p=0;p<h;p+=2)m=zl(t,a),a=m.offp,o[0]^=m.key,m=zl(t,a),a=m.offp,o[1]^=m.key,o=Bu(o,0,n,i),i[p]=o[0],i[p+1]=o[1]}function ov(t,e,n,i,a){var o=W_.slice(),u=o.length,h;if(n<4||n>31)if(h=Error("Illegal number of rounds (4-31): "+n),i){Pr(i.bind(this,h));return}else throw h;if(e.length!==Uu)if(h=Error("Illegal salt length: "+e.length+" != "+Uu),i){Pr(i.bind(this,h));return}else throw h;n=1<<n>>>0;var m,p,y=0,b;typeof Int32Array=="function"?(m=new Int32Array(sv),p=new Int32Array(av)):(m=sv.slice(),p=av.slice()),U5(e,t,m,p);function _(){if(a&&a(y/n),y<n)for(var S=Date.now();y<n&&(y=y+1,lv(t,m,p),lv(e,m,p),!(Date.now()-S>z5)););else{for(y=0;y<64;y++)for(b=0;b<u>>1;b++)Bu(o,b<<1,m,p);var V=[];for(y=0;y<u;y++)V.push((o[y]>>24&255)>>>0),V.push((o[y]>>16&255)>>>0),V.push((o[y]>>8&255)>>>0),V.push((o[y]&255)>>>0);if(i){i(null,V);return}else return V}i&&Pr(_)}if(typeof i<"u")_();else for(var w;;)if(typeof(w=_())<"u")return w||[]}function $p(t,e,n,i){var a;if(typeof t!="string"||typeof e!="string")if(a=Error("Invalid string / salt: Not a string"),n){Pr(n.bind(this,a));return}else throw a;var o,u;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(a=Error("Invalid salt version: "+e.substring(0,2)),n){Pr(n.bind(this,a));return}else throw a;if(e.charAt(2)==="$")o="\0",u=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(a=Error("Invalid salt revision: "+e.substring(2,4)),n){Pr(n.bind(this,a));return}else throw a;u=4}if(e.charAt(u+2)>"$")if(a=Error("Missing salt rounds"),n){Pr(n.bind(this,a));return}else throw a;var h=parseInt(e.substring(u,u+1),10)*10,m=parseInt(e.substring(u+1,u+2),10),p=h+m,y=e.substring(u+3,u+25);t+=o>="a"?"\0":"";var b=P5(t),_=J_(y,Uu);function w(S){var V=[];return V.push("$2"),o>="a"&&V.push(o),V.push("$"),p<10&&V.push("0"),V.push(p.toString()),V.push("$"),V.push(ch(_,_.length)),V.push(ch(S,W_.length*4-1)),V.join("")}if(typeof n>"u")return w(ov(b,_,p));ov(b,_,p,function(S,V){S?n(S,null):n(null,w(V))},i)}function B5(t,e){return ch(t,e)}function q5(t,e){return J_(t,e)}const fu={setRandomFallback:R5,genSaltSync:ng,genSalt:Y_,hashSync:Q_,hash:X_,compareSync:D5,compare:I5,getRounds:M5,getSalt:O5,truncates:V5,encodeBase64:B5,decodeBase64:q5};function ew(){const[t,e]=ee.useState([]),[n,i]=ee.useState(null),[a,o]=ee.useState(!0),[u,h]=ee.useState(!1),m=n&&n.rollNo===Ve.rollNo,p=async()=>{try{o(!0);const B=await iv(zu($t,"students")),U=[];if(B.forEach(q=>{U.push(q.data())}),!U.some(q=>q.rollNo===Ve.rollNo)){const q={...Ve,password:fu.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Ve.admissionYear||new Date().getFullYear(),isDSY:Ve.isDSY||!1};U.push(q),await Ui(On($t,"students",Ve.rollNo),q)}e(U);try{const q=localStorage.getItem("selected-student");if(q){const L=JSON.parse(q),R=U.find(C=>C.rollNo===L.rollNo);R?i(R):localStorage.removeItem("selected-student")}}catch{localStorage.removeItem("selected-student")}h(!0)}catch(B){console.error("Error loading students:",B);const U={...Ve,password:fu.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Ve.admissionYear,isDSY:!1};e([U]),h(!0)}finally{o(!1)}},y=async(B,U,$="",q="student",L=new Date().getFullYear(),R=!1)=>{try{const C=Number(L);if(!Number.isInteger(C)||C<2e3||C>new Date().getFullYear())throw new Error("Invalid admission year");if(typeof R!="boolean")throw new Error("Invalid DSY flag");const M={rollNo:B,name:U,admissionYear:C,isDSY:R,isProtected:!!$,password:$?fu.hashSync($,10):null,role:q};if(t.some(I=>I.rollNo===B))throw new Error("Student with this roll number already exists");return await Ui(On($t,"students",B),M),e([...t,M]),!0}catch(C){throw console.error("Error creating student:",C),C}},b=async(B,U)=>{try{if(B===Ve.rollNo)throw new Error("Cannot change admin role");const $=t.find(L=>L.rollNo===B);if(!$)throw new Error("Student not found");let q={...$,role:U};return U==="co-leader"&&!$.permissions&&(q.permissions={canCreateUsers:!0,canPostNotices:!0,canAppointCoLeaders:!1,canManagePasswords:!1}),U==="student"&&$.role==="co-leader"&&delete q.permissions,await Ui(On($t,"students",B),q),e(t.map(L=>L.rollNo===B?q:L)),n&&n.rollNo===B&&(i(q),localStorage.setItem("selected-student",JSON.stringify(q))),!0}catch($){throw console.error("Error updating role:",$),$}},_=async(B,U)=>{try{if(!U||!U.trim())throw new Error("Name cannot be empty");const $=t.find(L=>L.rollNo===B);if(!$)throw new Error("Student not found");const q={...$,name:U.trim()};return await Ui(On($t,"students",B),q),e(t.map(L=>L.rollNo===B?q:L)),n&&n.rollNo===B&&(i(q),localStorage.setItem("selected-student",JSON.stringify(q))),!0}catch($){throw console.error("Error updating name:",$),$}},w=async B=>{try{if(B===Ve.rollNo)throw new Error("Cannot delete admin student");await H_(On($t,"students",B));const U=E5($t),$=Z0(zu($t,"academic-data"),q_("studentId","==",B));(await iv($)).forEach(R=>{U.delete(R.ref)});const L=On($t,"userNotes",B);return U.delete(L),await U.commit(),e(t.filter(R=>R.rollNo!==B)),n&&n.rollNo===B&&(i(null),localStorage.removeItem("selected-student")),!0}catch(U){throw console.error("Error deleting student:",U),U}},S=async(B,U)=>{try{return B.isProtected?U?await fu.compare(U,B.password):!1:!0}catch($){return console.error("Error authenticating student:",$),!1}},V=async(B,U,$=!1)=>{try{const q=t.find(R=>R.rollNo===B);if(!q)throw new Error("Student not found");const L={...q,password:$?null:fu.hashSync(U,10),isProtected:!$};return await Ui(On($t,"students",B),L),e(t.map(R=>R.rollNo===B?L:R)),!0}catch(q){throw console.error("Error updating password:",q),q}},z=async(B,U)=>{try{const $=t.find(L=>L.rollNo===B);if(!$)throw new Error("Student not found");if($.role!=="co-leader")throw new Error("Can only update permissions for co-leaders");const q={...$,permissions:U};return await Ui(On($t,"students",B),q),e(t.map(L=>L.rollNo===B?q:L)),n&&n.rollNo===B&&(i(q),localStorage.setItem("selected-student",JSON.stringify(q))),!0}catch($){throw console.error("Error updating co-leader permissions:",$),$}},F=B=>{const U=n;if(U&&U.rollNo!==B?.rollNo){const $=`academic-data-${U.rollNo}`;localStorage.removeItem($)}i(B),B?localStorage.setItem("selected-student",JSON.stringify(B)):localStorage.removeItem("selected-student")};return ee.useEffect(()=>{p()},[]),{students:t,selectedStudent:n,isAdmin:m,isLoading:a,hasInitialized:u,createStudent:y,deleteStudent:w,selectStudent:F,authenticateStudent:S,updateStudentPassword:V,updateStudentRole:b,updateStudentRole:b,updateCoLeaderPermissions:z,updateStudentName:_,loadStudents:p}}function F5(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const H5=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$5=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,G5={};function uv(t,e){return(G5.jsx?$5:H5).test(t)}const Y5=/[ \t\n\f\r]/g;function Q5(t){return typeof t=="object"?t.type==="text"?cv(t.value):!1:cv(t)}function cv(t){return t.replace(Y5,"")===""}class rc{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}rc.prototype.normal={};rc.prototype.property={};rc.prototype.space=void 0;function tw(t,e){const n={},i={};for(const a of t)Object.assign(n,a.property),Object.assign(i,a.normal);return new rc(n,i,e)}function Gp(t){return t.toLowerCase()}class Jn{constructor(e,n){this.attribute=n,this.property=e}}Jn.prototype.attribute="";Jn.prototype.booleanish=!1;Jn.prototype.boolean=!1;Jn.prototype.commaOrSpaceSeparated=!1;Jn.prototype.commaSeparated=!1;Jn.prototype.defined=!1;Jn.prototype.mustUseProperty=!1;Jn.prototype.number=!1;Jn.prototype.overloadedBoolean=!1;Jn.prototype.property="";Jn.prototype.spaceSeparated=!1;Jn.prototype.space=void 0;let X5=0;const Fe=qa(),Ht=qa(),Yp=qa(),ye=qa(),vt=qa(),Hl=qa(),or=qa();function qa(){return 2**++X5}const Qp=Object.freeze(Object.defineProperty({__proto__:null,boolean:Fe,booleanish:Ht,commaOrSpaceSeparated:or,commaSeparated:Hl,number:ye,overloadedBoolean:Yp,spaceSeparated:vt},Symbol.toStringTag,{value:"Module"})),rp=Object.keys(Qp);class ig extends Jn{constructor(e,n,i,a){let o=-1;if(super(e,n),fv(this,"space",a),typeof i=="number")for(;++o<rp.length;){const u=rp[o];fv(this,rp[o],(i&Qp[u])===Qp[u])}}}ig.prototype.defined=!0;function fv(t,e,n){n&&(t[e]=n)}function so(t){const e={},n={};for(const[i,a]of Object.entries(t.properties)){const o=new ig(i,t.transform(t.attributes||{},i),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,n[Gp(i)]=i,n[Gp(o.attribute)]=i}return new rc(e,n,t.space)}const nw=so({properties:{ariaActiveDescendant:null,ariaAtomic:Ht,ariaAutoComplete:null,ariaBusy:Ht,ariaChecked:Ht,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:vt,ariaCurrent:null,ariaDescribedBy:vt,ariaDetails:null,ariaDisabled:Ht,ariaDropEffect:vt,ariaErrorMessage:null,ariaExpanded:Ht,ariaFlowTo:vt,ariaGrabbed:Ht,ariaHasPopup:null,ariaHidden:Ht,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vt,ariaLevel:ye,ariaLive:null,ariaModal:Ht,ariaMultiLine:Ht,ariaMultiSelectable:Ht,ariaOrientation:null,ariaOwns:vt,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:Ht,ariaReadOnly:Ht,ariaRelevant:null,ariaRequired:Ht,ariaRoleDescription:vt,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:Ht,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function rw(t,e){return e in t?t[e]:e}function iw(t,e){return rw(t,e.toLowerCase())}const K5=so({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Hl,acceptCharset:vt,accessKey:vt,action:null,allow:null,allowFullScreen:Fe,allowPaymentRequest:Fe,allowUserMedia:Fe,alt:null,as:null,async:Fe,autoCapitalize:null,autoComplete:vt,autoFocus:Fe,autoPlay:Fe,blocking:vt,capture:null,charSet:null,checked:Fe,cite:null,className:vt,cols:ye,colSpan:null,content:null,contentEditable:Ht,controls:Fe,controlsList:vt,coords:ye|Hl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Fe,defer:Fe,dir:null,dirName:null,disabled:Fe,download:Yp,draggable:Ht,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Fe,formTarget:null,headers:vt,height:ye,hidden:Yp,high:ye,href:null,hrefLang:null,htmlFor:vt,httpEquiv:vt,id:null,imageSizes:null,imageSrcSet:null,inert:Fe,inputMode:null,integrity:null,is:null,isMap:Fe,itemId:null,itemProp:vt,itemRef:vt,itemScope:Fe,itemType:vt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Fe,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:Fe,muted:Fe,name:null,nonce:null,noModule:Fe,noValidate:Fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Fe,optimum:ye,pattern:null,ping:vt,placeholder:null,playsInline:Fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Fe,referrerPolicy:null,rel:vt,required:Fe,reversed:Fe,rows:ye,rowSpan:ye,sandbox:vt,scope:null,scoped:Fe,seamless:Fe,selected:Fe,shadowRootClonable:Fe,shadowRootDelegatesFocus:Fe,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:Ht,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:Fe,useMap:null,value:Ht,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vt,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Fe,declare:Fe,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:Fe,noHref:Fe,noShade:Fe,noWrap:Fe,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:Ht,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Fe,disableRemotePlayback:Fe,prefix:null,property:null,results:ye,security:null,unselectable:null},space:"html",transform:iw}),Z5=so({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:or,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:vt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:Fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Hl,g2:Hl,glyphName:Hl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:or,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:or,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:or,rev:or,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:or,requiredFeatures:or,requiredFonts:or,requiredFormats:or,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:or,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:or,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:or,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:rw}),sw=so({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),aw=so({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:iw}),lw=so({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),J5={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},W5=/[A-Z]/g,hv=/-[a-z]/g,eC=/^data[-\w.:]+$/i;function tC(t,e){const n=Gp(e);let i=e,a=Jn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&eC.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(hv,rC);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!hv.test(o)){let u=o.replace(W5,nC);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=ig}return new a(i,e)}function nC(t){return"-"+t.toLowerCase()}function rC(t){return t.charAt(1).toUpperCase()}const iC=tw([nw,K5,sw,aw,lw],"html"),sg=tw([nw,Z5,sw,aw,lw],"svg");function sC(t){return t.join(" ").trim()}var Il={},ip,dv;function aC(){if(dv)return ip;dv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,m=`
`,p="/",y="*",b="",_="comment",w="declaration";ip=function(V,z){if(typeof V!="string")throw new TypeError("First argument must be a string");if(!V)return[];z=z||{};var F=1,B=1;function U(A){var ae=A.match(e);ae&&(F+=ae.length);var ge=A.lastIndexOf(m);B=~ge?A.length-ge:B+A.length}function $(){var A={line:F,column:B};return function(ae){return ae.position=new q(A),C(),ae}}function q(A){this.start=A,this.end={line:F,column:B},this.source=z.source}q.prototype.content=V;function L(A){var ae=new Error(z.source+":"+F+":"+B+": "+A);if(ae.reason=A,ae.filename=z.source,ae.line=F,ae.column=B,ae.source=V,!z.silent)throw ae}function R(A){var ae=A.exec(V);if(ae){var ge=ae[0];return U(ge),V=V.slice(ge.length),ae}}function C(){R(n)}function M(A){var ae;for(A=A||[];ae=k();)ae!==!1&&A.push(ae);return A}function k(){var A=$();if(!(p!=V.charAt(0)||y!=V.charAt(1))){for(var ae=2;b!=V.charAt(ae)&&(y!=V.charAt(ae)||p!=V.charAt(ae+1));)++ae;if(ae+=2,b===V.charAt(ae-1))return L("End of comment missing");var ge=V.slice(2,ae-2);return B+=2,U(ge),V=V.slice(ae),B+=2,A({type:_,comment:ge})}}function I(){var A=$(),ae=R(i);if(ae){if(k(),!R(a))return L("property missing ':'");var ge=R(o),X=A({type:w,property:S(ae[0].replace(t,b)),value:ge?S(ge[0].replace(t,b)):b});return R(u),X}}function P(){var A=[];M(A);for(var ae;ae=I();)ae!==!1&&(A.push(ae),M(A));return A}return C(),P()};function S(V){return V?V.replace(h,b):b}return ip}var mv;function lC(){if(mv)return Il;mv=1;var t=Il&&Il.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Il,"__esModule",{value:!0}),Il.default=n;var e=t(aC());function n(i,a){var o=null;if(!i||typeof i!="string")return o;var u=(0,e.default)(i),h=typeof a=="function";return u.forEach(function(m){if(m.type==="declaration"){var p=m.property,y=m.value;h?a(p,y,m):y&&(o=o||{},o[p]=y)}}),o}return Il}var hu={},pv;function oC(){if(pv)return hu;pv=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(p){return!p||n.test(p)||t.test(p)},u=function(p,y){return y.toUpperCase()},h=function(p,y){return"".concat(y,"-")},m=function(p,y){return y===void 0&&(y={}),o(p)?p:(p=p.toLowerCase(),y.reactCompat?p=p.replace(a,h):p=p.replace(i,h),p.replace(e,u))};return hu.camelCase=m,hu}var du,gv;function uC(){if(gv)return du;gv=1;var t=du&&du.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(lC()),n=oC();function i(a,o){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(h,m){h&&m&&(u[(0,n.camelCase)(h,o)]=m)}),u}return i.default=i,du=i,du}var cC=uC();const fC=ph(cC),ow=uw("end"),ag=uw("start");function uw(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function hC(t){const e=ag(t),n=ow(t);if(e&&n)return{start:e,end:n}}function Su(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?xv(t.position):"start"in t||"end"in t?xv(t):"line"in t||"column"in t?Xp(t):""}function Xp(t){return yv(t&&t.line)+":"+yv(t&&t.column)}function xv(t){return Xp(t&&t.start)+"-"+Xp(t&&t.end)}function yv(t){return t&&typeof t=="number"?t:1}class kn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let a="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?a=e:!o.cause&&e&&(u=!0,a=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof i=="string"){const m=i.indexOf(":");m===-1?o.ruleId=i:(o.source=i.slice(0,m),o.ruleId=i.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=Su(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}kn.prototype.file="";kn.prototype.name="";kn.prototype.reason="";kn.prototype.message="";kn.prototype.stack="";kn.prototype.column=void 0;kn.prototype.line=void 0;kn.prototype.ancestors=void 0;kn.prototype.cause=void 0;kn.prototype.fatal=void 0;kn.prototype.place=void 0;kn.prototype.ruleId=void 0;kn.prototype.source=void 0;const lg={}.hasOwnProperty,dC=new Map,mC=/[A-Z]/g,pC=new Set(["table","tbody","thead","tfoot","tr"]),gC=new Set(["td","th"]),cw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xC(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=NC(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=TC(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?sg:iC,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=fw(a,t,void 0);return o&&typeof o!="string"?o:a.create(t,a.Fragment,{children:o||void 0},void 0)}function fw(t,e,n){if(e.type==="element")return yC(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return bC(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return _C(t,e,n);if(e.type==="mdxjsEsm")return vC(t,e);if(e.type==="root")return wC(t,e,n);if(e.type==="text")return EC(t,e)}function yC(t,e,n){const i=t.schema;let a=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(a=sg,t.schema=a),t.ancestors.push(e);const o=dw(t,e.tagName,!1),u=SC(t,e);let h=ug(t,e);return pC.has(e.tagName)&&(h=h.filter(function(m){return typeof m=="string"?!Q5(m):!0})),hw(t,u,o,e),og(u,h),t.ancestors.pop(),t.schema=i,t.create(e,o,u,n)}function bC(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}qu(t,e.position)}function vC(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);qu(t,e.position)}function _C(t,e,n){const i=t.schema;let a=i;e.name==="svg"&&i.space==="html"&&(a=sg,t.schema=a),t.ancestors.push(e);const o=e.name===null?t.Fragment:dw(t,e.name,!0),u=AC(t,e),h=ug(t,e);return hw(t,u,o,e),og(u,h),t.ancestors.pop(),t.schema=i,t.create(e,o,u,n)}function wC(t,e,n){const i={};return og(i,ug(t,e)),t.create(e,t.Fragment,i,n)}function EC(t,e){return e.value}function hw(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function og(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function TC(t,e,n){return i;function i(a,o,u,h){const p=Array.isArray(u.children)?n:e;return h?p(o,u,h):p(o,u)}}function NC(t,e){return n;function n(i,a,o,u){const h=Array.isArray(o.children),m=ag(i);return e(a,o,u,h,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function SC(t,e){const n={};let i,a;for(a in e.properties)if(a!=="children"&&lg.call(e.properties,a)){const o=CC(t,a,e.properties[a]);if(o){const[u,h]=o;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&gC.has(e.tagName)?i=h:n[u]=h}}if(i){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function AC(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else qu(t,e.position);else{const a=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const h=i.value.data.estree.body[0];h.type,o=t.evaluater.evaluateExpression(h.expression)}else qu(t,e.position);else o=i.value===null?!0:i.value;n[a]=o}return n}function ug(t,e){const n=[];let i=-1;const a=t.passKeys?new Map:dC;for(;++i<e.children.length;){const o=e.children[i];let u;if(t.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const p=a.get(m)||0;u=m+"-"+p,a.set(m,p+1)}}const h=fw(t,o,u);h!==void 0&&n.push(h)}return n}function CC(t,e,n){const i=tC(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?F5(n):sC(n)),i.property==="style"){let a=typeof n=="object"?n:kC(t,String(n));return t.stylePropertyNameCase==="css"&&(a=jC(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?J5[i.property]||i.property:i.attribute,n]}}function kC(t,e){try{return fC(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,a=new kn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=cw+"#cannot-parse-style-attribute",a}}function dw(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let o=-1,u;for(;++o<a.length;){const h=uv(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}i=u}else i=uv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const a=i.value;return lg.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(i);qu(t)}function qu(t,e){const n=new kn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=cw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function jC(t){const e={};let n;for(n in t)lg.call(t,n)&&(e[RC(n)]=t[n]);return e}function RC(t){let e=t.replace(mC,DC);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function DC(t){return"-"+t.toLowerCase()}const sp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},IC={};function cg(t,e){const n=IC,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return mw(t,i,a)}function mw(t,e,n){if(MC(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return bv(t.children,e,n)}return Array.isArray(t)?bv(t,e,n):""}function bv(t,e,n){const i=[];let a=-1;for(;++a<t.length;)i[a]=mw(t[a],e,n);return i.join("")}function MC(t){return!!(t&&typeof t=="object")}const vv=document.createElement("i");function fg(t){const e="&"+t+";";vv.innerHTML=e;const n=vv.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function cr(t,e,n,i){const a=t.length;let o=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<i.length;)u=i.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function Sr(t,e){return t.length>0?(cr(t,t.length,0,e),t):e}const _v={}.hasOwnProperty;function pw(t){const e={};let n=-1;for(;++n<t.length;)OC(e,t[n]);return e}function OC(t,e){let n;for(n in e){const a=(_v.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){_v.call(a,u)||(a[u]=[]);const h=o[u];VC(a[u],Array.isArray(h)?h:h?[h]:[])}}}function VC(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);cr(t,0,0,i)}function gw(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Lr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vn=Bs(/[A-Za-z]/),An=Bs(/[\dA-Za-z]/),PC=Bs(/[#-'*+\--9=?A-Z^-~]/);function fh(t){return t!==null&&(t<32||t===127)}const Kp=Bs(/\d/),LC=Bs(/[\dA-Fa-f]/),zC=Bs(/[!-/:-@[-`{-~]/);function Ie(t){return t!==null&&t<-2}function gt(t){return t!==null&&(t<0||t===32)}function Xe(t){return t===-2||t===-1||t===32}const Ph=Bs(new RegExp("\\p{P}|\\p{S}","u")),Oa=Bs(/\s/);function Bs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function ao(t){const e=[];let n=-1,i=0,a=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&An(t.charCodeAt(n+1))&&An(t.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=t.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),a=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+a+1,u=""),a&&(n+=a,a=0)}return e.join("")+t.slice(i)}function rt(t,e,n,i){const a=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(m){return Xe(m)?(t.enter(n),h(m)):e(m)}function h(m){return Xe(m)&&o++<a?(t.consume(m),h):(t.exit(n),e(m))}}const UC={tokenize:BC};function BC(t){const e=t.attempt(this.parser.constructs.contentInitial,i,a);let n;return e;function i(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),rt(t,e,"linePrefix")}function a(h){return t.enter("paragraph"),o(h)}function o(h){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return Ie(h)?(t.consume(h),t.exit("chunkText"),o):(t.consume(h),u)}}const qC={tokenize:FC},wv={tokenize:HC};function FC(t){const e=this,n=[];let i=0,a,o,u;return h;function h(U){if(i<n.length){const $=n[i];return e.containerState=$[1],t.attempt($[0].continuation,m,p)(U)}return p(U)}function m(U){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&B();const $=e.events.length;let q=$,L;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){L=e.events[q][1].end;break}F(i);let R=$;for(;R<e.events.length;)e.events[R][1].end={...L},R++;return cr(e.events,q+1,0,e.events.slice($)),e.events.length=R,p(U)}return h(U)}function p(U){if(i===n.length){if(!a)return _(U);if(a.currentConstruct&&a.currentConstruct.concrete)return S(U);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(wv,y,b)(U)}function y(U){return a&&B(),F(i),_(U)}function b(U){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,S(U)}function _(U){return e.containerState={},t.attempt(wv,w,S)(U)}function w(U){return i++,n.push([e.currentConstruct,e.containerState]),_(U)}function S(U){if(U===null){a&&B(),F(0),t.consume(U);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),V(U)}function V(U){if(U===null){z(t.exit("chunkFlow"),!0),F(0),t.consume(U);return}return Ie(U)?(t.consume(U),z(t.exit("chunkFlow")),i=0,e.interrupt=void 0,h):(t.consume(U),V)}function z(U,$){const q=e.sliceStream(U);if($&&q.push(null),U.previous=o,o&&(o.next=U),o=U,a.defineSkip(U.start),a.write(q),e.parser.lazy[U.start.line]){let L=a.events.length;for(;L--;)if(a.events[L][1].start.offset<u&&(!a.events[L][1].end||a.events[L][1].end.offset>u))return;const R=e.events.length;let C=R,M,k;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(M){k=e.events[C][1].end;break}M=!0}for(F(i),L=R;L<e.events.length;)e.events[L][1].end={...k},L++;cr(e.events,C+1,0,e.events.slice(R)),e.events.length=L}}function F(U){let $=n.length;for(;$-- >U;){const q=n[$];e.containerState=q[1],q[0].exit.call(e,t)}n.length=U}function B(){a.write([null]),o=void 0,a=void 0,e.containerState._closeFlow=void 0}}function HC(t,e,n){return rt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Jl(t){if(t===null||gt(t)||Oa(t))return 1;if(Ph(t))return 2}function Lh(t,e,n){const i=[];let a=-1;for(;++a<t.length;){const o=t[a].resolveAll;o&&!i.includes(o)&&(e=o(e,n),i.push(o))}return e}const Zp={name:"attention",resolveAll:$C,tokenize:GC};function $C(t,e){let n=-1,i,a,o,u,h,m,p,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[i][1].end},_={...t[n][1].start};Ev(b,-m),Ev(_,m),u={type:m>1?"strongSequence":"emphasisSequence",start:b,end:{...t[i][1].end}},h={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:_},o={type:m>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},a={type:m>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[i][1].end={...u.start},t[n][1].start={...h.end},p=[],t[i][1].end.offset-t[i][1].start.offset&&(p=Sr(p,[["enter",t[i][1],e],["exit",t[i][1],e]])),p=Sr(p,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",o,e]]),p=Sr(p,Lh(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),p=Sr(p,[["exit",o,e],["enter",h,e],["exit",h,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,p=Sr(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,cr(t,i-1,n-i+3,p),n=i+p.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function GC(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,a=Jl(i);let o;return u;function u(m){return o=m,t.enter("attentionSequence"),h(m)}function h(m){if(m===o)return t.consume(m),h;const p=t.exit("attentionSequence"),y=Jl(m),b=!y||y===2&&a||n.includes(m),_=!a||a===2&&y||n.includes(i);return p._open=!!(o===42?b:b&&(a||!_)),p._close=!!(o===42?_:_&&(y||!b)),e(m)}}function Ev(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const YC={name:"autolink",tokenize:QC};function QC(t,e,n){let i=0;return a;function a(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return Vn(w)?(t.consume(w),u):w===64?n(w):p(w)}function u(w){return w===43||w===45||w===46||An(w)?(i=1,h(w)):p(w)}function h(w){return w===58?(t.consume(w),i=0,m):(w===43||w===45||w===46||An(w))&&i++<32?(t.consume(w),h):(i=0,p(w))}function m(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||fh(w)?n(w):(t.consume(w),m)}function p(w){return w===64?(t.consume(w),y):PC(w)?(t.consume(w),p):n(w)}function y(w){return An(w)?b(w):n(w)}function b(w){return w===46?(t.consume(w),i=0,y):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):_(w)}function _(w){if((w===45||An(w))&&i++<63){const S=w===45?_:b;return t.consume(w),S}return n(w)}}const ic={partial:!0,tokenize:XC};function XC(t,e,n){return i;function i(o){return Xe(o)?rt(t,a,"linePrefix")(o):a(o)}function a(o){return o===null||Ie(o)?e(o):n(o)}}const xw={continuation:{tokenize:ZC},exit:JC,name:"blockQuote",tokenize:KC};function KC(t,e,n){const i=this;return a;function a(u){if(u===62){const h=i.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return Xe(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function ZC(t,e,n){const i=this;return a;function a(u){return Xe(u)?rt(t,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(xw,e,n)(u)}}function JC(t){t.exit("blockQuote")}const yw={name:"characterEscape",tokenize:WC};function WC(t,e,n){return i;function i(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),a}function a(o){return zC(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const bw={name:"characterReference",tokenize:ek};function ek(t,e,n){const i=this;let a=0,o,u;return h;function h(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),m}function m(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),o=31,u=An,y(b))}function p(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=LC,y):(t.enter("characterReferenceValue"),o=7,u=Kp,y(b))}function y(b){if(b===59&&a){const _=t.exit("characterReferenceValue");return u===An&&!fg(i.sliceSerialize(_))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(b)&&a++<o?(t.consume(b),y):n(b)}}const Tv={partial:!0,tokenize:nk},Nv={concrete:!0,name:"codeFenced",tokenize:tk};function tk(t,e,n){const i=this,a={partial:!0,tokenize:q};let o=0,u=0,h;return m;function m(L){return p(L)}function p(L){const R=i.events[i.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,h=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(L)}function y(L){return L===h?(u++,t.consume(L),y):u<3?n(L):(t.exit("codeFencedFenceSequence"),Xe(L)?rt(t,b,"whitespace")(L):b(L))}function b(L){return L===null||Ie(L)?(t.exit("codeFencedFence"),i.interrupt?e(L):t.check(Tv,V,$)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),_(L))}function _(L){return L===null||Ie(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(L)):Xe(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),rt(t,w,"whitespace")(L)):L===96&&L===h?n(L):(t.consume(L),_)}function w(L){return L===null||Ie(L)?b(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(L))}function S(L){return L===null||Ie(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(L)):L===96&&L===h?n(L):(t.consume(L),S)}function V(L){return t.attempt(a,$,z)(L)}function z(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),F}function F(L){return o>0&&Xe(L)?rt(t,B,"linePrefix",o+1)(L):B(L)}function B(L){return L===null||Ie(L)?t.check(Tv,V,$)(L):(t.enter("codeFlowValue"),U(L))}function U(L){return L===null||Ie(L)?(t.exit("codeFlowValue"),B(L)):(t.consume(L),U)}function $(L){return t.exit("codeFenced"),e(L)}function q(L,R,C){let M=0;return k;function k(ge){return L.enter("lineEnding"),L.consume(ge),L.exit("lineEnding"),I}function I(ge){return L.enter("codeFencedFence"),Xe(ge)?rt(L,P,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ge):P(ge)}function P(ge){return ge===h?(L.enter("codeFencedFenceSequence"),A(ge)):C(ge)}function A(ge){return ge===h?(M++,L.consume(ge),A):M>=u?(L.exit("codeFencedFenceSequence"),Xe(ge)?rt(L,ae,"whitespace")(ge):ae(ge)):C(ge)}function ae(ge){return ge===null||Ie(ge)?(L.exit("codeFencedFence"),R(ge)):C(ge)}}}function nk(t,e,n){const i=this;return a;function a(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const ap={name:"codeIndented",tokenize:ik},rk={partial:!0,tokenize:sk};function ik(t,e,n){const i=this;return a;function a(p){return t.enter("codeIndented"),rt(t,o,"linePrefix",5)(p)}function o(p){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(p):n(p)}function u(p){return p===null?m(p):Ie(p)?t.attempt(rk,u,m)(p):(t.enter("codeFlowValue"),h(p))}function h(p){return p===null||Ie(p)?(t.exit("codeFlowValue"),u(p)):(t.consume(p),h)}function m(p){return t.exit("codeIndented"),e(p)}}function sk(t,e,n){const i=this;return a;function a(u){return i.parser.lazy[i.now().line]?n(u):Ie(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):rt(t,o,"linePrefix",5)(u)}function o(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):Ie(u)?a(u):n(u)}}const ak={name:"codeText",previous:ok,resolve:lk,tokenize:uk};function lk(t){let e=t.length-4,n=3,i,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)a===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(a=i):(i===e||t[i][1].type==="lineEnding")&&(t[a][1].type="codeTextData",i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),e-=i-a-2,i=a+2),a=void 0);return t}function ok(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function uk(t,e,n){let i=0,a,o;return u;function u(b){return t.enter("codeText"),t.enter("codeTextSequence"),h(b)}function h(b){return b===96?(t.consume(b),i++,h):(t.exit("codeTextSequence"),m(b))}function m(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),m):b===96?(o=t.enter("codeTextSequence"),a=0,y(b)):Ie(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m):(t.enter("codeTextData"),p(b))}function p(b){return b===null||b===32||b===96||Ie(b)?(t.exit("codeTextData"),m(b)):(t.consume(b),p)}function y(b){return b===96?(t.consume(b),a++,y):a===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(o.type="codeTextData",p(b))}}class ck{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const a=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return i&&mu(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),mu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),mu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);mu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);mu(this.left,n.reverse())}}}function mu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function vw(t){const e={};let n=-1,i,a,o,u,h,m,p;const y=new ck(t);for(;++n<y.length;){for(;n in e;)n=e[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(m=i[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,fk(y,n)),n=e[n],p=!0);else if(i[1]._container){for(o=n,a=void 0;o--;)if(u=y.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(i[1].end={...y.get(a)[1].start},h=y.slice(a,n),h.unshift(i),y.splice(a,n-a+1,h))}}return cr(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!p}function fk(t,e){const n=t.get(e)[1],i=t.get(e)[2];let a=e-1;const o=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,m=[],p={};let y,b,_=-1,w=n,S=0,V=0;const z=[V];for(;w;){for(;t.get(++a)[1]!==w;);o.push(a),w._tokenizer||(y=i.sliceStream(w),w.next||y.push(null),b&&u.defineSkip(w.start),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),b=w,w=w.next}for(w=n;++_<h.length;)h[_][0]==="exit"&&h[_-1][0]==="enter"&&h[_][1].type===h[_-1][1].type&&h[_][1].start.line!==h[_][1].end.line&&(V=_+1,z.push(V),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(u.events=[],w?(w._tokenizer=void 0,w.previous=void 0):z.pop(),_=z.length;_--;){const F=h.slice(z[_],z[_+1]),B=o.pop();m.push([B,B+F.length-1]),t.splice(B,2,F)}for(m.reverse(),_=-1;++_<m.length;)p[S+m[_][0]]=S+m[_][1],S+=m[_][1]-m[_][0]-1;return p}const hk={resolve:mk,tokenize:pk},dk={partial:!0,tokenize:gk};function mk(t){return vw(t),t}function pk(t,e){let n;return i;function i(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?o(h):Ie(h)?t.check(dk,u,o)(h):(t.consume(h),a)}function o(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function gk(t,e,n){const i=this;return a;function a(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),rt(t,o,"linePrefix")}function o(u){if(u===null||Ie(u))return n(u);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function _w(t,e,n,i,a,o,u,h,m){const p=m||Number.POSITIVE_INFINITY;let y=0;return b;function b(F){return F===60?(t.enter(i),t.enter(a),t.enter(o),t.consume(F),t.exit(o),_):F===null||F===32||F===41||fh(F)?n(F):(t.enter(i),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),V(F))}function _(F){return F===62?(t.enter(o),t.consume(F),t.exit(o),t.exit(a),t.exit(i),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),w(F))}function w(F){return F===62?(t.exit("chunkString"),t.exit(h),_(F)):F===null||F===60||Ie(F)?n(F):(t.consume(F),F===92?S:w)}function S(F){return F===60||F===62||F===92?(t.consume(F),w):w(F)}function V(F){return!y&&(F===null||F===41||gt(F))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(i),e(F)):y<p&&F===40?(t.consume(F),y++,V):F===41?(t.consume(F),y--,V):F===null||F===32||F===40||fh(F)?n(F):(t.consume(F),F===92?z:V)}function z(F){return F===40||F===41||F===92?(t.consume(F),V):V(F)}}function ww(t,e,n,i,a,o){const u=this;let h=0,m;return p;function p(w){return t.enter(i),t.enter(a),t.consume(w),t.exit(a),t.enter(o),y}function y(w){return h>999||w===null||w===91||w===93&&!m||w===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(w):w===93?(t.exit(o),t.enter(a),t.consume(w),t.exit(a),t.exit(i),e):Ie(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),b(w))}function b(w){return w===null||w===91||w===93||Ie(w)||h++>999?(t.exit("chunkString"),y(w)):(t.consume(w),m||(m=!Xe(w)),w===92?_:b)}function _(w){return w===91||w===92||w===93?(t.consume(w),h++,b):b(w)}}function Ew(t,e,n,i,a,o){let u;return h;function h(_){return _===34||_===39||_===40?(t.enter(i),t.enter(a),t.consume(_),t.exit(a),u=_===40?41:_,m):n(_)}function m(_){return _===u?(t.enter(a),t.consume(_),t.exit(a),t.exit(i),e):(t.enter(o),p(_))}function p(_){return _===u?(t.exit(o),m(u)):_===null?n(_):Ie(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),rt(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(_))}function y(_){return _===u||_===null||Ie(_)?(t.exit("chunkString"),p(_)):(t.consume(_),_===92?b:y)}function b(_){return _===u||_===92?(t.consume(_),y):y(_)}}function Au(t,e){let n;return i;function i(a){return Ie(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,i):Xe(a)?rt(t,i,n?"linePrefix":"lineSuffix")(a):e(a)}}const xk={name:"definition",tokenize:bk},yk={partial:!0,tokenize:vk};function bk(t,e,n){const i=this;let a;return o;function o(w){return t.enter("definition"),u(w)}function u(w){return ww.call(i,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function h(w){return a=Lr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),m):n(w)}function m(w){return gt(w)?Au(t,p)(w):p(w)}function p(w){return _w(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function y(w){return t.attempt(yk,b,b)(w)}function b(w){return Xe(w)?rt(t,_,"whitespace")(w):_(w)}function _(w){return w===null||Ie(w)?(t.exit("definition"),i.parser.defined.push(a),e(w)):n(w)}}function vk(t,e,n){return i;function i(h){return gt(h)?Au(t,a)(h):n(h)}function a(h){return Ew(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return Xe(h)?rt(t,u,"whitespace")(h):u(h)}function u(h){return h===null||Ie(h)?e(h):n(h)}}const _k={name:"hardBreakEscape",tokenize:wk};function wk(t,e,n){return i;function i(o){return t.enter("hardBreakEscape"),t.consume(o),a}function a(o){return Ie(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const Ek={name:"headingAtx",resolve:Tk,tokenize:Nk};function Tk(t,e){let n=t.length-2,i=3,a,o;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(a={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},o={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},cr(t,i,n-i+1,[["enter",a,e],["enter",o,e],["exit",o,e],["exit",a,e]])),t}function Nk(t,e,n){let i=0;return a;function a(y){return t.enter("atxHeading"),o(y)}function o(y){return t.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&i++<6?(t.consume(y),u):y===null||gt(y)?(t.exit("atxHeadingSequence"),h(y)):n(y)}function h(y){return y===35?(t.enter("atxHeadingSequence"),m(y)):y===null||Ie(y)?(t.exit("atxHeading"),e(y)):Xe(y)?rt(t,h,"whitespace")(y):(t.enter("atxHeadingText"),p(y))}function m(y){return y===35?(t.consume(y),m):(t.exit("atxHeadingSequence"),h(y))}function p(y){return y===null||y===35||gt(y)?(t.exit("atxHeadingText"),h(y)):(t.consume(y),p)}}const Sk=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Sv=["pre","script","style","textarea"],Ak={concrete:!0,name:"htmlFlow",resolveTo:jk,tokenize:Rk},Ck={partial:!0,tokenize:Ik},kk={partial:!0,tokenize:Dk};function jk(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Rk(t,e,n){const i=this;let a,o,u,h,m;return p;function p(j){return y(j)}function y(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),b}function b(j){return j===33?(t.consume(j),_):j===47?(t.consume(j),o=!0,V):j===63?(t.consume(j),a=3,i.interrupt?e:N):Vn(j)?(t.consume(j),u=String.fromCharCode(j),z):n(j)}function _(j){return j===45?(t.consume(j),a=2,w):j===91?(t.consume(j),a=5,h=0,S):Vn(j)?(t.consume(j),a=4,i.interrupt?e:N):n(j)}function w(j){return j===45?(t.consume(j),i.interrupt?e:N):n(j)}function S(j){const Q="CDATA[";return j===Q.charCodeAt(h++)?(t.consume(j),h===Q.length?i.interrupt?e:P:S):n(j)}function V(j){return Vn(j)?(t.consume(j),u=String.fromCharCode(j),z):n(j)}function z(j){if(j===null||j===47||j===62||gt(j)){const Q=j===47,xe=u.toLowerCase();return!Q&&!o&&Sv.includes(xe)?(a=1,i.interrupt?e(j):P(j)):Sk.includes(u.toLowerCase())?(a=6,Q?(t.consume(j),F):i.interrupt?e(j):P(j)):(a=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(j):o?B(j):U(j))}return j===45||An(j)?(t.consume(j),u+=String.fromCharCode(j),z):n(j)}function F(j){return j===62?(t.consume(j),i.interrupt?e:P):n(j)}function B(j){return Xe(j)?(t.consume(j),B):k(j)}function U(j){return j===47?(t.consume(j),k):j===58||j===95||Vn(j)?(t.consume(j),$):Xe(j)?(t.consume(j),U):k(j)}function $(j){return j===45||j===46||j===58||j===95||An(j)?(t.consume(j),$):q(j)}function q(j){return j===61?(t.consume(j),L):Xe(j)?(t.consume(j),q):U(j)}function L(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),m=j,R):Xe(j)?(t.consume(j),L):C(j)}function R(j){return j===m?(t.consume(j),m=null,M):j===null||Ie(j)?n(j):(t.consume(j),R)}function C(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||gt(j)?q(j):(t.consume(j),C)}function M(j){return j===47||j===62||Xe(j)?U(j):n(j)}function k(j){return j===62?(t.consume(j),I):n(j)}function I(j){return j===null||Ie(j)?P(j):Xe(j)?(t.consume(j),I):n(j)}function P(j){return j===45&&a===2?(t.consume(j),X):j===60&&a===1?(t.consume(j),fe):j===62&&a===4?(t.consume(j),le):j===63&&a===3?(t.consume(j),N):j===93&&a===5?(t.consume(j),Ae):Ie(j)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(Ck,te,A)(j)):j===null||Ie(j)?(t.exit("htmlFlowData"),A(j)):(t.consume(j),P)}function A(j){return t.check(kk,ae,te)(j)}function ae(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),ge}function ge(j){return j===null||Ie(j)?A(j):(t.enter("htmlFlowData"),P(j))}function X(j){return j===45?(t.consume(j),N):P(j)}function fe(j){return j===47?(t.consume(j),u="",ve):P(j)}function ve(j){if(j===62){const Q=u.toLowerCase();return Sv.includes(Q)?(t.consume(j),le):P(j)}return Vn(j)&&u.length<8?(t.consume(j),u+=String.fromCharCode(j),ve):P(j)}function Ae(j){return j===93?(t.consume(j),N):P(j)}function N(j){return j===62?(t.consume(j),le):j===45&&a===2?(t.consume(j),N):P(j)}function le(j){return j===null||Ie(j)?(t.exit("htmlFlowData"),te(j)):(t.consume(j),le)}function te(j){return t.exit("htmlFlow"),e(j)}}function Dk(t,e,n){const i=this;return a;function a(u){return Ie(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function Ik(t,e,n){return i;function i(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(ic,e,n)}}const Mk={name:"htmlText",tokenize:Ok};function Ok(t,e,n){const i=this;let a,o,u;return h;function h(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),m}function m(N){return N===33?(t.consume(N),p):N===47?(t.consume(N),q):N===63?(t.consume(N),U):Vn(N)?(t.consume(N),C):n(N)}function p(N){return N===45?(t.consume(N),y):N===91?(t.consume(N),o=0,S):Vn(N)?(t.consume(N),B):n(N)}function y(N){return N===45?(t.consume(N),w):n(N)}function b(N){return N===null?n(N):N===45?(t.consume(N),_):Ie(N)?(u=b,fe(N)):(t.consume(N),b)}function _(N){return N===45?(t.consume(N),w):b(N)}function w(N){return N===62?X(N):N===45?_(N):b(N)}function S(N){const le="CDATA[";return N===le.charCodeAt(o++)?(t.consume(N),o===le.length?V:S):n(N)}function V(N){return N===null?n(N):N===93?(t.consume(N),z):Ie(N)?(u=V,fe(N)):(t.consume(N),V)}function z(N){return N===93?(t.consume(N),F):V(N)}function F(N){return N===62?X(N):N===93?(t.consume(N),F):V(N)}function B(N){return N===null||N===62?X(N):Ie(N)?(u=B,fe(N)):(t.consume(N),B)}function U(N){return N===null?n(N):N===63?(t.consume(N),$):Ie(N)?(u=U,fe(N)):(t.consume(N),U)}function $(N){return N===62?X(N):U(N)}function q(N){return Vn(N)?(t.consume(N),L):n(N)}function L(N){return N===45||An(N)?(t.consume(N),L):R(N)}function R(N){return Ie(N)?(u=R,fe(N)):Xe(N)?(t.consume(N),R):X(N)}function C(N){return N===45||An(N)?(t.consume(N),C):N===47||N===62||gt(N)?M(N):n(N)}function M(N){return N===47?(t.consume(N),X):N===58||N===95||Vn(N)?(t.consume(N),k):Ie(N)?(u=M,fe(N)):Xe(N)?(t.consume(N),M):X(N)}function k(N){return N===45||N===46||N===58||N===95||An(N)?(t.consume(N),k):I(N)}function I(N){return N===61?(t.consume(N),P):Ie(N)?(u=I,fe(N)):Xe(N)?(t.consume(N),I):M(N)}function P(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),a=N,A):Ie(N)?(u=P,fe(N)):Xe(N)?(t.consume(N),P):(t.consume(N),ae)}function A(N){return N===a?(t.consume(N),a=void 0,ge):N===null?n(N):Ie(N)?(u=A,fe(N)):(t.consume(N),A)}function ae(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||gt(N)?M(N):(t.consume(N),ae)}function ge(N){return N===47||N===62||gt(N)?M(N):n(N)}function X(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):n(N)}function fe(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),ve}function ve(N){return Xe(N)?rt(t,Ae,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):Ae(N)}function Ae(N){return t.enter("htmlTextData"),u(N)}}const hg={name:"labelEnd",resolveAll:zk,resolveTo:Uk,tokenize:Bk},Vk={tokenize:qk},Pk={tokenize:Fk},Lk={tokenize:Hk};function zk(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const a=i.type==="labelImage"?4:2;i.type="data",e+=a}}return t.length!==n.length&&cr(t,0,t.length,n),t}function Uk(t,e){let n=t.length,i=0,a,o,u,h;for(;n--;)if(a=t[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){i=2;break}}else a.type==="labelEnd"&&(u=n);const m={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},y={type:"labelText",start:{...t[o+i+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",m,e],["enter",p,e]],h=Sr(h,t.slice(o+1,o+i+3)),h=Sr(h,[["enter",y,e]]),h=Sr(h,Lh(e.parser.constructs.insideSpan.null,t.slice(o+i+4,u-3),e)),h=Sr(h,[["exit",y,e],t[u-2],t[u-1],["exit",p,e]]),h=Sr(h,t.slice(u+1)),h=Sr(h,[["exit",m,e]]),cr(t,o,t.length,h),t}function Bk(t,e,n){const i=this;let a=i.events.length,o,u;for(;a--;)if((i.events[a][1].type==="labelImage"||i.events[a][1].type==="labelLink")&&!i.events[a][1]._balanced){o=i.events[a][1];break}return h;function h(_){return o?o._inactive?b(_):(u=i.parser.defined.includes(Lr(i.sliceSerialize({start:o.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(_),t.exit("labelMarker"),t.exit("labelEnd"),m):n(_)}function m(_){return _===40?t.attempt(Vk,y,u?y:b)(_):_===91?t.attempt(Pk,y,u?p:b)(_):u?y(_):b(_)}function p(_){return t.attempt(Lk,y,b)(_)}function y(_){return e(_)}function b(_){return o._balanced=!0,n(_)}}function qk(t,e,n){return i;function i(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),a}function a(b){return gt(b)?Au(t,o)(b):o(b)}function o(b){return b===41?y(b):_w(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function u(b){return gt(b)?Au(t,m)(b):y(b)}function h(b){return n(b)}function m(b){return b===34||b===39||b===40?Ew(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):y(b)}function p(b){return gt(b)?Au(t,y)(b):y(b)}function y(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function Fk(t,e,n){const i=this;return a;function a(h){return ww.call(i,t,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return i.parser.defined.includes(Lr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function Hk(t,e,n){return i;function i(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),a}function a(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const $k={name:"labelStartImage",resolveAll:hg.resolveAll,tokenize:Gk};function Gk(t,e,n){const i=this;return a;function a(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),o}function o(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):e(h)}}const Yk={name:"labelStartLink",resolveAll:hg.resolveAll,tokenize:Qk};function Qk(t,e,n){const i=this;return a;function a(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const lp={name:"lineEnding",tokenize:Xk};function Xk(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),rt(t,e,"linePrefix")}}const Gf={name:"thematicBreak",tokenize:Kk};function Kk(t,e,n){let i=0,a;return o;function o(p){return t.enter("thematicBreak"),u(p)}function u(p){return a=p,h(p)}function h(p){return p===a?(t.enter("thematicBreakSequence"),m(p)):i>=3&&(p===null||Ie(p))?(t.exit("thematicBreak"),e(p)):n(p)}function m(p){return p===a?(t.consume(p),i++,m):(t.exit("thematicBreakSequence"),Xe(p)?rt(t,h,"whitespace")(p):h(p))}}const Yn={continuation:{tokenize:ej},exit:nj,name:"list",tokenize:Wk},Zk={partial:!0,tokenize:rj},Jk={partial:!0,tokenize:tj};function Wk(t,e,n){const i=this,a=i.events[i.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(w){const S=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:Kp(w)){if(i.containerState.type||(i.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(Gf,n,p)(w):p(w);if(!i.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(w)}return n(w)}function m(w){return Kp(w)&&++u<10?(t.consume(w),m):(!i.interrupt||u<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),p(w)):n(w)}function p(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,t.check(ic,i.interrupt?n:y,t.attempt(Zk,_,b))}function y(w){return i.containerState.initialBlankLine=!0,o++,_(w)}function b(w){return Xe(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),_):n(w)}function _(w){return i.containerState.size=o+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function ej(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(ic,a,o);function a(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,rt(t,e,"listItemIndent",i.containerState.size+1)(h)}function o(h){return i.containerState.furtherBlankLines||!Xe(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(Jk,e,u)(h))}function u(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,rt(t,t.attempt(Yn,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function tj(t,e,n){const i=this;return rt(t,a,"listItemIndent",i.containerState.size+1);function a(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(o):n(o)}}function nj(t){t.exit(this.containerState.type)}function rj(t,e,n){const i=this;return rt(t,a,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const u=i.events[i.events.length-1];return!Xe(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const Av={name:"setextUnderline",resolveTo:ij,tokenize:sj};function ij(t,e){let n=t.length,i,a,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",o?(t.splice(a,0,["enter",u,e]),t.splice(o+1,0,["exit",t[i][1],e]),t[i][1].end={...t[o][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function sj(t,e,n){const i=this;let a;return o;function o(p){let y=i.events.length,b;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){b=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||b)?(t.enter("setextHeadingLine"),a=p,u(p)):n(p)}function u(p){return t.enter("setextHeadingLineSequence"),h(p)}function h(p){return p===a?(t.consume(p),h):(t.exit("setextHeadingLineSequence"),Xe(p)?rt(t,m,"lineSuffix")(p):m(p))}function m(p){return p===null||Ie(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const aj={tokenize:lj};function lj(t){const e=this,n=t.attempt(ic,i,t.attempt(this.parser.constructs.flowInitial,a,rt(t,t.attempt(this.parser.constructs.flow,a,t.attempt(hk,a)),"linePrefix")));return n;function i(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const oj={resolveAll:Nw()},uj=Tw("string"),cj=Tw("text");function Tw(t){return{resolveAll:Nw(t==="text"?fj:void 0),tokenize:e};function e(n){const i=this,a=this.parser.constructs[t],o=n.attempt(a,u,h);return u;function u(y){return p(y)?o(y):h(y)}function h(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),m}function m(y){return p(y)?(n.exit("data"),o(y)):(n.consume(y),m)}function p(y){if(y===null)return!0;const b=a[y];let _=-1;if(b)for(;++_<b.length;){const w=b[_];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}function Nw(t){return e;function e(n,i){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return t?t(n,i):n}}function fj(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],a=e.sliceStream(i);let o=a.length,u=-1,h=0,m;for(;o--;){const p=a[o];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(p===-2)m=!0,h++;else if(p!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const p={type:n===t.length||m||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...p.start},i.start.offset===i.end.offset?Object.assign(i,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const hj={42:Yn,43:Yn,45:Yn,48:Yn,49:Yn,50:Yn,51:Yn,52:Yn,53:Yn,54:Yn,55:Yn,56:Yn,57:Yn,62:xw},dj={91:xk},mj={[-2]:ap,[-1]:ap,32:ap},pj={35:Ek,42:Gf,45:[Av,Gf],60:Ak,61:Av,95:Gf,96:Nv,126:Nv},gj={38:bw,92:yw},xj={[-5]:lp,[-4]:lp,[-3]:lp,33:$k,38:bw,42:Zp,60:[YC,Mk],91:Yk,92:[_k,yw],93:hg,95:Zp,96:ak},yj={null:[Zp,oj]},bj={null:[42,95]},vj={null:[]},_j=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:bj,contentInitial:dj,disable:vj,document:hj,flow:pj,flowInitial:mj,insideSpan:yj,string:gj,text:xj},Symbol.toStringTag,{value:"Module"}));function wj(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let u=[],h=[];const m={attempt:R(q),check:R(L),consume:B,enter:U,exit:$,interrupt:R(L,{interrupt:!0})},p={code:null,containerState:{},defineSkip:V,events:[],now:S,parser:t,previous:null,sliceSerialize:_,sliceStream:w,write:b};let y=e.tokenize.call(p,m);return e.resolveAll&&o.push(e),p;function b(I){return u=Sr(u,I),z(),u[u.length-1]!==null?[]:(C(e,0),p.events=Lh(o,p.events,p),p.events)}function _(I,P){return Tj(w(I),P)}function w(I){return Ej(u,I)}function S(){const{_bufferIndex:I,_index:P,line:A,column:ae,offset:ge}=i;return{_bufferIndex:I,_index:P,line:A,column:ae,offset:ge}}function V(I){a[I.line]=I.column,k()}function z(){let I;for(;i._index<u.length;){const P=u[i._index];if(typeof P=="string")for(I=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===I&&i._bufferIndex<P.length;)F(P.charCodeAt(i._bufferIndex));else F(P)}}function F(I){y=y(I)}function B(I){Ie(I)?(i.line++,i.column=1,i.offset+=I===-3?2:1,k()):I!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),p.previous=I}function U(I,P){const A=P||{};return A.type=I,A.start=S(),p.events.push(["enter",A,p]),h.push(A),A}function $(I){const P=h.pop();return P.end=S(),p.events.push(["exit",P,p]),P}function q(I,P){C(I,P.from)}function L(I,P){P.restore()}function R(I,P){return A;function A(ae,ge,X){let fe,ve,Ae,N;return Array.isArray(ae)?te(ae):"tokenize"in ae?te([ae]):le(ae);function le(ie){return be;function be(Ne){const wt=Ne!==null&&ie[Ne],jt=Ne!==null&&ie.null,Et=[...Array.isArray(wt)?wt:wt?[wt]:[],...Array.isArray(jt)?jt:jt?[jt]:[]];return te(Et)(Ne)}}function te(ie){return fe=ie,ve=0,ie.length===0?X:j(ie[ve])}function j(ie){return be;function be(Ne){return N=M(),Ae=ie,ie.partial||(p.currentConstruct=ie),ie.name&&p.parser.constructs.disable.null.includes(ie.name)?xe():ie.tokenize.call(P?Object.assign(Object.create(p),P):p,m,Q,xe)(Ne)}}function Q(ie){return I(Ae,N),ge}function xe(ie){return N.restore(),++ve<fe.length?j(fe[ve]):X}}}function C(I,P){I.resolveAll&&!o.includes(I)&&o.push(I),I.resolve&&cr(p.events,P,p.events.length-P,I.resolve(p.events.slice(P),p)),I.resolveTo&&(p.events=I.resolveTo(p.events,p))}function M(){const I=S(),P=p.previous,A=p.currentConstruct,ae=p.events.length,ge=Array.from(h);return{from:ae,restore:X};function X(){i=I,p.previous=P,p.currentConstruct=A,p.events.length=ae,h=ge,k()}}function k(){i.line in a&&i.column<2&&(i.column=a[i.line],i.offset+=a[i.line]-1)}}function Ej(t,e){const n=e.start._index,i=e.start._bufferIndex,a=e.end._index,o=e.end._bufferIndex;let u;if(n===a)u=[t[n].slice(i,o)];else{if(u=t.slice(n,a),i>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(i):u.shift()}o>0&&u.push(t[a].slice(0,o))}return u}function Tj(t,e){let n=-1;const i=[];let a;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(o)}a=o===-2,i.push(u)}return i.join("")}function Nj(t){const i={constructs:pw([_j,...(t||{}).extensions||[]]),content:a(UC),defined:[],document:a(qC),flow:a(aj),lazy:{},string:a(uj),text:a(cj)};return i;function a(o){return u;function u(h){return wj(i,o,h)}}}function Sj(t){for(;!vw(t););return t}const Cv=/[\0\t\n\r]/g;function Aj(){let t=1,e="",n=!0,i;return a;function a(o,u,h){const m=[];let p,y,b,_,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(Cv.lastIndex=b,p=Cv.exec(o),_=p&&p.index!==void 0?p.index:o.length,w=o.charCodeAt(_),!p){e=o.slice(b);break}if(w===10&&b===_&&i)m.push(-3),i=void 0;else switch(i&&(m.push(-5),i=void 0),b<_&&(m.push(o.slice(b,_)),t+=_-b),w){case 0:{m.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,m.push(-2);t++<y;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:i=!0,t=1}b=_+1}return h&&(i&&m.push(-5),e&&m.push(e),m.push(null)),m}}const Cj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function kj(t){return t.replace(Cj,jj)}function jj(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return gw(n.slice(o?2:1),o?16:10)}return fg(n)||t}const Sw={}.hasOwnProperty;function Rj(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Dj(n)(Sj(Nj(n).document().write(Aj()(t,e,!0))))}function Dj(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(fr),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(Bn),blockQuote:o(jt),characterEscape:M,characterReference:M,codeFenced:o(Et),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Et,u),codeText:o(Wn,u),codeTextData:M,data:M,codeFlowValue:M,definition:o(jn),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(Un),hardBreakEscape:o(Ur),hardBreakTrailing:o(Ur),htmlFlow:o(Rt,u),htmlFlowData:M,htmlText:o(Rt,u),htmlTextData:M,image:o(Br),label:u,link:o(fr),listItem:o(hr),listItemValue:_,listOrdered:o(qn,b),listUnordered:o(qn),paragraph:o(qs),reference:j,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Bn),strong:o(dr),thematicBreak:o(pi)},exit:{atxHeading:m(),atxHeadingSequence:q,autolink:m(),autolinkEmail:wt,autolinkProtocol:Ne,blockQuote:m(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:xe,characterReferenceMarkerNumeric:xe,characterReferenceValue:ie,characterReference:be,codeFenced:m(z),codeFencedFence:V,codeFencedFenceInfo:w,codeFencedFenceMeta:S,codeFlowValue:k,codeIndented:m(F),codeText:m(ge),codeTextData:k,data:k,definition:m(),definitionDestinationString:$,definitionLabelString:B,definitionTitleString:U,emphasis:m(),hardBreakEscape:m(P),hardBreakTrailing:m(P),htmlFlow:m(A),htmlFlowData:k,htmlText:m(ae),htmlTextData:k,image:m(fe),label:Ae,labelText:ve,lineEnding:I,link:m(X),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:Q,resourceDestinationString:N,resourceTitleString:le,resource:te,setextHeading:m(C),setextHeadingLineSequence:R,setextHeadingText:L,strong:m(),thematicBreak:m()}};Aw(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(ne){let de={type:"root",children:[]};const Ce={stack:[de],tokenStack:[],config:e,enter:h,exit:p,buffer:u,resume:y,data:n},Re=[];let He=-1;for(;++He<ne.length;)if(ne[He][1].type==="listOrdered"||ne[He][1].type==="listUnordered")if(ne[He][0]==="enter")Re.push(He);else{const un=Re.pop();He=a(ne,un,He)}for(He=-1;++He<ne.length;){const un=e[ne[He][0]];Sw.call(un,ne[He][1].type)&&un[ne[He][1].type].call(Object.assign({sliceSerialize:ne[He][2].sliceSerialize},Ce),ne[He][1])}if(Ce.tokenStack.length>0){const un=Ce.tokenStack[Ce.tokenStack.length-1];(un[1]||kv).call(Ce,void 0,un[0])}for(de.position={start:Es(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Es(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<e.transforms.length;)de=e.transforms[He](de)||de;return de}function a(ne,de,Ce){let Re=de-1,He=-1,un=!1,tn,Xt,bn,zt;for(;++Re<=Ce;){const St=ne[Re];switch(St[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{St[0]==="enter"?He++:He--,zt=void 0;break}case"lineEndingBlank":{St[0]==="enter"&&(tn&&!zt&&!He&&!bn&&(bn=Re),zt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:zt=void 0}if(!He&&St[0]==="enter"&&St[1].type==="listItemPrefix"||He===-1&&St[0]==="exit"&&(St[1].type==="listUnordered"||St[1].type==="listOrdered")){if(tn){let vn=Re;for(Xt=void 0;vn--;){const cn=ne[vn];if(cn[1].type==="lineEnding"||cn[1].type==="lineEndingBlank"){if(cn[0]==="exit")continue;Xt&&(ne[Xt][1].type="lineEndingBlank",un=!0),cn[1].type="lineEnding",Xt=vn}else if(!(cn[1].type==="linePrefix"||cn[1].type==="blockQuotePrefix"||cn[1].type==="blockQuotePrefixWhitespace"||cn[1].type==="blockQuoteMarker"||cn[1].type==="listItemIndent"))break}bn&&(!Xt||bn<Xt)&&(tn._spread=!0),tn.end=Object.assign({},Xt?ne[Xt][1].start:St[1].end),ne.splice(Xt||Re,0,["exit",tn,St[2]]),Re++,Ce++}if(St[1].type==="listItemPrefix"){const vn={type:"listItem",_spread:!1,start:Object.assign({},St[1].start),end:void 0};tn=vn,ne.splice(Re,0,["enter",vn,St[2]]),Re++,Ce++,bn=void 0,zt=!0}}}return ne[de][1]._spread=un,Ce}function o(ne,de){return Ce;function Ce(Re){h.call(this,ne(Re),Re),de&&de.call(this,Re)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(ne,de,Ce){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([de,Ce||void 0]),ne.position={start:Es(de.start),end:void 0}}function m(ne){return de;function de(Ce){ne&&ne.call(this,Ce),p.call(this,Ce)}}function p(ne,de){const Ce=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==ne.type&&(de?de.call(this,ne,Re[0]):(Re[1]||kv).call(this,ne,Re[0]));else throw new Error("Cannot close `"+ne.type+"` ("+Su({start:ne.start,end:ne.end})+"): its not open");Ce.position.end=Es(ne.end)}function y(){return cg(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function _(ne){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function w(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.lang=ne}function S(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.meta=ne}function V(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function z(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function F(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne.replace(/(\r?\n|\r)$/g,"")}function B(ne){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=de,Ce.identifier=Lr(this.sliceSerialize(ne)).toLowerCase()}function U(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.title=ne}function $(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.url=ne}function q(ne){const de=this.stack[this.stack.length-1];if(!de.depth){const Ce=this.sliceSerialize(ne).length;de.depth=Ce}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function R(ne){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function M(ne){const Ce=this.stack[this.stack.length-1].children;let Re=Ce[Ce.length-1];(!Re||Re.type!=="text")&&(Re=Fn(),Re.position={start:Es(ne.start),end:void 0},Ce.push(Re)),this.stack.push(Re)}function k(ne){const de=this.stack.pop();de.value+=this.sliceSerialize(ne),de.position.end=Es(ne.end)}function I(ne){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=de.children[de.children.length-1];Ce.position.end=Es(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(de.type)&&(M.call(this,ne),k.call(this,ne))}function P(){this.data.atHardBreak=!0}function A(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function ae(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function ge(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function X(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=de,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function fe(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=de,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function ve(ne){const de=this.sliceSerialize(ne),Ce=this.stack[this.stack.length-2];Ce.label=kj(de),Ce.identifier=Lr(de).toLowerCase()}function Ae(){const ne=this.stack[this.stack.length-1],de=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Re=ne.children;Ce.children=Re}else Ce.alt=de}function N(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.url=ne}function le(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.title=ne}function te(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function Q(ne){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=de,Ce.identifier=Lr(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function xe(ne){this.data.characterReferenceType=ne.type}function ie(ne){const de=this.sliceSerialize(ne),Ce=this.data.characterReferenceType;let Re;Ce?(Re=gw(de,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=fg(de);const He=this.stack[this.stack.length-1];He.value+=Re}function be(ne){const de=this.stack.pop();de.position.end=Es(ne.end)}function Ne(ne){k.call(this,ne);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(ne)}function wt(ne){k.call(this,ne);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(ne)}function jt(){return{type:"blockquote",children:[]}}function Et(){return{type:"code",lang:null,meta:null,value:""}}function Wn(){return{type:"inlineCode",value:""}}function jn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Un(){return{type:"emphasis",children:[]}}function Bn(){return{type:"heading",depth:0,children:[]}}function Ur(){return{type:"break"}}function Rt(){return{type:"html",value:""}}function Br(){return{type:"image",title:null,url:"",alt:null}}function fr(){return{type:"link",title:null,url:"",children:[]}}function qn(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function hr(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function qs(){return{type:"paragraph",children:[]}}function dr(){return{type:"strong",children:[]}}function Fn(){return{type:"text",value:""}}function pi(){return{type:"thematicBreak"}}}function Es(t){return{line:t.line,column:t.column,offset:t.offset}}function Aw(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?Aw(t,i):Ij(t,i)}}function Ij(t,e){let n;for(n in e)if(Sw.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function kv(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Su({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Su({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Su({start:e.start,end:e.end})+") is still open")}function Mj(t){const e=this;e.parser=n;function n(i){return Rj(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Oj(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Vj(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Pj(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function Lj(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zj(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Uj(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),a=ao(i.toLowerCase()),o=t.footnoteOrder.indexOf(i);let u,h=t.footnoteCounts.get(i);h===void 0?(h=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=o+1,h+=1,t.footnoteCounts.set(i,h);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,m);const p={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,p),t.applyData(e,p)}function Bj(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function qj(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Cw(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const a=t.all(e),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=i:a.push({type:"text",value:i}),a}function Fj(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return Cw(t,e);const a={src:ao(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(a.title=i.title);const o={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,o),t.applyData(e,o)}function Hj(t,e){const n={src:ao(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function $j(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function Gj(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return Cw(t,e);const a={href:ao(i.url||"")};i.title!==null&&i.title!==void 0&&(a.title=i.title);const o={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function Yj(t,e){const n={href:ao(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Qj(t,e,n){const i=t.all(e),a=n?Xj(n):kw(e),o={},u=[];if(typeof e.checked=="boolean"){const y=i[0];let b;y&&y.type==="element"&&y.tagName==="p"?b=y:(b={type:"element",tagName:"p",properties:{},children:[]},i.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const y=i[h];(a||h!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?u.push(...y.children):u.push(y)}const m=i[i.length-1];m&&(a||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,p),t.applyData(e,p)}function Xj(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=kw(n[i])}return e}function kw(t){const e=t.spread;return e??t.children.length>1}function Kj(t,e){const n={},i=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<i.length;){const u=i[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function Zj(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Jj(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Wj(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function e9(t,e){const n=t.all(e),i=n.shift(),a=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=ag(e.children[1]),m=ow(e.children[e.children.length-1]);h&&m&&(u.position={start:h,end:m}),a.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,o),t.applyData(e,o)}function t9(t,e,n){const i=n?n.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let m=-1;const p=[];for(;++m<h;){const b=e.children[m],_={},w=u?u[m]:void 0;w&&(_.align=w);let S={type:"element",tagName:o,properties:_,children:[]};b&&(S.children=t.all(b),t.patch(b,S),S=t.applyData(b,S)),p.push(S)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,y),t.applyData(e,y)}function n9(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const jv=9,Rv=32;function r9(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),a=0;const o=[];for(;i;)o.push(Dv(e.slice(a,i.index),a>0,!0),i[0]),a=i.index+i[0].length,i=n.exec(e);return o.push(Dv(e.slice(a),a>0,!1)),o.join("")}function Dv(t,e,n){let i=0,a=t.length;if(e){let o=t.codePointAt(i);for(;o===jv||o===Rv;)i++,o=t.codePointAt(i)}if(n){let o=t.codePointAt(a-1);for(;o===jv||o===Rv;)a--,o=t.codePointAt(a-1)}return a>i?t.slice(i,a):""}function i9(t,e){const n={type:"text",value:r9(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function s9(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const a9={blockquote:Oj,break:Vj,code:Pj,delete:Lj,emphasis:zj,footnoteReference:Uj,heading:Bj,html:qj,imageReference:Fj,image:Hj,inlineCode:$j,linkReference:Gj,link:Yj,listItem:Qj,list:Kj,paragraph:Zj,root:Jj,strong:Wj,table:e9,tableCell:n9,tableRow:t9,text:i9,thematicBreak:s9,toml:Mf,yaml:Mf,definition:Mf,footnoteDefinition:Mf};function Mf(){}const jw=-1,zh=0,Cu=1,hh=2,dg=3,mg=4,pg=5,gg=6,Rw=7,Dw=8,Iv=typeof self=="object"?self:globalThis,l9=(t,e)=>{const n=(a,o)=>(t.set(o,a),a),i=a=>{if(t.has(a))return t.get(a);const[o,u]=e[a];switch(o){case zh:case jw:return n(u,a);case Cu:{const h=n([],a);for(const m of u)h.push(i(m));return h}case hh:{const h=n({},a);for(const[m,p]of u)h[i(m)]=i(p);return h}case dg:return n(new Date(u),a);case mg:{const{source:h,flags:m}=u;return n(new RegExp(h,m),a)}case pg:{const h=n(new Map,a);for(const[m,p]of u)h.set(i(m),i(p));return h}case gg:{const h=n(new Set,a);for(const m of u)h.add(i(m));return h}case Rw:{const{name:h,message:m}=u;return n(new Iv[h](m),a)}case Dw:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new Iv[o](u),a)};return i},Mv=t=>l9(new Map,t)(0),Ml="",{toString:o9}={},{keys:u9}=Object,pu=t=>{const e=typeof t;if(e!=="object"||!t)return[zh,e];const n=o9.call(t).slice(8,-1);switch(n){case"Array":return[Cu,Ml];case"Object":return[hh,Ml];case"Date":return[dg,Ml];case"RegExp":return[mg,Ml];case"Map":return[pg,Ml];case"Set":return[gg,Ml];case"DataView":return[Cu,n]}return n.includes("Array")?[Cu,n]:n.includes("Error")?[Rw,n]:[hh,n]},Of=([t,e])=>t===zh&&(e==="function"||e==="symbol"),c9=(t,e,n,i)=>{const a=(u,h)=>{const m=i.push(u)-1;return n.set(h,m),m},o=u=>{if(n.has(u))return n.get(u);let[h,m]=pu(u);switch(h){case zh:{let y=u;switch(m){case"bigint":h=Dw,y=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);y=null;break;case"undefined":return a([jw],u)}return a([h,y],u)}case Cu:{if(m){let _=u;return m==="DataView"?_=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(_=new Uint8Array(u)),a([m,[..._]],u)}const y=[],b=a([h,y],u);for(const _ of u)y.push(o(_));return b}case hh:{if(m)switch(m){case"BigInt":return a([m,u.toString()],u);case"Boolean":case"Number":case"String":return a([m,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const y=[],b=a([h,y],u);for(const _ of u9(u))(t||!Of(pu(u[_])))&&y.push([o(_),o(u[_])]);return b}case dg:return a([h,u.toISOString()],u);case mg:{const{source:y,flags:b}=u;return a([h,{source:y,flags:b}],u)}case pg:{const y=[],b=a([h,y],u);for(const[_,w]of u)(t||!(Of(pu(_))||Of(pu(w))))&&y.push([o(_),o(w)]);return b}case gg:{const y=[],b=a([h,y],u);for(const _ of u)(t||!Of(pu(_)))&&y.push(o(_));return b}}const{message:p}=u;return a([h,{name:m,message:p}],u)};return o},Ov=(t,{json:e,lossy:n}={})=>{const i=[];return c9(!(e||n),!!e,new Map,i)(t),i},dh=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Mv(Ov(t,e)):structuredClone(t):(t,e)=>Mv(Ov(t,e));function f9(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function h9(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function d9(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||f9,i=t.options.footnoteBackLabel||h9,a=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let m=-1;for(;++m<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[m]);if(!p)continue;const y=t.all(p),b=String(p.identifier).toUpperCase(),_=ao(b.toLowerCase());let w=0;const S=[],V=t.footnoteCounts.get(b);for(;V!==void 0&&++w<=V;){S.length>0&&S.push({type:"text",value:" "});let B=typeof n=="string"?n:n(m,w);typeof B=="string"&&(B={type:"text",value:B}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+_+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(m,w),className:["data-footnote-backref"]},children:Array.isArray(B)?B:[B]})}const z=y[y.length-1];if(z&&z.type==="element"&&z.tagName==="p"){const B=z.children[z.children.length-1];B&&B.type==="text"?B.value+=" ":z.children.push({type:"text",value:" "}),z.children.push(...S)}else y.push(...S);const F={type:"element",tagName:"li",properties:{id:e+"fn-"+_},children:t.wrap(y,!0)};t.patch(p,F),h.push(F)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...dh(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const Uh=(function(t){if(t==null)return x9;if(typeof t=="function")return Bh(t);if(typeof t=="object")return Array.isArray(t)?m9(t):p9(t);if(typeof t=="string")return g9(t);throw new Error("Expected function, string, or object as test")});function m9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Uh(t[n]);return Bh(i);function i(...a){let o=-1;for(;++o<e.length;)if(e[o].apply(this,a))return!0;return!1}}function p9(t){const e=t;return Bh(n);function n(i){const a=i;let o;for(o in t)if(a[o]!==e[o])return!1;return!0}}function g9(t){return Bh(e);function e(n){return n&&n.type===t}}function Bh(t){return e;function e(n,i,a){return!!(y9(n)&&t.call(this,n,typeof i=="number"?i:void 0,a||void 0))}}function x9(){return!0}function y9(t){return t!==null&&typeof t=="object"&&"type"in t}const Iw=[],b9=!0,Jp=!1,v9="skip";function Mw(t,e,n,i){let a;typeof e=="function"&&typeof n!="function"?(i=n,n=e):a=e;const o=Uh(a),u=i?-1:1;h(t,void 0,[])();function h(m,p,y){const b=m&&typeof m=="object"?m:{};if(typeof b.type=="string"){const w=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(m.type+(w?"<"+w+">":""))+")"})}return _;function _(){let w=Iw,S,V,z;if((!e||o(m,p,y[y.length-1]||void 0))&&(w=_9(n(m,y)),w[0]===Jp))return w;if("children"in m&&m.children){const F=m;if(F.children&&w[0]!==v9)for(V=(i?F.children.length:-1)+u,z=y.concat(F);V>-1&&V<F.children.length;){const B=F.children[V];if(S=h(B,V,z)(),S[0]===Jp)return S;V=typeof S[1]=="number"?S[1]:V+u}}return w}}}function _9(t){return Array.isArray(t)?t:typeof t=="number"?[b9,t]:t==null?Iw:[t]}function xg(t,e,n,i){let a,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,a=n):(o=e,u=n,a=i),Mw(t,o,h,a);function h(m,p){const y=p[p.length-1],b=y?y.children.indexOf(m):void 0;return u(m,b,y)}}const Wp={}.hasOwnProperty,w9={};function E9(t,e){const n=e||w9,i=new Map,a=new Map,o=new Map,u={...a9,...n.handlers},h={all:p,applyData:N9,definitionById:i,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:u,one:m,options:n,patch:T9,wrap:A9};return xg(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const b=y.type==="definition"?i:a,_=String(y.identifier).toUpperCase();b.has(_)||b.set(_,y)}}),h;function m(y,b){const _=y.type,w=h.handlers[_];if(Wp.call(h.handlers,_)&&w)return w(h,y,b);if(h.options.passThrough&&h.options.passThrough.includes(_)){if("children"in y){const{children:V,...z}=y,F=dh(z);return F.children=h.all(y),F}return dh(y)}return(h.options.unknownHandler||S9)(h,y,b)}function p(y){const b=[];if("children"in y){const _=y.children;let w=-1;for(;++w<_.length;){const S=h.one(_[w],y);if(S){if(w&&_[w-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=Vv(S.value)),!Array.isArray(S)&&S.type==="element")){const V=S.children[0];V&&V.type==="text"&&(V.value=Vv(V.value))}Array.isArray(S)?b.push(...S):b.push(S)}}}return b}}function T9(t,e){t.position&&(e.position=hC(t))}function N9(t,e){let n=e;if(t&&t.data){const i=t.data.hName,a=t.data.hChildren,o=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,dh(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function S9(t,e){const n=e.data||{},i="value"in e&&!(Wp.call(n,"hProperties")||Wp.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function A9(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Vv(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Pv(t,e){const n=E9(t,e),i=n.one(t,void 0),a=d9(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function C9(t,e){return t&&"run"in t?async function(n,i){const a=Pv(n,{file:i,...e});await t.run(a,i)}:function(n,i){return Pv(n,{file:i,...t||e})}}function Lv(t){if(t)throw t}var op,zv;function k9(){if(zv)return op;zv=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},o=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var y=t.call(p,"constructor"),b=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!y&&!b)return!1;var _;for(_ in p);return typeof _>"u"||t.call(p,_)},u=function(p,y){n&&y.name==="__proto__"?n(p,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):p[y.name]=y.newValue},h=function(p,y){if(y==="__proto__")if(t.call(p,y)){if(i)return i(p,y).value}else return;return p[y]};return op=function m(){var p,y,b,_,w,S,V=arguments[0],z=1,F=arguments.length,B=!1;for(typeof V=="boolean"&&(B=V,V=arguments[1]||{},z=2),(V==null||typeof V!="object"&&typeof V!="function")&&(V={});z<F;++z)if(p=arguments[z],p!=null)for(y in p)b=h(V,y),_=h(p,y),V!==_&&(B&&_&&(o(_)||(w=a(_)))?(w?(w=!1,S=b&&a(b)?b:[]):S=b&&o(b)?b:{},u(V,{name:y,newValue:m(B,S,_)})):typeof _<"u"&&u(V,{name:y,newValue:_}));return V},op}var j9=k9();const up=ph(j9);function e0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function R9(){const t=[],e={run:n,use:i};return e;function n(...a){let o=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(m,...p){const y=t[++o];let b=-1;if(m){u(m);return}for(;++b<a.length;)(p[b]===null||p[b]===void 0)&&(p[b]=a[b]);a=p,y?D9(y,h)(...p):u(null,...p)}}function i(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function D9(t,e){let n;return i;function i(...u){const h=t.length>u.length;let m;h&&u.push(a);try{m=t.apply(this,u)}catch(p){const y=p;if(h&&n)throw y;return a(y)}h||(m&&m.then&&typeof m.then=="function"?m.then(o,a):m instanceof Error?a(m):o(m))}function a(u,...h){n||(n=!0,e(u,...h))}function o(u){a(null,u)}}const ii={basename:I9,dirname:M9,extname:O9,join:V9,sep:"/"};function I9(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');sc(t);let n=0,i=-1,a=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else i<0&&(o=!0,i=a+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,h=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else u<0&&(o=!0,u=a+1),h>-1&&(t.codePointAt(a)===e.codePointAt(h--)?h<0&&(i=a):(h=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function M9(t){if(sc(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function O9(t){sc(t);let e=t.length,n=-1,i=0,a=-1,o=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?a<0?a=e:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===i+1?"":t.slice(a,n)}function V9(...t){let e=-1,n;for(;++e<t.length;)sc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":P9(n)}function P9(t){sc(t);const e=t.codePointAt(0)===47;let n=L9(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function L9(t,e){let n="",i=0,a=-1,o=0,u=-1,h,m;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||o===1))if(a!==u-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",i=0):(n=n.slice(0,m),i=n.length-1-n.lastIndexOf("/")),a=u,o=0;continue}}else if(n.length>0){n="",i=0,a=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),i=u-a-1;a=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function sc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const z9={cwd:U9};function U9(){return"/"}function t0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function B9(t){if(typeof t=="string")t=new URL(t);else if(!t0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return q9(t)}function q9(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const cp=["history","path","basename","stem","extname","dirname"];class Ow{constructor(e){let n;e?t0(e)?n={path:e}:typeof e=="string"||F9(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":z9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<cp.length;){const o=cp[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)cp.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?ii.basename(this.path):void 0}set basename(e){hp(e,"basename"),fp(e,"basename"),this.path=ii.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ii.dirname(this.path):void 0}set dirname(e){Uv(this.basename,"dirname"),this.path=ii.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ii.extname(this.path):void 0}set extname(e){if(fp(e,"extname"),Uv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ii.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){t0(e)&&(e=B9(e)),hp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ii.basename(this.path,this.extname):void 0}set stem(e){hp(e,"stem"),fp(e,"stem"),this.path=ii.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const a=this.message(e,n,i);throw a.fatal=!0,a}info(e,n,i){const a=this.message(e,n,i);return a.fatal=void 0,a}message(e,n,i){const a=new kn(e,n,i);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function fp(t,e){if(t&&t.includes(ii.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ii.sep+"`")}function hp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Uv(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function F9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const H9=(function(t){const i=this.constructor.prototype,a=i[t],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,i),o}),$9={}.hasOwnProperty;class yg extends H9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=R9()}copy(){const e=new yg;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(up(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(pp("data",this.frozen),this.namespace[e]=n,this):$9.call(this.namespace,e)&&this.namespace[e]||void 0:e?(pp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const a=n.call(e,...i);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Vf(e),i=this.parser||this.Parser;return dp("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),dp("process",this.parser||this.Parser),mp("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,u){const h=Vf(e),m=i.parse(h);i.run(m,h,function(y,b,_){if(y||!b||!_)return p(y);const w=b,S=i.stringify(w,_);Q9(S)?_.value=S:_.result=S,p(y,_)});function p(y,b){y||!b?u(y):o?o(b):n(void 0,b)}}}processSync(e){let n=!1,i;return this.freeze(),dp("processSync",this.parser||this.Parser),mp("processSync",this.compiler||this.Compiler),this.process(e,a),qv("processSync","process",n),i;function a(o,u){n=!0,Lv(o),i=u}}run(e,n,i){Bv(e),this.freeze();const a=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(u,h){const m=Vf(n);a.run(e,m,p);function p(y,b,_){const w=b||e;y?h(y):u?u(w):i(void 0,w,_)}}}runSync(e,n){let i=!1,a;return this.run(e,n,o),qv("runSync","run",i),a;function o(u,h){Lv(u),a=h,i=!0}}stringify(e,n){this.freeze();const i=Vf(n),a=this.compiler||this.Compiler;return mp("stringify",a),Bv(e),a(e,i)}use(e,...n){const i=this.attachers,a=this.namespace;if(pp("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(p){if(typeof p=="function")m(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[y,...b]=p;m(y,b)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(p.plugins),p.settings&&(a.settings=up(!0,a.settings,p.settings))}function h(p){let y=-1;if(p!=null)if(Array.isArray(p))for(;++y<p.length;){const b=p[y];o(b)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function m(p,y){let b=-1,_=-1;for(;++b<i.length;)if(i[b][0]===p){_=b;break}if(_===-1)i.push([p,...y]);else if(y.length>0){let[w,...S]=y;const V=i[_][1];e0(V)&&e0(w)&&(w=up(!0,V,w)),i[_]=[p,w,...S]}}}}const G9=new yg().freeze();function dp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function mp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function pp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bv(t){if(!e0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function qv(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Vf(t){return Y9(t)?t:new Ow(t)}function Y9(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Q9(t){return typeof t=="string"||X9(t)}function X9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const K9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Fv=[],Hv={allowDangerousHtml:!0},Z9=/^(https?|ircs?|mailto|xmpp)$/i,J9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lo(t){const e=W9(t),n=eR(t);return tR(e.runSync(e.parse(n),n),t)}function W9(t){const e=t.rehypePlugins||Fv,n=t.remarkPlugins||Fv,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Hv}:Hv;return G9().use(Mj).use(n).use(C9,i).use(e)}function eR(t){const e=t.children||"",n=new Ow;return typeof e=="string"&&(n.value=e),n}function tR(t,e){const n=e.allowedElements,i=e.allowElement,a=e.components,o=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,m=e.urlTransform||nR;for(const y of J9)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+K9+y.id,void 0);return xg(t,p),xC(t,{Fragment:f.Fragment,components:a,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function p(y,b,_){if(y.type==="raw"&&_&&typeof b=="number")return u?_.children.splice(b,1):_.children[b]={type:"text",value:y.value},b;if(y.type==="element"){let w;for(w in sp)if(Object.hasOwn(sp,w)&&Object.hasOwn(y.properties,w)){const S=y.properties[w],V=sp[w];(V===null||V.includes(y.tagName))&&(y.properties[w]=m(String(S||""),w,y))}}if(y.type==="element"){let w=n?!n.includes(y.tagName):o?o.includes(y.tagName):!1;if(!w&&i&&typeof b=="number"&&(w=!i(y,b,_)),w&&_&&typeof b=="number")return h&&y.children?_.children.splice(b,1,...y.children):_.children.splice(b,1),b}}}function nR(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||i!==-1&&e>i||Z9.test(t.slice(0,e))?t:""}function $v(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,a=n.indexOf(e);for(;a!==-1;)i++,a=n.indexOf(e,a+e.length);return i}function rR(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function iR(t,e,n){const a=Uh((n||{}).ignore||[]),o=sR(e);let u=-1;for(;++u<o.length;)Mw(t,"text",h);function h(p,y){let b=-1,_;for(;++b<y.length;){const w=y[b],S=_?_.children:void 0;if(a(w,S?S.indexOf(w):void 0,_))return;_=w}if(_)return m(p,y)}function m(p,y){const b=y[y.length-1],_=o[u][0],w=o[u][1];let S=0;const z=b.children.indexOf(p);let F=!1,B=[];_.lastIndex=0;let U=_.exec(p.value);for(;U;){const $=U.index,q={index:U.index,input:U.input,stack:[...y,p]};let L=w(...U,q);if(typeof L=="string"&&(L=L.length>0?{type:"text",value:L}:void 0),L===!1?_.lastIndex=$+1:(S!==$&&B.push({type:"text",value:p.value.slice(S,$)}),Array.isArray(L)?B.push(...L):L&&B.push(L),S=$+U[0].length,F=!0),!_.global)break;U=_.exec(p.value)}return F?(S<p.value.length&&B.push({type:"text",value:p.value.slice(S)}),b.children.splice(z,1,...B)):B=[p],z+B.length}}function sR(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const a=n[i];e.push([aR(a[0]),lR(a[1])])}return e}function aR(t){return typeof t=="string"?new RegExp(rR(t),"g"):t}function lR(t){return typeof t=="function"?t:function(){return t}}const gp="phrasing",xp=["autolink","link","image","label"];function oR(){return{transforms:[pR],enter:{literalAutolink:cR,literalAutolinkEmail:yp,literalAutolinkHttp:yp,literalAutolinkWww:yp},exit:{literalAutolink:mR,literalAutolinkEmail:dR,literalAutolinkHttp:fR,literalAutolinkWww:hR}}}function uR(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:gp,notInConstruct:xp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:gp,notInConstruct:xp},{character:":",before:"[ps]",after:"\\/",inConstruct:gp,notInConstruct:xp}]}}function cR(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function yp(t){this.config.enter.autolinkProtocol.call(this,t)}function fR(t){this.config.exit.autolinkProtocol.call(this,t)}function hR(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function dR(t){this.config.exit.autolinkEmail.call(this,t)}function mR(t){this.exit(t)}function pR(t){iR(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,gR],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),xR]],{ignore:["link","linkReference"]})}function gR(t,e,n,i,a){let o="";if(!Vw(a)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!yR(n)))return!1;const u=bR(n+i);if(!u[0])return!1;const h={type:"link",title:null,url:o+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[h,{type:"text",value:u[1]}]:h}function xR(t,e,n,i){return!Vw(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function yR(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function bR(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const a=$v(t,"(");let o=$v(t,")");for(;i!==-1&&a>o;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),o++;return[t,n]}function Vw(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Oa(n)||Ph(n))&&(!e||n!==47)}Pw.peek=CR;function vR(){this.buffer()}function _R(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function wR(){this.buffer()}function ER(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function TR(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Lr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function NR(t){this.exit(t)}function SR(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Lr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function AR(t){this.exit(t)}function CR(){return"["}function Pw(t,e,n,i){const a=n.createTracker(i);let o=a.move("[^");const u=n.enter("footnoteReference"),h=n.enter("reference");return o+=a.move(n.safe(n.associationId(t),{after:"]",before:o})),h(),u(),o+=a.move("]"),o}function kR(){return{enter:{gfmFootnoteCallString:vR,gfmFootnoteCall:_R,gfmFootnoteDefinitionLabelString:wR,gfmFootnoteDefinition:ER},exit:{gfmFootnoteCallString:TR,gfmFootnoteCall:NR,gfmFootnoteDefinitionLabelString:SR,gfmFootnoteDefinition:AR}}}function jR(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Pw},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,a,o,u){const h=o.createTracker(u);let m=h.move("[^");const p=o.enter("footnoteDefinition"),y=o.enter("label");return m+=h.move(o.safe(o.associationId(i),{before:m,after:"]"})),y(),m+=h.move("]:"),i.children&&i.children.length>0&&(h.shift(4),m+=h.move((e?`
`:" ")+o.indentLines(o.containerFlow(i,h.current()),e?Lw:RR))),p(),m}}function RR(t,e,n){return e===0?t:Lw(t,e,n)}function Lw(t,e,n){return(n?"":"    ")+t}const DR=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];zw.peek=PR;function IR(){return{canContainEols:["delete"],enter:{strikethrough:OR},exit:{strikethrough:VR}}}function MR(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:DR}],handlers:{delete:zw}}}function OR(t){this.enter({type:"delete",children:[]},t)}function VR(t){this.exit(t)}function zw(t,e,n,i){const a=n.createTracker(i),o=n.enter("strikethrough");let u=a.move("~~");return u+=n.containerPhrasing(t,{...a.current(),before:u,after:"~"}),u+=a.move("~~"),o(),u}function PR(){return"~"}function LR(t){return t.length}function zR(t,e){const n=e||{},i=(n.align||[]).concat(),a=n.stringLength||LR,o=[],u=[],h=[],m=[];let p=0,y=-1;for(;++y<t.length;){const V=[],z=[];let F=-1;for(t[y].length>p&&(p=t[y].length);++F<t[y].length;){const B=UR(t[y][F]);if(n.alignDelimiters!==!1){const U=a(B);z[F]=U,(m[F]===void 0||U>m[F])&&(m[F]=U)}V.push(B)}u[y]=V,h[y]=z}let b=-1;if(typeof i=="object"&&"length"in i)for(;++b<p;)o[b]=Gv(i[b]);else{const V=Gv(i);for(;++b<p;)o[b]=V}b=-1;const _=[],w=[];for(;++b<p;){const V=o[b];let z="",F="";V===99?(z=":",F=":"):V===108?z=":":V===114&&(F=":");let B=n.alignDelimiters===!1?1:Math.max(1,m[b]-z.length-F.length);const U=z+"-".repeat(B)+F;n.alignDelimiters!==!1&&(B=z.length+B+F.length,B>m[b]&&(m[b]=B),w[b]=B),_[b]=U}u.splice(1,0,_),h.splice(1,0,w),y=-1;const S=[];for(;++y<u.length;){const V=u[y],z=h[y];b=-1;const F=[];for(;++b<p;){const B=V[b]||"";let U="",$="";if(n.alignDelimiters!==!1){const q=m[b]-(z[b]||0),L=o[b];L===114?U=" ".repeat(q):L===99?q%2?(U=" ".repeat(q/2+.5),$=" ".repeat(q/2-.5)):(U=" ".repeat(q/2),$=U):$=" ".repeat(q)}n.delimiterStart!==!1&&!b&&F.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&B==="")&&(n.delimiterStart!==!1||b)&&F.push(" "),n.alignDelimiters!==!1&&F.push(U),F.push(B),n.alignDelimiters!==!1&&F.push($),n.padding!==!1&&F.push(" "),(n.delimiterEnd!==!1||b!==p-1)&&F.push("|")}S.push(n.delimiterEnd===!1?F.join("").replace(/ +$/,""):F.join(""))}return S.join(`
`)}function UR(t){return t==null?"":String(t)}function Gv(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function BR(t,e,n,i){const a=n.enter("blockquote"),o=n.createTracker(i);o.move("> "),o.shift(2);const u=n.indentLines(n.containerFlow(t,o.current()),qR);return a(),u}function qR(t,e,n){return">"+(n?"":" ")+t}function FR(t,e){return Yv(t,e.inConstruct,!0)&&!Yv(t,e.notInConstruct,!1)}function Yv(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function Qv(t,e,n,i){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&FR(n.stack,n.unsafe[a]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function HR(t,e){const n=String(t);let i=n.indexOf(e),a=i,o=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===a?++o>u&&(u=o):o=1,a=i+e.length,i=n.indexOf(e,a);return u}function $R(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function GR(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function YR(t,e,n,i){const a=GR(n),o=t.value||"",u=a==="`"?"GraveAccent":"Tilde";if($R(t,n)){const b=n.enter("codeIndented"),_=n.indentLines(o,QR);return b(),_}const h=n.createTracker(i),m=a.repeat(Math.max(HR(o,a)+1,3)),p=n.enter("codeFenced");let y=h.move(m);if(t.lang){const b=n.enter(`codeFencedLang${u}`);y+=h.move(n.safe(t.lang,{before:y,after:" ",encode:["`"],...h.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${u}`);y+=h.move(" "),y+=h.move(n.safe(t.meta,{before:y,after:`
`,encode:["`"],...h.current()})),b()}return y+=h.move(`
`),o&&(y+=h.move(o+`
`)),y+=h.move(m),p(),y}function QR(t,e,n){return(n?"":"    ")+t}function bg(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function XR(t,e,n,i){const a=bg(n),o=a==='"'?"Quote":"Apostrophe",u=n.enter("definition");let h=n.enter("label");const m=n.createTracker(i);let p=m.move("[");return p+=m.move(n.safe(n.associationId(t),{before:p,after:"]",...m.current()})),p+=m.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...m.current()}))),h(),t.title&&(h=n.enter(`title${o}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),h()),u(),p}function KR(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Fu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function mh(t,e,n){const i=Jl(t),a=Jl(e);return i===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Uw.peek=ZR;function Uw(t,e,n,i){const a=KR(n),o=n.enter("emphasis"),u=n.createTracker(i),h=u.move(a);let m=u.move(n.containerPhrasing(t,{after:a,before:h,...u.current()}));const p=m.charCodeAt(0),y=mh(i.before.charCodeAt(i.before.length-1),p,a);y.inside&&(m=Fu(p)+m.slice(1));const b=m.charCodeAt(m.length-1),_=mh(i.after.charCodeAt(0),b,a);_.inside&&(m=m.slice(0,-1)+Fu(b));const w=u.move(a);return o(),n.attentionEncodeSurroundingInfo={after:_.outside,before:y.outside},h+m+w}function ZR(t,e,n){return n.options.emphasis||"*"}function JR(t,e){let n=!1;return xg(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Jp}),!!((!t.depth||t.depth<3)&&cg(t)&&(e.options.setext||n))}function WR(t,e,n,i){const a=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(i);if(JR(t,n)){const y=n.enter("headingSetext"),b=n.enter("phrasing"),_=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return b(),y(),_+`
`+(a===1?"=":"-").repeat(_.length-(Math.max(_.lastIndexOf("\r"),_.lastIndexOf(`
`))+1))}const u="#".repeat(a),h=n.enter("headingAtx"),m=n.enter("phrasing");o.move(u+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(p)&&(p=Fu(p.charCodeAt(0))+p.slice(1)),p=p?u+" "+p:u,n.options.closeAtx&&(p+=" "+u),m(),h(),p}Bw.peek=eD;function Bw(t){return t.value||""}function eD(){return"<"}qw.peek=tD;function qw(t,e,n,i){const a=bg(n),o=a==='"'?"Quote":"Apostrophe",u=n.enter("image");let h=n.enter("label");const m=n.createTracker(i);let p=m.move("![");return p+=m.move(n.safe(t.alt,{before:p,after:"]",...m.current()})),p+=m.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(n.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=n.enter("destinationRaw"),p+=m.move(n.safe(t.url,{before:p,after:t.title?" ":")",...m.current()}))),h(),t.title&&(h=n.enter(`title${o}`),p+=m.move(" "+a),p+=m.move(n.safe(t.title,{before:p,after:a,...m.current()})),p+=m.move(a),h()),p+=m.move(")"),u(),p}function tD(){return"!"}Fw.peek=nD;function Fw(t,e,n,i){const a=t.referenceType,o=n.enter("imageReference");let u=n.enter("label");const h=n.createTracker(i);let m=h.move("![");const p=n.safe(t.alt,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),u();const y=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=y,o(),a==="full"||!p||p!==b?m+=h.move(b+"]"):a==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function nD(){return"!"}Hw.peek=rD;function Hw(t,e,n){let i=t.value||"",a="`",o=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(i);)a+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<n.unsafe.length;){const u=n.unsafe[o],h=n.compilePattern(u);let m;if(u.atBreak)for(;m=h.exec(i);){let p=m.index;i.charCodeAt(p)===10&&i.charCodeAt(p-1)===13&&p--,i=i.slice(0,p)+" "+i.slice(m.index+1)}}return a+i+a}function rD(){return"`"}function $w(t,e){const n=cg(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Gw.peek=iD;function Gw(t,e,n,i){const a=bg(n),o=a==='"'?"Quote":"Apostrophe",u=n.createTracker(i);let h,m;if($w(t,n)){const y=n.stack;n.stack=[],h=n.enter("autolink");let b=u.move("<");return b+=u.move(n.containerPhrasing(t,{before:b,after:">",...u.current()})),b+=u.move(">"),h(),n.stack=y,b}h=n.enter("link"),m=n.enter("label");let p=u.move("[");return p+=u.move(n.containerPhrasing(t,{before:p,after:"](",...u.current()})),p+=u.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),p+=u.move("<"),p+=u.move(n.safe(t.url,{before:p,after:">",...u.current()})),p+=u.move(">")):(m=n.enter("destinationRaw"),p+=u.move(n.safe(t.url,{before:p,after:t.title?" ":")",...u.current()}))),m(),t.title&&(m=n.enter(`title${o}`),p+=u.move(" "+a),p+=u.move(n.safe(t.title,{before:p,after:a,...u.current()})),p+=u.move(a),m()),p+=u.move(")"),h(),p}function iD(t,e,n){return $w(t,n)?"<":"["}Yw.peek=sD;function Yw(t,e,n,i){const a=t.referenceType,o=n.enter("linkReference");let u=n.enter("label");const h=n.createTracker(i);let m=h.move("[");const p=n.containerPhrasing(t,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),u();const y=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=y,o(),a==="full"||!p||p!==b?m+=h.move(b+"]"):a==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function sD(){return"["}function vg(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function aD(t){const e=vg(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function lD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Qw(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function oD(t,e,n,i){const a=n.enter("list"),o=n.bulletCurrent;let u=t.ordered?lD(n):vg(n);const h=t.ordered?u==="."?")":".":aD(n);let m=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const y=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&y&&(!y.children||!y.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),Qw(n)===u&&y){let b=-1;for(;++b<t.children.length;){const _=t.children[b];if(_&&_.type==="listItem"&&_.children&&_.children[0]&&_.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=h),n.bulletCurrent=u;const p=n.containerFlow(t,i);return n.bulletLastUsed=u,n.bulletCurrent=o,a(),p}function uD(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function cD(t,e,n,i){const a=uD(n);let o=n.bulletCurrent||vg(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let u=o.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const h=n.createTracker(i);h.move(o+" ".repeat(u-o.length)),h.shift(u);const m=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,h.current()),y);return m(),p;function y(b,_,w){return _?(w?"":" ".repeat(u))+b:(w?o:o+" ".repeat(u-o.length))+b}}function fD(t,e,n,i){const a=n.enter("paragraph"),o=n.enter("phrasing"),u=n.containerPhrasing(t,i);return o(),a(),u}const hD=Uh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function dD(t,e,n,i){return(t.children.some(function(u){return hD(u)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function mD(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Xw.peek=pD;function Xw(t,e,n,i){const a=mD(n),o=n.enter("strong"),u=n.createTracker(i),h=u.move(a+a);let m=u.move(n.containerPhrasing(t,{after:a,before:h,...u.current()}));const p=m.charCodeAt(0),y=mh(i.before.charCodeAt(i.before.length-1),p,a);y.inside&&(m=Fu(p)+m.slice(1));const b=m.charCodeAt(m.length-1),_=mh(i.after.charCodeAt(0),b,a);_.inside&&(m=m.slice(0,-1)+Fu(b));const w=u.move(a+a);return o(),n.attentionEncodeSurroundingInfo={after:_.outside,before:y.outside},h+m+w}function pD(t,e,n){return n.options.strong||"*"}function gD(t,e,n,i){return n.safe(t.value,i)}function xD(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function yD(t,e,n){const i=(Qw(n)+(n.options.ruleSpaces?" ":"")).repeat(xD(n));return n.options.ruleSpaces?i.slice(0,-1):i}const Kw={blockquote:BR,break:Qv,code:YR,definition:XR,emphasis:Uw,hardBreak:Qv,heading:WR,html:Bw,image:qw,imageReference:Fw,inlineCode:Hw,link:Gw,linkReference:Yw,list:oD,listItem:cD,paragraph:fD,root:dD,strong:Xw,text:gD,thematicBreak:yD};function bD(){return{enter:{table:vD,tableData:Xv,tableHeader:Xv,tableRow:wD},exit:{codeText:ED,table:_D,tableData:bp,tableHeader:bp,tableRow:bp}}}function vD(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function _D(t){this.exit(t),this.data.inTable=void 0}function wD(t){this.enter({type:"tableRow",children:[]},t)}function bp(t){this.exit(t)}function Xv(t){this.enter({type:"tableCell",children:[]},t)}function ED(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,TD));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function TD(t,e){return e==="|"?e:t}function ND(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,a=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:_,table:u,tableCell:m,tableRow:h}};function u(w,S,V,z){return p(y(w,V,z),w.align)}function h(w,S,V,z){const F=b(w,V,z),B=p([F]);return B.slice(0,B.indexOf(`
`))}function m(w,S,V,z){const F=V.enter("tableCell"),B=V.enter("phrasing"),U=V.containerPhrasing(w,{...z,before:o,after:o});return B(),F(),U}function p(w,S){return zR(w,{align:S,alignDelimiters:i,padding:n,stringLength:a})}function y(w,S,V){const z=w.children;let F=-1;const B=[],U=S.enter("table");for(;++F<z.length;)B[F]=b(z[F],S,V);return U(),B}function b(w,S,V){const z=w.children;let F=-1;const B=[],U=S.enter("tableRow");for(;++F<z.length;)B[F]=m(z[F],w,S,V);return U(),B}function _(w,S,V){let z=Kw.inlineCode(w,S,V);return V.stack.includes("tableCell")&&(z=z.replace(/\|/g,"\\$&")),z}}function SD(){return{exit:{taskListCheckValueChecked:Kv,taskListCheckValueUnchecked:Kv,paragraph:CD}}}function AD(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:kD}}}function Kv(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function CD(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const a=e.children;let o=-1,u;for(;++o<a.length;){const h=a[o];if(h.type==="paragraph"){u=h;break}}u===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function kD(t,e,n,i){const a=t.children[0],o=typeof t.checked=="boolean"&&a&&a.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",h=n.createTracker(i);o&&h.move(u);let m=Kw.listItem(t,e,n,{...i,...h.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),m;function p(y){return y+u}}function jD(){return[oR(),kR(),IR(),bD(),SD()]}function RD(t){return{extensions:[uR(),jR(t),MR(),ND(t),AD()]}}const DD={tokenize:LD,partial:!0},Zw={tokenize:zD,partial:!0},Jw={tokenize:UD,partial:!0},Ww={tokenize:BD,partial:!0},ID={tokenize:qD,partial:!0},e4={name:"wwwAutolink",tokenize:VD,previous:n4},t4={name:"protocolAutolink",tokenize:PD,previous:r4},Xi={name:"emailAutolink",tokenize:OD,previous:i4},mi={};function MD(){return{text:mi}}let Ta=48;for(;Ta<123;)mi[Ta]=Xi,Ta++,Ta===58?Ta=65:Ta===91&&(Ta=97);mi[43]=Xi;mi[45]=Xi;mi[46]=Xi;mi[95]=Xi;mi[72]=[Xi,t4];mi[104]=[Xi,t4];mi[87]=[Xi,e4];mi[119]=[Xi,e4];function OD(t,e,n){const i=this;let a,o;return u;function u(b){return!n0(b)||!i4.call(i,i.previous)||_g(i.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(b))}function h(b){return n0(b)?(t.consume(b),h):b===64?(t.consume(b),m):n(b)}function m(b){return b===46?t.check(ID,y,p)(b):b===45||b===95||An(b)?(o=!0,t.consume(b),m):y(b)}function p(b){return t.consume(b),a=!0,m}function y(b){return o&&a&&Vn(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(b)):n(b)}}function VD(t,e,n){const i=this;return a;function a(u){return u!==87&&u!==119||!n4.call(i,i.previous)||_g(i.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(DD,t.attempt(Zw,t.attempt(Jw,o),n),n)(u))}function o(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function PD(t,e,n){const i=this;let a="",o=!1;return u;function u(b){return(b===72||b===104)&&r4.call(i,i.previous)&&!_g(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(b),t.consume(b),h):n(b)}function h(b){if(Vn(b)&&a.length<5)return a+=String.fromCodePoint(b),t.consume(b),h;if(b===58){const _=a.toLowerCase();if(_==="http"||_==="https")return t.consume(b),m}return n(b)}function m(b){return b===47?(t.consume(b),o?p:(o=!0,m)):n(b)}function p(b){return b===null||fh(b)||gt(b)||Oa(b)||Ph(b)?n(b):t.attempt(Zw,t.attempt(Jw,y),n)(b)}function y(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(b)}}function LD(t,e,n){let i=0;return a;function a(u){return(u===87||u===119)&&i<3?(i++,t.consume(u),a):u===46&&i===3?(t.consume(u),o):n(u)}function o(u){return u===null?n(u):e(u)}}function zD(t,e,n){let i,a,o;return u;function u(p){return p===46||p===95?t.check(Ww,m,h)(p):p===null||gt(p)||Oa(p)||p!==45&&Ph(p)?m(p):(o=!0,t.consume(p),u)}function h(p){return p===95?i=!0:(a=i,i=void 0),t.consume(p),u}function m(p){return a||i||!o?n(p):e(p)}}function UD(t,e){let n=0,i=0;return a;function a(u){return u===40?(n++,t.consume(u),a):u===41&&i<n?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(Ww,e,o)(u):u===null||gt(u)||Oa(u)?e(u):(t.consume(u),a)}function o(u){return u===41&&i++,t.consume(u),a}}function BD(t,e,n){return i;function i(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),i):h===38?(t.consume(h),o):h===93?(t.consume(h),a):h===60||h===null||gt(h)||Oa(h)?e(h):n(h)}function a(h){return h===null||h===40||h===91||gt(h)||Oa(h)?e(h):i(h)}function o(h){return Vn(h)?u(h):n(h)}function u(h){return h===59?(t.consume(h),i):Vn(h)?(t.consume(h),u):n(h)}}function qD(t,e,n){return i;function i(o){return t.consume(o),a}function a(o){return An(o)?n(o):e(o)}}function n4(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||gt(t)}function r4(t){return!Vn(t)}function i4(t){return!(t===47||n0(t))}function n0(t){return t===43||t===45||t===46||t===95||An(t)}function _g(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const FD={tokenize:ZD,partial:!0};function HD(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:QD,continuation:{tokenize:XD},exit:KD}},text:{91:{name:"gfmFootnoteCall",tokenize:YD},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:$D,resolveTo:GD}}}}function $D(t,e,n){const i=this;let a=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u;for(;a--;){const m=i.events[a][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return h;function h(m){if(!u||!u._balanced)return n(m);const p=Lr(i.sliceSerialize({start:u.end,end:i.now()}));return p.codePointAt(0)!==94||!o.includes(p.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function GD(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},h=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",o,e],["enter",u,e],["exit",u,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...h),t}function YD(t,e,n){const i=this,a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o=0,u;return h;function h(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),m}function m(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",p)}function p(b){if(o>999||b===93&&!u||b===null||b===91||gt(b))return n(b);if(b===93){t.exit("chunkString");const _=t.exit("gfmFootnoteCallString");return a.includes(Lr(i.sliceSerialize(_)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(b)}return gt(b)||(u=!0),o++,t.consume(b),b===92?y:p}function y(b){return b===91||b===92||b===93?(t.consume(b),o++,p):p(b)}}function QD(t,e,n){const i=this,a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,u=0,h;return m;function m(S){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(S){return S===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",y):n(S)}function y(S){if(u>999||S===93&&!h||S===null||S===91||gt(S))return n(S);if(S===93){t.exit("chunkString");const V=t.exit("gfmFootnoteDefinitionLabelString");return o=Lr(i.sliceSerialize(V)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),_}return gt(S)||(h=!0),u++,t.consume(S),S===92?b:y}function b(S){return S===91||S===92||S===93?(t.consume(S),u++,y):y(S)}function _(S){return S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),a.includes(o)||a.push(o),rt(t,w,"gfmFootnoteDefinitionWhitespace")):n(S)}function w(S){return e(S)}}function XD(t,e,n){return t.check(ic,e,t.attempt(FD,e,n))}function KD(t){t.exit("gfmFootnoteDefinition")}function ZD(t,e,n){const i=this;return rt(t,a,"gfmFootnoteDefinitionIndent",5);function a(o){const u=i.events[i.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(o):n(o)}}function JD(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:o,resolveAll:a};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function a(u,h){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let p=m;for(;p--;)if(u[p][0]==="exit"&&u[p][1].type==="strikethroughSequenceTemporary"&&u[p][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[p][1].end.offset-u[p][1].start.offset){u[m][1].type="strikethroughSequence",u[p][1].type="strikethroughSequence";const y={type:"strikethrough",start:Object.assign({},u[p][1].start),end:Object.assign({},u[m][1].end)},b={type:"strikethroughText",start:Object.assign({},u[p][1].end),end:Object.assign({},u[m][1].start)},_=[["enter",y,h],["enter",u[p][1],h],["exit",u[p][1],h],["enter",b,h]],w=h.parser.constructs.insideSpan.null;w&&cr(_,_.length,0,Lh(w,u.slice(p+1,m),h)),cr(_,_.length,0,[["exit",b,h],["enter",u[m][1],h],["exit",u[m][1],h],["exit",y,h]]),cr(u,p-1,m-p+3,_),m=p+_.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function o(u,h,m){const p=this.previous,y=this.events;let b=0;return _;function _(S){return p===126&&y[y.length-1][1].type!=="characterEscape"?m(S):(u.enter("strikethroughSequenceTemporary"),w(S))}function w(S){const V=Jl(p);if(S===126)return b>1?m(S):(u.consume(S),b++,w);if(b<2&&!n)return m(S);const z=u.exit("strikethroughSequenceTemporary"),F=Jl(S);return z._open=!F||F===2&&!!V,z._close=!V||V===2&&!!F,h(S)}}}class WD{constructor(){this.map=[]}add(e,n,i){e7(this,e,n,i)}consume(e){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let a=i.pop();for(;a;){for(const o of a)e.push(o);a=i.pop()}this.map.length=0}}function e7(t,e,n,i){let a=0;if(!(n===0&&i.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...i);return}a+=1}t.map.push([e,n,i])}}function t7(t,e){let n=!1;const i=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=i.length-1;i[o]=i[o]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function n7(){return{flow:{null:{name:"table",tokenize:r7,resolveAll:i7}}}}function r7(t,e,n){const i=this;let a=0,o=0,u;return h;function h(k){let I=i.events.length-1;for(;I>-1;){const ae=i.events[I][1].type;if(ae==="lineEnding"||ae==="linePrefix")I--;else break}const P=I>-1?i.events[I][1].type:null,A=P==="tableHead"||P==="tableRow"?L:m;return A===L&&i.parser.lazy[i.now().line]?n(k):A(k)}function m(k){return t.enter("tableHead"),t.enter("tableRow"),p(k)}function p(k){return k===124||(u=!0,o+=1),y(k)}function y(k){return k===null?n(k):Ie(k)?o>1?(o=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),w):n(k):Xe(k)?rt(t,y,"whitespace")(k):(o+=1,u&&(u=!1,a+=1),k===124?(t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),u=!0,y):(t.enter("data"),b(k)))}function b(k){return k===null||k===124||gt(k)?(t.exit("data"),y(k)):(t.consume(k),k===92?_:b)}function _(k){return k===92||k===124?(t.consume(k),b):b(k)}function w(k){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(k):(t.enter("tableDelimiterRow"),u=!1,Xe(k)?rt(t,S,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):S(k))}function S(k){return k===45||k===58?z(k):k===124?(u=!0,t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),V):q(k)}function V(k){return Xe(k)?rt(t,z,"whitespace")(k):z(k)}function z(k){return k===58?(o+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(k),t.exit("tableDelimiterMarker"),F):k===45?(o+=1,F(k)):k===null||Ie(k)?$(k):q(k)}function F(k){return k===45?(t.enter("tableDelimiterFiller"),B(k)):q(k)}function B(k){return k===45?(t.consume(k),B):k===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(k),t.exit("tableDelimiterMarker"),U):(t.exit("tableDelimiterFiller"),U(k))}function U(k){return Xe(k)?rt(t,$,"whitespace")(k):$(k)}function $(k){return k===124?S(k):k===null||Ie(k)?!u||a!==o?q(k):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(k)):q(k)}function q(k){return n(k)}function L(k){return t.enter("tableRow"),R(k)}function R(k){return k===124?(t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),R):k===null||Ie(k)?(t.exit("tableRow"),e(k)):Xe(k)?rt(t,R,"whitespace")(k):(t.enter("data"),C(k))}function C(k){return k===null||k===124||gt(k)?(t.exit("data"),R(k)):(t.consume(k),k===92?M:C)}function M(k){return k===92||k===124?(t.consume(k),C):C(k)}}function i7(t,e){let n=-1,i=!0,a=0,o=[0,0,0,0],u=[0,0,0,0],h=!1,m=0,p,y,b;const _=new WD;for(;++n<t.length;){const w=t[n],S=w[1];w[0]==="enter"?S.type==="tableHead"?(h=!1,m!==0&&(Zv(_,e,m,p,y),y=void 0,m=0),p={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},_.add(n,0,[["enter",p,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(i=!0,b=void 0,o=[0,0,0,0],u=[0,n+1,0,0],h&&(h=!1,y={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},_.add(n,0,[["enter",y,e]])),a=S.type==="tableDelimiterRow"?2:y?3:1):a&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(i=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],b=Pf(_,e,o,a,void 0,b),o=[0,0,0,0]),u[2]=n)):S.type==="tableCellDivider"&&(i?i=!1:(o[1]!==0&&(u[0]=u[1],b=Pf(_,e,o,a,void 0,b)),o=u,u=[o[1],n,0,0])):S.type==="tableHead"?(h=!0,m=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(m=n,o[1]!==0?(u[0]=u[1],b=Pf(_,e,o,a,n,b)):u[1]!==0&&(b=Pf(_,e,u,a,n,b)),a=0):a&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&Zv(_,e,m,p,y),_.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=t7(e.events,n))}return t}function Pf(t,e,n,i,a,o){const u=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(o.end=Object.assign({},Ul(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const m=Ul(e.events,n[1]);if(o={type:u,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const p=Ul(e.events,n[2]),y=Ul(e.events,n[3]),b={type:h,start:Object.assign({},p),end:Object.assign({},y)};if(t.add(n[2],0,[["enter",b,e]]),i!==2){const _=e.events[n[2]],w=e.events[n[3]];if(_[1].end=Object.assign({},w[1].end),_[1].type="chunkText",_[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,V=n[3]-n[2]-1;t.add(S,V,[])}}t.add(n[3]+1,0,[["exit",b,e]])}return a!==void 0&&(o.end=Object.assign({},Ul(e.events,a)),t.add(a,0,[["exit",o,e]]),o=void 0),o}function Zv(t,e,n,i,a){const o=[],u=Ul(e.events,n);a&&(a.end=Object.assign({},u),o.push(["exit",a,e])),i.end=Object.assign({},u),o.push(["exit",i,e]),t.add(n+1,0,o)}function Ul(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const s7={name:"tasklistCheck",tokenize:l7};function a7(){return{text:{91:s7}}}function l7(t,e,n){const i=this;return a;function a(m){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),o)}function o(m){return gt(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):n(m)}function h(m){return Ie(m)?e(m):Xe(m)?t.check({tokenize:o7},e,n)(m):n(m)}}function o7(t,e,n){return rt(t,i,"whitespace");function i(a){return a===null?n(a):e(a)}}function u7(t){return pw([MD(),HD(),JD(t),n7(),a7()])}const c7={};function oo(t){const e=this,n=t||c7,i=e.data(),a=i.micromarkExtensions||(i.micromarkExtensions=[]),o=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),u=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);a.push(u7(n)),o.push(jD()),u.push(RD(n))}function f7({notice:t,currentUser:e,isAdmin:n,isCoLeader:i,canManageNotices:a,onDelete:o,onManagePermissions:u,onEdit:h}){const[m,p]=ee.useState(!1),[y,b]=ee.useState(t.content),_=a,w=a,S=a,V=q=>q?(q.toDate?q.toDate():new Date(q)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",z=()=>t.createdByRoll==="2405225"?"admin":"co-leader",F=()=>{b(t.content),p(!0)},B=()=>{p(!1),b(t.content)},U=async()=>{if(!y.trim()){alert("Please enter content for the notice");return}await h(t.id,{content:y.trim()})&&p(!1)},$=z();return m?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Notice"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:U,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[f.jsx(La,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:B,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[f.jsx(Cn,{className:"w-4 h-4"}),"Cancel"]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notice Content (Markdown supported)"}),f.jsx("textarea",{value:y,onChange:q=>b(q.target.value),rows:6,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:`Enter your notice content here. You can use Markdown formatting:\r
\r
**Bold text**\r
*Italic text*\r
[Link text](https://example.com)\r
- List item\r
> Quote\r
\`code\``})]}),f.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:f.jsxs("p",{className:"text-sm text-blue-700",children:[f.jsx("strong",{children:"Tip:"})," Use Markdown formatting for rich text. Links will automatically open in new tabs."]})})]}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-2xl flex items-center justify-center",children:f.jsx(Da,{className:"w-5 h-5 text-blue-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-900",children:"Notice"}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[f.jsx(ci,{className:"w-3 h-3"}),f.jsxs("span",{children:["By ",t.createdBy]}),$==="admin"&&f.jsx(Zn,{className:"w-3 h-3 text-yellow-500",title:"Admin"}),$==="co-leader"&&t.createdByRoll!=="2405225"&&f.jsx(Qn,{className:"w-3 h-3 text-purple-500",title:"Co-Leader"})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-gray-100",children:t.isPublic?f.jsxs(f.Fragment,{children:[f.jsx(f0,{className:"w-3 h-3 text-green-600"}),f.jsx("span",{className:"text-green-700",children:"Public"})]}):f.jsxs(f.Fragment,{children:[f.jsx(Gt,{className:"w-3 h-3 text-blue-600"}),f.jsxs("span",{className:"text-blue-700",children:[t.allowedUsers?.length||0," users"]})]})}),f.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[f.jsx(Gu,{className:"w-3 h-3"}),f.jsx("span",{children:V(t.createdAt)})]}),w&&f.jsx("button",{onClick:F,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Notice",children:f.jsx(Pa,{className:"w-4 h-4"})}),S&&f.jsx("button",{onClick:u,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:f.jsx(za,{className:"w-4 h-4"})}),_&&f.jsx("button",{onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Notice",children:f.jsx(Hi,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"prose prose-sm max-w-none",children:f.jsx(lo,{remarkPlugins:[oo],components:{a:({href:q,children:L})=>f.jsx("a",{href:q,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:L}),p:({children:q})=>f.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:q}),h1:({children:q})=>f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:q}),h2:({children:q})=>f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:q}),h3:({children:q})=>f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:q}),ul:({children:q})=>f.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-3 space-y-1",children:q}),ol:({children:q})=>f.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-3 space-y-1",children:q}),li:({children:q})=>f.jsx("li",{className:"text-gray-700",children:q}),blockquote:({children:q})=>f.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 text-gray-700 italic mb-3",children:q}),code:({children:q,className:L})=>L?f.jsx("code",{className:"block bg-gray-100 text-gray-800 p-3 rounded text-sm font-mono whitespace-pre-wrap mb-3",children:q}):f.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:q}),strong:({children:q})=>f.jsx("strong",{className:"font-bold text-gray-900",children:q}),em:({children:q})=>f.jsx("em",{className:"italic text-gray-700",children:q})},children:t.content})}),a&&!t.isPublic&&t.allowedUsers?.length>0&&f.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:f.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[f.jsx(fi,{className:"w-4 h-4"}),f.jsxs("span",{children:["Visible to: ",t.allowedUsers.length," selected students"]})]})})]})}function h7({notice:t,currentUser:e,students:n,isAdmin:i,isCoLeader:a,canManageNotices:o,onDelete:u,onManagePermissions:h,onToggleItem:m,onEdit:p}){const[y,b]=ee.useState(!1),[_,w]=ee.useState(t.content),[S,V]=ee.useState(t.meta.items||[]),[z,F]=ee.useState(t.meta.isAnonymous||!1),[B,U]=ee.useState(null),$=o,q=o,L=o,R=t.meta.isAnonymous||!1,C=j=>j?(j.toDate?j.toDate():new Date(j)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",M=j=>{const Q=n.find(xe=>xe.rollNo===j);return Q?Q.name:j},k=j=>{if(R)return[];const Q=t.meta.items[j];return!Q.completedBy||Q.completedBy.length===0?[]:Q.completedBy.map(xe=>M(xe))},I=j=>{const Q=t.meta.items[j];return R?Q.anonymousCompletions||0:Q.completedBy?.length||0},P=j=>{if(R)return((t.meta.userCompletions||{})[e]||[]).includes(j);{const Q=t.meta.items[j];return Q.completedBy&&Q.completedBy.includes(e)}},A=()=>{const j=t.meta.items?.length||0;let Q=0;for(let xe=0;xe<j;xe++)P(xe)&&Q++;return{totalItems:j,completedItems:Q}},ae=j=>{R||U(B===j?null:j)},ge=()=>{w(t.content),V([...t.meta.items]),F(t.meta.isAnonymous||!1),b(!0)},X=()=>{b(!1),w(t.content),V([...t.meta.items]),F(t.meta.isAnonymous||!1)},fe=async()=>{if(!_.trim()){alert("Please enter content for the checklist");return}if(S.length===0||S.every(Q=>!Q.text.trim())){alert("Please add at least one checklist item");return}await p(t.id,{content:_.trim(),meta:{...t.meta,items:S.filter(Q=>Q.text.trim()),isAnonymous:z}})&&b(!1)},ve=()=>{V([...S,{text:"",completedBy:[],anonymousCompletions:0}])},Ae=(j,Q)=>{const xe=[...S];xe[j]={...xe[j],text:Q},V(xe)},N=j=>{if(S.length<=1){alert("Checklist must have at least 1 item");return}V(S.filter((Q,xe)=>xe!==j))},{totalItems:le,completedItems:te}=A();return y?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Checklist"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:fe,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[f.jsx(La,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:X,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[f.jsx(Cn,{className:"w-4 h-4"}),"Cancel"]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Description (Markdown supported)"}),f.jsx("textarea",{value:_,onChange:j=>w(j.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 font-mono text-sm",placeholder:"Enter checklist description. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),f.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous completion:"}),f.jsxs("button",{type:"button",onClick:()=>F(!z),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${z?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[z?f.jsx(Rs,{className:"w-4 h-4"}):f.jsx(Ra,{className:"w-4 h-4"}),f.jsx("span",{className:"text-xs font-medium",children:z?"Anonymous":"Show names"})]})]}),f.jsxs("div",{className:"space-y-2 mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Items"}),S.map((j,Q)=>f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:j.text,onChange:xe=>Ae(Q,xe.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:`Item ${Q+1}`}),S.length>1&&f.jsx("button",{onClick:()=>N(Q),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:f.jsx(Cn,{className:"w-4 h-4"})})]},Q)),f.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-4 py-2 text-green-600 hover:bg-green-100 rounded-xl transition-colors",children:[f.jsx(Bi,{className:"w-4 h-4"}),"Add Item"]})]})]}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-2xl flex items-center justify-center",children:f.jsx(h0,{className:"w-5 h-5 text-green-600"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-bold text-gray-900",children:"Checklist"}),R&&f.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:"Anonymous"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[f.jsx(ci,{className:"w-3 h-3"}),f.jsxs("span",{children:["By ",t.createdBy]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[te,"/",le," completed"]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[f.jsx(Gu,{className:"w-3 h-3"}),f.jsx("span",{children:C(t.createdAt)})]}),q&&f.jsx("button",{onClick:ge,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Checklist",children:f.jsx(Pa,{className:"w-4 h-4"})}),L&&f.jsx("button",{onClick:h,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:f.jsx(za,{className:"w-4 h-4"})}),$&&f.jsx("button",{onClick:()=>u(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Checklist",children:f.jsx(Hi,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:f.jsx(lo,{remarkPlugins:[oo],components:{a:({href:j,children:Q})=>f.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:Q}),p:({children:j})=>f.jsx("p",{className:"text-gray-700 leading-relaxed",children:j}),strong:({children:j})=>f.jsx("strong",{className:"font-bold text-gray-900",children:j}),em:({children:j})=>f.jsx("em",{className:"italic",children:j}),ul:({children:j})=>f.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:j}),ol:({children:j})=>f.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:j}),code:({children:j,className:Q})=>Q?f.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:j}):f.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:j})},children:t.content})}),f.jsx("div",{className:"space-y-3",children:t.meta.items?.map((j,Q)=>{const xe=P(Q),ie=k(Q),be=I(Q);return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:`
                  flex items-center justify-between p-3 rounded-xl border-2 transition-all cursor-pointer
                  ${xe?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 hover:border-green-300"}
                `,onClick:()=>m(Q),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`
                    w-6 h-6 rounded-lg border-2 flex items-center justify-center
                    ${xe?"bg-green-500 border-green-500 text-white":"border-gray-300"}
                  `,children:xe&&f.jsx($u,{className:"w-4 h-4"})}),f.jsx("span",{className:`${xe?"text-green-700 font-medium":"text-gray-700"}`,children:j.text})]}),be>0&&f.jsxs("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full",children:[be," completed"]})]}),!R&&ie.length>0&&f.jsxs("div",{className:"ml-9",children:[f.jsxs("button",{onClick:()=>ae(Q),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-800 transition-colors",children:[f.jsx(fi,{className:"w-4 h-4"}),f.jsxs("span",{children:[ie.length," completed by"]}),B===Q?f.jsx(c0,{className:"w-4 h-4"}):f.jsx(u0,{className:"w-4 h-4"})]}),B===Q&&f.jsx("div",{className:"mt-2 p-3 bg-green-50 rounded-lg border border-green-200",children:f.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map((Ne,wt)=>f.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:Ne},wt))})})]}),R&&be>0&&f.jsx("div",{className:"ml-9",children:f.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[f.jsx(Rs,{className:"w-4 h-4"}),f.jsxs("span",{children:[be," anonymous completion",be>1?"s":""]})]})})]},Q)})})]})}function d7({notice:t,currentUser:e,students:n,isAdmin:i,isCoLeader:a,canManageNotices:o,onDelete:u,onManagePermissions:h,onVote:m,onEdit:p}){const[y,b]=ee.useState([]),[_,w]=ee.useState(!1),[S,V]=ee.useState(t.content),[z,F]=ee.useState(t.meta.options||[]),[B,U]=ee.useState(t.meta.allowMultiple||!1),[$,q]=ee.useState(t.meta.isAnonymous||!1),[L,R]=ee.useState(null),C=o,M=o,k=o,I=t.meta.isAnonymous||!1;ee.useEffect(()=>{if(t?.meta?.options)if(I){const be=(t.meta.userVotes||{})[e]||[];b(be)}else{const ie=[];t.meta.options.forEach((be,Ne)=>{be.votes&&be.votes.includes(e)&&ie.push(Ne)}),b(ie)}},[t,e,I]);const P=ie=>ie?(ie.toDate?ie.toDate():new Date(ie)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",A=()=>I?t.meta.options?.reduce((ie,be)=>ie+(be.anonymousVotes||0),0)||0:t.meta.options?.reduce((ie,be)=>ie+(be.votes?.length||0),0)||0,ae=ie=>{const be=t.meta.options[ie];return I?be.anonymousVotes||0:be.votes?.length||0},ge=ie=>{const be=n.find(Ne=>Ne.rollNo===ie);return be?be.name:ie},X=ie=>{if(I)return[];const be=t.meta.options[ie];return!be.votes||be.votes.length===0?[]:be.votes.map(Ne=>ge(Ne))},fe=ie=>{let be;t.meta.allowMultiple?y.includes(ie)?be=y.filter(Ne=>Ne!==ie):be=[...y,ie]:be=y.includes(ie)?[]:[ie],b(be),m(be,e)},ve=ie=>{I||R(L===ie?null:ie)},Ae=()=>{V(t.content),F([...t.meta.options]),U(t.meta.allowMultiple||!1),q(t.meta.isAnonymous||!1),w(!0)},N=()=>{w(!1),V(t.content),F([...t.meta.options]),U(t.meta.allowMultiple||!1),q(t.meta.isAnonymous||!1)},le=async()=>{if(!S.trim()){alert("Please enter a question");return}if(z.length<2||z.some(be=>!be.text.trim())){alert("Please add at least 2 options with text");return}await p(t.id,{content:S.trim(),meta:{...t.meta,options:z,allowMultiple:B,isAnonymous:$}})&&w(!1)},te=()=>{F([...z,{text:"",votes:[],anonymousVotes:0}])},j=(ie,be)=>{const Ne=[...z];Ne[ie]={...Ne[ie],text:be},F(Ne)},Q=ie=>{if(z.length<=2){alert("Poll must have at least 2 options");return}F(z.filter((be,Ne)=>Ne!==ie))},xe=A();return _?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Poll"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:le,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[f.jsx(La,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:N,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[f.jsx(Cn,{className:"w-4 h-4"}),"Cancel"]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Poll Question (Markdown supported)"}),f.jsx("textarea",{value:S,onChange:ie=>V(ie.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter your poll question. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Multiple selections:"}),f.jsxs("button",{type:"button",onClick:()=>U(!B),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${B?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[B?f.jsx(r2,{className:"w-4 h-4"}):f.jsx(n2,{className:"w-4 h-4"}),f.jsx("span",{className:"text-xs font-medium",children:B?"Enabled":"Disabled"})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous voting:"}),f.jsxs("button",{type:"button",onClick:()=>q(!$),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${$?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[$?f.jsx(Rs,{className:"w-4 h-4"}):f.jsx(Ra,{className:"w-4 h-4"}),f.jsx("span",{className:"text-xs font-medium",children:$?"Anonymous":"Show names"})]})]})]}),f.jsxs("div",{className:"space-y-2 mb-4",children:[z.map((ie,be)=>f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:ie.text,onChange:Ne=>j(be,Ne.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Option ${be+1}`}),z.length>2&&f.jsx("button",{onClick:()=>Q(be),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:f.jsx(Cn,{className:"w-4 h-4"})})]},be)),f.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[f.jsx(Bi,{className:"w-4 h-4"}),"Add Option"]})]})]}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-2xl flex items-center justify-center",children:f.jsx(o0,{className:"w-5 h-5 text-purple-600"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-bold text-gray-900",children:"Poll"}),t.meta.allowMultiple&&f.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:"Multi-select"}),I&&f.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:"Anonymous"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[f.jsx(ci,{className:"w-3 h-3"}),f.jsxs("span",{children:["By ",t.createdBy]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[xe," votes"]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[f.jsx(Gu,{className:"w-3 h-3"}),f.jsx("span",{children:P(t.createdAt)})]}),M&&f.jsx("button",{onClick:Ae,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Poll",children:f.jsx(Pa,{className:"w-4 h-4"})}),k&&f.jsx("button",{onClick:h,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:f.jsx(za,{className:"w-4 h-4"})}),C&&f.jsx("button",{onClick:()=>u(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Poll",children:f.jsx(Hi,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:f.jsx(lo,{remarkPlugins:[oo],components:{a:({href:ie,children:be})=>f.jsx("a",{href:ie,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:be}),p:({children:ie})=>f.jsx("p",{className:"text-gray-700 leading-relaxed font-medium",children:ie}),strong:({children:ie})=>f.jsx("strong",{className:"font-bold text-gray-900",children:ie}),em:({children:ie})=>f.jsx("em",{className:"italic",children:ie}),code:({children:ie,className:be})=>be?f.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:ie}):f.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:ie})},children:t.content})}),f.jsx("div",{className:"space-y-3",children:t.meta.options?.map((ie,be)=>{const Ne=ae(be),wt=xe>0?Ne/xe*100:0,jt=y.includes(be),Et=X(be);return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>fe(be),className:`
                  w-full p-3 rounded-xl border-2 transition-all text-left
                  ${jt?"bg-purple-50 border-purple-300":"bg-gray-50 border-gray-200 hover:border-purple-300"}
                `,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:`font-medium ${jt?"text-purple-700":"text-gray-700"}`,children:ie.text}),f.jsxs("span",{className:"text-sm text-gray-600",children:[Ne," (",wt.toFixed(1),"%)"]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:`h-2 rounded-full transition-all ${jt?"bg-purple-500":"bg-gray-400"}`,style:{width:`${wt}%`}})})]}),!I&&Et.length>0&&f.jsxs("div",{className:"ml-4",children:[f.jsxs("button",{onClick:()=>ve(be),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-800 transition-colors",children:[f.jsx(fi,{className:"w-4 h-4"}),f.jsxs("span",{children:[Et.length," voter",Et.length>1?"s":""]}),L===be?f.jsx(c0,{className:"w-4 h-4"}):f.jsx(u0,{className:"w-4 h-4"})]}),L===be&&f.jsx("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:f.jsx("div",{className:"flex flex-wrap gap-2",children:Et.map((Wn,jn)=>f.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:Wn},jn))})})]}),I&&Ne>0&&f.jsx("div",{className:"ml-4",children:f.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[f.jsx(Rs,{className:"w-4 h-4"}),f.jsxs("span",{children:[Ne," anonymous vote",Ne>1?"s":""]})]})})]},be)})}),y.length>0&&f.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:f.jsx("div",{className:"text-sm text-purple-700 text-center",children:t.meta.allowMultiple?f.jsxs(f.Fragment,{children:["You voted for: ",f.jsxs("strong",{children:[y.length," option",y.length>1?"s":""]})]}):f.jsxs(f.Fragment,{children:["You voted for: ",f.jsx("strong",{children:t.meta.options[y[0]]?.text})]})})})]})}function m7({notice:t,currentUser:e,isAdmin:n,isCoLeader:i,canManageNotices:a,onDelete:o,onManagePermissions:u,onEdit:h}){const[m,p]=ee.useState(!1),[y,b]=ee.useState(t.content),[_,w]=ee.useState(t.meta.reminderDate),S=a,V=a,z=a,F=R=>R?(R.toDate?R.toDate():new Date(R)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",B=R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",U=()=>t.meta.reminderDate?new Date(t.meta.reminderDate)<new Date:!1,$=()=>{b(t.content),w(t.meta.reminderDate),p(!0)},q=()=>{p(!1),b(t.content),w(t.meta.reminderDate)},L=async()=>{if(!y.trim()){alert("Please enter content for the reminder");return}if(!_){alert("Please set a reminder date");return}await h(t.id,{content:y.trim(),meta:{...t.meta,reminderDate:_}})&&p(!1)};return m?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Reminder"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:L,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[f.jsx(La,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:q,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[f.jsx(Cn,{className:"w-4 h-4"}),"Cancel"]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Content (Markdown supported)"}),f.jsx("textarea",{value:y,onChange:R=>b(R.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 font-mono text-sm",placeholder:"Enter reminder content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Date & Time"}),f.jsx("input",{type:"datetime-local",value:_,onChange:R=>w(R.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",min:new Date().toISOString().slice(0,16)})]})]}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${U()?"bg-red-100":"bg-orange-100"}`,children:f.jsx(Yf,{className:`w-5 h-5 ${U()?"text-red-600":"text-orange-600"}`})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-bold text-gray-900",children:"Reminder"}),U()&&f.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Past Due"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[f.jsx(ci,{className:"w-3 h-3"}),f.jsxs("span",{children:["By ",t.createdBy]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[f.jsx(Gu,{className:"w-3 h-3"}),f.jsx("span",{children:F(t.createdAt)})]}),V&&f.jsx("button",{onClick:$,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Reminder",children:f.jsx(Pa,{className:"w-4 h-4"})}),z&&f.jsx("button",{onClick:u,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:f.jsx(za,{className:"w-4 h-4"})}),S&&f.jsx("button",{onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Reminder",children:f.jsx(Hi,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:f.jsx(lo,{remarkPlugins:[oo],components:{a:({href:R,children:C})=>f.jsx("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:C}),p:({children:R})=>f.jsx("p",{className:"text-gray-700 leading-relaxed",children:R}),strong:({children:R})=>f.jsx("strong",{className:"font-bold text-gray-900",children:R}),em:({children:R})=>f.jsx("em",{className:"italic",children:R}),ul:({children:R})=>f.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:R}),ol:({children:R})=>f.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:R}),code:({children:R,className:C})=>C?f.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:R}):f.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:R})},children:t.content})}),f.jsx("div",{className:`p-4 rounded-xl border-2 ${U()?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Yf,{className:`w-4 h-4 ${U()?"text-red-600":"text-orange-600"}`}),f.jsx("span",{className:`text-sm font-medium ${U()?"text-red-700":"text-orange-700"}`,children:U()?"Was due:":"Reminder set for:"}),f.jsx("span",{className:`text-sm font-bold ${U()?"text-red-800":"text-orange-800"}`,children:B(t.meta.reminderDate)})]})})]})}function p7({notice:t,currentUser:e,students:n,isAdmin:i,isCoLeader:a,canManageNotices:o,onDelete:u,onManagePermissions:h,onToggle:m,onEdit:p}){const[y,b]=ee.useState(!1),[_,w]=ee.useState(t.content),[S,V]=ee.useState(t.meta.dueDate),z=o,F=o,B=o,U=A=>A?(A.toDate?A.toDate():new Date(A)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",$=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",q=A=>{const ae=n.find(ge=>ge.rollNo===A);return ae?ae.name:A},L=t.meta.completedBy&&t.meta.completedBy.includes(e),R=t.meta.completedBy?.length||0,C=t.meta.completedBy?.map(A=>q(A))||[],M=()=>t.meta.dueDate?new Date(t.meta.dueDate)<new Date:!1,k=()=>{w(t.content),V(t.meta.dueDate),b(!0)},I=()=>{b(!1),w(t.content),V(t.meta.dueDate)},P=async()=>{if(!_.trim()){alert("Please enter content for the todo");return}if(!S){alert("Please set a due date");return}await p(t.id,{content:_.trim(),meta:{...t.meta,dueDate:S}})&&b(!1)};return y?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Todo"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:P,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[f.jsx(La,{className:"w-4 h-4"}),"Save"]}),f.jsxs("button",{onClick:I,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[f.jsx(Cn,{className:"w-4 h-4"}),"Cancel"]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Todo Content (Markdown supported)"}),f.jsx("textarea",{value:_,onChange:A=>w(A.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Enter todo content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date & Time"}),f.jsx("input",{type:"datetime-local",value:S,onChange:A=>V(A.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",min:new Date().toISOString().slice(0,16)})]})]}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${L?"bg-green-100":M()?"bg-red-100":"bg-indigo-100"}`,children:f.jsx($l,{className:`w-5 h-5 ${L?"text-green-600":M()?"text-red-600":"text-indigo-600"}`})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-bold text-gray-900",children:"Todo"}),L&&f.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Completed"}),!L&&M()&&f.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Past Due"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[f.jsx(ci,{className:"w-3 h-3"}),f.jsxs("span",{children:["By ",t.createdBy]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[R," completed"]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[f.jsx(Gu,{className:"w-3 h-3"}),f.jsx("span",{children:U(t.createdAt)})]}),F&&f.jsx("button",{onClick:k,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Todo",children:f.jsx(Pa,{className:"w-4 h-4"})}),B&&f.jsx("button",{onClick:h,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:f.jsx(za,{className:"w-4 h-4"})}),z&&f.jsx("button",{onClick:()=>u(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Todo",children:f.jsx(Hi,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:f.jsx(lo,{remarkPlugins:[oo],components:{a:({href:A,children:ae})=>f.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:ae}),p:({children:A})=>f.jsx("p",{className:"text-gray-700 leading-relaxed",children:A}),strong:({children:A})=>f.jsx("strong",{className:"font-bold text-gray-900",children:A}),em:({children:A})=>f.jsx("em",{className:"italic",children:A}),ul:({children:A})=>f.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:A}),ol:({children:A})=>f.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:A}),code:({children:A,className:ae})=>ae?f.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:A}):f.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:A})},children:t.content})}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:m,className:`
            w-full flex items-center justify-center gap-3 p-3 rounded-xl border-2 transition-all
            ${L?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 hover:border-indigo-300 text-gray-700"}
          `,children:[f.jsx("div",{className:`
            w-6 h-6 rounded-lg border-2 flex items-center justify-center
            ${L?"bg-green-500 border-green-500 text-white":"border-gray-300"}
          `,children:L&&f.jsx($u,{className:"w-4 h-4"})}),f.jsx("span",{className:"font-medium",children:L?"Mark as Incomplete":"Mark as Complete"})]}),f.jsx("div",{className:`p-3 rounded-xl border-2 ${M()&&!L?"bg-red-50 border-red-200":L?"bg-green-50 border-green-200":"bg-indigo-50 border-indigo-200"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx($l,{className:`w-4 h-4 ${M()&&!L?"text-red-600":L?"text-green-600":"text-indigo-600"}`}),f.jsx("span",{className:`text-sm font-medium ${M()&&!L?"text-red-700":L?"text-green-700":"text-indigo-700"}`,children:M()&&!L?"Was due:":"Due:"}),f.jsx("span",{className:`text-sm font-bold ${M()&&!L?"text-red-800":L?"text-green-800":"text-indigo-800"}`,children:$(t.meta.dueDate)})]})}),C.length>0&&f.jsxs("div",{className:"p-3 bg-green-50 rounded-xl border border-green-200",children:[f.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"Completed by:"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((A,ae)=>f.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:A},ae))})]})]})]})}function g7({onSubmit:t,onCancel:e,isLoading:n,students:i}){const[a,o]=ee.useState("notice"),[u,h]=ee.useState(""),[m,p]=ee.useState({}),[y,b]=ee.useState(!0),[_,w]=ee.useState([]),S=[{id:"notice",label:"Simple Notice",icon:Da,description:"Basic announcement or information"},{id:"checklist",label:"Checklist",icon:h0,description:"List of items to be checked off"},{id:"poll",label:"Poll",icon:o0,description:"Survey with voting options"},{id:"reminder",label:"Reminder",icon:Yf,description:"Time-based reminder notification"},{id:"todo",label:"Todo",icon:$l,description:"Task with due date and completion tracking"}],V=i.filter(A=>A.rollNo!==Ve.rollNo),z=A=>{switch(o(A),p({}),A){case"checklist":p({items:[{text:""}],isAnonymous:!1});break;case"poll":p({options:[{text:""},{text:""}],allowMultiple:!1,isAnonymous:!1});break;case"reminder":p({reminderDate:""});break;case"todo":p({dueDate:"",completedBy:[]});break;default:p({})}},F=A=>{_.includes(A)?w(_.filter(ae=>ae!==A)):w([..._,A])},B=()=>{_.length===V.length?w([]):w(V.map(A=>A.rollNo))},U=A=>{if(A.preventDefault(),!u.trim()){alert("Please enter content for the notice");return}if(!y&&_.length===0){alert("Please select users or make the notice public");return}if(a==="checklist"&&(!m.items||m.items.length===0||m.items.every(ae=>!ae.text.trim()))){alert("Please add at least one checklist item");return}if(a==="poll"&&(!m.options||m.options.length<2||m.options.some(ae=>!ae.text.trim()))){alert("Please add at least 2 poll options with text");return}if(a==="reminder"&&!m.reminderDate){alert("Please set a reminder date");return}if(a==="todo"&&!m.dueDate){alert("Please set a due date for the todo");return}t({type:a,content:u.trim(),meta:m,allowedUsers:y?[]:_,isPublic:y})},$=()=>{p({...m,items:[...m.items||[],{text:""}]})},q=(A,ae)=>{const ge=[...m.items];ge[A]={text:ae,completedBy:[]},p({...m,items:ge})},L=A=>{const ae=m.items.filter((ge,X)=>X!==A);p({...m,items:ae})},R=()=>{p({...m,options:[...m.options||[],{text:"",votes:[]}]})},C=(A,ae)=>{const ge=[...m.options];ge[A]={text:ae,votes:[]},p({...m,options:ge})},M=A=>{if(m.options.length<=2){alert("Poll must have at least 2 options");return}const ae=m.options.filter((ge,X)=>X!==A);p({...m,options:ae})},k=()=>{p({...m,allowMultiple:!m.allowMultiple})},I=()=>{p({...m,isAnonymous:!m.isAnonymous})},P=()=>{p({...m,isAnonymous:!m.isAnonymous})};return f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 border border-gray-100 max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Notice"}),f.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:f.jsx(Cn,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:U,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Notice Type"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:S.map(A=>f.jsxs("button",{type:"button",onClick:()=>z(A.id),className:`
                  p-4 rounded-xl border-2 transition-all text-left
                  ${a===A.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}
                `,children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx(A.icon,{className:`w-5 h-5 ${a===A.id?"text-blue-600":"text-gray-600"}`}),f.jsx("span",{className:"font-medium text-gray-900",children:A.label})]}),f.jsx("p",{className:"text-xs text-gray-600",children:A.description})]},A.id))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:a==="poll"?"Poll Question":"Content"}),f.jsx("textarea",{value:u,onChange:A=>h(A.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:a==="poll"?"What question would you like to ask?":a==="reminder"?"What should people be reminded about?":a==="todo"?"What task needs to be completed?":"Enter your notice content...",required:!0})]}),a==="checklist"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Checklist Items"}),f.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous completion:"}),f.jsxs("button",{type:"button",onClick:P,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${m.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[m.isAnonymous?f.jsx(Rs,{className:"w-4 h-4"}):f.jsx(Ra,{className:"w-4 h-4"}),f.jsx("span",{className:"text-xs font-medium",children:m.isAnonymous?"Anonymous":"Show names"})]})]}),f.jsxs("div",{className:"space-y-2",children:[m.items?.map((A,ae)=>f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:A.text,onChange:ge=>q(ae,ge.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Item ${ae+1}`}),m.items.length>1&&f.jsx("button",{type:"button",onClick:()=>L(ae),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:f.jsx(Hi,{className:"w-4 h-4"})})]},ae)),f.jsxs("button",{type:"button",onClick:$,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[f.jsx(Bi,{className:"w-4 h-4"}),"Add Item"]})]})]}),a==="poll"&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Poll Options"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"Multiple selections:"}),f.jsxs("button",{type:"button",onClick:k,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${m.allowMultiple?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[m.allowMultiple?f.jsx(r2,{className:"w-4 h-4"}):f.jsx(n2,{className:"w-4 h-4"}),f.jsx("span",{className:"text-xs font-medium",children:m.allowMultiple?"Multi-select":"Single choice"})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous voting:"}),f.jsxs("button",{type:"button",onClick:I,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${m.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[m.isAnonymous?f.jsx(Rs,{className:"w-4 h-4"}):f.jsx(Ra,{className:"w-4 h-4"}),f.jsx("span",{className:"text-xs font-medium",children:m.isAnonymous?"Anonymous":"Show names"})]})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[m.options?.map((A,ae)=>f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:A.text,onChange:ge=>C(ae,ge.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Option ${ae+1}`}),m.options.length>2&&f.jsx("button",{type:"button",onClick:()=>M(ae),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:f.jsx(Hi,{className:"w-4 h-4"})})]},ae)),f.jsxs("button",{type:"button",onClick:R,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[f.jsx(Bi,{className:"w-4 h-4"}),"Add Option"]})]})]}),a==="reminder"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reminder Date & Time"}),f.jsx("input",{type:"datetime-local",value:m.reminderDate,onChange:A=>p({...m,reminderDate:A.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().slice(0,16)})]}),a==="todo"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Due Date & Time"}),f.jsx("input",{type:"datetime-local",value:m.dueDate,onChange:A=>p({...m,dueDate:A.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().slice(0,16)})]}),f.jsxs("div",{className:"border-t pt-6",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Who can see this notice?"}),f.jsx("div",{className:"mb-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"visibility",checked:y,onChange:()=>b(!0),className:"w-4 h-4 text-blue-600"}),f.jsx(f0,{className:"w-4 h-4 text-green-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Public (Everyone can see)"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"visibility",checked:!y,onChange:()=>b(!1),className:"w-4 h-4 text-blue-600"}),f.jsx(Gt,{className:"w-4 h-4 text-blue-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Private (Selected users only)"})]})]})}),!y&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select Students:"}),f.jsx("button",{type:"button",onClick:B,className:"text-sm text-blue-600 hover:text-blue-700",children:_.length===V.length?"Deselect All":"Select All"})]}),f.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:V.map(A=>f.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:_.includes(A.rollNo),onChange:()=>F(A.rollNo),className:"w-4 h-4 text-blue-600"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(fi,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-sm font-medium text-gray-900",children:A.name}),f.jsxs("span",{className:"text-xs text-gray-500",children:["(",A.rollNo,")"]})]})]},A.rollNo))}),_.length>0&&f.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[_.length," student",_.length>1?"s":""," selected"]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"submit",disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n?f.jsxs(f.Fragment,{children:[f.jsx(Nn,{className:"w-4 h-4 animate-spin"}),f.jsx("span",{children:"Creating..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(Bi,{className:"w-4 h-4"}),f.jsx("span",{children:"Create Notice"})]})}),f.jsx("button",{type:"button",onClick:e,disabled:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function x7({notice:t,students:e,onUpdate:n,onCancel:i}){const[a,o]=ee.useState(t.isPublic||!1),[u,h]=ee.useState(t.allowedUsers||[]),[m,p]=ee.useState(!1),y=e.filter(S=>S.rollNo!==Ve.rollNo);ee.useEffect(()=>{o(t.isPublic||!1),h(t.allowedUsers||[])},[t]);const b=S=>{u.includes(S)?h(u.filter(V=>V!==S)):h([...u,S])},_=()=>{u.length===y.length?h([]):h(y.map(S=>S.rollNo))},w=async S=>{if(S.preventDefault(),!a&&u.length===0){alert("Please select users or make the notice public");return}p(!0);try{await n(a?[]:u,a)}finally{p(!1)}};return f.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-6 border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Permissions"}),f.jsx("button",{onClick:i,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:f.jsx(Cn,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[f.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["Notice: ",t.type]}),f.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.content})]}),f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Visibility Settings"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[f.jsx("input",{type:"radio",name:"visibility",checked:a,onChange:()=>o(!0),className:"w-4 h-4 text-blue-600"}),f.jsx(f0,{className:"w-4 h-4 text-green-600"}),f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Public"}),f.jsx("p",{className:"text-xs text-gray-600",children:"Everyone can see this notice"})]})]}),f.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[f.jsx("input",{type:"radio",name:"visibility",checked:!a,onChange:()=>o(!1),className:"w-4 h-4 text-blue-600"}),f.jsx(Gt,{className:"w-4 h-4 text-blue-600"}),f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Private"}),f.jsx("p",{className:"text-xs text-gray-600",children:"Only selected users can see"})]})]})]})]}),!a&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Select Students:"}),f.jsx("button",{type:"button",onClick:_,className:"text-sm text-blue-600 hover:text-blue-700",children:u.length===y.length?"Deselect All":"Select All"})]}),f.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:y.map(S=>f.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:u.includes(S.rollNo),onChange:()=>b(S.rollNo),className:"w-4 h-4 text-blue-600"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(fi,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.name}),f.jsxs("span",{className:"text-xs text-gray-500",children:["(",S.rollNo,")"]})]})]},S.rollNo))}),u.length>0&&f.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[u.length," student",u.length>1?"s":""," selected"]})]}),f.jsx("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-200",children:f.jsxs("p",{className:"text-sm text-blue-700",children:[f.jsx("strong",{children:"Current:"})," ",t.isPublic?"Public":`Private (${t.allowedUsers?.length||0} users)`]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"submit",disabled:m,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 font-medium",children:m?f.jsxs(f.Fragment,{children:[f.jsx(Nn,{className:"w-4 h-4 animate-spin"}),f.jsx("span",{children:"Saving..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(La,{className:"w-4 h-4"}),f.jsx("span",{children:"Update"})]})}),f.jsx("button",{type:"button",onClick:i,disabled:m,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function s4({open:t,title:e,message:n,confirmText:i="Confirm",cancelText:a="Cancel",confirmColor:o="red",onConfirm:u,onCancel:h,icon:m="warning"}){if(!t)return null;const p=()=>{switch(m){case"warning":return f.jsx(zf,{className:"w-12 h-12 text-orange-500"});case"success":return f.jsx(gh,{className:"w-12 h-12 text-green-500"});case"danger":return f.jsx(zf,{className:"w-12 h-12 text-red-500"});default:return f.jsx(zf,{className:"w-12 h-12 text-orange-500"})}},y=()=>{switch(o){case"red":return"bg-red-600 hover:bg-red-700 text-white";case"green":return"bg-green-600 hover:bg-green-700 text-white";case"blue":return"bg-blue-600 hover:bg-blue-700 text-white";case"orange":return"bg-orange-600 hover:bg-orange-700 text-white";default:return"bg-red-600 hover:bg-red-700 text-white"}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out scale-100",children:[f.jsxs("div",{className:"relative p-6 pb-4",children:[f.jsx("button",{onClick:h,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:f.jsx(Cn,{className:"w-4 h-4"})}),f.jsx("div",{className:"flex items-center justify-center mb-4",children:f.jsx("div",{className:"p-3 rounded-full bg-gray-50",children:p()})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:e}),f.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:n})]}),f.jsx("div",{className:"px-6 pb-6",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:h,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:a}),f.jsx("button",{onClick:u,className:`flex-1 px-4 py-3 rounded-xl transition-colors font-medium ${y()}`,children:i})]})})]})})}function a4(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=a4(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function ja(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=a4(t))&&(i&&(i+=" "),i+=e);return i}function y7(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}y7(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ac=t=>typeof t=="number"&&!isNaN(t),Va=t=>typeof t=="string",Qi=t=>typeof t=="function",b7=t=>Va(t)||ac(t),r0=t=>Va(t)||Qi(t)?t:null,v7=(t,e)=>t===!1||ac(t)&&t>0?t:e,i0=t=>ee.isValidElement(t)||Va(t)||Qi(t)||ac(t);function _7(t,e,n=300){let{scrollHeight:i,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function w7({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:o,position:u,preventExitTransition:h,done:m,nodeRef:p,isIn:y,playToast:b}){let _=n?`${t}--${u}`:t,w=n?`${e}--${u}`:e,S=ee.useRef(0);return ee.useLayoutEffect(()=>{let V=p.current,z=_.split(" "),F=B=>{B.target===p.current&&(b(),V.removeEventListener("animationend",F),V.removeEventListener("animationcancel",F),S.current===0&&B.type!=="animationcancel"&&V.classList.remove(...z))};V.classList.add(...z),V.addEventListener("animationend",F),V.addEventListener("animationcancel",F)},[]),ee.useEffect(()=>{let V=p.current,z=()=>{V.removeEventListener("animationend",z),i?_7(V,m,a):m()};y||(h?z():(S.current=1,V.className+=` ${w}`,V.addEventListener("animationend",z)))},[y]),mt.createElement(mt.Fragment,null,o)}}function Jv(t,e){return{content:l4(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function l4(t,e,n=!1){return ee.isValidElement(t)&&!Va(t.type)?ee.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Qi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function E7({closeToast:t,theme:e,ariaLabel:n="close"}){return mt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},mt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},mt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function T7({delay:t,isRunning:e,closeToast:n,type:i="default",hide:a,className:o,controlledProgress:u,progress:h,rtl:m,isIn:p,theme:y}){let b=a||u&&h===0,_={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};u&&(_.transform=`scaleX(${h})`);let w=ja("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":m}),S=Qi(o)?o({rtl:m,type:i,defaultClassName:w}):ja(w,o),V={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{p&&n()}};return mt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},mt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),mt.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:S,style:_,...V}))}var N7=1,o4=()=>`${N7++}`;function S7(t,e,n){let i=1,a=0,o=[],u=[],h=e,m=new Map,p=new Set,y=B=>(p.add(B),()=>p.delete(B)),b=()=>{u=Array.from(m.values()),p.forEach(B=>B())},_=({containerId:B,toastId:U,updateId:$})=>{let q=B?B!==t:t!==1,L=m.has(U)&&$==null;return q||L},w=(B,U)=>{m.forEach($=>{var q;(U==null||U===$.props.toastId)&&((q=$.toggle)==null||q.call($,B))})},S=B=>{var U,$;($=(U=B.props)==null?void 0:U.onClose)==null||$.call(U,B.removalReason),B.isActive=!1},V=B=>{if(B==null)m.forEach(S);else{let U=m.get(B);U&&S(U)}b()},z=()=>{a-=o.length,o=[]},F=B=>{var U,$;let{toastId:q,updateId:L}=B.props,R=L==null;B.staleId&&m.delete(B.staleId),B.isActive=!0,m.set(q,B),b(),n(Jv(B,R?"added":"updated")),R&&(($=(U=B.props).onOpen)==null||$.call(U))};return{id:t,props:h,observe:y,toggle:w,removeToast:V,toasts:m,clearQueue:z,buildToast:(B,U)=>{if(_(U))return;let{toastId:$,updateId:q,data:L,staleId:R,delay:C}=U,M=q==null;M&&a++;let k={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(U).filter(([P,A])=>A!=null)),toastId:$,updateId:q,data:L,isIn:!1,className:r0(U.className||h.toastClassName),progressClassName:r0(U.progressClassName||h.progressClassName),autoClose:U.isLoading?!1:v7(U.autoClose,h.autoClose),closeToast(P){m.get($).removalReason=P,V($)},deleteToast(){let P=m.get($);if(P!=null){if(n(Jv(P,"removed")),m.delete($),a--,a<0&&(a=0),o.length>0){F(o.shift());return}b()}}};k.closeButton=h.closeButton,U.closeButton===!1||i0(U.closeButton)?k.closeButton=U.closeButton:U.closeButton===!0&&(k.closeButton=i0(h.closeButton)?h.closeButton:!0);let I={content:B,props:k,staleId:R};h.limit&&h.limit>0&&a>h.limit&&M?o.push(I):ac(C)?setTimeout(()=>{F(I)},C):F(I)},setProps(B){h=B},setToggle:(B,U)=>{let $=m.get(B);$&&($.toggle=U)},isToastActive:B=>{var U;return(U=m.get(B))==null?void 0:U.isActive},getSnapshot:()=>u}}var Pn=new Map,Hu=[],s0=new Set,A7=t=>s0.forEach(e=>e(t)),u4=()=>Pn.size>0;function C7(){Hu.forEach(t=>f4(t.content,t.options)),Hu=[]}var k7=(t,{containerId:e})=>{var n;return(n=Pn.get(e||1))==null?void 0:n.toasts.get(t)};function c4(t,e){var n;if(e)return!!((n=Pn.get(e))!=null&&n.isToastActive(t));let i=!1;return Pn.forEach(a=>{a.isToastActive(t)&&(i=!0)}),i}function j7(t){if(!u4()){Hu=Hu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||b7(t))Pn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Pn.get(t.containerId);e?e.removeToast(t.id):Pn.forEach(n=>{n.removeToast(t.id)})}}var R7=(t={})=>{Pn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function f4(t,e){i0(t)&&(u4()||Hu.push({content:t,options:e}),Pn.forEach(n=>{n.buildToast(t,e)}))}function D7(t){var e;(e=Pn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function h4(t,e){Pn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function I7(t){let e=t.containerId||1;return{subscribe(n){let i=S7(e,t,A7);Pn.set(e,i);let a=i.observe(n);return C7(),()=>{a(),Pn.delete(e)}},setProps(n){var i;(i=Pn.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=Pn.get(e))==null?void 0:n.getSnapshot()}}}function M7(t){return s0.add(t),()=>{s0.delete(t)}}function O7(t){return t&&(Va(t.toastId)||ac(t.toastId))?t.toastId:o4()}function lc(t,e){return f4(t,e),e.toastId}function qh(t,e){return{...e,type:e&&e.type||t,toastId:O7(e)}}function Fh(t){return(e,n)=>lc(e,qh(t,n))}function Ee(t,e){return lc(t,qh("default",e))}Ee.loading=(t,e)=>lc(t,qh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function V7(t,{pending:e,error:n,success:i},a){let o;e&&(o=Va(e)?Ee.loading(e,a):Ee.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,y,b)=>{if(y==null){Ee.dismiss(o);return}let _={type:p,...u,...a,data:b},w=Va(y)?{render:y}:y;return o?Ee.update(o,{..._,...w}):Ee(w.render,{..._,...w}),b},m=Qi(t)?t():t;return m.then(p=>h("success",i,p)).catch(p=>h("error",n,p)),m}Ee.promise=V7;Ee.success=Fh("success");Ee.info=Fh("info");Ee.error=Fh("error");Ee.warning=Fh("warning");Ee.warn=Ee.warning;Ee.dark=(t,e)=>lc(t,qh("default",{theme:"dark",...e}));function P7(t){j7(t)}Ee.dismiss=P7;Ee.clearWaitingQueue=R7;Ee.isActive=c4;Ee.update=(t,e={})=>{let n=k7(t,e);if(n){let{props:i,content:a}=n,o={delay:100,...i,...e,toastId:e.toastId||t,updateId:o4()};o.toastId!==t&&(o.staleId=t);let u=o.render||a;delete o.render,lc(u,o)}};Ee.done=t=>{Ee.update(t,{progress:1})};Ee.onChange=M7;Ee.play=t=>h4(!0,t);Ee.pause=t=>h4(!1,t);function L7(t){var e;let{subscribe:n,getSnapshot:i,setProps:a}=ee.useRef(I7(t)).current;a(t);let o=(e=ee.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function u(h){if(!o)return[];let m=new Map;return t.newestOnTop&&o.reverse(),o.forEach(p=>{let{position:y}=p.props;m.has(y)||m.set(y,[]),m.get(y).push(p)}),Array.from(m,p=>h(p[0],p[1]))}return{getToastToRender:u,isToastActive:c4,count:o?.length}}function z7(t){let[e,n]=ee.useState(!1),[i,a]=ee.useState(!1),o=ee.useRef(null),u=ee.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:m,closeToast:p,onClick:y,closeOnClick:b}=t;D7({id:t.toastId,containerId:t.containerId,fn:n}),ee.useEffect(()=>{if(t.pauseOnFocusLoss)return _(),()=>{w()}},[t.pauseOnFocusLoss]);function _(){document.hasFocus()||F(),window.addEventListener("focus",z),window.addEventListener("blur",F)}function w(){window.removeEventListener("focus",z),window.removeEventListener("blur",F)}function S(R){if(t.draggable===!0||t.draggable===R.pointerType){B();let C=o.current;u.canCloseOnClick=!0,u.canDrag=!0,C.style.transition="none",t.draggableDirection==="x"?(u.start=R.clientX,u.removalDistance=C.offsetWidth*(t.draggablePercent/100)):(u.start=R.clientY,u.removalDistance=C.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function V(R){let{top:C,bottom:M,left:k,right:I}=o.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&t.pauseOnHover&&R.clientX>=k&&R.clientX<=I&&R.clientY>=C&&R.clientY<=M?F():z()}function z(){n(!0)}function F(){n(!1)}function B(){u.didMove=!1,document.addEventListener("pointermove",$),document.addEventListener("pointerup",q)}function U(){document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",q)}function $(R){let C=o.current;if(u.canDrag&&C){u.didMove=!0,e&&F(),t.draggableDirection==="x"?u.delta=R.clientX-u.start:u.delta=R.clientY-u.start,u.start!==R.clientX&&(u.canCloseOnClick=!1);let M=t.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;C.style.transform=`translate3d(${M},0)`,C.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function q(){U();let R=o.current;if(u.canDrag&&u.didMove&&R){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let L={onPointerDown:S,onPointerUp:V};return h&&m&&(L.onMouseEnter=F,t.stacked||(L.onMouseLeave=z)),b&&(L.onClick=R=>{y&&y(R),u.canCloseOnClick&&p(!0)}),{playToast:z,pauseToast:F,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:L}}var U7=typeof window<"u"?ee.useLayoutEffect:ee.useEffect,Hh=({theme:t,type:e,isLoading:n,...i})=>mt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function B7(t){return mt.createElement(Hh,{...t},mt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function q7(t){return mt.createElement(Hh,{...t},mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function F7(t){return mt.createElement(Hh,{...t},mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function H7(t){return mt.createElement(Hh,{...t},mt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function $7(){return mt.createElement("div",{className:"Toastify__spinner"})}var a0={info:q7,warning:B7,success:F7,error:H7,spinner:$7},G7=t=>t in a0;function Y7({theme:t,type:e,isLoading:n,icon:i}){let a=null,o={theme:t,type:e};return i===!1||(Qi(i)?a=i({...o,isLoading:n}):ee.isValidElement(i)?a=ee.cloneElement(i,o):n?a=a0.spinner():G7(e)&&(a=a0[e](o))),a}var Q7=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:a,playToast:o}=z7(t),{closeButton:u,children:h,autoClose:m,onClick:p,type:y,hideProgressBar:b,closeToast:_,transition:w,position:S,className:V,style:z,progressClassName:F,updateId:B,role:U,progress:$,rtl:q,toastId:L,deleteToast:R,isIn:C,isLoading:M,closeOnClick:k,theme:I,ariaLabel:P}=t,A=ja("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":q},{"Toastify__toast--close-on-click":k}),ae=Qi(V)?V({rtl:q,position:S,type:y,defaultClassName:A}):ja(A,V),ge=Y7(t),X=!!$||!m,fe={closeToast:_,type:y,theme:I},ve=null;return u===!1||(Qi(u)?ve=u(fe):ee.isValidElement(u)?ve=ee.cloneElement(u,fe):ve=E7(fe)),mt.createElement(w,{isIn:C,done:R,position:S,preventExitTransition:n,nodeRef:i,playToast:o},mt.createElement("div",{id:L,tabIndex:0,onClick:p,"data-in":C,className:ae,...a,style:z,ref:i,...C&&{role:U,"aria-label":P}},ge!=null&&mt.createElement("div",{className:ja("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},ge),l4(h,t,!e),ve,!t.customProgressBar&&mt.createElement(T7,{...B&&!X?{key:`p-${B}`}:{},rtl:q,theme:I,delay:m,isRunning:e,isIn:C,closeToast:_,hide:b,type:y,className:F,controlledProgress:X,progress:$||0})))},X7=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),K7=w7(X7("bounce",!0)),Z7={position:"top-right",transition:K7,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function J7(t){let e={...Z7,...t},n=t.stacked,[i,a]=ee.useState(!0),o=ee.useRef(null),{getToastToRender:u,isToastActive:h,count:m}=L7(e),{className:p,style:y,rtl:b,containerId:_,hotKeys:w}=e;function S(z){let F=ja("Toastify__toast-container",`Toastify__toast-container--${z}`,{"Toastify__toast-container--rtl":b});return Qi(p)?p({position:z,rtl:b,defaultClassName:F}):ja(F,r0(p))}function V(){n&&(a(!0),Ee.play())}return U7(()=>{var z;if(n){let F=o.current.querySelectorAll('[data-in="true"]'),B=12,U=(z=e.position)==null?void 0:z.includes("top"),$=0,q=0;Array.from(F).reverse().forEach((L,R)=>{let C=L;C.classList.add("Toastify__toast--stacked"),R>0&&(C.dataset.collapsed=`${i}`),C.dataset.pos||(C.dataset.pos=U?"top":"bot");let M=$*(i?.2:1)+(i?0:B*R);C.style.setProperty("--y",`${U?M:M*-1}px`),C.style.setProperty("--g",`${B}`),C.style.setProperty("--s",`${1-(i?q:0)}`),$+=C.offsetHeight,q+=.025})}},[i,m,n]),ee.useEffect(()=>{function z(F){var B;let U=o.current;w(F)&&((B=U.querySelector('[tabIndex="0"]'))==null||B.focus(),a(!1),Ee.pause()),F.key==="Escape"&&(document.activeElement===U||U!=null&&U.contains(document.activeElement))&&(a(!0),Ee.play())}return document.addEventListener("keydown",z),()=>{document.removeEventListener("keydown",z)}},[w]),mt.createElement("section",{ref:o,className:"Toastify",id:_,onMouseEnter:()=>{n&&(a(!1),Ee.pause())},onMouseLeave:V,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((z,F)=>{let B=F.length?{...y}:{...y,pointerEvents:"none"};return mt.createElement("div",{tabIndex:-1,className:S(z),"data-stacked":n,style:B,key:`c-${z}`},F.map(({content:U,props:$})=>mt.createElement(Q7,{...$,stacked:n,collapseAll:V,isIn:h($.toastId,$.containerId),key:`t-${$.key}`},U)))}))}function W7({selectedStudent:t}){const{students:e}=ew(),{notices:n,isLoading:i,isSaving:a,isAdmin:o,isCoLeader:u,canManageNotices:h,createNotice:m,deleteNotice:p,editNotice:y,updateNoticePermissions:b,voteInPoll:_,toggleChecklistItem:w,toggleTodo:S}=C5(t),[V,z]=ee.useState(!1),[F,B]=ee.useState(!1),[U,$]=ee.useState(null),[q,L]=ee.useState("all"),[R,C]=ee.useState(""),[M,k]=ee.useState(!1),[I,P]=ee.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),A=n.filter(Q=>{const xe=q==="all"||Q.type===q,ie=!R||Q.content.toLowerCase().includes(R.toLowerCase())||Q.createdBy.toLowerCase().includes(R.toLowerCase());return xe&&ie}),ae=[{id:"all",label:"All",icon:Da,count:n.length},{id:"notice",label:"Notices",icon:Da,count:n.filter(Q=>Q.type==="notice").length},{id:"checklist",label:"Checklists",icon:h0,count:n.filter(Q=>Q.type==="checklist").length},{id:"poll",label:"Polls",icon:o0,count:n.filter(Q=>Q.type==="poll").length},{id:"reminder",label:"Reminders",icon:Yf,count:n.filter(Q=>Q.type==="reminder").length},{id:"todo",label:"Todos",icon:$l,count:n.filter(Q=>Q.type==="todo").length}],ge=Q=>{P(Q),k(!0)},X=()=>{I.onConfirm(),k(!1)},fe=()=>{k(!1)},ve=async Q=>{if(!h){Ee.error(" Only admin and co-leaders can create notices");return}await m(Q.type,Q.content,Q.meta,Q.allowedUsers||[],Q.isPublic||!1)?(z(!1),Ee.success(" Notice created successfully!")):Ee.error(" Failed to create notice. Please try again.")},Ae=async(Q,xe)=>{if(!h)return Ee.error(" Only admin and co-leaders can edit notices"),!1;const ie=await y(Q,xe);return ie?Ee.success(" Notice updated successfully!"):Ee.error(" Failed to update notice. Please try again."),ie},N=async Q=>{if(!h){Ee.error(" Only admin and co-leaders can delete notices");return}ge({title:"Delete Notice",message:"Are you sure you want to delete this notice? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{await p(Q)?Ee.success(" Notice deleted successfully!"):Ee.error(" Failed to delete notice. Please try again.")}})},le=Q=>{$(Q),B(!0)},te=async(Q,xe)=>{if(U)try{await b(U.id,Q,xe)?(B(!1),$(null),Ee.success(" Permissions updated successfully!")):Ee.error(" Failed to update permissions")}catch(ie){Ee.error(" Error updating permissions: "+ie.message)}},j=Q=>{const xe={notice:Q,currentUser:t?.rollNo,students:e,isAdmin:o,isCoLeader:u,canManageNotices:h,onDelete:N,onEdit:Ae,onManagePermissions:()=>le(Q)};switch(Q.type){case"checklist":return f.jsx(h7,{...xe,onToggleItem:ie=>w(Q.id,ie,t?.rollNo)},Q.id);case"poll":return f.jsx(d7,{...xe,onVote:(ie,be)=>_(Q.id,ie,be)},Q.id);case"reminder":return f.jsx(m7,{...xe},Q.id);case"todo":return f.jsx(p7,{...xe,onToggle:()=>S(Q.id,t?.rollNo)},Q.id);default:return f.jsx(f7,{...xe},Q.id)}};return t?i?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Nn,{className:"w-6 h-6 animate-spin text-blue-600"}),f.jsx("span",{className:"text-lg text-gray-600",children:"Loading notice board..."})]})}):f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[f.jsx(s4,{open:M,title:I.title,message:I.message,confirmText:I.confirmText,cancelText:I.cancelText,confirmColor:I.confirmColor,icon:I.icon,onConfirm:X,onCancel:fe}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[f.jsx(Sa,{className:"w-8 h-8 text-blue-600"}),"Global Notice Board",o&&f.jsx(qi,{className:"w-6 h-6 text-yellow-600",title:"Admin View"}),u&&f.jsx(Qn,{className:"w-6 h-6 text-purple-600",title:"Co-Leader View"})]}),f.jsx("p",{className:"text-gray-600",children:h?`${o?"Admin":"Co-Leader"}: Create and manage notices for all students`:"Stay updated with announcements, polls, and reminders"})]}),h&&f.jsxs("button",{onClick:()=>z(!0),disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50",children:[f.jsx(Bi,{className:"w-4 h-4"}),"Create Notice"]})]}),h&&f.jsx("div",{className:`rounded-2xl p-4 border ${o?"bg-yellow-50 border-yellow-200":"bg-purple-50 border-purple-200"}`,children:f.jsxs("div",{className:"flex items-start gap-3",children:[o?f.jsx(qi,{className:"w-5 h-5 text-yellow-600 mt-0.5"}):f.jsx(Qn,{className:"w-5 h-5 text-purple-600 mt-0.5"}),f.jsxs("div",{children:[f.jsx("h4",{className:`font-medium mb-1 ${o?"text-yellow-900":"text-purple-900"}`,children:o?"Admin Privileges":"Co-Leader Privileges"}),f.jsxs("ul",{className:`text-sm space-y-1 ${o?"text-yellow-700":"text-purple-700"}`,children:[f.jsx("li",{children:" Create, edit and manage notices with user visibility"}),f.jsx("li",{children:" View who voted for each poll option and completed checklist items"}),f.jsx("li",{children:" Create multi-select or single-choice polls"}),f.jsx("li",{children:" Edit existing notices, polls, and checklists"}),o&&f.jsx("li",{children:" Assign co-leader roles to other students"})]})]})]})}),!h&&f.jsx("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-200",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Sa,{className:"w-5 h-5 text-blue-600"}),f.jsx("div",{children:f.jsx("p",{className:"text-sm text-blue-700",children:"You can view and interact with notices shared with you. Click on voter counts in polls or completion counts in checklists to see who participated."})})]})}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:ae.map(Q=>f.jsxs("button",{onClick:()=>L(Q.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-xl transition-all
                ${q===Q.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
              `,children:[f.jsx(Q.icon,{className:"w-4 h-4"}),f.jsx("span",{children:Q.label}),f.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:Q.count})]},Q.id))}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(xh,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:"text",placeholder:"Search notices...",value:R,onChange:Q=>C(Q.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),R&&f.jsx("button",{onClick:()=>C(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f.jsx(Cn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]})]}),V&&h&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:f.jsx("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:f.jsx(g7,{onSubmit:ve,onCancel:()=>z(!1),isLoading:a,students:e})})}),F&&U&&h&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:f.jsx(x7,{notice:U,students:e,onUpdate:te,onCancel:()=>B(!1)})}),f.jsx("div",{className:"space-y-4",children:A.length>0?A.map(j):f.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border border-gray-100",children:[f.jsx(Sa,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No notices found"}),f.jsx("p",{className:"text-gray-600 mb-4",children:R||q!=="all"?"Try adjusting your filters or search terms":h?"Create the first notice to get started!":"No notices have been shared with you yet."}),h&&f.jsxs("button",{onClick:()=>z(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:[f.jsx(Bi,{className:"w-4 h-4"}),"Create First Notice"]})]})})]}):f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Sa,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),f.jsx("p",{className:"text-gray-600",children:"Please select a student to view the notice board"})]})})}function eI(t){const[e,n]=ee.useState(""),[i,a]=ee.useState(!0),[o,u]=ee.useState(!1),[h,m]=ee.useState(null),[p,y]=ee.useState(null);return ee.useEffect(()=>{if(!t){n(""),a(!1);return}(async()=>{try{a(!0),y(null);const S=On($t,"userNotes",t),V=await b5(S);V.exists()?(n(V.data().content||""),m(V.data().updatedAt?V.data().updatedAt.toDate():null)):(n(""),m(null))}catch(S){console.error("Error loading notes:",S),y(S.message)}finally{a(!1)}})()},[t]),ee.useEffect(()=>{if(!t||i)return;const w=setTimeout(async()=>{try{u(!0);const S=On($t,"userNotes",t);await Ui(S,{content:e,updatedAt:Fl(),userId:t}),m(new Date),y(null)}catch(S){console.error("Error saving notes:",S),y("Failed to save notes: "+S.message)}finally{u(!1)}},1e3);return()=>clearTimeout(w)},[e,t,i]),{notes:e,updateNotes:w=>{n(w)},clearNotes:async()=>{if(t)try{u(!0);const w=On($t,"userNotes",t);await Ui(w,{content:"",updatedAt:Fl(),userId:t}),n(""),m(new Date)}catch(w){console.error("Error clearing notes:",w),y("Failed to clear notes: "+w.message)}finally{u(!1)}},isLoading:i,isSaving:o,lastSaved:h,error:p}}function tI({selectedStudent:t}){const{notes:e,updateNotes:n,clearNotes:i,isLoading:a,isSaving:o,lastSaved:u,error:h}=eI(t?.rollNo),[m,p]=ee.useState("split"),[y,b]=ee.useState(!1),_=ee.useRef(!1);ee.useEffect(()=>{!_.current&&!a&&(e&&e.trim().length>0&&p("preview"),_.current=!0)},[e,a]),ee.useEffect(()=>{_.current=!1},[t]);const w=async()=>{window.confirm(" Are you sure you want to clear all your notes? This action cannot be undone.")&&(await i(),alert(" Notes cleared successfully!"))},S=(F,B="",U="")=>{const $=document.getElementById("notes-textarea"),q=$.selectionStart,L=$.selectionEnd,R=e.substring(q,L),C=F+(R||U)+B,M=e.substring(0,q)+C+e.substring(L);n(M),setTimeout(()=>{$.focus();const k=q+F.length+(R||U).length;$.setSelectionRange(k,k)},0)},V=[{icon:nT,title:"Bold",action:()=>S("**","**","bold text")},{icon:LT,title:"Italic",action:()=>S("*","*","italic text")},{icon:VT,title:"Heading",action:()=>S("# ","","Heading")},{icon:HT,title:"List",action:()=>S("- ","","List item")},{icon:ZT,title:"Quote",action:()=>S("> ","","Quote")},{icon:NT,title:"Inline Code",action:()=>S("`","`","code")},{icon:Da,title:"Code Block",action:()=>S("\n```\n","\n```\n","code block")},{icon:BT,title:"Link",action:()=>S("[","](url)","link text")}],z=F=>{if(!F)return"Never saved";const U=new Date-F;return U<6e4?"Saved just now":U<36e5?`Saved ${Math.floor(U/6e4)} minutes ago`:U<864e5?`Saved ${Math.floor(U/36e5)} hours ago`:`Saved on ${F.toLocaleDateString()} at ${F.toLocaleTimeString()}`};return t?a?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Nn,{className:"w-6 h-6 animate-spin text-blue-600"}),f.jsx("span",{className:"text-lg text-gray-600",children:"Loading your notes..."})]})}):f.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[f.jsx(Lf,{className:"w-8 h-8 text-yellow-600"}),"Personal Notes"]}),f.jsxs("p",{className:"text-gray-600",children:["Private notes for ",f.jsx("strong",{children:t.name})," (",t.rollNo,")"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>b(!y),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all text-sm",children:"Markdown Help"}),f.jsxs("button",{onClick:w,disabled:o||!e.trim(),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(Hi,{className:"w-4 h-4"}),"Clear All"]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex items-center gap-2",children:o?f.jsxs(f.Fragment,{children:[f.jsx(Nn,{className:"w-4 h-4 animate-spin text-blue-600"}),f.jsx("span",{className:"text-sm text-blue-600",children:"Saving..."})]}):h?f.jsxs(f.Fragment,{children:[f.jsx(mT,{className:"w-4 h-4 text-red-600"}),f.jsx("span",{className:"text-sm text-red-600",children:"Error saving"})]}):f.jsxs(f.Fragment,{children:[f.jsx(La,{className:"w-4 h-4 text-green-600"}),f.jsx("span",{className:"text-sm text-gray-600",children:z(u)})]})}),f.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[f.jsx(Da,{className:"w-4 h-4"}),f.jsxs("span",{children:[e.length," characters"]})]})]}),f.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-xl p-1",children:[f.jsxs("button",{onClick:()=>p("edit"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${m==="edit"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[f.jsx(Pa,{className:"w-4 h-4"}),"Edit"]}),f.jsxs("button",{onClick:()=>p("split"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${m==="split"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[f.jsxs("div",{className:"w-4 h-4 border border-current rounded-sm flex",children:[f.jsx("div",{className:"w-1/2 border-r border-current"}),f.jsx("div",{className:"w-1/2"})]}),"Split"]}),f.jsxs("button",{onClick:()=>p("preview"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${m==="preview"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[f.jsx(Ra,{className:"w-4 h-4"}),"Preview"]})]})]}),h&&f.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:h})]}),y&&f.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[f.jsx("h3",{className:"font-bold text-blue-900 mb-4",children:"Markdown Quick Reference"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("div",{className:"mb-2",children:f.jsx("code",{children:"# Heading 1"})}),f.jsx("div",{className:"mb-2",children:f.jsx("code",{children:"## Heading 2"})}),f.jsx("div",{className:"mb-2",children:f.jsx("code",{children:"**bold text**"})}),f.jsx("div",{className:"mb-2",children:f.jsx("code",{children:"*italic text*"})}),f.jsx("div",{className:"mb-2",children:f.jsx("code",{children:"`inline code`"})})]}),f.jsxs("div",{children:[f.jsx("div",{className:"mb-2",children:f.jsx("code",{children:"[Link](https://example.com)"})}),f.jsx("div",{className:"mb-2",children:f.jsx("code",{children:"- List item"})}),f.jsx("div",{className:"mb-2",children:f.jsx("code",{children:"> Quote"})}),f.jsxs("div",{className:"mb-2",children:[f.jsx("code",{children:"---"})," (horizontal rule)"]}),f.jsx("div",{className:"mb-2",children:f.jsx("code",{children:"``````"})})]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(m==="edit"||m==="split")&&f.jsx("div",{className:"border-b border-gray-200 p-3",children:f.jsx("div",{className:"flex items-center gap-1",children:V.map((F,B)=>f.jsx("button",{onClick:F.action,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:F.title,children:f.jsx(F.icon,{className:"w-4 h-4"})},B))})}),f.jsxs("div",{className:"flex h-96",children:[(m==="edit"||m==="split")&&f.jsx("div",{className:`${m==="split"?"w-1/2 border-r border-gray-200":"w-full"}`,children:f.jsx("textarea",{id:"notes-textarea",value:e,onChange:F=>n(F.target.value),className:"w-full h-full p-6 border-none outline-none resize-none font-mono text-sm",placeholder:`Write your personal notes here, ${t.name}...

You can use Markdown syntax:
# Headings
**Bold** and *italic* text
[Links](https://example.com)
- Lists
> Quotes
\`code\`

Your notes are automatically saved as you type.`})}),(m==="preview"||m==="split")&&f.jsx("div",{className:`${m==="split"?"w-1/2":"w-full"} overflow-y-auto`,children:f.jsx("div",{className:"p-6 prose prose-sm max-w-none",children:e.trim()?f.jsx(lo,{remarkPlugins:[oo],components:{a:({href:F,children:B})=>f.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:B}),code:({node:F,inline:B,className:U,children:$,...q})=>{const[L,R]=ee.useState(!1),C=/language-(\w+)/.exec(U||"");if(B)return f.jsx("code",{className:U,...q,children:$});const M=()=>{navigator.clipboard.writeText(String($).replace(/\n$/,"")),R(!0),setTimeout(()=>R(!1),2e3)};return f.jsxs("div",{className:"relative group my-4",children:[f.jsx("div",{className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("button",{onClick:M,className:"p-1.5 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 hover:text-white transition-all shadow-lg",title:"Copy code",children:L?f.jsx($u,{className:"w-4 h-4 text-green-400"}):f.jsx(AT,{className:"w-4 h-4"})})}),f.jsxs("pre",{className:"!mt-0 !mb-0 rounded-xl overflow-hidden bg-gray-900 !p-0",children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[f.jsxs("div",{className:"flex gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20 border border-red-500/50"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20 border border-green-500/50"})]}),f.jsx("span",{className:"text-xs text-gray-400 font-mono",children:C?C[1]:"text"})]}),f.jsx("code",{className:`${U} block p-4 text-sm font-mono text-gray-300 overflow-x-auto`,...q,children:$})]})]})}},children:e}):f.jsxs("div",{className:"text-gray-500 italic",children:["Your notes will appear here as you type...",f.jsx("br",{}),f.jsx("br",{}),"Try writing some ",f.jsx("strong",{children:"Markdown"}),":",f.jsx("br",{}),"# This is a heading",f.jsx("br",{}),"**This is bold text**",f.jsx("br",{}),"[This is a link](https://example.com)"]})})})]})]}),f.jsx("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-200",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Lf,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:" Tips for better note-taking:"}),f.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[f.jsx("li",{children:" Your notes are private and only visible to you"}),f.jsx("li",{children:" Use headings (#) to organize your content"}),f.jsx("li",{children:" Add links to external resources for quick access"}),f.jsx("li",{children:" Notes are automatically saved as you type"}),f.jsx("li",{children:" Use the split view to see formatting in real-time"})]})]})]})})]}):f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Lf,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),f.jsx("p",{className:"text-gray-600",children:"Please select a student to view their personal notes"})]})})}function nI({semester:t,setSemester:e,studentManagement:n}){const{students:i,selectedStudent:a,isAdmin:o,isLoading:u,createStudent:h,deleteStudent:m,selectStudent:p,authenticateStudent:y,updateStudentPassword:b,updateStudentRole:_,updateStudentName:w}=n,S=a?.role==="co-leader"&&a?.rollNo!==Ve.rollNo,V=a?.permissions||{},z=o||S&&V.canCreateUsers,F=o||S&&V.canAppointCoLeaders,[B,U]=ee.useState(!1),[$,q]=ee.useState({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1}),[L,R]=ee.useState(!1),[C,M]=ee.useState(!1),[k,I]=ee.useState(!1),[P,A]=ee.useState(null),[ae,ge]=ee.useState(null),[X,fe]=ee.useState(""),[ve,Ae]=ee.useState(!1),[N,le]=ee.useState(""),[te,j]=ee.useState(!1),[Q,xe]=ee.useState(!1),[ie,be]=ee.useState(""),[Ne,wt]=ee.useState(!1),[jt,Et]=ee.useState(""),[Wn,jn]=ee.useState(!1),[Un,Bn]=ee.useState(""),[Ur,Rt]=ee.useState(""),[Br,fr]=ee.useState(null),[qn,hr]=ee.useState(!1),[qs,dr]=ee.useState(!1),[Fn,pi]=ee.useState(null),[ne,de]=ee.useState({password:"",confirmPassword:""}),[Ce,Re]=ee.useState(!1),[He,un]=ee.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),tn=ee.useMemo(()=>{if(!X.trim())return i;const oe=X.toLowerCase();return i.filter(ze=>ze.name.toLowerCase().includes(oe)||ze.rollNo.toLowerCase().includes(oe))},[i,X]),Xt=()=>{le(a.name),Ae(!0)},bn=()=>{Ae(!1),le("")},zt=async()=>{if(!N.trim()){Ee.error("Name cannot be empty");return}try{j(!0),await w(a.rollNo,N),Ee.success(" Name updated successfully!"),Ae(!1)}catch(oe){Ee.error(` Error updating name: ${oe.message}`)}finally{j(!1)}},St=oe=>{un(oe),Re(!0)},vn=()=>{He.onConfirm(),Re(!1)},cn=()=>{Re(!1)},Fs=async oe=>{if(oe.rollNo===Ve.rollNo&&a?.rollNo!==Ve.rollNo){xe(!0),Et("");return}if(oe.isProtected&&oe.rollNo!==a?.rollNo){fr(oe),Bn(""),Rt(""),jn(!0);return}p(oe)},Hs=async oe=>{if(oe.preventDefault(),!ie.trim()){Et("Please enter admin password");return}wt(!0),Et(""),setTimeout(async()=>{const ze=i.find(Ys=>Ys.rollNo===Ve.rollNo);await y(ze,ie)?(p(ze),xe(!1),be("")):(Et("Incorrect admin password. Please try again."),be("")),wt(!1)},800)},kr=async oe=>{if(oe.preventDefault(),!Un.trim()){Rt("Please enter password");return}hr(!0),Rt("");try{await y(Br,Un)?(p(Br),jn(!1),fr(null),Bn("")):(Rt("Incorrect password. Please try again."),Bn(""))}catch{Rt("Authentication failed. Please try again.")}finally{hr(!1)}},jr=()=>{jn(!1),fr(null),Bn(""),Rt("")},$s=()=>{xe(!1),be(""),Et("")},mr=async oe=>{if(oe.preventDefault(),!$.rollNo.trim()||!$.name.trim()){Ee.error("Please fill in both roll number and name");return}if(L&&!$.password.trim()){Ee.error("Please enter a password or uncheck password protection");return}try{I(!0);const ze=Number($.admissionYear),Tt=new Date().getFullYear();if(!Number.isInteger(ze)||ze<2e3||ze>Tt){Ee.error("Please enter a valid admission year"),I(!1);return}await h($.rollNo.trim(),$.name.trim(),L?$.password.trim():"",$.role,ze,$.isDSY),q({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1}),R(!1),U(!1),Ee.success(" Student created successfully!")}catch(ze){Ee.error(` Error creating student: ${ze.message}`)}finally{I(!1)}},Gs=async(oe,ze)=>{if(oe===Ve.rollNo){Ee.error("Cannot delete admin student");return}St({title:"Delete Student",message:`Are you sure you want to delete "${ze}" (${oe})?

This will permanently delete all their academic data and cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{try{A(oe),await m(oe),Ee.success(" Student deleted successfully!")}catch(Tt){Ee.error(` Error deleting student: ${Tt.message}`)}finally{A(null)}}})},Rr=async(oe,ze)=>{if(oe.rollNo===Ve.rollNo){Ee.error("Cannot change admin role");return}const Tt={student:"Student","co-leader":"Co-Leader"};St({title:"Change Role",message:`Change ${oe.name}'s role to ${Tt[ze]}?

${ze==="co-leader"?"Co-leaders can create and manage notices.":"Students have standard access only."}`,confirmText:"Change Role",cancelText:"Cancel",confirmColor:"blue",icon:"warning",onConfirm:async()=>{try{ge(oe.rollNo),await _(oe.rollNo,ze),Ee.success(` ${oe.name}'s role updated to ${Tt[ze]}!`)}catch(Ys){Ee.error(` Error updating role: ${Ys.message}`)}finally{ge(null)}}})},gi=oe=>{pi(oe),dr(!0),de({password:"",confirmPassword:""})},qr=async oe=>{if(oe.preventDefault(),ne.password!==ne.confirmPassword){Ee.error("Passwords do not match");return}if(!ne.password.trim()){Ee.error("Please enter a password");return}try{const ze=Fn?.isProtected;await b(Fn.rollNo,ne.password),dr(!1),pi(null),ze?Ee.success(" Password updated successfully!"):Ee.success(" Password added successfully!")}catch(ze){Ee.error(` Error updating password: ${ze.message}`)}},Fa=async oe=>{St({title:"Remove Password Protection",message:`Remove password protection from ${oe.name}?

This will allow unrestricted access to their account.`,confirmText:"Remove",cancelText:"Cancel",confirmColor:"orange",icon:"warning",onConfirm:async()=>{try{await b(oe.rollNo,"",!0),Ee.success(" Password protection removed!")}catch(ze){Ee.error(` Error removing password: ${ze.message}`)}}})},xt=()=>{fe("")},yt=oe=>{switch(oe){case"admin":return{name:"Admin",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:Zn};case"co-leader":return{name:"Co-Leader",color:"text-purple-600",bgColor:"bg-purple-100",icon:Qn};default:return{name:"Student",color:"text-blue-600",bgColor:"bg-blue-100",icon:ci}}};return u?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Nn,{className:"w-6 h-6 animate-spin text-blue-600"}),f.jsx("span",{className:"text-lg text-gray-600",children:"Loading students..."})]})}):f.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[f.jsx(s4,{open:Ce,title:He.title,message:He.message,confirmText:He.confirmText,cancelText:He.cancelText,confirmColor:He.confirmColor,icon:He.icon,onConfirm:vn,onCancel:cn}),Q&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:f.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx(Zn,{className:"w-8 h-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),f.jsxs("p",{className:"text-gray-600",children:["Enter admin password to switch to ",Ve.name]})]}),f.jsxs("form",{onSubmit:Hs,className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(Gt,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:"password",placeholder:"Admin password",value:ie,onChange:oe=>be(oe.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:Ne,autoFocus:!0})]}),jt&&f.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:jt}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"submit",disabled:Ne||!ie.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:Ne?f.jsxs(f.Fragment,{children:[f.jsx(Nn,{className:"w-4 h-4 animate-spin"}),f.jsx("span",{children:"Authenticating..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(Zn,{className:"w-4 h-4"}),f.jsx("span",{children:"Switch to Admin"})]})}),f.jsx("button",{type:"button",onClick:$s,disabled:Ne,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),Wn&&Br&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:f.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx(Gt,{className:"w-8 h-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Student Authentication"}),f.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",Br.name,"'s account"]})]}),f.jsxs("form",{onSubmit:kr,className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(Gt,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:"password",placeholder:"Enter password",value:Un,onChange:oe=>Bn(oe.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:qn,autoFocus:!0})]}),Ur&&f.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:Ur}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"submit",disabled:qn||!Un.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:qn?f.jsxs(f.Fragment,{children:[f.jsx(Nn,{className:"w-4 h-4 animate-spin"}),f.jsx("span",{children:"Authenticating..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(Gt,{className:"w-4 h-4"}),f.jsx("span",{children:"Access Account"})]})}),f.jsx("button",{type:"button",onClick:jr,disabled:qn,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),qs&&Fn&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:f.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx(Ts,{className:"w-8 h-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:Fn?.isProtected?"Change Password":"Add Password"}),f.jsxs("p",{className:"text-gray-600",children:["Set new password for ",Fn.name]})]}),f.jsxs("form",{onSubmit:qr,className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(Gt,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:"password",placeholder:"New password",value:ne.password,onChange:oe=>de({...ne,password:oe.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,autoFocus:!0})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(Gt,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:"password",placeholder:"Confirm password",value:ne.confirmPassword,onChange:oe=>de({...ne,confirmPassword:oe.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all font-medium",children:[f.jsx(Ts,{className:"w-4 h-4"}),f.jsx("span",{children:Fn?.isProtected?"Update Password":"Set Password"})]}),f.jsx("button",{type:"button",onClick:()=>dr(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Student & Semester Management"}),f.jsx("p",{className:"text-gray-600",children:"Manage students, roles, and select current semester"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[f.jsx(ci,{className:"w-5 h-5"}),"Current Student",a?.rollNo===Ve.rollNo&&f.jsx(Zn,{className:"w-4 h-4 text-yellow-500"})]}),a&&f.jsx("div",{className:`relative overflow-hidden rounded-2xl p-0.5 shadow-lg transition-all hover:shadow-xl ${a.rollNo===Ve.rollNo?"bg-gradient-to-br from-amber-200 via-yellow-100 to-orange-100":a.role==="co-leader"?"bg-gradient-to-br from-purple-200 via-fuchsia-100 to-pink-100":"bg-gradient-to-br from-blue-200 via-sky-100 to-indigo-100"}`,children:f.jsx("div",{className:`relative rounded-[14px] p-4 backdrop-blur-sm ${a.rollNo===Ve.rollNo||a.role==="co-leader"?"bg-white/60":"bg-white/80"}`,children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{children:[f.jsx("div",{className:"flex items-center gap-2",children:ve?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:N,onChange:oe=>le(oe.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-bold text-gray-900",autoFocus:!0,onKeyDown:oe=>{oe.key==="Enter"&&zt(),oe.key==="Escape"&&bn()}}),f.jsx("button",{onClick:zt,disabled:te,className:"p-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all",title:"Save Name",children:te?f.jsx(Nn,{className:"w-4 h-4 animate-spin"}):f.jsx($u,{className:"w-4 h-4"})}),f.jsx("button",{onClick:bn,disabled:te,className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",title:"Cancel",children:f.jsx(Cn,{className:"w-4 h-4"})})]}):f.jsxs("div",{className:"flex items-center gap-2 group",children:[f.jsx("p",{className:`font-bold ${a.rollNo===Ve.rollNo?"text-yellow-900":a.role==="co-leader"?"text-purple-900":"text-blue-900"}`,children:a.name}),f.jsx("button",{onClick:Xt,className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-blue-600 transition-all",title:"Edit Name",children:f.jsx(Pa,{className:"w-3 h-3"})})]})}),f.jsxs("p",{className:`text-sm ${a.rollNo===Ve.rollNo?"text-yellow-700":a.role==="co-leader"?"text-purple-700":"text-blue-700"}`,children:["Roll No: ",a.rollNo]}),a.admissionYear&&f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Admission: ",a.admissionYear||"N/A"," ",a.isDSY?"(DSY)":""]}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsxs("div",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${yt(a.role||"student").bgColor}`,children:[mt.createElement(yt(a.role||"student").icon,{className:`w-3 h-3 ${yt(a.role||"student").color}`}),f.jsx("span",{className:yt(a.role||"student").color,children:yt(a.role||"student").name})]}),a.isProtected&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Gt,{className:"w-3 h-3 text-blue-600"}),f.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]})]})})})})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Semester"}),f.jsx("select",{className:"w-full p-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-lg font-medium bg-white",value:t,onChange:oe=>e(Number(oe.target.value)),children:(a?.isDSY?[3,4,5,6,7,8]:[1,2,3,4,5,6,7,8]).map(oe=>f.jsxs("option",{value:oe,children:["Semester ",oe," (",Ns[oe].theory.length," theory + ",Ns[oe].practical.length," practical)"]},oe))}),f.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Qn,{className:"w-4 h-4 text-blue-600 mt-1"}),f.jsxs("div",{children:[f.jsxs("h4",{className:"font-medium text-blue-900 text-sm",children:["Semester ",t," Overview"]}),f.jsxs("p",{className:"text-xs text-blue-700",children:[Ns[t].theory.length," theory subjects and ",Ns[t].practical.length," practical labs"]})]})]})}),a?.isDSY&&f.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-xl border border-yellow-200 text-sm text-yellow-700",children:"Note: DSY students start from Semester 3  Semesters 1 & 2 are hidden for DSY students."})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[f.jsx(fi,{className:"w-5 h-5"}),"Select Student (",i.length," total)"]}),z&&f.jsxs("button",{onClick:()=>U(!B),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:[f.jsx(Bi,{className:"w-4 h-4"}),"Add Student"]})]}),f.jsxs("div",{className:"relative mb-6",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(xh,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:X,onChange:oe=>fe(oe.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),X&&f.jsx("button",{onClick:xt,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f.jsx(Cn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),B&&z&&f.jsxs("form",{onSubmit:mr,className:"mb-6 p-4 bg-green-50 rounded-2xl border border-green-200",children:[f.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Create New Student"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[f.jsx("input",{type:"text",placeholder:"Roll Number (e.g., 2405226)",value:$.rollNo,onChange:oe=>q({...$,rollNo:oe.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),f.jsx("input",{type:"text",placeholder:"Full Name",value:$.name,onChange:oe=>q({...$,name:oe.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Role"}),f.jsxs("select",{value:$.role,onChange:oe=>q({...$,role:oe.target.value}),className:"w-full p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",children:[f.jsx("option",{value:"student",children:"Student"}),f.jsx("option",{value:"co-leader",children:"Co-Leader"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Admission Year"}),f.jsx("input",{type:"number",min:"2000",max:new Date().getFullYear(),value:$.admissionYear,onChange:oe=>q({...$,admissionYear:oe.target.value}),className:"w-full p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Direct Second Year (DSY)"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{id:"is-dsy",type:"checkbox",checked:$.isDSY,onChange:oe=>q({...$,isDSY:oe.target.checked}),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),f.jsx("label",{htmlFor:"is-dsy",className:"text-sm text-gray-700",children:"Is DSY (Direct Second Year)"})]})]})]}),f.jsx("div",{className:"mb-3",children:f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:L,onChange:oe=>R(oe.target.checked),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),f.jsxs("span",{className:"text-sm font-medium text-green-900 flex items-center gap-1",children:[f.jsx(qi,{className:"w-4 h-4"}),"Password protect this account"]})]})}),L&&f.jsxs("div",{className:"relative mb-3",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(Gt,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:C?"text":"password",placeholder:"Password",value:$.password,onChange:oe=>q({...$,password:oe.target.value}),className:"w-full pl-10 pr-10 p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:L}),f.jsx("button",{type:"button",onClick:()=>M(!C),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:C?f.jsx(Rs,{className:"w-4 h-4 text-gray-400"}):f.jsx(Ra,{className:"w-4 h-4 text-gray-400"})})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{type:"submit",disabled:k,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all disabled:opacity-50",children:[k?f.jsx(Nn,{className:"w-4 h-4 animate-spin"}):f.jsx(Bi,{className:"w-4 h-4"}),k?"Creating...":"Create Student"]}),f.jsx("button",{type:"button",onClick:()=>U(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]}),S&&z&&!o&&f.jsx("div",{className:"mb-4 p-3 bg-purple-50 rounded-xl border border-purple-200",children:f.jsxs("p",{className:"text-sm text-purple-700",children:[f.jsx(Qn,{className:"w-4 h-4 inline mr-1"}),"As a co-leader, you can create new student accounts with your granted permissions."]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:tn.length>0?tn.map(oe=>{const ze=yt(oe.role||"student");return f.jsxs("div",{className:`
                    p-4 rounded-2xl border-2 transition-all cursor-pointer relative
                    ${a?.rollNo===oe.rollNo?oe.rollNo===Ve.rollNo?"border-yellow-500 bg-yellow-50":oe.role==="co-leader"?"border-purple-500 bg-purple-50":"border-blue-500 bg-blue-50":oe.rollNo===Ve.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300":oe.role==="co-leader"?"border-purple-200 bg-purple-50 hover:border-purple-300":oe.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300":"border-gray-200 bg-gray-50 hover:border-blue-300"}
                  `,onClick:()=>Fs(oe),children:[oe.isProtected&&f.jsx("div",{className:"absolute top-2 right-2",children:f.jsx(Gt,{className:"w-4 h-4 text-blue-600"})}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h4",{className:"font-bold text-gray-900",children:oe.name}),mt.createElement(ze.icon,{className:`w-4 h-4 ${ze.color}`})]}),f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Roll: ",oe.rollNo]}),f.jsx("div",{className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full ${ze.bgColor}`,children:f.jsx("span",{className:ze.color,children:ze.name})}),f.jsx("div",{className:"mt-2",children:a?.rollNo===oe.rollNo?f.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Currently Selected"}):oe.isProtected?f.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Password Protected"}):null})]}),(o||F)&&oe.rollNo!==Ve.rollNo&&f.jsx("div",{className:"flex flex-col gap-1",children:f.jsxs("div",{className:"flex gap-1",children:[oe.role!=="co-leader"&&f.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Rr(oe,"co-leader")},disabled:ae===oe.rollNo,className:"p-1 text-purple-500 hover:bg-purple-100 rounded transition-all",title:"Make Co-Leader",children:f.jsx(d0,{className:"w-3 h-3"})}),oe.role==="co-leader"&&f.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Rr(oe,"student")},disabled:ae===oe.rollNo,className:"p-1 text-gray-500 hover:bg-gray-100 rounded transition-all",title:"Remove Co-Leader",children:f.jsx(pN,{className:"w-3 h-3"})})]})}),o&&oe.rollNo!==Ve.rollNo&&f.jsxs("div",{className:"flex flex-col gap-1",children:[oe.isProtected?f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),gi(oe)},className:"p-1 text-blue-500 hover:bg-blue-100 rounded transition-all",title:"Change Password",children:f.jsx(Ts,{className:"w-3 h-3"})}),f.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Fa(oe)},className:"p-1 text-orange-500 hover:bg-orange-100 rounded transition-all",title:"Remove Password",children:f.jsx(qi,{className:"w-3 h-3"})})]}):f.jsx("div",{className:"flex gap-1",children:f.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),gi(oe)},className:"p-1 text-green-500 hover:bg-green-100 rounded transition-all",title:"Add Password",children:f.jsx(Ts,{className:"w-3 h-3"})})}),f.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),Gs(oe.rollNo,oe.name)},disabled:P===oe.rollNo,className:"p-1 text-red-500 hover:bg-red-100 rounded transition-all disabled:opacity-50",title:"Delete Student",children:P===oe.rollNo?f.jsx(Nn,{className:"w-3 h-3 animate-spin"}):f.jsx(Hi,{className:"w-3 h-3"})})]})]})]},oe.rollNo)}):f.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[f.jsx(fi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),f.jsxs("p",{children:['No students found matching "',X,'"']})]})})]})]})}function rI({selectedStudent:t}){const[e,n]=ee.useState(!1),[i,a]=ee.useState(!1);if(!t)return null;const o=Number(t.admissionYear)||null,u=o?o+4:null,h=new Date().getFullYear(),m=u&&h>=u,p=()=>{n(!0),Ee.success(` Congratulations! ${t.name} marked as graduated!`)},y=()=>{a(!0),setTimeout(()=>{a(!1),Ee.success(" Transcript exported successfully!")},1500)};return f.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[f.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 text-center bg-gray-900 border border-gray-800 shadow-2xl",children:[f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-green-500 to-emerald-800 rounded-full blur-[100px] opacity-20"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-blue-500 to-indigo-800 rounded-full blur-[100px] opacity-20"}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",children:f.jsx(Qf,{className:"w-10 h-10 text-green-400 drop-shadow-[0_0_15px_rgba(74,222,128,0.5)]"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-white mb-2 tracking-tight",children:"Degree Completion"}),f.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-lg",children:"Track graduation eligibility and manage degree certification"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden",children:[f.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:f.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[f.jsx(e2,{className:"w-5 h-5 text-indigo-500"}),"Current Status"]})}),f.jsxs("div",{className:"p-8",children:[f.jsx("div",{className:`p-6 rounded-2xl border mb-8 ${e?"bg-green-50 border-green-200":m?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${e?"bg-green-500 text-white shadow-lg shadow-green-200":m?"bg-blue-500 text-white shadow-lg shadow-blue-200":"bg-gray-200 text-gray-500"}`,children:e?f.jsx(H1,{className:"w-6 h-6"}):f.jsx(gh,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h4",{className:`text-xl font-bold mb-1 ${e?"text-green-900":m?"text-blue-900":"text-gray-900"}`,children:e?"Graduated":m?"Eligible for Graduation":"In Progress"}),f.jsx("p",{className:`${e?"text-green-700":m?"text-blue-700":"text-gray-500"}`,children:e?`${t.name} has successfully completed their degree.`:m?`${t.name} has completed the required academic period.`:`${t.name} is currently pursuing their degree.`})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!e&&f.jsxs("button",{onClick:p,disabled:!m&&t.rollNo!==Ve.rollNo,className:`p-4 rounded-xl border-2 border-dashed flex flex-col items-center justify-center gap-3 transition-all ${m||t.rollNo===Ve.rollNo?"border-green-300 bg-green-50 hover:bg-green-100 cursor-pointer hover:border-green-400 hover:shadow-md":"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:f.jsx(d0,{className:"w-5 h-5"})}),f.jsx("span",{className:"font-semibold text-green-900",children:"Mark as Graduated"})]}),f.jsxs("button",{onClick:y,disabled:i,className:"p-4 rounded-xl border-2 border-dashed border-indigo-200 bg-indigo-50 hover:bg-indigo-100 flex flex-col items-center justify-center gap-3 transition-all cursor-pointer hover:border-indigo-300 hover:shadow-md",children:[i?f.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:f.jsx(H1,{className:"w-6 h-6 text-indigo-500 animate-spin"})}):f.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600",children:f.jsx(Da,{className:"w-5 h-5"})}),f.jsx("span",{className:"font-semibold text-indigo-900",children:i?"Exporting...":"Export Transcript"})]})]})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-6 h-fit",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[f.jsx($l,{className:"w-5 h-5 text-orange-500"}),"Timeline"]}),f.jsxs("div",{className:"space-y-6 relative before:absolute before:left-3.5 before:top-2 before:bottom-2 before:w-0.5 before:bg-gray-100",children:[f.jsxs("div",{className:"relative pl-10",children:[f.jsx("div",{className:"absolute left-0 top-0 w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center border-4 border-white shadow-sm z-10",children:f.jsx("span",{className:"text-xs font-bold text-orange-600",children:"1"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Admission"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Academic Year"}),f.jsx("p",{className:"font-mono text-sm text-gray-700 font-medium bg-gray-50 inline-block px-2 py-1 rounded mt-1",children:o||"N/A"})]})]}),f.jsxs("div",{className:"relative pl-10",children:[f.jsx("div",{className:"absolute left-0 top-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center border-4 border-white shadow-sm z-10",children:f.jsx("span",{className:"text-xs font-bold text-green-600",children:"4"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"Expected Completion"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"4-Year Program"}),f.jsx("p",{className:"font-mono text-sm text-gray-700 font-medium bg-gray-50 inline-block px-2 py-1 rounded mt-1",children:u||"N/A"})]})]})]}),f.jsx("div",{className:"mt-8 p-4 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl border border-yellow-100 text-center",children:f.jsx("p",{className:"text-yellow-800 text-sm italic font-medium",children:'"Success is the sum of small efforts, repeated day in and day out."'})})]})]})]})}const gu={canCreateUsers:!1,canPostNotices:!0,canAppointCoLeaders:!1,canManagePasswords:!1};function iI({selectedStudent:t,studentManagement:e,onNavigateToTab:n}){const{students:i,isAdmin:a,updateStudentRole:o,updateStudentPassword:u,updateCoLeaderPermissions:h}=e,[m,p]=ee.useState(null),[y,b]=ee.useState(""),[_,w]=ee.useState(!1),[S,V]=ee.useState(null),[z,F]=ee.useState("add"),[B,U]=ee.useState(""),[$,q]=ee.useState(""),[L,R]=ee.useState(!1),[C,M]=ee.useState(null),[k,I]=ee.useState(!1),P=t?.role==="co-leader"&&t?.rollNo!==Ve.rollNo,A=ee.useMemo(()=>a?null:P?t?.permissions||gu:null,[a,P,t]),ae=ee.useMemo(()=>i.filter(te=>te.role==="co-leader"&&te.rollNo!==Ve.rollNo),[i]),ge=ee.useMemo(()=>{let te=i;if(P&&!a&&(te=te.filter(Q=>Q.rollNo!==Ve.rollNo)),!y.trim())return te;const j=y.toLowerCase();return te.filter(Q=>Q.name.toLowerCase().includes(j)||Q.rollNo.toLowerCase().includes(j))},[i,y,P,a]),X=async(te,j,Q)=>{if(!a){Ee.error("Only admin can modify co-leader permissions");return}M(`${te}-${j}`);try{const be={...i.find(Ne=>Ne.rollNo===te)?.permissions||gu,[j]:!Q};await h(te,be),Ee.success("Permission updated successfully!")}catch(xe){Ee.error(`Failed to update permission: ${xe.message}`)}finally{M(null)}},fe=(te,j)=>{V(te),F(j),U(""),q(""),R(!1),w(!0)},ve=async()=>{if(z!=="remove"){if(!B.trim()){Ee.error("Please enter a password");return}if(B!==$){Ee.error("Passwords do not match");return}}I(!0);try{z==="remove"?(await u(S.rollNo,"",!0),Ee.success("Password removed successfully!")):(await u(S.rollNo,B),Ee.success(z==="add"?"Password added successfully!":"Password changed successfully!")),w(!1)}catch(te){Ee.error(`Failed to ${z} password: ${te.message}`)}finally{I(!1)}},Ae=te=>{switch(te){case"createUser":n(4,{showCreateForm:!0});break;case"manageNotices":n(2);break;case"viewStudents":n(4);break}},N={canCreateUsers:{label:"Create Users",desc:"Can create new student accounts",icon:G1},canPostNotices:{label:"Post Notices",desc:"Can create and manage notices",icon:Sa},canAppointCoLeaders:{label:"Appoint Co-Leaders",desc:"Can promote students to co-leader role",icon:Qn},canManagePasswords:{label:"Manage Passwords",desc:"Can add, change, or remove user passwords",icon:Ts}},le=(te,j)=>{const xe=(te.permissions||gu)[j]??gu[j],ie=C===`${te.rollNo}-${j}`,be=N[j].icon;return f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${xe?"bg-green-100":"bg-gray-200"}`,children:f.jsx(be,{className:`w-4 h-4 ${xe?"text-green-600":"text-gray-500"}`})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-900 text-sm",children:N[j].label}),f.jsx("p",{className:"text-xs text-gray-500",children:N[j].desc})]})]}),f.jsx("button",{onClick:()=>X(te.rollNo,j,xe),disabled:ie||!a,className:`relative w-12 h-6 rounded-full transition-all ${xe?"bg-green-500":"bg-gray-300"} ${a?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:ie?f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx(Nn,{className:"w-4 h-4 animate-spin text-white"})}):f.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-all ${xe?"left-6":"left-0.5"}`})})]},j)};return t?!a&&!P?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx(qi,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),f.jsx("p",{className:"text-gray-600",children:"Only admins and co-leaders can access this panel"})]})}):f.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[_&&S&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:f.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 ${z==="remove"?"bg-gradient-to-r from-red-500 to-orange-500":"bg-gradient-to-r from-blue-500 to-purple-500"}`,children:f.jsx(Ts,{className:"w-8 h-8 text-white"})}),f.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[z==="add"&&"Add Password",z==="change"&&"Change Password",z==="remove"&&"Remove Password"]}),f.jsx("p",{className:"text-gray-600",children:z==="remove"?`Remove password protection from ${S.name}?`:`Set password for ${S.name}`})]}),z!=="remove"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(Gt,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:L?"text":"password",placeholder:"New password",value:B,onChange:te=>U(te.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),f.jsx("button",{type:"button",onClick:()=>R(!L),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:L?f.jsx(Rs,{className:"w-5 h-5 text-gray-400"}):f.jsx(Ra,{className:"w-5 h-5 text-gray-400"})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(Gt,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:L?"text":"password",placeholder:"Confirm password",value:$,onChange:te=>q(te.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),z==="remove"&&f.jsx("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200 mb-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(zf,{className:"w-5 h-5 text-red-600 mt-0.5"}),f.jsx("p",{className:"text-sm text-red-700",children:"This will allow anyone to access this student's account without a password."})]})}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{onClick:ve,disabled:k,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium ${z==="remove"?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"}`,children:k?f.jsxs(f.Fragment,{children:[f.jsx(Nn,{className:"w-4 h-4 animate-spin"}),f.jsx("span",{children:"Processing..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ts,{className:"w-4 h-4"}),f.jsx("span",{children:z==="remove"?"Remove Password":"Save Password"})]})}),f.jsx("button",{type:"button",onClick:()=>w(!1),disabled:k,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})}),f.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 mb-8 text-center bg-gray-900 border border-gray-800 shadow-2xl",children:[f.jsx("div",{className:`absolute top-0 right-0 w-64 h-64 bg-gradient-to-br rounded-full blur-[100px] opacity-30 ${a?"from-yellow-600 to-amber-800":"from-purple-600 to-pink-800"}`}),f.jsx("div",{className:`absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr rounded-full blur-[100px] opacity-30 ${a?"from-amber-600 to-yellow-800":"from-pink-600 to-purple-800"}`}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 shadow-xl",children:a?f.jsx(Zn,{className:"w-10 h-10 text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"}):f.jsx(Qn,{className:"w-10 h-10 text-purple-400 drop-shadow-[0_0_15px_rgba(192,132,252,0.5)]"})}),f.jsx("h2",{className:"text-4xl font-extrabold text-white mb-2 tracking-tight",children:"Admin Privileges"}),f.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-lg",children:a?"Manage co-leader permissions and quick admin actions with executive control":"View your assigned permissions and accessible management tools"})]})]}),f.jsxs("div",{className:`relative overflow-hidden rounded-3xl p-1 border shadow-xl ${a?"bg-gradient-to-br from-amber-200/50 via-yellow-100/50 to-orange-100/50 border-amber-200":"bg-gradient-to-br from-purple-200/50 via-fuchsia-100/50 to-pink-100/50 border-purple-200"}`,children:[f.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-overlay bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),f.jsxs("div",{className:"relative flex items-center gap-6 p-6 rounded-[20px] backdrop-blur-sm bg-white/40",children:[f.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg ${a?"bg-gradient-to-br from-yellow-400 to-amber-600 text-white":"bg-gradient-to-br from-purple-500 to-fuchsia-600 text-white"}`,children:a?f.jsx(Zn,{className:"w-8 h-8 drop-shadow-md"}):f.jsx(Qn,{className:"w-8 h-8 drop-shadow-md"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h3",{className:`font-bold text-2xl ${a?"text-amber-900":"text-purple-900"}`,children:a?"Administrator":"Co-Leader"}),f.jsx("span",{className:`px-3 py-0.5 rounded-full text-xs font-bold uppercase tracking-wider ${a?"bg-amber-900/10 text-amber-900":"bg-purple-900/10 text-purple-900"}`,children:"Verified"})]}),f.jsxs("p",{className:`font-medium ${a?"text-amber-700":"text-purple-700"}`,children:[t.name," ",f.jsx("span",{className:"opacity-60",children:""})," ",t.rollNo]})]}),f.jsx("div",{className:"ml-auto hidden md:block opacity-10 scale-150 transform translate-x-4",children:a?f.jsx(Zn,{size:120}):f.jsx(Qn,{size:120})})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[f.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg",children:f.jsx(za,{className:"w-5 h-5 text-gray-700"})}),"Quick Actions"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(a||A?.canCreateUsers)&&f.jsxs("button",{onClick:()=>Ae("createUser"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-green-50 hover:from-green-50 hover:to-green-100 rounded-2xl border border-green-100 hover:border-green-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:f.jsx(G1,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{className:"text-left z-10",children:[f.jsx("p",{className:"font-bold text-green-900 text-lg group-hover:text-green-800",children:"Create User"}),f.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Add new student"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-green-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-green-300/30 transition-all"})]}),(a||A?.canPostNotices)&&f.jsxs("button",{onClick:()=>Ae("manageNotices"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-blue-50 hover:from-blue-50 hover:to-blue-100 rounded-2xl border border-blue-100 hover:border-blue-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:f.jsx(Sa,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{className:"text-left z-10",children:[f.jsx("p",{className:"font-bold text-blue-900 text-lg group-hover:text-blue-800",children:"Manage Notices"}),f.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Create & edit notices"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-blue-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-blue-300/30 transition-all"})]}),f.jsxs("button",{onClick:()=>Ae("viewStudents"),className:"relative overflow-hidden flex items-center gap-4 p-5 bg-gradient-to-br from-white to-purple-50 hover:from-purple-50 hover:to-purple-100 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all group shadow-md hover:shadow-lg hover:-translate-y-1",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-fuchsia-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:f.jsx(fi,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{className:"text-left z-10",children:[f.jsx("p",{className:"font-bold text-purple-900 text-lg group-hover:text-purple-800",children:"View Students"}),f.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Student management"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-200/20 rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:bg-purple-300/30 transition-all"})]})]})]}),a&&f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[f.jsx(Qn,{className:"w-5 h-5 text-purple-500"}),"Co-Leader Permissions",f.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",ae.length," co-leader",ae.length!==1?"s":"",")"]})]}),ae.length===0?f.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-2xl",children:[f.jsx(Qn,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),f.jsx("p",{className:"text-gray-600 mb-2",children:"No co-leaders appointed yet"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Go to Student & Settings to promote students to co-leader role"})]}):f.jsx("div",{className:"space-y-4",children:ae.map(te=>f.jsxs("div",{className:"border border-gray-200 rounded-2xl overflow-hidden",children:[f.jsxs("button",{onClick:()=>p(m===te.rollNo?null:te.rollNo),className:"w-full flex items-center justify-between p-4 bg-purple-50 hover:bg-purple-100 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-xl flex items-center justify-center",children:f.jsx(Qn,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-medium text-purple-900",children:te.name}),f.jsx("p",{className:"text-sm text-purple-700",children:te.rollNo})]})]}),m===te.rollNo?f.jsx(c0,{className:"w-5 h-5 text-purple-600"}):f.jsx(u0,{className:"w-5 h-5 text-purple-600"})]}),m===te.rollNo&&f.jsx("div",{className:"p-4 space-y-3 bg-white",children:Object.keys(N).map(j=>le(te,j))})]},te.rollNo))})]}),P&&A&&f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[f.jsx(qi,{className:"w-5 h-5 text-purple-500"}),"Your Permissions"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(N).map(([te,j])=>{const Q=A[te]??gu[te],xe=j.icon;return f.jsx("div",{className:`p-4 rounded-2xl border ${Q?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${Q?"bg-green-500":"bg-gray-400"}`,children:f.jsx(xe,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx("p",{className:`font-medium ${Q?"text-green-900":"text-gray-700"}`,children:j.label}),f.jsx("p",{className:"text-xs text-gray-500",children:j.desc})]}),f.jsx("div",{className:"ml-auto",children:Q?f.jsx($u,{className:"w-5 h-5 text-green-600"}):f.jsx(Cn,{className:"w-5 h-5 text-gray-400"})})]})},te)})})]}),(a||A?.canManagePasswords)&&f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[f.jsx(Ts,{className:"w-5 h-5 text-blue-500"}),"Password Management"]}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:f.jsx(xh,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:y,onChange:te=>b(te.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),y&&f.jsx("button",{onClick:()=>b(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f.jsx(Cn,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),f.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ge.map(te=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${te.rollNo===Ve.rollNo?"bg-yellow-100":te.role==="co-leader"?"bg-purple-100":"bg-blue-100"}`,children:te.rollNo===Ve.rollNo?f.jsx(Zn,{className:"w-4 h-4 text-yellow-600"}):te.role==="co-leader"?f.jsx(Qn,{className:"w-4 h-4 text-purple-600"}):f.jsx(d0,{className:"w-4 h-4 text-blue-600"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-900 text-sm",children:te.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-gray-500",children:te.rollNo}),te.isProtected&&f.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[f.jsx(Gt,{className:"w-3 h-3"}),"Protected"]})]})]})]}),f.jsx("div",{className:"flex items-center gap-2",children:te.isProtected?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>fe(te,"change"),className:"px-3 py-1.5 text-xs font-medium bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all",children:"Change"}),te.rollNo!==Ve.rollNo&&f.jsx("button",{onClick:()=>fe(te,"remove"),className:"px-3 py-1.5 text-xs font-medium bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:"Remove"})]}):f.jsx("button",{onClick:()=>fe(te,"add"),className:"px-3 py-1.5 text-xs font-medium bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all",children:"Add Password"})})]},te.rollNo))})]})]}):f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx(qi,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),f.jsx("p",{className:"text-gray-600",children:"Please select a student to view admin privileges"})]})})}function sI(t,e){const[n,i]=ee.useState(()=>{try{const u=window.localStorage.getItem(t);return u?JSON.parse(u):e}catch(u){return console.error(`Error loading localStorage key "${t}":`,u),e}});return[n,u=>{try{i(u),window.localStorage.setItem(t,JSON.stringify(u))}catch(h){console.error(`Error setting localStorage key "${t}":`,h)}},()=>{try{i(e),window.localStorage.removeItem(t)}catch(u){console.error(`Error clearing localStorage key "${t}":`,u)}}]}function aI(t){const[e,n]=ee.useState(navigator.onLine),[i,a]=ee.useState(!1),[o,u]=ee.useState(null);return ee.useEffect(()=>{const p=()=>n(!0),y=()=>n(!1);return window.addEventListener("online",p),window.addEventListener("offline",y),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",y)}},[]),{isOnline:e,isSyncing:i,lastSynced:o,saveToFirestore:async(p,y,b,_)=>{if(!t)return!1;try{a(!0);const w=On($t,"academic-data",`${t}-${p}-${y}`);return await Ui(w,{studentId:t,semester:p,subject:y,type:_,data:b,timestamp:Fl(),lastModified:new Date().toISOString()}),u(new Date),!0}catch(w){return console.error("Error saving to Firestore:",w),!1}finally{a(!1)}},loadAllData:async()=>{if(!t)return{};try{a(!0);const p=Z0(zu($t,"academic-data"),q_("studentId","==",t));return new Promise((y,b)=>$_(p,w=>{const S={};w.forEach(V=>{const z=V.data(),F=`${z.semester}-${z.subject}`;S[F]=z}),u(new Date),y(S)},w=>{console.error("Error loading all data:",w),b(w)}))}catch(p){return console.error("Error setting up real-time listener:",p),{}}finally{a(!1)}}}}function lI(){const[t,e]=ee.useState(0),[n,i]=ee.useState(5),[a,o]=ee.useState(!1),u=ew(),{students:h,selectedStudent:m,isLoading:p,hasInitialized:y,selectStudent:b}=u,_=m?`academic-data-${m.rollNo}`:"academic-data-temp",[w,S]=sI(_,{}),V=m?.rollNo,{isOnline:z,isSyncing:F,lastSynced:B,saveToFirestore:U,loadAllData:$}=aI(V);ee.useEffect(()=>{let I=!1;if(!m){S({});return}return o(!0),S({}),setTimeout(async()=>{if(!I){if(z&&m)try{const P=await $();I||P&&Object.keys(P).length>0&&S(P)}catch{I||S({})}I||o(!1)}},50),()=>{I=!0}},[m,z]);const q=I=>{if(!I||!I.admissionYear)return!1;const P=new Date;return(P.getMonth()+1>=7?P.getFullYear():P.getFullYear()-1)-Number(I.admissionYear)>=4};ee.useEffect(()=>{if(m){const I=R(m);I?i(I):m.isDSY&&i(P=>P<3?3:P),q(m)&&e(5),!q(m)&&t===5&&e(0)}},[m]);const L=async(I,P,A="theory")=>{if(!m)return;const ae=`${n}-${I}`,ge={data:P,type:A,semester:n,subject:I},X={...w,[ae]:ge};if(S(X),z)try{await U(n,I,P,A)}catch(fe){console.error("Error syncing to Firestore:",fe)}},R=I=>{if(!I||!I.admissionYear)return null;const P=new Date,A=P.getMonth()+1,ae=A>=7?P.getFullYear():P.getFullYear()-1,ge=Number(I.admissionYear);let X=ae-ge;X<0&&(X=0);const fe=I.isDSY?3:1,ve=A>=7?0:1;let Ae=fe+X*2+ve;return Ae<fe&&(Ae=fe),Ae>8&&(Ae=8),Ae},C=I=>{S({});const P=R(I);P&&i(P),b(I)};if(!m||p||!y||a)return f.jsx(vN,{students:h,onStudentSelect:C,isLoading:p||!y||a,studentManagement:u});const M={isOnline:z,isSyncing:F,lastSynced:B},k=()=>{b(null),localStorage.removeItem("selected-student"),S({})};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[f.jsx(_N,{semester:n,syncStatus:M,selectedStudent:m,onStudentSwitch:k}),f.jsx(EN,{activeTab:t,onTabChange:e,showDegreeTab:q(m),showAdminTab:m?.rollNo===Ve.rollNo||m?.role==="co-leader"}),f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[f.jsx(Ea,{value:t,index:0,children:f.jsx(NN,{semester:n,allData:w,handleDataChange:L})}),f.jsx(Ea,{value:t,index:1,children:f.jsx(AN,{semester:n,allData:w,handleDataChange:L})}),f.jsx(Ea,{value:t,index:2,children:f.jsx(W7,{selectedStudent:m})}),f.jsx(Ea,{value:t,index:3,children:f.jsx(tI,{selectedStudent:m})}),f.jsx(Ea,{value:t,index:4,children:f.jsx(nI,{semester:n,setSemester:i,studentManagement:u})}),f.jsx(Ea,{value:t,index:5,children:f.jsx(rI,{selectedStudent:m})}),f.jsx(Ea,{value:t,index:6,children:f.jsx(iI,{selectedStudent:m,studentManagement:u,onNavigateToTab:(I,P)=>{e(I)}})})]})]})}function oI({children:t}){return f.jsxs(f.Fragment,{children:[t,f.jsx(J7,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastStyle:{fontSize:"14px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"}})]})}YE.createRoot(document.getElementById("root")).render(f.jsx(mt.StrictMode,{children:f.jsx(oI,{children:f.jsx(lI,{})})}));
