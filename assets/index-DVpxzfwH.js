(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function fh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vm={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function DT(){if(A1)return tu;A1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:o}}return tu.Fragment=e,tu.jsx=n,tu.jsxs=n,tu}var N1;function IT(){return N1||(N1=1,Vm.exports=DT()),Vm.exports}var d=IT(),Pm={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function MT(){if(C1)return Ue;C1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,V={};function P(S,se,ge){this.props=S,this.context=se,this.refs=V,this.updater=ge||w}P.prototype.isReactComponent={},P.prototype.setState=function(S,se){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,se,"setState")},P.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function L(){}L.prototype=P.prototype;function q(S,se,ge){this.props=S,this.context=se,this.refs=V,this.updater=ge||w}var B=q.prototype=new L;B.constructor=q,N(B,P.prototype),B.isPureReactComponent=!0;var J=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function D(S,se,ge,j,Y,xe){return ge=xe.ref,{$$typeof:t,type:S,key:se,ref:ge!==void 0?ge:null,props:xe}}function C(S,se){return D(S.type,se,void 0,void 0,void 0,S.props)}function M(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function k(S){var se={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ge){return se[ge]})}var I=/\/+/g;function z(S,se){return typeof S=="object"&&S!==null&&S.key!=null?k(""+S.key):se.toString(36)}function A(){}function ae(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(A,A):(S.status="pending",S.then(function(se){S.status==="pending"&&(S.status="fulfilled",S.value=se)},function(se){S.status==="pending"&&(S.status="rejected",S.reason=se)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function pe(S,se,ge,j,Y){var xe=typeof S;(xe==="undefined"||xe==="boolean")&&(S=null);var ne=!1;if(S===null)ne=!0;else switch(xe){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(S.$$typeof){case t:case e:ne=!0;break;case x:return ne=S._init,pe(ne(S._payload),se,ge,j,Y)}}if(ne)return Y=Y(S),ne=j===""?"."+z(S,0):j,J(Y)?(ge="",ne!=null&&(ge=ne.replace(I,"$&/")+"/"),pe(Y,se,ge,"",function(pt){return pt})):Y!=null&&(M(Y)&&(Y=C(Y,ge+(Y.key==null||S&&S.key===Y.key?"":(""+Y.key).replace(I,"$&/")+"/")+ne)),se.push(Y)),1;ne=0;var be=j===""?".":j+":";if(J(S))for(var Te=0;Te<S.length;Te++)j=S[Te],xe=be+z(j,Te),ne+=pe(j,se,ge,xe,Y);else if(Te=_(S),typeof Te=="function")for(S=Te.call(S),Te=0;!(j=S.next()).done;)j=j.value,xe=be+z(j,Te++),ne+=pe(j,se,ge,xe,Y);else if(xe==="object"){if(typeof S.then=="function")return pe(ae(S),se,ge,j,Y);throw se=String(S),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ne}function X(S,se,ge){if(S==null)return S;var j=[],Y=0;return pe(S,j,"","",function(xe){return se.call(ge,xe,Y++)}),j}function ce(S){if(S._status===-1){var se=S._result;se=se(),se.then(function(ge){(S._status===0||S._status===-1)&&(S._status=1,S._result=ge)},function(ge){(S._status===0||S._status===-1)&&(S._status=2,S._result=ge)}),S._status===-1&&(S._status=0,S._result=se)}if(S._status===1)return S._result.default;throw S._result}var _e=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function ke(){}return Ue.Children={map:X,forEach:function(S,se,ge){X(S,function(){se.apply(this,arguments)},ge)},count:function(S){var se=0;return X(S,function(){se++}),se},toArray:function(S){return X(S,function(se){return se})||[]},only:function(S){if(!M(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ue.Component=P,Ue.Fragment=n,Ue.Profiler=s,Ue.PureComponent=q,Ue.StrictMode=i,Ue.Suspense=m,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(S){return F.H.useMemoCache(S)}},Ue.cache=function(S){return function(){return S.apply(null,arguments)}},Ue.cloneElement=function(S,se,ge){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var j=N({},S.props),Y=S.key,xe=void 0;if(se!=null)for(ne in se.ref!==void 0&&(xe=void 0),se.key!==void 0&&(Y=""+se.key),se)!U.call(se,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&se.ref===void 0||(j[ne]=se[ne]);var ne=arguments.length-2;if(ne===1)j.children=ge;else if(1<ne){for(var be=Array(ne),Te=0;Te<ne;Te++)be[Te]=arguments[Te+2];j.children=be}return D(S.type,Y,void 0,void 0,xe,j)},Ue.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},Ue.createElement=function(S,se,ge){var j,Y={},xe=null;if(se!=null)for(j in se.key!==void 0&&(xe=""+se.key),se)U.call(se,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(Y[j]=se[j]);var ne=arguments.length-2;if(ne===1)Y.children=ge;else if(1<ne){for(var be=Array(ne),Te=0;Te<ne;Te++)be[Te]=arguments[Te+2];Y.children=be}if(S&&S.defaultProps)for(j in ne=S.defaultProps,ne)Y[j]===void 0&&(Y[j]=ne[j]);return D(S,xe,void 0,void 0,null,Y)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(S){return{$$typeof:h,render:S}},Ue.isValidElement=M,Ue.lazy=function(S){return{$$typeof:x,_payload:{_status:-1,_result:S},_init:ce}},Ue.memo=function(S,se){return{$$typeof:g,type:S,compare:se===void 0?null:se}},Ue.startTransition=function(S){var se=F.T,ge={};F.T=ge;try{var j=S(),Y=F.S;Y!==null&&Y(ge,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(ke,_e)}catch(xe){_e(xe)}finally{F.T=se}},Ue.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ue.use=function(S){return F.H.use(S)},Ue.useActionState=function(S,se,ge){return F.H.useActionState(S,se,ge)},Ue.useCallback=function(S,se){return F.H.useCallback(S,se)},Ue.useContext=function(S){return F.H.useContext(S)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(S,se){return F.H.useDeferredValue(S,se)},Ue.useEffect=function(S,se,ge){var j=F.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(S,se)},Ue.useId=function(){return F.H.useId()},Ue.useImperativeHandle=function(S,se,ge){return F.H.useImperativeHandle(S,se,ge)},Ue.useInsertionEffect=function(S,se){return F.H.useInsertionEffect(S,se)},Ue.useLayoutEffect=function(S,se){return F.H.useLayoutEffect(S,se)},Ue.useMemo=function(S,se){return F.H.useMemo(S,se)},Ue.useOptimistic=function(S,se){return F.H.useOptimistic(S,se)},Ue.useReducer=function(S,se,ge){return F.H.useReducer(S,se,ge)},Ue.useRef=function(S){return F.H.useRef(S)},Ue.useState=function(S){return F.H.useState(S)},Ue.useSyncExternalStore=function(S,se,ge){return F.H.useSyncExternalStore(S,se,ge)},Ue.useTransition=function(){return F.H.useTransition()},Ue.version="19.1.1",Ue}var k1;function r0(){return k1||(k1=1,Pm.exports=MT()),Pm.exports}var ie=r0();const mt=fh(ie);var Lm={exports:{}},nu={},zm={exports:{}},Um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1;function OT(){return R1||(R1=1,(function(t){function e(X,ce){var _e=X.length;X.push(ce);e:for(;0<_e;){var ke=_e-1>>>1,S=X[ke];if(0<s(S,ce))X[ke]=ce,X[_e]=S,_e=ke;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ce=X[0],_e=X.pop();if(_e!==ce){X[0]=_e;e:for(var ke=0,S=X.length,se=S>>>1;ke<se;){var ge=2*(ke+1)-1,j=X[ge],Y=ge+1,xe=X[Y];if(0>s(j,_e))Y<S&&0>s(xe,j)?(X[ke]=xe,X[Y]=_e,ke=Y):(X[ke]=j,X[ge]=_e,ke=ge);else if(Y<S&&0>s(xe,_e))X[ke]=xe,X[Y]=_e,ke=Y;else break e}}return ce}function s(X,ce){var _e=X.sortIndex-ce.sortIndex;return _e!==0?_e:X.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],g=[],x=1,b=null,_=3,w=!1,N=!1,V=!1,P=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function J(X){for(var ce=n(g);ce!==null;){if(ce.callback===null)i(g);else if(ce.startTime<=X)i(g),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=n(g)}}function F(X){if(V=!1,J(X),!N)if(n(m)!==null)N=!0,U||(U=!0,z());else{var ce=n(g);ce!==null&&pe(F,ce.startTime-X)}}var U=!1,D=-1,C=5,M=-1;function k(){return P?!0:!(t.unstable_now()-M<C)}function I(){if(P=!1,U){var X=t.unstable_now();M=X;var ce=!0;try{e:{N=!1,V&&(V=!1,q(D),D=-1),w=!0;var _e=_;try{t:{for(J(X),b=n(m);b!==null&&!(b.expirationTime>X&&k());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,_=b.priorityLevel;var S=ke(b.expirationTime<=X);if(X=t.unstable_now(),typeof S=="function"){b.callback=S,J(X),ce=!0;break t}b===n(m)&&i(m),J(X)}else i(m);b=n(m)}if(b!==null)ce=!0;else{var se=n(g);se!==null&&pe(F,se.startTime-X),ce=!1}}break e}finally{b=null,_=_e,w=!1}ce=void 0}}finally{ce?z():U=!1}}}var z;if(typeof B=="function")z=function(){B(I)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ae=A.port2;A.port1.onmessage=I,z=function(){ae.postMessage(null)}}else z=function(){L(I,0)};function pe(X,ce){D=L(function(){X(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(X){switch(_){case 1:case 2:case 3:var ce=3;break;default:ce=_}var _e=_;_=ce;try{return X()}finally{_=_e}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var _e=_;_=X;try{return ce()}finally{_=_e}},t.unstable_scheduleCallback=function(X,ce,_e){var ke=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?ke+_e:ke):_e=ke,X){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=_e+S,X={id:x++,callback:ce,priorityLevel:X,startTime:_e,expirationTime:S,sortIndex:-1},_e>ke?(X.sortIndex=_e,e(g,X),n(m)===null&&X===n(g)&&(V?(q(D),D=-1):V=!0,pe(F,_e-ke))):(X.sortIndex=S,e(m,X),N||w||(N=!0,U||(U=!0,z()))),X},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(X){var ce=_;return function(){var _e=_;_=ce;try{return X.apply(this,arguments)}finally{_=_e}}}})(Um)),Um}var j1;function VT(){return j1||(j1=1,zm.exports=OT()),zm.exports}var Bm={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function PT(){if(D1)return Tn;D1=1;var t=r0();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(m,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:m,containerInfo:g,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tn.createPortal=function(m,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(m,g,null,x)},Tn.flushSync=function(m){var g=u.T,x=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=g,i.p=x,i.d.f()}},Tn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Tn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Tn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var x=g.as,b=h(x,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:w}):x==="script"&&i.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=h(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Tn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=h(x,g.crossOrigin);i.d.L(m,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(m,g){if(typeof m=="string")if(g){var x=h(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Tn.requestFormReset=function(m){i.d.r(m)},Tn.unstable_batchedUpdates=function(m,g){return m(g)},Tn.useFormState=function(m,g,x){return u.H.useFormState(m,g,x)},Tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Tn.version="19.1.1",Tn}var I1;function LT(){if(I1)return Bm.exports;I1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bm.exports=PT(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function zT(){if(M1)return nu;M1=1;var t=VT(),e=r0(),n=LT();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(i(188))}function m(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),r;if(y===c)return h(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var T=!1,R=p.child;R;){if(R===l){T=!0,l=p,c=y;break}if(R===c){T=!0,c=p,l=y;break}R=R.sibling}if(!T){for(R=y.child;R;){if(R===l){T=!0,l=y,c=p;break}if(R===c){T=!0,c=y,l=p;break}R=R.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var A=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===A?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case P:return"Profiler";case V:return"StrictMode";case F:return"Suspense";case U:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case B:return(r.displayName||"Context")+".Provider";case q:return(r._context.displayName||"Context")+".Consumer";case J:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:ae(r.type)||"Memo";case C:a=r._payload,r=r._init;try{return ae(r(a))}catch{}}return null}var pe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},ke=[],S=-1;function se(r){return{current:r}}function ge(r){0>S||(r.current=ke[S],ke[S]=null,S--)}function j(r,a){S++,ke[S]=r.current,r.current=a}var Y=se(null),xe=se(null),ne=se(null),be=se(null);function Te(r,a){switch(j(ne,a),j(xe,r),j(Y,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?e1(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=e1(a),r=t1(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(Y),j(Y,r)}function pt(){ge(Y),ge(xe),ge(ne)}function Nt(r){r.memoizedState!==null&&j(be,r);var a=Y.current,l=t1(a,r.type);a!==l&&(j(xe,r),j(Y,l))}function Dt(r){xe.current===r&&(ge(Y),ge(xe)),be.current===r&&(ge(be),Ko._currentValue=_e)}var Rn=Object.prototype.hasOwnProperty,en=t.unstable_scheduleCallback,or=t.unstable_cancelCallback,cn=t.unstable_shouldYield,Sr=t.unstable_requestPaint,fn=t.unstable_now,ui=t.unstable_getCurrentPriorityLevel,wn=t.unstable_ImmediatePriority,Ar=t.unstable_UserBlockingPriority,ur=t.unstable_NormalPriority,ci=t.unstable_LowPriority,Or=t.unstable_IdlePriority,fi=t.log,$i=t.unstable_setDisableYieldValue,te=null,de=null;function Ae(r){if(typeof fi=="function"&&$i(r),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(te,r)}catch{}}var De=Math.clz32?Math.clz32:tn,Ze=Math.log,hn=Math.LN2;function tn(r){return r>>>=0,r===0?32:31-(Ze(r)/hn|0)|0}var Lt=256,jn=4194304;function Yt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ct(r,a,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var R=c&134217727;return R!==0?(c=R&~y,c!==0?p=Yt(c):(T&=R,T!==0?p=Yt(T):l||(l=R&~r,l!==0&&(p=Yt(l))))):(R=c&~y,R!==0?p=Yt(R):T!==0?p=Yt(T):l||(l=c&~r,l!==0&&(p=Yt(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function It(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function fe(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qe(){var r=Lt;return Lt<<=1,(Lt&4194048)===0&&(Lt=256),r}function _t(){var r=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),r}function Yn(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function hi(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Jl(r,a,l,c,p,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var R=r.entanglements,H=r.expirationTimes,Z=r.hiddenUpdates;for(l=T&~l;0<l;){var le=31-De(l),he=1<<le;R[le]=0,H[le]=-1;var W=Z[le];if(W!==null)for(Z[le]=null,le=0;le<W.length;le++){var ee=W[le];ee!==null&&(ee.lane&=-536870913)}l&=~he}c!==0&&Vr(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~a))}function Vr(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-De(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function Wl(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-De(l),p=1<<c;p&a|r[c]&a&&(r[c]|=a),l&=~p}}function Gi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ks(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Yi(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:v1(r.type))}function ic(r,a){var l=ce.p;try{return ce.p=r,a()}finally{ce.p=l}}var Et=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Et,zt="__reactProps$"+Et,cr="__reactContainer$"+Et,eo="__reactEvents$"+Et,zh="__reactListeners$"+Et,Qi="__reactHandles$"+Et,ac="__reactResources$"+Et,La="__reactMarker$"+Et;function Xi(r){delete r[Qt],delete r[zt],delete r[eo],delete r[zh],delete r[Qi]}function di(r){var a=r[Qt];if(a)return a;for(var l=r.parentNode;l;){if(a=l[cr]||l[Qt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=a1(r);r!==null;){if(l=r[Qt])return l;r=a1(r)}return a}r=l,l=r.parentNode}return null}function Pr(r){if(r=r[Qt]||r[cr]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Lr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Dn(r){var a=r[ac];return a||(a=r[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Mt(r){r[La]=!0}var to=new Set,Rs={};function Nr(r,a){mi(r,a),mi(r+"Capture",a)}function mi(r,a){for(Rs[r]=a,r=0;r<a.length;r++)to.add(a[r])}var sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},za={};function oc(r){return Rn.call(za,r)?!0:Rn.call(lc,r)?!1:sc.test(r)?za[r]=!0:(lc[r]=!0,!1)}function Ki(r,a,l){if(oc(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function zr(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function dn(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}var Ua,uc;function pi(r){if(Ua===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ua=a&&a[1]||"",uc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+r+uc}var js=!1;function Ds(r,a){if(!r||js)return"";js=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ee){var W=ee}Reflect.construct(r,[],he)}else{try{he.call()}catch(ee){W=ee}r.call(he.prototype)}}else{try{throw Error()}catch(ee){W=ee}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ee){if(ee&&W&&typeof ee.stack=="string")return[ee.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],R=y[1];if(T&&R){var H=T.split(`
`),Z=R.split(`
`);for(p=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(c===H.length||p===Z.length)for(c=H.length-1,p=Z.length-1;1<=c&&0<=p&&H[c]!==Z[p];)p--;for(;1<=c&&0<=p;c--,p--)if(H[c]!==Z[p]){if(c!==1||p!==1)do if(c--,p--,0>p||H[c]!==Z[p]){var le=`
`+H[c].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=c&&0<=p);break}}}finally{js=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?pi(l):""}function no(r){switch(r.tag){case 26:case 27:case 5:return pi(r.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Ds(r.type,!1);case 11:return Ds(r.type.render,!1);case 1:return Ds(r.type,!0);case 31:return pi("Activity");default:return""}}function Is(r){try{var a="";do a+=no(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function In(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ro(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Uh(r){var a=ro(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),c=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ms(r){r._valueTracker||(r._valueTracker=Uh(r))}function io(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=ro(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function Ba(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Bh=/[\n"\\]/g;function Ut(r){return r.replace(Bh,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Qn(r,a,l,c,p,y,T,R){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),a!=null?T==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+In(a)):r.value!==""+In(a)&&(r.value=""+In(a)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),a!=null?Zi(r,T,In(a)):l!=null?Zi(r,T,In(l)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+In(R):r.removeAttribute("name")}function qa(r,a,l,c,p,y,T,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+In(l):"",a=a!=null?""+In(a):l,R||a===r.value||(r.value=a),r.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=R?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Zi(r,a,l){a==="number"&&Ba(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function gi(r,a,l,c){if(r=r.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=a.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+In(l),a=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function ct(r,a,l){if(a!=null&&(a=""+In(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+In(l):""}function Fa(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(pe(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=In(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function fr(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cc(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||Ha.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function ao(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&cc(r,p,c)}else for(var y in a)a.hasOwnProperty(y)&&cc(r,y,a[y])}function so(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(r){return Fh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var yi=null;function hr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xi=null,bi=null;function lo(r){var a=Pr(r);if(a&&(r=a.stateNode)){var l=r[zt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Qn(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ut(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var p=c[zt]||null;if(!p)throw Error(i(90));Qn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&io(c)}break e;case"textarea":ct(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&gi(r,!!l.multiple,a,!1)}}}var Ur=!1;function fc(r,a,l){if(Ur)return r(a,l);Ur=!0;try{var c=r(a);return c}finally{if(Ur=!1,(xi!==null||bi!==null)&&(af(),xi&&(a=xi,r=bi,bi=xi=null,lo(a),r)))for(a=0;a<r.length;a++)lo(r[a])}}function $a(r,a){var l=r.stateNode;if(l===null)return null;var c=l[zt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Cr)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{dr=!1}var Br=null,Ji=null,vi=null;function oo(){if(vi)return vi;var r,a=Ji,l=a.length,c,p="value"in Br?Br.value:Br.textContent,y=p.length;for(r=0;r<l&&a[r]===p[r];r++);var T=l-r;for(c=1;c<=T&&a[l-c]===p[y-c];c++);return vi=p.slice(r,1<c?1-c:void 0)}function qr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Fr(){return!0}function uo(){return!1}function nn(r){function a(l,c,p,y,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Fr:uo,this.isPropagationStopped=uo,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),a}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=nn(st),Ya=x({},st,{view:0,detail:0}),hc=nn(Ya),Ps,Ls,Hr,Qa=x({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hr&&(Hr&&r.type==="mousemove"?(Ps=r.screenX-Hr.screenX,Ls=r.screenY-Hr.screenY):Ls=Ps=0,Hr=r),Ps)},movementY:function(r){return"movementY"in r?r.movementY:Ls}}),mr=nn(Qa),dc=x({},Qa,{dataTransfer:0}),Hh=nn(dc),Xa=x({},Ya,{relatedTarget:0}),zs=nn(Xa),co=x({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),Us=nn(co),mc=x({},st,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Bs=nn(mc),$h=x({},st,{data:0}),fo=nn($h),Ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ho(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=gc[r])?!!a[r]:!1}function Za(){return ho}var yc=x({},Ya,{key:function(r){if(r.key){var a=Ka[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=qr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(r){return r.type==="keypress"?qr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?qr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qs=nn(yc),xc=x({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=nn(xc),_i=x({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),bc=nn(_i),vc=x({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),_c=nn(vc),wc=x({},Qa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Fs=nn(wc),Mn=x({},st,{newState:0,oldState:0}),Ec=nn(Mn),Tc=[9,13,27,32],$r=Cr&&"CompositionEvent"in window,f=null;Cr&&"documentMode"in document&&(f=document.documentMode);var v=Cr&&"TextEvent"in window&&!f,E=Cr&&(!$r||f&&8<f&&11>=f),O=" ",Q=!1;function re(r,a){switch(r){case"keyup":return Tc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Je=!1;function Xt(r,a){switch(r){case"compositionend":return ve(a);case"keypress":return a.which!==32?null:(Q=!0,O);case"textInput":return r=a.data,r===O&&Q?null:r;default:return null}}function We(r,a){if(Je)return r==="compositionend"||!$r&&re(r,a)?(r=oo(),vi=Ji=Br=null,Je=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!rn[r.type]:a==="textarea"}function wi(r,a,l,c){xi?bi?bi.push(c):bi=[c]:xi=c,a=ff(a,"onChange"),0<a.length&&(l=new Vs("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var mn=null,Gr=null;function po(r){Xx(r,0)}function Sc(r){var a=Lr(r);if(io(a))return r}function gg(r,a){if(r==="change")return a}var yg=!1;if(Cr){var Gh;if(Cr){var Yh="oninput"in document;if(!Yh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Yh=typeof xg.oninput=="function"}Gh=Yh}else Gh=!1;yg=Gh&&(!document.documentMode||9<document.documentMode)}function bg(){mn&&(mn.detachEvent("onpropertychange",vg),Gr=mn=null)}function vg(r){if(r.propertyName==="value"&&Sc(Gr)){var a=[];wi(a,Gr,r,hr(r)),fc(po,a)}}function oE(r,a,l){r==="focusin"?(bg(),mn=a,Gr=l,mn.attachEvent("onpropertychange",vg)):r==="focusout"&&bg()}function uE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Sc(Gr)}function cE(r,a){if(r==="click")return Sc(a)}function fE(r,a){if(r==="input"||r==="change")return Sc(a)}function hE(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Xn=typeof Object.is=="function"?Object.is:hE;function go(r,a){if(Xn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Rn.call(a,p)||!Xn(r[p],a[p]))return!1}return!0}function _g(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wg(r,a){var l=_g(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_g(l)}}function Eg(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Eg(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Tg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ba(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Ba(r.document)}return a}function Qh(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var dE=Cr&&"documentMode"in document&&11>=document.documentMode,Hs=null,Xh=null,yo=null,Kh=!1;function Sg(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Kh||Hs==null||Hs!==Ba(c)||(c=Hs,"selectionStart"in c&&Qh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yo&&go(yo,c)||(yo=c,c=ff(Xh,"onSelect"),0<c.length&&(a=new Vs("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=Hs)))}function Ja(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var $s={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Zh={},Ag={};Cr&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function Wa(r){if(Zh[r])return Zh[r];if(!$s[r])return r;var a=$s[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Ag)return Zh[r]=a[l];return r}var Ng=Wa("animationend"),Cg=Wa("animationiteration"),kg=Wa("animationstart"),mE=Wa("transitionrun"),pE=Wa("transitionstart"),gE=Wa("transitioncancel"),Rg=Wa("transitionend"),jg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function kr(r,a){jg.set(r,a),Nr(a,[r])}var Dg=new WeakMap;function pr(r,a){if(typeof r=="object"&&r!==null){var l=Dg.get(r);return l!==void 0?l:(a={value:r,source:a,stack:Is(a)},Dg.set(r,a),a)}return{value:r,source:a,stack:Is(a)}}var gr=[],Gs=0,Wh=0;function Ac(){for(var r=Gs,a=Wh=Gs=0;a<r;){var l=gr[a];gr[a++]=null;var c=gr[a];gr[a++]=null;var p=gr[a];gr[a++]=null;var y=gr[a];if(gr[a++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}y!==0&&Ig(l,p,y)}}function Nc(r,a,l,c){gr[Gs++]=r,gr[Gs++]=a,gr[Gs++]=l,gr[Gs++]=c,Wh|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function ed(r,a,l,c){return Nc(r,a,l,c),Cc(r)}function Ys(r,a){return Nc(r,null,null,a),Cc(r)}function Ig(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&a!==null&&(p=31-De(l),r=y.hiddenUpdates,c=r[p],c===null?r[p]=[a]:c.push(a),a.lane=l|536870912),y):null}function Cc(r){if(50<qo)throw qo=0,sm=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Qs={};function yE(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,a,l,c){return new yE(r,a,l,c)}function td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ei(r,a){var l=r.alternate;return l===null?(l=Kn(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Mg(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function kc(r,a,l,c,p,y){var T=0;if(c=r,typeof r=="function")td(r)&&(T=1);else if(typeof r=="string")T=bT(r,l,Y.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Kn(31,l,a,p),r.elementType=M,r.lanes=y,r;case N:return es(l.children,p,y,a);case V:T=8,p|=24;break;case P:return r=Kn(12,l,a,p|2),r.elementType=P,r.lanes=y,r;case F:return r=Kn(13,l,a,p),r.elementType=F,r.lanes=y,r;case U:return r=Kn(19,l,a,p),r.elementType=U,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:case B:T=10;break e;case q:T=9;break e;case J:T=11;break e;case D:T=14;break e;case C:T=16,c=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=Kn(T,l,a,p),a.elementType=r,a.type=c,a.lanes=y,a}function es(r,a,l,c){return r=Kn(7,r,c,a),r.lanes=l,r}function nd(r,a,l){return r=Kn(6,r,null,a),r.lanes=l,r}function rd(r,a,l){return a=Kn(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Xs=[],Ks=0,Rc=null,jc=0,yr=[],xr=0,ts=null,Ti=1,Si="";function ns(r,a){Xs[Ks++]=jc,Xs[Ks++]=Rc,Rc=r,jc=a}function Og(r,a,l){yr[xr++]=Ti,yr[xr++]=Si,yr[xr++]=ts,ts=r;var c=Ti;r=Si;var p=32-De(c)-1;c&=~(1<<p),l+=1;var y=32-De(a)+p;if(30<y){var T=p-p%5;y=(c&(1<<T)-1).toString(32),c>>=T,p-=T,Ti=1<<32-De(a)+p|l<<p|c,Si=y+r}else Ti=1<<y|l<<p|c,Si=r}function id(r){r.return!==null&&(ns(r,1),Og(r,1,0))}function ad(r){for(;r===Rc;)Rc=Xs[--Ks],Xs[Ks]=null,jc=Xs[--Ks],Xs[Ks]=null;for(;r===ts;)ts=yr[--xr],yr[xr]=null,Si=yr[--xr],yr[xr]=null,Ti=yr[--xr],yr[xr]=null}var On=null,kt=null,at=!1,rs=null,Yr=!1,sd=Error(i(519));function is(r){var a=Error(i(418,""));throw vo(pr(a,r)),sd}function Vg(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[Qt]=r,a[zt]=c,l){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(l=0;l<Ho.length;l++)Ge(Ho[l],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),qa(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ms(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),Fa(a,c.value,c.defaultValue,c.children),Ms(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||Wx(a.textContent,l)?(c.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),c.onScroll!=null&&Ge("scroll",a),c.onScrollEnd!=null&&Ge("scrollend",a),c.onClick!=null&&(a.onclick=hf),a=!0):a=!1,a||is(r)}function Pg(r){for(On=r.return;On;)switch(On.tag){case 5:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:On=On.return}}function xo(r){if(r!==On)return!1;if(!at)return Pg(r),at=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||wm(r.type,r.memoizedProps)),l=!l),l&&kt&&is(r),Pg(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){kt=jr(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}kt=null}}else a===27?(a=kt,ma(r.type)?(r=Am,Am=null,kt=r):kt=a):kt=On?jr(r.stateNode.nextSibling):null;return!0}function bo(){kt=On=null,at=!1}function Lg(){var r=rs;return r!==null&&(qn===null?qn=r:qn.push.apply(qn,r),rs=null),r}function vo(r){rs===null?rs=[r]:rs.push(r)}var ld=se(null),as=null,Ai=null;function Wi(r,a,l){j(ld,a._currentValue),a._currentValue=l}function Ni(r){r._currentValue=ld.current,ge(ld)}function od(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function ud(r,a,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=p;for(var H=0;H<a.length;H++)if(R.context===a[H]){y.lanes|=l,R=y.alternate,R!==null&&(R.lanes|=l),od(y.return,l,r),c||(T=null);break e}y=R.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),od(T,l,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function _o(r,a,l,c){r=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var R=p.type;Xn(p.pendingProps.value,T.value)||(r!==null?r.push(R):r=[R])}}else if(p===be.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Ko):r=[Ko])}p=p.return}r!==null&&ud(a,r,l,c),a.flags|=262144}function Dc(r){for(r=r.firstContext;r!==null;){if(!Xn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ss(r){as=r,Ai=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function En(r){return zg(as,r)}function Ic(r,a){return as===null&&ss(r),zg(r,a)}function zg(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ai===null){if(r===null)throw Error(i(308));Ai=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Ai=Ai.next=a;return l}var xE=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},bE=t.unstable_scheduleCallback,vE=t.unstable_NormalPriority,Zt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new xE,data:new Map,refCount:0}}function wo(r){r.refCount--,r.refCount===0&&bE(vE,function(){r.controller.abort()})}var Eo=null,fd=0,Zs=0,Js=null;function _E(r,a){if(Eo===null){var l=Eo=[];fd=0,Zs=dm(),Js={status:"pending",value:void 0,then:function(c){l.push(c)}}}return fd++,a.then(Ug,Ug),a}function Ug(){if(--fd===0&&Eo!==null){Js!==null&&(Js.status="fulfilled");var r=Eo;Eo=null,Zs=0,Js=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function wE(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var Bg=X.S;X.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&_E(r,a),Bg!==null&&Bg(r,a)};var ls=se(null);function hd(){var r=ls.current;return r!==null?r:xt.pooledCache}function Mc(r,a){a===null?j(ls,ls.current):j(ls,a.pool)}function qg(){var r=hd();return r===null?null:{parent:Zt._currentValue,pool:r}}var To=Error(i(460)),Fg=Error(i(474)),Oc=Error(i(542)),dd={then:function(){}};function Hg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Vc(){}function $g(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(Vc,Vc),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Yg(r),r;default:if(typeof a.status=="string")a.then(Vc,Vc);else{if(r=xt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Yg(r),r}throw So=a,To}}var So=null;function Gg(){if(So===null)throw Error(i(459));var r=So;return So=null,r}function Yg(r){if(r===To||r===Oc)throw Error(i(483))}var ea=!1;function md(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ta(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function na(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Cc(r),Ig(r,null,l),a}return Nc(r,c,a,l),Cc(r)}function Ao(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,Wl(r,l)}}function gd(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var yd=!1;function No(){if(yd){var r=Js;if(r!==null)throw r}}function Co(r,a,l,c){yd=!1;var p=r.updateQueue;ea=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var H=R,Z=H.next;H.next=null,T===null?y=Z:T.next=Z,T=H;var le=r.alternate;le!==null&&(le=le.updateQueue,R=le.lastBaseUpdate,R!==T&&(R===null?le.firstBaseUpdate=Z:R.next=Z,le.lastBaseUpdate=H))}if(y!==null){var he=p.baseState;T=0,le=Z=H=null,R=y;do{var W=R.lane&-536870913,ee=W!==R.lane;if(ee?(et&W)===W:(c&W)===W){W!==0&&W===Zs&&(yd=!0),le!==null&&(le=le.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Pe=r,Me=R;W=a;var dt=l;switch(Me.tag){case 1:if(Pe=Me.payload,typeof Pe=="function"){he=Pe.call(dt,he,W);break e}he=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Me.payload,W=typeof Pe=="function"?Pe.call(dt,he,W):Pe,W==null)break e;he=x({},he,W);break e;case 2:ea=!0}}W=R.callback,W!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[W]:ee.push(W))}else ee={lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},le===null?(Z=le=ee,H=he):le=le.next=ee,T|=W;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);le===null&&(H=he),p.baseState=H,p.firstBaseUpdate=Z,p.lastBaseUpdate=le,y===null&&(p.shared.lanes=0),ca|=T,r.lanes=T,r.memoizedState=he}}function Qg(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Xg(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Qg(l[r],a)}var Ws=se(null),Pc=se(0);function Kg(r,a){r=Mi,j(Pc,r),j(Ws,a),Mi=r|a.baseLanes}function xd(){j(Pc,Mi),j(Ws,Ws.current)}function bd(){Mi=Pc.current,ge(Ws),ge(Pc)}var ra=0,Fe=null,ft=null,Bt=null,Lc=!1,el=!1,os=!1,zc=0,ko=0,tl=null,EE=0;function Ot(){throw Error(i(321))}function vd(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Xn(r[l],a[l]))return!1;return!0}function _d(r,a,l,c,p,y){return ra=y,Fe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=r===null||r.memoizedState===null?Iy:My,os=!1,y=l(c,p),os=!1,el&&(y=Jg(a,l,c,p)),Zg(r),y}function Zg(r){X.H=$c;var a=ft!==null&&ft.next!==null;if(ra=0,Bt=ft=Fe=null,Lc=!1,ko=0,tl=null,a)throw Error(i(300));r===null||an||(r=r.dependencies,r!==null&&Dc(r)&&(an=!0))}function Jg(r,a,l,c){Fe=r;var p=0;do{if(el&&(tl=null),ko=0,el=!1,25<=p)throw Error(i(301));if(p+=1,Bt=ft=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}X.H=RE,y=a(l,c)}while(el);return y}function TE(){var r=X.H,a=r.useState()[0];return a=typeof a.then=="function"?Ro(a):a,r=r.useState()[0],(ft!==null?ft.memoizedState:null)!==r&&(Fe.flags|=1024),a}function wd(){var r=zc!==0;return zc=0,r}function Ed(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Td(r){if(Lc){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Lc=!1}ra=0,Bt=ft=Fe=null,el=!1,ko=zc=0,tl=null}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Fe.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function qt(){if(ft===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=ft.next;var a=Bt===null?Fe.memoizedState:Bt.next;if(a!==null)Bt=a,ft=r;else{if(r===null)throw Fe.alternate===null?Error(i(467)):Error(i(310));ft=r,r={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Bt===null?Fe.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(r){var a=ko;return ko+=1,tl===null&&(tl=[]),r=$g(tl,r,a),a=Fe,(Bt===null?a.memoizedState:Bt.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?Iy:My),r}function Uc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ro(r);if(r.$$typeof===B)return En(r)}throw Error(i(438,String(r)))}function Ad(r){var a=null,l=Fe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Fe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Sd(),Fe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=k;return a.index++,l}function Ci(r,a){return typeof a=="function"?a(r):a}function Bc(r){var a=qt();return Nd(a,ft,r)}function Nd(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}a.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{a=p.next;var R=T=null,H=null,Z=a,le=!1;do{var he=Z.lane&-536870913;if(he!==Z.lane?(et&he)===he:(ra&he)===he){var W=Z.revertLane;if(W===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),he===Zs&&(le=!0);else if((ra&W)===W){Z=Z.next,W===Zs&&(le=!0);continue}else he={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(R=H=he,T=y):H=H.next=he,Fe.lanes|=W,ca|=W;he=Z.action,os&&l(y,he),y=Z.hasEagerState?Z.eagerState:l(y,he)}else W={lane:he,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(R=H=W,T=y):H=H.next=W,Fe.lanes|=he,ca|=he;Z=Z.next}while(Z!==null&&Z!==a);if(H===null?T=y:H.next=R,!Xn(y,r.memoizedState)&&(an=!0,le&&(l=Js,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=H,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Cd(r){var a=qt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);Xn(y,a.memoizedState)||(an=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function Wg(r,a,l){var c=Fe,p=qt(),y=at;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!Xn((ft||p).memoizedState,l);T&&(p.memoizedState=l,an=!0),p=p.queue;var R=ny.bind(null,c,p,r);if(jo(2048,8,R,[r]),p.getSnapshot!==a||T||Bt!==null&&Bt.memoizedState.tag&1){if(c.flags|=2048,nl(9,qc(),ty.bind(null,c,p,l,a),null),xt===null)throw Error(i(349));y||(ra&124)!==0||ey(c,a,l)}return l}function ey(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Fe.updateQueue,a===null?(a=Sd(),Fe.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function ty(r,a,l,c){a.value=l,a.getSnapshot=c,ry(a)&&iy(r)}function ny(r,a,l){return l(function(){ry(a)&&iy(r)})}function ry(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Xn(r,l)}catch{return!0}}function iy(r){var a=Ys(r,2);a!==null&&tr(a,r,2)}function kd(r){var a=Un();if(typeof r=="function"){var l=r;if(r=l(),os){Ae(!0);try{l()}finally{Ae(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:r},a}function ay(r,a,l,c){return r.baseState=l,Nd(r,ft,typeof c=="function"?c:Ci)}function SE(r,a,l,c,p){if(Hc(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};X.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,sy(a,y)):(y.next=l.next,a.pending=l.next=y)}}function sy(r,a){var l=a.action,c=a.payload,p=r.state;if(a.isTransition){var y=X.T,T={};X.T=T;try{var R=l(p,c),H=X.S;H!==null&&H(T,R),ly(r,a,R)}catch(Z){Rd(r,a,Z)}finally{X.T=y}}else try{y=l(p,c),ly(r,a,y)}catch(Z){Rd(r,a,Z)}}function ly(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){oy(r,a,c)},function(c){return Rd(r,a,c)}):oy(r,a,l)}function oy(r,a,l){a.status="fulfilled",a.value=l,uy(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,sy(r,l)))}function Rd(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,uy(a),a=a.next;while(a!==c)}r.action=null}function uy(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function cy(r,a){return a}function fy(r,a){if(at){var l=xt.formState;if(l!==null){e:{var c=Fe;if(at){if(kt){t:{for(var p=kt,y=Yr;p.nodeType!==8;){if(!y){p=null;break t}if(p=jr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){kt=jr(p.nextSibling),c=p.data==="F!";break e}}is(c)}c=!1}c&&(a=l[0])}}return l=Un(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:a},l.queue=c,l=Ry.bind(null,Fe,c),c.dispatch=l,c=kd(!1),y=Od.bind(null,Fe,!1,c.queue),c=Un(),p={state:a,dispatch:null,action:r,pending:null},c.queue=p,l=SE.bind(null,Fe,p,y,l),p.dispatch=l,c.memoizedState=r,[a,l,!1]}function hy(r){var a=qt();return dy(a,ft,r)}function dy(r,a,l){if(a=Nd(r,a,cy)[0],r=Bc(Ci)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Ro(a)}catch(T){throw T===To?Oc:T}else c=a;a=qt();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Fe.flags|=2048,nl(9,qc(),AE.bind(null,p,l),null)),[c,y,r]}function AE(r,a){r.action=a}function my(r){var a=qt(),l=ft;if(l!==null)return dy(a,l,r);qt(),a=a.memoizedState,l=qt();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function nl(r,a,l,c){return r={tag:r,create:l,deps:c,inst:a,next:null},a=Fe.updateQueue,a===null&&(a=Sd(),Fe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function qc(){return{destroy:void 0,resource:void 0}}function py(){return qt().memoizedState}function Fc(r,a,l,c){var p=Un();c=c===void 0?null:c,Fe.flags|=r,p.memoizedState=nl(1|a,qc(),l,c)}function jo(r,a,l,c){var p=qt();c=c===void 0?null:c;var y=p.memoizedState.inst;ft!==null&&c!==null&&vd(c,ft.memoizedState.deps)?p.memoizedState=nl(a,y,l,c):(Fe.flags|=r,p.memoizedState=nl(1|a,y,l,c))}function gy(r,a){Fc(8390656,8,r,a)}function yy(r,a){jo(2048,8,r,a)}function xy(r,a){return jo(4,2,r,a)}function by(r,a){return jo(4,4,r,a)}function vy(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function _y(r,a,l){l=l!=null?l.concat([r]):null,jo(4,4,vy.bind(null,a,r),l)}function jd(){}function wy(r,a){var l=qt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&vd(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function Ey(r,a){var l=qt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&vd(a,c[1]))return c[0];if(c=r(),os){Ae(!0);try{r()}finally{Ae(!1)}}return l.memoizedState=[c,a],c}function Dd(r,a,l){return l===void 0||(ra&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=Ax(),Fe.lanes|=r,ca|=r,l)}function Ty(r,a,l,c){return Xn(l,a)?l:Ws.current!==null?(r=Dd(r,l,c),Xn(r,a)||(an=!0),r):(ra&42)===0?(an=!0,r.memoizedState=l):(r=Ax(),Fe.lanes|=r,ca|=r,a)}function Sy(r,a,l,c,p){var y=ce.p;ce.p=y!==0&&8>y?y:8;var T=X.T,R={};X.T=R,Od(r,!1,a,l);try{var H=p(),Z=X.S;if(Z!==null&&Z(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=wE(H,c);Do(r,a,le,er(r))}else Do(r,a,c,er(r))}catch(he){Do(r,a,{then:function(){},status:"rejected",reason:he},er())}finally{ce.p=y,X.T=T}}function NE(){}function Id(r,a,l,c){if(r.tag!==5)throw Error(i(476));var p=Ay(r).queue;Sy(r,p,a,_e,l===null?NE:function(){return Ny(r),l(c)})}function Ay(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:_e},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Ny(r){var a=Ay(r).next.queue;Do(r,a,{},er())}function Md(){return En(Ko)}function Cy(){return qt().memoizedState}function ky(){return qt().memoizedState}function CE(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=er();r=ta(l);var c=na(a,r,l);c!==null&&(tr(c,a,l),Ao(c,a,l)),a={cache:cd()},r.payload=a;return}a=a.return}}function kE(r,a,l){var c=er();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Hc(r)?jy(a,l):(l=ed(r,a,l,c),l!==null&&(tr(l,r,c),Dy(l,a,c)))}function Ry(r,a,l){var c=er();Do(r,a,l,c)}function Do(r,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hc(r))jy(a,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,R=y(T,l);if(p.hasEagerState=!0,p.eagerState=R,Xn(R,T))return Nc(r,a,p,0),xt===null&&Ac(),!1}catch{}finally{}if(l=ed(r,a,p,c),l!==null)return tr(l,r,c),Dy(l,a,c),!0}return!1}function Od(r,a,l,c){if(c={lane:2,revertLane:dm(),action:c,hasEagerState:!1,eagerState:null,next:null},Hc(r)){if(a)throw Error(i(479))}else a=ed(r,l,c,2),a!==null&&tr(a,r,2)}function Hc(r){var a=r.alternate;return r===Fe||a!==null&&a===Fe}function jy(r,a){el=Lc=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function Dy(r,a,l){if((l&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,Wl(r,l)}}var $c={readContext:En,use:Uc,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},Iy={readContext:En,use:Uc,useCallback:function(r,a){return Un().memoizedState=[r,a===void 0?null:a],r},useContext:En,useEffect:gy,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,Fc(4194308,4,vy.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Fc(4194308,4,r,a)},useInsertionEffect:function(r,a){Fc(4,2,r,a)},useMemo:function(r,a){var l=Un();a=a===void 0?null:a;var c=r();if(os){Ae(!0);try{r()}finally{Ae(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=Un();if(l!==void 0){var p=l(a);if(os){Ae(!0);try{l(a)}finally{Ae(!1)}}}else p=a;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=kE.bind(null,Fe,r),[c.memoizedState,r]},useRef:function(r){var a=Un();return r={current:r},a.memoizedState=r},useState:function(r){r=kd(r);var a=r.queue,l=Ry.bind(null,Fe,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:jd,useDeferredValue:function(r,a){var l=Un();return Dd(l,r,a)},useTransition:function(){var r=kd(!1);return r=Sy.bind(null,Fe,r.queue,!0,!1),Un().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=Fe,p=Un();if(at){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),xt===null)throw Error(i(349));(et&124)!==0||ey(c,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,gy(ny.bind(null,c,y,r),[r]),c.flags|=2048,nl(9,qc(),ty.bind(null,c,y,l,a),null),l},useId:function(){var r=Un(),a=xt.identifierPrefix;if(at){var l=Si,c=Ti;l=(c&~(1<<32-De(c)-1)).toString(32)+l,a=""+a+"R"+l,l=zc++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=EE++,a=""+a+"r"+l.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:Md,useFormState:fy,useActionState:fy,useOptimistic:function(r){var a=Un();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Od.bind(null,Fe,!0,l),l.dispatch=a,[r,a]},useMemoCache:Ad,useCacheRefresh:function(){return Un().memoizedState=CE.bind(null,Fe)}},My={readContext:En,use:Uc,useCallback:wy,useContext:En,useEffect:yy,useImperativeHandle:_y,useInsertionEffect:xy,useLayoutEffect:by,useMemo:Ey,useReducer:Bc,useRef:py,useState:function(){return Bc(Ci)},useDebugValue:jd,useDeferredValue:function(r,a){var l=qt();return Ty(l,ft.memoizedState,r,a)},useTransition:function(){var r=Bc(Ci)[0],a=qt().memoizedState;return[typeof r=="boolean"?r:Ro(r),a]},useSyncExternalStore:Wg,useId:Cy,useHostTransitionStatus:Md,useFormState:hy,useActionState:hy,useOptimistic:function(r,a){var l=qt();return ay(l,ft,r,a)},useMemoCache:Ad,useCacheRefresh:ky},RE={readContext:En,use:Uc,useCallback:wy,useContext:En,useEffect:yy,useImperativeHandle:_y,useInsertionEffect:xy,useLayoutEffect:by,useMemo:Ey,useReducer:Cd,useRef:py,useState:function(){return Cd(Ci)},useDebugValue:jd,useDeferredValue:function(r,a){var l=qt();return ft===null?Dd(l,r,a):Ty(l,ft.memoizedState,r,a)},useTransition:function(){var r=Cd(Ci)[0],a=qt().memoizedState;return[typeof r=="boolean"?r:Ro(r),a]},useSyncExternalStore:Wg,useId:Cy,useHostTransitionStatus:Md,useFormState:my,useActionState:my,useOptimistic:function(r,a){var l=qt();return ft!==null?ay(l,ft,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:ky},rl=null,Io=0;function Gc(r){var a=Io;return Io+=1,rl===null&&(rl=[]),$g(rl,r,a)}function Mo(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Yc(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Oy(r){var a=r._init;return a(r._payload)}function Vy(r){function a(G,$){if(r){var K=G.deletions;K===null?(G.deletions=[$],G.flags|=16):K.push($)}}function l(G,$){if(!r)return null;for(;$!==null;)a(G,$),$=$.sibling;return null}function c(G){for(var $=new Map;G!==null;)G.key!==null?$.set(G.key,G):$.set(G.index,G),G=G.sibling;return $}function p(G,$){return G=Ei(G,$),G.index=0,G.sibling=null,G}function y(G,$,K){return G.index=K,r?(K=G.alternate,K!==null?(K=K.index,K<$?(G.flags|=67108866,$):K):(G.flags|=67108866,$)):(G.flags|=1048576,$)}function T(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function R(G,$,K,ue){return $===null||$.tag!==6?($=nd(K,G.mode,ue),$.return=G,$):($=p($,K),$.return=G,$)}function H(G,$,K,ue){var Se=K.type;return Se===N?le(G,$,K.props.children,ue,K.key):$!==null&&($.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&Oy(Se)===$.type)?($=p($,K.props),Mo($,K),$.return=G,$):($=kc(K.type,K.key,K.props,null,G.mode,ue),Mo($,K),$.return=G,$)}function Z(G,$,K,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=rd(K,G.mode,ue),$.return=G,$):($=p($,K.children||[]),$.return=G,$)}function le(G,$,K,ue,Se){return $===null||$.tag!==7?($=es(K,G.mode,ue,Se),$.return=G,$):($=p($,K),$.return=G,$)}function he(G,$,K){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=nd(""+$,G.mode,K),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return K=kc($.type,$.key,$.props,null,G.mode,K),Mo(K,$),K.return=G,K;case w:return $=rd($,G.mode,K),$.return=G,$;case C:var ue=$._init;return $=ue($._payload),he(G,$,K)}if(pe($)||z($))return $=es($,G.mode,K,null),$.return=G,$;if(typeof $.then=="function")return he(G,Gc($),K);if($.$$typeof===B)return he(G,Ic(G,$),K);Yc(G,$)}return null}function W(G,$,K,ue){var Se=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Se!==null?null:R(G,$,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return K.key===Se?H(G,$,K,ue):null;case w:return K.key===Se?Z(G,$,K,ue):null;case C:return Se=K._init,K=Se(K._payload),W(G,$,K,ue)}if(pe(K)||z(K))return Se!==null?null:le(G,$,K,ue,null);if(typeof K.then=="function")return W(G,$,Gc(K),ue);if(K.$$typeof===B)return W(G,$,Ic(G,K),ue);Yc(G,K)}return null}function ee(G,$,K,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return G=G.get(K)||null,R($,G,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return G=G.get(ue.key===null?K:ue.key)||null,H($,G,ue,Se);case w:return G=G.get(ue.key===null?K:ue.key)||null,Z($,G,ue,Se);case C:var He=ue._init;return ue=He(ue._payload),ee(G,$,K,ue,Se)}if(pe(ue)||z(ue))return G=G.get(K)||null,le($,G,ue,Se,null);if(typeof ue.then=="function")return ee(G,$,K,Gc(ue),Se);if(ue.$$typeof===B)return ee(G,$,K,Ic($,ue),Se);Yc($,ue)}return null}function Pe(G,$,K,ue){for(var Se=null,He=null,Ne=$,Oe=$=0,ln=null;Ne!==null&&Oe<K.length;Oe++){Ne.index>Oe?(ln=Ne,Ne=null):ln=Ne.sibling;var it=W(G,Ne,K[Oe],ue);if(it===null){Ne===null&&(Ne=ln);break}r&&Ne&&it.alternate===null&&a(G,Ne),$=y(it,$,Oe),He===null?Se=it:He.sibling=it,He=it,Ne=ln}if(Oe===K.length)return l(G,Ne),at&&ns(G,Oe),Se;if(Ne===null){for(;Oe<K.length;Oe++)Ne=he(G,K[Oe],ue),Ne!==null&&($=y(Ne,$,Oe),He===null?Se=Ne:He.sibling=Ne,He=Ne);return at&&ns(G,Oe),Se}for(Ne=c(Ne);Oe<K.length;Oe++)ln=ee(Ne,G,Oe,K[Oe],ue),ln!==null&&(r&&ln.alternate!==null&&Ne.delete(ln.key===null?Oe:ln.key),$=y(ln,$,Oe),He===null?Se=ln:He.sibling=ln,He=ln);return r&&Ne.forEach(function(ba){return a(G,ba)}),at&&ns(G,Oe),Se}function Me(G,$,K,ue){if(K==null)throw Error(i(151));for(var Se=null,He=null,Ne=$,Oe=$=0,ln=null,it=K.next();Ne!==null&&!it.done;Oe++,it=K.next()){Ne.index>Oe?(ln=Ne,Ne=null):ln=Ne.sibling;var ba=W(G,Ne,it.value,ue);if(ba===null){Ne===null&&(Ne=ln);break}r&&Ne&&ba.alternate===null&&a(G,Ne),$=y(ba,$,Oe),He===null?Se=ba:He.sibling=ba,He=ba,Ne=ln}if(it.done)return l(G,Ne),at&&ns(G,Oe),Se;if(Ne===null){for(;!it.done;Oe++,it=K.next())it=he(G,it.value,ue),it!==null&&($=y(it,$,Oe),He===null?Se=it:He.sibling=it,He=it);return at&&ns(G,Oe),Se}for(Ne=c(Ne);!it.done;Oe++,it=K.next())it=ee(Ne,G,Oe,it.value,ue),it!==null&&(r&&it.alternate!==null&&Ne.delete(it.key===null?Oe:it.key),$=y(it,$,Oe),He===null?Se=it:He.sibling=it,He=it);return r&&Ne.forEach(function(jT){return a(G,jT)}),at&&ns(G,Oe),Se}function dt(G,$,K,ue){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case _:e:{for(var Se=K.key;$!==null;){if($.key===Se){if(Se=K.type,Se===N){if($.tag===7){l(G,$.sibling),ue=p($,K.props.children),ue.return=G,G=ue;break e}}else if($.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&Oy(Se)===$.type){l(G,$.sibling),ue=p($,K.props),Mo(ue,K),ue.return=G,G=ue;break e}l(G,$);break}else a(G,$);$=$.sibling}K.type===N?(ue=es(K.props.children,G.mode,ue,K.key),ue.return=G,G=ue):(ue=kc(K.type,K.key,K.props,null,G.mode,ue),Mo(ue,K),ue.return=G,G=ue)}return T(G);case w:e:{for(Se=K.key;$!==null;){if($.key===Se)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){l(G,$.sibling),ue=p($,K.children||[]),ue.return=G,G=ue;break e}else{l(G,$);break}else a(G,$);$=$.sibling}ue=rd(K,G.mode,ue),ue.return=G,G=ue}return T(G);case C:return Se=K._init,K=Se(K._payload),dt(G,$,K,ue)}if(pe(K))return Pe(G,$,K,ue);if(z(K)){if(Se=z(K),typeof Se!="function")throw Error(i(150));return K=Se.call(K),Me(G,$,K,ue)}if(typeof K.then=="function")return dt(G,$,Gc(K),ue);if(K.$$typeof===B)return dt(G,$,Ic(G,K),ue);Yc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,$!==null&&$.tag===6?(l(G,$.sibling),ue=p($,K),ue.return=G,G=ue):(l(G,$),ue=nd(K,G.mode,ue),ue.return=G,G=ue),T(G)):l(G,$)}return function(G,$,K,ue){try{Io=0;var Se=dt(G,$,K,ue);return rl=null,Se}catch(Ne){if(Ne===To||Ne===Oc)throw Ne;var He=Kn(29,Ne,null,G.mode);return He.lanes=ue,He.return=G,He}finally{}}}var il=Vy(!0),Py=Vy(!1),br=se(null),Qr=null;function ia(r){var a=r.alternate;j(Jt,Jt.current&1),j(br,r),Qr===null&&(a===null||Ws.current!==null||a.memoizedState!==null)&&(Qr=r)}function Ly(r){if(r.tag===22){if(j(Jt,Jt.current),j(br,r),Qr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Qr=r)}}else aa()}function aa(){j(Jt,Jt.current),j(br,br.current)}function ki(r){ge(br),Qr===r&&(Qr=null),ge(Jt)}var Jt=se(0);function Qc(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Sm(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Vd(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:x({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Pd={enqueueSetState:function(r,a,l){r=r._reactInternals;var c=er(),p=ta(c);p.payload=a,l!=null&&(p.callback=l),a=na(r,p,c),a!==null&&(tr(a,r,c),Ao(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=er(),p=ta(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=na(r,p,c),a!==null&&(tr(a,r,c),Ao(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=er(),c=ta(l);c.tag=2,a!=null&&(c.callback=a),a=na(r,c,l),a!==null&&(tr(a,r,l),Ao(a,r,l))}};function zy(r,a,l,c,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,T):a.prototype&&a.prototype.isPureReactComponent?!go(l,c)||!go(p,y):!0}function Uy(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&Pd.enqueueReplaceState(a,a.state,null)}function us(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=x({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}var Xc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function By(r){Xc(r)}function qy(r){console.error(r)}function Fy(r){Xc(r)}function Kc(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Hy(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ld(r,a,l){return l=ta(l),l.tag=3,l.payload={element:null},l.callback=function(){Kc(r,a)},l}function $y(r){return r=ta(r),r.tag=3,r}function Gy(r,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){Hy(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Hy(a,l,c),typeof p!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function jE(r,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&_o(a,l,p,!0),l=br.current,l!==null){switch(l.tag){case 13:return Qr===null?om():l.alternate===null&&Rt===0&&(Rt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===dd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),cm(r,c,p)),!1;case 22:return l.flags|=65536,c===dd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),cm(r,c,p)),!1}throw Error(i(435,l.tag))}return cm(r,c,p),om(),!1}if(at)return a=br.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==sd&&(r=Error(i(422),{cause:c}),vo(pr(r,l)))):(c!==sd&&(a=Error(i(423),{cause:c}),vo(pr(a,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=pr(c,l),p=Ld(r.stateNode,c,p),gd(r,p),Rt!==4&&(Rt=2)),!1;var y=Error(i(520),{cause:c});if(y=pr(y,l),Bo===null?Bo=[y]:Bo.push(y),Rt!==4&&(Rt=2),a===null)return!0;c=pr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Ld(l.stateNode,c,r),gd(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fa===null||!fa.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=$y(p),Gy(p,r,l,c),gd(l,p),!1}l=l.return}while(l!==null);return!1}var Yy=Error(i(461)),an=!1;function pn(r,a,l,c){a.child=r===null?Py(a,null,l,c):il(a,r.child,l,c)}function Qy(r,a,l,c,p){l=l.render;var y=a.ref;if("ref"in c){var T={};for(var R in c)R!=="ref"&&(T[R]=c[R])}else T=c;return ss(a),c=_d(r,a,l,T,y,p),R=wd(),r!==null&&!an?(Ed(r,a,p),Ri(r,a,p)):(at&&R&&id(a),a.flags|=1,pn(r,a,c,p),a.child)}function Xy(r,a,l,c,p){if(r===null){var y=l.type;return typeof y=="function"&&!td(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,Ky(r,a,y,c,p)):(r=kc(l.type,null,c,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!Gd(r,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:go,l(T,c)&&r.ref===a.ref)return Ri(r,a,p)}return a.flags|=1,r=Ei(y,c),r.ref=a.ref,r.return=a,a.child=r}function Ky(r,a,l,c,p){if(r!==null){var y=r.memoizedProps;if(go(y,c)&&r.ref===a.ref)if(an=!1,a.pendingProps=c=y,Gd(r,p))(r.flags&131072)!==0&&(an=!0);else return a.lanes=r.lanes,Ri(r,a,p)}return zd(r,a,l,c,p)}function Zy(r,a,l){var c=a.pendingProps,p=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,r!==null){for(p=a.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return Jy(r,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Mc(a,y!==null?y.cachePool:null),y!==null?Kg(a,y):xd(),Ly(a);else return a.lanes=a.childLanes=536870912,Jy(r,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Mc(a,y.cachePool),Kg(a,y),aa(),a.memoizedState=null):(r!==null&&Mc(a,null),xd(),aa());return pn(r,a,p,l),a.child}function Jy(r,a,l,c){var p=hd();return p=p===null?null:{parent:Zt._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},r!==null&&Mc(a,null),xd(),Ly(a),r!==null&&_o(r,a,c,!0),null}function Zc(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function zd(r,a,l,c,p){return ss(a),l=_d(r,a,l,c,void 0,p),c=wd(),r!==null&&!an?(Ed(r,a,p),Ri(r,a,p)):(at&&c&&id(a),a.flags|=1,pn(r,a,l,p),a.child)}function Wy(r,a,l,c,p,y){return ss(a),a.updateQueue=null,l=Jg(a,c,l,p),Zg(r),c=wd(),r!==null&&!an?(Ed(r,a,y),Ri(r,a,y)):(at&&c&&id(a),a.flags|=1,pn(r,a,l,y),a.child)}function ex(r,a,l,c,p){if(ss(a),a.stateNode===null){var y=Qs,T=l.contextType;typeof T=="object"&&T!==null&&(y=En(T)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Pd,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},md(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?En(T):Qs,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Vd(a,l,T,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Pd.enqueueReplaceState(y,y.state,null),Co(a,c,y,p),No(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){y=a.stateNode;var R=a.memoizedProps,H=us(l,R);y.props=H;var Z=y.context,le=l.contextType;T=Qs,typeof le=="object"&&le!==null&&(T=En(le));var he=l.getDerivedStateFromProps;le=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||Z!==T)&&Uy(a,y,c,T),ea=!1;var W=a.memoizedState;y.state=W,Co(a,c,y,p),No(),Z=a.memoizedState,R||W!==Z||ea?(typeof he=="function"&&(Vd(a,l,he,c),Z=a.memoizedState),(H=ea||zy(a,l,H,c,W,Z,T))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Z),y.props=c,y.state=Z,y.context=T,c=H):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,pd(r,a),T=a.memoizedProps,le=us(l,T),y.props=le,he=a.pendingProps,W=y.context,Z=l.contextType,H=Qs,typeof Z=="object"&&Z!==null&&(H=En(Z)),R=l.getDerivedStateFromProps,(Z=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==he||W!==H)&&Uy(a,y,c,H),ea=!1,W=a.memoizedState,y.state=W,Co(a,c,y,p),No();var ee=a.memoizedState;T!==he||W!==ee||ea||r!==null&&r.dependencies!==null&&Dc(r.dependencies)?(typeof R=="function"&&(Vd(a,l,R,c),ee=a.memoizedState),(le=ea||zy(a,l,le,c,W,ee,H)||r!==null&&r.dependencies!==null&&Dc(r.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ee,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ee,H)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ee),y.props=c,y.state=ee,y.context=H,c=le):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(a.flags|=1024),c=!1)}return y=c,Zc(r,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&c?(a.child=il(a,r.child,null,p),a.child=il(a,null,l,p)):pn(r,a,l,p),a.memoizedState=y.state,r=a.child):r=Ri(r,a,p),r}function tx(r,a,l,c){return bo(),a.flags|=256,pn(r,a,l,c),a.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(r){return{baseLanes:r,cachePool:qg()}}function qd(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=vr),r}function nx(r,a,l){var c=a.pendingProps,p=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Jt.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,r===null){if(at){if(p?ia(a):aa(),at){var R=kt,H;if(H=R){e:{for(H=R,R=Yr;H.nodeType!==8;){if(!R){R=null;break e}if(H=jr(H.nextSibling),H===null){R=null;break e}}R=H}R!==null?(a.memoizedState={dehydrated:R,treeContext:ts!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},H=Kn(18,null,null,0),H.stateNode=R,H.return=a,a.child=H,On=a,kt=null,H=!0):H=!1}H||is(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Sm(R)?a.lanes=32:a.lanes=536870912,null;ki(a)}return R=c.children,c=c.fallback,p?(aa(),p=a.mode,R=Jc({mode:"hidden",children:R},p),c=es(c,p,l,null),R.return=a,c.return=a,R.sibling=c,a.child=R,p=a.child,p.memoizedState=Bd(l),p.childLanes=qd(r,T,l),a.memoizedState=Ud,c):(ia(a),Fd(a,R))}if(H=r.memoizedState,H!==null&&(R=H.dehydrated,R!==null)){if(y)a.flags&256?(ia(a),a.flags&=-257,a=Hd(r,a,l)):a.memoizedState!==null?(aa(),a.child=r.child,a.flags|=128,a=null):(aa(),p=c.fallback,R=a.mode,c=Jc({mode:"visible",children:c.children},R),p=es(p,R,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,il(a,r.child,null,l),c=a.child,c.memoizedState=Bd(l),c.childLanes=qd(r,T,l),a.memoizedState=Ud,a=p);else if(ia(a),Sm(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var Z=T.dgst;T=Z,c=Error(i(419)),c.stack="",c.digest=T,vo({value:c,source:null,stack:null}),a=Hd(r,a,l)}else if(an||_o(r,a,l,!1),T=(l&r.childLanes)!==0,an||T){if(T=xt,T!==null&&(c=l&-l,c=(c&42)!==0?1:Gi(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==H.retryLane))throw H.retryLane=c,Ys(r,c),tr(T,r,c),Yy;R.data==="$?"||om(),a=Hd(r,a,l)}else R.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=H.treeContext,kt=jr(R.nextSibling),On=a,at=!0,rs=null,Yr=!1,r!==null&&(yr[xr++]=Ti,yr[xr++]=Si,yr[xr++]=ts,Ti=r.id,Si=r.overflow,ts=a),a=Fd(a,c.children),a.flags|=4096);return a}return p?(aa(),p=c.fallback,R=a.mode,H=r.child,Z=H.sibling,c=Ei(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,Z!==null?p=Ei(Z,p):(p=es(p,R,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,R=r.child.memoizedState,R===null?R=Bd(l):(H=R.cachePool,H!==null?(Z=Zt._currentValue,H=H.parent!==Z?{parent:Z,pool:Z}:H):H=qg(),R={baseLanes:R.baseLanes|l,cachePool:H}),p.memoizedState=R,p.childLanes=qd(r,T,l),a.memoizedState=Ud,c):(ia(a),l=r.child,r=l.sibling,l=Ei(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(T=a.deletions,T===null?(a.deletions=[r],a.flags|=16):T.push(r)),a.child=l,a.memoizedState=null,l)}function Fd(r,a){return a=Jc({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Jc(r,a){return r=Kn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Hd(r,a,l){return il(a,r.child,null,l),r=Fd(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function rx(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),od(r.return,a,l)}function $d(r,a,l,c,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function ix(r,a,l){var c=a.pendingProps,p=c.revealOrder,y=c.tail;if(pn(r,a,c.children,l),c=Jt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&rx(r,l,a);else if(r.tag===19)rx(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(j(Jt,c),p){case"forwards":for(l=a.child,p=null;l!==null;)r=l.alternate,r!==null&&Qc(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),$d(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&Qc(r)===null){a.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}$d(a,!0,l,null,y);break;case"together":$d(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ri(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),ca|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(_o(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=Ei(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Ei(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function Gd(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Dc(r)))}function DE(r,a,l){switch(a.tag){case 3:Te(a,a.stateNode.containerInfo),Wi(a,Zt,r.memoizedState.cache),bo();break;case 27:case 5:Nt(a);break;case 4:Te(a,a.stateNode.containerInfo);break;case 10:Wi(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ia(a),a.flags|=128,null):(l&a.child.childLanes)!==0?nx(r,a,l):(ia(a),r=Ri(r,a,l),r!==null?r.sibling:null);ia(a);break;case 19:var p=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(_o(r,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return ix(r,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),j(Jt,Jt.current),c)break;return null;case 22:case 23:return a.lanes=0,Zy(r,a,l);case 24:Wi(a,Zt,r.memoizedState.cache)}return Ri(r,a,l)}function ax(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)an=!0;else{if(!Gd(r,l)&&(a.flags&128)===0)return an=!1,DE(r,a,l);an=(r.flags&131072)!==0}else an=!1,at&&(a.flags&1048576)!==0&&Og(a,jc,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")td(c)?(r=us(c,r),a.tag=1,a=ex(null,a,c,r,l)):(a.tag=0,a=zd(null,a,c,r,l));else{if(c!=null){if(p=c.$$typeof,p===J){a.tag=11,a=Qy(null,a,c,r,l);break e}else if(p===D){a.tag=14,a=Xy(null,a,c,r,l);break e}}throw a=ae(c)||c,Error(i(306,a,""))}}return a;case 0:return zd(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=us(c,a.pendingProps),ex(r,a,c,p,l);case 3:e:{if(Te(a,a.stateNode.containerInfo),r===null)throw Error(i(387));c=a.pendingProps;var y=a.memoizedState;p=y.element,pd(r,a),Co(a,c,null,l);var T=a.memoizedState;if(c=T.cache,Wi(a,Zt,c),c!==y.cache&&ud(a,[Zt],l,!0),No(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=tx(r,a,c,l);break e}else if(c!==p){p=pr(Error(i(424)),a),vo(p),a=tx(r,a,c,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(kt=jr(r.firstChild),On=a,at=!0,rs=null,Yr=!0,l=Py(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(bo(),c===p){a=Ri(r,a,l);break e}pn(r,a,c,l)}a=a.child}return a;case 26:return Zc(r,a),r===null?(l=u1(a.type,null,a.pendingProps,null))?a.memoizedState=l:at||(l=a.type,r=a.pendingProps,c=df(ne.current).createElement(l),c[Qt]=a,c[zt]=r,yn(c,l,r),Mt(c),a.stateNode=c):a.memoizedState=u1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Nt(a),r===null&&at&&(c=a.stateNode=s1(a.type,a.pendingProps,ne.current),On=a,Yr=!0,p=kt,ma(a.type)?(Am=p,kt=jr(c.firstChild)):kt=p),pn(r,a,a.pendingProps.children,l),Zc(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&at&&((p=c=kt)&&(c=sT(c,a.type,a.pendingProps,Yr),c!==null?(a.stateNode=c,On=a,kt=jr(c.firstChild),Yr=!1,p=!0):p=!1),p||is(a)),Nt(a),p=a.type,y=a.pendingProps,T=r!==null?r.memoizedProps:null,c=y.children,wm(p,y)?c=null:T!==null&&wm(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=_d(r,a,TE,null,null,l),Ko._currentValue=p),Zc(r,a),pn(r,a,c,l),a.child;case 6:return r===null&&at&&((r=l=kt)&&(l=lT(l,a.pendingProps,Yr),l!==null?(a.stateNode=l,On=a,kt=null,r=!0):r=!1),r||is(a)),null;case 13:return nx(r,a,l);case 4:return Te(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=il(a,null,c,l):pn(r,a,c,l),a.child;case 11:return Qy(r,a,a.type,a.pendingProps,l);case 7:return pn(r,a,a.pendingProps,l),a.child;case 8:return pn(r,a,a.pendingProps.children,l),a.child;case 12:return pn(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Wi(a,a.type,c.value),pn(r,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,ss(a),p=En(p),c=c(p),a.flags|=1,pn(r,a,c,l),a.child;case 14:return Xy(r,a,a.type,a.pendingProps,l);case 15:return Ky(r,a,a.type,a.pendingProps,l);case 19:return ix(r,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},r===null?(l=Jc(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ei(r.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Zy(r,a,l);case 24:return ss(a),c=En(Zt),r===null?(p=hd(),p===null&&(p=xt,y=cd(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:c,cache:p},md(a),Wi(a,Zt,p)):((r.lanes&l)!==0&&(pd(r,a),Co(a,null,null,l),No()),p=r.memoizedState,y=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Wi(a,Zt,c)):(c=y.cache,Wi(a,Zt,c),c!==p.cache&&ud(a,[Zt],l,!0))),pn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ji(r){r.flags|=4}function sx(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!m1(a)){if(a=br.current,a!==null&&((et&4194048)===et?Qr!==null:(et&62914560)!==et&&(et&536870912)===0||a!==Qr))throw So=dd,Fg;r.flags|=8192}}function Wc(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?_t():536870912,r.lanes|=a,ol|=a)}function Oo(r,a){if(!at)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function St(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function IE(r,a,l){var c=a.pendingProps;switch(ad(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(a),null;case 1:return St(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ni(Zt),pt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(xo(a)?ji(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Lg())),St(a),null;case 26:return l=a.memoizedState,r===null?(ji(a),l!==null?(St(a),sx(a,l)):(St(a),a.flags&=-16777217)):l?l!==r.memoizedState?(ji(a),St(a),sx(a,l)):(St(a),a.flags&=-16777217):(r.memoizedProps!==c&&ji(a),St(a),a.flags&=-16777217),null;case 27:Dt(a),l=ne.current;var p=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==c&&ji(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return St(a),null}r=Y.current,xo(a)?Vg(a):(r=s1(p,c,l),a.stateNode=r,ji(a))}return St(a),null;case 5:if(Dt(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&ji(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return St(a),null}if(r=Y.current,xo(a))Vg(a);else{switch(p=df(ne.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}r[Qt]=a,r[zt]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=r;e:switch(yn(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ji(a)}}return St(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&ji(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=ne.current,xo(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,p=On,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[Qt]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Wx(r.nodeValue,l)),r||is(a)}else r=df(r).createTextNode(c),r[Qt]=a,a.stateNode=r}return St(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=xo(a),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Qt]=a}else bo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;St(a),p=!1}else p=Lg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(ki(a),a):(ki(a),null)}if(ki(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),Wc(a,a.updateQueue),St(a),null;case 4:return pt(),r===null&&ym(a.stateNode.containerInfo),St(a),null;case 10:return Ni(a.type),St(a),null;case 19:if(ge(Jt),p=a.memoizedState,p===null)return St(a),null;if(c=(a.flags&128)!==0,y=p.rendering,y===null)if(c)Oo(p,!1);else{if(Rt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Qc(r),y!==null){for(a.flags|=128,Oo(p,!1),r=y.updateQueue,a.updateQueue=r,Wc(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)Mg(l,r),l=l.sibling;return j(Jt,Jt.current&1|2),a.child}r=r.sibling}p.tail!==null&&fn()>nf&&(a.flags|=128,c=!0,Oo(p,!1),a.lanes=4194304)}else{if(!c)if(r=Qc(y),r!==null){if(a.flags|=128,c=!0,r=r.updateQueue,a.updateQueue=r,Wc(a,r),Oo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!at)return St(a),null}else 2*fn()-p.renderingStartTime>nf&&l!==536870912&&(a.flags|=128,c=!0,Oo(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(r=p.last,r!==null?r.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=fn(),a.sibling=null,r=Jt.current,j(Jt,c?r&1|2:r&1),a):(St(a),null);case 22:case 23:return ki(a),bd(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(St(a),a.subtreeFlags&6&&(a.flags|=8192)):St(a),l=a.updateQueue,l!==null&&Wc(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&ge(ls),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ni(Zt),St(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function ME(r,a){switch(ad(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ni(Zt),pt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Dt(a),null;case 13:if(ki(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));bo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ge(Jt),null;case 4:return pt(),null;case 10:return Ni(a.type),null;case 22:case 23:return ki(a),bd(),r!==null&&ge(ls),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ni(Zt),null;case 25:return null;default:return null}}function lx(r,a){switch(ad(a),a.tag){case 3:Ni(Zt),pt();break;case 26:case 27:case 5:Dt(a);break;case 4:pt();break;case 13:ki(a);break;case 19:ge(Jt);break;case 10:Ni(a.type);break;case 22:case 23:ki(a),bd(),r!==null&&ge(ls);break;case 24:Ni(Zt)}}function Vo(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==p)}}catch(R){gt(a,a.return,R)}}function sa(r,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var T=c.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,p=a;var H=l,Z=R;try{Z()}catch(le){gt(p,H,le)}}}c=c.next}while(c!==y)}}catch(le){gt(a,a.return,le)}}function ox(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{Xg(a,l)}catch(c){gt(r,r.return,c)}}}function ux(r,a,l){l.props=us(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){gt(r,a,c)}}function Po(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){gt(r,a,p)}}function Xr(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){gt(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){gt(r,a,p)}else l.current=null}function cx(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){gt(r,r.return,p)}}function Yd(r,a,l){try{var c=r.stateNode;tT(c,r.type,l,a),c[zt]=a}catch(p){gt(r,r.return,p)}}function fx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ma(r.type)||r.tag===4}function Qd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ma(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xd(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=hf));else if(c!==4&&(c===27&&ma(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(Xd(r,a,l),r=r.sibling;r!==null;)Xd(r,a,l),r=r.sibling}function ef(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&(c===27&&ma(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(ef(r,a,l),r=r.sibling;r!==null;)ef(r,a,l),r=r.sibling}function hx(r){var a=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);yn(a,c,l),a[Qt]=r,a[zt]=l}catch(y){gt(r,r.return,y)}}var Di=!1,Vt=!1,Kd=!1,dx=typeof WeakSet=="function"?WeakSet:Set,sn=null;function OE(r,a){if(r=r.containerInfo,vm=bf,r=Tg(r),Qh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,R=-1,H=-1,Z=0,le=0,he=r,W=null;t:for(;;){for(var ee;he!==l||p!==0&&he.nodeType!==3||(R=T+p),he!==y||c!==0&&he.nodeType!==3||(H=T+c),he.nodeType===3&&(T+=he.nodeValue.length),(ee=he.firstChild)!==null;)W=he,he=ee;for(;;){if(he===r)break t;if(W===l&&++Z===p&&(R=T),W===y&&++le===c&&(H=T),(ee=he.nextSibling)!==null)break;he=W,W=he.parentNode}he=ee}l=R===-1||H===-1?null:{start:R,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(_m={focusedElem:r,selectionRange:l},bf=!1,sn=a;sn!==null;)if(a=sn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,sn=r;else for(;sn!==null;){switch(a=sn,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Pe=us(l.type,p,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(Pe,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Me){gt(l,l.return,Me)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)Tm(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Tm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,sn=r;break}sn=a.return}}function mx(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:la(r,l),c&4&&Vo(5,l);break;case 1:if(la(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(T){gt(l,l.return,T)}else{var p=us(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(T){gt(l,l.return,T)}}c&64&&ox(l),c&512&&Po(l,l.return);break;case 3:if(la(r,l),c&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Xg(r,a)}catch(T){gt(l,l.return,T)}}break;case 27:a===null&&c&4&&hx(l);case 26:case 5:la(r,l),a===null&&c&4&&cx(l),c&512&&Po(l,l.return);break;case 12:la(r,l);break;case 13:la(r,l),c&4&&yx(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=HE.bind(null,l),oT(r,l))));break;case 22:if(c=l.memoizedState!==null||Di,!c){a=a!==null&&a.memoizedState!==null||Vt,p=Di;var y=Vt;Di=c,(Vt=a)&&!y?oa(r,l,(l.subtreeFlags&8772)!==0):la(r,l),Di=p,Vt=y}break;case 30:break;default:la(r,l)}}function px(r){var a=r.alternate;a!==null&&(r.alternate=null,px(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Xi(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Tt=null,Bn=!1;function Ii(r,a,l){for(l=l.child;l!==null;)gx(r,a,l),l=l.sibling}function gx(r,a,l){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(te,l)}catch{}switch(l.tag){case 26:Vt||Xr(l,a),Ii(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Vt||Xr(l,a);var c=Tt,p=Bn;ma(l.type)&&(Tt=l.stateNode,Bn=!1),Ii(r,a,l),Go(l.stateNode),Tt=c,Bn=p;break;case 5:Vt||Xr(l,a);case 6:if(c=Tt,p=Bn,Tt=null,Ii(r,a,l),Tt=c,Bn=p,Tt!==null)if(Bn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(l.stateNode)}catch(y){gt(l,a,y)}else try{Tt.removeChild(l.stateNode)}catch(y){gt(l,a,y)}break;case 18:Tt!==null&&(Bn?(r=Tt,i1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),eu(r)):i1(Tt,l.stateNode));break;case 4:c=Tt,p=Bn,Tt=l.stateNode.containerInfo,Bn=!0,Ii(r,a,l),Tt=c,Bn=p;break;case 0:case 11:case 14:case 15:Vt||sa(2,l,a),Vt||sa(4,l,a),Ii(r,a,l);break;case 1:Vt||(Xr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&ux(l,a,c)),Ii(r,a,l);break;case 21:Ii(r,a,l);break;case 22:Vt=(c=Vt)||l.memoizedState!==null,Ii(r,a,l),Vt=c;break;default:Ii(r,a,l)}}function yx(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{eu(r)}catch(l){gt(a,a.return,l)}}function VE(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new dx),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new dx),a;default:throw Error(i(435,r.tag))}}function Zd(r,a){var l=VE(r);a.forEach(function(c){var p=$E.bind(null,r,c);l.has(c)||(l.add(c),c.then(p,p))})}function Zn(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=r,T=a,R=T;e:for(;R!==null;){switch(R.tag){case 27:if(ma(R.type)){Tt=R.stateNode,Bn=!1;break e}break;case 5:Tt=R.stateNode,Bn=!1;break e;case 3:case 4:Tt=R.stateNode.containerInfo,Bn=!0;break e}R=R.return}if(Tt===null)throw Error(i(160));gx(y,T,p),Tt=null,Bn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)xx(a,r),a=a.sibling}var Rr=null;function xx(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Zn(a,r),Jn(r),c&4&&(sa(3,r,r.return),Vo(3,r),sa(5,r,r.return));break;case 1:Zn(a,r),Jn(r),c&512&&(Vt||l===null||Xr(l,l.return)),c&64&&Di&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Rr;if(Zn(a,r),Jn(r),c&512&&(Vt||l===null||Xr(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[La]||y[Qt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),yn(y,c,l),y[Qt]=r,Mt(y),c=y;break e;case"link":var T=h1("link","href",p).get(c+(l.href||""));if(T){for(var R=0;R<T.length;R++)if(y=T[R],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(R,1);break t}}y=p.createElement(c),yn(y,c,l),p.head.appendChild(y);break;case"meta":if(T=h1("meta","content",p).get(c+(l.content||""))){for(R=0;R<T.length;R++)if(y=T[R],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(R,1);break t}}y=p.createElement(c),yn(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[Qt]=r,Mt(y),c=y}r.stateNode=c}else d1(p,r.type,r.stateNode);else r.stateNode=f1(p,c,r.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?d1(p,r.type,r.stateNode):f1(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Yd(r,r.memoizedProps,l.memoizedProps)}break;case 27:Zn(a,r),Jn(r),c&512&&(Vt||l===null||Xr(l,l.return)),l!==null&&c&4&&Yd(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Zn(a,r),Jn(r),c&512&&(Vt||l===null||Xr(l,l.return)),r.flags&32){p=r.stateNode;try{fr(p,"")}catch(ee){gt(r,r.return,ee)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,Yd(r,p,l!==null?l.memoizedProps:p)),c&1024&&(Kd=!0);break;case 6:if(Zn(a,r),Jn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(ee){gt(r,r.return,ee)}}break;case 3:if(gf=null,p=Rr,Rr=mf(a.containerInfo),Zn(a,r),Rr=p,Jn(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{eu(a.containerInfo)}catch(ee){gt(r,r.return,ee)}Kd&&(Kd=!1,bx(r));break;case 4:c=Rr,Rr=mf(r.stateNode.containerInfo),Zn(a,r),Jn(r),Rr=c;break;case 12:Zn(a,r),Jn(r);break;case 13:Zn(a,r),Jn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(rm=fn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Zd(r,c)));break;case 22:p=r.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,Z=Di,le=Vt;if(Di=Z||p,Vt=le||H,Zn(a,r),Vt=le,Di=Z,Jn(r),c&8192)e:for(a=r.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||H||Di||Vt||cs(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){H=l=a;try{if(y=H.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=H.stateNode;var he=H.memoizedProps.style,W=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ee){gt(H,H.return,ee)}}}else if(a.tag===6){if(l===null){H=a;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch(ee){gt(H,H.return,ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Zd(r,l))));break;case 19:Zn(a,r),Jn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Zd(r,c)));break;case 30:break;case 21:break;default:Zn(a,r),Jn(r)}}function Jn(r){var a=r.flags;if(a&2){try{for(var l,c=r.return;c!==null;){if(fx(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=Qd(r);ef(r,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(fr(T,""),l.flags&=-33);var R=Qd(r);ef(r,R,T);break;case 3:case 4:var H=l.stateNode.containerInfo,Z=Qd(r);Xd(r,Z,H);break;default:throw Error(i(161))}}catch(le){gt(r,r.return,le)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function bx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;bx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function la(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)mx(r,a.alternate,a),a=a.sibling}function cs(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:sa(4,a,a.return),cs(a);break;case 1:Xr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&ux(a,a.return,l),cs(a);break;case 27:Go(a.stateNode);case 26:case 5:Xr(a,a.return),cs(a);break;case 22:a.memoizedState===null&&cs(a);break;case 30:cs(a);break;default:cs(a)}r=r.sibling}}function oa(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=r,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:oa(p,y,l),Vo(4,y);break;case 1:if(oa(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){gt(c,c.return,Z)}if(c=y,p=c.updateQueue,p!==null){var R=c.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)Qg(H[p],R)}catch(Z){gt(c,c.return,Z)}}l&&T&64&&ox(y),Po(y,y.return);break;case 27:hx(y);case 26:case 5:oa(p,y,l),l&&c===null&&T&4&&cx(y),Po(y,y.return);break;case 12:oa(p,y,l);break;case 13:oa(p,y,l),l&&T&4&&yx(p,y);break;case 22:y.memoizedState===null&&oa(p,y,l),Po(y,y.return);break;case 30:break;default:oa(p,y,l)}a=a.sibling}}function Jd(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&wo(l))}function Wd(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&wo(r))}function Kr(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)vx(r,a,l,c),a=a.sibling}function vx(r,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Kr(r,a,l,c),p&2048&&Vo(9,a);break;case 1:Kr(r,a,l,c);break;case 3:Kr(r,a,l,c),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&wo(r)));break;case 12:if(p&2048){Kr(r,a,l,c),r=a.stateNode;try{var y=a.memoizedProps,T=y.id,R=y.onPostCommit;typeof R=="function"&&R(T,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){gt(a,a.return,H)}}else Kr(r,a,l,c);break;case 13:Kr(r,a,l,c);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?Kr(r,a,l,c):Lo(r,a):y._visibility&2?Kr(r,a,l,c):(y._visibility|=2,al(r,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&Jd(T,a);break;case 24:Kr(r,a,l,c),p&2048&&Wd(a.alternate,a);break;default:Kr(r,a,l,c)}}function al(r,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,T=a,R=l,H=c,Z=T.flags;switch(T.tag){case 0:case 11:case 15:al(y,T,R,H,p),Vo(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?al(y,T,R,H,p):Lo(y,T):(le._visibility|=2,al(y,T,R,H,p)),p&&Z&2048&&Jd(T.alternate,T);break;case 24:al(y,T,R,H,p),p&&Z&2048&&Wd(T.alternate,T);break;default:al(y,T,R,H,p)}a=a.sibling}}function Lo(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,p=c.flags;switch(c.tag){case 22:Lo(l,c),p&2048&&Jd(c.alternate,c);break;case 24:Lo(l,c),p&2048&&Wd(c.alternate,c);break;default:Lo(l,c)}a=a.sibling}}var zo=8192;function sl(r){if(r.subtreeFlags&zo)for(r=r.child;r!==null;)_x(r),r=r.sibling}function _x(r){switch(r.tag){case 26:sl(r),r.flags&zo&&r.memoizedState!==null&&_T(Rr,r.memoizedState,r.memoizedProps);break;case 5:sl(r);break;case 3:case 4:var a=Rr;Rr=mf(r.stateNode.containerInfo),sl(r),Rr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=zo,zo=16777216,sl(r),zo=a):sl(r));break;default:sl(r)}}function wx(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Uo(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];sn=c,Tx(c,r)}wx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ex(r),r=r.sibling}function Ex(r){switch(r.tag){case 0:case 11:case 15:Uo(r),r.flags&2048&&sa(9,r,r.return);break;case 3:Uo(r);break;case 12:Uo(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,tf(r)):Uo(r);break;default:Uo(r)}}function tf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];sn=c,Tx(c,r)}wx(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:sa(8,a,a.return),tf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,tf(a));break;default:tf(a)}r=r.sibling}}function Tx(r,a){for(;sn!==null;){var l=sn;switch(l.tag){case 0:case 11:case 15:sa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:wo(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,sn=c;else e:for(l=r;sn!==null;){c=sn;var p=c.sibling,y=c.return;if(px(c),c===l){sn=null;break e}if(p!==null){p.return=y,sn=p;break e}sn=y}}}var PE={getCacheForType:function(r){var a=En(Zt),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},LE=typeof WeakMap=="function"?WeakMap:Map,ot=0,xt=null,$e=null,et=0,ut=0,Wn=null,ua=!1,ll=!1,em=!1,Mi=0,Rt=0,ca=0,fs=0,tm=0,vr=0,ol=0,Bo=null,qn=null,nm=!1,rm=0,nf=1/0,rf=null,fa=null,gn=0,ha=null,ul=null,cl=0,im=0,am=null,Sx=null,qo=0,sm=null;function er(){if((ot&2)!==0&&et!==0)return et&-et;if(X.T!==null){var r=Zs;return r!==0?r:dm()}return Yi()}function Ax(){vr===0&&(vr=(et&536870912)===0||at?qe():536870912);var r=br.current;return r!==null&&(r.flags|=32),vr}function tr(r,a,l){(r===xt&&(ut===2||ut===9)||r.cancelPendingCommit!==null)&&(fl(r,0),da(r,et,vr,!1)),hi(r,l),((ot&2)===0||r!==xt)&&(r===xt&&((ot&2)===0&&(fs|=l),Rt===4&&da(r,et,vr,!1)),Zr(r))}function Nx(r,a,l){if((ot&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&r.expiredLanes)===0||It(r,a),p=c?BE(r,a):um(r,a,!0),y=c;do{if(p===0){ll&&!c&&da(r,a,0,!1);break}else{if(l=r.current.alternate,y&&!zE(l)){p=um(r,a,!1),y=!1;continue}if(p===2){if(y=a,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var R=r;p=Bo;var H=R.current.memoizedState.isDehydrated;if(H&&(fl(R,T).flags|=256),T=um(R,T,!1),T!==2){if(em&&!H){R.errorRecoveryDisabledLanes|=y,fs|=y,p=4;break e}y=qn,qn=p,y!==null&&(qn===null?qn=y:qn.push.apply(qn,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){fl(r,0),da(r,a,0,!0);break}e:{switch(c=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:da(c,a,vr,!ua);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=rm+300-fn(),10<p)){if(da(c,a,vr,!ua),Ct(c,0,!0)!==0)break e;c.timeoutHandle=n1(Cx.bind(null,c,l,qn,rf,nm,a,vr,fs,ol,ua,y,2,-0,0),p);break e}Cx(c,l,qn,rf,nm,a,vr,fs,ol,ua,y,0,-0,0)}}break}while(!0);Zr(r)}function Cx(r,a,l,c,p,y,T,R,H,Z,le,he,W,ee){if(r.timeoutHandle=-1,he=a.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Xo={stylesheets:null,count:0,unsuspend:vT},_x(a),he=wT(),he!==null)){r.cancelPendingCommit=he(Ox.bind(null,r,a,y,l,c,p,T,R,H,le,1,W,ee)),da(r,y,T,!Z);return}Ox(r,a,y,l,c,p,T,R,H)}function zE(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!Xn(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function da(r,a,l,c){a&=~tm,a&=~fs,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var p=a;0<p;){var y=31-De(p),T=1<<y;c[y]=-1,p&=~T}l!==0&&Vr(r,l,a)}function af(){return(ot&6)===0?(Fo(0),!1):!0}function lm(){if($e!==null){if(ut===0)var r=$e.return;else r=$e,Ai=as=null,Td(r),rl=null,Io=0,r=$e;for(;r!==null;)lx(r.alternate,r),r=r.return;$e=null}}function fl(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,rT(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),lm(),xt=r,$e=l=Ei(r.current,null),et=a,ut=0,Wn=null,ua=!1,ll=It(r,a),em=!1,ol=vr=tm=fs=ca=Rt=0,qn=Bo=null,nm=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var p=31-De(c),y=1<<p;a|=r[p],c&=~y}return Mi=a,Ac(),l}function kx(r,a){Fe=null,X.H=$c,a===To||a===Oc?(a=Gg(),ut=3):a===Fg?(a=Gg(),ut=4):ut=a===Yy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Wn=a,$e===null&&(Rt=1,Kc(r,pr(a,r.current)))}function Rx(){var r=X.H;return X.H=$c,r===null?$c:r}function jx(){var r=X.A;return X.A=PE,r}function om(){Rt=4,ua||(et&4194048)!==et&&br.current!==null||(ll=!0),(ca&134217727)===0&&(fs&134217727)===0||xt===null||da(xt,et,vr,!1)}function um(r,a,l){var c=ot;ot|=2;var p=Rx(),y=jx();(xt!==r||et!==a)&&(rf=null,fl(r,a)),a=!1;var T=Rt;e:do try{if(ut!==0&&$e!==null){var R=$e,H=Wn;switch(ut){case 8:lm(),T=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(a=!0);var Z=ut;if(ut=0,Wn=null,hl(r,R,H,Z),l&&ll){T=0;break e}break;default:Z=ut,ut=0,Wn=null,hl(r,R,H,Z)}}UE(),T=Rt;break}catch(le){kx(r,le)}while(!0);return a&&r.shellSuspendCounter++,Ai=as=null,ot=c,X.H=p,X.A=y,$e===null&&(xt=null,et=0,Ac()),T}function UE(){for(;$e!==null;)Dx($e)}function BE(r,a){var l=ot;ot|=2;var c=Rx(),p=jx();xt!==r||et!==a?(rf=null,nf=fn()+500,fl(r,a)):ll=It(r,a);e:do try{if(ut!==0&&$e!==null){a=$e;var y=Wn;t:switch(ut){case 1:ut=0,Wn=null,hl(r,a,y,1);break;case 2:case 9:if(Hg(y)){ut=0,Wn=null,Ix(a);break}a=function(){ut!==2&&ut!==9||xt!==r||(ut=7),Zr(r)},y.then(a,a);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Hg(y)?(ut=0,Wn=null,Ix(a)):(ut=0,Wn=null,hl(r,a,y,7));break;case 5:var T=null;switch($e.tag){case 26:T=$e.memoizedState;case 5:case 27:var R=$e;if(!T||m1(T)){ut=0,Wn=null;var H=R.sibling;if(H!==null)$e=H;else{var Z=R.return;Z!==null?($e=Z,sf(Z)):$e=null}break t}}ut=0,Wn=null,hl(r,a,y,5);break;case 6:ut=0,Wn=null,hl(r,a,y,6);break;case 8:lm(),Rt=6;break e;default:throw Error(i(462))}}qE();break}catch(le){kx(r,le)}while(!0);return Ai=as=null,X.H=c,X.A=p,ot=l,$e!==null?0:(xt=null,et=0,Ac(),Rt)}function qE(){for(;$e!==null&&!cn();)Dx($e)}function Dx(r){var a=ax(r.alternate,r,Mi);r.memoizedProps=r.pendingProps,a===null?sf(r):$e=a}function Ix(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=Wy(l,a,a.pendingProps,a.type,void 0,et);break;case 11:a=Wy(l,a,a.pendingProps,a.type.render,a.ref,et);break;case 5:Td(a);default:lx(l,a),a=$e=Mg(a,Mi),a=ax(l,a,Mi)}r.memoizedProps=r.pendingProps,a===null?sf(r):$e=a}function hl(r,a,l,c){Ai=as=null,Td(a),rl=null,Io=0;var p=a.return;try{if(jE(r,p,a,l,et)){Rt=1,Kc(r,pr(l,r.current)),$e=null;return}}catch(y){if(p!==null)throw $e=p,y;Rt=1,Kc(r,pr(l,r.current)),$e=null;return}a.flags&32768?(at||c===1?r=!0:ll||(et&536870912)!==0?r=!1:(ua=r=!0,(c===2||c===9||c===3||c===6)&&(c=br.current,c!==null&&c.tag===13&&(c.flags|=16384))),Mx(a,r)):sf(a)}function sf(r){var a=r;do{if((a.flags&32768)!==0){Mx(a,ua);return}r=a.return;var l=IE(a.alternate,a,Mi);if(l!==null){$e=l;return}if(a=a.sibling,a!==null){$e=a;return}$e=a=r}while(a!==null);Rt===0&&(Rt=5)}function Mx(r,a){do{var l=ME(r.alternate,r);if(l!==null){l.flags&=32767,$e=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){$e=r;return}$e=r=l}while(r!==null);Rt=6,$e=null}function Ox(r,a,l,c,p,y,T,R,H){r.cancelPendingCommit=null;do lf();while(gn!==0);if((ot&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Wh,Jl(r,l,y,T,R,H),r===xt&&($e=xt=null,et=0),ul=a,ha=r,cl=l,im=y,am=p,Sx=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,GE(ur,function(){return Ux(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,p=ce.p,ce.p=2,T=ot,ot|=4;try{OE(r,a,l)}finally{ot=T,ce.p=p,X.T=c}}gn=1,Vx(),Px(),Lx()}}function Vx(){if(gn===1){gn=0;var r=ha,a=ul,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var c=ce.p;ce.p=2;var p=ot;ot|=4;try{xx(a,r);var y=_m,T=Tg(r.containerInfo),R=y.focusedElem,H=y.selectionRange;if(T!==R&&R&&R.ownerDocument&&Eg(R.ownerDocument.documentElement,R)){if(H!==null&&Qh(R)){var Z=H.start,le=H.end;if(le===void 0&&(le=Z),"selectionStart"in R)R.selectionStart=Z,R.selectionEnd=Math.min(le,R.value.length);else{var he=R.ownerDocument||document,W=he&&he.defaultView||window;if(W.getSelection){var ee=W.getSelection(),Pe=R.textContent.length,Me=Math.min(H.start,Pe),dt=H.end===void 0?Me:Math.min(H.end,Pe);!ee.extend&&Me>dt&&(T=dt,dt=Me,Me=T);var G=wg(R,Me),$=wg(R,dt);if(G&&$&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==$.node||ee.focusOffset!==$.offset)){var K=he.createRange();K.setStart(G.node,G.offset),ee.removeAllRanges(),Me>dt?(ee.addRange(K),ee.extend($.node,$.offset)):(K.setEnd($.node,$.offset),ee.addRange(K))}}}}for(he=[],ee=R;ee=ee.parentNode;)ee.nodeType===1&&he.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var ue=he[R];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}bf=!!vm,_m=vm=null}finally{ot=p,ce.p=c,X.T=l}}r.current=a,gn=2}}function Px(){if(gn===2){gn=0;var r=ha,a=ul,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var c=ce.p;ce.p=2;var p=ot;ot|=4;try{mx(r,a.alternate,a)}finally{ot=p,ce.p=c,X.T=l}}gn=3}}function Lx(){if(gn===4||gn===3){gn=0,Sr();var r=ha,a=ul,l=cl,c=Sx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?gn=5:(gn=0,ul=ha=null,zx(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(fa=null),ks(l),a=a.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(te,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=X.T,p=ce.p,ce.p=2,X.T=null;try{for(var y=r.onRecoverableError,T=0;T<c.length;T++){var R=c[T];y(R.value,{componentStack:R.stack})}}finally{X.T=a,ce.p=p}}(cl&3)!==0&&lf(),Zr(r),p=r.pendingLanes,(l&4194090)!==0&&(p&42)!==0?r===sm?qo++:(qo=0,sm=r):qo=0,Fo(0)}}function zx(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,wo(a)))}function lf(r){return Vx(),Px(),Lx(),Ux()}function Ux(){if(gn!==5)return!1;var r=ha,a=im;im=0;var l=ks(cl),c=X.T,p=ce.p;try{ce.p=32>l?32:l,X.T=null,l=am,am=null;var y=ha,T=cl;if(gn=0,ul=ha=null,cl=0,(ot&6)!==0)throw Error(i(331));var R=ot;if(ot|=4,Ex(y.current),vx(y,y.current,T,l),ot=R,Fo(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(te,y)}catch{}return!0}finally{ce.p=p,X.T=c,zx(r,a)}}function Bx(r,a,l){a=pr(l,a),a=Ld(r.stateNode,a,2),r=na(r,a,2),r!==null&&(hi(r,2),Zr(r))}function gt(r,a,l){if(r.tag===3)Bx(r,r,l);else for(;a!==null;){if(a.tag===3){Bx(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fa===null||!fa.has(c))){r=pr(l,r),l=$y(2),c=na(a,l,2),c!==null&&(Gy(l,c,a,r),hi(c,2),Zr(c));break}}a=a.return}}function cm(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new LE;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(em=!0,p.add(l),r=FE.bind(null,r,a,l),a.then(r,r))}function FE(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,xt===r&&(et&l)===l&&(Rt===4||Rt===3&&(et&62914560)===et&&300>fn()-rm?(ot&2)===0&&fl(r,0):tm|=l,ol===et&&(ol=0)),Zr(r)}function qx(r,a){a===0&&(a=_t()),r=Ys(r,a),r!==null&&(hi(r,a),Zr(r))}function HE(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),qx(r,l)}function $E(r,a){var l=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),qx(r,l)}function GE(r,a){return en(r,a)}var of=null,dl=null,fm=!1,uf=!1,hm=!1,hs=0;function Zr(r){r!==dl&&r.next===null&&(dl===null?of=dl=r:dl=dl.next=r),uf=!0,fm||(fm=!0,QE())}function Fo(r,a){if(!hm&&uf){hm=!0;do for(var l=!1,c=of;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var T=c.suspendedLanes,R=c.pingedLanes;y=(1<<31-De(42|r)+1)-1,y&=p&~(T&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Gx(c,y))}else y=et,y=Ct(c,c===xt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||It(c,y)||(l=!0,Gx(c,y));c=c.next}while(l);hm=!1}}function YE(){Fx()}function Fx(){uf=fm=!1;var r=0;hs!==0&&(nT()&&(r=hs),hs=0);for(var a=fn(),l=null,c=of;c!==null;){var p=c.next,y=Hx(c,a);y===0?(c.next=null,l===null?of=p:l.next=p,p===null&&(dl=l)):(l=c,(r!==0||(y&3)!==0)&&(uf=!0)),c=p}Fo(r)}function Hx(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-De(y),R=1<<T,H=p[T];H===-1?((R&l)===0||(R&c)!==0)&&(p[T]=fe(R,a)):H<=a&&(r.expiredLanes|=R),y&=~R}if(a=xt,l=et,l=Ct(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===a&&(ut===2||ut===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&or(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||It(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&or(c),ks(l)){case 2:case 8:l=Ar;break;case 32:l=ur;break;case 268435456:l=Or;break;default:l=ur}return c=$x.bind(null,r),l=en(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&or(c),r.callbackPriority=2,r.callbackNode=null,2}function $x(r,a){if(gn!==0&&gn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(lf()&&r.callbackNode!==l)return null;var c=et;return c=Ct(r,r===xt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Nx(r,c,a),Hx(r,fn()),r.callbackNode!=null&&r.callbackNode===l?$x.bind(null,r):null)}function Gx(r,a){if(lf())return null;Nx(r,a,!0)}function QE(){iT(function(){(ot&6)!==0?en(wn,YE):Fx()})}function dm(){return hs===0&&(hs=qe()),hs}function Yx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Os(""+r)}function Qx(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function XE(r,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var y=Yx((p[zt]||null).action),T=c.submitter;T&&(a=(a=T[zt]||null)?Yx(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var R=new Vs("action","action",null,c,p);r.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(hs!==0){var H=T?Qx(p,T):new FormData(p);Id(l,{pending:!0,data:H,method:p.method,action:y},null,H)}}else typeof y=="function"&&(R.preventDefault(),H=T?Qx(p,T):new FormData(p),Id(l,{pending:!0,data:H,method:p.method,action:y},y,H))},currentTarget:p}]})}}for(var mm=0;mm<Jh.length;mm++){var pm=Jh[mm],KE=pm.toLowerCase(),ZE=pm[0].toUpperCase()+pm.slice(1);kr(KE,"on"+ZE)}kr(Ng,"onAnimationEnd"),kr(Cg,"onAnimationIteration"),kr(kg,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(mE,"onTransitionRun"),kr(pE,"onTransitionStart"),kr(gE,"onTransitionCancel"),kr(Rg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function Xx(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var T=c.length-1;0<=T;T--){var R=c[T],H=R.instance,Z=R.currentTarget;if(R=R.listener,H!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=Z;try{y(p)}catch(le){Xc(le)}p.currentTarget=null,y=H}else for(T=0;T<c.length;T++){if(R=c[T],H=R.instance,Z=R.currentTarget,R=R.listener,H!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=Z;try{y(p)}catch(le){Xc(le)}p.currentTarget=null,y=H}}}}function Ge(r,a){var l=a[eo];l===void 0&&(l=a[eo]=new Set);var c=r+"__bubble";l.has(c)||(Kx(a,r,2,!1),l.add(c))}function gm(r,a,l){var c=0;a&&(c|=4),Kx(l,r,c,a)}var cf="_reactListening"+Math.random().toString(36).slice(2);function ym(r){if(!r[cf]){r[cf]=!0,to.forEach(function(l){l!=="selectionchange"&&(JE.has(l)||gm(l,!1,r),gm(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[cf]||(a[cf]=!0,gm("selectionchange",!1,a))}}function Kx(r,a,l,c){switch(v1(a)){case 2:var p=ST;break;case 8:p=AT;break;default:p=jm}l=p.bind(null,a,l,r),p=void 0,!dr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(a,l,{capture:!0,passive:p}):r.addEventListener(a,l,!0):p!==void 0?r.addEventListener(a,l,{passive:p}):r.addEventListener(a,l,!1)}function xm(r,a,l,c,p){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var R=c.stateNode.containerInfo;if(R===p)break;if(T===4)for(T=c.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;R!==null;){if(T=di(R),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){c=y=T;continue e}R=R.parentNode}}c=c.return}fc(function(){var Z=y,le=hr(l),he=[];e:{var W=jg.get(r);if(W!==void 0){var ee=Vs,Pe=r;switch(r){case"keypress":if(qr(l)===0)break e;case"keydown":case"keyup":ee=qs;break;case"focusin":Pe="focus",ee=zs;break;case"focusout":Pe="blur",ee=zs;break;case"beforeblur":case"afterblur":ee=zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=bc;break;case Ng:case Cg:case kg:ee=Us;break;case Rg:ee=_c;break;case"scroll":case"scrollend":ee=hc;break;case"wheel":ee=Fs;break;case"copy":case"cut":case"paste":ee=Bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=mo;break;case"toggle":case"beforetoggle":ee=Ec}var Me=(a&4)!==0,dt=!Me&&(r==="scroll"||r==="scrollend"),G=Me?W!==null?W+"Capture":null:W;Me=[];for(var $=Z,K;$!==null;){var ue=$;if(K=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||K===null||G===null||(ue=$a($,G),ue!=null&&Me.push($o($,ue,K))),dt)break;$=$.return}0<Me.length&&(W=new ee(W,Pe,null,l,le),he.push({event:W,listeners:Me}))}}if((a&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",W&&l!==yi&&(Pe=l.relatedTarget||l.fromElement)&&(di(Pe)||Pe[cr]))break e;if((ee||W)&&(W=le.window===le?le:(W=le.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(Pe=l.relatedTarget||l.toElement,ee=Z,Pe=Pe?di(Pe):null,Pe!==null&&(dt=o(Pe),Me=Pe.tag,Pe!==dt||Me!==5&&Me!==27&&Me!==6)&&(Pe=null)):(ee=null,Pe=Z),ee!==Pe)){if(Me=mr,ue="onMouseLeave",G="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Me=mo,ue="onPointerLeave",G="onPointerEnter",$="pointer"),dt=ee==null?W:Lr(ee),K=Pe==null?W:Lr(Pe),W=new Me(ue,$+"leave",ee,l,le),W.target=dt,W.relatedTarget=K,ue=null,di(le)===Z&&(Me=new Me(G,$+"enter",Pe,l,le),Me.target=K,Me.relatedTarget=dt,ue=Me),dt=ue,ee&&Pe)t:{for(Me=ee,G=Pe,$=0,K=Me;K;K=ml(K))$++;for(K=0,ue=G;ue;ue=ml(ue))K++;for(;0<$-K;)Me=ml(Me),$--;for(;0<K-$;)G=ml(G),K--;for(;$--;){if(Me===G||G!==null&&Me===G.alternate)break t;Me=ml(Me),G=ml(G)}Me=null}else Me=null;ee!==null&&Zx(he,W,ee,Me,!1),Pe!==null&&dt!==null&&Zx(he,dt,Pe,Me,!0)}}e:{if(W=Z?Lr(Z):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var Se=gg;else if(Kt(W))if(yg)Se=fE;else{Se=uE;var He=oE}else ee=W.nodeName,!ee||ee.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Z&&so(Z.elementType)&&(Se=gg):Se=cE;if(Se&&(Se=Se(r,Z))){wi(he,Se,l,le);break e}He&&He(r,W,Z),r==="focusout"&&Z&&W.type==="number"&&Z.memoizedProps.value!=null&&Zi(W,"number",W.value)}switch(He=Z?Lr(Z):window,r){case"focusin":(Kt(He)||He.contentEditable==="true")&&(Hs=He,Xh=Z,yo=null);break;case"focusout":yo=Xh=Hs=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Sg(he,l,le);break;case"selectionchange":if(dE)break;case"keydown":case"keyup":Sg(he,l,le)}var Ne;if($r)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Je?re(r,l)&&(Oe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(E&&l.locale!=="ko"&&(Je||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Je&&(Ne=oo()):(Br=le,Ji="value"in Br?Br.value:Br.textContent,Je=!0)),He=ff(Z,Oe),0<He.length&&(Oe=new fo(Oe,r,null,l,le),he.push({event:Oe,listeners:He}),Ne?Oe.data=Ne:(Ne=ve(l),Ne!==null&&(Oe.data=Ne)))),(Ne=v?Xt(r,l):We(r,l))&&(Oe=ff(Z,"onBeforeInput"),0<Oe.length&&(He=new fo("onBeforeInput","beforeinput",null,l,le),he.push({event:He,listeners:Oe}),He.data=Ne)),XE(he,r,Z,l,le)}Xx(he,a)})}function $o(r,a,l){return{instance:r,listener:a,currentTarget:l}}function ff(r,a){for(var l=a+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=$a(r,l),p!=null&&c.unshift($o(r,p,y)),p=$a(r,a),p!=null&&c.push($o(r,p,y))),r.tag===3)return c;r=r.return}return[]}function ml(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Zx(r,a,l,c,p){for(var y=a._reactName,T=[];l!==null&&l!==c;){var R=l,H=R.alternate,Z=R.stateNode;if(R=R.tag,H!==null&&H===c)break;R!==5&&R!==26&&R!==27||Z===null||(H=Z,p?(Z=$a(l,y),Z!=null&&T.unshift($o(l,Z,H))):p||(Z=$a(l,y),Z!=null&&T.push($o(l,Z,H)))),l=l.return}T.length!==0&&r.push({event:a,listeners:T})}var WE=/\r\n?/g,eT=/\u0000|\uFFFD/g;function Jx(r){return(typeof r=="string"?r:""+r).replace(WE,`
`).replace(eT,"")}function Wx(r,a){return a=Jx(a),Jx(r)===a}function hf(){}function ht(r,a,l,c,p,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||fr(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&fr(r,""+c);break;case"className":zr(r,"class",c);break;case"tabIndex":zr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(r,l,c);break;case"style":ao(r,c,y);break;case"data":if(a!=="object"){zr(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Os(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ht(r,a,"name",p.name,p,null),ht(r,a,"formEncType",p.formEncType,p,null),ht(r,a,"formMethod",p.formMethod,p,null),ht(r,a,"formTarget",p.formTarget,p,null)):(ht(r,a,"encType",p.encType,p,null),ht(r,a,"method",p.method,p,null),ht(r,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Os(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=hf);break;case"onScroll":c!=null&&Ge("scroll",r);break;case"onScrollEnd":c!=null&&Ge("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Os(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":Ge("beforetoggle",r),Ge("toggle",r),Ki(r,"popover",c);break;case"xlinkActuate":dn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":dn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":dn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":dn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":dn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":dn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":dn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":dn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":dn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ki(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=qh.get(l)||l,Ki(r,l,c))}}function bm(r,a,l,c,p,y){switch(l){case"style":ao(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?fr(r,c):(typeof c=="number"||typeof c=="bigint")&&fr(r,""+c);break;case"onScroll":c!=null&&Ge("scroll",r);break;case"onScrollEnd":c!=null&&Ge("scrollend",r);break;case"onClick":c!=null&&(r.onclick=hf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=r[zt]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Ki(r,l,c)}}}function yn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",r),Ge("load",r);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ht(r,a,y,T,l,null)}}p&&ht(r,a,"srcSet",l.srcSet,l,null),c&&ht(r,a,"src",l.src,l,null);return;case"input":Ge("invalid",r);var R=y=T=p=null,H=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var le=l[c];if(le!=null)switch(c){case"name":p=le;break;case"type":T=le;break;case"checked":H=le;break;case"defaultChecked":Z=le;break;case"value":y=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,a));break;default:ht(r,a,c,le,l,null)}}qa(r,y,R,H,Z,T,p,!1),Ms(r);return;case"select":Ge("invalid",r),c=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(R=l[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":T=R;break;case"multiple":c=R;default:ht(r,a,p,R,l,null)}a=y,l=T,r.multiple=!!c,a!=null?gi(r,!!c,a,!1):l!=null&&gi(r,!!c,l,!0);return;case"textarea":Ge("invalid",r),y=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(R=l[T],R!=null))switch(T){case"value":c=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ht(r,a,T,R,l,null)}Fa(r,c,p,y),Ms(r);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(c=l[H],c!=null))switch(H){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ht(r,a,H,c,l,null)}return;case"dialog":Ge("beforetoggle",r),Ge("toggle",r),Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":Ge("load",r);break;case"video":case"audio":for(c=0;c<Ho.length;c++)Ge(Ho[c],r);break;case"image":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"embed":case"source":case"link":Ge("error",r),Ge("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ht(r,a,Z,c,l,null)}return;default:if(so(a)){for(le in l)l.hasOwnProperty(le)&&(c=l[le],c!==void 0&&bm(r,a,le,c,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(c=l[R],c!=null&&ht(r,a,R,c,l,null))}function tT(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,R=null,H=null,Z=null,le=null;for(ee in l){var he=l[ee];if(l.hasOwnProperty(ee)&&he!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":H=he;default:c.hasOwnProperty(ee)||ht(r,a,ee,null,c,he)}}for(var W in c){var ee=c[W];if(he=l[W],c.hasOwnProperty(W)&&(ee!=null||he!=null))switch(W){case"type":y=ee;break;case"name":p=ee;break;case"checked":Z=ee;break;case"defaultChecked":le=ee;break;case"value":T=ee;break;case"defaultValue":R=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:ee!==he&&ht(r,a,W,ee,c,he)}}Qn(r,T,R,H,Z,le,y,p);return;case"select":ee=T=R=W=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":ee=H;default:c.hasOwnProperty(y)||ht(r,a,y,null,c,H)}for(p in c)if(y=c[p],H=l[p],c.hasOwnProperty(p)&&(y!=null||H!=null))switch(p){case"value":W=y;break;case"defaultValue":R=y;break;case"multiple":T=y;default:y!==H&&ht(r,a,p,y,c,H)}a=R,l=T,c=ee,W!=null?gi(r,!!l,W,!1):!!c!=!!l&&(a!=null?gi(r,!!l,a,!0):gi(r,!!l,l?[]:"",!1));return;case"textarea":ee=W=null;for(R in l)if(p=l[R],l.hasOwnProperty(R)&&p!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ht(r,a,R,null,c,p)}for(T in c)if(p=c[T],y=l[T],c.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":W=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ht(r,a,T,p,c,y)}ct(r,W,ee);return;case"option":for(var Pe in l)if(W=l[Pe],l.hasOwnProperty(Pe)&&W!=null&&!c.hasOwnProperty(Pe))switch(Pe){case"selected":r.selected=!1;break;default:ht(r,a,Pe,null,c,W)}for(H in c)if(W=c[H],ee=l[H],c.hasOwnProperty(H)&&W!==ee&&(W!=null||ee!=null))switch(H){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ht(r,a,H,W,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)W=l[Me],l.hasOwnProperty(Me)&&W!=null&&!c.hasOwnProperty(Me)&&ht(r,a,Me,null,c,W);for(Z in c)if(W=c[Z],ee=l[Z],c.hasOwnProperty(Z)&&W!==ee&&(W!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:ht(r,a,Z,W,c,ee)}return;default:if(so(a)){for(var dt in l)W=l[dt],l.hasOwnProperty(dt)&&W!==void 0&&!c.hasOwnProperty(dt)&&bm(r,a,dt,void 0,c,W);for(le in c)W=c[le],ee=l[le],!c.hasOwnProperty(le)||W===ee||W===void 0&&ee===void 0||bm(r,a,le,W,c,ee);return}}for(var G in l)W=l[G],l.hasOwnProperty(G)&&W!=null&&!c.hasOwnProperty(G)&&ht(r,a,G,null,c,W);for(he in c)W=c[he],ee=l[he],!c.hasOwnProperty(he)||W===ee||W==null&&ee==null||ht(r,a,he,W,c,ee)}var vm=null,_m=null;function df(r){return r.nodeType===9?r:r.ownerDocument}function e1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function wm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Em=null;function nT(){var r=window.event;return r&&r.type==="popstate"?r===Em?!1:(Em=r,!0):(Em=null,!1)}var n1=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,iT=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(r){return r1.resolve(null).then(r).catch(aT)}:n1;function aT(r){setTimeout(function(){throw r})}function ma(r){return r==="head"}function i1(r,a){var l=a,c=0,p=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=r.ownerDocument;if(l&1&&Go(T.documentElement),l&2&&Go(T.body),l&4)for(l=T.head,Go(l),T=l.firstChild;T;){var R=T.nextSibling,H=T.nodeName;T[La]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=R}}if(p===0){r.removeChild(y),eu(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);eu(a)}function Tm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Tm(l),Xi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function sT(r,a,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[La])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=jr(r.nextSibling),r===null)break}return null}function lT(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=jr(r.nextSibling),r===null))return null;return r}function Sm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function oT(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function jr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Am=null;function a1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function s1(r,a,l){switch(a=df(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Go(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Xi(r)}var _r=new Map,l1=new Set;function mf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Oi=ce.d;ce.d={f:uT,r:cT,D:fT,C:hT,L:dT,m:mT,X:gT,S:pT,M:yT};function uT(){var r=Oi.f(),a=af();return r||a}function cT(r){var a=Pr(r);a!==null&&a.tag===5&&a.type==="form"?Ny(a):Oi.r(r)}var pl=typeof document>"u"?null:document;function o1(r,a,l){var c=pl;if(c&&typeof a=="string"&&a){var p=Ut(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),l1.has(p)||(l1.add(p),r={rel:r,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),yn(a,"link",r),Mt(a),c.head.appendChild(a)))}}function fT(r){Oi.D(r),o1("dns-prefetch",r,null)}function hT(r,a){Oi.C(r,a),o1("preconnect",r,a)}function dT(r,a,l){Oi.L(r,a,l);var c=pl;if(c&&r&&a){var p='link[rel="preload"][as="'+Ut(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ut(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ut(l.imageSizes)+'"]')):p+='[href="'+Ut(r)+'"]';var y=p;switch(a){case"style":y=gl(r);break;case"script":y=yl(r)}_r.has(y)||(r=x({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),_r.set(y,r),c.querySelector(p)!==null||a==="style"&&c.querySelector(Yo(y))||a==="script"&&c.querySelector(Qo(y))||(a=c.createElement("link"),yn(a,"link",r),Mt(a),c.head.appendChild(a)))}}function mT(r,a){Oi.m(r,a);var l=pl;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Ut(c)+'"][href="'+Ut(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=yl(r)}if(!_r.has(y)&&(r=x({rel:"modulepreload",href:r},a),_r.set(y,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Qo(y)))return}c=l.createElement("link"),yn(c,"link",r),Mt(c),l.head.appendChild(c)}}}function pT(r,a,l){Oi.S(r,a,l);var c=pl;if(c&&r){var p=Dn(c).hoistableStyles,y=gl(r);a=a||"default";var T=p.get(y);if(!T){var R={loading:0,preload:null};if(T=c.querySelector(Yo(y)))R.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":a},l),(l=_r.get(y))&&Nm(r,l);var H=T=c.createElement("link");Mt(H),yn(H,"link",r),H._p=new Promise(function(Z,le){H.onload=Z,H.onerror=le}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,pf(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:R},p.set(y,T)}}}function gT(r,a){Oi.X(r,a);var l=pl;if(l&&r){var c=Dn(l).hoistableScripts,p=yl(r),y=c.get(p);y||(y=l.querySelector(Qo(p)),y||(r=x({src:r,async:!0},a),(a=_r.get(p))&&Cm(r,a),y=l.createElement("script"),Mt(y),yn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function yT(r,a){Oi.M(r,a);var l=pl;if(l&&r){var c=Dn(l).hoistableScripts,p=yl(r),y=c.get(p);y||(y=l.querySelector(Qo(p)),y||(r=x({src:r,async:!0,type:"module"},a),(a=_r.get(p))&&Cm(r,a),y=l.createElement("script"),Mt(y),yn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function u1(r,a,l,c){var p=(p=ne.current)?mf(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=gl(l.href),l=Dn(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=gl(l.href);var y=Dn(p).hoistableStyles,T=y.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=p.querySelector(Yo(r)))&&!y._p&&(T.instance=y,T.state.loading=5),_r.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},_r.set(r,l),y||xT(p,r,l,T.state))),a&&c===null)throw Error(i(528,""));return T}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yl(l),l=Dn(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function gl(r){return'href="'+Ut(r)+'"'}function Yo(r){return'link[rel="stylesheet"]['+r+"]"}function c1(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function xT(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),yn(a,"link",l),Mt(a),r.head.appendChild(a))}function yl(r){return'[src="'+Ut(r)+'"]'}function Qo(r){return"script[async]"+r}function f1(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+Ut(l.href)+'"]');if(c)return a.instance=c,Mt(c),c;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Mt(c),yn(c,"style",p),pf(c,l.precedence,r),a.instance=c;case"stylesheet":p=gl(l.href);var y=r.querySelector(Yo(p));if(y)return a.state.loading|=4,a.instance=y,Mt(y),y;c=c1(l),(p=_r.get(p))&&Nm(c,p),y=(r.ownerDocument||r).createElement("link"),Mt(y);var T=y;return T._p=new Promise(function(R,H){T.onload=R,T.onerror=H}),yn(y,"link",c),a.state.loading|=4,pf(y,l.precedence,r),a.instance=y;case"script":return y=yl(l.src),(p=r.querySelector(Qo(y)))?(a.instance=p,Mt(p),p):(c=l,(p=_r.get(y))&&(c=x({},l),Cm(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),Mt(p),yn(p,"link",c),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,pf(c,l.precedence,r));return a.instance}function pf(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,T=0;T<c.length;T++){var R=c[T];if(R.dataset.precedence===a)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function Nm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Cm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var gf=null;function h1(r,a,l){if(gf===null){var c=new Map,p=gf=new Map;p.set(l,c)}else p=gf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[La]||y[Qt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=r+T;var R=c.get(T);R?R.push(y):c.set(T,[y])}}return c}function d1(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function bT(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function m1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Xo=null;function vT(){}function _T(r,a,l){if(Xo===null)throw Error(i(475));var c=Xo;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=gl(l.href),y=r.querySelector(Yo(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=yf.bind(c),r.then(c,c)),a.state.loading|=4,a.instance=y,Mt(y);return}y=r.ownerDocument||r,l=c1(l),(p=_r.get(p))&&Nm(l,p),y=y.createElement("link"),Mt(y);var T=y;T._p=new Promise(function(R,H){T.onload=R,T.onerror=H}),yn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=yf.bind(c),r.addEventListener("load",a),r.addEventListener("error",a))}}function wT(){if(Xo===null)throw Error(i(475));var r=Xo;return r.stylesheets&&r.count===0&&km(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&km(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function yf(){if(this.count--,this.count===0){if(this.stylesheets)km(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var xf=null;function km(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,xf=new Map,a.forEach(ET,r),xf=null,yf.call(r))}function ET(r,a){if(!(a.state.loading&4)){var l=xf.get(r);if(l)var c=l.get(null);else{l=new Map,xf.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=a.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,p),l.set(T,p),this.count++,c=yf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var Ko={$$typeof:B,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function TT(r,a,l,c,p,y,T,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function p1(r,a,l,c,p,y,T,R,H,Z,le,he){return r=new TT(r,a,l,T,R,H,Z,he),a=1,y===!0&&(a|=24),y=Kn(3,null,null,a),r.current=y,y.stateNode=r,a=cd(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},md(y),r}function g1(r){return r?(r=Qs,r):Qs}function y1(r,a,l,c,p,y){p=g1(p),c.context===null?c.context=p:c.pendingContext=p,c=ta(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=na(r,c,a),l!==null&&(tr(l,r,a),Ao(l,r,a))}function x1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Rm(r,a){x1(r,a),(r=r.alternate)&&x1(r,a)}function b1(r){if(r.tag===13){var a=Ys(r,67108864);a!==null&&tr(a,r,67108864),Rm(r,67108864)}}var bf=!0;function ST(r,a,l,c){var p=X.T;X.T=null;var y=ce.p;try{ce.p=2,jm(r,a,l,c)}finally{ce.p=y,X.T=p}}function AT(r,a,l,c){var p=X.T;X.T=null;var y=ce.p;try{ce.p=8,jm(r,a,l,c)}finally{ce.p=y,X.T=p}}function jm(r,a,l,c){if(bf){var p=Dm(c);if(p===null)xm(r,a,c,vf,l),_1(r,c);else if(CT(p,r,a,l,c))c.stopPropagation();else if(_1(r,c),a&4&&-1<NT.indexOf(r)){for(;p!==null;){var y=Pr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Yt(y.pendingLanes);if(T!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var H=1<<31-De(T);R.entanglements[1]|=H,T&=~H}Zr(y),(ot&6)===0&&(nf=fn()+500,Fo(0))}}break;case 13:R=Ys(y,2),R!==null&&tr(R,y,2),af(),Rm(y,2)}if(y=Dm(c),y===null&&xm(r,a,c,vf,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else xm(r,a,c,null,l)}}function Dm(r){return r=hr(r),Im(r)}var vf=null;function Im(r){if(vf=null,r=di(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return vf=r,null}function v1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ui()){case wn:return 2;case Ar:return 8;case ur:case ci:return 32;case Or:return 268435456;default:return 32}default:return 32}}var Mm=!1,pa=null,ga=null,ya=null,Zo=new Map,Jo=new Map,xa=[],NT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _1(r,a){switch(r){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Zo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(a.pointerId)}}function Wo(r,a,l,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Pr(a),a!==null&&b1(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function CT(r,a,l,c,p){switch(a){case"focusin":return pa=Wo(pa,r,a,l,c,p),!0;case"dragenter":return ga=Wo(ga,r,a,l,c,p),!0;case"mouseover":return ya=Wo(ya,r,a,l,c,p),!0;case"pointerover":var y=p.pointerId;return Zo.set(y,Wo(Zo.get(y)||null,r,a,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,Jo.set(y,Wo(Jo.get(y)||null,r,a,l,c,p)),!0}return!1}function w1(r){var a=di(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,ic(r.priority,function(){if(l.tag===13){var c=er();c=Gi(c);var p=Ys(l,c);p!==null&&tr(p,l,c),Rm(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _f(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=Dm(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);yi=c,l.target.dispatchEvent(c),yi=null}else return a=Pr(l),a!==null&&b1(a),r.blockedOn=l,!1;a.shift()}return!0}function E1(r,a,l){_f(r)&&l.delete(a)}function kT(){Mm=!1,pa!==null&&_f(pa)&&(pa=null),ga!==null&&_f(ga)&&(ga=null),ya!==null&&_f(ya)&&(ya=null),Zo.forEach(E1),Jo.forEach(E1)}function wf(r,a){r.blockedOn===a&&(r.blockedOn=null,Mm||(Mm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kT)))}var Ef=null;function T1(r){Ef!==r&&(Ef=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ef===r&&(Ef=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],p=r[a+2];if(typeof c!="function"){if(Im(c||l)===null)continue;break}var y=Pr(l);y!==null&&(r.splice(a,3),a-=3,Id(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function eu(r){function a(H){return wf(H,r)}pa!==null&&wf(pa,r),ga!==null&&wf(ga,r),ya!==null&&wf(ya,r),Zo.forEach(a),Jo.forEach(a);for(var l=0;l<xa.length;l++){var c=xa[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<xa.length&&(l=xa[0],l.blockedOn===null);)w1(l),l.blockedOn===null&&xa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],T=p[zt]||null;if(typeof y=="function")T||T1(l);else if(T){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[zt]||null)R=T.formAction;else if(Im(p)!==null)continue}else R=T.action;typeof R=="function"?l[c+1]=R:(l.splice(c,3),c-=3),T1(l)}}}function Om(r){this._internalRoot=r}Tf.prototype.render=Om.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=er();y1(l,c,r,a,null,null)},Tf.prototype.unmount=Om.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;y1(r.current,2,null,r,null,null),af(),a[cr]=null}};function Tf(r){this._internalRoot=r}Tf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Yi();r={blockedOn:null,target:r,priority:a};for(var l=0;l<xa.length&&a!==0&&a<xa[l].priority;l++);xa.splice(l,0,r),l===0&&w1(r)}};var S1=e.version;if(S1!=="19.1.1")throw Error(i(527,S1,"19.1.1"));ce.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var RT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{te=Sf.inject(RT),de=Sf}catch{}}return nu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",p=By,y=qy,T=Fy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=p1(r,1,!1,null,null,l,c,p,y,T,R,null),r[cr]=a.current,ym(r),new Om(a)},nu.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,p="",y=By,T=qy,R=Fy,H=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),a=p1(r,1,!0,a,l??null,c,p,y,T,R,H,Z),a.context=g1(null),l=a.current,c=er(),c=Gi(c),p=ta(c),p.callback=null,na(l,p,c),l=c,a.current.lanes=l,hi(a,l),Zr(a),r[cr]=a.current,ym(r),new Tf(a)},nu.version="19.1.1",nu}var O1;function UT(){if(O1)return Lm.exports;O1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lm.exports=zT(),Lm.exports}var BT=UT();const qT=fh(BT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),V1=t=>{const e=HT(t);return e.charAt(0).toUpperCase()+e.slice(1)},$v=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),$T=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=ie.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:u,...h},m)=>ie.createElement("svg",{ref:m,...GT,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:$v("lucide",s),...!o&&!$T(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,x])=>ie.createElement(g,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=ie.forwardRef(({className:i,...s},o)=>ie.createElement(YT,{ref:o,iconNode:e,className:$v(`lucide-${FT(V1(t))}`,`lucide-${t}`,i),...s}));return n.displayName=V1(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],XT=je("award",QT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hf=je("bell",KT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],JT=je("bold",ZT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Gv=je("book-open",WT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],t4=je("calculator",e4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_u=je("calendar",n4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],i0=je("chart-column",r4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yv=je("check",i4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qv=je("chevron-down",a4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],l4=je("chevron-right",s4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Xv=je("chevron-up",o4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],c4=je("circle-alert",u4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wu=je("circle-check-big",f4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],P1=je("circle-check",h4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m4=je("circle",d4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qu=je("clock",p4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],y4=je("cloud-off",g4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],b4=je("cloud",x4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],_4=je("code",v4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ei=je("crown",w4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vs=je("eye-off",E4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dl=je("eye",T4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Eu=je("file-text",S4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Kv=je("flask-conical",A4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],a0=je("globe",N4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],gp=je("graduation-cap",C4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],R4=je("hash",k4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],D4=je("italic",j4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Af=je("key",I4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],O4=je("link",M4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ir=je("loader-circle",V4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],L4=je("list",P4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xn=je("lock",z4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],ou=je("megaphone",U4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ul=je("pen-line",B4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vi=je("plus",q4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],H4=je("quote",F4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ss=je("save",$4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],s0=je("search",G4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bl=je("settings",Y4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tu=je("shield",Q4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],l0=je("square-check-big",X4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Su=je("star",K4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],Vf=je("sticky-note",Z4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],W4=je("target",J4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Zv=je("toggle-left",eS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Jv=je("toggle-right",tS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Li=je("trash-2",nS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qm=je("triangle-alert",rS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],aS=je("trophy",iS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lS=je("user-check",sS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],uS=je("user-x",oS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ai=je("user",cS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zi=je("users",fS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lr=je("x",hS),wa={1:{theory:["Mathematics-I","Physics","Programming Fundamentals","English"],practical:["Physics Lab","Programming Lab"]},2:{theory:["Mathematics-II","Chemistry","Data Structures","Digital Logic"],practical:["Chemistry Lab","DS Lab"]},3:{theory:["OOP","Discrete Math","Computer Architecture","Statistics"],practical:["OOP Lab","Hardware Lab"]},4:{theory:["DBMS","Operating Systems","Computer Networks","Software Engineering"],practical:["DBMS Lab","Networks Lab"]},5:{theory:["AIA","DAA","DBMS","ES","MLA","MDM","OE-4"],practical:["DAA Lab","DBMS Lab","MLA Lab","ES Lab"]},6:{theory:["CNN","CVPR","DV","K.ENG","MDM","SR"],practical:["CNN Lab","DV Lab","K.ENG Lab","MAD Lab","SR Lab"]},7:{theory:["Deep Learning","Big Data Analytics","Cybersecurity","Project Management"],practical:["ML Lab","Security Lab"]},8:{theory:["Major Project","Technical Seminar","Industry Training"],practical:["Project Implementation"]}},dS=["Assignment","Test","Presentation","Quiz","Certificate","Project","Other"],Ye={rollNo:"2405225",name:"Shaikh Mujahid",admissionYear:2024,isDSY:!1};function mS({students:t,onStudentSelect:e,isLoading:n,studentManagement:i}){const[s,o]=ie.useState(""),[u,h]=ie.useState(!1),[m,g]=ie.useState(null),[x,b]=ie.useState(""),[_,w]=ie.useState(!1),[N,V]=ie.useState(""),P=ie.useMemo(()=>{if(!s.trim())return t;const F=s.toLowerCase();return t.filter(U=>U.name.toLowerCase().includes(F)||U.rollNo.toLowerCase().includes(F))},[t,s]),L=async F=>{F.isProtected?(g(F),h(!0),b(""),V("")):e(F)},q=async F=>{if(F.preventDefault(),!x.trim()){V("Please enter password");return}w(!0),V("");try{await i.authenticateStudent(m,x)?(e(m),h(!1)):(V("Incorrect password. Please try again."),b(""))}catch{V("Authentication failed. Please try again.")}finally{w(!1)}},B=()=>{h(!1),g(null),b(""),V("")},J=()=>{o("")};return n?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(gp,{className:"w-16 h-16 mx-auto text-blue-600 mb-4"}),d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx(ir,{className:"w-6 h-6 animate-spin text-blue-600"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loading Academic Tracker..."})]}),d.jsx("p",{className:"text-gray-600",children:"Setting up your student data"})]})}):u&&m?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:d.jsx("div",{className:"max-w-md w-full",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:`
                w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4
                ${m.rollNo===Ye.rollNo?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-blue-500 to-purple-500"}
              `,children:m.rollNo===Ye.rollNo?d.jsx(ei,{className:"w-8 h-8 text-white"}):d.jsx(xn,{className:"w-8 h-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:m.rollNo===Ye.rollNo?"Admin Authentication":"Student Authentication"}),d.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",m.name,"'s account"]})]}),d.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-2xl",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ai,{className:"w-5 h-5 text-gray-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:m.name}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",m.rollNo]})]})]})}),d.jsxs("form",{onSubmit:q,className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:d.jsx(xn,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:"password",placeholder:"Enter password",value:x,onChange:F=>b(F.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:_,autoFocus:!0})]}),N&&d.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:N}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"submit",disabled:_||!x.trim(),className:`
                    flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed
                    ${m.rollNo===Ye.rollNo?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}
                  `,children:_?d.jsxs(d.Fragment,{children:[d.jsx(ir,{className:"w-4 h-4 animate-spin"}),d.jsx("span",{children:"Authenticating..."})]}):d.jsxs(d.Fragment,{children:[m.rollNo===Ye.rollNo?d.jsx(ei,{className:"w-4 h-4"}):d.jsx(Tu,{className:"w-4 h-4"}),d.jsx("span",{children:"Access Account"})]})}),d.jsx("button",{type:"button",onClick:B,disabled:_,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]}),d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:d.jsxs("p",{className:"text-sm text-blue-700 text-center",children:["This account is password protected for security.",m.rollNo===Ye.rollNo&&" Admin accounts have full system privileges."]})})]})})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-2xl w-full",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:d.jsx(gp,{className:"w-10 h-10 text-white"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Academic Progress Tracker"}),d.jsx("p",{className:"text-gray-600",children:"Select your student profile to continue"})]}),d.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx(zi,{className:"w-6 h-6 text-blue-600"}),d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Select Student Profile"}),d.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.length," total)"]})]}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:d.jsx(s0,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search by name or roll number...",value:s,onChange:F=>o(F.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s&&d.jsx("button",{onClick:J,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.jsx(lr,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:P.length>0?P.map(F=>d.jsx("button",{onClick:()=>L(F),className:`
                    w-full flex items-center p-4 rounded-2xl border-2 transition-all text-left
                    ${F.rollNo===Ye.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300 hover:bg-yellow-100":F.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300 hover:bg-blue-100":"border-gray-200 bg-gray-50 hover:border-blue-300 hover:bg-blue-50"}
                  `,children:d.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[d.jsx("div",{className:`
                      w-12 h-12 rounded-2xl flex items-center justify-center
                      ${F.rollNo===Ye.rollNo?"bg-yellow-200":F.isProtected?"bg-blue-200":"bg-gray-200"}
                    `,children:F.rollNo===Ye.rollNo?d.jsx(ei,{className:"w-6 h-6 text-yellow-600"}):F.isProtected?d.jsx(xn,{className:"w-6 h-6 text-blue-600"}):d.jsx(ai,{className:"w-6 h-6 text-gray-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-bold text-gray-900",children:F.name}),F.rollNo===Ye.rollNo&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ei,{className:"w-4 h-4 text-yellow-600"}),d.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Admin"})]}),F.isProtected&&F.rollNo!==Ye.rollNo&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(xn,{className:"w-3 h-3 text-blue-600"}),d.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Roll No: ",F.rollNo]}),F.isProtected&&d.jsx("p",{className:"text-xs text-gray-500",children:"Password required"})]})]})},F.rollNo)):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(zi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),d.jsxs("p",{children:['No students found matching "',s,'"']})]})}),d.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-2xl border border-gray-200",children:d.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[d.jsx("strong",{children:"Note:"})," Students with ",d.jsx(xn,{className:"w-3 h-3 inline mx-1"})," require password authentication. Click on any student to access their profile."]})})]})]})})}function pS({semester:t,syncStatus:e,selectedStudent:n,onStudentSwitch:i}){const{isOnline:s,isSyncing:o,lastSynced:u}=e;return d.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:d.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center",children:d.jsx(gp,{className:"w-7 h-7 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Progress Tracker"}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Semester ",t,"  Track your academic journey"]})]})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[n&&d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.name}),n.rollNo==="2405225"&&d.jsx(ei,{className:"w-4 h-4 text-yellow-500"})]}),d.jsxs("span",{className:"text-xs text-gray-600",children:["Roll: ",n.rollNo]})]}),d.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",title:"Switch Student",children:d.jsx(ai,{className:"w-5 h-5 text-gray-600"})})]}),d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx("div",{className:"flex items-center gap-2",children:o?d.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[d.jsx(ir,{className:"w-4 h-4 animate-spin"}),d.jsx("span",{className:"text-sm",children:"Syncing..."})]}):s?d.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[d.jsx(b4,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Online"}),u&&d.jsx(wu,{className:"w-3 h-3"})]}):d.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[d.jsx(y4,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Offline"})]})}),u&&d.jsxs("div",{className:"text-xs text-gray-500",children:["Last synced: ",u.toLocaleTimeString()]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(_u,{className:"w-4 h-4"}),d.jsx("span",{children:"Academic Year 2024-25"})]})]})]})})})}const L1=[{id:0,label:"Theory Subjects",icon:Gv},{id:1,label:"Practicals",icon:Kv},{id:2,label:"Notice Board",icon:ou},{id:3,label:"Personal Notes",icon:Vf},{id:4,label:"Student & Settings",icon:Bl}];function gS({activeTab:t,onTabChange:e,showDegreeTab:n=!1}){const i=n?[...L1,{id:5,label:"Degree Completion",icon:wu}]:L1;return d.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-10",children:d.jsx("div",{className:"max-w-7xl mx-auto px-6",children:d.jsx("div",{className:"flex space-x-1",children:i.map(s=>d.jsxs("button",{onClick:()=>e(s.id),className:`
                flex items-center gap-2 px-6 py-4 font-medium transition-all duration-200 border-b-2 relative
                ${t===s.id?"text-blue-600 border-blue-600 bg-blue-50":"text-gray-600 border-transparent hover:text-gray-900 hover:bg-gray-50"}
              `,children:[d.jsx(s.icon,{className:"w-5 h-5"}),d.jsx("span",{children:s.label}),t===s.id&&d.jsx(l4,{className:"w-4 h-4 ml-1"})]},s.id))})})})}function xl({children:t,value:e,index:n,className:i=""}){return d.jsx("div",{className:`transition-all duration-300 ${e!==n?"hidden opacity-0":"opacity-100"}`,style:{display:e!==n?"none":"block"},children:d.jsx("div",{className:`p-6 ${i}`,children:t})})}const yS=ie.memo(function({subject:e,onDataChange:n,initialData:i}){const[s,o]=ie.useState({ca1:{type:"",date:"",marks:""},ca2:{type:"",date:"",marks:""},ca3:{type:"",date:"",marks:""},ca4:{type:"",date:"",marks:""},midSem:{date:"",marks:""}});ie.useEffect(()=>{i&&o(i)},[i]);const u=(b,_,w)=>{if(_==="marks"&&w!==""){const V=parseFloat(w),P=b==="midSem"?20:10;if(V<0||V>P)return}const N={...s,[b]:{...s[b],[_]:w}};o(N),n&&n(e,N)},h=()=>{let _=0;return["ca1","ca2","ca3","ca4"].forEach(w=>{s[w].type&&_++,s[w].date&&_++,s[w].marks&&_++}),s.midSem.date&&_++,s.midSem.marks&&_++,Math.round(_/14*100)},m=()=>{let b=0;["ca1","ca2","ca3","ca4"].forEach(w=>{const N=parseFloat(s[w].marks);isNaN(N)||(b+=N)});const _=parseFloat(s.midSem.marks);return isNaN(_)||(b+=_),b},g=h(),x=m();return d.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Gv,{className:"w-6 h-6"}),d.jsx("h3",{className:"text-lg font-bold",children:e})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-sm opacity-90",children:[g,"%"]}),d.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${g}%`}})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[d.jsx(t4,{className:"w-4 h-4"}),d.jsx("span",{children:"Internal Assessment"})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-lg font-bold",children:[x,"/60"]}),d.jsx("div",{className:"text-xs opacity-75",children:x>0?`${(x/60*100).toFixed(1)}%`:"0%"})]})]})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[d.jsx(W4,{className:"w-4 h-4"}),"Continuous Assessment (4  10 = 40 marks)"]}),[1,2,3,4].map(b=>d.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 space-y-3 border border-gray-100 hover:border-blue-200 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"font-medium text-gray-800",children:["CA-",b]}),s[`ca${b}`].marks&&d.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:[s[`ca${b}`].marks,"/10"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[d.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",value:s[`ca${b}`].type,onChange:_=>u(`ca${b}`,"type",_.target.value),children:[d.jsx("option",{value:"",children:"Select Type"}),dS.map(_=>d.jsx("option",{value:_,children:_},_))]}),d.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:s[`ca${b}`].date,onChange:_=>u(`ca${b}`,"date",_.target.value)}),d.jsx("input",{type:"number",min:"0",max:"10",step:"0.5",placeholder:"Marks (0-10)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:s[`ca${b}`].marks,onChange:_=>u(`ca${b}`,"marks",_.target.value),onKeyDown:_=>{(_.key==="-"||_.key==="+")&&_.preventDefault()}})]})]},b))]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide flex items-center gap-2",children:[d.jsx(XT,{className:"w-4 h-4"}),"Mid Semester Exam (20 marks)"]}),d.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-4 border border-orange-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"font-medium text-gray-800",children:"Mid-Sem Exam"}),s.midSem.marks&&d.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium",children:[s.midSem.marks,"/20"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsx("input",{type:"date",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:s.midSem.date,onChange:b=>u("midSem","date",b.target.value)}),d.jsx("input",{type:"number",min:"0",max:"20",step:"0.5",placeholder:"Marks (0-20)",className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",value:s.midSem.marks,onChange:b=>u("midSem","marks",b.target.value),onKeyDown:b=>{(b.key==="-"||b.key==="+")&&b.preventDefault()}})]})]})]})]})]})});function xS({semester:t,allData:e,handleDataChange:n}){return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Theory Subjects"}),d.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",wa[t].theory.length," subjects"]})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:wa[t].theory.map(i=>d.jsx(yS,{subject:i,onDataChange:(s,o)=>n(s,o,"theory"),initialData:e[`${t}-${i}`]?.data},`${t}-${i}`))})]})}const bS=ie.memo(function({subject:e,onDataChange:n,initialData:i}){const[s,o]=ie.useState(new Set);ie.useEffect(()=>{i&&Array.isArray(i)&&o(new Set(i))},[i]);const u=m=>{const g=new Set(s);g.has(m)?g.delete(m):g.add(m),o(g),n&&n(e,Array.from(g))},h=s.size/10*100;return d.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[d.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 p-4 text-white",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Kv,{className:"w-6 h-6"}),d.jsx("h3",{className:"text-lg font-bold",children:e}),d.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Practical"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-sm opacity-90",children:[s.size,"/10"]}),d.jsx("div",{className:"w-12 h-2 bg-white/20 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${h}%`}})})]})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("h4",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-4 flex items-center gap-2",children:[d.jsx(P1,{className:"w-4 h-4"}),"Lab Experiments (",s.size,"/10 completed)"]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Array.from({length:10},(m,g)=>g+1).map(m=>d.jsx("button",{onClick:()=>u(m),className:`
                flex items-center justify-center p-4 rounded-2xl border-2 transition-all duration-200 font-medium
                ${s.has(m)?"bg-green-100 border-green-500 text-green-700 shadow-md":"bg-gray-50 border-gray-200 text-gray-600 hover:border-green-300 hover:bg-green-50"}
              `,children:d.jsxs("div",{className:"flex items-center gap-2",children:[s.has(m)?d.jsx(P1,{className:"w-4 h-4"}):d.jsx(m4,{className:"w-4 h-4"}),d.jsxs("span",{children:["Lab ",m]})]})},m))}),h===100&&d.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:d.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[d.jsx(aS,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"All labs completed! Great work! "})]})})]})]})});function vS({semester:t,allData:e,handleDataChange:n}){return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practical Subjects"}),d.jsxs("p",{className:"text-gray-600",children:["Semester ",t,"  ",wa[t].practical.length," labs"]})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:wa[t].practical.map(i=>d.jsx(bS,{subject:i,onDataChange:(s,o)=>n(s,o,"practical"),initialData:e[`${t}-${i}`]?.data},`${t}-${i}`))})]})}const _S=()=>{};var z1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wS=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],h=t[n++],m=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},e_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,h=u?t[s+1]:0,m=s+2<t.length,g=m?t[s+2]:0,x=o>>2,b=(o&3)<<4|h>>4;let _=(h&15)<<2|g>>6,w=g&63;m||(w=64,u||(_=64)),i.push(n[x],n[b],n[_],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const g=s<t.length?n[t.charAt(s)]:64;++s;const b=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||g==null||b==null)throw new ES;const _=o<<2|h>>4;if(i.push(_),g!==64){const w=h<<4&240|g>>2;if(i.push(w),b!==64){const N=g<<6&192|b;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(t){const e=Wv(t);return e_.encodeByteArray(e,!0)},$f=function(t){return TS(t).replace(/\./g,"")},SS=function(t){try{return e_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=()=>AS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof z1>"u")return;const t=z1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SS(t[1]);return e&&JSON.parse(e)},o0=()=>{try{return _S()||NS()||CS()||kS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RS=t=>o0()?.emulatorHosts?.[t],jS=t=>{const e=RS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},t_=()=>o0()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$f(JSON.stringify(n)),$f(JSON.stringify(u)),""].join(".")}const du={};function OS(){const t={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?t.emulator.push(e):t.prod.push(e);return t}function VS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let U1=!1;function PS(t,e){if(typeof window>"u"||typeof document>"u"||!u0(window.location.host)||du[t]===e||du[t]||U1)return;du[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=OS().prod.length>0;function u(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{U1=!0,u()},_}function x(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=VS(i),w=n("text"),N=document.getElementById(w)||document.createElement("span"),V=n("learnmore"),P=document.getElementById(V)||document.createElement("a"),L=n("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const B=_.element;h(B),x(P,V);const J=g();m(q,L),B.append(q,N,P,J),document.body.appendChild(B)}o?(N.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zS(){const t=o0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="FirebaseError";class ql extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=FS,Object.setPrototypeOf(this,ql.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n_.prototype.create)}}class n_{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?HS(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new ql(s,h,i)}}function HS(t,e){return t.replace($S,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const $S=/\{\$([^}]+)}/g;function Gf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],u=e[s];if(B1(o)&&B1(u)){if(!Gf(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function B1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t){return t&&t._delegate?t._delegate:t}class Au{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new DS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QS(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YS(t){return t===ms?void 0:t}function QS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const KS={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},ZS=nt.INFO,JS={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},WS=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=JS[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class r_{constructor(e){this.name=e,this._logLevel=ZS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const eA=(t,e)=>e.some(n=>t instanceof n);let q1,F1;function tA(){return q1||(q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nA(){return F1||(F1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i_=new WeakMap,yp=new WeakMap,a_=new WeakMap,Fm=new WeakMap,c0=new WeakMap;function rA(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Ta(t.result)),s()},u=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&i_.set(n,t)}).catch(()=>{}),c0.set(e,t),e}function iA(t){if(yp.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});yp.set(t,e)}let xp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aA(t){xp=t(xp)}function sA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Hm(this),e,...n);return a_.set(i,e.sort?e.sort():[e]),Ta(i)}:nA().includes(t)?function(...e){return t.apply(Hm(this),e),Ta(i_.get(this))}:function(...e){return Ta(t.apply(Hm(this),e))}}function lA(t){return typeof t=="function"?sA(t):(t instanceof IDBTransaction&&iA(t),eA(t,tA())?new Proxy(t,xp):t)}function Ta(t){if(t instanceof IDBRequest)return rA(t);if(Fm.has(t))return Fm.get(t);const e=lA(t);return e!==t&&(Fm.set(t,e),c0.set(e,t)),e}const Hm=t=>c0.get(t);function oA(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),h=Ta(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Ta(u.result),m.oldVersion,m.newVersion,Ta(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{o&&m.addEventListener("close",()=>o()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const uA=["get","getKey","getAll","getAllKeys","count"],cA=["put","add","delete","clear"],$m=new Map;function H1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=cA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||uA.includes(n)))return;const o=async function(u,...h){const m=this.transaction(u,s?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),s&&m.done]))[0]};return $m.set(e,o),o}aA(t=>({...t,get:(e,n,i)=>H1(e,n)||t.get(e,n,i),has:(e,n)=>!!H1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function hA(t){return t.getComponent()?.type==="VERSION"}const bp="@firebase/app",$1="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new r_("@firebase/app"),dA="@firebase/app-compat",mA="@firebase/analytics-compat",pA="@firebase/analytics",gA="@firebase/app-check-compat",yA="@firebase/app-check",xA="@firebase/auth",bA="@firebase/auth-compat",vA="@firebase/database",_A="@firebase/data-connect",wA="@firebase/database-compat",EA="@firebase/functions",TA="@firebase/functions-compat",SA="@firebase/installations",AA="@firebase/installations-compat",NA="@firebase/messaging",CA="@firebase/messaging-compat",kA="@firebase/performance",RA="@firebase/performance-compat",jA="@firebase/remote-config",DA="@firebase/remote-config-compat",IA="@firebase/storage",MA="@firebase/storage-compat",OA="@firebase/firestore",VA="@firebase/ai",PA="@firebase/firestore-compat",LA="firebase",zA="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",UA={[bp]:"fire-core",[dA]:"fire-core-compat",[pA]:"fire-analytics",[mA]:"fire-analytics-compat",[yA]:"fire-app-check",[gA]:"fire-app-check-compat",[xA]:"fire-auth",[bA]:"fire-auth-compat",[vA]:"fire-rtdb",[_A]:"fire-data-connect",[wA]:"fire-rtdb-compat",[EA]:"fire-fn",[TA]:"fire-fn-compat",[SA]:"fire-iid",[AA]:"fire-iid-compat",[NA]:"fire-fcm",[CA]:"fire-fcm-compat",[kA]:"fire-perf",[RA]:"fire-perf-compat",[jA]:"fire-rc",[DA]:"fire-rc-compat",[IA]:"fire-gcs",[MA]:"fire-gcs-compat",[OA]:"fire-fst",[PA]:"fire-fst-compat",[VA]:"fire-vertex","fire-js":"fire-js",[LA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,BA=new Map,_p=new Map;function G1(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qf(t){const e=t.name;if(_p.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,t);for(const n of Yf.values())G1(n,t);for(const n of BA.values())G1(n,t);return!0}function qA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function FA(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new n_("app","Firebase",HA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Au("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=zA;function s_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:vp,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Sa.create("bad-app-name",{appName:String(s)});if(n||(n=t_()),!n)throw Sa.create("no-options");const o=Yf.get(s);if(o){if(Gf(n,o.options)&&Gf(i,o.config))return o;throw Sa.create("duplicate-app",{appName:s})}const u=new XS(s);for(const m of _p.values())u.addComponent(m);const h=new $A(n,i,u);return Yf.set(s,h),h}function YA(t=vp){const e=Yf.get(t);if(!e&&t===vp&&t_())return s_();if(!e)throw Sa.create("no-app",{appName:t});return e}function Cl(t,e,n){let i=UA[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(u.join(" "));return}Qf(new Au(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firebase-heartbeat-database",XA=1,Nu="firebase-heartbeat-store";let Gm=null;function l_(){return Gm||(Gm=oA(QA,XA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sa.create("idb-open",{originalErrorMessage:t.message})})),Gm}async function KA(t){try{const n=(await l_()).transaction(Nu),i=await n.objectStore(Nu).get(o_(t));return await n.done,i}catch(e){if(e instanceof ql)Ui.warn(e.message);else{const n=Sa.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(n.message)}}}async function Y1(t,e){try{const i=(await l_()).transaction(Nu,"readwrite");await i.objectStore(Nu).put(e,o_(t)),await i.done}catch(n){if(n instanceof ql)Ui.warn(n.message);else{const i=Sa.create("idb-set",{originalErrorMessage:n?.message});Ui.warn(i.message)}}}function o_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1024,JA=30;class WA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Q1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>JA){const s=nN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Q1(),{heartbeatsToSend:n,unsentEntries:i}=eN(this._heartbeatsCache.heartbeats),s=$f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ui.warn(e),""}}}function Q1(){return new Date().toISOString().substring(0,10)}function eN(t,e=ZA){const n=[];let i=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),X1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),X1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class tN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?qS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Y1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Y1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function X1(t){return $f(JSON.stringify({version:2,heartbeats:t})).length}function nN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){Qf(new Au("platform-logger",e=>new fA(e),"PRIVATE")),Qf(new Au("heartbeat",e=>new WA(e),"PRIVATE")),Cl(bp,$1,t),Cl(bp,$1,"esm2020"),Cl("fire-js","")}rN("");var K1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aa,u_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function M(){}M.prototype=C.prototype,D.D=C.prototype,D.prototype=new M,D.prototype.constructor=D,D.C=function(k,I,z){for(var A=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)A[ae-2]=arguments[ae];return C.prototype[I].apply(k,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,M){M||(M=0);var k=Array(16);if(typeof C=="string")for(var I=0;16>I;++I)k[I]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(I=0;16>I;++I)k[I]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=D.g[0],M=D.g[1],I=D.g[2];var z=D.g[3],A=C+(z^M&(I^z))+k[0]+3614090360&4294967295;C=M+(A<<7&4294967295|A>>>25),A=z+(I^C&(M^I))+k[1]+3905402710&4294967295,z=C+(A<<12&4294967295|A>>>20),A=I+(M^z&(C^M))+k[2]+606105819&4294967295,I=z+(A<<17&4294967295|A>>>15),A=M+(C^I&(z^C))+k[3]+3250441966&4294967295,M=I+(A<<22&4294967295|A>>>10),A=C+(z^M&(I^z))+k[4]+4118548399&4294967295,C=M+(A<<7&4294967295|A>>>25),A=z+(I^C&(M^I))+k[5]+1200080426&4294967295,z=C+(A<<12&4294967295|A>>>20),A=I+(M^z&(C^M))+k[6]+2821735955&4294967295,I=z+(A<<17&4294967295|A>>>15),A=M+(C^I&(z^C))+k[7]+4249261313&4294967295,M=I+(A<<22&4294967295|A>>>10),A=C+(z^M&(I^z))+k[8]+1770035416&4294967295,C=M+(A<<7&4294967295|A>>>25),A=z+(I^C&(M^I))+k[9]+2336552879&4294967295,z=C+(A<<12&4294967295|A>>>20),A=I+(M^z&(C^M))+k[10]+4294925233&4294967295,I=z+(A<<17&4294967295|A>>>15),A=M+(C^I&(z^C))+k[11]+2304563134&4294967295,M=I+(A<<22&4294967295|A>>>10),A=C+(z^M&(I^z))+k[12]+1804603682&4294967295,C=M+(A<<7&4294967295|A>>>25),A=z+(I^C&(M^I))+k[13]+4254626195&4294967295,z=C+(A<<12&4294967295|A>>>20),A=I+(M^z&(C^M))+k[14]+2792965006&4294967295,I=z+(A<<17&4294967295|A>>>15),A=M+(C^I&(z^C))+k[15]+1236535329&4294967295,M=I+(A<<22&4294967295|A>>>10),A=C+(I^z&(M^I))+k[1]+4129170786&4294967295,C=M+(A<<5&4294967295|A>>>27),A=z+(M^I&(C^M))+k[6]+3225465664&4294967295,z=C+(A<<9&4294967295|A>>>23),A=I+(C^M&(z^C))+k[11]+643717713&4294967295,I=z+(A<<14&4294967295|A>>>18),A=M+(z^C&(I^z))+k[0]+3921069994&4294967295,M=I+(A<<20&4294967295|A>>>12),A=C+(I^z&(M^I))+k[5]+3593408605&4294967295,C=M+(A<<5&4294967295|A>>>27),A=z+(M^I&(C^M))+k[10]+38016083&4294967295,z=C+(A<<9&4294967295|A>>>23),A=I+(C^M&(z^C))+k[15]+3634488961&4294967295,I=z+(A<<14&4294967295|A>>>18),A=M+(z^C&(I^z))+k[4]+3889429448&4294967295,M=I+(A<<20&4294967295|A>>>12),A=C+(I^z&(M^I))+k[9]+568446438&4294967295,C=M+(A<<5&4294967295|A>>>27),A=z+(M^I&(C^M))+k[14]+3275163606&4294967295,z=C+(A<<9&4294967295|A>>>23),A=I+(C^M&(z^C))+k[3]+4107603335&4294967295,I=z+(A<<14&4294967295|A>>>18),A=M+(z^C&(I^z))+k[8]+1163531501&4294967295,M=I+(A<<20&4294967295|A>>>12),A=C+(I^z&(M^I))+k[13]+2850285829&4294967295,C=M+(A<<5&4294967295|A>>>27),A=z+(M^I&(C^M))+k[2]+4243563512&4294967295,z=C+(A<<9&4294967295|A>>>23),A=I+(C^M&(z^C))+k[7]+1735328473&4294967295,I=z+(A<<14&4294967295|A>>>18),A=M+(z^C&(I^z))+k[12]+2368359562&4294967295,M=I+(A<<20&4294967295|A>>>12),A=C+(M^I^z)+k[5]+4294588738&4294967295,C=M+(A<<4&4294967295|A>>>28),A=z+(C^M^I)+k[8]+2272392833&4294967295,z=C+(A<<11&4294967295|A>>>21),A=I+(z^C^M)+k[11]+1839030562&4294967295,I=z+(A<<16&4294967295|A>>>16),A=M+(I^z^C)+k[14]+4259657740&4294967295,M=I+(A<<23&4294967295|A>>>9),A=C+(M^I^z)+k[1]+2763975236&4294967295,C=M+(A<<4&4294967295|A>>>28),A=z+(C^M^I)+k[4]+1272893353&4294967295,z=C+(A<<11&4294967295|A>>>21),A=I+(z^C^M)+k[7]+4139469664&4294967295,I=z+(A<<16&4294967295|A>>>16),A=M+(I^z^C)+k[10]+3200236656&4294967295,M=I+(A<<23&4294967295|A>>>9),A=C+(M^I^z)+k[13]+681279174&4294967295,C=M+(A<<4&4294967295|A>>>28),A=z+(C^M^I)+k[0]+3936430074&4294967295,z=C+(A<<11&4294967295|A>>>21),A=I+(z^C^M)+k[3]+3572445317&4294967295,I=z+(A<<16&4294967295|A>>>16),A=M+(I^z^C)+k[6]+76029189&4294967295,M=I+(A<<23&4294967295|A>>>9),A=C+(M^I^z)+k[9]+3654602809&4294967295,C=M+(A<<4&4294967295|A>>>28),A=z+(C^M^I)+k[12]+3873151461&4294967295,z=C+(A<<11&4294967295|A>>>21),A=I+(z^C^M)+k[15]+530742520&4294967295,I=z+(A<<16&4294967295|A>>>16),A=M+(I^z^C)+k[2]+3299628645&4294967295,M=I+(A<<23&4294967295|A>>>9),A=C+(I^(M|~z))+k[0]+4096336452&4294967295,C=M+(A<<6&4294967295|A>>>26),A=z+(M^(C|~I))+k[7]+1126891415&4294967295,z=C+(A<<10&4294967295|A>>>22),A=I+(C^(z|~M))+k[14]+2878612391&4294967295,I=z+(A<<15&4294967295|A>>>17),A=M+(z^(I|~C))+k[5]+4237533241&4294967295,M=I+(A<<21&4294967295|A>>>11),A=C+(I^(M|~z))+k[12]+1700485571&4294967295,C=M+(A<<6&4294967295|A>>>26),A=z+(M^(C|~I))+k[3]+2399980690&4294967295,z=C+(A<<10&4294967295|A>>>22),A=I+(C^(z|~M))+k[10]+4293915773&4294967295,I=z+(A<<15&4294967295|A>>>17),A=M+(z^(I|~C))+k[1]+2240044497&4294967295,M=I+(A<<21&4294967295|A>>>11),A=C+(I^(M|~z))+k[8]+1873313359&4294967295,C=M+(A<<6&4294967295|A>>>26),A=z+(M^(C|~I))+k[15]+4264355552&4294967295,z=C+(A<<10&4294967295|A>>>22),A=I+(C^(z|~M))+k[6]+2734768916&4294967295,I=z+(A<<15&4294967295|A>>>17),A=M+(z^(I|~C))+k[13]+1309151649&4294967295,M=I+(A<<21&4294967295|A>>>11),A=C+(I^(M|~z))+k[4]+4149444226&4294967295,C=M+(A<<6&4294967295|A>>>26),A=z+(M^(C|~I))+k[11]+3174756917&4294967295,z=C+(A<<10&4294967295|A>>>22),A=I+(C^(z|~M))+k[2]+718787259&4294967295,I=z+(A<<15&4294967295|A>>>17),A=M+(z^(I|~C))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(I+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+z&4294967295}i.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var M=C-this.blockSize,k=this.B,I=this.h,z=0;z<C;){if(I==0)for(;z<=M;)s(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<C;)if(k[I++]=D.charCodeAt(z++),I==this.blockSize){s(this,k),I=0;break}}else for(;z<C;)if(k[I++]=D[z++],I==this.blockSize){s(this,k),I=0;break}}this.h=I,this.o+=C},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var M=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=M&255,M/=256;for(this.u(D),D=Array(16),C=M=0;4>C;++C)for(var k=0;32>k;k+=8)D[M++]=this.g[C]>>>k&255;return D};function o(D,C){var M=h;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=C(D)}function u(D,C){this.h=C;for(var M=[],k=!0,I=D.length-1;0<=I;I--){var z=D[I]|0;k&&z==C||(M[I]=z,k=!1)}this.g=M}var h={};function m(D){return-128<=D&&128>D?o(D,function(C){return new u([C|0],0>C?-1:0)}):new u([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return P(g(-D));for(var C=[],M=1,k=0;D>=M;k++)C[k]=D/M|0,M*=4294967296;return new u(C,0)}function x(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return P(x(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=g(Math.pow(C,8)),k=b,I=0;I<D.length;I+=8){var z=Math.min(8,D.length-I),A=parseInt(D.substring(I,I+z),C);8>z?(z=g(Math.pow(C,z)),k=k.j(z).add(g(A))):(k=k.j(M),k=k.add(g(A)))}return k}var b=m(0),_=m(1),w=m(16777216);t=u.prototype,t.m=function(){if(V(this))return-P(this).m();for(var D=0,C=1,M=0;M<this.g.length;M++){var k=this.i(M);D+=(0<=k?k:4294967296+k)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(V(this))return"-"+P(this).toString(D);for(var C=g(Math.pow(D,6)),M=this,k="";;){var I=J(M,C).g;M=L(M,I.j(C));var z=((0<M.g.length?M.g[0]:M.h)>>>0).toString(D);if(M=I,N(M))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function V(D){return D.h==-1}t.l=function(D){return D=L(this,D),V(D)?-1:N(D)?0:1};function P(D){for(var C=D.g.length,M=[],k=0;k<C;k++)M[k]=~D.g[k];return new u(M,~D.h).add(_)}t.abs=function(){return V(this)?P(this):this},t.add=function(D){for(var C=Math.max(this.g.length,D.g.length),M=[],k=0,I=0;I<=C;I++){var z=k+(this.i(I)&65535)+(D.i(I)&65535),A=(z>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);k=A>>>16,z&=65535,A&=65535,M[I]=A<<16|z}return new u(M,M[M.length-1]&-2147483648?-1:0)};function L(D,C){return D.add(P(C))}t.j=function(D){if(N(this)||N(D))return b;if(V(this))return V(D)?P(this).j(P(D)):P(P(this).j(D));if(V(D))return P(this.j(P(D)));if(0>this.l(w)&&0>D.l(w))return g(this.m()*D.m());for(var C=this.g.length+D.g.length,M=[],k=0;k<2*C;k++)M[k]=0;for(k=0;k<this.g.length;k++)for(var I=0;I<D.g.length;I++){var z=this.i(k)>>>16,A=this.i(k)&65535,ae=D.i(I)>>>16,pe=D.i(I)&65535;M[2*k+2*I]+=A*pe,q(M,2*k+2*I),M[2*k+2*I+1]+=z*pe,q(M,2*k+2*I+1),M[2*k+2*I+1]+=A*ae,q(M,2*k+2*I+1),M[2*k+2*I+2]+=z*ae,q(M,2*k+2*I+2)}for(k=0;k<C;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=C;k<2*C;k++)M[k]=0;return new u(M,0)};function q(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function B(D,C){this.g=D,this.h=C}function J(D,C){if(N(C))throw Error("division by zero");if(N(D))return new B(b,b);if(V(D))return C=J(P(D),C),new B(P(C.g),P(C.h));if(V(C))return C=J(D,P(C)),new B(P(C.g),C.h);if(30<D.g.length){if(V(D)||V(C))throw Error("slowDivide_ only works with positive integers.");for(var M=_,k=C;0>=k.l(D);)M=F(M),k=F(k);var I=U(M,1),z=U(k,1);for(k=U(k,2),M=U(M,2);!N(k);){var A=z.add(k);0>=A.l(D)&&(I=I.add(M),z=A),k=U(k,1),M=U(M,1)}return C=L(D,I.j(C)),new B(I,C)}for(I=b;0<=D.l(C);){for(M=Math.max(1,Math.floor(D.m()/C.m())),k=Math.ceil(Math.log(M)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=g(M),A=z.j(C);V(A)||0<A.l(D);)M-=k,z=g(M),A=z.j(C);N(z)&&(z=_),I=I.add(z),D=L(D,A)}return new B(I,D)}t.A=function(D){return J(this,D).h},t.and=function(D){for(var C=Math.max(this.g.length,D.g.length),M=[],k=0;k<C;k++)M[k]=this.i(k)&D.i(k);return new u(M,this.h&D.h)},t.or=function(D){for(var C=Math.max(this.g.length,D.g.length),M=[],k=0;k<C;k++)M[k]=this.i(k)|D.i(k);return new u(M,this.h|D.h)},t.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),M=[],k=0;k<C;k++)M[k]=this.i(k)^D.i(k);return new u(M,this.h^D.h)};function F(D){for(var C=D.g.length+1,M=[],k=0;k<C;k++)M[k]=D.i(k)<<1|D.i(k-1)>>>31;return new u(M,D.h)}function U(D,C){var M=C>>5;C%=32;for(var k=D.g.length-M,I=[],z=0;z<k;z++)I[z]=0<C?D.i(z+M)>>>C|D.i(z+M+1)<<32-C:D.i(z+M);return new u(I,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,u_=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=x,Aa=u}).apply(typeof K1<"u"?K1:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c_,uu,f_,Pf,wp,h_,d_,m_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function s(f,v){if(v)e:{var E=i;f=f.split(".");for(var O=0;O<f.length-1;O++){var Q=f[O];if(!(Q in E))break e;E=E[Q]}f=f[f.length-1],O=E[f],v=v(O),v!=O&&v!=null&&e(E,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var E=0,O=!1,Q={next:function(){if(!O&&E<f.length){var re=E++;return{value:v(re,f[re]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(f){return f||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function g(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function x(f,v,E){return f.call.apply(f.bind,arguments)}function b(f,v,E){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,O),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function _(f,v,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:b,_.apply(null,arguments)}function w(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function N(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(O,Q,re){for(var ve=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ve[Je-2]=arguments[Je];return v.prototype[Q].apply(O,ve)}}function V(f){const v=f.length;if(0<v){const E=Array(v);for(let O=0;O<v;O++)E[O]=f[O];return E}return[]}function P(f,v){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(m(O)){const Q=f.length||0,re=O.length||0;f.length=Q+re;for(let ve=0;ve<re;ve++)f[Q+ve]=O[ve]}else f.push(O)}}class L{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(f){return/^[\s\xa0]*$/.test(f)}function B(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function J(f){return J[" "](f),f}J[" "]=function(){};var F=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function U(f,v,E){for(const O in f)v.call(E,f[O],O,f)}function D(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function C(f){const v={};for(const E in f)v[E]=f[E];return v}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,v){let E,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(E in O)f[E]=O[E];for(let re=0;re<M.length;re++)E=M[re],Object.prototype.hasOwnProperty.call(O,E)&&(f[E]=O[E])}}function I(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function z(f){h.setTimeout(()=>{throw f},0)}function A(){var f=ke;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ae{constructor(){this.h=this.g=null}add(v,E){const O=pe.get();O.set(v,E),this.h?this.h.next=O:this.g=O,this.h=O}}var pe=new L(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,_e=!1,ke=new ae,S=()=>{const f=h.Promise.resolve(void 0);ce=()=>{f.then(se)}};var se=()=>{for(var f;f=A();){try{f.h.call(f.g)}catch(E){z(E)}var v=pe;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}_e=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return f})();function xe(f,v){if(j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(F){e:{try{J(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&xe.aa.h.call(this)}}N(xe,j);var ne={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Te=0;function pt(f,v,E,O,Q){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!O,this.ha=Q,this.key=++Te,this.da=this.fa=!1}function Nt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dt(f){this.src=f,this.g={},this.h=0}Dt.prototype.add=function(f,v,E,O,Q){var re=f.toString();f=this.g[re],f||(f=this.g[re]=[],this.h++);var ve=en(f,v,O,Q);return-1<ve?(v=f[ve],E||(v.fa=!1)):(v=new pt(v,this.src,re,!!O,Q),v.fa=E,f.push(v)),v};function Rn(f,v){var E=v.type;if(E in f.g){var O=f.g[E],Q=Array.prototype.indexOf.call(O,v,void 0),re;(re=0<=Q)&&Array.prototype.splice.call(O,Q,1),re&&(Nt(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function en(f,v,E,O){for(var Q=0;Q<f.length;++Q){var re=f[Q];if(!re.da&&re.listener==v&&re.capture==!!E&&re.ha==O)return Q}return-1}var or="closure_lm_"+(1e6*Math.random()|0),cn={};function Sr(f,v,E,O,Q){if(Array.isArray(v)){for(var re=0;re<v.length;re++)Sr(f,v[re],E,O,Q);return null}return E=$i(E),f&&f[be]?f.K(v,E,g(O)?!!O.capture:!1,Q):fn(f,v,E,!1,O,Q)}function fn(f,v,E,O,Q,re){if(!v)throw Error("Invalid event type");var ve=g(Q)?!!Q.capture:!!Q,Je=Or(f);if(Je||(f[or]=Je=new Dt(f)),E=Je.add(v,E,O,ve,re),E.proxy)return E;if(O=ui(),E.proxy=O,O.src=f,O.listener=E,f.addEventListener)Y||(Q=ve),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),O,Q);else if(f.attachEvent)f.attachEvent(ur(v.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ui(){function f(E){return v.call(f.src,f.listener,E)}const v=ci;return f}function wn(f,v,E,O,Q){if(Array.isArray(v))for(var re=0;re<v.length;re++)wn(f,v[re],E,O,Q);else O=g(O)?!!O.capture:!!O,E=$i(E),f&&f[be]?(f=f.i,v=String(v).toString(),v in f.g&&(re=f.g[v],E=en(re,E,O,Q),-1<E&&(Nt(re[E]),Array.prototype.splice.call(re,E,1),re.length==0&&(delete f.g[v],f.h--)))):f&&(f=Or(f))&&(v=f.g[v.toString()],f=-1,v&&(f=en(v,E,O,Q)),(E=-1<f?v[f]:null)&&Ar(E))}function Ar(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[be])Rn(v.i,f);else{var E=f.type,O=f.proxy;v.removeEventListener?v.removeEventListener(E,O,f.capture):v.detachEvent?v.detachEvent(ur(E),O):v.addListener&&v.removeListener&&v.removeListener(O),(E=Or(v))?(Rn(E,f),E.h==0&&(E.src=null,v[or]=null)):Nt(f)}}}function ur(f){return f in cn?cn[f]:cn[f]="on"+f}function ci(f,v){if(f.da)f=!0;else{v=new xe(v,this);var E=f.listener,O=f.ha||f.src;f.fa&&Ar(f),f=E.call(O,v)}return f}function Or(f){return f=f[or],f instanceof Dt?f:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function $i(f){return typeof f=="function"?f:(f[fi]||(f[fi]=function(v){return f.handleEvent(v)}),f[fi])}function te(){ge.call(this),this.i=new Dt(this),this.M=this,this.F=null}N(te,ge),te.prototype[be]=!0,te.prototype.removeEventListener=function(f,v,E,O){wn(this,f,v,E,O)};function de(f,v){var E,O=f.F;if(O)for(E=[];O;O=O.F)E.push(O);if(f=f.M,O=v.type||v,typeof v=="string")v=new j(v,f);else if(v instanceof j)v.target=v.target||f;else{var Q=v;v=new j(O,f),k(v,Q)}if(Q=!0,E)for(var re=E.length-1;0<=re;re--){var ve=v.g=E[re];Q=Ae(ve,O,!0,v)&&Q}if(ve=v.g=f,Q=Ae(ve,O,!0,v)&&Q,Q=Ae(ve,O,!1,v)&&Q,E)for(re=0;re<E.length;re++)ve=v.g=E[re],Q=Ae(ve,O,!1,v)&&Q}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],O=0;O<E.length;O++)Nt(E[O]);delete f.g[v],f.h--}}this.F=null},te.prototype.K=function(f,v,E,O){return this.i.add(String(f),v,!1,E,O)},te.prototype.L=function(f,v,E,O){return this.i.add(String(f),v,!0,E,O)};function Ae(f,v,E,O){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,re=0;re<v.length;++re){var ve=v[re];if(ve&&!ve.da&&ve.capture==E){var Je=ve.listener,Xt=ve.ha||ve.src;ve.fa&&Rn(f.i,ve),Q=Je.call(Xt,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function De(f,v,E){if(typeof f=="function")E&&(f=_(f,E));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function Ze(f){f.g=De(()=>{f.g=null,f.i&&(f.i=!1,Ze(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class hn extends ge{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ze(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(f){ge.call(this),this.h=f,this.g={}}N(tn,ge);var Lt=[];function jn(f){U(f.g,function(v,E){this.g.hasOwnProperty(E)&&Ar(v)},f),f.g={}}tn.prototype.N=function(){tn.aa.N.call(this),jn(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=h.JSON.stringify,Ct=h.JSON.parse,It=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function fe(){}fe.prototype.h=null;function qe(f){return f.h||(f.h=f.i())}function _t(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){j.call(this,"d")}N(hi,j);function Jl(){j.call(this,"c")}N(Jl,j);var Vr={},Wl=null;function Gi(){return Wl=Wl||new te}Vr.La="serverreachability";function ks(f){j.call(this,Vr.La,f)}N(ks,j);function Yi(f){const v=Gi();de(v,new ks(v))}Vr.STAT_EVENT="statevent";function ic(f,v){j.call(this,Vr.STAT_EVENT,f),this.stat=v}N(ic,j);function Et(f){const v=Gi();de(v,new ic(v,f))}Vr.Ma="timingevent";function Qt(f,v){j.call(this,Vr.Ma,f),this.size=v}N(Qt,j);function zt(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function cr(){this.g=!0}cr.prototype.xa=function(){this.g=!1};function eo(f,v,E,O,Q,re){f.info(function(){if(f.g)if(re)for(var ve="",Je=re.split("&"),Xt=0;Xt<Je.length;Xt++){var We=Je[Xt].split("=");if(1<We.length){var rn=We[0];We=We[1];var Kt=rn.split("_");ve=2<=Kt.length&&Kt[1]=="type"?ve+(rn+"="+We+"&"):ve+(rn+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+v+`
`+E+`
`+ve})}function zh(f,v,E,O,Q,re,ve){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+v+`
`+E+`
`+re+" "+ve})}function Qi(f,v,E,O){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+La(f,E)+(O?" "+O:"")})}function ac(f,v){f.info(function(){return"TIMEOUT: "+v})}cr.prototype.info=function(){};function La(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var O=E[f];if(!(2>O.length)){var Q=O[1];if(Array.isArray(Q)&&!(1>Q.length)){var re=Q[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<Q.length;ve++)Q[ve]=""}}}}return Yt(E)}catch{return v}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pr;function Lr(){}N(Lr,fe),Lr.prototype.g=function(){return new XMLHttpRequest},Lr.prototype.i=function(){return{}},Pr=new Lr;function Dn(f,v,E,O){this.j=f,this.i=v,this.l=E,this.R=O||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}var to={},Rs={};function Nr(f,v,E){f.L=1,f.v=Fa(Qn(v)),f.m=E,f.P=!0,mi(f,null)}function mi(f,v){f.F=Date.now(),za(f),f.A=Qn(f.v);var E=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),lo(E.i,"t",O),f.C=0,E=f.j.J,f.h=new Mt,f.g=_c(f.j,E?v:null,!f.m),0<f.O&&(f.M=new hn(_(f.Y,f,f.g),f.O)),v=f.U,E=f.g,O=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Lt[0]=Q.toString()),Q=Lt);for(var re=0;re<Q.length;re++){var ve=Sr(E,Q[re],O||v.handleEvent,!1,v.h||v);if(!ve)break;v.g[ve.key]=ve}v=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Yi(),eo(f.i,f.u,f.A,f.l,f.R,f.m)}Dn.prototype.ca=function(f){f=f.target;const v=this.M;v&&mr(f)==3?v.j():this.Y(f)},Dn.prototype.Y=function(f){try{if(f==this.g)e:{const Kt=mr(this.g);var v=this.g.Ba();const wi=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||dc(this.g)))){this.J||Kt!=4||v==7||(v==8||0>=wi?Yi(3):Yi(2)),Ki(this);var E=this.g.Z();this.X=E;t:if(sc(this)){var O=dc(this.g);f="";var Q=O.length,re=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),zr(this);var ve="";break t}this.h.i=new h.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(O[v],{stream:!(re&&v==Q-1)});O.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=E==200,zh(this.i,this.u,this.A,this.l,this.R,Kt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Xt=this.g;if((Je=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Je)){var We=Je;break t}}We=null}if(E=We)Qi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ua(this,E);else{this.o=!1,this.s=3,Et(12),dn(this),zr(this);break e}}if(this.P){E=!0;let mn;for(;!this.J&&this.C<ve.length;)if(mn=lc(this,ve),mn==Rs){Kt==4&&(this.s=4,Et(14),E=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==to){this.s=4,Et(15),Qi(this.i,this.l,ve,"[Invalid Chunk]"),E=!1;break}else Qi(this.i,this.l,mn,null),Ua(this,mn);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ve.length!=0||this.h.h||(this.s=1,Et(16),E=!1),this.o=this.o&&E,!E)Qi(this.i,this.l,ve,"[Invalid Chunked Response]"),dn(this),zr(this);else if(0<ve.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Za(rn),rn.M=!0,Et(11))}}else Qi(this.i,this.l,ve,null),Ua(this,ve);Kt==4&&dn(this),this.o&&!this.J&&(Kt==4?xc(this.j,this):(this.o=!1,za(this)))}else Hh(this.g),E==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),dn(this),zr(this)}}}catch{}finally{}};function sc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function lc(f,v){var E=f.C,O=v.indexOf(`
`,E);return O==-1?Rs:(E=Number(v.substring(E,O)),isNaN(E)?to:(O+=1,O+E>v.length?Rs:(v=v.slice(O,O+E),f.C=O+E,v)))}Dn.prototype.cancel=function(){this.J=!0,dn(this)};function za(f){f.S=Date.now()+f.I,oc(f,f.I)}function oc(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=zt(_(f.ba,f),v)}function Ki(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Dn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ac(this.i,this.A),this.L!=2&&(Yi(),Et(17)),dn(this),this.s=2,zr(this)):oc(this,this.S-f)};function zr(f){f.j.G==0||f.J||xc(f.j,f)}function dn(f){Ki(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,jn(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Ua(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||no(E.h,f))){if(!f.K&&no(E.h,f)&&E.G==3){try{var O=E.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)qs(E),Us(E);else break e;ho(E),Et(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=zt(_(E.Za,E),6e3));if(1>=Ds(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else _i(E,11)}else if((f.K||E.g==f)&&qs(E),!q(v))for(Q=E.Da.g.parse(v),v=0;v<Q.length;v++){let We=Q[v];if(E.T=We[0],We=We[1],E.G==2)if(We[0]=="c"){E.K=We[1],E.ia=We[2];const rn=We[3];rn!=null&&(E.la=rn,E.j.info("VER="+E.la));const Kt=We[4];Kt!=null&&(E.Aa=Kt,E.j.info("SVER="+E.Aa));const wi=We[5];wi!=null&&typeof wi=="number"&&0<wi&&(O=1.5*wi,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const mn=f.g;if(mn){const Gr=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var re=O.h;re.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Is(re,re.h),re.h=null))}if(O.D){const po=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(O.ya=po,ct(O.I,O.D,po))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var ve=f;if(O.qa=vc(O,O.J?O.ia:null,O.W),ve.K){In(O.h,ve);var Je=ve,Xt=O.L;Xt&&(Je.I=Xt),Je.B&&(Ki(Je),za(Je)),O.g=ve}else gc(O);0<E.i.length&&Bs(E)}else We[0]!="stop"&&We[0]!="close"||_i(E,7);else E.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?_i(E,7):co(E):We[0]!="noop"&&E.l&&E.l.ta(We),E.v=0)}}Yi(4)}catch{}}var uc=class{constructor(f,v){this.g=f,this.map=v}};function pi(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function js(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ds(f){return f.h?1:f.g?f.g.size:0}function no(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Is(f,v){f.g?f.g.add(v):f.h=v}function In(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}pi.prototype.cancel=function(){if(this.i=ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ro(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return V(f.i)}function Uh(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var v=[],E=f.length,O=0;O<E;O++)v.push(f[O]);return v}v=[],E=0;for(O in f)v[E++]=f[O];return v}function Ms(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const O in f)v[E++]=O;return v}}}function io(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=Ms(f),O=Uh(f),Q=O.length,re=0;re<Q;re++)v.call(void 0,O[re],E&&E[re],f)}var Ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bh(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var O=f[E].indexOf("="),Q=null;if(0<=O){var re=f[E].substring(0,O);Q=f[E].substring(O+1)}else re=f[E];v(re,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ut(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ut){this.h=f.h,qa(this,f.j),this.o=f.o,this.g=f.g,Zi(this,f.s),this.l=f.l;var v=f.i,E=new yi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),gi(this,E),this.m=f.m}else f&&(v=String(f).match(Ba))?(this.h=!1,qa(this,v[1]||"",!0),this.o=fr(v[2]||""),this.g=fr(v[3]||"",!0),Zi(this,v[4]),this.l=fr(v[5]||"",!0),gi(this,v[6]||"",!0),this.m=fr(v[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}Ut.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Ha(v,ao,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Ha(v,ao,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ha(E,E.charAt(0)=="/"?qh:so,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ha(E,Os)),f.join("")};function Qn(f){return new Ut(f)}function qa(f,v,E){f.j=E?fr(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Zi(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function gi(f,v,E){v instanceof yi?(f.i=v,fc(f.i,f.h)):(E||(v=Ha(v,Fh)),f.i=new yi(v,f.h))}function ct(f,v,E){f.i.set(v,E)}function Fa(f){return ct(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function fr(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ha(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,cc),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function cc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ao=/[#\/\?@]/g,so=/[#\?:]/g,qh=/[#\?]/g,Fh=/[#\?@]/g,Os=/#/g;function yi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function hr(f){f.g||(f.g=new Map,f.h=0,f.i&&Bh(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=yi.prototype,t.add=function(f,v){hr(this),this.i=null,f=Ur(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function xi(f,v){hr(f),v=Ur(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function bi(f,v){return hr(f),v=Ur(f,v),f.g.has(v)}t.forEach=function(f,v){hr(this),this.g.forEach(function(E,O){E.forEach(function(Q){f.call(v,Q,O,this)},this)},this)},t.na=function(){hr(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let O=0;O<v.length;O++){const Q=f[O];for(let re=0;re<Q.length;re++)E.push(v[O])}return E},t.V=function(f){hr(this);let v=[];if(typeof f=="string")bi(this,f)&&(v=v.concat(this.g.get(Ur(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},t.set=function(f,v){return hr(this),this.i=null,f=Ur(this,f),bi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function lo(f,v,E){xi(f,v),0<E.length&&(f.i=null,f.g.set(Ur(f,v),V(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var O=v[E];const re=encodeURIComponent(String(O)),ve=this.V(O);for(O=0;O<ve.length;O++){var Q=re;ve[O]!==""&&(Q+="="+encodeURIComponent(String(ve[O]))),f.push(Q)}}return this.i=f.join("&")};function Ur(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function fc(f,v){v&&!f.j&&(hr(f),f.i=null,f.g.forEach(function(E,O){var Q=O.toLowerCase();O!=Q&&(xi(this,O),lo(this,Q,E))},f)),f.j=v}function $a(f,v){const E=new cr;if(h.Image){const O=new Image;O.onload=w(dr,E,"TestLoadImage: loaded",!0,v,O),O.onerror=w(dr,E,"TestLoadImage: error",!1,v,O),O.onabort=w(dr,E,"TestLoadImage: abort",!1,v,O),O.ontimeout=w(dr,E,"TestLoadImage: timeout",!1,v,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else v(!1)}function Cr(f,v){const E=new cr,O=new AbortController,Q=setTimeout(()=>{O.abort(),dr(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:O.signal}).then(re=>{clearTimeout(Q),re.ok?dr(E,"TestPingServer: ok",!0,v):dr(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),dr(E,"TestPingServer: error",!1,v)})}function dr(f,v,E,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(E)}catch{}}function Ga(){this.g=new It}function Br(f,v,E){const O=E||"";try{io(f,function(Q,re){let ve=Q;g(Q)&&(ve=Yt(Q)),v.push(O+re+"="+encodeURIComponent(ve))})}catch(Q){throw v.push(O+"type="+encodeURIComponent("_badmap")),Q}}function Ji(f){this.l=f.Ub||null,this.j=f.eb||!1}N(Ji,fe),Ji.prototype.g=function(){return new vi(this.l,this.j)},Ji.prototype.i=(function(f){return function(){return f}})({});function vi(f,v){te.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(vi,te),t=vi.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Fr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oo(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function oo(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?qr(this):Fr(this),this.readyState==3&&oo(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,qr(this))},t.Qa=function(f){this.g&&(this.response=f,qr(this))},t.ga=function(){this.g&&qr(this)};function qr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Fr(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function Fr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function uo(f){let v="";return U(f,function(E,O){v+=O,v+=":",v+=E,v+=`\r
`}),v}function nn(f,v,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=uo(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):ct(f,v,E))}function st(f){te.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(st,te);var Vs=/^https?$/i,Ya=["POST","PUT"];t=st.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pr.g(),this.v=this.o?qe(this.o):qe(Pr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(re){hc(this,re);return}if(f=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)E.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const re of O.keys())E.set(re,O.get(re));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(re=>re.toLowerCase()=="content-type"),Q=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ya,v,void 0))||O||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of E)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qa(this),this.u=!0,this.g.send(f),this.u=!1}catch(re){hc(this,re)}};function hc(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Ps(f),Hr(f)}function Ps(f){f.A||(f.A=!0,de(f,"complete"),de(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,de(this,"complete"),de(this,"abort"),Hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ls(this):this.bb())},t.bb=function(){Ls(this)};function Ls(f){if(f.h&&typeof u<"u"&&(!f.v[1]||mr(f)!=4||f.Z()!=2)){if(f.u&&mr(f)==4)De(f.Ea,0,f);else if(de(f,"readystatechange"),mr(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var O;if(O=ve===0){var Q=String(f.D).match(Ba)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),O=!Vs.test(Q?Q.toLowerCase():"")}E=O}if(E)de(f,"complete"),de(f,"success");else{f.m=6;try{var re=2<mr(f)?f.g.statusText:""}catch{re=""}f.l=re+" ["+f.Z()+"]",Ps(f)}}finally{Hr(f)}}}}function Hr(f,v){if(f.g){Qa(f);const E=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||de(f,"ready");try{E.onreadystatechange=O}catch{}}}function Qa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function mr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Ct(v)}};function dc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Hh(f){const v={};f=(f.g&&2<=mr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(q(f[O]))continue;var E=I(f[O]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const re=v[Q]||[];v[Q]=re,re.push(E)}D(v,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function zs(f){this.Aa=0,this.i=[],this.j=new cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xa("baseRetryDelayMs",5e3,f),this.cb=Xa("retryDelaySeedMs",1e4,f),this.Wa=Xa("forwardChannelMaxRetries",2,f),this.wa=Xa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(f&&f.concurrentRequestLimit),this.Da=new Ga,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zs.prototype,t.la=8,t.G=1,t.connect=function(f,v,E,O){Et(0),this.W=f,this.H=v||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=vc(this,null,this.W),Bs(this)};function co(f){if(mc(f),f.G==3){var v=f.U++,E=Qn(f.I);if(ct(E,"SID",f.K),ct(E,"RID",v),ct(E,"TYPE","terminate"),Ka(f,E),v=new Dn(f,f.j,v),v.L=2,v.v=Fa(Qn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.v,E=!0),E||(v.g=_c(v.j,null),v.g.ea(v.v)),v.F=Date.now(),za(v)}bc(f)}function Us(f){f.g&&(Za(f),f.g.cancel(),f.g=null)}function mc(f){Us(f),f.u&&(h.clearTimeout(f.u),f.u=null),qs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Bs(f){if(!js(f.h)&&!f.s){f.s=!0;var v=f.Ga;ce||S(),_e||(ce(),_e=!0),ke.add(v,f),f.B=0}}function $h(f,v){return Ds(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=zt(_(f.Ga,f,v),mo(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new Dn(this,this.j,f);let re=this.o;if(this.S&&(re?(re=C(re),k(re,this.S)):re=this.S),this.m!==null||this.O||(Q.H=re,re=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=pc(this,Q,v),E=Qn(this.I),ct(E,"RID",f),ct(E,"CVER",22),this.D&&ct(E,"X-HTTP-Session-Id",this.D),Ka(this,E),re&&(this.O?v="headers="+encodeURIComponent(String(uo(re)))+"&"+v:this.m&&nn(E,this.m,re)),Is(this.h,Q),this.Ua&&ct(E,"TYPE","init"),this.P?(ct(E,"$req",v),ct(E,"SID","null"),Q.T=!0,Nr(Q,E,null)):Nr(Q,E,v),this.G=2}}else this.G==3&&(f?fo(this,f):this.i.length==0||js(this.h)||fo(this))};function fo(f,v){var E;v?E=v.l:E=f.U++;const O=Qn(f.I);ct(O,"SID",f.K),ct(O,"RID",E),ct(O,"AID",f.T),Ka(f,O),f.m&&f.o&&nn(O,f.m,f.o),E=new Dn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=pc(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Is(f.h,E),Nr(E,O,v)}function Ka(f,v){f.H&&U(f.H,function(E,O){ct(v,O,E)}),f.l&&io({},function(E,O){ct(v,O,E)})}function pc(f,v,E){E=Math.min(f.i.length,E);var O=f.l?_(f.l.Na,f.l,f):null;e:{var Q=f.i;let re=-1;for(;;){const ve=["count="+E];re==-1?0<E?(re=Q[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let Je=!0;for(let Xt=0;Xt<E;Xt++){let We=Q[Xt].g;const rn=Q[Xt].map;if(We-=re,0>We)re=Math.max(0,Q[Xt].g-100),Je=!1;else try{Br(rn,ve,"req"+We+"_")}catch{O&&O(rn)}}if(Je){O=ve.join("&");break e}}}return f=f.i.splice(0,E),v.D=f,O}function gc(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ce||S(),_e||(ce(),_e=!0),ke.add(v,f),f.v=0}}function ho(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=zt(_(f.Fa,f),mo(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=zt(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Us(this),yc(this))};function Za(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function yc(f){f.g=new Dn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Qn(f.qa);ct(v,"RID","rpc"),ct(v,"SID",f.K),ct(v,"AID",f.T),ct(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&ct(v,"TO",f.ja),ct(v,"TYPE","xmlhttp"),Ka(f,v),f.m&&f.o&&nn(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Fa(Qn(v)),E.m=null,E.P=!0,mi(E,f)}t.Za=function(){this.C!=null&&(this.C=null,Us(this),ho(this),Et(19))};function qs(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function xc(f,v){var E=null;if(f.g==v){qs(f),Za(f),f.g=null;var O=2}else if(no(f.h,v))E=v.D,In(f.h,v),O=1;else return;if(f.G!=0){if(v.o)if(O==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;O=Gi(),de(O,new Qt(O,E)),Bs(f)}else gc(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(O==1&&$h(f,v)||O==2&&ho(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),Q){case 1:_i(f,5);break;case 4:_i(f,10);break;case 3:_i(f,6);break;default:_i(f,2)}}}function mo(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function _i(f,v){if(f.j.info("Error code "+v),v==2){var E=_(f.fb,f),O=f.Xa;const Q=!O;O=new Ut(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qa(O,"https"),Fa(O),Q?$a(O.toString(),E):Cr(O.toString(),E)}else Et(2);f.G=0,f.l&&f.l.sa(v),bc(f),mc(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function bc(f){if(f.G=0,f.ka=[],f.l){const v=ro(f.h);(v.length!=0||f.i.length!=0)&&(P(f.ka,v),P(f.ka,f.i),f.h.i.length=0,V(f.i),f.i.length=0),f.l.ra()}}function vc(f,v,E){var O=E instanceof Ut?Qn(E):new Ut(E);if(O.g!="")v&&(O.g=v+"."+O.g),Zi(O,O.s);else{var Q=h.location;O=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var re=new Ut(null);O&&qa(re,O),v&&(re.g=v),Q&&Zi(re,Q),E&&(re.l=E),O=re}return E=f.D,v=f.ya,E&&v&&ct(O,E,v),ct(O,"VER",f.la),Ka(f,O),O}function _c(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new st(new Ji({eb:E})):new st(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}t=wc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fs(){}Fs.prototype.g=function(f,v){return new Mn(f,v)};function Mn(f,v){te.call(this),this.g=new zs(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!q(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new $r(this)}N(Mn,te),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){co(this.g)},Mn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Yt(f),f=E);v.i.push(new uc(v.Ya++,f)),v.G==3&&Bs(v)},Mn.prototype.N=function(){this.g.l=null,delete this.j,co(this.g),delete this.g,Mn.aa.N.call(this)};function Ec(f){hi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const E in v){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}N(Ec,hi);function Tc(){Jl.call(this),this.status=1}N(Tc,Jl);function $r(f){this.g=f}N($r,wc),$r.prototype.ua=function(){de(this.g,"a")},$r.prototype.ta=function(f){de(this.g,new Ec(f))},$r.prototype.sa=function(f){de(this.g,new Tc)},$r.prototype.ra=function(){de(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,m_=function(){return new Fs},d_=function(){return Gi()},h_=Vr,wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Pf=Xi,di.COMPLETE="complete",f_=di,_t.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",te.prototype.listen=te.prototype.K,uu=_t,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,c_=st}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const Z1="@firebase/firestore",J1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new r_("@firebase/firestore");function wl(){return _s.logLevel}function Ee(t,...e){if(_s.logLevel<=nt.DEBUG){const n=e.map(f0);_s.debug(`Firestore (${Fl}): ${t}`,...n)}}function Bi(t,...e){if(_s.logLevel<=nt.ERROR){const n=e.map(f0);_s.error(`Firestore (${Fl}): ${t}`,...n)}}function Il(t,...e){if(_s.logLevel<=nt.WARN){const n=e.map(f0);_s.warn(`Firestore (${Fl}): ${t}`,...n)}}function f0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,p_(t,i,n)}function p_(t,e,n){let i=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Bi(i),new Error(i)}function lt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||p_(e,s,i)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends ql{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class aN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sN{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let i=this.i;const s=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let o=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pi,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await s(this.currentUser)}))},h=m=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string",31837,{l:i}),new g_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class lN{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oN{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new lN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,FA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const i=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new W1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=cN(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function Xe(t,e){return t<e?-1:t>e?1:0}function Ep(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),o=e.charAt(i);if(s!==o)return Ym(s)===Ym(o)?Xe(s,o):Ym(s)?1:-1}return Xe(t.length,e.length)}const fN=55296,hN=57343;function Ym(t){const e=t.charCodeAt(0);return e>=fN&&e<=hN}function Ml(t,e,n){return t.length===e.length&&t.every(((i,s)=>n(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__name__";class Wr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ve(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=Wr.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Xe(e.length,n.length)}static compareSegments(e,n){const i=Wr.isNumericId(e),s=Wr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Aa.fromString(e.substring(4,e.length-2))}}class vt extends Wr{construct(e,n,i){return new vt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const dN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Wr{construct(e,n,i){return new vn(e,n,i)}static isValidIdentifier(e){return dN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eb}static keyField(){return new vn([eb])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new we(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new we(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new we(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new we(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(vt.fromString(e))}static fromName(e){return new Re(vt.fromString(e).popFirst(5))}static empty(){return new Re(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t,e,n){if(!n)throw new we(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mN(t,e,n,i){if(e===!0&&i===!0)throw new we(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tb(t){if(!Re.isDocumentKey(t))throw new we(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nb(t){if(Re.isDocumentKey(t))throw new we(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function x_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hh(t);throw new we(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fu(t,e){if(!x_(t))throw new we(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(s&&typeof u!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new we(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=-62135596800,ib=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*ib);return new wt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rb)throw new we(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ib}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fu(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Gt("string",wt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new wt(0,0))}static max(){return new Le(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function pN(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Le.fromTimestamp(i===1e9?new wt(n+1,0):new wt(n,i));return new Ca(s,Re.empty(),e)}function gN(t){return new Ca(t.readTime,t.key,Cu)}class Ca{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ca(Le.min(),Re.empty(),Cu)}static max(){return new Ca(Le.max(),Re.empty(),Cu)}}function yN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==xN)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,i)=>{n(e)}))}static reject(e){return new me(((n,i)=>{i(e)}))}static waitFor(e){return new me(((n,i)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&n()}),(m=>i(m)))})),u=!0,o===s&&n()}))}static or(e){let n=me.resolve(!1);for(const i of e)n=n.next((s=>s?me.resolve(s):i()));return n}static forEach(e,n){const i=[];return e.forEach(((s,o)=>{i.push(n.call(this,s,o))})),this.waitFor(i)}static mapArray(e,n){return new me(((i,s)=>{const o=e.length,u=new Array(o);let h=0;for(let m=0;m<o;m++){const g=m;n(e[g]).next((x=>{u[g]=x,++h,h===o&&i(u)}),(x=>s(x)))}}))}static doWhile(e,n){return new me(((i,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):i()};o()}))}}function vN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-1;function mh(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function _N(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="";function wN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ab(e)),e=EN(t.get(n),e);return ab(e)}function EN(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case b_:n+="";break;default:n+=o}}return n}function ab(t){return t+b_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function v_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cf(this.root,e,this.comparator,!0)}}class Cf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??bn.RED,this.left=s??bn.EMPTY,this.right=o??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new bn(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return bn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lb(this.data.getIterator())}getIteratorFrom(e){return new lb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class lb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new ar([])}unionWith(e){let n=new Wt(vn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new __("Invalid base64 string: "+o):o}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const TN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=TN.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ra(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="server_timestamp",E_="__type__",T_="__previous_value__",S_="__local_write_time__";function m0(t){return(t?.mapValue?.fields||{})[E_]?.stringValue===w_}function ph(t){const e=t.mapValue.fields[T_];return m0(e)?ph(e):e}function ku(t){const e=ka(t.mapValue.fields[S_].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,i,s,o,u,h,m,g,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=x}}const Kf="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||Kf}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="__type__",AN="__max__",kf={mapValue:{}},N_="__vector__",Zf="value";function ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m0(t)?4:CN(t)?9007199254740991:NN(t)?10:11:Ve(28295,{value:t})}function si(t,e){if(t===e)return!0;const n=ja(t);if(n!==ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ku(t).isEqual(ku(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ka(s.timestampValue),h=ka(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Ra(s.bytesValue).isEqual(Ra(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Pt(s.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Pt(s.integerValue)===Pt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Pt(s.doubleValue),h=Pt(o.doubleValue);return u===h?Xf(u)===Xf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(sb(u)!==sb(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!si(u[m],h[m])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function ju(t,e){return(t.values||[]).find((n=>si(n,e)))!==void 0}function Ol(t,e){if(t===e)return 0;const n=ja(t),i=ja(e);if(n!==i)return Xe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Pt(o.integerValue||o.doubleValue),m=Pt(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return ob(t.timestampValue,e.timestampValue);case 4:return ob(ku(t),ku(e));case 5:return Ep(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=Ra(o),m=Ra(u);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),m=u.split("/");for(let g=0;g<h.length&&g<m.length;g++){const x=Xe(h[g],m[g]);if(x!==0)return x}return Xe(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Xe(Pt(o.latitude),Pt(u.latitude));return h!==0?h:Xe(Pt(o.longitude),Pt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ub(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},m=u.fields||{},g=h[Zf]?.arrayValue,x=m[Zf]?.arrayValue,b=Xe(g?.values?.length||0,x?.values?.length||0);return b!==0?b:ub(g,x)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===kf.mapValue&&u===kf.mapValue)return 0;if(o===kf.mapValue)return 1;if(u===kf.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),g=u.fields||{},x=Object.keys(g);m.sort(),x.sort();for(let b=0;b<m.length&&b<x.length;++b){const _=Ep(m[b],x[b]);if(_!==0)return _;const w=Ol(h[m[b]],g[x[b]]);if(w!==0)return w}return Xe(m.length,x.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function ob(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=ka(t),i=ka(e),s=Xe(n.seconds,i.seconds);return s!==0?s:Xe(n.nanos,i.nanos)}function ub(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=Ol(n[s],i[s]);if(o)return o}return Xe(n.length,i.length)}function Vl(t){return Tp(t)}function Tp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ka(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ra(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=Tp(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${Tp(n.fields[u])}`;return s+"}"})(t.mapValue):Ve(61005,{value:t})}function Lf(t){switch(ja(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(t);return e?16+Lf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ra(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+Lf(o)),0)})(t.arrayValue);case 10:case 11:return(function(i){let s=0;return Ma(i.fields,((o,u)=>{s+=o.length+Lf(u)})),s})(t.mapValue);default:throw Ve(13486,{value:t})}}function cb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sp(t){return!!t&&"integerValue"in t}function p0(t){return!!t&&"arrayValue"in t}function fb(t){return!!t&&"nullValue"in t}function hb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zf(t){return!!t&&"mapValue"in t}function NN(t){return(t?.mapValue?.fields||{})[A_]?.stringValue===N_}function mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ma(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=mu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return{...t}}function CN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=vn.emptyPath(),i={},s=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,i,s),i={},s=[],n=h.popLast()}u?i[h.lastSegment()]=mu(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];zf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ma(n,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new $n(mu(this.value))}}function C_(t){const e=[];return Ma(t.fields,((n,i)=>{const s=new vn([n]);if(zf(i)){const o=C_(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,i,s,o,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Nn(e,0,Le.min(),Le.min(),Le.min(),$n.empty(),0)}static newFoundDocument(e,n,i,s){return new Nn(e,1,n,Le.min(),i,s,0)}static newNoDocument(e,n){return new Nn(e,2,n,Le.min(),Le.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Le.min(),Le.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.position=e,this.inclusive=n}}function db(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?i=Re.comparator(Re.fromName(u.referenceValue),n.key):i=Ol(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function mb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n="asc"){this.field=e,this.dir=n}}function kN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{}class $t extends k_{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new jN(e,n,i):n==="array-contains"?new MN(e,i):n==="in"?new ON(e,i):n==="not-in"?new VN(e,i):n==="array-contains-any"?new PN(e,i):new $t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new DN(e,i):new IN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ol(n,this.value)):n!==null&&ja(this.value)===ja(n)&&this.matchesComparison(Ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends k_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mr(e,n)}matches(e){return R_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R_(t){return t.op==="and"}function j_(t){return RN(t)&&R_(t)}function RN(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function Ap(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(j_(t))return t.filters.map((e=>Ap(e))).join(",");{const e=t.filters.map((n=>Ap(n))).join(",");return`${t.op}(${e})`}}function D_(t,e){return t instanceof $t?(function(i,s){return s instanceof $t&&i.op===s.op&&i.field.isEqual(s.field)&&si(i.value,s.value)})(t,e):t instanceof Mr?(function(i,s){return s instanceof Mr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,u,h)=>o&&D_(u,s.filters[h])),!0):!1})(t,e):void Ve(19439)}function I_(t){return t instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`})(t):t instanceof Mr?(function(n){return n.op.toString()+" {"+n.getFilters().map(I_).join(" ,")+"}"})(t):"Filter"}class jN extends $t{constructor(e,n,i){super(e,n,i),this.key=Re.fromName(i.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class DN extends $t{constructor(e,n){super(e,"in",n),this.keys=M_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class IN extends $t{constructor(e,n){super(e,"not-in",n),this.keys=M_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function M_(t,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class MN extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return p0(n)&&ju(n.arrayValue,this.value)}}class ON extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ju(this.value.arrayValue,n)}}class VN extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ju(this.value.arrayValue,n)}}class PN extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!p0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>ju(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n=null,i=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function pb(t,e=null,n=[],i=[],s=null,o=null,u=null){return new LN(t,e,n,i,s,o,u)}function g0(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Ap(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Vl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Vl(i))).join(",")),e.Te=n}return e.Te}function y0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mb(t.startAt,e.startAt)&&mb(t.endAt,e.endAt)}function Np(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n=null,i=[],s=[],o=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zN(t,e,n,i,s,o,u,h){return new Gl(t,e,n,i,s,o,u,h)}function gh(t){return new Gl(t)}function gb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function O_(t){return t.collectionGroup!==null}function pu(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Wt(vn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Du(o,i))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new Du(vn.keyField(),i))}return e.Ie}function ti(t){const e=ze(t);return e.Ee||(e.Ee=UN(e,pu(t))),e.Ee}function UN(t,e){if(t.limitType==="F")return pb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Du(s.field,o)}));const n=t.endAt?new Jf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Jf(t.startAt.position,t.startAt.inclusive):null;return pb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Cp(t,e){const n=t.filters.concat([e]);return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kp(t,e,n){return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return y0(ti(t),ti(e))&&t.limitType===e.limitType}function V_(t){return`${g0(ti(t))}|lt:${t.limitType}`}function El(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>I_(s))).join(", ")}]`),mh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>Vl(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>Vl(s))).join(",")),`Target(${i})`})(ti(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Re.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,s){for(const o of pu(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(i,s){return!(i.startAt&&!(function(u,h,m){const g=db(u,h,m);return u.inclusive?g<=0:g<0})(i.startAt,pu(i),s)||i.endAt&&!(function(u,h,m){const g=db(u,h,m);return u.inclusive?g>=0:g>0})(i.endAt,pu(i),s))})(t,e)}function BN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function P_(t){return(e,n)=>{let i=!1;for(const s of pu(t)){const o=qN(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function qN(t,e,n){const i=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(o,u,h){const m=u.data.field(o),g=h.data.field(o);return m!==null&&g!==null?Ol(m,g):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((n,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return v_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new At(Re.comparator);function qi(){return FN}const L_=new At(Re.comparator);function cu(...t){let e=L_;for(const n of t)e=e.insert(n.key,n);return e}function z_(t){let e=L_;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ps(){return gu()}function U_(){return gu()}function gu(){return new As((t=>t.toString()),((t,e)=>t.isEqual(e)))}const HN=new At(Re.comparator),$N=new Wt(Re.comparator);function Ke(...t){let e=$N;for(const n of t)e=e.add(n);return e}const GN=new Wt(Xe);function YN(){return GN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function B_(t){return{integerValue:""+t}}function QN(t,e){return _N(e)?B_(e):x0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function XN(t,e,n){return t instanceof Iu?(function(s,o){const u={fields:{[E_]:{stringValue:w_},[S_]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&m0(o)&&(o=ph(o)),o&&(u.fields[T_]=o),{mapValue:u}})(n,e):t instanceof Mu?F_(t,e):t instanceof Ou?H_(t,e):(function(s,o){const u=q_(s,o),h=yb(u)+yb(s.Ae);return Sp(u)&&Sp(s.Ae)?B_(h):x0(s.serializer,h)})(t,e)}function KN(t,e,n){return t instanceof Mu?F_(t,e):t instanceof Ou?H_(t,e):n}function q_(t,e){return t instanceof Wf?(function(i){return Sp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Iu extends bh{}class Mu extends bh{constructor(e){super(),this.elements=e}}function F_(t,e){const n=$_(e);for(const i of t.elements)n.some((s=>si(s,i)))||n.push(i);return{arrayValue:{values:n}}}class Ou extends bh{constructor(e){super(),this.elements=e}}function H_(t,e){let n=$_(e);for(const i of t.elements)n=n.filter((s=>!si(s,i)));return{arrayValue:{values:n}}}class Wf extends bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yb(t){return Pt(t.integerValue||t.doubleValue)}function $_(t){return p0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n){this.field=e,this.transform=n}}function JN(t,e){return t.field.isEqual(e.field)&&(function(i,s){return i instanceof Mu&&s instanceof Mu||i instanceof Ou&&s instanceof Ou?Ml(i.elements,s.elements,si):i instanceof Wf&&s instanceof Wf?si(i.Ae,s.Ae):i instanceof Iu&&s instanceof Iu})(t.transform,e.transform)}class WN{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vh{}function G_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _h(t.key,zn.none()):new Hu(t.key,t.data,zn.none());{const n=t.data,i=$n.empty();let s=new Wt(vn.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new Oa(t.key,i,new ar(s.toArray()),zn.none())}}function e3(t,e,n){t instanceof Hu?(function(s,o,u){const h=s.value.clone(),m=bb(s.fieldTransforms,o,u.transformResults);h.setAll(m),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Oa?(function(s,o,u){if(!Uf(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=bb(s.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(Y_(s)),m.setAll(h),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function yu(t,e,n,i){return t instanceof Hu?(function(o,u,h,m){if(!Uf(o.precondition,u))return h;const g=o.value.clone(),x=vb(o.fieldTransforms,m,u);return g.setAll(x),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof Oa?(function(o,u,h,m){if(!Uf(o.precondition,u))return h;const g=vb(o.fieldTransforms,m,u),x=u.data;return x.setAll(Y_(o)),x.setAll(g),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(o,u,h){return Uf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function t3(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=q_(i.transform,s||null);o!=null&&(n===null&&(n=$n.empty()),n.set(i.field,o))}return n||null}function xb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Ml(i,s,((o,u)=>JN(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hu extends vh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oa extends vh{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Y_(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function bb(t,e,n){const i=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,h=e.data.field(o.field);i.set(o.field,KN(u,h,n[s]))}return i}function vb(t,e,n){const i=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);i.set(s.field,XN(o,u,e))}return i}class _h extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n3 extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&e3(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=yu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=yu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=U_();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(s.key)?null:h;const m=G_(u,h);m!==null&&i.set(s.key,m),u.isValidDocument()||u.convertToNoDocument(Le.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,((n,i)=>xb(n,i)))&&Ml(this.baseMutations,e.baseMutations,((n,i)=>xb(n,i)))}}class b0{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){lt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return HN})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new b0(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,tt;function s3(t){switch(t){case oe.OK:return Ve(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function Q_(t){if(t===void 0)return Bi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Ft.OK:return oe.OK;case Ft.CANCELLED:return oe.CANCELLED;case Ft.UNKNOWN:return oe.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return oe.INTERNAL;case Ft.UNAVAILABLE:return oe.UNAVAILABLE;case Ft.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ft.NOT_FOUND:return oe.NOT_FOUND;case Ft.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ft.ABORTED:return oe.ABORTED;case Ft.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ft.DATA_LOSS:return oe.DATA_LOSS;default:return Ve(39323,{code:t})}}(tt=Ft||(Ft={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new Aa([4294967295,4294967295],0);function _b(t){const e=l3().encode(t),n=new u_;return n.update(e),new Uint8Array(n.digest())}function wb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Aa([n,i],0),new Aa([s,o],0)]}class v0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new fu(`Invalid padding: ${n}`);if(i<0)throw new fu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Aa.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(Aa.fromNumber(i)));return s.compare(o3)===1&&(s=new Aa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_b(e),[i,s]=wb(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);if(!this.we(u))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new v0(o,s,n);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=_b(e),[i,s]=wb(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new wh(Le.min(),s,new At(Xe),qi(),Ke())}}class $u{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new $u(i,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,i,s){this.be=e,this.removedTargetIds=n,this.key=i,this.De=s}}class X_{constructor(e,n){this.targetId=e,this.Ce=n}}class K_{constructor(e,n,i=_n.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Eb{constructor(){this.ve=0,this.Fe=Tb(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),i=Ke();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ve(38017,{changeType:o})}})),new $u(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Tb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class u3{constructor(e){this.Ge=e,this.ze=new Map,this.je=qi(),this.Je=Rf(),this.He=Rf(),this.Ye=new At(Xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Np(o))if(i===0){const u=new Re(o.path);this.et(n,u,Nn.newNoDocument(u,Le.min()))}else lt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let u,h;try{u=Ra(i).toUint8Array()}catch(m){if(m instanceof __)return Il("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new v0(u,s,o)}catch(m){return Il(m instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&Np(h.target)){const m=new Re(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Nn.newNoDocument(m,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let i=Ke();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new wh(e,n,this.Ye,this.je,i);return this.je=qi(),this.Je=Rf(),this.He=Rf(),this.Ye=new At(Xe),s}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Eb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wt(Xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wt(Xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Eb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rf(){return new At(Re.comparator)}function Tb(){return new At(Re.comparator)}const c3={asc:"ASCENDING",desc:"DESCENDING"},f3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h3={and:"AND",or:"OR"};class d3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m3(t,e){return eh(t,e.toTimestamp())}function ni(t){return lt(!!t,49232),Le.fromTimestamp((function(n){const i=ka(n);return new wt(i.seconds,i.nanos)})(t))}function _0(t,e){return jp(t,e).canonicalString()}function jp(t,e){const n=(function(s){return new vt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function J_(t){const e=vt.fromString(t);return lt(r2(e),10190,{key:e.toString()}),e}function Dp(t,e){return _0(t.databaseId,e.path)}function Qm(t,e){const n=J_(e);if(n.get(1)!==t.databaseId.projectId)throw new we(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(e2(n))}function W_(t,e){return _0(t.databaseId,e)}function p3(t){const e=J_(t);return e.length===4?vt.emptyPath():e2(e)}function Ip(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function e2(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sb(t,e,n){return{name:Dp(t,e),fields:n.value.mapValue.fields}}function g3(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(g,x){return g.useProto3Json?(lt(x===void 0||typeof x=="string",58123),_n.fromBase64String(x||"")):(lt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),_n.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(g){const x=g.code===void 0?oe.UNKNOWN:Q_(g.code);return new we(x,g.message||"")})(u);n=new K_(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Qm(t,i.document.name),o=ni(i.document.updateTime),u=i.document.createTime?ni(i.document.createTime):Le.min(),h=new $n({mapValue:{fields:i.document.fields}}),m=Nn.newFoundDocument(s,o,u,h),g=i.targetIds||[],x=i.removedTargetIds||[];n=new Bf(g,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Qm(t,i.document),o=i.readTime?ni(i.readTime):Le.min(),u=Nn.newNoDocument(s,o),h=i.removedTargetIds||[];n=new Bf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Qm(t,i.document),o=i.removedTargetIds||[];n=new Bf([],o,s,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new a3(s,o),h=i.targetId;n=new X_(h,u)}}return n}function y3(t,e){let n;if(e instanceof Hu)n={update:Sb(t,e.key,e.value)};else if(e instanceof _h)n={delete:Dp(t,e.key)};else if(e instanceof Oa)n={update:Sb(t,e.key,e.data),updateMask:A3(e.fieldMask)};else{if(!(e instanceof n3))return Ve(16599,{Vt:e.type});n={verify:Dp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof Iu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Mu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ou)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Wf)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ve(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:m3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve(27497)})(t,e.precondition)),n}function x3(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(s,o){let u=s.updateTime?ni(s.updateTime):ni(o);return u.isEqual(Le.min())&&(u=ni(o)),new WN(u,s.transformResults||[])})(n,e)))):[]}function b3(t,e){return{documents:[W_(t,e.path)]}}function v3(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=W_(t,s);const o=(function(g){if(g.length!==0)return n2(Mr.create(g,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(g){if(g.length!==0)return g.map((x=>(function(_){return{field:Tl(_.field),direction:E3(_.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Rp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:s}}function _3(t){let e=p3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){lt(i===1,65062);const x=n.from[0];x.allDescendants?s=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=(function(b){const _=t2(b);return _ instanceof Mr&&j_(_)?_.getFilters():[_]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((_=>(function(N){return new Du(Sl(N.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let _;return _=typeof b=="object"?b.value:b,mh(_)?null:_})(n.limit));let m=null;n.startAt&&(m=(function(b){const _=!!b.before,w=b.values||[];return new Jf(w,_)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const _=!b.before,w=b.values||[];return new Jf(w,_)})(n.endAt)),zN(e,s,u,o,h,"F",m,g)}function w3(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Sl(n.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Sl(n.unaryFilter.field);return $t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Sl(n.unaryFilter.field);return $t.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Sl(n.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $t.create(Sl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Mr.create(n.compositeFilter.filters.map((i=>t2(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function E3(t){return c3[t]}function T3(t){return f3[t]}function S3(t){return h3[t]}function Tl(t){return{fieldPath:t.canonicalString()}}function Sl(t){return vn.fromServerFormat(t.fieldPath)}function n2(t){return t instanceof $t?(function(n){if(n.op==="=="){if(hb(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NAN"}};if(fb(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hb(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NAN"}};if(fb(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(n.field),op:T3(n.op),value:n.value}}})(t):t instanceof Mr?(function(n){const i=n.getFilters().map((s=>n2(s)));return i.length===1?i[0]:{compositeFilter:{op:S3(n.op),filters:i}}})(t):Ve(54877,{filter:t})}function A3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function r2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,i,s,o=Le.min(),u=Le.min(),h=_n.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.yt=e}}function C3(t){const e=_3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.Cn=new R3}addToCollectionParentIndex(e,n){return this.Cn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(Ca.min())}updateCollectionGroup(e,n,i){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class R3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Wt(vt.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Wt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i2=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(i2,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pl(0)}static cr(){return new Pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="LruGarbageCollector",j3=1048576;function Cb([t,e],[n,i]){const s=Xe(t,n);return s===0?Xe(e,i):s}class D3{constructor(e){this.Ir=e,this.buffer=new Wt(Cb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Cb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(Nb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?Ee(Nb,"Ignoring IndexedDB error during garbage collection: ",n):await Hl(n)}await this.Vr(3e5)}))}}class M3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(dh.ce);const i=new D3(n);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(Ab)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ab):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,o,u,h,m,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,u=Date.now(),this.nthSequenceNumber(e,s)))).next((b=>(i=b,h=Date.now(),this.removeTargets(e,i,n)))).next((b=>(o=b,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(g=Date.now(),wl()<=nt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(m-h)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-x}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b}))))}}function O3(t,e){return new M3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.changes=new As((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?me.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(i!==null&&yu(i.mutation,s,ar.empty(),wt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ke()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ke()){const s=ps();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,i).next((o=>{let u=cu();return o.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=ps();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ke())))}populateOverlays(e,n,i){const s=[];return i.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,i,s){let o=qi();const u=gu(),h=(function(){return gu()})();return n.forEach(((m,g)=>{const x=i.get(g.key);s.has(g.key)&&(x===void 0||x.mutation instanceof Oa)?o=o.insert(g.key,g):x!==void 0?(u.set(g.key,x.mutation.getFieldMask()),yu(x.mutation,g,x.mutation.getFieldMask(),wt.now())):u.set(g.key,ar.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((g,x)=>u.set(g,x))),n.forEach(((g,x)=>h.set(g,new P3(x,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=gu();let s=new At(((u,h)=>u-h)),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let x=i.get(m)||ar.empty();x=h.applyToLocalView(g,x),i.set(m,x);const b=(s.get(h.batchId)||Ke()).add(m);s=s.insert(h.batchId,b)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,x=m.value,b=U_();x.forEach((_=>{if(!o.has(_)){const w=G_(n.get(_),i.get(_));w!==null&&b.set(_,w),o=o.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return me.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,s){return(function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):me.resolve(ps());let h=Cu,m=o;return u.next((g=>me.forEach(g,((x,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(x)?me.resolve():this.remoteDocumentCache.getEntry(e,x).next((_=>{m=m.insert(x,_)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,m,g,Ke()))).next((x=>({batchId:h,changes:z_(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((i=>{let s=cu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let u=cu();return this.indexManager.getCollectionParents(e,o).next((h=>me.forEach(h,(m=>{const g=(function(b,_){return new Gl(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next((x=>{x.forEach(((b,_)=>{u=u.insert(b,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s)))).next((u=>{o.forEach(((m,g)=>{const x=g.getKey();u.get(x)===null&&(u=u.insert(x,Nn.newInvalidDocument(x)))}));let h=cu();return u.forEach(((m,g)=>{const x=o.get(m);x!==void 0&&yu(x.mutation,g,ar.empty(),wt.now()),xh(n,g)&&(h=h.insert(m,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return me.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:ni(s.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:C3(s.bundledQuery),readTime:ni(s.readTime)}})(n)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.overlays=new At(Re.comparator),this.qr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ps();return me.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((s,o)=>{this.St(e,n,o)})),me.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),me.resolve()}getOverlaysForCollection(e,n,i){const s=ps(),o=n.length+1,u=new Re(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&m.largestBatchId>i&&s.set(m.getKey(),m)}return me.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new At(((g,x)=>g-x));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let x=o.get(g.largestBatchId);x===null&&(x=ps(),o=o.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const h=ps(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,x)=>h.set(g,x))),!(h.size()>=s)););return me.resolve(h)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new i3(n,i));let o=this.qr.get(n);o===void 0&&(o=Ke(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.Qr=new Wt(on.$r),this.Ur=new Wt(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new on(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Re(new vt([])),i=new on(n,e),s=new on(n,e+1),o=[];return this.Ur.forEachInRange([i,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new vt([])),i=new on(n,e),s=new on(n,e+1);let o=Ke();return this.Ur.forEachInRange([i,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new on(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||Xe(e.Yr,n.Yr)}static Kr(e,n){return Xe(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(on.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new r3(o,n,i,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new on(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,n){return me.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),o=s<0?0:s;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?d0:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Wt(Xe);return n.forEach((s=>{const o=new on(s,0),u=new on(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{i=i.add(h.Yr)}))})),me.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Re.isDocumentKey(o)||(o=o.child(""));const u=new on(new Re(o),0);let h=new Wt(Xe);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(h=h.add(m.Yr)),!0)}),u),me.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return me.forEach(n.mutations,(s=>{const o=new on(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new on(n,0),s=this.Zr.firstAfterOrEqual(i);return me.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.ri=e,this.docs=(function(){return new At(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return me.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let i=qi();return n.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Nn.newInvalidDocument(s))})),me.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=qi();const u=n.path,h=new Re(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:x}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||yN(gN(x),i)<=0||(s.has(x.key)||xh(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Ve(9500)}ii(e,n){return me.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new H3(this)}getSize(e){return me.resolve(this.size)}}class H3 extends V3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),me.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.persistence=e,this.si=new As((n=>g0(n)),y0),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new w0,this.targetCount=0,this.ai=Pl.ur()}forEachTarget(e,n){return this.si.forEach(((i,s)=>n(s))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),me.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Pl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Pr(n),me.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),me.waitFor(o).next((()=>s))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return me.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),me.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),me.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return me.resolve(i)}containsKey(e,n){return me.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new B3,this.referenceDelegate=e(this),this.Pi=new $3(this),this.indexManager=new k3,this.remoteDocumentCache=(function(s){return new F3(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new N3(n),this.Ii=new z3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new q3(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ee("MemoryPersistence","Starting transaction:",e);const s=new G3(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return me.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class G3 extends bN{constructor(e){super(),this.currentSequenceNumber=e}}class E0{constructor(e){this.persistence=e,this.Ri=new w0,this.Vi=null}static mi(e){return new E0(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),me.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,(i=>{const s=Re.fromPath(i);return this.gi(e,s).next((o=>{o||n.removeEntry(s,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class th{constructor(e,n){this.persistence=e,this.pi=new As((i=>wN(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=O3(this,n)}static mi(e,n){return new th(e,n)}Ei(){}di(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((s=>i+s))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return me.forEach(this.pi,((i,s)=>this.br(e,i,s).next((o=>o?me.resolve():n(s)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,n).next((h=>{h||(i++,o.removeEntry(u,Le.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),me.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lf(e.data.value)),n}br(e,n,i){return me.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return me.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=Ke(),s=Ke();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new T0(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return US()?8:vN(LS())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,s,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new Y3;return this.Ss(e,n,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>o.result))}bs(e,n,i,s){return i.documentReadCount<this.fs?(wl()<=nt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(wl()<=nt.DEBUG&&Ee("QueryEngine","Query:",El(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(wl()<=nt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):me.resolve())}ys(e,n){if(gb(n))return me.resolve(null);let i=ti(n);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=kp(n,null,"F"),i=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=Ke(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(n,h);return this.Cs(n,g,u,m.readTime)?this.ys(e,kp(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,i,s){return gb(n)||s.isEqual(Le.min())?me.resolve(null):this.ps.getDocuments(e,i).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,i,s)?me.resolve(null):(wl()<=nt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),El(n)),this.vs(e,u,n,pN(s,Cu)).next((h=>h)))}))}Ds(e,n){let i=new Wt(P_(e));return n.forEach(((s,o)=>{xh(e,o)&&(i=i.add(o))})),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,i){return wl()<=nt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",El(n)),this.ps.getDocumentsMatchingQuery(e,n,Ca.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="LocalStore",X3=3e8;class K3{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new At(Xe),this.xs=new As((o=>g0(o)),y0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Z3(t,e,n,i){return new K3(t,e,n,i)}async function s2(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let m=Ke();for(const g of s){u.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}for(const g of o){h.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function J3(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,g,x){const b=g.batch,_=b.keys();let w=me.resolve();return _.forEach((N=>{w=w.next((()=>x.getEntry(m,N))).next((V=>{const P=g.docVersions.get(N);lt(P!==null,48541),V.version.compareTo(P)<0&&(b.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),x.addEntry(V)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(m,b)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=Ke();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(m=m.add(h.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function l2(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function W3(t,e){const n=ze(t),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const h=[];e.targetChanges.forEach(((x,b)=>{const _=s.get(b);if(!_)return;h.push(n.Pi.removeMatchingKeys(o,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,x.addedDocuments,b))));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(_n.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):x.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(x.resumeToken,i)),s=s.insert(b,w),(function(V,P,L){return V.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=X3?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(_,w,x)&&h.push(n.Pi.updateTargetData(o,w))}));let m=qi(),g=Ke();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))})),h.push(e6(o,u,e.documentUpdates).next((x=>{m=x.ks,g=x.qs}))),!i.isEqual(Le.min())){const x=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(x)}return me.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,m,g))).next((()=>m))})).then((o=>(n.Ms=s,o)))}function e6(t,e,n){let i=Ke(),s=Ke();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let u=qi();return n.forEach(((h,m)=>{const g=o.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(h)),m.isNoDocument()&&m.version.isEqual(Le.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):Ee(S0,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:s}}))}function t6(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=d0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function n6(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,e).next((o=>o?(s=o,me.resolve(s)):n.Pi.allocateTargetId(i).next((u=>(s=new Ea(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Mp(t,e,n){const i=ze(t),s=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!$l(u))throw u;Ee(S0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function kb(t,e,n){const i=ze(t);let s=Le.min(),o=Ke();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,x){const b=ze(m),_=b.xs.get(x);return _!==void 0?me.resolve(b.Ms.get(_)):b.Pi.getTargetData(g,x)})(i,u,ti(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{o=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?s:Le.min(),n?o:Ke()))).next((h=>(r6(i,BN(e),h),{documents:h,Qs:o})))))}function r6(t,e,n){let i=t.Os.get(e)||Le.min();n.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.Os.set(e,i)}class Rb{constructor(){this.activeTargetIds=YN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i6{constructor(){this.Mo=new Rb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="ConnectivityMonitor";class Db{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(jb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(jb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf=null;function Op(){return jf===null?jf=(function(){return 268435456+Math.round(2147483648*Math.random())})():jf++,"0x"+jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",s6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Kf?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,o){const u=Op(),h=this.zo(e,n.toUriEncodedString());Ee(Xm,`Sending RPC '${e}' ${u}:`,h,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,s,o);const{host:g}=new URL(h),x=u0(g);return this.Jo(e,h,m,i,x).then((b=>(Ee(Xm,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Il(Xm,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",i),b}))}Ho(e,n,i,s,o,u){return this.Go(e,n,i,s,o)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const i=s6[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class u6 extends l6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,o){const u=Op();return new Promise(((h,m)=>{const g=new c_;g.setWithCredentials(!0),g.listenOnce(f_.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Pf.NO_ERROR:const b=g.getResponseJson();Ee(Sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case Pf.TIMEOUT:Ee(Sn,`RPC '${e}' ${u} timed out`),m(new we(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const _=g.getStatus();if(Ee(Sn,`RPC '${e}' ${u} failed with status:`,_,"response text:",g.getResponseText()),_>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w?.error;if(N&&N.status&&N.message){const V=(function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(q)>=0?q:oe.UNKNOWN})(N.status);m(new we(V,N.message))}else m(new we(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new we(oe.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ee(Sn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(s);Ee(Sn,`RPC '${e}' ${u} sending request:`,s),g.send(n,"POST",x,i,15)}))}T_(e,n,i){const s=Op(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=m_(),h=d_(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const x=o.join("");Ee(Sn,`Creating RPC '${e}' stream ${s}: ${x}`,m);const b=u.createWebChannel(x,m);this.I_(b);let _=!1,w=!1;const N=new o6({Yo:P=>{w?Ee(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(_||(Ee(Sn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),_=!0),Ee(Sn,`RPC '${e}' stream ${s} sending:`,P),b.send(P))},Zo:()=>b.close()}),V=(P,L,q)=>{P.listen(L,(B=>{try{q(B)}catch(J){setTimeout((()=>{throw J}),0)}}))};return V(b,uu.EventType.OPEN,(()=>{w||(Ee(Sn,`RPC '${e}' stream ${s} transport opened.`),N.o_())})),V(b,uu.EventType.CLOSE,(()=>{w||(w=!0,Ee(Sn,`RPC '${e}' stream ${s} transport closed`),N.a_(),this.E_(b))})),V(b,uu.EventType.ERROR,(P=>{w||(w=!0,Il(Sn,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),N.a_(new we(oe.UNAVAILABLE,"The operation could not be completed")))})),V(b,uu.EventType.MESSAGE,(P=>{if(!w){const L=P.data[0];lt(!!L,16349);const q=L,B=q?.error||q[0]?.error;if(B){Ee(Sn,`RPC '${e}' stream ${s} received error:`,B);const J=B.status;let F=(function(C){const M=Ft[C];if(M!==void 0)return Q_(M)})(J),U=B.message;F===void 0&&(F=oe.INTERNAL,U="Unknown error status: "+J+" with message "+B.message),w=!0,N.a_(new we(F,U)),b.close()}else Ee(Sn,`RPC '${e}' stream ${s} received:`,L),N.u_(L)}})),V(h,h_.STAT_EVENT,(P=>{P.stat===wp.PROXY?Ee(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===wp.NOPROXY&&Ee(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){return new d3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="PersistentStream";class u2{constructor(e,n,i,s,o,u,h,m){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new o2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{e((()=>{const s=new we(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(Ib,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(Ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c6 extends u2{constructor(e,n,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=g3(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Le.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Le.min():u.readTime?ni(u.readTime):Le.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Ip(this.serializer),n.addTarget=(function(o,u){let h;const m=u.target;if(h=Np(m)?{documents:b3(o,m)}:{query:v3(o,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Z_(o,u.resumeToken);const g=Rp(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Le.min())>0){h.readTime=eh(o,u.snapshotVersion.toTimestamp());const g=Rp(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const i=w3(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Ip(this.serializer),n.removeTarget=e,this.q_(n)}}class f6 extends u2{constructor(e,n,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=x3(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>y3(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{}class d6 extends h6{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new we(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,jp(n,i),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(oe.UNKNOWN,o.toString())}))}Ho(e,n,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,jp(n,i),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class m6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bi(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="RemoteStore";class p6{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ns(this)&&(Ee(ws,"Restarting streams for network reachability change."),await(async function(m){const g=ze(m);g.Ea.add(4),await Gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Th(g)})(this))}))})),this.Ra=new m6(i,s)}}async function Th(t){if(Ns(t))for(const e of t.da)await e(!0)}async function Gu(t){for(const e of t.da)await e(!1)}function c2(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),k0(n)?C0(n):Yl(n).O_()&&N0(n,e))}function A0(t,e){const n=ze(t),i=Yl(n);n.Ia.delete(e),i.O_()&&f2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ns(n)&&n.Ra.set("Unknown"))}function N0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yl(t).Y_(e)}function f2(t,e){t.Va.Ue(e),Yl(t).Z_(e)}function C0(t){t.Va=new u3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yl(t).start(),t.Ra.ua()}function k0(t){return Ns(t)&&!Yl(t).x_()&&t.Ia.size>0}function Ns(t){return ze(t).Ea.size===0}function h2(t){t.Va=void 0}async function g6(t){t.Ra.set("Online")}async function y6(t){t.Ia.forEach(((e,n)=>{N0(t,e)}))}async function x6(t,e){h2(t),k0(t)?(t.Ra.ha(e),C0(t)):t.Ra.set("Unknown")}async function b6(t,e,n){if(t.Ra.set("Online"),e instanceof K_&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))})(t,e)}catch(i){Ee(ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await nh(t,i)}else if(e instanceof Bf?t.Va.Ze(e):e instanceof X_?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const i=await l2(t.localStore);n.compareTo(i)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const x=o.Ia.get(g);x&&o.Ia.set(g,x.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,g)=>{const x=o.Ia.get(m);if(!x)return;o.Ia.set(m,x.withResumeToken(_n.EMPTY_BYTE_STRING,x.snapshotVersion)),f2(o,m);const b=new Ea(x.target,m,g,x.sequenceNumber);N0(o,b)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){Ee(ws,"Failed to raise snapshot:",i),await nh(t,i)}}async function nh(t,e,n){if(!$l(e))throw e;t.Ea.add(1),await Gu(t),t.Ra.set("Offline"),n||(n=()=>l2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(ws,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Th(t)}))}function d2(t,e){return e().catch((n=>nh(t,n,e)))}async function Sh(t){const e=ze(t),n=Da(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:d0;for(;v6(e);)try{const s=await t6(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,_6(e,s)}catch(s){await nh(e,s)}m2(e)&&p2(e)}function v6(t){return Ns(t)&&t.Ta.length<10}function _6(t,e){t.Ta.push(e);const n=Da(t);n.O_()&&n.X_&&n.ea(e.mutations)}function m2(t){return Ns(t)&&!Da(t).x_()&&t.Ta.length>0}function p2(t){Da(t).start()}async function w6(t){Da(t).ra()}async function E6(t){const e=Da(t);for(const n of t.Ta)e.ea(n.mutations)}async function T6(t,e,n){const i=t.Ta.shift(),s=b0.from(i,e,n);await d2(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Sh(t)}async function S6(t,e){e&&Da(t).X_&&await(async function(i,s){if((function(u){return s3(u)&&u!==oe.ABORTED})(s.code)){const o=i.Ta.shift();Da(i).B_(),await d2(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Sh(i)}})(t,e),m2(t)&&p2(t)}async function Mb(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),Ee(ws,"RemoteStore received new credentials");const i=Ns(n);n.Ea.add(3),await Gu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Th(n)}async function A6(t,e){const n=ze(t);e?(n.Ea.delete(2),await Th(n)):e||(n.Ea.add(2),await Gu(n),n.Ra.set("Unknown"))}function Yl(t){return t.ma||(t.ma=(function(n,i,s){const o=ze(n);return o.sa(),new c6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:g6.bind(null,t),t_:y6.bind(null,t),r_:x6.bind(null,t),H_:b6.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),k0(t)?C0(t):t.Ra.set("Unknown")):(await t.ma.stop(),h2(t))}))),t.ma}function Da(t){return t.fa||(t.fa=(function(n,i,s){const o=ze(n);return o.sa(),new f6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:w6.bind(null,t),r_:S6.bind(null,t),ta:E6.bind(null,t),na:T6.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Sh(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(ws,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const u=Date.now()+i,h=new R0(e,n,u,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j0(t,e){if(Bi("AsyncQueue",`${e}: ${t}`),$l(t))return new we(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Re.comparator(n.key,i.key):(n,i)=>Re.comparator(n.key,i.key),this.keyedMap=cu(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new kl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.ga=new At(Re.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ll{constructor(e,n,i,s,o,u,h,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,s,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Ll(e,n,kl.emptySet(n),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class C6{constructor(){this.queries=Vb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=ze(n),o=s.queries;s.queries=Vb(),o.forEach(((u,h)=>{for(const m of h.Sa)m.onError(i)}))})(this,new we(oe.ABORTED,"Firestore shutting down"))}}function Vb(){return new As((t=>V_(t)),yh)}async function D0(t,e){const n=ze(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(i=2):(o=new N6,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const h=j0(u,`Initialization of query '${El(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&M0(n)}async function I0(t,e){const n=ze(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function k6(t,e){const n=ze(t);let i=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(i=!0);u.wa=s}}i&&M0(n)}function R6(t,e,n){const i=ze(t),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);i.queries.delete(e)}function M0(t){t.Ca.forEach((e=>{e.next()}))}var Vp,Pb;(Pb=Vp||(Vp={})).Ma="default",Pb.Cache="cache";class O0{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Ll(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.key=e}}class y2{constructor(e){this.key=e}}class j6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=P_(e),this.tu=new kl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Ob,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((x,b)=>{const _=s.get(x),w=xh(this.query,b)?b:null,N=!!_&&this.mutatedKeys.has(_.key),V=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;_&&w?_.data.isEqual(w.data)?N!==V&&(i.track({type:3,doc:w}),P=!0):this.su(_,w)||(i.track({type:2,doc:w}),P=!0,(m&&this.eu(w,m)>0||g&&this.eu(w,g)<0)&&(h=!0)):!_&&w?(i.track({type:0,doc:w}),P=!0):_&&!w&&(i.track({type:1,doc:_}),P=!0,(m||g)&&(h=!0)),P&&(w?(u=u.add(w),o=V?o.add(x):o.delete(x)):(u=u.delete(x),o=o.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),o=o.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,b)=>(function(w,N){const V=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:P})}};return V(w)-V(N)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(i),s=s??!1;const h=n&&!s?this._u():[],m=this.Xa.size===0&&this.current&&!s?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new Ll(this.query,e.tu,o,u,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ob,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new y2(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new g2(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const V0="SyncEngine";class D6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class I6{constructor(e){this.key=e,this.hu=!1}}class M6{constructor(e,n,i,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new As((h=>V_(h)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new At(Re.comparator),this.Au=new Map,this.Ru=new w0,this.Vu={},this.mu=new Map,this.fu=Pl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O6(t,e,n=!0){const i=E2(t);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await x2(i,e,n,!0),s}async function V6(t,e){const n=E2(t);await x2(n,e,!0,!1)}async function x2(t,e,n,i){const s=await n6(t.localStore,ti(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await P6(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&c2(t.remoteStore,s),h}async function P6(t,e,n,i,s){t.pu=(b,_,w)=>(async function(V,P,L,q){let B=P.view.ru(L);B.Cs&&(B=await kb(V.localStore,P.query,!1).then((({documents:D})=>P.view.ru(D,B))));const J=q&&q.targetChanges.get(P.targetId),F=q&&q.targetMismatches.get(P.targetId)!=null,U=P.view.applyChanges(B,V.isPrimaryClient,J,F);return zb(V,P.targetId,U.au),U.snapshot})(t,b,_,w);const o=await kb(t.localStore,e,!0),u=new j6(e,o.Qs),h=u.ru(o.documents),m=$u.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),g=u.applyChanges(h,t.isPrimaryClient,m);zb(t,n,g.au);const x=new D6(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function L6(t,e,n){const i=ze(t),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((u=>!yh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Mp(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&A0(i.remoteStore,s.targetId),Pp(i,s.targetId)})).catch(Hl)):(Pp(i,s.targetId),await Mp(i.localStore,s.targetId,!0))}async function z6(t,e){const n=ze(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),A0(n.remoteStore,i.targetId))}async function U6(t,e,n){const i=Y6(t);try{const s=await(function(u,h){const m=ze(u),g=wt.now(),x=h.reduce(((w,N)=>w.add(N.key)),Ke());let b,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let N=qi(),V=Ke();return m.Ns.getEntries(w,x).next((P=>{N=P,N.forEach(((L,q)=>{q.isValidDocument()||(V=V.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,N))).next((P=>{b=P;const L=[];for(const q of h){const B=t3(q,b.get(q.key).overlayedDocument);B!=null&&L.push(new Oa(q.key,B,C_(B.value.mapValue),zn.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,L,h)})).next((P=>{_=P;const L=P.applyToLocalDocumentSet(b,V);return m.documentOverlayCache.saveOverlays(w,P.batchId,L)}))})).then((()=>({batchId:_.batchId,changes:z_(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(u,h,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new At(Xe)),g=g.insert(h,m),u.Vu[u.currentUser.toKey()]=g})(i,s.batchId,n),await Yu(i,s.changes),await Sh(i.remoteStore)}catch(s){const o=j0(s,"Failed to persist write");n.reject(o)}}async function b2(t,e){const n=ze(t);try{const i=await W3(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=n.Au.get(o);u&&(lt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?lt(u.hu,14607):s.removedDocuments.size>0&&(lt(u.hu,42227),u.hu=!1))})),await Yu(n,i,e)}catch(i){await Hl(i)}}function Lb(t,e,n){const i=ze(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const m=ze(u);m.onlineState=h;let g=!1;m.queries.forEach(((x,b)=>{for(const _ of b.Sa)_.va(h)&&(g=!0)})),g&&M0(m)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function B6(t,e,n){const i=ze(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),o=s&&s.key;if(o){let u=new At(Re.comparator);u=u.insert(o,Nn.newNoDocument(o,Le.min()));const h=Ke().add(o),m=new wh(Le.min(),new Map,new At(Xe),u,h);await b2(i,m),i.du=i.du.remove(o),i.Au.delete(e),P0(i)}else await Mp(i.localStore,e,!1).then((()=>Pp(i,e,n))).catch(Hl)}async function q6(t,e){const n=ze(t),i=e.batch.batchId;try{const s=await J3(n.localStore,e);_2(n,i,null),v2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Yu(n,s)}catch(s){await Hl(s)}}async function F6(t,e,n){const i=ze(t);try{const s=await(function(u,h){const m=ze(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return m.mutationQueue.lookupMutationBatch(g,h).next((b=>(lt(b!==null,37113),x=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,x,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>m.localDocuments.getDocuments(g,x)))}))})(i.localStore,e);_2(i,e,n),v2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Yu(i,s)}catch(s){await Hl(s)}}function v2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function _2(t,e,n){const i=ze(t);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function Pp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||w2(t,i)}))}function w2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(A0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),P0(t))}function zb(t,e,n){for(const i of n)i instanceof g2?(t.Ru.addReference(i.key,e),H6(t,i)):i instanceof y2?(Ee(V0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||w2(t,i.key)):Ve(19791,{wu:i})}function H6(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Ee(V0,"New document in limbo: "+n),t.Eu.add(i),P0(t))}function P0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(vt.fromString(e)),i=t.fu.next();t.Au.set(i,new I6(n)),t.du=t.du.insert(n,i),c2(t.remoteStore,new Ea(ti(gh(n.path)),i,"TargetPurposeLimboResolution",dh.ce))}}async function Yu(t,e,n){const i=ze(t),s=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{u.push(i.pu(m,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const x=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(g){s.push(g);const x=T0.As(m.targetId,g);o.push(x)}})))})),await Promise.all(u),i.Pu.H_(s),await(async function(m,g){const x=ze(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>me.forEach(g,(_=>me.forEach(_.Es,(w=>x.persistence.referenceDelegate.addReference(b,_.targetId,w))).next((()=>me.forEach(_.ds,(w=>x.persistence.referenceDelegate.removeReference(b,_.targetId,w)))))))))}catch(b){if(!$l(b))throw b;Ee(S0,"Failed to update sequence numbers: "+b)}for(const b of g){const _=b.targetId;if(!b.fromCache){const w=x.Ms.get(_),N=w.snapshotVersion,V=w.withLastLimboFreeSnapshotVersion(N);x.Ms=x.Ms.insert(_,V)}}})(i.localStore,o))}async function $6(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){Ee(V0,"User change. New user:",e.toKey());const i=await s2(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((m=>{m.reject(new we(oe.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Yu(n,i.Ls)}}function G6(t,e){const n=ze(t),i=n.Au.get(e);if(i&&i.hu)return Ke().add(i.key);{let s=Ke();const o=n.Iu.get(e);if(!o)return s;for(const u of o){const h=n.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function E2(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=b2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B6.bind(null,e),e.Pu.H_=k6.bind(null,e.eventManager),e.Pu.yu=R6.bind(null,e.eventManager),e}function Y6(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F6.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Z3(this.persistence,new Q3,e.initialUser,this.serializer)}Cu(e){return new a2(E0.mi,this.serializer)}Du(e){return new i6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class Q6 extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof th,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new I3(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new a2((i=>th.mi(i,n)),this.serializer)}}class Lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$6.bind(null,this.syncEngine),await A6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C6})()}createDatastore(e){const n=Eh(e.databaseInfo.databaseId),i=(function(o){return new u6(o)})(e.databaseInfo);return(function(o,u,h,m){return new d6(o,u,h,m)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,s,o,u,h){return new p6(i,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Lb(this.syncEngine,n,0)),(function(){return Db.v()?new Db:new a6})())}createSyncEngine(e,n){return(function(s,o,u,h,m,g,x){const b=new M6(s,o,u,h,m,g);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=ze(n);Ee(ws,"RemoteStore shutting down."),i.Ea.add(5),await Gu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="FirestoreClient";class X6{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=h0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{Ee(Ia,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Ee(Ia,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=j0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Zm(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async s=>{i.isEqual(s)||(await s2(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Ub(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K6(t);Ee(Ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>Mb(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,s)=>Mb(e.remoteStore,s))),t._onlineComponents=e}async function K6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Ia,"Using user provided OfflineComponentProvider");try{await Zm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Il("Error using user provided cache. Falling back to memory cache: "+n),await Zm(t,new rh)}}else Ee(Ia,"Using default OfflineComponentProvider"),await Zm(t,new Q6(void 0));return t._offlineComponents}async function T2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Ia,"Using user provided OnlineComponentProvider"),await Ub(t,t._uninitializedComponentsProvider._online)):(Ee(Ia,"Using default OnlineComponentProvider"),await Ub(t,new Lp))),t._onlineComponents}function Z6(t){return T2(t).then((e=>e.syncEngine))}async function ih(t){const e=await T2(t),n=e.eventManager;return n.onListen=O6.bind(null,e.syncEngine),n.onUnlisten=L6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z6.bind(null,e.syncEngine),n}function J6(t,e,n={}){const i=new Pi;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,m,g){const x=new L0({next:_=>{x.Nu(),u.enqueueAndForget((()=>I0(o,b)));const w=_.docs.has(h);!w&&_.fromCache?g.reject(new we(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&m&&m.source==="server"?g.reject(new we(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new O0(gh(h.path),x,{includeMetadataChanges:!0,qa:!0});return D0(o,b)})(await ih(t),t.asyncQueue,e,n,i))),i.promise}function W6(t,e,n={}){const i=new Pi;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,m,g){const x=new L0({next:_=>{x.Nu(),u.enqueueAndForget((()=>I0(o,b))),_.fromCache&&m.source==="server"?g.reject(new we(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new O0(h,x,{includeMetadataChanges:!0,qa:!0});return D0(o,b)})(await ih(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firestore.googleapis.com",qb=!0;class Fb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A2,this.ssl=qb}else this.host=e.host,this.ssl=e.ssl??qb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j3)throw new we(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new iN;switch(i.type){case"firstParty":return new oN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Bb.get(n);i&&(Ee("ComponentProvider","Removing Datastore"),Bb.delete(n),i.terminate())})(this),Promise.resolve()}}function e5(t,e,n,i={}){t=Ln(t,Ah);const s=u0(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;s&&(IS(`https://${h}`),PS("Firestore",!0)),o.host!==A2&&o.host!==h&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:h,ssl:s,emulatorOptions:i};if(!Gf(m,u)&&(t._setSettings(m),i.mockUserToken)){let g,x;if(typeof i.mockUserToken=="string")g=i.mockUserToken,x=An.MOCK_USER;else{g=MS(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new we(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new An(b)}t._authCredentials=new aN(new g_(g,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class jt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Fu(n,jt._jsonSchema))return new jt(e,i||null,new Re(vt.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Gt("string",jt._jsonSchemaVersion),referencePath:Gt("string")};class Na extends Va{constructor(e,n,i){super(e,n,gh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Re(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function Vu(t,e,...n){if(t=Tr(t),y_("collection","path",e),t instanceof Ah){const i=vt.fromString(e,...n);return nb(i),new Na(t,null,i)}{if(!(t instanceof jt||t instanceof Na))throw new we(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(vt.fromString(e,...n));return nb(i),new Na(t.firestore,null,i)}}function rr(t,e,...n){if(t=Tr(t),arguments.length===1&&(e=h0.newId()),y_("doc","path",e),t instanceof Ah){const i=vt.fromString(e,...n);return tb(i),new jt(t,null,new Re(i))}{if(!(t instanceof jt||t instanceof Na))throw new we(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(vt.fromString(e,...n));return tb(i),new jt(t.firestore,t instanceof Na?t.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="AsyncQueue";class $b{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new o2(this,"async_queue_retry"),this._c=()=>{const i=Km();i&&Ee(Hb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Pi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;Ee(Hb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Bi("INTERNAL UNHANDLED ERROR: ",Gb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=R0.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ve(47125,{Pc:Gb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Gb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}class li extends Ah{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new $b,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $b(e),this._firestoreClient=void 0,await e}}}function t5(t,e){const n=typeof t=="object"?t:YA(),i=typeof t=="string"?t:Kf,s=qA(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=jS("firestore");o&&e5(s,...o)}return s}function Qu(t){if(t._terminated)throw new we(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n5(t),t._firestoreClient}function n5(t){const e=t._freezeSettings(),n=(function(s,o,u,h){return new SN(s,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,S2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new X6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Er(_n.fromBase64String(e))}catch(n){throw new we(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Er(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fu(e,Er._jsonSchema))return Er.fromBase64String(e.bytes)}}Er._jsonSchemaVersion="firestore/bytes/1.0",Er._jsonSchema={type:Gt("string",Er._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(Fu(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Gt("string",ri._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fu(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new we(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Gt("string",ii._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=/^__.*__$/;class i5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(e,this.data,n,this.fieldTransforms)}}class N2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function C2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class z0{constructor(e,n,i,s,o,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new z0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(C2(this.Ac)&&r5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class a5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Eh(e)}Cc(e,n,i,s=!1){return new z0({Ac:e,methodName:n,Dc:i,path:vn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(t){const e=t._freezeSettings(),n=Eh(t._databaseId);return new a5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U0(t,e,n,i,s,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);q0("Data must be an object, but it was:",u,i);const h=j2(i,u);let m,g;if(o.merge)m=new ar(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const x=[];for(const b of o.mergeFields){const _=zp(e,b,n);if(!u.contains(_))throw new we(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);I2(x,_)||x.push(_)}m=new ar(x),g=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=u.fieldTransforms;return new i5(new $n(h),m,g)}class Ch extends Nh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}class B0 extends Nh{_toFieldTransform(e){return new ZN(e.path,new Iu)}isEqual(e){return e instanceof B0}}function k2(t,e,n,i){const s=t.Cc(1,e,n);q0("Data must be an object, but it was:",s,i);const o=[],u=$n.empty();Ma(i,((m,g)=>{const x=F0(e,m,n);g=Tr(g);const b=s.yc(x);if(g instanceof Ch)o.push(x);else{const _=Zu(g,b);_!=null&&(o.push(x),u.set(x,_))}}));const h=new ar(o);return new N2(u,h,s.fieldTransforms)}function R2(t,e,n,i,s,o){const u=t.Cc(1,e,n),h=[zp(e,i,n)],m=[s];if(o.length%2!=0)throw new we(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)h.push(zp(e,o[_])),m.push(o[_+1]);const g=[],x=$n.empty();for(let _=h.length-1;_>=0;--_)if(!I2(g,h[_])){const w=h[_];let N=m[_];N=Tr(N);const V=u.yc(w);if(N instanceof Ch)g.push(w);else{const P=Zu(N,V);P!=null&&(g.push(w),x.set(w,P))}}const b=new ar(g);return new N2(x,b,u.fieldTransforms)}function s5(t,e,n,i=!1){return Zu(n,t.Cc(i?4:3,e))}function Zu(t,e){if(D2(t=Tr(t)))return q0("Unsupported field value:",e,t),j2(t,e);if(t instanceof Nh)return(function(i,s){if(!C2(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const o=[];let u=0;for(const h of i){let m=Zu(h,s.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}})(t,e)}return(function(i,s){if((i=Tr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return QN(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=wt.fromDate(i);return{timestampValue:eh(s.serializer,o)}}if(i instanceof wt){const o=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:eh(s.serializer,o)}}if(i instanceof ri)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Er)return{bytesValue:Z_(s.serializer,i._byteString)};if(i instanceof jt){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ii)return(function(u,h){return{mapValue:{fields:{[A_]:{stringValue:N_},[Zf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return x0(h.serializer,g)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${hh(i)}`)})(t,e)}function j2(t,e){const n={};return v_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(t,((i,s)=>{const o=Zu(s,e.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function D2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof ri||t instanceof Er||t instanceof jt||t instanceof Nh||t instanceof ii)}function q0(t,e,n){if(!D2(n)||!x_(n)){const i=hh(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function zp(t,e,n){if((e=Tr(e))instanceof Xu)return e._internalPath;if(typeof e=="string")return F0(t,e);throw ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const l5=new RegExp("[~\\*/\\[\\]]");function F0(t,e,n){if(e.search(l5)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xu(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ah(t,e,n,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${i}`),u&&(m+=` in document ${s}`),m+=")"),new we(oe.INVALID_ARGUMENT,h+t+m)}function I2(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o5 extends M2{data(){return super.data()}}function kh(t,e){return typeof e=="string"?F0(t,e):e instanceof Xu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H0{}class V2 extends H0{}function $0(t,e,...n){let i=[];e instanceof H0&&i.push(e),i=i.concat(n),(function(o){const u=o.filter((m=>m instanceof G0)).length,h=o.filter((m=>m instanceof Rh)).length;if(u>1||u>0&&h>0)throw new we(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)t=s._apply(t);return t}class Rh extends V2{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Rh(e,n,i)}_apply(e){const n=this._parse(e);return L2(e._query,n),new Va(e.firestore,e.converter,Cp(e._query,n))}_parse(e){const n=Ku(e.firestore);return(function(o,u,h,m,g,x,b){let _;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new we(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Xb(b,x);const N=[];for(const V of b)N.push(Qb(m,o,V));_={arrayValue:{values:N}}}else _=Qb(m,o,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Xb(b,x),_=s5(h,u,b,x==="in"||x==="not-in");return $t.create(g,x,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function P2(t,e,n){const i=e,s=kh("where",t);return Rh._create(s,i,n)}class G0 extends H0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new G0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const m of h)L2(u,m),u=Cp(u,m)})(e._query,n),new Va(e.firestore,e.converter,Cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y0 extends V2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Y0(e,n)}_apply(e){const n=(function(s,o,u){if(s.startAt!==null)throw new we(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new we(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Du(o,u)})(e._query,this._field,this._direction);return new Va(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new Gl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function u5(t,e="asc"){const n=e,i=kh("orderBy",t);return Y0._create(i,n)}function Qb(t,e,n){if(typeof(n=Tr(n))=="string"){if(n==="")throw new we(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O_(e)&&n.indexOf("/")!==-1)throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(vt.fromString(n));if(!Re.isDocumentKey(i))throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cb(t,new Re(i))}if(n instanceof jt)return cb(t,n._key);throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(n)}.`)}function Xb(t,e){if(!Array.isArray(t)||t.length===0)throw new we(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L2(t,e){const n=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c5{convertValue(e,n="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ma(e,((s,o)=>{i[s]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[Zf].arrayValue?.values?.map((i=>Pt(i.doubleValue)));return new ii(n)}convertGeoPoint(e){return new ri(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ph(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const n=ka(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=vt.fromString(e);lt(r2(i),9688,{name:e});const s=new Ru(i.get(1),i.get(3)),o=new Re(i.popFirst(5));return s.isEqual(n)||Bi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ys extends M2{constructor(e,n,i,s,o,u){super(e,n,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(kh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:Gt("string",ys._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class qf extends ys{data(e={}){return super.data(e)}}class xs{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new qf(this._firestore,this._userDataWriter,i.key,i,new hu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const m=new qf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new hu(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const m=new qf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new hu(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,x=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),x=u.indexOf(h.doc.key)),{type:f5(h.type),doc:m,oldIndex:g,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=h0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){t=Ln(t,jt);const e=Ln(t.firestore,li);return J6(Qu(e),t._key).then((n=>B2(e,t,n)))}xs._jsonSchemaVersion="firestore/querySnapshot/1.0",xs._jsonSchema={type:Gt("string",xs._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class X0 extends c5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Er(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function Kb(t){t=Ln(t,Va);const e=Ln(t.firestore,li),n=Qu(e),i=new X0(e);return O2(t._query),W6(n,t._query).then((s=>new xs(e,i,t,s)))}function gs(t,e,n){t=Ln(t,jt);const i=Ln(t.firestore,li),s=Q0(t.converter,e,n);return Ju(i,[U0(Ku(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,zn.none())])}function d5(t,e,n,...i){t=Ln(t,jt);const s=Ln(t.firestore,li),o=Ku(s);let u;return u=typeof(e=Tr(e))=="string"||e instanceof Xu?R2(o,"updateDoc",t._key,e,n,i):k2(o,"updateDoc",t._key,e),Ju(s,[u.toMutation(t._key,zn.exists(!0))])}function z2(t){return Ju(Ln(t.firestore,li),[new _h(t._key,zn.none())])}function m5(t,e){const n=Ln(t.firestore,li),i=rr(t),s=Q0(t.converter,e);return Ju(n,[U0(Ku(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,zn.exists(!1))]).then((()=>i))}function U2(t,...e){t=Tr(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Yb(e[i])||(n=e[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Yb(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let o,u,h;if(t instanceof jt)u=Ln(t.firestore,li),h=gh(t._key.path),o={next:m=>{e[i]&&e[i](B2(u,t,m))},error:e[i+1],complete:e[i+2]};else{const m=Ln(t,Va);u=Ln(m.firestore,li),h=m._query;const g=new X0(u);o={next:x=>{e[i]&&e[i](new xs(u,g,m,x))},error:e[i+1],complete:e[i+2]},O2(t._query)}return(function(g,x,b,_){const w=new L0(_),N=new O0(x,w,b);return g.asyncQueue.enqueueAndForget((async()=>D0(await ih(g),N))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>I0(await ih(g),N)))}})(Qu(u),h,s,o)}function Ju(t,e){return(function(i,s){const o=new Pi;return i.asyncQueue.enqueueAndForget((async()=>U6(await Z6(i),s,o))),o.promise})(Qu(t),e)}function B2(t,e,n){const i=n.docs.get(e._key),s=new X0(t);return new ys(t,s,e._key,i,new hu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ku(e)}set(e,n,i){this._verifyNotCommitted();const s=Jm(e,this._firestore),o=Q0(s.converter,n,i),u=U0(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,i);return this._mutations.push(u.toMutation(s._key,zn.none())),this}update(e,n,i,...s){this._verifyNotCommitted();const o=Jm(e,this._firestore);let u;return u=typeof(n=Tr(n))=="string"||n instanceof Xu?R2(this._dataReader,"WriteBatch.update",o._key,n,i,s):k2(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(u.toMutation(o._key,zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Jm(e,this._firestore);return this._mutations=this._mutations.concat(new _h(n._key,zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jm(t,e){if((t=Tr(t)).firestore!==e)throw new we(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Rl(){return new B0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){return Qu(t=Ln(t,li)),new p5(t,(e=>Ju(t,e)))}(function(e,n=!0){(function(s){Fl=s})(GA),Qf(new Au("firestore",((i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new li(new sN(i.getProvider("auth-internal")),new uN(u,i.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new we(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(g.options.projectId,x)})(u,s),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Cl(Z1,J1,e),Cl(Z1,J1,"esm2020")})();var y5="firebase",x5="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cl(y5,x5,"app");const b5={apiKey:"AIzaSyC2RM2HldOB3ScxGRpGxkSj9wvuDqAwWm4",authDomain:"academic-progress-tracke-4774a.firebaseapp.com",projectId:"academic-progress-tracke-4774a",storageBucket:"academic-progress-tracke-4774a.firebasestorage.app",messagingSenderId:"660250554925",appId:"1:660250554925:web:55db1dfd08215d6e493ea4"},v5=s_(b5),un=t5(v5);function _5(t){const[e,n]=ie.useState([]),[i,s]=ie.useState(!0),[o,u]=ie.useState(!1),h=t?.rollNo===Ye.rollNo,m=t?.role==="co-leader",g=F=>h?!0:m?t?.permissions?t.permissions[F]!==!1:!0:!1,x=h||m&&g("canPostNotices"),b=h||m&&g("canCreateUsers"),_=h||m&&g("canManagePasswords");ie.useEffect(()=>{if(!t){n([]),s(!1);return}const F=$0(Vu(un,"noticeBoard"),u5("createdAt","desc")),U=U2(F,D=>{const C=[];D.forEach(M=>{const k={id:M.id,...M.data()};if(x)C.push(k);else{const I=k.allowedUsers||[];(k.isPublic||!1||I.includes(t.rollNo))&&C.push(k)}}),n(C),s(!1)},D=>{console.error("Error loading notices:",D),s(!1)});return()=>U()},[t,x]);const w=async(F,U,D={},C=[],M=!1)=>{if(!x)throw new Error("Only admin and co-leaders can create notices");try{return u(!0),await m5(Vu(un,"noticeBoard"),{type:F,content:U,meta:D,createdBy:t.name,createdByRoll:t.rollNo,allowedUsers:C,isPublic:M,createdAt:Rl(),updatedAt:Rl()}),!0}catch(k){return console.error("Error creating notice:",k),!1}finally{u(!1)}},N=async(F,U,D="admin")=>{try{const C=rr(un,"noticeBoard",F);if(D==="admin"&&!x)throw new Error("Only admin and co-leaders can manage notices");return await d5(C,{...U,updatedAt:Rl()}),!0}catch(C){return console.error("Error updating notice:",C),!1}};return{notices:e,isLoading:i,isSaving:o,isAdmin:h,isCoLeader:m,canManageNotices:x,canCreateUsers:b,canManagePasswords:_,hasPermission:g,createNotice:w,updateNotice:N,editNotice:async(F,U)=>{if(!x)throw new Error("Only admin and co-leaders can edit notices");try{return await N(F,U,"admin"),!0}catch(D){return console.error("Error editing notice:",D),!1}},deleteNotice:async F=>{if(!x)throw new Error("Only admin and co-leaders can delete notices");try{return await z2(rr(un,"noticeBoard",F)),!0}catch(U){return console.error("Error deleting notice:",U),!1}},updateNoticePermissions:async(F,U,D)=>{if(!x)throw new Error("Only admin and co-leaders can update permissions");try{return await N(F,{allowedUsers:U,isPublic:D},"admin"),!0}catch(C){return console.error("Error updating permissions:",C),!1}},voteInPoll:async(F,U,D)=>{try{const C=e.find(I=>I.id===F);if(!C||C.type!=="poll")return!1;const M=[...C.meta.options];if(C.meta.isAnonymous||!1){U.forEach(A=>{M[A].anonymousVotes||(M[A].anonymousVotes=0)});const I=C.meta.userVotes||{};(I[D]||[]).forEach(A=>{M[A].anonymousVotes>0&&M[A].anonymousVotes--}),U.forEach(A=>{M[A].anonymousVotes++}),I[D]=U,await N(F,{meta:{...C.meta,options:M,userVotes:I}},"user")}else M.forEach(I=>{I.votes=I.votes?.filter(z=>z!==D)||[]}),U.forEach(I=>{M[I].votes||(M[I].votes=[]),M[I].votes.push(D)}),await N(F,{meta:{...C.meta,options:M}},"user");return!0}catch(C){return console.error("Error voting:",C),!1}},toggleChecklistItem:async(F,U,D)=>{try{const C=e.find(I=>I.id===F);if(!C||C.type!=="checklist")return!1;const M=[...C.meta.items];if(C.meta.isAnonymous||!1){M[U].anonymousCompletions||(M[U].anonymousCompletions=0);const I=C.meta.userCompletions||{},z=I[D]||[];z.includes(U)?(I[D]=z.filter(A=>A!==U),M[U].anonymousCompletions=Math.max(0,M[U].anonymousCompletions-1)):(I[D]=[...z,U],M[U].anonymousCompletions++),await N(F,{meta:{...C.meta,items:M,userCompletions:I}},"user")}else{M[U].completedBy||(M[U].completedBy=[]);const I=M[U].completedBy.indexOf(D);I>-1?M[U].completedBy.splice(I,1):M[U].completedBy.push(D),await N(F,{meta:{...C.meta,items:M}},"user")}return!0}catch(C){return console.error("Error toggling checklist:",C),!1}},toggleTodo:async(F,U)=>{try{const D=e.find(I=>I.id===F);if(!D||D.type!=="todo")return!1;const C=D.meta.completedBy||[],M=C.indexOf(U);let k;return M>-1?k=C.filter(I=>I!==U):k=[...C,U],await N(F,{meta:{...D.meta,completedBy:k}},"user"),!0}catch(D){return console.error("Error toggling todo:",D),!1}}}}const w5={};var Up=null;function E5(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return w5.randomBytes(t)}catch{}if(!Up)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Up(t)}function T5(t){Up=t}function K0(t,e){if(t=t||Z0,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(sh(E5(Pu),Pu)),n.join("")}function q2(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=Z0;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function i(s){Dr(function(){try{s(null,K0(t))}catch(o){s(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(s,o){i(function(u,h){if(u){o(u);return}s(h)})})}function F2(t,e){if(typeof e>"u"&&(e=Z0),typeof e=="number"&&(e=K0(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return Bp(t,e)}function H2(t,e,n,i){function s(o){typeof t=="string"&&typeof e=="number"?q2(e,function(u,h){Bp(t,h,o,i)}):typeof t=="string"&&typeof e=="string"?Bp(t,e,o,i):Dr(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(o,u){s(function(h,m){if(h){u(h);return}o(m)})})}function $2(t,e){for(var n=t.length^e.length,i=0;i<t.length;++i)n|=t.charCodeAt(i)^e.charCodeAt(i);return n===0}function S5(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:$2(F2(t,e.substring(0,e.length-31)),e)}function A5(t,e,n,i){function s(o){if(typeof t!="string"||typeof e!="string"){Dr(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Dr(o.bind(this,null,!1));return}H2(t,e.substring(0,29),function(u,h){u?o(u):o(null,$2(h,e))},i)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(o,u){s(function(h,m){if(h){u(h);return}o(m)})})}function N5(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function C5(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function k5(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return G2(t)>72}var Dr=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function G2(t){for(var e=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,e+=4):e+=3;return e}function R5(t){for(var e=0,n,i,s=new Array(G2(t)),o=0,u=t.length;o<u;++o)n=t.charCodeAt(o),n<128?s[e++]=n:n<2048?(s[e++]=n>>6|192,s[e++]=n&63|128):(n&64512)===55296&&((i=t.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(i&1023),++o,s[e++]=n>>18|240,s[e++]=n>>12&63|128,s[e++]=n>>6&63|128,s[e++]=n&63|128):(s[e++]=n>>12|224,s[e++]=n>>6&63|128,s[e++]=n&63|128);return s}var bl="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),va=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function sh(t,e){var n=0,i=[],s,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(s=t[n++]&255,i.push(bl[s>>2&63]),s=(s&3)<<4,n>=e){i.push(bl[s&63]);break}if(o=t[n++]&255,s|=o>>4&15,i.push(bl[s&63]),s=(o&15)<<2,n>=e){i.push(bl[s&63]);break}o=t[n++]&255,s|=o>>6&3,i.push(bl[s&63]),i.push(bl[o&63])}return i.join("")}function Y2(t,e){var n=0,i=t.length,s=0,o=[],u,h,m,g,x,b;if(e<=0)throw Error("Illegal len: "+e);for(;n<i-1&&s<e&&(b=t.charCodeAt(n++),u=b<va.length?va[b]:-1,b=t.charCodeAt(n++),h=b<va.length?va[b]:-1,!(u==-1||h==-1||(x=u<<2>>>0,x|=(h&48)>>4,o.push(String.fromCharCode(x)),++s>=e||n>=i)||(b=t.charCodeAt(n++),m=b<va.length?va[b]:-1,m==-1)||(x=(h&15)<<4>>>0,x|=(m&60)>>2,o.push(String.fromCharCode(x)),++s>=e||n>=i)));)b=t.charCodeAt(n++),g=b<va.length?va[b]:-1,x=(m&3)<<6>>>0,x|=g,o.push(String.fromCharCode(x)),++s;var _=[];for(n=0;n<s;n++)_.push(o[n].charCodeAt(0));return _}var Pu=16,Z0=10,j5=16,D5=100,Zb=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Jb=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Q2=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Lu(t,e,n,i){var s,o=t[e],u=t[e+1];return o^=n[0],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[1],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[2],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[3],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[4],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[5],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[6],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[7],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[8],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[9],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[10],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[11],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[12],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[13],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[14],s=i[o>>>24],s+=i[256|o>>16&255],s^=i[512|o>>8&255],s+=i[768|o&255],u^=s^n[15],s=i[u>>>24],s+=i[256|u>>16&255],s^=i[512|u>>8&255],s+=i[768|u&255],o^=s^n[16],t[e]=u^n[j5+1],t[e+1]=o,t}function Al(t,e){for(var n=0,i=0;n<4;++n)i=i<<8|t[e]&255,e=(e+1)%t.length;return{key:i,offp:e}}function Wb(t,e,n){for(var i=0,s=[0,0],o=e.length,u=n.length,h,m=0;m<o;m++)h=Al(t,i),i=h.offp,e[m]=e[m]^h.key;for(m=0;m<o;m+=2)s=Lu(s,0,e,n),e[m]=s[0],e[m+1]=s[1];for(m=0;m<u;m+=2)s=Lu(s,0,e,n),n[m]=s[0],n[m+1]=s[1]}function I5(t,e,n,i){for(var s=0,o=[0,0],u=n.length,h=i.length,m,g=0;g<u;g++)m=Al(e,s),s=m.offp,n[g]=n[g]^m.key;for(s=0,g=0;g<u;g+=2)m=Al(t,s),s=m.offp,o[0]^=m.key,m=Al(t,s),s=m.offp,o[1]^=m.key,o=Lu(o,0,n,i),n[g]=o[0],n[g+1]=o[1];for(g=0;g<h;g+=2)m=Al(t,s),s=m.offp,o[0]^=m.key,m=Al(t,s),s=m.offp,o[1]^=m.key,o=Lu(o,0,n,i),i[g]=o[0],i[g+1]=o[1]}function ev(t,e,n,i,s){var o=Q2.slice(),u=o.length,h;if(n<4||n>31)if(h=Error("Illegal number of rounds (4-31): "+n),i){Dr(i.bind(this,h));return}else throw h;if(e.length!==Pu)if(h=Error("Illegal salt length: "+e.length+" != "+Pu),i){Dr(i.bind(this,h));return}else throw h;n=1<<n>>>0;var m,g,x=0,b;typeof Int32Array=="function"?(m=new Int32Array(Zb),g=new Int32Array(Jb)):(m=Zb.slice(),g=Jb.slice()),I5(e,t,m,g);function _(){if(s&&s(x/n),x<n)for(var N=Date.now();x<n&&(x=x+1,Wb(t,m,g),Wb(e,m,g),!(Date.now()-N>D5)););else{for(x=0;x<64;x++)for(b=0;b<u>>1;b++)Lu(o,b<<1,m,g);var V=[];for(x=0;x<u;x++)V.push((o[x]>>24&255)>>>0),V.push((o[x]>>16&255)>>>0),V.push((o[x]>>8&255)>>>0),V.push((o[x]&255)>>>0);if(i){i(null,V);return}else return V}i&&Dr(_)}if(typeof i<"u")_();else for(var w;;)if(typeof(w=_())<"u")return w||[]}function Bp(t,e,n,i){var s;if(typeof t!="string"||typeof e!="string")if(s=Error("Invalid string / salt: Not a string"),n){Dr(n.bind(this,s));return}else throw s;var o,u;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(s=Error("Invalid salt version: "+e.substring(0,2)),n){Dr(n.bind(this,s));return}else throw s;if(e.charAt(2)==="$")o="\0",u=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+e.substring(2,4)),n){Dr(n.bind(this,s));return}else throw s;u=4}if(e.charAt(u+2)>"$")if(s=Error("Missing salt rounds"),n){Dr(n.bind(this,s));return}else throw s;var h=parseInt(e.substring(u,u+1),10)*10,m=parseInt(e.substring(u+1,u+2),10),g=h+m,x=e.substring(u+3,u+25);t+=o>="a"?"\0":"";var b=R5(t),_=Y2(x,Pu);function w(N){var V=[];return V.push("$2"),o>="a"&&V.push(o),V.push("$"),g<10&&V.push("0"),V.push(g.toString()),V.push("$"),V.push(sh(_,_.length)),V.push(sh(N,Q2.length*4-1)),V.join("")}if(typeof n>"u")return w(ev(b,_,g));ev(b,_,g,function(N,V){N?n(N,null):n(null,w(V))},i)}function M5(t,e){return sh(t,e)}function O5(t,e){return Y2(t,e)}const ru={setRandomFallback:T5,genSaltSync:K0,genSalt:q2,hashSync:F2,hash:H2,compareSync:S5,compare:A5,getRounds:N5,getSalt:C5,truncates:k5,encodeBase64:M5,decodeBase64:O5};function X2(){const[t,e]=ie.useState([]),[n,i]=ie.useState(null),[s,o]=ie.useState(!0),[u,h]=ie.useState(!1),m=n&&n.rollNo===Ye.rollNo,g=async()=>{try{o(!0);const P=await Kb(Vu(un,"students")),L=[];if(P.forEach(B=>{L.push(B.data())}),!L.some(B=>B.rollNo===Ye.rollNo)){const B={...Ye,password:ru.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Ye.admissionYear||new Date().getFullYear(),isDSY:Ye.isDSY||!1};L.push(B),await gs(rr(un,"students",Ye.rollNo),B)}e(L);try{const B=localStorage.getItem("selected-student");if(B){const J=JSON.parse(B),F=L.find(U=>U.rollNo===J.rollNo);F?i(F):localStorage.removeItem("selected-student")}}catch{localStorage.removeItem("selected-student")}h(!0)}catch(P){console.error("Error loading students:",P);const L={...Ye,password:ru.hashSync("admin123",10),isProtected:!0,role:"admin",admissionYear:Ye.admissionYear,isDSY:!1};e([L]),h(!0)}finally{o(!1)}},x=async(P,L,q="",B="student",J=new Date().getFullYear(),F=!1)=>{try{const U=Number(J);if(!Number.isInteger(U)||U<2e3||U>new Date().getFullYear())throw new Error("Invalid admission year");if(typeof F!="boolean")throw new Error("Invalid DSY flag");const D={rollNo:P,name:L,admissionYear:U,isDSY:F,isProtected:!!q,password:q?ru.hashSync(q,10):null,role:B};if(t.some(M=>M.rollNo===P))throw new Error("Student with this roll number already exists");return await gs(rr(un,"students",P),D),e([...t,D]),!0}catch(U){throw console.error("Error creating student:",U),U}},b=async(P,L)=>{try{if(P===Ye.rollNo)throw new Error("Cannot change admin role");const q=t.find(J=>J.rollNo===P);if(!q)throw new Error("Student not found");const B={...q,role:L};return await gs(rr(un,"students",P),B),e(t.map(J=>J.rollNo===P?B:J)),n&&n.rollNo===P&&(i(B),localStorage.setItem("selected-student",JSON.stringify(B))),!0}catch(q){throw console.error("Error updating role:",q),q}},_=async P=>{try{if(P===Ye.rollNo)throw new Error("Cannot delete admin student");await z2(rr(un,"students",P));const L=g5(un),q=$0(Vu(un,"academic-data"),P2("studentId","==",P));(await Kb(q)).forEach(F=>{L.delete(F.ref)});const J=rr(un,"userNotes",P);return L.delete(J),await L.commit(),e(t.filter(F=>F.rollNo!==P)),n&&n.rollNo===P&&(i(null),localStorage.removeItem("selected-student")),!0}catch(L){throw console.error("Error deleting student:",L),L}},w=async(P,L)=>{try{return P.isProtected?L?await ru.compare(L,P.password):!1:!0}catch(q){return console.error("Error authenticating student:",q),!1}},N=async(P,L,q=!1)=>{try{const B=t.find(F=>F.rollNo===P);if(!B)throw new Error("Student not found");const J={...B,password:q?null:ru.hashSync(L,10),isProtected:!q};return await gs(rr(un,"students",P),J),e(t.map(F=>F.rollNo===P?J:F)),!0}catch(B){throw console.error("Error updating password:",B),B}},V=P=>{const L=n;if(L&&L.rollNo!==P?.rollNo){const q=`academic-data-${L.rollNo}`;localStorage.removeItem(q)}i(P),P?localStorage.setItem("selected-student",JSON.stringify(P)):localStorage.removeItem("selected-student")};return ie.useEffect(()=>{g()},[]),{students:t,selectedStudent:n,isAdmin:m,isLoading:s,hasInitialized:u,createStudent:x,deleteStudent:_,selectStudent:V,authenticateStudent:w,updateStudentPassword:N,updateStudentRole:b,loadStudents:g}}function V5(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const P5=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,L5=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,z5={};function tv(t,e){return(z5.jsx?L5:P5).test(t)}const U5=/[ \t\n\f\r]/g;function B5(t){return typeof t=="object"?t.type==="text"?nv(t.value):!1:nv(t)}function nv(t){return t.replace(U5,"")===""}class Wu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Wu.prototype.normal={};Wu.prototype.property={};Wu.prototype.space=void 0;function K2(t,e){const n={},i={};for(const s of t)Object.assign(n,s.property),Object.assign(i,s.normal);return new Wu(n,i,e)}function qp(t){return t.toLowerCase()}class Gn{constructor(e,n){this.attribute=n,this.property=e}}Gn.prototype.attribute="";Gn.prototype.booleanish=!1;Gn.prototype.boolean=!1;Gn.prototype.commaOrSpaceSeparated=!1;Gn.prototype.commaSeparated=!1;Gn.prototype.defined=!1;Gn.prototype.mustUseProperty=!1;Gn.prototype.number=!1;Gn.prototype.overloadedBoolean=!1;Gn.prototype.property="";Gn.prototype.spaceSeparated=!1;Gn.prototype.space=void 0;let q5=0;const Be=Cs(),Ht=Cs(),Fp=Cs(),ye=Cs(),bt=Cs(),jl=Cs(),nr=Cs();function Cs(){return 2**++q5}const Hp=Object.freeze(Object.defineProperty({__proto__:null,boolean:Be,booleanish:Ht,commaOrSpaceSeparated:nr,commaSeparated:jl,number:ye,overloadedBoolean:Fp,spaceSeparated:bt},Symbol.toStringTag,{value:"Module"})),Wm=Object.keys(Hp);class J0 extends Gn{constructor(e,n,i,s){let o=-1;if(super(e,n),rv(this,"space",s),typeof i=="number")for(;++o<Wm.length;){const u=Wm[o];rv(this,Wm[o],(i&Hp[u])===Hp[u])}}}J0.prototype.defined=!0;function rv(t,e,n){n&&(t[e]=n)}function Ql(t){const e={},n={};for(const[i,s]of Object.entries(t.properties)){const o=new J0(i,t.transform(t.attributes||{},i),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,n[qp(i)]=i,n[qp(o.attribute)]=i}return new Wu(e,n,t.space)}const Z2=Ql({properties:{ariaActiveDescendant:null,ariaAtomic:Ht,ariaAutoComplete:null,ariaBusy:Ht,ariaChecked:Ht,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:bt,ariaCurrent:null,ariaDescribedBy:bt,ariaDetails:null,ariaDisabled:Ht,ariaDropEffect:bt,ariaErrorMessage:null,ariaExpanded:Ht,ariaFlowTo:bt,ariaGrabbed:Ht,ariaHasPopup:null,ariaHidden:Ht,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:bt,ariaLevel:ye,ariaLive:null,ariaModal:Ht,ariaMultiLine:Ht,ariaMultiSelectable:Ht,ariaOrientation:null,ariaOwns:bt,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:Ht,ariaReadOnly:Ht,ariaRelevant:null,ariaRequired:Ht,ariaRoleDescription:bt,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:Ht,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function J2(t,e){return e in t?t[e]:e}function W2(t,e){return J2(t,e.toLowerCase())}const F5=Ql({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jl,acceptCharset:bt,accessKey:bt,action:null,allow:null,allowFullScreen:Be,allowPaymentRequest:Be,allowUserMedia:Be,alt:null,as:null,async:Be,autoCapitalize:null,autoComplete:bt,autoFocus:Be,autoPlay:Be,blocking:bt,capture:null,charSet:null,checked:Be,cite:null,className:bt,cols:ye,colSpan:null,content:null,contentEditable:Ht,controls:Be,controlsList:bt,coords:ye|jl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Be,defer:Be,dir:null,dirName:null,disabled:Be,download:Fp,draggable:Ht,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Be,formTarget:null,headers:bt,height:ye,hidden:Fp,high:ye,href:null,hrefLang:null,htmlFor:bt,httpEquiv:bt,id:null,imageSizes:null,imageSrcSet:null,inert:Be,inputMode:null,integrity:null,is:null,isMap:Be,itemId:null,itemProp:bt,itemRef:bt,itemScope:Be,itemType:bt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Be,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:Be,muted:Be,name:null,nonce:null,noModule:Be,noValidate:Be,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Be,optimum:ye,pattern:null,ping:bt,placeholder:null,playsInline:Be,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Be,referrerPolicy:null,rel:bt,required:Be,reversed:Be,rows:ye,rowSpan:ye,sandbox:bt,scope:null,scoped:Be,seamless:Be,selected:Be,shadowRootClonable:Be,shadowRootDelegatesFocus:Be,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:Ht,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:Be,useMap:null,value:Ht,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:bt,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Be,declare:Be,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:Be,noHref:Be,noShade:Be,noWrap:Be,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:Ht,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Be,disableRemotePlayback:Be,prefix:null,property:null,results:ye,security:null,unselectable:null},space:"html",transform:W2}),H5=Ql({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:nr,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:bt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:Be,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jl,g2:jl,glyphName:jl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:nr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:bt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nr,rev:nr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nr,requiredFeatures:nr,requiredFonts:nr,requiredFormats:nr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:nr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nr,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:J2}),ew=Ql({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),tw=Ql({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:W2}),nw=Ql({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),$5={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},G5=/[A-Z]/g,iv=/-[a-z]/g,Y5=/^data[-\w.:]+$/i;function Q5(t,e){const n=qp(e);let i=e,s=Gn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Y5.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(iv,K5);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!iv.test(o)){let u=o.replace(G5,X5);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=J0}return new s(i,e)}function X5(t){return"-"+t.toLowerCase()}function K5(t){return t.charAt(1).toUpperCase()}const Z5=K2([Z2,F5,ew,tw,nw],"html"),W0=K2([Z2,H5,ew,tw,nw],"svg");function J5(t){return t.join(" ").trim()}var vl={},ep,av;function W5(){if(av)return ep;av=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,m=`
`,g="/",x="*",b="",_="comment",w="declaration";ep=function(V,P){if(typeof V!="string")throw new TypeError("First argument must be a string");if(!V)return[];P=P||{};var L=1,q=1;function B(A){var ae=A.match(e);ae&&(L+=ae.length);var pe=A.lastIndexOf(m);q=~pe?A.length-pe:q+A.length}function J(){var A={line:L,column:q};return function(ae){return ae.position=new F(A),C(),ae}}function F(A){this.start=A,this.end={line:L,column:q},this.source=P.source}F.prototype.content=V;function U(A){var ae=new Error(P.source+":"+L+":"+q+": "+A);if(ae.reason=A,ae.filename=P.source,ae.line=L,ae.column=q,ae.source=V,!P.silent)throw ae}function D(A){var ae=A.exec(V);if(ae){var pe=ae[0];return B(pe),V=V.slice(pe.length),ae}}function C(){D(n)}function M(A){var ae;for(A=A||[];ae=k();)ae!==!1&&A.push(ae);return A}function k(){var A=J();if(!(g!=V.charAt(0)||x!=V.charAt(1))){for(var ae=2;b!=V.charAt(ae)&&(x!=V.charAt(ae)||g!=V.charAt(ae+1));)++ae;if(ae+=2,b===V.charAt(ae-1))return U("End of comment missing");var pe=V.slice(2,ae-2);return q+=2,B(pe),V=V.slice(ae),q+=2,A({type:_,comment:pe})}}function I(){var A=J(),ae=D(i);if(ae){if(k(),!D(s))return U("property missing ':'");var pe=D(o),X=A({type:w,property:N(ae[0].replace(t,b)),value:pe?N(pe[0].replace(t,b)):b});return D(u),X}}function z(){var A=[];M(A);for(var ae;ae=I();)ae!==!1&&(A.push(ae),M(A));return A}return C(),z()};function N(V){return V?V.replace(h,b):b}return ep}var sv;function eC(){if(sv)return vl;sv=1;var t=vl&&vl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vl,"__esModule",{value:!0}),vl.default=n;var e=t(W5());function n(i,s){var o=null;if(!i||typeof i!="string")return o;var u=(0,e.default)(i),h=typeof s=="function";return u.forEach(function(m){if(m.type==="declaration"){var g=m.property,x=m.value;h?s(g,x,m):x&&(o=o||{},o[g]=x)}}),o}return vl}var iu={},lv;function tC(){if(lv)return iu;lv=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(g){return!g||n.test(g)||t.test(g)},u=function(g,x){return x.toUpperCase()},h=function(g,x){return"".concat(x,"-")},m=function(g,x){return x===void 0&&(x={}),o(g)?g:(g=g.toLowerCase(),x.reactCompat?g=g.replace(s,h):g=g.replace(i,h),g.replace(e,u))};return iu.camelCase=m,iu}var au,ov;function nC(){if(ov)return au;ov=1;var t=au&&au.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(eC()),n=tC();function i(s,o){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(h,m){h&&m&&(u[(0,n.camelCase)(h,o)]=m)}),u}return i.default=i,au=i,au}var rC=nC();const iC=fh(rC),rw=iw("end"),eg=iw("start");function iw(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function aC(t){const e=eg(t),n=rw(t);if(e&&n)return{start:e,end:n}}function xu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?uv(t.position):"start"in t||"end"in t?uv(t):"line"in t||"column"in t?$p(t):""}function $p(t){return cv(t&&t.line)+":"+cv(t&&t.column)}function uv(t){return $p(t&&t.start)+"-"+$p(t&&t.end)}function cv(t){return t&&typeof t=="number"?t:1}class kn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(u=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof i=="string"){const m=i.indexOf(":");m===-1?o.ruleId=i:(o.source=i.slice(0,m),o.ruleId=i.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=h?h.line:void 0,this.name=xu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}kn.prototype.file="";kn.prototype.name="";kn.prototype.reason="";kn.prototype.message="";kn.prototype.stack="";kn.prototype.column=void 0;kn.prototype.line=void 0;kn.prototype.ancestors=void 0;kn.prototype.cause=void 0;kn.prototype.fatal=void 0;kn.prototype.place=void 0;kn.prototype.ruleId=void 0;kn.prototype.source=void 0;const tg={}.hasOwnProperty,sC=new Map,lC=/[A-Z]/g,oC=new Set(["table","tbody","thead","tfoot","tr"]),uC=new Set(["td","th"]),aw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function cC(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=xC(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=yC(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?W0:Z5,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=sw(s,t,void 0);return o&&typeof o!="string"?o:s.create(t,s.Fragment,{children:o||void 0},void 0)}function sw(t,e,n){if(e.type==="element")return fC(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return hC(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mC(t,e,n);if(e.type==="mdxjsEsm")return dC(t,e);if(e.type==="root")return pC(t,e,n);if(e.type==="text")return gC(t,e)}function fC(t,e,n){const i=t.schema;let s=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=W0,t.schema=s),t.ancestors.push(e);const o=ow(t,e.tagName,!1),u=bC(t,e);let h=rg(t,e);return oC.has(e.tagName)&&(h=h.filter(function(m){return typeof m=="string"?!B5(m):!0})),lw(t,u,o,e),ng(u,h),t.ancestors.pop(),t.schema=i,t.create(e,o,u,n)}function hC(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}zu(t,e.position)}function dC(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);zu(t,e.position)}function mC(t,e,n){const i=t.schema;let s=i;e.name==="svg"&&i.space==="html"&&(s=W0,t.schema=s),t.ancestors.push(e);const o=e.name===null?t.Fragment:ow(t,e.name,!0),u=vC(t,e),h=rg(t,e);return lw(t,u,o,e),ng(u,h),t.ancestors.pop(),t.schema=i,t.create(e,o,u,n)}function pC(t,e,n){const i={};return ng(i,rg(t,e)),t.create(e,t.Fragment,i,n)}function gC(t,e){return e.value}function lw(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function ng(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function yC(t,e,n){return i;function i(s,o,u,h){const g=Array.isArray(u.children)?n:e;return h?g(o,u,h):g(o,u)}}function xC(t,e){return n;function n(i,s,o,u){const h=Array.isArray(o.children),m=eg(i);return e(s,o,u,h,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function bC(t,e){const n={};let i,s;for(s in e.properties)if(s!=="children"&&tg.call(e.properties,s)){const o=_C(t,s,e.properties[s]);if(o){const[u,h]=o;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&uC.has(e.tagName)?i=h:n[u]=h}}if(i){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function vC(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else zu(t,e.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const h=i.value.data.estree.body[0];h.type,o=t.evaluater.evaluateExpression(h.expression)}else zu(t,e.position);else o=i.value===null?!0:i.value;n[s]=o}return n}function rg(t,e){const n=[];let i=-1;const s=t.passKeys?new Map:sC;for(;++i<e.children.length;){const o=e.children[i];let u;if(t.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const g=s.get(m)||0;u=m+"-"+g,s.set(m,g+1)}}const h=sw(t,o,u);h!==void 0&&n.push(h)}return n}function _C(t,e,n){const i=Q5(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?V5(n):J5(n)),i.property==="style"){let s=typeof n=="object"?n:wC(t,String(n));return t.stylePropertyNameCase==="css"&&(s=EC(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&i.space?$5[i.property]||i.property:i.attribute,n]}}function wC(t,e){try{return iC(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,s=new kn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=aw+"#cannot-parse-style-attribute",s}}function ow(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,u;for(;++o<s.length;){const h=tv(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}i=u}else i=tv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const s=i.value;return tg.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(i);zu(t)}function zu(t,e){const n=new kn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=aw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function EC(t){const e={};let n;for(n in t)tg.call(t,n)&&(e[TC(n)]=t[n]);return e}function TC(t){let e=t.replace(lC,SC);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function SC(t){return"-"+t.toLowerCase()}const tp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},AC={};function ig(t,e){const n=AC,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return uw(t,i,s)}function uw(t,e,n){if(NC(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return fv(t.children,e,n)}return Array.isArray(t)?fv(t,e,n):""}function fv(t,e,n){const i=[];let s=-1;for(;++s<t.length;)i[s]=uw(t[s],e,n);return i.join("")}function NC(t){return!!(t&&typeof t=="object")}const hv=document.createElement("i");function ag(t){const e="&"+t+";";hv.innerHTML=e;const n=hv.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function sr(t,e,n,i){const s=t.length;let o=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<i.length;)u=i.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function wr(t,e){return t.length>0?(sr(t,t.length,0,e),t):e}const dv={}.hasOwnProperty;function cw(t){const e={};let n=-1;for(;++n<t.length;)CC(e,t[n]);return e}function CC(t,e){let n;for(n in e){const s=(dv.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){dv.call(s,u)||(s[u]=[]);const h=o[u];kC(s[u],Array.isArray(h)?h:h?[h]:[])}}}function kC(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);sr(t,0,0,i)}function fw(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ir(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vn=Pa(/[A-Za-z]/),Cn=Pa(/[\dA-Za-z]/),RC=Pa(/[#-'*+\--9=?A-Z^-~]/);function lh(t){return t!==null&&(t<32||t===127)}const Gp=Pa(/\d/),jC=Pa(/[\dA-Fa-f]/),DC=Pa(/[!-/:-@[-`{-~]/);function Ie(t){return t!==null&&t<-2}function yt(t){return t!==null&&(t<0||t===32)}function Qe(t){return t===-2||t===-1||t===32}const jh=Pa(new RegExp("\\p{P}|\\p{S}","u")),Es=Pa(/\s/);function Pa(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Xl(t){const e=[];let n=-1,i=0,s=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&Cn(t.charCodeAt(n+1))&&Cn(t.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=t.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),s=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(i)}function rt(t,e,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(m){return Qe(m)?(t.enter(n),h(m)):e(m)}function h(m){return Qe(m)&&o++<s?(t.consume(m),h):(t.exit(n),e(m))}}const IC={tokenize:MC};function MC(t){const e=t.attempt(this.parser.constructs.contentInitial,i,s);let n;return e;function i(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),rt(t,e,"linePrefix")}function s(h){return t.enter("paragraph"),o(h)}function o(h){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return Ie(h)?(t.consume(h),t.exit("chunkText"),o):(t.consume(h),u)}}const OC={tokenize:VC},mv={tokenize:PC};function VC(t){const e=this,n=[];let i=0,s,o,u;return h;function h(B){if(i<n.length){const J=n[i];return e.containerState=J[1],t.attempt(J[0].continuation,m,g)(B)}return g(B)}function m(B){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&q();const J=e.events.length;let F=J,U;for(;F--;)if(e.events[F][0]==="exit"&&e.events[F][1].type==="chunkFlow"){U=e.events[F][1].end;break}L(i);let D=J;for(;D<e.events.length;)e.events[D][1].end={...U},D++;return sr(e.events,F+1,0,e.events.slice(J)),e.events.length=D,g(B)}return h(B)}function g(B){if(i===n.length){if(!s)return _(B);if(s.currentConstruct&&s.currentConstruct.concrete)return N(B);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(mv,x,b)(B)}function x(B){return s&&q(),L(i),_(B)}function b(B){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,N(B)}function _(B){return e.containerState={},t.attempt(mv,w,N)(B)}function w(B){return i++,n.push([e.currentConstruct,e.containerState]),_(B)}function N(B){if(B===null){s&&q(),L(0),t.consume(B);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),V(B)}function V(B){if(B===null){P(t.exit("chunkFlow"),!0),L(0),t.consume(B);return}return Ie(B)?(t.consume(B),P(t.exit("chunkFlow")),i=0,e.interrupt=void 0,h):(t.consume(B),V)}function P(B,J){const F=e.sliceStream(B);if(J&&F.push(null),B.previous=o,o&&(o.next=B),o=B,s.defineSkip(B.start),s.write(F),e.parser.lazy[B.start.line]){let U=s.events.length;for(;U--;)if(s.events[U][1].start.offset<u&&(!s.events[U][1].end||s.events[U][1].end.offset>u))return;const D=e.events.length;let C=D,M,k;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(M){k=e.events[C][1].end;break}M=!0}for(L(i),U=D;U<e.events.length;)e.events[U][1].end={...k},U++;sr(e.events,C+1,0,e.events.slice(D)),e.events.length=U}}function L(B){let J=n.length;for(;J-- >B;){const F=n[J];e.containerState=F[1],F[0].exit.call(e,t)}n.length=B}function q(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function PC(t,e,n){return rt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zl(t){if(t===null||yt(t)||Es(t))return 1;if(jh(t))return 2}function Dh(t,e,n){const i=[];let s=-1;for(;++s<t.length;){const o=t[s].resolveAll;o&&!i.includes(o)&&(e=o(e,n),i.push(o))}return e}const Yp={name:"attention",resolveAll:LC,tokenize:zC};function LC(t,e){let n=-1,i,s,o,u,h,m,g,x;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[i][1].end},_={...t[n][1].start};pv(b,-m),pv(_,m),u={type:m>1?"strongSequence":"emphasisSequence",start:b,end:{...t[i][1].end}},h={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:_},o={type:m>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},s={type:m>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[i][1].end={...u.start},t[n][1].start={...h.end},g=[],t[i][1].end.offset-t[i][1].start.offset&&(g=wr(g,[["enter",t[i][1],e],["exit",t[i][1],e]])),g=wr(g,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",o,e]]),g=wr(g,Dh(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),g=wr(g,[["exit",o,e],["enter",h,e],["exit",h,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(x=2,g=wr(g,[["enter",t[n][1],e],["exit",t[n][1],e]])):x=0,sr(t,i-1,n-i+3,g),n=i+g.length-x-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function zC(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=zl(i);let o;return u;function u(m){return o=m,t.enter("attentionSequence"),h(m)}function h(m){if(m===o)return t.consume(m),h;const g=t.exit("attentionSequence"),x=zl(m),b=!x||x===2&&s||n.includes(m),_=!s||s===2&&x||n.includes(i);return g._open=!!(o===42?b:b&&(s||!_)),g._close=!!(o===42?_:_&&(x||!b)),e(m)}}function pv(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const UC={name:"autolink",tokenize:BC};function BC(t,e,n){let i=0;return s;function s(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return Vn(w)?(t.consume(w),u):w===64?n(w):g(w)}function u(w){return w===43||w===45||w===46||Cn(w)?(i=1,h(w)):g(w)}function h(w){return w===58?(t.consume(w),i=0,m):(w===43||w===45||w===46||Cn(w))&&i++<32?(t.consume(w),h):(i=0,g(w))}function m(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||lh(w)?n(w):(t.consume(w),m)}function g(w){return w===64?(t.consume(w),x):RC(w)?(t.consume(w),g):n(w)}function x(w){return Cn(w)?b(w):n(w)}function b(w){return w===46?(t.consume(w),i=0,x):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):_(w)}function _(w){if((w===45||Cn(w))&&i++<63){const N=w===45?_:b;return t.consume(w),N}return n(w)}}const ec={partial:!0,tokenize:qC};function qC(t,e,n){return i;function i(o){return Qe(o)?rt(t,s,"linePrefix")(o):s(o)}function s(o){return o===null||Ie(o)?e(o):n(o)}}const hw={continuation:{tokenize:HC},exit:$C,name:"blockQuote",tokenize:FC};function FC(t,e,n){const i=this;return s;function s(u){if(u===62){const h=i.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return Qe(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function HC(t,e,n){const i=this;return s;function s(u){return Qe(u)?rt(t,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(hw,e,n)(u)}}function $C(t){t.exit("blockQuote")}const dw={name:"characterEscape",tokenize:GC};function GC(t,e,n){return i;function i(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),s}function s(o){return DC(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const mw={name:"characterReference",tokenize:YC};function YC(t,e,n){const i=this;let s=0,o,u;return h;function h(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),m}function m(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),g):(t.enter("characterReferenceValue"),o=31,u=Cn,x(b))}function g(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=jC,x):(t.enter("characterReferenceValue"),o=7,u=Gp,x(b))}function x(b){if(b===59&&s){const _=t.exit("characterReferenceValue");return u===Cn&&!ag(i.sliceSerialize(_))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(b)&&s++<o?(t.consume(b),x):n(b)}}const gv={partial:!0,tokenize:XC},yv={concrete:!0,name:"codeFenced",tokenize:QC};function QC(t,e,n){const i=this,s={partial:!0,tokenize:F};let o=0,u=0,h;return m;function m(U){return g(U)}function g(U){const D=i.events[i.events.length-1];return o=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,h=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(U)}function x(U){return U===h?(u++,t.consume(U),x):u<3?n(U):(t.exit("codeFencedFenceSequence"),Qe(U)?rt(t,b,"whitespace")(U):b(U))}function b(U){return U===null||Ie(U)?(t.exit("codeFencedFence"),i.interrupt?e(U):t.check(gv,V,J)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),_(U))}function _(U){return U===null||Ie(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(U)):Qe(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),rt(t,w,"whitespace")(U)):U===96&&U===h?n(U):(t.consume(U),_)}function w(U){return U===null||Ie(U)?b(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),N(U))}function N(U){return U===null||Ie(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(U)):U===96&&U===h?n(U):(t.consume(U),N)}function V(U){return t.attempt(s,J,P)(U)}function P(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),L}function L(U){return o>0&&Qe(U)?rt(t,q,"linePrefix",o+1)(U):q(U)}function q(U){return U===null||Ie(U)?t.check(gv,V,J)(U):(t.enter("codeFlowValue"),B(U))}function B(U){return U===null||Ie(U)?(t.exit("codeFlowValue"),q(U)):(t.consume(U),B)}function J(U){return t.exit("codeFenced"),e(U)}function F(U,D,C){let M=0;return k;function k(pe){return U.enter("lineEnding"),U.consume(pe),U.exit("lineEnding"),I}function I(pe){return U.enter("codeFencedFence"),Qe(pe)?rt(U,z,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):z(pe)}function z(pe){return pe===h?(U.enter("codeFencedFenceSequence"),A(pe)):C(pe)}function A(pe){return pe===h?(M++,U.consume(pe),A):M>=u?(U.exit("codeFencedFenceSequence"),Qe(pe)?rt(U,ae,"whitespace")(pe):ae(pe)):C(pe)}function ae(pe){return pe===null||Ie(pe)?(U.exit("codeFencedFence"),D(pe)):C(pe)}}}function XC(t,e,n){const i=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const np={name:"codeIndented",tokenize:ZC},KC={partial:!0,tokenize:JC};function ZC(t,e,n){const i=this;return s;function s(g){return t.enter("codeIndented"),rt(t,o,"linePrefix",5)(g)}function o(g){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?u(g):n(g)}function u(g){return g===null?m(g):Ie(g)?t.attempt(KC,u,m)(g):(t.enter("codeFlowValue"),h(g))}function h(g){return g===null||Ie(g)?(t.exit("codeFlowValue"),u(g)):(t.consume(g),h)}function m(g){return t.exit("codeIndented"),e(g)}}function JC(t,e,n){const i=this;return s;function s(u){return i.parser.lazy[i.now().line]?n(u):Ie(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):rt(t,o,"linePrefix",5)(u)}function o(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):Ie(u)?s(u):n(u)}}const WC={name:"codeText",previous:tk,resolve:ek,tokenize:nk};function ek(t){let e=t.length-4,n=3,i,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)s===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(s=i):(i===e||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),e-=i-s-2,i=s+2),s=void 0);return t}function tk(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function nk(t,e,n){let i=0,s,o;return u;function u(b){return t.enter("codeText"),t.enter("codeTextSequence"),h(b)}function h(b){return b===96?(t.consume(b),i++,h):(t.exit("codeTextSequence"),m(b))}function m(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),m):b===96?(o=t.enter("codeTextSequence"),s=0,x(b)):Ie(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m):(t.enter("codeTextData"),g(b))}function g(b){return b===null||b===32||b===96||Ie(b)?(t.exit("codeTextData"),m(b)):(t.consume(b),g)}function x(b){return b===96?(t.consume(b),s++,x):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(o.type="codeTextData",g(b))}}class rk{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const s=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&su(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),su(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),su(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);su(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);su(this.left,n.reverse())}}}function su(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function pw(t){const e={};let n=-1,i,s,o,u,h,m,g;const x=new rk(t);for(;++n<x.length;){for(;n in e;)n=e[n];if(i=x.get(n),n&&i[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(m=i[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,ik(x,n)),n=e[n],g=!0);else if(i[1]._container){for(o=n,s=void 0;o--;)if(u=x.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(x.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(i[1].end={...x.get(s)[1].start},h=x.slice(s,n),h.unshift(i),x.splice(s,n-s+1,h))}}return sr(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!g}function ik(t,e){const n=t.get(e)[1],i=t.get(e)[2];let s=e-1;const o=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,m=[],g={};let x,b,_=-1,w=n,N=0,V=0;const P=[V];for(;w;){for(;t.get(++s)[1]!==w;);o.push(s),w._tokenizer||(x=i.sliceStream(w),w.next||x.push(null),b&&u.defineSkip(w.start),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(x),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),b=w,w=w.next}for(w=n;++_<h.length;)h[_][0]==="exit"&&h[_-1][0]==="enter"&&h[_][1].type===h[_-1][1].type&&h[_][1].start.line!==h[_][1].end.line&&(V=_+1,P.push(V),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(u.events=[],w?(w._tokenizer=void 0,w.previous=void 0):P.pop(),_=P.length;_--;){const L=h.slice(P[_],P[_+1]),q=o.pop();m.push([q,q+L.length-1]),t.splice(q,2,L)}for(m.reverse(),_=-1;++_<m.length;)g[N+m[_][0]]=N+m[_][1],N+=m[_][1]-m[_][0]-1;return g}const ak={resolve:lk,tokenize:ok},sk={partial:!0,tokenize:uk};function lk(t){return pw(t),t}function ok(t,e){let n;return i;function i(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(h)}function s(h){return h===null?o(h):Ie(h)?t.check(sk,u,o)(h):(t.consume(h),s)}function o(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function uk(t,e,n){const i=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),rt(t,o,"linePrefix")}function o(u){if(u===null||Ie(u))return n(u);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function gw(t,e,n,i,s,o,u,h,m){const g=m||Number.POSITIVE_INFINITY;let x=0;return b;function b(L){return L===60?(t.enter(i),t.enter(s),t.enter(o),t.consume(L),t.exit(o),_):L===null||L===32||L===41||lh(L)?n(L):(t.enter(i),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),V(L))}function _(L){return L===62?(t.enter(o),t.consume(L),t.exit(o),t.exit(s),t.exit(i),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),w(L))}function w(L){return L===62?(t.exit("chunkString"),t.exit(h),_(L)):L===null||L===60||Ie(L)?n(L):(t.consume(L),L===92?N:w)}function N(L){return L===60||L===62||L===92?(t.consume(L),w):w(L)}function V(L){return!x&&(L===null||L===41||yt(L))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(i),e(L)):x<g&&L===40?(t.consume(L),x++,V):L===41?(t.consume(L),x--,V):L===null||L===32||L===40||lh(L)?n(L):(t.consume(L),L===92?P:V)}function P(L){return L===40||L===41||L===92?(t.consume(L),V):V(L)}}function yw(t,e,n,i,s,o){const u=this;let h=0,m;return g;function g(w){return t.enter(i),t.enter(s),t.consume(w),t.exit(s),t.enter(o),x}function x(w){return h>999||w===null||w===91||w===93&&!m||w===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(w):w===93?(t.exit(o),t.enter(s),t.consume(w),t.exit(s),t.exit(i),e):Ie(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),b(w))}function b(w){return w===null||w===91||w===93||Ie(w)||h++>999?(t.exit("chunkString"),x(w)):(t.consume(w),m||(m=!Qe(w)),w===92?_:b)}function _(w){return w===91||w===92||w===93?(t.consume(w),h++,b):b(w)}}function xw(t,e,n,i,s,o){let u;return h;function h(_){return _===34||_===39||_===40?(t.enter(i),t.enter(s),t.consume(_),t.exit(s),u=_===40?41:_,m):n(_)}function m(_){return _===u?(t.enter(s),t.consume(_),t.exit(s),t.exit(i),e):(t.enter(o),g(_))}function g(_){return _===u?(t.exit(o),m(u)):_===null?n(_):Ie(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),rt(t,g,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(_))}function x(_){return _===u||_===null||Ie(_)?(t.exit("chunkString"),g(_)):(t.consume(_),_===92?b:x)}function b(_){return _===u||_===92?(t.consume(_),x):x(_)}}function bu(t,e){let n;return i;function i(s){return Ie(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,i):Qe(s)?rt(t,i,n?"linePrefix":"lineSuffix")(s):e(s)}}const ck={name:"definition",tokenize:hk},fk={partial:!0,tokenize:dk};function hk(t,e,n){const i=this;let s;return o;function o(w){return t.enter("definition"),u(w)}function u(w){return yw.call(i,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function h(w){return s=Ir(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),m):n(w)}function m(w){return yt(w)?bu(t,g)(w):g(w)}function g(w){return gw(t,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function x(w){return t.attempt(fk,b,b)(w)}function b(w){return Qe(w)?rt(t,_,"whitespace")(w):_(w)}function _(w){return w===null||Ie(w)?(t.exit("definition"),i.parser.defined.push(s),e(w)):n(w)}}function dk(t,e,n){return i;function i(h){return yt(h)?bu(t,s)(h):n(h)}function s(h){return xw(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return Qe(h)?rt(t,u,"whitespace")(h):u(h)}function u(h){return h===null||Ie(h)?e(h):n(h)}}const mk={name:"hardBreakEscape",tokenize:pk};function pk(t,e,n){return i;function i(o){return t.enter("hardBreakEscape"),t.consume(o),s}function s(o){return Ie(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const gk={name:"headingAtx",resolve:yk,tokenize:xk};function yk(t,e){let n=t.length-2,i=3,s,o;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},o={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},sr(t,i,n-i+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function xk(t,e,n){let i=0;return s;function s(x){return t.enter("atxHeading"),o(x)}function o(x){return t.enter("atxHeadingSequence"),u(x)}function u(x){return x===35&&i++<6?(t.consume(x),u):x===null||yt(x)?(t.exit("atxHeadingSequence"),h(x)):n(x)}function h(x){return x===35?(t.enter("atxHeadingSequence"),m(x)):x===null||Ie(x)?(t.exit("atxHeading"),e(x)):Qe(x)?rt(t,h,"whitespace")(x):(t.enter("atxHeadingText"),g(x))}function m(x){return x===35?(t.consume(x),m):(t.exit("atxHeadingSequence"),h(x))}function g(x){return x===null||x===35||yt(x)?(t.exit("atxHeadingText"),h(x)):(t.consume(x),g)}}const bk=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xv=["pre","script","style","textarea"],vk={concrete:!0,name:"htmlFlow",resolveTo:Ek,tokenize:Tk},_k={partial:!0,tokenize:Ak},wk={partial:!0,tokenize:Sk};function Ek(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Tk(t,e,n){const i=this;let s,o,u,h,m;return g;function g(j){return x(j)}function x(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),b}function b(j){return j===33?(t.consume(j),_):j===47?(t.consume(j),o=!0,V):j===63?(t.consume(j),s=3,i.interrupt?e:S):Vn(j)?(t.consume(j),u=String.fromCharCode(j),P):n(j)}function _(j){return j===45?(t.consume(j),s=2,w):j===91?(t.consume(j),s=5,h=0,N):Vn(j)?(t.consume(j),s=4,i.interrupt?e:S):n(j)}function w(j){return j===45?(t.consume(j),i.interrupt?e:S):n(j)}function N(j){const Y="CDATA[";return j===Y.charCodeAt(h++)?(t.consume(j),h===Y.length?i.interrupt?e:z:N):n(j)}function V(j){return Vn(j)?(t.consume(j),u=String.fromCharCode(j),P):n(j)}function P(j){if(j===null||j===47||j===62||yt(j)){const Y=j===47,xe=u.toLowerCase();return!Y&&!o&&xv.includes(xe)?(s=1,i.interrupt?e(j):z(j)):bk.includes(u.toLowerCase())?(s=6,Y?(t.consume(j),L):i.interrupt?e(j):z(j)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(j):o?q(j):B(j))}return j===45||Cn(j)?(t.consume(j),u+=String.fromCharCode(j),P):n(j)}function L(j){return j===62?(t.consume(j),i.interrupt?e:z):n(j)}function q(j){return Qe(j)?(t.consume(j),q):k(j)}function B(j){return j===47?(t.consume(j),k):j===58||j===95||Vn(j)?(t.consume(j),J):Qe(j)?(t.consume(j),B):k(j)}function J(j){return j===45||j===46||j===58||j===95||Cn(j)?(t.consume(j),J):F(j)}function F(j){return j===61?(t.consume(j),U):Qe(j)?(t.consume(j),F):B(j)}function U(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),m=j,D):Qe(j)?(t.consume(j),U):C(j)}function D(j){return j===m?(t.consume(j),m=null,M):j===null||Ie(j)?n(j):(t.consume(j),D)}function C(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||yt(j)?F(j):(t.consume(j),C)}function M(j){return j===47||j===62||Qe(j)?B(j):n(j)}function k(j){return j===62?(t.consume(j),I):n(j)}function I(j){return j===null||Ie(j)?z(j):Qe(j)?(t.consume(j),I):n(j)}function z(j){return j===45&&s===2?(t.consume(j),X):j===60&&s===1?(t.consume(j),ce):j===62&&s===4?(t.consume(j),se):j===63&&s===3?(t.consume(j),S):j===93&&s===5?(t.consume(j),ke):Ie(j)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(_k,ge,A)(j)):j===null||Ie(j)?(t.exit("htmlFlowData"),A(j)):(t.consume(j),z)}function A(j){return t.check(wk,ae,ge)(j)}function ae(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),pe}function pe(j){return j===null||Ie(j)?A(j):(t.enter("htmlFlowData"),z(j))}function X(j){return j===45?(t.consume(j),S):z(j)}function ce(j){return j===47?(t.consume(j),u="",_e):z(j)}function _e(j){if(j===62){const Y=u.toLowerCase();return xv.includes(Y)?(t.consume(j),se):z(j)}return Vn(j)&&u.length<8?(t.consume(j),u+=String.fromCharCode(j),_e):z(j)}function ke(j){return j===93?(t.consume(j),S):z(j)}function S(j){return j===62?(t.consume(j),se):j===45&&s===2?(t.consume(j),S):z(j)}function se(j){return j===null||Ie(j)?(t.exit("htmlFlowData"),ge(j)):(t.consume(j),se)}function ge(j){return t.exit("htmlFlow"),e(j)}}function Sk(t,e,n){const i=this;return s;function s(u){return Ie(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function Ak(t,e,n){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(ec,e,n)}}const Nk={name:"htmlText",tokenize:Ck};function Ck(t,e,n){const i=this;let s,o,u;return h;function h(S){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(S),m}function m(S){return S===33?(t.consume(S),g):S===47?(t.consume(S),F):S===63?(t.consume(S),B):Vn(S)?(t.consume(S),C):n(S)}function g(S){return S===45?(t.consume(S),x):S===91?(t.consume(S),o=0,N):Vn(S)?(t.consume(S),q):n(S)}function x(S){return S===45?(t.consume(S),w):n(S)}function b(S){return S===null?n(S):S===45?(t.consume(S),_):Ie(S)?(u=b,ce(S)):(t.consume(S),b)}function _(S){return S===45?(t.consume(S),w):b(S)}function w(S){return S===62?X(S):S===45?_(S):b(S)}function N(S){const se="CDATA[";return S===se.charCodeAt(o++)?(t.consume(S),o===se.length?V:N):n(S)}function V(S){return S===null?n(S):S===93?(t.consume(S),P):Ie(S)?(u=V,ce(S)):(t.consume(S),V)}function P(S){return S===93?(t.consume(S),L):V(S)}function L(S){return S===62?X(S):S===93?(t.consume(S),L):V(S)}function q(S){return S===null||S===62?X(S):Ie(S)?(u=q,ce(S)):(t.consume(S),q)}function B(S){return S===null?n(S):S===63?(t.consume(S),J):Ie(S)?(u=B,ce(S)):(t.consume(S),B)}function J(S){return S===62?X(S):B(S)}function F(S){return Vn(S)?(t.consume(S),U):n(S)}function U(S){return S===45||Cn(S)?(t.consume(S),U):D(S)}function D(S){return Ie(S)?(u=D,ce(S)):Qe(S)?(t.consume(S),D):X(S)}function C(S){return S===45||Cn(S)?(t.consume(S),C):S===47||S===62||yt(S)?M(S):n(S)}function M(S){return S===47?(t.consume(S),X):S===58||S===95||Vn(S)?(t.consume(S),k):Ie(S)?(u=M,ce(S)):Qe(S)?(t.consume(S),M):X(S)}function k(S){return S===45||S===46||S===58||S===95||Cn(S)?(t.consume(S),k):I(S)}function I(S){return S===61?(t.consume(S),z):Ie(S)?(u=I,ce(S)):Qe(S)?(t.consume(S),I):M(S)}function z(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),s=S,A):Ie(S)?(u=z,ce(S)):Qe(S)?(t.consume(S),z):(t.consume(S),ae)}function A(S){return S===s?(t.consume(S),s=void 0,pe):S===null?n(S):Ie(S)?(u=A,ce(S)):(t.consume(S),A)}function ae(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||yt(S)?M(S):(t.consume(S),ae)}function pe(S){return S===47||S===62||yt(S)?M(S):n(S)}function X(S){return S===62?(t.consume(S),t.exit("htmlTextData"),t.exit("htmlText"),e):n(S)}function ce(S){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),_e}function _e(S){return Qe(S)?rt(t,ke,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):ke(S)}function ke(S){return t.enter("htmlTextData"),u(S)}}const sg={name:"labelEnd",resolveAll:Dk,resolveTo:Ik,tokenize:Mk},kk={tokenize:Ok},Rk={tokenize:Vk},jk={tokenize:Pk};function Dk(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",e+=s}}return t.length!==n.length&&sr(t,0,t.length,n),t}function Ik(t,e){let n=t.length,i=0,s,o,u,h;for(;n--;)if(s=t[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(u=n);const m={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},g={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},x={type:"labelText",start:{...t[o+i+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",m,e],["enter",g,e]],h=wr(h,t.slice(o+1,o+i+3)),h=wr(h,[["enter",x,e]]),h=wr(h,Dh(e.parser.constructs.insideSpan.null,t.slice(o+i+4,u-3),e)),h=wr(h,[["exit",x,e],t[u-2],t[u-1],["exit",g,e]]),h=wr(h,t.slice(u+1)),h=wr(h,[["exit",m,e]]),sr(t,o,t.length,h),t}function Mk(t,e,n){const i=this;let s=i.events.length,o,u;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return h;function h(_){return o?o._inactive?b(_):(u=i.parser.defined.includes(Ir(i.sliceSerialize({start:o.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(_),t.exit("labelMarker"),t.exit("labelEnd"),m):n(_)}function m(_){return _===40?t.attempt(kk,x,u?x:b)(_):_===91?t.attempt(Rk,x,u?g:b)(_):u?x(_):b(_)}function g(_){return t.attempt(jk,x,b)(_)}function x(_){return e(_)}function b(_){return o._balanced=!0,n(_)}}function Ok(t,e,n){return i;function i(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),s}function s(b){return yt(b)?bu(t,o)(b):o(b)}function o(b){return b===41?x(b):gw(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function u(b){return yt(b)?bu(t,m)(b):x(b)}function h(b){return n(b)}function m(b){return b===34||b===39||b===40?xw(t,g,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function g(b){return yt(b)?bu(t,x)(b):x(b)}function x(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function Vk(t,e,n){const i=this;return s;function s(h){return yw.call(i,t,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return i.parser.defined.includes(Ir(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function Pk(t,e,n){return i;function i(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),s}function s(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const Lk={name:"labelStartImage",resolveAll:sg.resolveAll,tokenize:zk};function zk(t,e,n){const i=this;return s;function s(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),o}function o(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):e(h)}}const Uk={name:"labelStartLink",resolveAll:sg.resolveAll,tokenize:Bk};function Bk(t,e,n){const i=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const rp={name:"lineEnding",tokenize:qk};function qk(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),rt(t,e,"linePrefix")}}const Ff={name:"thematicBreak",tokenize:Fk};function Fk(t,e,n){let i=0,s;return o;function o(g){return t.enter("thematicBreak"),u(g)}function u(g){return s=g,h(g)}function h(g){return g===s?(t.enter("thematicBreakSequence"),m(g)):i>=3&&(g===null||Ie(g))?(t.exit("thematicBreak"),e(g)):n(g)}function m(g){return g===s?(t.consume(g),i++,m):(t.exit("thematicBreakSequence"),Qe(g)?rt(t,h,"whitespace")(g):h(g))}}const Fn={continuation:{tokenize:Yk},exit:Xk,name:"list",tokenize:Gk},Hk={partial:!0,tokenize:Kk},$k={partial:!0,tokenize:Qk};function Gk(t,e,n){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return h;function h(w){const N=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:Gp(w)){if(i.containerState.type||(i.containerState.type=N,t.enter(N,{_container:!0})),N==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(Ff,n,g)(w):g(w);if(!i.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(w)}return n(w)}function m(w){return Gp(w)&&++u<10?(t.consume(w),m):(!i.interrupt||u<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),g(w)):n(w)}function g(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,t.check(ec,i.interrupt?n:x,t.attempt(Hk,_,b))}function x(w){return i.containerState.initialBlankLine=!0,o++,_(w)}function b(w){return Qe(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),_):n(w)}function _(w){return i.containerState.size=o+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function Yk(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(ec,s,o);function s(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,rt(t,e,"listItemIndent",i.containerState.size+1)(h)}function o(h){return i.containerState.furtherBlankLines||!Qe(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt($k,e,u)(h))}function u(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,rt(t,t.attempt(Fn,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function Qk(t,e,n){const i=this;return rt(t,s,"listItemIndent",i.containerState.size+1);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(o):n(o)}}function Xk(t){t.exit(this.containerState.type)}function Kk(t,e,n){const i=this;return rt(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=i.events[i.events.length-1];return!Qe(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const bv={name:"setextUnderline",resolveTo:Zk,tokenize:Jk};function Zk(t,e){let n=t.length,i,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",o?(t.splice(s,0,["enter",u,e]),t.splice(o+1,0,["exit",t[i][1],e]),t[i][1].end={...t[o][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function Jk(t,e,n){const i=this;let s;return o;function o(g){let x=i.events.length,b;for(;x--;)if(i.events[x][1].type!=="lineEnding"&&i.events[x][1].type!=="linePrefix"&&i.events[x][1].type!=="content"){b=i.events[x][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||b)?(t.enter("setextHeadingLine"),s=g,u(g)):n(g)}function u(g){return t.enter("setextHeadingLineSequence"),h(g)}function h(g){return g===s?(t.consume(g),h):(t.exit("setextHeadingLineSequence"),Qe(g)?rt(t,m,"lineSuffix")(g):m(g))}function m(g){return g===null||Ie(g)?(t.exit("setextHeadingLine"),e(g)):n(g)}}const Wk={tokenize:e9};function e9(t){const e=this,n=t.attempt(ec,i,t.attempt(this.parser.constructs.flowInitial,s,rt(t,t.attempt(this.parser.constructs.flow,s,t.attempt(ak,s)),"linePrefix")));return n;function i(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const t9={resolveAll:vw()},n9=bw("string"),r9=bw("text");function bw(t){return{resolveAll:vw(t==="text"?i9:void 0),tokenize:e};function e(n){const i=this,s=this.parser.constructs[t],o=n.attempt(s,u,h);return u;function u(x){return g(x)?o(x):h(x)}function h(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),m}function m(x){return g(x)?(n.exit("data"),o(x)):(n.consume(x),m)}function g(x){if(x===null)return!0;const b=s[x];let _=-1;if(b)for(;++_<b.length;){const w=b[_];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}function vw(t){return e;function e(n,i){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,i):n}}function i9(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],s=e.sliceStream(i);let o=s.length,u=-1,h=0,m;for(;o--;){const g=s[o];if(typeof g=="string"){for(u=g.length;g.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(g===-2)m=!0,h++;else if(g!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const g={type:n===t.length||m||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...g.start},i.start.offset===i.end.offset?Object.assign(i,g):(t.splice(n,0,["enter",g,e],["exit",g,e]),n+=2)}n++}return t}const a9={42:Fn,43:Fn,45:Fn,48:Fn,49:Fn,50:Fn,51:Fn,52:Fn,53:Fn,54:Fn,55:Fn,56:Fn,57:Fn,62:hw},s9={91:ck},l9={[-2]:np,[-1]:np,32:np},o9={35:gk,42:Ff,45:[bv,Ff],60:vk,61:bv,95:Ff,96:yv,126:yv},u9={38:mw,92:dw},c9={[-5]:rp,[-4]:rp,[-3]:rp,33:Lk,38:mw,42:Yp,60:[UC,Nk],91:Uk,92:[mk,dw],93:sg,95:Yp,96:WC},f9={null:[Yp,t9]},h9={null:[42,95]},d9={null:[]},m9=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:h9,contentInitial:s9,disable:d9,document:a9,flow:o9,flowInitial:l9,insideSpan:f9,string:u9,text:c9},Symbol.toStringTag,{value:"Module"}));function p9(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let u=[],h=[];const m={attempt:D(F),check:D(U),consume:q,enter:B,exit:J,interrupt:D(U,{interrupt:!0})},g={code:null,containerState:{},defineSkip:V,events:[],now:N,parser:t,previous:null,sliceSerialize:_,sliceStream:w,write:b};let x=e.tokenize.call(g,m);return e.resolveAll&&o.push(e),g;function b(I){return u=wr(u,I),P(),u[u.length-1]!==null?[]:(C(e,0),g.events=Dh(o,g.events,g),g.events)}function _(I,z){return y9(w(I),z)}function w(I){return g9(u,I)}function N(){const{_bufferIndex:I,_index:z,line:A,column:ae,offset:pe}=i;return{_bufferIndex:I,_index:z,line:A,column:ae,offset:pe}}function V(I){s[I.line]=I.column,k()}function P(){let I;for(;i._index<u.length;){const z=u[i._index];if(typeof z=="string")for(I=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===I&&i._bufferIndex<z.length;)L(z.charCodeAt(i._bufferIndex));else L(z)}}function L(I){x=x(I)}function q(I){Ie(I)?(i.line++,i.column=1,i.offset+=I===-3?2:1,k()):I!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),g.previous=I}function B(I,z){const A=z||{};return A.type=I,A.start=N(),g.events.push(["enter",A,g]),h.push(A),A}function J(I){const z=h.pop();return z.end=N(),g.events.push(["exit",z,g]),z}function F(I,z){C(I,z.from)}function U(I,z){z.restore()}function D(I,z){return A;function A(ae,pe,X){let ce,_e,ke,S;return Array.isArray(ae)?ge(ae):"tokenize"in ae?ge([ae]):se(ae);function se(ne){return be;function be(Te){const pt=Te!==null&&ne[Te],Nt=Te!==null&&ne.null,Dt=[...Array.isArray(pt)?pt:pt?[pt]:[],...Array.isArray(Nt)?Nt:Nt?[Nt]:[]];return ge(Dt)(Te)}}function ge(ne){return ce=ne,_e=0,ne.length===0?X:j(ne[_e])}function j(ne){return be;function be(Te){return S=M(),ke=ne,ne.partial||(g.currentConstruct=ne),ne.name&&g.parser.constructs.disable.null.includes(ne.name)?xe():ne.tokenize.call(z?Object.assign(Object.create(g),z):g,m,Y,xe)(Te)}}function Y(ne){return I(ke,S),pe}function xe(ne){return S.restore(),++_e<ce.length?j(ce[_e]):X}}}function C(I,z){I.resolveAll&&!o.includes(I)&&o.push(I),I.resolve&&sr(g.events,z,g.events.length-z,I.resolve(g.events.slice(z),g)),I.resolveTo&&(g.events=I.resolveTo(g.events,g))}function M(){const I=N(),z=g.previous,A=g.currentConstruct,ae=g.events.length,pe=Array.from(h);return{from:ae,restore:X};function X(){i=I,g.previous=z,g.currentConstruct=A,g.events.length=ae,h=pe,k()}}function k(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function g9(t,e){const n=e.start._index,i=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(i,o)];else{if(u=t.slice(n,s),i>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(i):u.shift()}o>0&&u.push(t[s].slice(0,o))}return u}function y9(t,e){let n=-1;const i=[];let s;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,i.push(u)}return i.join("")}function x9(t){const i={constructs:cw([m9,...(t||{}).extensions||[]]),content:s(IC),defined:[],document:s(OC),flow:s(Wk),lazy:{},string:s(n9),text:s(r9)};return i;function s(o){return u;function u(h){return p9(i,o,h)}}}function b9(t){for(;!pw(t););return t}const vv=/[\0\t\n\r]/g;function v9(){let t=1,e="",n=!0,i;return s;function s(o,u,h){const m=[];let g,x,b,_,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(vv.lastIndex=b,g=vv.exec(o),_=g&&g.index!==void 0?g.index:o.length,w=o.charCodeAt(_),!g){e=o.slice(b);break}if(w===10&&b===_&&i)m.push(-3),i=void 0;else switch(i&&(m.push(-5),i=void 0),b<_&&(m.push(o.slice(b,_)),t+=_-b),w){case 0:{m.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,m.push(-2);t++<x;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:i=!0,t=1}b=_+1}return h&&(i&&m.push(-5),e&&m.push(e),m.push(null)),m}}const _9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function w9(t){return t.replace(_9,E9)}function E9(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return fw(n.slice(o?2:1),o?16:10)}return ag(n)||t}const _w={}.hasOwnProperty;function T9(t,e,n){return typeof e!="string"&&(n=e,e=void 0),S9(n)(b9(x9(n).document().write(v9()(t,e,!0))))}function S9(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(wn),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(cn),blockQuote:o(Nt),characterEscape:M,characterReference:M,codeFenced:o(Dt),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Dt,u),codeText:o(Rn,u),codeTextData:M,data:M,codeFlowValue:M,definition:o(en),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(or),hardBreakEscape:o(Sr),hardBreakTrailing:o(Sr),htmlFlow:o(fn,u),htmlFlowData:M,htmlText:o(fn,u),htmlTextData:M,image:o(ui),label:u,link:o(wn),listItem:o(ur),listItemValue:_,listOrdered:o(Ar,b),listUnordered:o(Ar),paragraph:o(ci),reference:j,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(cn),strong:o(Or),thematicBreak:o($i)},exit:{atxHeading:m(),atxHeadingSequence:F,autolink:m(),autolinkEmail:pt,autolinkProtocol:Te,blockQuote:m(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:xe,characterReferenceMarkerNumeric:xe,characterReferenceValue:ne,characterReference:be,codeFenced:m(P),codeFencedFence:V,codeFencedFenceInfo:w,codeFencedFenceMeta:N,codeFlowValue:k,codeIndented:m(L),codeText:m(pe),codeTextData:k,data:k,definition:m(),definitionDestinationString:J,definitionLabelString:q,definitionTitleString:B,emphasis:m(),hardBreakEscape:m(z),hardBreakTrailing:m(z),htmlFlow:m(A),htmlFlowData:k,htmlText:m(ae),htmlTextData:k,image:m(ce),label:ke,labelText:_e,lineEnding:I,link:m(X),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:Y,resourceDestinationString:S,resourceTitleString:se,resource:ge,setextHeading:m(C),setextHeadingLineSequence:D,setextHeadingText:U,strong:m(),thematicBreak:m()}};ww(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(te){let de={type:"root",children:[]};const Ae={stack:[de],tokenStack:[],config:e,enter:h,exit:g,buffer:u,resume:x,data:n},De=[];let Ze=-1;for(;++Ze<te.length;)if(te[Ze][1].type==="listOrdered"||te[Ze][1].type==="listUnordered")if(te[Ze][0]==="enter")De.push(Ze);else{const hn=De.pop();Ze=s(te,hn,Ze)}for(Ze=-1;++Ze<te.length;){const hn=e[te[Ze][0]];_w.call(hn,te[Ze][1].type)&&hn[te[Ze][1].type].call(Object.assign({sliceSerialize:te[Ze][2].sliceSerialize},Ae),te[Ze][1])}if(Ae.tokenStack.length>0){const hn=Ae.tokenStack[Ae.tokenStack.length-1];(hn[1]||_v).call(Ae,void 0,hn[0])}for(de.position={start:_a(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:_a(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)de=e.transforms[Ze](de)||de;return de}function s(te,de,Ae){let De=de-1,Ze=-1,hn=!1,tn,Lt,jn,Yt;for(;++De<=Ae;){const Ct=te[De];switch(Ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ct[0]==="enter"?Ze++:Ze--,Yt=void 0;break}case"lineEndingBlank":{Ct[0]==="enter"&&(tn&&!Yt&&!Ze&&!jn&&(jn=De),Yt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Yt=void 0}if(!Ze&&Ct[0]==="enter"&&Ct[1].type==="listItemPrefix"||Ze===-1&&Ct[0]==="exit"&&(Ct[1].type==="listUnordered"||Ct[1].type==="listOrdered")){if(tn){let It=De;for(Lt=void 0;It--;){const fe=te[It];if(fe[1].type==="lineEnding"||fe[1].type==="lineEndingBlank"){if(fe[0]==="exit")continue;Lt&&(te[Lt][1].type="lineEndingBlank",hn=!0),fe[1].type="lineEnding",Lt=It}else if(!(fe[1].type==="linePrefix"||fe[1].type==="blockQuotePrefix"||fe[1].type==="blockQuotePrefixWhitespace"||fe[1].type==="blockQuoteMarker"||fe[1].type==="listItemIndent"))break}jn&&(!Lt||jn<Lt)&&(tn._spread=!0),tn.end=Object.assign({},Lt?te[Lt][1].start:Ct[1].end),te.splice(Lt||De,0,["exit",tn,Ct[2]]),De++,Ae++}if(Ct[1].type==="listItemPrefix"){const It={type:"listItem",_spread:!1,start:Object.assign({},Ct[1].start),end:void 0};tn=It,te.splice(De,0,["enter",It,Ct[2]]),De++,Ae++,jn=void 0,Yt=!0}}}return te[de][1]._spread=hn,Ae}function o(te,de){return Ae;function Ae(De){h.call(this,te(De),De),de&&de.call(this,De)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(te,de,Ae){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([de,Ae||void 0]),te.position={start:_a(de.start),end:void 0}}function m(te){return de;function de(Ae){te&&te.call(this,Ae),g.call(this,Ae)}}function g(te,de){const Ae=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==te.type&&(de?de.call(this,te,De[0]):(De[1]||_v).call(this,te,De[0]));else throw new Error("Cannot close `"+te.type+"` ("+xu({start:te.start,end:te.end})+"): its not open");Ae.position.end=_a(te.end)}function x(){return ig(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function _(te){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function w(){const te=this.resume(),de=this.stack[this.stack.length-1];de.lang=te}function N(){const te=this.resume(),de=this.stack[this.stack.length-1];de.meta=te}function V(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const te=this.resume(),de=this.stack[this.stack.length-1];de.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function L(){const te=this.resume(),de=this.stack[this.stack.length-1];de.value=te.replace(/(\r?\n|\r)$/g,"")}function q(te){const de=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=de,Ae.identifier=Ir(this.sliceSerialize(te)).toLowerCase()}function B(){const te=this.resume(),de=this.stack[this.stack.length-1];de.title=te}function J(){const te=this.resume(),de=this.stack[this.stack.length-1];de.url=te}function F(te){const de=this.stack[this.stack.length-1];if(!de.depth){const Ae=this.sliceSerialize(te).length;de.depth=Ae}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function D(te){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function M(te){const Ae=this.stack[this.stack.length-1].children;let De=Ae[Ae.length-1];(!De||De.type!=="text")&&(De=fi(),De.position={start:_a(te.start),end:void 0},Ae.push(De)),this.stack.push(De)}function k(te){const de=this.stack.pop();de.value+=this.sliceSerialize(te),de.position.end=_a(te.end)}function I(te){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ae=de.children[de.children.length-1];Ae.position.end=_a(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(de.type)&&(M.call(this,te),k.call(this,te))}function z(){this.data.atHardBreak=!0}function A(){const te=this.resume(),de=this.stack[this.stack.length-1];de.value=te}function ae(){const te=this.resume(),de=this.stack[this.stack.length-1];de.value=te}function pe(){const te=this.resume(),de=this.stack[this.stack.length-1];de.value=te}function X(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=de,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function ce(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=de,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function _e(te){const de=this.sliceSerialize(te),Ae=this.stack[this.stack.length-2];Ae.label=w9(de),Ae.identifier=Ir(de).toLowerCase()}function ke(){const te=this.stack[this.stack.length-1],de=this.resume(),Ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ae.type==="link"){const De=te.children;Ae.children=De}else Ae.alt=de}function S(){const te=this.resume(),de=this.stack[this.stack.length-1];de.url=te}function se(){const te=this.resume(),de=this.stack[this.stack.length-1];de.title=te}function ge(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function Y(te){const de=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=de,Ae.identifier=Ir(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function xe(te){this.data.characterReferenceType=te.type}function ne(te){const de=this.sliceSerialize(te),Ae=this.data.characterReferenceType;let De;Ae?(De=fw(de,Ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=ag(de);const Ze=this.stack[this.stack.length-1];Ze.value+=De}function be(te){const de=this.stack.pop();de.position.end=_a(te.end)}function Te(te){k.call(this,te);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(te)}function pt(te){k.call(this,te);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(te)}function Nt(){return{type:"blockquote",children:[]}}function Dt(){return{type:"code",lang:null,meta:null,value:""}}function Rn(){return{type:"inlineCode",value:""}}function en(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function or(){return{type:"emphasis",children:[]}}function cn(){return{type:"heading",depth:0,children:[]}}function Sr(){return{type:"break"}}function fn(){return{type:"html",value:""}}function ui(){return{type:"image",title:null,url:"",alt:null}}function wn(){return{type:"link",title:null,url:"",children:[]}}function Ar(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function ur(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function ci(){return{type:"paragraph",children:[]}}function Or(){return{type:"strong",children:[]}}function fi(){return{type:"text",value:""}}function $i(){return{type:"thematicBreak"}}}function _a(t){return{line:t.line,column:t.column,offset:t.offset}}function ww(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?ww(t,i):A9(t,i)}}function A9(t,e){let n;for(n in e)if(_w.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function _v(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+xu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+xu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+xu({start:e.start,end:e.end})+") is still open")}function N9(t){const e=this;e.parser=n;function n(i){return T9(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function C9(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function k9(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function R9(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function j9(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function D9(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function I9(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),s=Xl(i.toLowerCase()),o=t.footnoteOrder.indexOf(i);let u,h=t.footnoteCounts.get(i);h===void 0?(h=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=o+1,h+=1,t.footnoteCounts.set(i,h);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,m);const g={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,g),t.applyData(e,g)}function M9(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function O9(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Ew(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const s=t.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=i:s.push({type:"text",value:i}),s}function V9(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return Ew(t,e);const s={src:Xl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,o),t.applyData(e,o)}function P9(t,e){const n={src:Xl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function L9(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function z9(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return Ew(t,e);const s={href:Xl(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function U9(t,e){const n={href:Xl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function B9(t,e,n){const i=t.all(e),s=n?q9(n):Tw(e),o={},u=[];if(typeof e.checked=="boolean"){const x=i[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},i.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const x=i[h];(s||h!==0||x.type!=="element"||x.tagName!=="p")&&u.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!s?u.push(...x.children):u.push(x)}const m=i[i.length-1];m&&(s||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,g),t.applyData(e,g)}function q9(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=Tw(n[i])}return e}function Tw(t){const e=t.spread;return e??t.children.length>1}function F9(t,e){const n={},i=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<i.length;){const u=i[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function H9(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $9(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function G9(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Y9(t,e){const n=t.all(e),i=n.shift(),s=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=eg(e.children[1]),m=rw(e.children[e.children.length-1]);h&&m&&(u.position={start:h,end:m}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function Q9(t,e,n){const i=n?n.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let m=-1;const g=[];for(;++m<h;){const b=e.children[m],_={},w=u?u[m]:void 0;w&&(_.align=w);let N={type:"element",tagName:o,properties:_,children:[]};b&&(N.children=t.all(b),t.patch(b,N),N=t.applyData(b,N)),g.push(N)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(g,!0)};return t.patch(e,x),t.applyData(e,x)}function X9(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const wv=9,Ev=32;function K9(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),s=0;const o=[];for(;i;)o.push(Tv(e.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(e);return o.push(Tv(e.slice(s),s>0,!1)),o.join("")}function Tv(t,e,n){let i=0,s=t.length;if(e){let o=t.codePointAt(i);for(;o===wv||o===Ev;)i++,o=t.codePointAt(i)}if(n){let o=t.codePointAt(s-1);for(;o===wv||o===Ev;)s--,o=t.codePointAt(s-1)}return s>i?t.slice(i,s):""}function Z9(t,e){const n={type:"text",value:K9(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function J9(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const W9={blockquote:C9,break:k9,code:R9,delete:j9,emphasis:D9,footnoteReference:I9,heading:M9,html:O9,imageReference:V9,image:P9,inlineCode:L9,linkReference:z9,link:U9,listItem:B9,list:F9,paragraph:H9,root:$9,strong:G9,table:Y9,tableCell:X9,tableRow:Q9,text:Z9,thematicBreak:J9,toml:Df,yaml:Df,definition:Df,footnoteDefinition:Df};function Df(){}const Sw=-1,Ih=0,vu=1,oh=2,lg=3,og=4,ug=5,cg=6,Aw=7,Nw=8,Sv=typeof self=="object"?self:globalThis,eR=(t,e)=>{const n=(s,o)=>(t.set(o,s),s),i=s=>{if(t.has(s))return t.get(s);const[o,u]=e[s];switch(o){case Ih:case Sw:return n(u,s);case vu:{const h=n([],s);for(const m of u)h.push(i(m));return h}case oh:{const h=n({},s);for(const[m,g]of u)h[i(m)]=i(g);return h}case lg:return n(new Date(u),s);case og:{const{source:h,flags:m}=u;return n(new RegExp(h,m),s)}case ug:{const h=n(new Map,s);for(const[m,g]of u)h.set(i(m),i(g));return h}case cg:{const h=n(new Set,s);for(const m of u)h.add(i(m));return h}case Aw:{const{name:h,message:m}=u;return n(new Sv[h](m),s)}case Nw:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new Sv[o](u),s)};return i},Av=t=>eR(new Map,t)(0),_l="",{toString:tR}={},{keys:nR}=Object,lu=t=>{const e=typeof t;if(e!=="object"||!t)return[Ih,e];const n=tR.call(t).slice(8,-1);switch(n){case"Array":return[vu,_l];case"Object":return[oh,_l];case"Date":return[lg,_l];case"RegExp":return[og,_l];case"Map":return[ug,_l];case"Set":return[cg,_l];case"DataView":return[vu,n]}return n.includes("Array")?[vu,n]:n.includes("Error")?[Aw,n]:[oh,n]},If=([t,e])=>t===Ih&&(e==="function"||e==="symbol"),rR=(t,e,n,i)=>{const s=(u,h)=>{const m=i.push(u)-1;return n.set(h,m),m},o=u=>{if(n.has(u))return n.get(u);let[h,m]=lu(u);switch(h){case Ih:{let x=u;switch(m){case"bigint":h=Nw,x=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);x=null;break;case"undefined":return s([Sw],u)}return s([h,x],u)}case vu:{if(m){let _=u;return m==="DataView"?_=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(_=new Uint8Array(u)),s([m,[..._]],u)}const x=[],b=s([h,x],u);for(const _ of u)x.push(o(_));return b}case oh:{if(m)switch(m){case"BigInt":return s([m,u.toString()],u);case"Boolean":case"Number":case"String":return s([m,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const x=[],b=s([h,x],u);for(const _ of nR(u))(t||!If(lu(u[_])))&&x.push([o(_),o(u[_])]);return b}case lg:return s([h,u.toISOString()],u);case og:{const{source:x,flags:b}=u;return s([h,{source:x,flags:b}],u)}case ug:{const x=[],b=s([h,x],u);for(const[_,w]of u)(t||!(If(lu(_))||If(lu(w))))&&x.push([o(_),o(w)]);return b}case cg:{const x=[],b=s([h,x],u);for(const _ of u)(t||!If(lu(_)))&&x.push(o(_));return b}}const{message:g}=u;return s([h,{name:m,message:g}],u)};return o},Nv=(t,{json:e,lossy:n}={})=>{const i=[];return rR(!(e||n),!!e,new Map,i)(t),i},uh=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Av(Nv(t,e)):structuredClone(t):(t,e)=>Av(Nv(t,e));function iR(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function aR(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function sR(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||iR,i=t.options.footnoteBackLabel||aR,s=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let m=-1;for(;++m<t.footnoteOrder.length;){const g=t.footnoteById.get(t.footnoteOrder[m]);if(!g)continue;const x=t.all(g),b=String(g.identifier).toUpperCase(),_=Xl(b.toLowerCase());let w=0;const N=[],V=t.footnoteCounts.get(b);for(;V!==void 0&&++w<=V;){N.length>0&&N.push({type:"text",value:" "});let q=typeof n=="string"?n:n(m,w);typeof q=="string"&&(q={type:"text",value:q}),N.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+_+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(m,w),className:["data-footnote-backref"]},children:Array.isArray(q)?q:[q]})}const P=x[x.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const q=P.children[P.children.length-1];q&&q.type==="text"?q.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...N)}else x.push(...N);const L={type:"element",tagName:"li",properties:{id:e+"fn-"+_},children:t.wrap(x,!0)};t.patch(g,L),h.push(L)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...uh(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const Mh=(function(t){if(t==null)return cR;if(typeof t=="function")return Oh(t);if(typeof t=="object")return Array.isArray(t)?lR(t):oR(t);if(typeof t=="string")return uR(t);throw new Error("Expected function, string, or object as test")});function lR(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Mh(t[n]);return Oh(i);function i(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function oR(t){const e=t;return Oh(n);function n(i){const s=i;let o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function uR(t){return Oh(e);function e(n){return n&&n.type===t}}function Oh(t){return e;function e(n,i,s){return!!(fR(n)&&t.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function cR(){return!0}function fR(t){return t!==null&&typeof t=="object"&&"type"in t}const Cw=[],hR=!0,Qp=!1,dR="skip";function kw(t,e,n,i){let s;typeof e=="function"&&typeof n!="function"?(i=n,n=e):s=e;const o=Mh(s),u=i?-1:1;h(t,void 0,[])();function h(m,g,x){const b=m&&typeof m=="object"?m:{};if(typeof b.type=="string"){const w=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(m.type+(w?"<"+w+">":""))+")"})}return _;function _(){let w=Cw,N,V,P;if((!e||o(m,g,x[x.length-1]||void 0))&&(w=mR(n(m,x)),w[0]===Qp))return w;if("children"in m&&m.children){const L=m;if(L.children&&w[0]!==dR)for(V=(i?L.children.length:-1)+u,P=x.concat(L);V>-1&&V<L.children.length;){const q=L.children[V];if(N=h(q,V,P)(),N[0]===Qp)return N;V=typeof N[1]=="number"?N[1]:V+u}}return w}}}function mR(t){return Array.isArray(t)?t:typeof t=="number"?[hR,t]:t==null?Cw:[t]}function fg(t,e,n,i){let s,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,s=n):(o=e,u=n,s=i),kw(t,o,h,s);function h(m,g){const x=g[g.length-1],b=x?x.children.indexOf(m):void 0;return u(m,b,x)}}const Xp={}.hasOwnProperty,pR={};function gR(t,e){const n=e||pR,i=new Map,s=new Map,o=new Map,u={...W9,...n.handlers},h={all:g,applyData:xR,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:m,options:n,patch:yR,wrap:vR};return fg(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?i:s,_=String(x.identifier).toUpperCase();b.has(_)||b.set(_,x)}}),h;function m(x,b){const _=x.type,w=h.handlers[_];if(Xp.call(h.handlers,_)&&w)return w(h,x,b);if(h.options.passThrough&&h.options.passThrough.includes(_)){if("children"in x){const{children:V,...P}=x,L=uh(P);return L.children=h.all(x),L}return uh(x)}return(h.options.unknownHandler||bR)(h,x,b)}function g(x){const b=[];if("children"in x){const _=x.children;let w=-1;for(;++w<_.length;){const N=h.one(_[w],x);if(N){if(w&&_[w-1].type==="break"&&(!Array.isArray(N)&&N.type==="text"&&(N.value=Cv(N.value)),!Array.isArray(N)&&N.type==="element")){const V=N.children[0];V&&V.type==="text"&&(V.value=Cv(V.value))}Array.isArray(N)?b.push(...N):b.push(N)}}}return b}}function yR(t,e){t.position&&(e.position=aC(t))}function xR(t,e){let n=e;if(t&&t.data){const i=t.data.hName,s=t.data.hChildren,o=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,uh(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function bR(t,e){const n=e.data||{},i="value"in e&&!(Xp.call(n,"hProperties")||Xp.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function vR(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Cv(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function kv(t,e){const n=gR(t,e),i=n.one(t,void 0),s=sR(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function _R(t,e){return t&&"run"in t?async function(n,i){const s=kv(n,{file:i,...e});await t.run(s,i)}:function(n,i){return kv(n,{file:i,...t||e})}}function Rv(t){if(t)throw t}var ip,jv;function wR(){if(jv)return ip;jv=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(g){return typeof Array.isArray=="function"?Array.isArray(g):e.call(g)==="[object Array]"},o=function(g){if(!g||e.call(g)!=="[object Object]")return!1;var x=t.call(g,"constructor"),b=g.constructor&&g.constructor.prototype&&t.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!x&&!b)return!1;var _;for(_ in g);return typeof _>"u"||t.call(g,_)},u=function(g,x){n&&x.name==="__proto__"?n(g,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):g[x.name]=x.newValue},h=function(g,x){if(x==="__proto__")if(t.call(g,x)){if(i)return i(g,x).value}else return;return g[x]};return ip=function m(){var g,x,b,_,w,N,V=arguments[0],P=1,L=arguments.length,q=!1;for(typeof V=="boolean"&&(q=V,V=arguments[1]||{},P=2),(V==null||typeof V!="object"&&typeof V!="function")&&(V={});P<L;++P)if(g=arguments[P],g!=null)for(x in g)b=h(V,x),_=h(g,x),V!==_&&(q&&_&&(o(_)||(w=s(_)))?(w?(w=!1,N=b&&s(b)?b:[]):N=b&&o(b)?b:{},u(V,{name:x,newValue:m(q,N,_)})):typeof _<"u"&&u(V,{name:x,newValue:_}));return V},ip}var ER=wR();const ap=fh(ER);function Kp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function TR(){const t=[],e={run:n,use:i};return e;function n(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...s);function h(m,...g){const x=t[++o];let b=-1;if(m){u(m);return}for(;++b<s.length;)(g[b]===null||g[b]===void 0)&&(g[b]=s[b]);s=g,x?SR(x,h)(...g):u(null,...g)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function SR(t,e){let n;return i;function i(...u){const h=t.length>u.length;let m;h&&u.push(s);try{m=t.apply(this,u)}catch(g){const x=g;if(h&&n)throw x;return s(x)}h||(m&&m.then&&typeof m.then=="function"?m.then(o,s):m instanceof Error?s(m):o(m))}function s(u,...h){n||(n=!0,e(u,...h))}function o(u){s(null,u)}}const Jr={basename:AR,dirname:NR,extname:CR,join:kR,sep:"/"};function AR(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');tc(t);let n=0,i=-1,s=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,h=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else u<0&&(o=!0,u=s+1),h>-1&&(t.codePointAt(s)===e.codePointAt(h--)?h<0&&(i=s):(h=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function NR(t){if(tc(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function CR(t){tc(t);let e=t.length,n=-1,i=0,s=-1,o=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===i+1?"":t.slice(s,n)}function kR(...t){let e=-1,n;for(;++e<t.length;)tc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":RR(n)}function RR(t){tc(t);const e=t.codePointAt(0)===47;let n=jR(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function jR(t,e){let n="",i=0,s=-1,o=0,u=-1,h,m;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",i=0):(n=n.slice(0,m),i=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length>0){n="",i=0,s=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),i=u-s-1;s=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function tc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const DR={cwd:IR};function IR(){return"/"}function Zp(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function MR(t){if(typeof t=="string")t=new URL(t);else if(!Zp(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return OR(t)}function OR(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const sp=["history","path","basename","stem","extname","dirname"];class Rw{constructor(e){let n;e?Zp(e)?n={path:e}:typeof e=="string"||VR(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":DR.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<sp.length;){const o=sp[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)sp.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Jr.basename(this.path):void 0}set basename(e){op(e,"basename"),lp(e,"basename"),this.path=Jr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Jr.dirname(this.path):void 0}set dirname(e){Dv(this.basename,"dirname"),this.path=Jr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Jr.extname(this.path):void 0}set extname(e){if(lp(e,"extname"),Dv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Zp(e)&&(e=MR(e)),op(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Jr.basename(this.path,this.extname):void 0}set stem(e){op(e,"stem"),lp(e,"stem"),this.path=Jr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const s=this.message(e,n,i);throw s.fatal=!0,s}info(e,n,i){const s=this.message(e,n,i);return s.fatal=void 0,s}message(e,n,i){const s=new kn(e,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function lp(t,e){if(t&&t.includes(Jr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Jr.sep+"`")}function op(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Dv(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function VR(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const PR=(function(t){const i=this.constructor.prototype,s=i[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o}),LR={}.hasOwnProperty;class hg extends PR{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=TR()}copy(){const e=new hg;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(ap(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(fp("data",this.frozen),this.namespace[e]=n,this):LR.call(this.namespace,e)&&this.namespace[e]||void 0:e?(fp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(e,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Mf(e),i=this.parser||this.Parser;return up("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),up("process",this.parser||this.Parser),cp("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,u){const h=Mf(e),m=i.parse(h);i.run(m,h,function(x,b,_){if(x||!b||!_)return g(x);const w=b,N=i.stringify(w,_);BR(N)?_.value=N:_.result=N,g(x,_)});function g(x,b){x||!b?u(x):o?o(b):n(void 0,b)}}}processSync(e){let n=!1,i;return this.freeze(),up("processSync",this.parser||this.Parser),cp("processSync",this.compiler||this.Compiler),this.process(e,s),Mv("processSync","process",n),i;function s(o,u){n=!0,Rv(o),i=u}}run(e,n,i){Iv(e),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(u,h){const m=Mf(n);s.run(e,m,g);function g(x,b,_){const w=b||e;x?h(x):u?u(w):i(void 0,w,_)}}}runSync(e,n){let i=!1,s;return this.run(e,n,o),Mv("runSync","run",i),s;function o(u,h){Rv(u),s=h,i=!0}}stringify(e,n){this.freeze();const i=Mf(n),s=this.compiler||this.Compiler;return cp("stringify",s),Iv(e),s(e,i)}use(e,...n){const i=this.attachers,s=this.namespace;if(fp("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(g){if(typeof g=="function")m(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[x,...b]=g;m(x,b)}else u(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function u(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(g.plugins),g.settings&&(s.settings=ap(!0,s.settings,g.settings))}function h(g){let x=-1;if(g!=null)if(Array.isArray(g))for(;++x<g.length;){const b=g[x];o(b)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function m(g,x){let b=-1,_=-1;for(;++b<i.length;)if(i[b][0]===g){_=b;break}if(_===-1)i.push([g,...x]);else if(x.length>0){let[w,...N]=x;const V=i[_][1];Kp(V)&&Kp(w)&&(w=ap(!0,V,w)),i[_]=[g,w,...N]}}}}const zR=new hg().freeze();function up(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function cp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function fp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Iv(t){if(!Kp(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Mv(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Mf(t){return UR(t)?t:new Rw(t)}function UR(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function BR(t){return typeof t=="string"||qR(t)}function qR(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const FR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ov=[],Vv={allowDangerousHtml:!0},HR=/^(https?|ircs?|mailto|xmpp)$/i,$R=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Kl(t){const e=GR(t),n=YR(t);return QR(e.runSync(e.parse(n),n),t)}function GR(t){const e=t.rehypePlugins||Ov,n=t.remarkPlugins||Ov,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Vv}:Vv;return zR().use(N9).use(n).use(_R,i).use(e)}function YR(t){const e=t.children||"",n=new Rw;return typeof e=="string"&&(n.value=e),n}function QR(t,e){const n=e.allowedElements,i=e.allowElement,s=e.components,o=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,m=e.urlTransform||XR;for(const x of $R)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+FR+x.id,void 0);return fg(t,g),cC(t,{Fragment:d.Fragment,components:s,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function g(x,b,_){if(x.type==="raw"&&_&&typeof b=="number")return u?_.children.splice(b,1):_.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let w;for(w in tp)if(Object.hasOwn(tp,w)&&Object.hasOwn(x.properties,w)){const N=x.properties[w],V=tp[w];(V===null||V.includes(x.tagName))&&(x.properties[w]=m(String(N||""),w,x))}}if(x.type==="element"){let w=n?!n.includes(x.tagName):o?o.includes(x.tagName):!1;if(!w&&i&&typeof b=="number"&&(w=!i(x,b,_)),w&&_&&typeof b=="number")return h&&x.children?_.children.splice(b,1,...x.children):_.children.splice(b,1),b}}}function XR(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||i!==-1&&e>i||HR.test(t.slice(0,e))?t:""}function Pv(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,s=n.indexOf(e);for(;s!==-1;)i++,s=n.indexOf(e,s+e.length);return i}function KR(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function ZR(t,e,n){const s=Mh((n||{}).ignore||[]),o=JR(e);let u=-1;for(;++u<o.length;)kw(t,"text",h);function h(g,x){let b=-1,_;for(;++b<x.length;){const w=x[b],N=_?_.children:void 0;if(s(w,N?N.indexOf(w):void 0,_))return;_=w}if(_)return m(g,x)}function m(g,x){const b=x[x.length-1],_=o[u][0],w=o[u][1];let N=0;const P=b.children.indexOf(g);let L=!1,q=[];_.lastIndex=0;let B=_.exec(g.value);for(;B;){const J=B.index,F={index:B.index,input:B.input,stack:[...x,g]};let U=w(...B,F);if(typeof U=="string"&&(U=U.length>0?{type:"text",value:U}:void 0),U===!1?_.lastIndex=J+1:(N!==J&&q.push({type:"text",value:g.value.slice(N,J)}),Array.isArray(U)?q.push(...U):U&&q.push(U),N=J+B[0].length,L=!0),!_.global)break;B=_.exec(g.value)}return L?(N<g.value.length&&q.push({type:"text",value:g.value.slice(N)}),b.children.splice(P,1,...q)):q=[g],P+q.length}}function JR(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const s=n[i];e.push([WR(s[0]),ej(s[1])])}return e}function WR(t){return typeof t=="string"?new RegExp(KR(t),"g"):t}function ej(t){return typeof t=="function"?t:function(){return t}}const hp="phrasing",dp=["autolink","link","image","label"];function tj(){return{transforms:[oj],enter:{literalAutolink:rj,literalAutolinkEmail:mp,literalAutolinkHttp:mp,literalAutolinkWww:mp},exit:{literalAutolink:lj,literalAutolinkEmail:sj,literalAutolinkHttp:ij,literalAutolinkWww:aj}}}function nj(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:hp,notInConstruct:dp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:hp,notInConstruct:dp},{character:":",before:"[ps]",after:"\\/",inConstruct:hp,notInConstruct:dp}]}}function rj(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function mp(t){this.config.enter.autolinkProtocol.call(this,t)}function ij(t){this.config.exit.autolinkProtocol.call(this,t)}function aj(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function sj(t){this.config.exit.autolinkEmail.call(this,t)}function lj(t){this.exit(t)}function oj(t){ZR(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,uj],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),cj]],{ignore:["link","linkReference"]})}function uj(t,e,n,i,s){let o="";if(!jw(s)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!fj(n)))return!1;const u=hj(n+i);if(!u[0])return!1;const h={type:"link",title:null,url:o+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[h,{type:"text",value:u[1]}]:h}function cj(t,e,n,i){return!jw(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function fj(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function hj(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const s=Pv(t,"(");let o=Pv(t,")");for(;i!==-1&&s>o;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),o++;return[t,n]}function jw(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Es(n)||jh(n))&&(!e||n!==47)}Dw.peek=_j;function dj(){this.buffer()}function mj(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function pj(){this.buffer()}function gj(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function yj(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ir(this.sliceSerialize(t)).toLowerCase(),n.label=e}function xj(t){this.exit(t)}function bj(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ir(this.sliceSerialize(t)).toLowerCase(),n.label=e}function vj(t){this.exit(t)}function _j(){return"["}function Dw(t,e,n,i){const s=n.createTracker(i);let o=s.move("[^");const u=n.enter("footnoteReference"),h=n.enter("reference");return o+=s.move(n.safe(n.associationId(t),{after:"]",before:o})),h(),u(),o+=s.move("]"),o}function wj(){return{enter:{gfmFootnoteCallString:dj,gfmFootnoteCall:mj,gfmFootnoteDefinitionLabelString:pj,gfmFootnoteDefinition:gj},exit:{gfmFootnoteCallString:yj,gfmFootnoteCall:xj,gfmFootnoteDefinitionLabelString:bj,gfmFootnoteDefinition:vj}}}function Ej(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Dw},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,s,o,u){const h=o.createTracker(u);let m=h.move("[^");const g=o.enter("footnoteDefinition"),x=o.enter("label");return m+=h.move(o.safe(o.associationId(i),{before:m,after:"]"})),x(),m+=h.move("]:"),i.children&&i.children.length>0&&(h.shift(4),m+=h.move((e?`
`:" ")+o.indentLines(o.containerFlow(i,h.current()),e?Iw:Tj))),g(),m}}function Tj(t,e,n){return e===0?t:Iw(t,e,n)}function Iw(t,e,n){return(n?"":"    ")+t}const Sj=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Mw.peek=Rj;function Aj(){return{canContainEols:["delete"],enter:{strikethrough:Cj},exit:{strikethrough:kj}}}function Nj(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Sj}],handlers:{delete:Mw}}}function Cj(t){this.enter({type:"delete",children:[]},t)}function kj(t){this.exit(t)}function Mw(t,e,n,i){const s=n.createTracker(i),o=n.enter("strikethrough");let u=s.move("~~");return u+=n.containerPhrasing(t,{...s.current(),before:u,after:"~"}),u+=s.move("~~"),o(),u}function Rj(){return"~"}function jj(t){return t.length}function Dj(t,e){const n=e||{},i=(n.align||[]).concat(),s=n.stringLength||jj,o=[],u=[],h=[],m=[];let g=0,x=-1;for(;++x<t.length;){const V=[],P=[];let L=-1;for(t[x].length>g&&(g=t[x].length);++L<t[x].length;){const q=Ij(t[x][L]);if(n.alignDelimiters!==!1){const B=s(q);P[L]=B,(m[L]===void 0||B>m[L])&&(m[L]=B)}V.push(q)}u[x]=V,h[x]=P}let b=-1;if(typeof i=="object"&&"length"in i)for(;++b<g;)o[b]=Lv(i[b]);else{const V=Lv(i);for(;++b<g;)o[b]=V}b=-1;const _=[],w=[];for(;++b<g;){const V=o[b];let P="",L="";V===99?(P=":",L=":"):V===108?P=":":V===114&&(L=":");let q=n.alignDelimiters===!1?1:Math.max(1,m[b]-P.length-L.length);const B=P+"-".repeat(q)+L;n.alignDelimiters!==!1&&(q=P.length+q+L.length,q>m[b]&&(m[b]=q),w[b]=q),_[b]=B}u.splice(1,0,_),h.splice(1,0,w),x=-1;const N=[];for(;++x<u.length;){const V=u[x],P=h[x];b=-1;const L=[];for(;++b<g;){const q=V[b]||"";let B="",J="";if(n.alignDelimiters!==!1){const F=m[b]-(P[b]||0),U=o[b];U===114?B=" ".repeat(F):U===99?F%2?(B=" ".repeat(F/2+.5),J=" ".repeat(F/2-.5)):(B=" ".repeat(F/2),J=B):J=" ".repeat(F)}n.delimiterStart!==!1&&!b&&L.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&q==="")&&(n.delimiterStart!==!1||b)&&L.push(" "),n.alignDelimiters!==!1&&L.push(B),L.push(q),n.alignDelimiters!==!1&&L.push(J),n.padding!==!1&&L.push(" "),(n.delimiterEnd!==!1||b!==g-1)&&L.push("|")}N.push(n.delimiterEnd===!1?L.join("").replace(/ +$/,""):L.join(""))}return N.join(`
`)}function Ij(t){return t==null?"":String(t)}function Lv(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Mj(t,e,n,i){const s=n.enter("blockquote"),o=n.createTracker(i);o.move("> "),o.shift(2);const u=n.indentLines(n.containerFlow(t,o.current()),Oj);return s(),u}function Oj(t,e,n){return">"+(n?"":" ")+t}function Vj(t,e){return zv(t,e.inConstruct,!0)&&!zv(t,e.notInConstruct,!1)}function zv(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function Uv(t,e,n,i){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&Vj(n.stack,n.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function Pj(t,e){const n=String(t);let i=n.indexOf(e),s=i,o=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++o>u&&(u=o):o=1,s=i+e.length,i=n.indexOf(e,s);return u}function Lj(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function zj(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Uj(t,e,n,i){const s=zj(n),o=t.value||"",u=s==="`"?"GraveAccent":"Tilde";if(Lj(t,n)){const b=n.enter("codeIndented"),_=n.indentLines(o,Bj);return b(),_}const h=n.createTracker(i),m=s.repeat(Math.max(Pj(o,s)+1,3)),g=n.enter("codeFenced");let x=h.move(m);if(t.lang){const b=n.enter(`codeFencedLang${u}`);x+=h.move(n.safe(t.lang,{before:x,after:" ",encode:["`"],...h.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${u}`);x+=h.move(" "),x+=h.move(n.safe(t.meta,{before:x,after:`
`,encode:["`"],...h.current()})),b()}return x+=h.move(`
`),o&&(x+=h.move(o+`
`)),x+=h.move(m),g(),x}function Bj(t,e,n){return(n?"":"    ")+t}function dg(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function qj(t,e,n,i){const s=dg(n),o=s==='"'?"Quote":"Apostrophe",u=n.enter("definition");let h=n.enter("label");const m=n.createTracker(i);let g=m.move("[");return g+=m.move(n.safe(n.associationId(t),{before:g,after:"]",...m.current()})),g+=m.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),g+=m.move("<"),g+=m.move(n.safe(t.url,{before:g,after:">",...m.current()})),g+=m.move(">")):(h=n.enter("destinationRaw"),g+=m.move(n.safe(t.url,{before:g,after:t.title?" ":`
`,...m.current()}))),h(),t.title&&(h=n.enter(`title${o}`),g+=m.move(" "+s),g+=m.move(n.safe(t.title,{before:g,after:s,...m.current()})),g+=m.move(s),h()),u(),g}function Fj(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Uu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function ch(t,e,n){const i=zl(t),s=zl(e);return i===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ow.peek=Hj;function Ow(t,e,n,i){const s=Fj(n),o=n.enter("emphasis"),u=n.createTracker(i),h=u.move(s);let m=u.move(n.containerPhrasing(t,{after:s,before:h,...u.current()}));const g=m.charCodeAt(0),x=ch(i.before.charCodeAt(i.before.length-1),g,s);x.inside&&(m=Uu(g)+m.slice(1));const b=m.charCodeAt(m.length-1),_=ch(i.after.charCodeAt(0),b,s);_.inside&&(m=m.slice(0,-1)+Uu(b));const w=u.move(s);return o(),n.attentionEncodeSurroundingInfo={after:_.outside,before:x.outside},h+m+w}function Hj(t,e,n){return n.options.emphasis||"*"}function $j(t,e){let n=!1;return fg(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Qp}),!!((!t.depth||t.depth<3)&&ig(t)&&(e.options.setext||n))}function Gj(t,e,n,i){const s=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(i);if($j(t,n)){const x=n.enter("headingSetext"),b=n.enter("phrasing"),_=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return b(),x(),_+`
`+(s===1?"=":"-").repeat(_.length-(Math.max(_.lastIndexOf("\r"),_.lastIndexOf(`
`))+1))}const u="#".repeat(s),h=n.enter("headingAtx"),m=n.enter("phrasing");o.move(u+" ");let g=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(g)&&(g=Uu(g.charCodeAt(0))+g.slice(1)),g=g?u+" "+g:u,n.options.closeAtx&&(g+=" "+u),m(),h(),g}Vw.peek=Yj;function Vw(t){return t.value||""}function Yj(){return"<"}Pw.peek=Qj;function Pw(t,e,n,i){const s=dg(n),o=s==='"'?"Quote":"Apostrophe",u=n.enter("image");let h=n.enter("label");const m=n.createTracker(i);let g=m.move("![");return g+=m.move(n.safe(t.alt,{before:g,after:"]",...m.current()})),g+=m.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),g+=m.move("<"),g+=m.move(n.safe(t.url,{before:g,after:">",...m.current()})),g+=m.move(">")):(h=n.enter("destinationRaw"),g+=m.move(n.safe(t.url,{before:g,after:t.title?" ":")",...m.current()}))),h(),t.title&&(h=n.enter(`title${o}`),g+=m.move(" "+s),g+=m.move(n.safe(t.title,{before:g,after:s,...m.current()})),g+=m.move(s),h()),g+=m.move(")"),u(),g}function Qj(){return"!"}Lw.peek=Xj;function Lw(t,e,n,i){const s=t.referenceType,o=n.enter("imageReference");let u=n.enter("label");const h=n.createTracker(i);let m=h.move("![");const g=n.safe(t.alt,{before:m,after:"]",...h.current()});m+=h.move(g+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=x,o(),s==="full"||!g||g!==b?m+=h.move(b+"]"):s==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function Xj(){return"!"}zw.peek=Kj;function zw(t,e,n){let i=t.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<n.unsafe.length;){const u=n.unsafe[o],h=n.compilePattern(u);let m;if(u.atBreak)for(;m=h.exec(i);){let g=m.index;i.charCodeAt(g)===10&&i.charCodeAt(g-1)===13&&g--,i=i.slice(0,g)+" "+i.slice(m.index+1)}}return s+i+s}function Kj(){return"`"}function Uw(t,e){const n=ig(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Bw.peek=Zj;function Bw(t,e,n,i){const s=dg(n),o=s==='"'?"Quote":"Apostrophe",u=n.createTracker(i);let h,m;if(Uw(t,n)){const x=n.stack;n.stack=[],h=n.enter("autolink");let b=u.move("<");return b+=u.move(n.containerPhrasing(t,{before:b,after:">",...u.current()})),b+=u.move(">"),h(),n.stack=x,b}h=n.enter("link"),m=n.enter("label");let g=u.move("[");return g+=u.move(n.containerPhrasing(t,{before:g,after:"](",...u.current()})),g+=u.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),g+=u.move("<"),g+=u.move(n.safe(t.url,{before:g,after:">",...u.current()})),g+=u.move(">")):(m=n.enter("destinationRaw"),g+=u.move(n.safe(t.url,{before:g,after:t.title?" ":")",...u.current()}))),m(),t.title&&(m=n.enter(`title${o}`),g+=u.move(" "+s),g+=u.move(n.safe(t.title,{before:g,after:s,...u.current()})),g+=u.move(s),m()),g+=u.move(")"),h(),g}function Zj(t,e,n){return Uw(t,n)?"<":"["}qw.peek=Jj;function qw(t,e,n,i){const s=t.referenceType,o=n.enter("linkReference");let u=n.enter("label");const h=n.createTracker(i);let m=h.move("[");const g=n.containerPhrasing(t,{before:m,after:"]",...h.current()});m+=h.move(g+"]["),u();const x=n.stack;n.stack=[],u=n.enter("reference");const b=n.safe(n.associationId(t),{before:m,after:"]",...h.current()});return u(),n.stack=x,o(),s==="full"||!g||g!==b?m+=h.move(b+"]"):s==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function Jj(){return"["}function mg(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Wj(t){const e=mg(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function eD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Fw(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function tD(t,e,n,i){const s=n.enter("list"),o=n.bulletCurrent;let u=t.ordered?eD(n):mg(n);const h=t.ordered?u==="."?")":".":Wj(n);let m=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&x&&(!x.children||!x.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),Fw(n)===u&&x){let b=-1;for(;++b<t.children.length;){const _=t.children[b];if(_&&_.type==="listItem"&&_.children&&_.children[0]&&_.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=h),n.bulletCurrent=u;const g=n.containerFlow(t,i);return n.bulletLastUsed=u,n.bulletCurrent=o,s(),g}function nD(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function rD(t,e,n,i){const s=nD(n);let o=n.bulletCurrent||mg(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let u=o.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const h=n.createTracker(i);h.move(o+" ".repeat(u-o.length)),h.shift(u);const m=n.enter("listItem"),g=n.indentLines(n.containerFlow(t,h.current()),x);return m(),g;function x(b,_,w){return _?(w?"":" ".repeat(u))+b:(w?o:o+" ".repeat(u-o.length))+b}}function iD(t,e,n,i){const s=n.enter("paragraph"),o=n.enter("phrasing"),u=n.containerPhrasing(t,i);return o(),s(),u}const aD=Mh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function sD(t,e,n,i){return(t.children.some(function(u){return aD(u)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function lD(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Hw.peek=oD;function Hw(t,e,n,i){const s=lD(n),o=n.enter("strong"),u=n.createTracker(i),h=u.move(s+s);let m=u.move(n.containerPhrasing(t,{after:s,before:h,...u.current()}));const g=m.charCodeAt(0),x=ch(i.before.charCodeAt(i.before.length-1),g,s);x.inside&&(m=Uu(g)+m.slice(1));const b=m.charCodeAt(m.length-1),_=ch(i.after.charCodeAt(0),b,s);_.inside&&(m=m.slice(0,-1)+Uu(b));const w=u.move(s+s);return o(),n.attentionEncodeSurroundingInfo={after:_.outside,before:x.outside},h+m+w}function oD(t,e,n){return n.options.strong||"*"}function uD(t,e,n,i){return n.safe(t.value,i)}function cD(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function fD(t,e,n){const i=(Fw(n)+(n.options.ruleSpaces?" ":"")).repeat(cD(n));return n.options.ruleSpaces?i.slice(0,-1):i}const $w={blockquote:Mj,break:Uv,code:Uj,definition:qj,emphasis:Ow,hardBreak:Uv,heading:Gj,html:Vw,image:Pw,imageReference:Lw,inlineCode:zw,link:Bw,linkReference:qw,list:tD,listItem:rD,paragraph:iD,root:sD,strong:Hw,text:uD,thematicBreak:fD};function hD(){return{enter:{table:dD,tableData:Bv,tableHeader:Bv,tableRow:pD},exit:{codeText:gD,table:mD,tableData:pp,tableHeader:pp,tableRow:pp}}}function dD(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function mD(t){this.exit(t),this.data.inTable=void 0}function pD(t){this.enter({type:"tableRow",children:[]},t)}function pp(t){this.exit(t)}function Bv(t){this.enter({type:"tableCell",children:[]},t)}function gD(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,yD));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function yD(t,e){return e==="|"?e:t}function xD(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,s=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:_,table:u,tableCell:m,tableRow:h}};function u(w,N,V,P){return g(x(w,V,P),w.align)}function h(w,N,V,P){const L=b(w,V,P),q=g([L]);return q.slice(0,q.indexOf(`
`))}function m(w,N,V,P){const L=V.enter("tableCell"),q=V.enter("phrasing"),B=V.containerPhrasing(w,{...P,before:o,after:o});return q(),L(),B}function g(w,N){return Dj(w,{align:N,alignDelimiters:i,padding:n,stringLength:s})}function x(w,N,V){const P=w.children;let L=-1;const q=[],B=N.enter("table");for(;++L<P.length;)q[L]=b(P[L],N,V);return B(),q}function b(w,N,V){const P=w.children;let L=-1;const q=[],B=N.enter("tableRow");for(;++L<P.length;)q[L]=m(P[L],w,N,V);return B(),q}function _(w,N,V){let P=$w.inlineCode(w,N,V);return V.stack.includes("tableCell")&&(P=P.replace(/\|/g,"\\$&")),P}}function bD(){return{exit:{taskListCheckValueChecked:qv,taskListCheckValueUnchecked:qv,paragraph:_D}}}function vD(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:wD}}}function qv(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function _D(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const s=e.children;let o=-1,u;for(;++o<s.length;){const h=s[o];if(h.type==="paragraph"){u=h;break}}u===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function wD(t,e,n,i){const s=t.children[0],o=typeof t.checked=="boolean"&&s&&s.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",h=n.createTracker(i);o&&h.move(u);let m=$w.listItem(t,e,n,{...i,...h.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,g)),m;function g(x){return x+u}}function ED(){return[tj(),wj(),Aj(),hD(),bD()]}function TD(t){return{extensions:[nj(),Ej(t),Nj(),xD(t),vD()]}}const SD={tokenize:jD,partial:!0},Gw={tokenize:DD,partial:!0},Yw={tokenize:ID,partial:!0},Qw={tokenize:MD,partial:!0},AD={tokenize:OD,partial:!0},Xw={name:"wwwAutolink",tokenize:kD,previous:Zw},Kw={name:"protocolAutolink",tokenize:RD,previous:Jw},Hi={name:"emailAutolink",tokenize:CD,previous:Ww},oi={};function ND(){return{text:oi}}let ds=48;for(;ds<123;)oi[ds]=Hi,ds++,ds===58?ds=65:ds===91&&(ds=97);oi[43]=Hi;oi[45]=Hi;oi[46]=Hi;oi[95]=Hi;oi[72]=[Hi,Kw];oi[104]=[Hi,Kw];oi[87]=[Hi,Xw];oi[119]=[Hi,Xw];function CD(t,e,n){const i=this;let s,o;return u;function u(b){return!Jp(b)||!Ww.call(i,i.previous)||pg(i.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(b))}function h(b){return Jp(b)?(t.consume(b),h):b===64?(t.consume(b),m):n(b)}function m(b){return b===46?t.check(AD,x,g)(b):b===45||b===95||Cn(b)?(o=!0,t.consume(b),m):x(b)}function g(b){return t.consume(b),s=!0,m}function x(b){return o&&s&&Vn(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(b)):n(b)}}function kD(t,e,n){const i=this;return s;function s(u){return u!==87&&u!==119||!Zw.call(i,i.previous)||pg(i.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(SD,t.attempt(Gw,t.attempt(Yw,o),n),n)(u))}function o(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function RD(t,e,n){const i=this;let s="",o=!1;return u;function u(b){return(b===72||b===104)&&Jw.call(i,i.previous)&&!pg(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(b),t.consume(b),h):n(b)}function h(b){if(Vn(b)&&s.length<5)return s+=String.fromCodePoint(b),t.consume(b),h;if(b===58){const _=s.toLowerCase();if(_==="http"||_==="https")return t.consume(b),m}return n(b)}function m(b){return b===47?(t.consume(b),o?g:(o=!0,m)):n(b)}function g(b){return b===null||lh(b)||yt(b)||Es(b)||jh(b)?n(b):t.attempt(Gw,t.attempt(Yw,x),n)(b)}function x(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(b)}}function jD(t,e,n){let i=0;return s;function s(u){return(u===87||u===119)&&i<3?(i++,t.consume(u),s):u===46&&i===3?(t.consume(u),o):n(u)}function o(u){return u===null?n(u):e(u)}}function DD(t,e,n){let i,s,o;return u;function u(g){return g===46||g===95?t.check(Qw,m,h)(g):g===null||yt(g)||Es(g)||g!==45&&jh(g)?m(g):(o=!0,t.consume(g),u)}function h(g){return g===95?i=!0:(s=i,i=void 0),t.consume(g),u}function m(g){return s||i||!o?n(g):e(g)}}function ID(t,e){let n=0,i=0;return s;function s(u){return u===40?(n++,t.consume(u),s):u===41&&i<n?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(Qw,e,o)(u):u===null||yt(u)||Es(u)?e(u):(t.consume(u),s)}function o(u){return u===41&&i++,t.consume(u),s}}function MD(t,e,n){return i;function i(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),i):h===38?(t.consume(h),o):h===93?(t.consume(h),s):h===60||h===null||yt(h)||Es(h)?e(h):n(h)}function s(h){return h===null||h===40||h===91||yt(h)||Es(h)?e(h):i(h)}function o(h){return Vn(h)?u(h):n(h)}function u(h){return h===59?(t.consume(h),i):Vn(h)?(t.consume(h),u):n(h)}}function OD(t,e,n){return i;function i(o){return t.consume(o),s}function s(o){return Cn(o)?n(o):e(o)}}function Zw(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||yt(t)}function Jw(t){return!Vn(t)}function Ww(t){return!(t===47||Jp(t))}function Jp(t){return t===43||t===45||t===46||t===95||Cn(t)}function pg(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const VD={tokenize:HD,partial:!0};function PD(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:BD,continuation:{tokenize:qD},exit:FD}},text:{91:{name:"gfmFootnoteCall",tokenize:UD},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:LD,resolveTo:zD}}}}function LD(t,e,n){const i=this;let s=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u;for(;s--;){const m=i.events[s][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return h;function h(m){if(!u||!u._balanced)return n(m);const g=Ir(i.sliceSerialize({start:u.end,end:i.now()}));return g.codePointAt(0)!==94||!o.includes(g.slice(1))?n(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),e(m))}}function zD(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},h=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",s,e],["exit",s,e],["enter",o,e],["enter",u,e],["exit",u,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...h),t}function UD(t,e,n){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o=0,u;return h;function h(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),m}function m(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",g)}function g(b){if(o>999||b===93&&!u||b===null||b===91||yt(b))return n(b);if(b===93){t.exit("chunkString");const _=t.exit("gfmFootnoteCallString");return s.includes(Ir(i.sliceSerialize(_)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(b)}return yt(b)||(u=!0),o++,t.consume(b),b===92?x:g}function x(b){return b===91||b===92||b===93?(t.consume(b),o++,g):g(b)}}function BD(t,e,n){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,u=0,h;return m;function m(N){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(N),t.exit("gfmFootnoteDefinitionLabelMarker"),g}function g(N){return N===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(N),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):n(N)}function x(N){if(u>999||N===93&&!h||N===null||N===91||yt(N))return n(N);if(N===93){t.exit("chunkString");const V=t.exit("gfmFootnoteDefinitionLabelString");return o=Ir(i.sliceSerialize(V)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(N),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),_}return yt(N)||(h=!0),u++,t.consume(N),N===92?b:x}function b(N){return N===91||N===92||N===93?(t.consume(N),u++,x):x(N)}function _(N){return N===58?(t.enter("definitionMarker"),t.consume(N),t.exit("definitionMarker"),s.includes(o)||s.push(o),rt(t,w,"gfmFootnoteDefinitionWhitespace")):n(N)}function w(N){return e(N)}}function qD(t,e,n){return t.check(ec,e,t.attempt(VD,e,n))}function FD(t){t.exit("gfmFootnoteDefinition")}function HD(t,e,n){const i=this;return rt(t,s,"gfmFootnoteDefinitionIndent",5);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(o):n(o)}}function $D(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:o,resolveAll:s};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function s(u,h){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let g=m;for(;g--;)if(u[g][0]==="exit"&&u[g][1].type==="strikethroughSequenceTemporary"&&u[g][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[g][1].end.offset-u[g][1].start.offset){u[m][1].type="strikethroughSequence",u[g][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},u[g][1].start),end:Object.assign({},u[m][1].end)},b={type:"strikethroughText",start:Object.assign({},u[g][1].end),end:Object.assign({},u[m][1].start)},_=[["enter",x,h],["enter",u[g][1],h],["exit",u[g][1],h],["enter",b,h]],w=h.parser.constructs.insideSpan.null;w&&sr(_,_.length,0,Dh(w,u.slice(g+1,m),h)),sr(_,_.length,0,[["exit",b,h],["enter",u[m][1],h],["exit",u[m][1],h],["exit",x,h]]),sr(u,g-1,m-g+3,_),m=g+_.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function o(u,h,m){const g=this.previous,x=this.events;let b=0;return _;function _(N){return g===126&&x[x.length-1][1].type!=="characterEscape"?m(N):(u.enter("strikethroughSequenceTemporary"),w(N))}function w(N){const V=zl(g);if(N===126)return b>1?m(N):(u.consume(N),b++,w);if(b<2&&!n)return m(N);const P=u.exit("strikethroughSequenceTemporary"),L=zl(N);return P._open=!L||L===2&&!!V,P._close=!V||V===2&&!!L,h(N)}}}class GD{constructor(){this.map=[]}add(e,n,i){YD(this,e,n,i)}consume(e){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let s=i.pop();for(;s;){for(const o of s)e.push(o);s=i.pop()}this.map.length=0}}function YD(t,e,n,i){let s=0;if(!(n===0&&i.length===0)){for(;s<t.map.length;){if(t.map[s][0]===e){t.map[s][1]+=n,t.map[s][2].push(...i);return}s+=1}t.map.push([e,n,i])}}function QD(t,e){let n=!1;const i=[];for(;e<t.length;){const s=t[e];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=i.length-1;i[o]=i[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function XD(){return{flow:{null:{name:"table",tokenize:KD,resolveAll:ZD}}}}function KD(t,e,n){const i=this;let s=0,o=0,u;return h;function h(k){let I=i.events.length-1;for(;I>-1;){const ae=i.events[I][1].type;if(ae==="lineEnding"||ae==="linePrefix")I--;else break}const z=I>-1?i.events[I][1].type:null,A=z==="tableHead"||z==="tableRow"?U:m;return A===U&&i.parser.lazy[i.now().line]?n(k):A(k)}function m(k){return t.enter("tableHead"),t.enter("tableRow"),g(k)}function g(k){return k===124||(u=!0,o+=1),x(k)}function x(k){return k===null?n(k):Ie(k)?o>1?(o=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),w):n(k):Qe(k)?rt(t,x,"whitespace")(k):(o+=1,u&&(u=!1,s+=1),k===124?(t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),u=!0,x):(t.enter("data"),b(k)))}function b(k){return k===null||k===124||yt(k)?(t.exit("data"),x(k)):(t.consume(k),k===92?_:b)}function _(k){return k===92||k===124?(t.consume(k),b):b(k)}function w(k){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(k):(t.enter("tableDelimiterRow"),u=!1,Qe(k)?rt(t,N,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):N(k))}function N(k){return k===45||k===58?P(k):k===124?(u=!0,t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),V):F(k)}function V(k){return Qe(k)?rt(t,P,"whitespace")(k):P(k)}function P(k){return k===58?(o+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(k),t.exit("tableDelimiterMarker"),L):k===45?(o+=1,L(k)):k===null||Ie(k)?J(k):F(k)}function L(k){return k===45?(t.enter("tableDelimiterFiller"),q(k)):F(k)}function q(k){return k===45?(t.consume(k),q):k===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(k),t.exit("tableDelimiterMarker"),B):(t.exit("tableDelimiterFiller"),B(k))}function B(k){return Qe(k)?rt(t,J,"whitespace")(k):J(k)}function J(k){return k===124?N(k):k===null||Ie(k)?!u||s!==o?F(k):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(k)):F(k)}function F(k){return n(k)}function U(k){return t.enter("tableRow"),D(k)}function D(k){return k===124?(t.enter("tableCellDivider"),t.consume(k),t.exit("tableCellDivider"),D):k===null||Ie(k)?(t.exit("tableRow"),e(k)):Qe(k)?rt(t,D,"whitespace")(k):(t.enter("data"),C(k))}function C(k){return k===null||k===124||yt(k)?(t.exit("data"),D(k)):(t.consume(k),k===92?M:C)}function M(k){return k===92||k===124?(t.consume(k),C):C(k)}}function ZD(t,e){let n=-1,i=!0,s=0,o=[0,0,0,0],u=[0,0,0,0],h=!1,m=0,g,x,b;const _=new GD;for(;++n<t.length;){const w=t[n],N=w[1];w[0]==="enter"?N.type==="tableHead"?(h=!1,m!==0&&(Fv(_,e,m,g,x),x=void 0,m=0),g={type:"table",start:Object.assign({},N.start),end:Object.assign({},N.end)},_.add(n,0,[["enter",g,e]])):N.type==="tableRow"||N.type==="tableDelimiterRow"?(i=!0,b=void 0,o=[0,0,0,0],u=[0,n+1,0,0],h&&(h=!1,x={type:"tableBody",start:Object.assign({},N.start),end:Object.assign({},N.end)},_.add(n,0,[["enter",x,e]])),s=N.type==="tableDelimiterRow"?2:x?3:1):s&&(N.type==="data"||N.type==="tableDelimiterMarker"||N.type==="tableDelimiterFiller")?(i=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],b=Of(_,e,o,s,void 0,b),o=[0,0,0,0]),u[2]=n)):N.type==="tableCellDivider"&&(i?i=!1:(o[1]!==0&&(u[0]=u[1],b=Of(_,e,o,s,void 0,b)),o=u,u=[o[1],n,0,0])):N.type==="tableHead"?(h=!0,m=n):N.type==="tableRow"||N.type==="tableDelimiterRow"?(m=n,o[1]!==0?(u[0]=u[1],b=Of(_,e,o,s,n,b)):u[1]!==0&&(b=Of(_,e,u,s,n,b)),s=0):s&&(N.type==="data"||N.type==="tableDelimiterMarker"||N.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&Fv(_,e,m,g,x),_.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=QD(e.events,n))}return t}function Of(t,e,n,i,s,o){const u=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(o.end=Object.assign({},Nl(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const m=Nl(e.events,n[1]);if(o={type:u,start:Object.assign({},m),end:Object.assign({},m)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const g=Nl(e.events,n[2]),x=Nl(e.events,n[3]),b={type:h,start:Object.assign({},g),end:Object.assign({},x)};if(t.add(n[2],0,[["enter",b,e]]),i!==2){const _=e.events[n[2]],w=e.events[n[3]];if(_[1].end=Object.assign({},w[1].end),_[1].type="chunkText",_[1].contentType="text",n[3]>n[2]+1){const N=n[2]+1,V=n[3]-n[2]-1;t.add(N,V,[])}}t.add(n[3]+1,0,[["exit",b,e]])}return s!==void 0&&(o.end=Object.assign({},Nl(e.events,s)),t.add(s,0,[["exit",o,e]]),o=void 0),o}function Fv(t,e,n,i,s){const o=[],u=Nl(e.events,n);s&&(s.end=Object.assign({},u),o.push(["exit",s,e])),i.end=Object.assign({},u),o.push(["exit",i,e]),t.add(n+1,0,o)}function Nl(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const JD={name:"tasklistCheck",tokenize:eI};function WD(){return{text:{91:JD}}}function eI(t,e,n){const i=this;return s;function s(m){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),o)}function o(m){return yt(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):n(m)}function h(m){return Ie(m)?e(m):Qe(m)?t.check({tokenize:tI},e,n)(m):n(m)}}function tI(t,e,n){return rt(t,i,"whitespace");function i(s){return s===null?n(s):e(s)}}function nI(t){return cw([ND(),PD(),$D(t),XD(),WD()])}const rI={};function Zl(t){const e=this,n=t||rI,i=e.data(),s=i.micromarkExtensions||(i.micromarkExtensions=[]),o=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),u=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);s.push(nI(n)),o.push(ED()),u.push(TD(n))}function iI({notice:t,currentUser:e,isAdmin:n,isCoLeader:i,canManageNotices:s,onDelete:o,onManagePermissions:u,onEdit:h}){const[m,g]=ie.useState(!1),[x,b]=ie.useState(t.content),_=s,w=s,N=s,V=F=>F?(F.toDate?F.toDate():new Date(F)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",P=()=>t.createdByRoll==="2405225"?"admin":"co-leader",L=()=>{b(t.content),g(!0)},q=()=>{g(!1),b(t.content)},B=async()=>{if(!x.trim()){alert("Please enter content for the notice");return}await h(t.id,{content:x.trim()})&&g(!1)},J=P();return m?d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Notice"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:B,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[d.jsx(Ss,{className:"w-4 h-4"}),"Save"]}),d.jsxs("button",{onClick:q,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[d.jsx(lr,{className:"w-4 h-4"}),"Cancel"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notice Content (Markdown supported)"}),d.jsx("textarea",{value:x,onChange:F=>b(F.target.value),rows:6,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:`Enter your notice content here. You can use Markdown formatting:\r
\r
**Bold text**\r
*Italic text*\r
[Link text](https://example.com)\r
- List item\r
> Quote\r
\`code\``})]}),d.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:d.jsxs("p",{className:"text-sm text-blue-700",children:[d.jsx("strong",{children:"Tip:"})," Use Markdown formatting for rich text. Links will automatically open in new tabs."]})})]}):d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-2xl flex items-center justify-center",children:d.jsx(Eu,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-900",children:"Notice"}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(ai,{className:"w-3 h-3"}),d.jsxs("span",{children:["By ",t.createdBy]}),J==="admin"&&d.jsx(ei,{className:"w-3 h-3 text-yellow-500",title:"Admin"}),J==="co-leader"&&t.createdByRoll!=="2405225"&&d.jsx(Su,{className:"w-3 h-3 text-purple-500",title:"Co-Leader"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-gray-100",children:t.isPublic?d.jsxs(d.Fragment,{children:[d.jsx(a0,{className:"w-3 h-3 text-green-600"}),d.jsx("span",{className:"text-green-700",children:"Public"})]}):d.jsxs(d.Fragment,{children:[d.jsx(xn,{className:"w-3 h-3 text-blue-600"}),d.jsxs("span",{className:"text-blue-700",children:[t.allowedUsers?.length||0," users"]})]})}),d.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d.jsx(qu,{className:"w-3 h-3"}),d.jsx("span",{children:V(t.createdAt)})]}),w&&d.jsx("button",{onClick:L,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Notice",children:d.jsx(Ul,{className:"w-4 h-4"})}),N&&d.jsx("button",{onClick:u,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:d.jsx(Bl,{className:"w-4 h-4"})}),_&&d.jsx("button",{onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Notice",children:d.jsx(Li,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"prose prose-sm max-w-none",children:d.jsx(Kl,{remarkPlugins:[Zl],components:{a:({href:F,children:U})=>d.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:U}),p:({children:F})=>d.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:F}),h1:({children:F})=>d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:F}),h2:({children:F})=>d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:F}),h3:({children:F})=>d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:F}),ul:({children:F})=>d.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-3 space-y-1",children:F}),ol:({children:F})=>d.jsx("ol",{className:"list-decimal list-inside text-gray-700 mb-3 space-y-1",children:F}),li:({children:F})=>d.jsx("li",{className:"text-gray-700",children:F}),blockquote:({children:F})=>d.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 text-gray-700 italic mb-3",children:F}),code:({children:F,className:U})=>U?d.jsx("code",{className:"block bg-gray-100 text-gray-800 p-3 rounded text-sm font-mono whitespace-pre-wrap mb-3",children:F}):d.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:F}),strong:({children:F})=>d.jsx("strong",{className:"font-bold text-gray-900",children:F}),em:({children:F})=>d.jsx("em",{className:"italic text-gray-700",children:F})},children:t.content})}),s&&!t.isPublic&&t.allowedUsers?.length>0&&d.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:d.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[d.jsx(zi,{className:"w-4 h-4"}),d.jsxs("span",{children:["Visible to: ",t.allowedUsers.length," selected students"]})]})})]})}function aI({notice:t,currentUser:e,students:n,isAdmin:i,isCoLeader:s,canManageNotices:o,onDelete:u,onManagePermissions:h,onToggleItem:m,onEdit:g}){const[x,b]=ie.useState(!1),[_,w]=ie.useState(t.content),[N,V]=ie.useState(t.meta.items||[]),[P,L]=ie.useState(t.meta.isAnonymous||!1),[q,B]=ie.useState(null),J=o,F=o,U=o,D=t.meta.isAnonymous||!1,C=j=>j?(j.toDate?j.toDate():new Date(j)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",M=j=>{const Y=n.find(xe=>xe.rollNo===j);return Y?Y.name:j},k=j=>{if(D)return[];const Y=t.meta.items[j];return!Y.completedBy||Y.completedBy.length===0?[]:Y.completedBy.map(xe=>M(xe))},I=j=>{const Y=t.meta.items[j];return D?Y.anonymousCompletions||0:Y.completedBy?.length||0},z=j=>{if(D)return((t.meta.userCompletions||{})[e]||[]).includes(j);{const Y=t.meta.items[j];return Y.completedBy&&Y.completedBy.includes(e)}},A=()=>{const j=t.meta.items?.length||0;let Y=0;for(let xe=0;xe<j;xe++)z(xe)&&Y++;return{totalItems:j,completedItems:Y}},ae=j=>{D||B(q===j?null:j)},pe=()=>{w(t.content),V([...t.meta.items]),L(t.meta.isAnonymous||!1),b(!0)},X=()=>{b(!1),w(t.content),V([...t.meta.items]),L(t.meta.isAnonymous||!1)},ce=async()=>{if(!_.trim()){alert("Please enter content for the checklist");return}if(N.length===0||N.every(Y=>!Y.text.trim())){alert("Please add at least one checklist item");return}await g(t.id,{content:_.trim(),meta:{...t.meta,items:N.filter(Y=>Y.text.trim()),isAnonymous:P}})&&b(!1)},_e=()=>{V([...N,{text:"",completedBy:[],anonymousCompletions:0}])},ke=(j,Y)=>{const xe=[...N];xe[j]={...xe[j],text:Y},V(xe)},S=j=>{if(N.length<=1){alert("Checklist must have at least 1 item");return}V(N.filter((Y,xe)=>xe!==j))},{totalItems:se,completedItems:ge}=A();return x?d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Checklist"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:ce,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[d.jsx(Ss,{className:"w-4 h-4"}),"Save"]}),d.jsxs("button",{onClick:X,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[d.jsx(lr,{className:"w-4 h-4"}),"Cancel"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Description (Markdown supported)"}),d.jsx("textarea",{value:_,onChange:j=>w(j.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 font-mono text-sm",placeholder:"Enter checklist description. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),d.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous completion:"}),d.jsxs("button",{type:"button",onClick:()=>L(!P),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${P?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[P?d.jsx(vs,{className:"w-4 h-4"}):d.jsx(Dl,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs font-medium",children:P?"Anonymous":"Show names"})]})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Checklist Items"}),N.map((j,Y)=>d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:j.text,onChange:xe=>ke(Y,xe.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:`Item ${Y+1}`}),N.length>1&&d.jsx("button",{onClick:()=>S(Y),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:d.jsx(lr,{className:"w-4 h-4"})})]},Y)),d.jsxs("button",{onClick:_e,className:"flex items-center gap-2 px-4 py-2 text-green-600 hover:bg-green-100 rounded-xl transition-colors",children:[d.jsx(Vi,{className:"w-4 h-4"}),"Add Item"]})]})]}):d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-2xl flex items-center justify-center",children:d.jsx(l0,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-bold text-gray-900",children:"Checklist"}),D&&d.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:"Anonymous"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(ai,{className:"w-3 h-3"}),d.jsxs("span",{children:["By ",t.createdBy]}),d.jsx("span",{children:""}),d.jsxs("span",{children:[ge,"/",se," completed"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d.jsx(qu,{className:"w-3 h-3"}),d.jsx("span",{children:C(t.createdAt)})]}),F&&d.jsx("button",{onClick:pe,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Checklist",children:d.jsx(Ul,{className:"w-4 h-4"})}),U&&d.jsx("button",{onClick:h,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:d.jsx(Bl,{className:"w-4 h-4"})}),J&&d.jsx("button",{onClick:()=>u(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Checklist",children:d.jsx(Li,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:d.jsx(Kl,{remarkPlugins:[Zl],components:{a:({href:j,children:Y})=>d.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:Y}),p:({children:j})=>d.jsx("p",{className:"text-gray-700 leading-relaxed",children:j}),strong:({children:j})=>d.jsx("strong",{className:"font-bold text-gray-900",children:j}),em:({children:j})=>d.jsx("em",{className:"italic",children:j}),ul:({children:j})=>d.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:j}),ol:({children:j})=>d.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:j}),code:({children:j,className:Y})=>Y?d.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:j}):d.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:j})},children:t.content})}),d.jsx("div",{className:"space-y-3",children:t.meta.items?.map((j,Y)=>{const xe=z(Y),ne=k(Y),be=I(Y);return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:`
                  flex items-center justify-between p-3 rounded-xl border-2 transition-all cursor-pointer
                  ${xe?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 hover:border-green-300"}
                `,onClick:()=>m(Y),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`
                    w-6 h-6 rounded-lg border-2 flex items-center justify-center
                    ${xe?"bg-green-500 border-green-500 text-white":"border-gray-300"}
                  `,children:xe&&d.jsx(Yv,{className:"w-4 h-4"})}),d.jsx("span",{className:`${xe?"text-green-700 font-medium":"text-gray-700"}`,children:j.text})]}),be>0&&d.jsxs("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full",children:[be," completed"]})]}),!D&&ne.length>0&&d.jsxs("div",{className:"ml-9",children:[d.jsxs("button",{onClick:()=>ae(Y),className:"flex items-center gap-1 text-sm text-green-600 hover:text-green-800 transition-colors",children:[d.jsx(zi,{className:"w-4 h-4"}),d.jsxs("span",{children:[ne.length," completed by"]}),q===Y?d.jsx(Xv,{className:"w-4 h-4"}):d.jsx(Qv,{className:"w-4 h-4"})]}),q===Y&&d.jsx("div",{className:"mt-2 p-3 bg-green-50 rounded-lg border border-green-200",children:d.jsx("div",{className:"flex flex-wrap gap-2",children:ne.map((Te,pt)=>d.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:Te},pt))})})]}),D&&be>0&&d.jsx("div",{className:"ml-9",children:d.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[d.jsx(vs,{className:"w-4 h-4"}),d.jsxs("span",{children:[be," anonymous completion",be>1?"s":""]})]})})]},Y)})})]})}function sI({notice:t,currentUser:e,students:n,isAdmin:i,isCoLeader:s,canManageNotices:o,onDelete:u,onManagePermissions:h,onVote:m,onEdit:g}){const[x,b]=ie.useState([]),[_,w]=ie.useState(!1),[N,V]=ie.useState(t.content),[P,L]=ie.useState(t.meta.options||[]),[q,B]=ie.useState(t.meta.allowMultiple||!1),[J,F]=ie.useState(t.meta.isAnonymous||!1),[U,D]=ie.useState(null),C=o,M=o,k=o,I=t.meta.isAnonymous||!1;ie.useEffect(()=>{if(t?.meta?.options)if(I){const be=(t.meta.userVotes||{})[e]||[];b(be)}else{const ne=[];t.meta.options.forEach((be,Te)=>{be.votes&&be.votes.includes(e)&&ne.push(Te)}),b(ne)}},[t,e,I]);const z=ne=>ne?(ne.toDate?ne.toDate():new Date(ne)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",A=()=>I?t.meta.options?.reduce((ne,be)=>ne+(be.anonymousVotes||0),0)||0:t.meta.options?.reduce((ne,be)=>ne+(be.votes?.length||0),0)||0,ae=ne=>{const be=t.meta.options[ne];return I?be.anonymousVotes||0:be.votes?.length||0},pe=ne=>{const be=n.find(Te=>Te.rollNo===ne);return be?be.name:ne},X=ne=>{if(I)return[];const be=t.meta.options[ne];return!be.votes||be.votes.length===0?[]:be.votes.map(Te=>pe(Te))},ce=ne=>{let be;t.meta.allowMultiple?x.includes(ne)?be=x.filter(Te=>Te!==ne):be=[...x,ne]:be=x.includes(ne)?[]:[ne],b(be),m(be,e)},_e=ne=>{I||D(U===ne?null:ne)},ke=()=>{V(t.content),L([...t.meta.options]),B(t.meta.allowMultiple||!1),F(t.meta.isAnonymous||!1),w(!0)},S=()=>{w(!1),V(t.content),L([...t.meta.options]),B(t.meta.allowMultiple||!1),F(t.meta.isAnonymous||!1)},se=async()=>{if(!N.trim()){alert("Please enter a question");return}if(P.length<2||P.some(be=>!be.text.trim())){alert("Please add at least 2 options with text");return}await g(t.id,{content:N.trim(),meta:{...t.meta,options:P,allowMultiple:q,isAnonymous:J}})&&w(!1)},ge=()=>{L([...P,{text:"",votes:[],anonymousVotes:0}])},j=(ne,be)=>{const Te=[...P];Te[ne]={...Te[ne],text:be},L(Te)},Y=ne=>{if(P.length<=2){alert("Poll must have at least 2 options");return}L(P.filter((be,Te)=>Te!==ne))},xe=A();return _?d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Poll"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:se,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[d.jsx(Ss,{className:"w-4 h-4"}),"Save"]}),d.jsxs("button",{onClick:S,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[d.jsx(lr,{className:"w-4 h-4"}),"Cancel"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Poll Question (Markdown supported)"}),d.jsx("textarea",{value:N,onChange:ne=>V(ne.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter your poll question. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Multiple selections:"}),d.jsxs("button",{type:"button",onClick:()=>B(!q),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${q?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[q?d.jsx(Jv,{className:"w-4 h-4"}):d.jsx(Zv,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs font-medium",children:q?"Enabled":"Disabled"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Anonymous voting:"}),d.jsxs("button",{type:"button",onClick:()=>F(!J),className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${J?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[J?d.jsx(vs,{className:"w-4 h-4"}):d.jsx(Dl,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs font-medium",children:J?"Anonymous":"Show names"})]})]})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[P.map((ne,be)=>d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:ne.text,onChange:Te=>j(be,Te.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Option ${be+1}`}),P.length>2&&d.jsx("button",{onClick:()=>Y(be),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:d.jsx(lr,{className:"w-4 h-4"})})]},be)),d.jsxs("button",{onClick:ge,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[d.jsx(Vi,{className:"w-4 h-4"}),"Add Option"]})]})]}):d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-2xl flex items-center justify-center",children:d.jsx(i0,{className:"w-5 h-5 text-purple-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-bold text-gray-900",children:"Poll"}),t.meta.allowMultiple&&d.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:"Multi-select"}),I&&d.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",children:"Anonymous"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(ai,{className:"w-3 h-3"}),d.jsxs("span",{children:["By ",t.createdBy]}),d.jsx("span",{children:""}),d.jsxs("span",{children:[xe," votes"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d.jsx(qu,{className:"w-3 h-3"}),d.jsx("span",{children:z(t.createdAt)})]}),M&&d.jsx("button",{onClick:ke,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Poll",children:d.jsx(Ul,{className:"w-4 h-4"})}),k&&d.jsx("button",{onClick:h,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:d.jsx(Bl,{className:"w-4 h-4"})}),C&&d.jsx("button",{onClick:()=>u(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Poll",children:d.jsx(Li,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:d.jsx(Kl,{remarkPlugins:[Zl],components:{a:({href:ne,children:be})=>d.jsx("a",{href:ne,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:be}),p:({children:ne})=>d.jsx("p",{className:"text-gray-700 leading-relaxed font-medium",children:ne}),strong:({children:ne})=>d.jsx("strong",{className:"font-bold text-gray-900",children:ne}),em:({children:ne})=>d.jsx("em",{className:"italic",children:ne}),code:({children:ne,className:be})=>be?d.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:ne}):d.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:ne})},children:t.content})}),d.jsx("div",{className:"space-y-3",children:t.meta.options?.map((ne,be)=>{const Te=ae(be),pt=xe>0?Te/xe*100:0,Nt=x.includes(be),Dt=X(be);return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>ce(be),className:`
                  w-full p-3 rounded-xl border-2 transition-all text-left
                  ${Nt?"bg-purple-50 border-purple-300":"bg-gray-50 border-gray-200 hover:border-purple-300"}
                `,children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:`font-medium ${Nt?"text-purple-700":"text-gray-700"}`,children:ne.text}),d.jsxs("span",{className:"text-sm text-gray-600",children:[Te," (",pt.toFixed(1),"%)"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${Nt?"bg-purple-500":"bg-gray-400"}`,style:{width:`${pt}%`}})})]}),!I&&Dt.length>0&&d.jsxs("div",{className:"ml-4",children:[d.jsxs("button",{onClick:()=>_e(be),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-800 transition-colors",children:[d.jsx(zi,{className:"w-4 h-4"}),d.jsxs("span",{children:[Dt.length," voter",Dt.length>1?"s":""]}),U===be?d.jsx(Xv,{className:"w-4 h-4"}):d.jsx(Qv,{className:"w-4 h-4"})]}),U===be&&d.jsx("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:d.jsx("div",{className:"flex flex-wrap gap-2",children:Dt.map((Rn,en)=>d.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:Rn},en))})})]}),I&&Te>0&&d.jsx("div",{className:"ml-4",children:d.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[d.jsx(vs,{className:"w-4 h-4"}),d.jsxs("span",{children:[Te," anonymous vote",Te>1?"s":""]})]})})]},be)})}),x.length>0&&d.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:d.jsx("div",{className:"text-sm text-purple-700 text-center",children:t.meta.allowMultiple?d.jsxs(d.Fragment,{children:["You voted for: ",d.jsxs("strong",{children:[x.length," option",x.length>1?"s":""]})]}):d.jsxs(d.Fragment,{children:["You voted for: ",d.jsx("strong",{children:t.meta.options[x[0]]?.text})]})})})]})}function lI({notice:t,currentUser:e,isAdmin:n,isCoLeader:i,canManageNotices:s,onDelete:o,onManagePermissions:u,onEdit:h}){const[m,g]=ie.useState(!1),[x,b]=ie.useState(t.content),[_,w]=ie.useState(t.meta.reminderDate),N=s,V=s,P=s,L=D=>D?(D.toDate?D.toDate():new Date(D)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",q=D=>D?new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",B=()=>t.meta.reminderDate?new Date(t.meta.reminderDate)<new Date:!1,J=()=>{b(t.content),w(t.meta.reminderDate),g(!0)},F=()=>{g(!1),b(t.content),w(t.meta.reminderDate)},U=async()=>{if(!x.trim()){alert("Please enter content for the reminder");return}if(!_){alert("Please set a reminder date");return}await h(t.id,{content:x.trim(),meta:{...t.meta,reminderDate:_}})&&g(!1)};return m?d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Reminder"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:U,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[d.jsx(Ss,{className:"w-4 h-4"}),"Save"]}),d.jsxs("button",{onClick:F,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[d.jsx(lr,{className:"w-4 h-4"}),"Cancel"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Content (Markdown supported)"}),d.jsx("textarea",{value:x,onChange:D=>b(D.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 font-mono text-sm",placeholder:"Enter reminder content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Date & Time"}),d.jsx("input",{type:"datetime-local",value:_,onChange:D=>w(D.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",min:new Date().toISOString().slice(0,16)})]})]}):d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${B()?"bg-red-100":"bg-orange-100"}`,children:d.jsx(Hf,{className:`w-5 h-5 ${B()?"text-red-600":"text-orange-600"}`})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-bold text-gray-900",children:"Reminder"}),B()&&d.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Past Due"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(ai,{className:"w-3 h-3"}),d.jsxs("span",{children:["By ",t.createdBy]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d.jsx(qu,{className:"w-3 h-3"}),d.jsx("span",{children:L(t.createdAt)})]}),V&&d.jsx("button",{onClick:J,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Reminder",children:d.jsx(Ul,{className:"w-4 h-4"})}),P&&d.jsx("button",{onClick:u,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:d.jsx(Bl,{className:"w-4 h-4"})}),N&&d.jsx("button",{onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Reminder",children:d.jsx(Li,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:d.jsx(Kl,{remarkPlugins:[Zl],components:{a:({href:D,children:C})=>d.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:C}),p:({children:D})=>d.jsx("p",{className:"text-gray-700 leading-relaxed",children:D}),strong:({children:D})=>d.jsx("strong",{className:"font-bold text-gray-900",children:D}),em:({children:D})=>d.jsx("em",{className:"italic",children:D}),ul:({children:D})=>d.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:D}),ol:({children:D})=>d.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:D}),code:({children:D,className:C})=>C?d.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:D}):d.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:D})},children:t.content})}),d.jsx("div",{className:`p-4 rounded-xl border-2 ${B()?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Hf,{className:`w-4 h-4 ${B()?"text-red-600":"text-orange-600"}`}),d.jsx("span",{className:`text-sm font-medium ${B()?"text-red-700":"text-orange-700"}`,children:B()?"Was due:":"Reminder set for:"}),d.jsx("span",{className:`text-sm font-bold ${B()?"text-red-800":"text-orange-800"}`,children:q(t.meta.reminderDate)})]})})]})}function oI({notice:t,currentUser:e,students:n,isAdmin:i,isCoLeader:s,canManageNotices:o,onDelete:u,onManagePermissions:h,onToggle:m,onEdit:g}){const[x,b]=ie.useState(!1),[_,w]=ie.useState(t.content),[N,V]=ie.useState(t.meta.dueDate),P=o,L=o,q=o,B=A=>A?(A.toDate?A.toDate():new Date(A)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",J=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",F=A=>{const ae=n.find(pe=>pe.rollNo===A);return ae?ae.name:A},U=t.meta.completedBy&&t.meta.completedBy.includes(e),D=t.meta.completedBy?.length||0,C=t.meta.completedBy?.map(A=>F(A))||[],M=()=>t.meta.dueDate?new Date(t.meta.dueDate)<new Date:!1,k=()=>{w(t.content),V(t.meta.dueDate),b(!0)},I=()=>{b(!1),w(t.content),V(t.meta.dueDate)},z=async()=>{if(!_.trim()){alert("Please enter content for the todo");return}if(!N){alert("Please set a due date");return}await g(t.id,{content:_.trim(),meta:{...t.meta,dueDate:N}})&&b(!1)};return x?d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Todo"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:z,className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[d.jsx(Ss,{className:"w-4 h-4"}),"Save"]}),d.jsxs("button",{onClick:I,className:"flex items-center gap-1 px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[d.jsx(lr,{className:"w-4 h-4"}),"Cancel"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Todo Content (Markdown supported)"}),d.jsx("textarea",{value:_,onChange:A=>w(A.target.value),rows:4,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Enter todo content. You can use Markdown formatting like **bold**, [links](https://example.com), etc."})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date & Time"}),d.jsx("input",{type:"datetime-local",value:N,onChange:A=>V(A.target.value),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",min:new Date().toISOString().slice(0,16)})]})]}):d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${U?"bg-green-100":M()?"bg-red-100":"bg-indigo-100"}`,children:d.jsx(_u,{className:`w-5 h-5 ${U?"text-green-600":M()?"text-red-600":"text-indigo-600"}`})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-bold text-gray-900",children:"Todo"}),U&&d.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Completed"}),!U&&M()&&d.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Past Due"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(ai,{className:"w-3 h-3"}),d.jsxs("span",{children:["By ",t.createdBy]}),d.jsx("span",{children:""}),d.jsxs("span",{children:[D," completed"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d.jsx(qu,{className:"w-3 h-3"}),d.jsx("span",{children:B(t.createdAt)})]}),L&&d.jsx("button",{onClick:k,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Todo",children:d.jsx(Ul,{className:"w-4 h-4"})}),q&&d.jsx("button",{onClick:h,className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg transition-colors",title:"Manage Permissions",children:d.jsx(Bl,{className:"w-4 h-4"})}),P&&d.jsx("button",{onClick:()=>u(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Todo",children:d.jsx(Li,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"mb-4 prose prose-sm max-w-none",children:d.jsx(Kl,{remarkPlugins:[Zl],components:{a:({href:A,children:ae})=>d.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:ae}),p:({children:A})=>d.jsx("p",{className:"text-gray-700 leading-relaxed",children:A}),strong:({children:A})=>d.jsx("strong",{className:"font-bold text-gray-900",children:A}),em:({children:A})=>d.jsx("em",{className:"italic",children:A}),ul:({children:A})=>d.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:A}),ol:({children:A})=>d.jsx("ol",{className:"list-decimal list-inside text-gray-700 space-y-1",children:A}),code:({children:A,className:ae})=>ae?d.jsx("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-sm font-mono whitespace-pre-wrap",children:A}):d.jsx("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:A})},children:t.content})}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:m,className:`
            w-full flex items-center justify-center gap-3 p-3 rounded-xl border-2 transition-all
            ${U?"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 hover:border-indigo-300 text-gray-700"}
          `,children:[d.jsx("div",{className:`
            w-6 h-6 rounded-lg border-2 flex items-center justify-center
            ${U?"bg-green-500 border-green-500 text-white":"border-gray-300"}
          `,children:U&&d.jsx(Yv,{className:"w-4 h-4"})}),d.jsx("span",{className:"font-medium",children:U?"Mark as Incomplete":"Mark as Complete"})]}),d.jsx("div",{className:`p-3 rounded-xl border-2 ${M()&&!U?"bg-red-50 border-red-200":U?"bg-green-50 border-green-200":"bg-indigo-50 border-indigo-200"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(_u,{className:`w-4 h-4 ${M()&&!U?"text-red-600":U?"text-green-600":"text-indigo-600"}`}),d.jsx("span",{className:`text-sm font-medium ${M()&&!U?"text-red-700":U?"text-green-700":"text-indigo-700"}`,children:M()&&!U?"Was due:":"Due:"}),d.jsx("span",{className:`text-sm font-bold ${M()&&!U?"text-red-800":U?"text-green-800":"text-indigo-800"}`,children:J(t.meta.dueDate)})]})}),C.length>0&&d.jsxs("div",{className:"p-3 bg-green-50 rounded-xl border border-green-200",children:[d.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"Completed by:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((A,ae)=>d.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:A},ae))})]})]})]})}function uI({onSubmit:t,onCancel:e,isLoading:n,students:i}){const[s,o]=ie.useState("notice"),[u,h]=ie.useState(""),[m,g]=ie.useState({}),[x,b]=ie.useState(!0),[_,w]=ie.useState([]),N=[{id:"notice",label:"Simple Notice",icon:Eu,description:"Basic announcement or information"},{id:"checklist",label:"Checklist",icon:l0,description:"List of items to be checked off"},{id:"poll",label:"Poll",icon:i0,description:"Survey with voting options"},{id:"reminder",label:"Reminder",icon:Hf,description:"Time-based reminder notification"},{id:"todo",label:"Todo",icon:_u,description:"Task with due date and completion tracking"}],V=i.filter(A=>A.rollNo!==Ye.rollNo),P=A=>{switch(o(A),g({}),A){case"checklist":g({items:[{text:""}],isAnonymous:!1});break;case"poll":g({options:[{text:""},{text:""}],allowMultiple:!1,isAnonymous:!1});break;case"reminder":g({reminderDate:""});break;case"todo":g({dueDate:"",completedBy:[]});break;default:g({})}},L=A=>{_.includes(A)?w(_.filter(ae=>ae!==A)):w([..._,A])},q=()=>{_.length===V.length?w([]):w(V.map(A=>A.rollNo))},B=A=>{if(A.preventDefault(),!u.trim()){alert("Please enter content for the notice");return}if(!x&&_.length===0){alert("Please select users or make the notice public");return}if(s==="checklist"&&(!m.items||m.items.length===0||m.items.every(ae=>!ae.text.trim()))){alert("Please add at least one checklist item");return}if(s==="poll"&&(!m.options||m.options.length<2||m.options.some(ae=>!ae.text.trim()))){alert("Please add at least 2 poll options with text");return}if(s==="reminder"&&!m.reminderDate){alert("Please set a reminder date");return}if(s==="todo"&&!m.dueDate){alert("Please set a due date for the todo");return}t({type:s,content:u.trim(),meta:m,allowedUsers:x?[]:_,isPublic:x})},J=()=>{g({...m,items:[...m.items||[],{text:""}]})},F=(A,ae)=>{const pe=[...m.items];pe[A]={text:ae,completedBy:[]},g({...m,items:pe})},U=A=>{const ae=m.items.filter((pe,X)=>X!==A);g({...m,items:ae})},D=()=>{g({...m,options:[...m.options||[],{text:"",votes:[]}]})},C=(A,ae)=>{const pe=[...m.options];pe[A]={text:ae,votes:[]},g({...m,options:pe})},M=A=>{if(m.options.length<=2){alert("Poll must have at least 2 options");return}const ae=m.options.filter((pe,X)=>X!==A);g({...m,options:ae})},k=()=>{g({...m,allowMultiple:!m.allowMultiple})},I=()=>{g({...m,isAnonymous:!m.isAnonymous})},z=()=>{g({...m,isAnonymous:!m.isAnonymous})};return d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 border border-gray-100 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Notice"}),d.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(lr,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:B,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Notice Type"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:N.map(A=>d.jsxs("button",{type:"button",onClick:()=>P(A.id),className:`
                  p-4 rounded-xl border-2 transition-all text-left
                  ${s===A.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}
                `,children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(A.icon,{className:`w-5 h-5 ${s===A.id?"text-blue-600":"text-gray-600"}`}),d.jsx("span",{className:"font-medium text-gray-900",children:A.label})]}),d.jsx("p",{className:"text-xs text-gray-600",children:A.description})]},A.id))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:s==="poll"?"Poll Question":"Content"}),d.jsx("textarea",{value:u,onChange:A=>h(A.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s==="poll"?"What question would you like to ask?":s==="reminder"?"What should people be reminded about?":s==="todo"?"What task needs to be completed?":"Enter your notice content...",required:!0})]}),s==="checklist"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Checklist Items"}),d.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-xl",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous completion:"}),d.jsxs("button",{type:"button",onClick:z,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${m.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[m.isAnonymous?d.jsx(vs,{className:"w-4 h-4"}):d.jsx(Dl,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs font-medium",children:m.isAnonymous?"Anonymous":"Show names"})]})]}),d.jsxs("div",{className:"space-y-2",children:[m.items?.map((A,ae)=>d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:A.text,onChange:pe=>F(ae,pe.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Item ${ae+1}`}),m.items.length>1&&d.jsx("button",{type:"button",onClick:()=>U(ae),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:d.jsx(Li,{className:"w-4 h-4"})})]},ae)),d.jsxs("button",{type:"button",onClick:J,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[d.jsx(Vi,{className:"w-4 h-4"}),"Add Item"]})]})]}),s==="poll"&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Poll Options"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Multiple selections:"}),d.jsxs("button",{type:"button",onClick:k,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${m.allowMultiple?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[m.allowMultiple?d.jsx(Jv,{className:"w-4 h-4"}):d.jsx(Zv,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs font-medium",children:m.allowMultiple?"Multi-select":"Single choice"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Anonymous voting:"}),d.jsxs("button",{type:"button",onClick:I,className:`flex items-center gap-1 px-3 py-1 rounded-full transition-all ${m.isAnonymous?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:[m.isAnonymous?d.jsx(vs,{className:"w-4 h-4"}):d.jsx(Dl,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs font-medium",children:m.isAnonymous?"Anonymous":"Show names"})]})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[m.options?.map((A,ae)=>d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:A.text,onChange:pe=>C(ae,pe.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Option ${ae+1}`}),m.options.length>2&&d.jsx("button",{type:"button",onClick:()=>M(ae),className:"p-3 text-red-500 hover:bg-red-100 rounded-xl transition-colors",children:d.jsx(Li,{className:"w-4 h-4"})})]},ae)),d.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",children:[d.jsx(Vi,{className:"w-4 h-4"}),"Add Option"]})]})]}),s==="reminder"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reminder Date & Time"}),d.jsx("input",{type:"datetime-local",value:m.reminderDate,onChange:A=>g({...m,reminderDate:A.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().slice(0,16)})]}),s==="todo"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Due Date & Time"}),d.jsx("input",{type:"datetime-local",value:m.dueDate,onChange:A=>g({...m,dueDate:A.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().slice(0,16)})]}),d.jsxs("div",{className:"border-t pt-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Who can see this notice?"}),d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"visibility",checked:x,onChange:()=>b(!0),className:"w-4 h-4 text-blue-600"}),d.jsx(a0,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{className:"text-sm font-medium",children:"Public (Everyone can see)"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"visibility",checked:!x,onChange:()=>b(!1),className:"w-4 h-4 text-blue-600"}),d.jsx(xn,{className:"w-4 h-4 text-blue-600"}),d.jsx("span",{className:"text-sm font-medium",children:"Private (Selected users only)"})]})]})}),!x&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select Students:"}),d.jsx("button",{type:"button",onClick:q,className:"text-sm text-blue-600 hover:text-blue-700",children:_.length===V.length?"Deselect All":"Select All"})]}),d.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:V.map(A=>d.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:_.includes(A.rollNo),onChange:()=>L(A.rollNo),className:"w-4 h-4 text-blue-600"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(zi,{className:"w-4 h-4 text-gray-400"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:A.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",A.rollNo,")"]})]})]},A.rollNo))}),_.length>0&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[_.length," student",_.length>1?"s":""," selected"]})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"submit",disabled:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n?d.jsxs(d.Fragment,{children:[d.jsx(ir,{className:"w-4 h-4 animate-spin"}),d.jsx("span",{children:"Creating..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Vi,{className:"w-4 h-4"}),d.jsx("span",{children:"Create Notice"})]})}),d.jsx("button",{type:"button",onClick:e,disabled:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function cI({notice:t,students:e,onUpdate:n,onCancel:i}){const[s,o]=ie.useState(t.isPublic||!1),[u,h]=ie.useState(t.allowedUsers||[]),[m,g]=ie.useState(!1),x=e.filter(N=>N.rollNo!==Ye.rollNo);ie.useEffect(()=>{o(t.isPublic||!1),h(t.allowedUsers||[])},[t]);const b=N=>{u.includes(N)?h(u.filter(V=>V!==N)):h([...u,N])},_=()=>{u.length===x.length?h([]):h(x.map(N=>N.rollNo))},w=async N=>{if(N.preventDefault(),!s&&u.length===0){alert("Please select users or make the notice public");return}g(!0);try{await n(s?[]:u,s)}finally{g(!1)}};return d.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Permissions"}),d.jsx("button",{onClick:i,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(lr,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[d.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["Notice: ",t.type]}),d.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.content})]}),d.jsxs("form",{onSubmit:w,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Visibility Settings"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"visibility",checked:s,onChange:()=>o(!0),className:"w-4 h-4 text-blue-600"}),d.jsx(a0,{className:"w-4 h-4 text-green-600"}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Public"}),d.jsx("p",{className:"text-xs text-gray-600",children:"Everyone can see this notice"})]})]}),d.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"visibility",checked:!s,onChange:()=>o(!1),className:"w-4 h-4 text-blue-600"}),d.jsx(xn,{className:"w-4 h-4 text-blue-600"}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Private"}),d.jsx("p",{className:"text-xs text-gray-600",children:"Only selected users can see"})]})]})]})]}),!s&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Select Students:"}),d.jsx("button",{type:"button",onClick:_,className:"text-sm text-blue-600 hover:text-blue-700",children:u.length===x.length?"Deselect All":"Select All"})]}),d.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 space-y-2",children:x.map(N=>d.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:u.includes(N.rollNo),onChange:()=>b(N.rollNo),className:"w-4 h-4 text-blue-600"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(zi,{className:"w-4 h-4 text-gray-400"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:N.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",N.rollNo,")"]})]})]},N.rollNo))}),u.length>0&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[u.length," student",u.length>1?"s":""," selected"]})]}),d.jsx("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-200",children:d.jsxs("p",{className:"text-sm text-blue-700",children:[d.jsx("strong",{children:"Current:"})," ",t.isPublic?"Public":`Private (${t.allowedUsers?.length||0} users)`]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"submit",disabled:m,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 font-medium",children:m?d.jsxs(d.Fragment,{children:[d.jsx(ir,{className:"w-4 h-4 animate-spin"}),d.jsx("span",{children:"Saving..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ss,{className:"w-4 h-4"}),d.jsx("span",{children:"Update"})]})}),d.jsx("button",{type:"button",onClick:i,disabled:m,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}function eE({open:t,title:e,message:n,confirmText:i="Confirm",cancelText:s="Cancel",confirmColor:o="red",onConfirm:u,onCancel:h,icon:m="warning"}){if(!t)return null;const g=()=>{switch(m){case"warning":return d.jsx(qm,{className:"w-12 h-12 text-orange-500"});case"success":return d.jsx(wu,{className:"w-12 h-12 text-green-500"});case"danger":return d.jsx(qm,{className:"w-12 h-12 text-red-500"});default:return d.jsx(qm,{className:"w-12 h-12 text-orange-500"})}},x=()=>{switch(o){case"red":return"bg-red-600 hover:bg-red-700 text-white";case"green":return"bg-green-600 hover:bg-green-700 text-white";case"blue":return"bg-blue-600 hover:bg-blue-700 text-white";case"orange":return"bg-orange-600 hover:bg-orange-700 text-white";default:return"bg-red-600 hover:bg-red-700 text-white"}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out scale-100",children:[d.jsxs("div",{className:"relative p-6 pb-4",children:[d.jsx("button",{onClick:h,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(lr,{className:"w-4 h-4"})}),d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsx("div",{className:"p-3 rounded-full bg-gray-50",children:g()})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:e}),d.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:n})]}),d.jsx("div",{className:"px-6 pb-6",children:d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:h,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:s}),d.jsx("button",{onClick:u,className:`flex-1 px-4 py-3 rounded-xl transition-colors font-medium ${x()}`,children:i})]})})]})})}function tE(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=tE(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function bs(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=tE(t))&&(i&&(i+=" "),i+=e);return i}function fI(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}fI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var nc=t=>typeof t=="number"&&!isNaN(t),Ts=t=>typeof t=="string",Fi=t=>typeof t=="function",hI=t=>Ts(t)||nc(t),Wp=t=>Ts(t)||Fi(t)?t:null,dI=(t,e)=>t===!1||nc(t)&&t>0?t:e,e0=t=>ie.isValidElement(t)||Ts(t)||Fi(t)||nc(t);function mI(t,e,n=300){let{scrollHeight:i,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function pI({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:o,position:u,preventExitTransition:h,done:m,nodeRef:g,isIn:x,playToast:b}){let _=n?`${t}--${u}`:t,w=n?`${e}--${u}`:e,N=ie.useRef(0);return ie.useLayoutEffect(()=>{let V=g.current,P=_.split(" "),L=q=>{q.target===g.current&&(b(),V.removeEventListener("animationend",L),V.removeEventListener("animationcancel",L),N.current===0&&q.type!=="animationcancel"&&V.classList.remove(...P))};V.classList.add(...P),V.addEventListener("animationend",L),V.addEventListener("animationcancel",L)},[]),ie.useEffect(()=>{let V=g.current,P=()=>{V.removeEventListener("animationend",P),i?mI(V,m,s):m()};x||(h?P():(N.current=1,V.className+=` ${w}`,V.addEventListener("animationend",P)))},[x]),mt.createElement(mt.Fragment,null,o)}}function Hv(t,e){return{content:nE(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function nE(t,e,n=!1){return ie.isValidElement(t)&&!Ts(t.type)?ie.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Fi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function gI({closeToast:t,theme:e,ariaLabel:n="close"}){return mt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},mt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},mt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function yI({delay:t,isRunning:e,closeToast:n,type:i="default",hide:s,className:o,controlledProgress:u,progress:h,rtl:m,isIn:g,theme:x}){let b=s||u&&h===0,_={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};u&&(_.transform=`scaleX(${h})`);let w=bs("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":m}),N=Fi(o)?o({rtl:m,type:i,defaultClassName:w}):bs(w,o),V={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{g&&n()}};return mt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},mt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${i}`}),mt.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:N,style:_,...V}))}var xI=1,rE=()=>`${xI++}`;function bI(t,e,n){let i=1,s=0,o=[],u=[],h=e,m=new Map,g=new Set,x=q=>(g.add(q),()=>g.delete(q)),b=()=>{u=Array.from(m.values()),g.forEach(q=>q())},_=({containerId:q,toastId:B,updateId:J})=>{let F=q?q!==t:t!==1,U=m.has(B)&&J==null;return F||U},w=(q,B)=>{m.forEach(J=>{var F;(B==null||B===J.props.toastId)&&((F=J.toggle)==null||F.call(J,q))})},N=q=>{var B,J;(J=(B=q.props)==null?void 0:B.onClose)==null||J.call(B,q.removalReason),q.isActive=!1},V=q=>{if(q==null)m.forEach(N);else{let B=m.get(q);B&&N(B)}b()},P=()=>{s-=o.length,o=[]},L=q=>{var B,J;let{toastId:F,updateId:U}=q.props,D=U==null;q.staleId&&m.delete(q.staleId),q.isActive=!0,m.set(F,q),b(),n(Hv(q,D?"added":"updated")),D&&((J=(B=q.props).onOpen)==null||J.call(B))};return{id:t,props:h,observe:x,toggle:w,removeToast:V,toasts:m,clearQueue:P,buildToast:(q,B)=>{if(_(B))return;let{toastId:J,updateId:F,data:U,staleId:D,delay:C}=B,M=F==null;M&&s++;let k={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(B).filter(([z,A])=>A!=null)),toastId:J,updateId:F,data:U,isIn:!1,className:Wp(B.className||h.toastClassName),progressClassName:Wp(B.progressClassName||h.progressClassName),autoClose:B.isLoading?!1:dI(B.autoClose,h.autoClose),closeToast(z){m.get(J).removalReason=z,V(J)},deleteToast(){let z=m.get(J);if(z!=null){if(n(Hv(z,"removed")),m.delete(J),s--,s<0&&(s=0),o.length>0){L(o.shift());return}b()}}};k.closeButton=h.closeButton,B.closeButton===!1||e0(B.closeButton)?k.closeButton=B.closeButton:B.closeButton===!0&&(k.closeButton=e0(h.closeButton)?h.closeButton:!0);let I={content:q,props:k,staleId:D};h.limit&&h.limit>0&&s>h.limit&&M?o.push(I):nc(C)?setTimeout(()=>{L(I)},C):L(I)},setProps(q){h=q},setToggle:(q,B)=>{let J=m.get(q);J&&(J.toggle=B)},isToastActive:q=>{var B;return(B=m.get(q))==null?void 0:B.isActive},getSnapshot:()=>u}}var Pn=new Map,Bu=[],t0=new Set,vI=t=>t0.forEach(e=>e(t)),iE=()=>Pn.size>0;function _I(){Bu.forEach(t=>sE(t.content,t.options)),Bu=[]}var wI=(t,{containerId:e})=>{var n;return(n=Pn.get(e||1))==null?void 0:n.toasts.get(t)};function aE(t,e){var n;if(e)return!!((n=Pn.get(e))!=null&&n.isToastActive(t));let i=!1;return Pn.forEach(s=>{s.isToastActive(t)&&(i=!0)}),i}function EI(t){if(!iE()){Bu=Bu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||hI(t))Pn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Pn.get(t.containerId);e?e.removeToast(t.id):Pn.forEach(n=>{n.removeToast(t.id)})}}var TI=(t={})=>{Pn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function sE(t,e){e0(t)&&(iE()||Bu.push({content:t,options:e}),Pn.forEach(n=>{n.buildToast(t,e)}))}function SI(t){var e;(e=Pn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function lE(t,e){Pn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function AI(t){let e=t.containerId||1;return{subscribe(n){let i=bI(e,t,vI);Pn.set(e,i);let s=i.observe(n);return _I(),()=>{s(),Pn.delete(e)}},setProps(n){var i;(i=Pn.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=Pn.get(e))==null?void 0:n.getSnapshot()}}}function NI(t){return t0.add(t),()=>{t0.delete(t)}}function CI(t){return t&&(Ts(t.toastId)||nc(t.toastId))?t.toastId:rE()}function rc(t,e){return sE(t,e),e.toastId}function Vh(t,e){return{...e,type:e&&e.type||t,toastId:CI(e)}}function Ph(t){return(e,n)=>rc(e,Vh(t,n))}function Ce(t,e){return rc(t,Vh("default",e))}Ce.loading=(t,e)=>rc(t,Vh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function kI(t,{pending:e,error:n,success:i},s){let o;e&&(o=Ts(e)?Ce.loading(e,s):Ce.loading(e.render,{...s,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(g,x,b)=>{if(x==null){Ce.dismiss(o);return}let _={type:g,...u,...s,data:b},w=Ts(x)?{render:x}:x;return o?Ce.update(o,{..._,...w}):Ce(w.render,{..._,...w}),b},m=Fi(t)?t():t;return m.then(g=>h("success",i,g)).catch(g=>h("error",n,g)),m}Ce.promise=kI;Ce.success=Ph("success");Ce.info=Ph("info");Ce.error=Ph("error");Ce.warning=Ph("warning");Ce.warn=Ce.warning;Ce.dark=(t,e)=>rc(t,Vh("default",{theme:"dark",...e}));function RI(t){EI(t)}Ce.dismiss=RI;Ce.clearWaitingQueue=TI;Ce.isActive=aE;Ce.update=(t,e={})=>{let n=wI(t,e);if(n){let{props:i,content:s}=n,o={delay:100,...i,...e,toastId:e.toastId||t,updateId:rE()};o.toastId!==t&&(o.staleId=t);let u=o.render||s;delete o.render,rc(u,o)}};Ce.done=t=>{Ce.update(t,{progress:1})};Ce.onChange=NI;Ce.play=t=>lE(!0,t);Ce.pause=t=>lE(!1,t);function jI(t){var e;let{subscribe:n,getSnapshot:i,setProps:s}=ie.useRef(AI(t)).current;s(t);let o=(e=ie.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function u(h){if(!o)return[];let m=new Map;return t.newestOnTop&&o.reverse(),o.forEach(g=>{let{position:x}=g.props;m.has(x)||m.set(x,[]),m.get(x).push(g)}),Array.from(m,g=>h(g[0],g[1]))}return{getToastToRender:u,isToastActive:aE,count:o?.length}}function DI(t){let[e,n]=ie.useState(!1),[i,s]=ie.useState(!1),o=ie.useRef(null),u=ie.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:m,closeToast:g,onClick:x,closeOnClick:b}=t;SI({id:t.toastId,containerId:t.containerId,fn:n}),ie.useEffect(()=>{if(t.pauseOnFocusLoss)return _(),()=>{w()}},[t.pauseOnFocusLoss]);function _(){document.hasFocus()||L(),window.addEventListener("focus",P),window.addEventListener("blur",L)}function w(){window.removeEventListener("focus",P),window.removeEventListener("blur",L)}function N(D){if(t.draggable===!0||t.draggable===D.pointerType){q();let C=o.current;u.canCloseOnClick=!0,u.canDrag=!0,C.style.transition="none",t.draggableDirection==="x"?(u.start=D.clientX,u.removalDistance=C.offsetWidth*(t.draggablePercent/100)):(u.start=D.clientY,u.removalDistance=C.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function V(D){let{top:C,bottom:M,left:k,right:I}=o.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&t.pauseOnHover&&D.clientX>=k&&D.clientX<=I&&D.clientY>=C&&D.clientY<=M?L():P()}function P(){n(!0)}function L(){n(!1)}function q(){u.didMove=!1,document.addEventListener("pointermove",J),document.addEventListener("pointerup",F)}function B(){document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",F)}function J(D){let C=o.current;if(u.canDrag&&C){u.didMove=!0,e&&L(),t.draggableDirection==="x"?u.delta=D.clientX-u.start:u.delta=D.clientY-u.start,u.start!==D.clientX&&(u.canCloseOnClick=!1);let M=t.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;C.style.transform=`translate3d(${M},0)`,C.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function F(){B();let D=o.current;if(u.canDrag&&u.didMove&&D){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let U={onPointerDown:N,onPointerUp:V};return h&&m&&(U.onMouseEnter=L,t.stacked||(U.onMouseLeave=P)),b&&(U.onClick=D=>{x&&x(D),u.canCloseOnClick&&g(!0)}),{playToast:P,pauseToast:L,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:U}}var II=typeof window<"u"?ie.useLayoutEffect:ie.useEffect,Lh=({theme:t,type:e,isLoading:n,...i})=>mt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function MI(t){return mt.createElement(Lh,{...t},mt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function OI(t){return mt.createElement(Lh,{...t},mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function VI(t){return mt.createElement(Lh,{...t},mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function PI(t){return mt.createElement(Lh,{...t},mt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function LI(){return mt.createElement("div",{className:"Toastify__spinner"})}var n0={info:OI,warning:MI,success:VI,error:PI,spinner:LI},zI=t=>t in n0;function UI({theme:t,type:e,isLoading:n,icon:i}){let s=null,o={theme:t,type:e};return i===!1||(Fi(i)?s=i({...o,isLoading:n}):ie.isValidElement(i)?s=ie.cloneElement(i,o):n?s=n0.spinner():zI(e)&&(s=n0[e](o))),s}var BI=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:s,playToast:o}=DI(t),{closeButton:u,children:h,autoClose:m,onClick:g,type:x,hideProgressBar:b,closeToast:_,transition:w,position:N,className:V,style:P,progressClassName:L,updateId:q,role:B,progress:J,rtl:F,toastId:U,deleteToast:D,isIn:C,isLoading:M,closeOnClick:k,theme:I,ariaLabel:z}=t,A=bs("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":k}),ae=Fi(V)?V({rtl:F,position:N,type:x,defaultClassName:A}):bs(A,V),pe=UI(t),X=!!J||!m,ce={closeToast:_,type:x,theme:I},_e=null;return u===!1||(Fi(u)?_e=u(ce):ie.isValidElement(u)?_e=ie.cloneElement(u,ce):_e=gI(ce)),mt.createElement(w,{isIn:C,done:D,position:N,preventExitTransition:n,nodeRef:i,playToast:o},mt.createElement("div",{id:U,tabIndex:0,onClick:g,"data-in":C,className:ae,...s,style:P,ref:i,...C&&{role:B,"aria-label":z}},pe!=null&&mt.createElement("div",{className:bs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},pe),nE(h,t,!e),_e,!t.customProgressBar&&mt.createElement(yI,{...q&&!X?{key:`p-${q}`}:{},rtl:F,theme:I,delay:m,isRunning:e,isIn:C,closeToast:_,hide:b,type:x,className:L,controlledProgress:X,progress:J||0})))},qI=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),FI=pI(qI("bounce",!0)),HI={position:"top-right",transition:FI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function $I(t){let e={...HI,...t},n=t.stacked,[i,s]=ie.useState(!0),o=ie.useRef(null),{getToastToRender:u,isToastActive:h,count:m}=jI(e),{className:g,style:x,rtl:b,containerId:_,hotKeys:w}=e;function N(P){let L=bs("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":b});return Fi(g)?g({position:P,rtl:b,defaultClassName:L}):bs(L,Wp(g))}function V(){n&&(s(!0),Ce.play())}return II(()=>{var P;if(n){let L=o.current.querySelectorAll('[data-in="true"]'),q=12,B=(P=e.position)==null?void 0:P.includes("top"),J=0,F=0;Array.from(L).reverse().forEach((U,D)=>{let C=U;C.classList.add("Toastify__toast--stacked"),D>0&&(C.dataset.collapsed=`${i}`),C.dataset.pos||(C.dataset.pos=B?"top":"bot");let M=J*(i?.2:1)+(i?0:q*D);C.style.setProperty("--y",`${B?M:M*-1}px`),C.style.setProperty("--g",`${q}`),C.style.setProperty("--s",`${1-(i?F:0)}`),J+=C.offsetHeight,F+=.025})}},[i,m,n]),ie.useEffect(()=>{function P(L){var q;let B=o.current;w(L)&&((q=B.querySelector('[tabIndex="0"]'))==null||q.focus(),s(!1),Ce.pause()),L.key==="Escape"&&(document.activeElement===B||B!=null&&B.contains(document.activeElement))&&(s(!0),Ce.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[w]),mt.createElement("section",{ref:o,className:"Toastify",id:_,onMouseEnter:()=>{n&&(s(!1),Ce.pause())},onMouseLeave:V,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((P,L)=>{let q=L.length?{...x}:{...x,pointerEvents:"none"};return mt.createElement("div",{tabIndex:-1,className:N(P),"data-stacked":n,style:q,key:`c-${P}`},L.map(({content:B,props:J})=>mt.createElement(BI,{...J,stacked:n,collapseAll:V,isIn:h(J.toastId,J.containerId),key:`t-${J.key}`},B)))}))}function GI({selectedStudent:t}){const{students:e}=X2(),{notices:n,isLoading:i,isSaving:s,isAdmin:o,isCoLeader:u,canManageNotices:h,createNotice:m,deleteNotice:g,editNotice:x,updateNoticePermissions:b,voteInPoll:_,toggleChecklistItem:w,toggleTodo:N}=_5(t),[V,P]=ie.useState(!1),[L,q]=ie.useState(!1),[B,J]=ie.useState(null),[F,U]=ie.useState("all"),[D,C]=ie.useState(""),[M,k]=ie.useState(!1),[I,z]=ie.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),A=n.filter(Y=>{const xe=F==="all"||Y.type===F,ne=!D||Y.content.toLowerCase().includes(D.toLowerCase())||Y.createdBy.toLowerCase().includes(D.toLowerCase());return xe&&ne}),ae=[{id:"all",label:"All",icon:Eu,count:n.length},{id:"notice",label:"Notices",icon:Eu,count:n.filter(Y=>Y.type==="notice").length},{id:"checklist",label:"Checklists",icon:l0,count:n.filter(Y=>Y.type==="checklist").length},{id:"poll",label:"Polls",icon:i0,count:n.filter(Y=>Y.type==="poll").length},{id:"reminder",label:"Reminders",icon:Hf,count:n.filter(Y=>Y.type==="reminder").length},{id:"todo",label:"Todos",icon:_u,count:n.filter(Y=>Y.type==="todo").length}],pe=Y=>{z(Y),k(!0)},X=()=>{I.onConfirm(),k(!1)},ce=()=>{k(!1)},_e=async Y=>{if(!h){Ce.error(" Only admin and co-leaders can create notices");return}await m(Y.type,Y.content,Y.meta,Y.allowedUsers||[],Y.isPublic||!1)?(P(!1),Ce.success(" Notice created successfully!")):Ce.error(" Failed to create notice. Please try again.")},ke=async(Y,xe)=>{if(!h)return Ce.error(" Only admin and co-leaders can edit notices"),!1;const ne=await x(Y,xe);return ne?Ce.success(" Notice updated successfully!"):Ce.error(" Failed to update notice. Please try again."),ne},S=async Y=>{if(!h){Ce.error(" Only admin and co-leaders can delete notices");return}pe({title:"Delete Notice",message:"Are you sure you want to delete this notice? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{await g(Y)?Ce.success(" Notice deleted successfully!"):Ce.error(" Failed to delete notice. Please try again.")}})},se=Y=>{J(Y),q(!0)},ge=async(Y,xe)=>{if(B)try{await b(B.id,Y,xe)?(q(!1),J(null),Ce.success(" Permissions updated successfully!")):Ce.error(" Failed to update permissions")}catch(ne){Ce.error(" Error updating permissions: "+ne.message)}},j=Y=>{const xe={notice:Y,currentUser:t?.rollNo,students:e,isAdmin:o,isCoLeader:u,canManageNotices:h,onDelete:S,onEdit:ke,onManagePermissions:()=>se(Y)};switch(Y.type){case"checklist":return d.jsx(aI,{...xe,onToggleItem:ne=>w(Y.id,ne,t?.rollNo)},Y.id);case"poll":return d.jsx(sI,{...xe,onVote:(ne,be)=>_(Y.id,ne,be)},Y.id);case"reminder":return d.jsx(lI,{...xe},Y.id);case"todo":return d.jsx(oI,{...xe,onToggle:()=>N(Y.id,t?.rollNo)},Y.id);default:return d.jsx(iI,{...xe},Y.id)}};return t?i?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ir,{className:"w-6 h-6 animate-spin text-blue-600"}),d.jsx("span",{className:"text-lg text-gray-600",children:"Loading notice board..."})]})}):d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsx(eE,{open:M,title:I.title,message:I.message,confirmText:I.confirmText,cancelText:I.cancelText,confirmColor:I.confirmColor,icon:I.icon,onConfirm:X,onCancel:ce}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[d.jsx(ou,{className:"w-8 h-8 text-blue-600"}),"Global Notice Board",o&&d.jsx(Tu,{className:"w-6 h-6 text-yellow-600",title:"Admin View"}),u&&d.jsx(Su,{className:"w-6 h-6 text-purple-600",title:"Co-Leader View"})]}),d.jsx("p",{className:"text-gray-600",children:h?`${o?"Admin":"Co-Leader"}: Create and manage notices for all students`:"Stay updated with announcements, polls, and reminders"})]}),h&&d.jsxs("button",{onClick:()=>P(!0),disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50",children:[d.jsx(Vi,{className:"w-4 h-4"}),"Create Notice"]})]}),h&&d.jsx("div",{className:`rounded-2xl p-4 border ${o?"bg-yellow-50 border-yellow-200":"bg-purple-50 border-purple-200"}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[o?d.jsx(Tu,{className:"w-5 h-5 text-yellow-600 mt-0.5"}):d.jsx(Su,{className:"w-5 h-5 text-purple-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h4",{className:`font-medium mb-1 ${o?"text-yellow-900":"text-purple-900"}`,children:o?"Admin Privileges":"Co-Leader Privileges"}),d.jsxs("ul",{className:`text-sm space-y-1 ${o?"text-yellow-700":"text-purple-700"}`,children:[d.jsx("li",{children:" Create, edit and manage notices with user visibility"}),d.jsx("li",{children:" View who voted for each poll option and completed checklist items"}),d.jsx("li",{children:" Create multi-select or single-choice polls"}),d.jsx("li",{children:" Edit existing notices, polls, and checklists"}),o&&d.jsx("li",{children:" Assign co-leader roles to other students"})]})]})]})}),!h&&d.jsx("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ou,{className:"w-5 h-5 text-blue-600"}),d.jsx("div",{children:d.jsx("p",{className:"text-sm text-blue-700",children:"You can view and interact with notices shared with you. Click on voter counts in polls or completion counts in checklists to see who participated."})})]})}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:ae.map(Y=>d.jsxs("button",{onClick:()=>U(Y.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-xl transition-all
                ${F===Y.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
              `,children:[d.jsx(Y.icon,{className:"w-4 h-4"}),d.jsx("span",{children:Y.label}),d.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:Y.count})]},Y.id))}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:d.jsx(s0,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search notices...",value:D,onChange:Y=>C(Y.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),D&&d.jsx("button",{onClick:()=>C(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.jsx(lr,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]})]}),V&&h&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:d.jsx("div",{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:d.jsx(uI,{onSubmit:_e,onCancel:()=>P(!1),isLoading:s,students:e})})}),L&&B&&h&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:d.jsx(cI,{notice:B,students:e,onUpdate:ge,onCancel:()=>q(!1)})}),d.jsx("div",{className:"space-y-4",children:A.length>0?A.map(j):d.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border border-gray-100",children:[d.jsx(ou,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No notices found"}),d.jsx("p",{className:"text-gray-600 mb-4",children:D||F!=="all"?"Try adjusting your filters or search terms":h?"Create the first notice to get started!":"No notices have been shared with you yet."}),h&&d.jsxs("button",{onClick:()=>P(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:[d.jsx(Vi,{className:"w-4 h-4"}),"Create First Notice"]})]})})]}):d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx(ou,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),d.jsx("p",{className:"text-gray-600",children:"Please select a student to view the notice board"})]})})}function YI(t){const[e,n]=ie.useState(""),[i,s]=ie.useState(!0),[o,u]=ie.useState(!1),[h,m]=ie.useState(null),[g,x]=ie.useState(null);return ie.useEffect(()=>{if(!t){n(""),s(!1);return}(async()=>{try{s(!0),x(null);const N=rr(un,"userNotes",t),V=await h5(N);V.exists()?(n(V.data().content||""),m(V.data().updatedAt?V.data().updatedAt.toDate():null)):(n(""),m(null))}catch(N){console.error("Error loading notes:",N),x(N.message)}finally{s(!1)}})()},[t]),ie.useEffect(()=>{if(!t||i)return;const w=setTimeout(async()=>{try{u(!0);const N=rr(un,"userNotes",t);await gs(N,{content:e,updatedAt:Rl(),userId:t}),m(new Date),x(null)}catch(N){console.error("Error saving notes:",N),x("Failed to save notes: "+N.message)}finally{u(!1)}},1e3);return()=>clearTimeout(w)},[e,t,i]),{notes:e,updateNotes:w=>{n(w)},clearNotes:async()=>{if(t)try{u(!0);const w=rr(un,"userNotes",t);await gs(w,{content:"",updatedAt:Rl(),userId:t}),n(""),m(new Date)}catch(w){console.error("Error clearing notes:",w),x("Failed to clear notes: "+w.message)}finally{u(!1)}},isLoading:i,isSaving:o,lastSaved:h,error:g}}function QI({selectedStudent:t}){const{notes:e,updateNotes:n,clearNotes:i,isLoading:s,isSaving:o,lastSaved:u,error:h}=YI(t?.rollNo),[m,g]=ie.useState("split"),[x,b]=ie.useState(!1),_=ie.useRef(!1);ie.useEffect(()=>{!_.current&&!s&&(e&&e.trim().length>0&&g("preview"),_.current=!0)},[e,s]),ie.useEffect(()=>{_.current=!1},[t]);const w=async()=>{window.confirm(" Are you sure you want to clear all your notes? This action cannot be undone.")&&(await i(),alert(" Notes cleared successfully!"))},N=(L,q="",B="")=>{const J=document.getElementById("notes-textarea"),F=J.selectionStart,U=J.selectionEnd,D=e.substring(F,U),C=L+(D||B)+q,M=e.substring(0,F)+C+e.substring(U);n(M),setTimeout(()=>{J.focus();const k=F+L.length+(D||B).length;J.setSelectionRange(k,k)},0)},V=[{icon:JT,title:"Bold",action:()=>N("**","**","bold text")},{icon:D4,title:"Italic",action:()=>N("*","*","italic text")},{icon:R4,title:"Heading",action:()=>N("# ","","Heading")},{icon:L4,title:"List",action:()=>N("- ","","List item")},{icon:H4,title:"Quote",action:()=>N("> ","","Quote")},{icon:_4,title:"Code",action:()=>N("`","`","code")},{icon:O4,title:"Link",action:()=>N("[","](url)","link text")}],P=L=>{if(!L)return"Never saved";const B=new Date-L;return B<6e4?"Saved just now":B<36e5?`Saved ${Math.floor(B/6e4)} minutes ago`:B<864e5?`Saved ${Math.floor(B/36e5)} hours ago`:`Saved on ${L.toLocaleDateString()} at ${L.toLocaleTimeString()}`};return t?s?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ir,{className:"w-6 h-6 animate-spin text-blue-600"}),d.jsx("span",{className:"text-lg text-gray-600",children:"Loading your notes..."})]})}):d.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[d.jsx(Vf,{className:"w-8 h-8 text-yellow-600"}),"Personal Notes"]}),d.jsxs("p",{className:"text-gray-600",children:["Private notes for ",d.jsx("strong",{children:t.name})," (",t.rollNo,")"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>b(!x),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all text-sm",children:"Markdown Help"}),d.jsxs("button",{onClick:w,disabled:o||!e.trim(),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(Li,{className:"w-4 h-4"}),"Clear All"]})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"flex items-center gap-2",children:o?d.jsxs(d.Fragment,{children:[d.jsx(ir,{className:"w-4 h-4 animate-spin text-blue-600"}),d.jsx("span",{className:"text-sm text-blue-600",children:"Saving..."})]}):h?d.jsxs(d.Fragment,{children:[d.jsx(c4,{className:"w-4 h-4 text-red-600"}),d.jsx("span",{className:"text-sm text-red-600",children:"Error saving"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ss,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{className:"text-sm text-gray-600",children:P(u)})]})}),d.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[d.jsx(Eu,{className:"w-4 h-4"}),d.jsxs("span",{children:[e.length," characters"]})]})]}),d.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-xl p-1",children:[d.jsxs("button",{onClick:()=>g("edit"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${m==="edit"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[d.jsx(Ul,{className:"w-4 h-4"}),"Edit"]}),d.jsxs("button",{onClick:()=>g("split"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${m==="split"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[d.jsxs("div",{className:"w-4 h-4 border border-current rounded-sm flex",children:[d.jsx("div",{className:"w-1/2 border-r border-current"}),d.jsx("div",{className:"w-1/2"})]}),"Split"]}),d.jsxs("button",{onClick:()=>g("preview"),className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all text-sm ${m==="preview"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:[d.jsx(Dl,{className:"w-4 h-4"}),"Preview"]})]})]}),h&&d.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:h})]}),x&&d.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[d.jsx("h3",{className:"font-bold text-blue-900 mb-4",children:"Markdown Quick Reference"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("div",{className:"mb-2",children:d.jsx("code",{children:"# Heading 1"})}),d.jsx("div",{className:"mb-2",children:d.jsx("code",{children:"## Heading 2"})}),d.jsx("div",{className:"mb-2",children:d.jsx("code",{children:"**bold text**"})}),d.jsx("div",{className:"mb-2",children:d.jsx("code",{children:"*italic text*"})}),d.jsx("div",{className:"mb-2",children:d.jsx("code",{children:"`inline code`"})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"mb-2",children:d.jsx("code",{children:"[Link](https://example.com)"})}),d.jsx("div",{className:"mb-2",children:d.jsx("code",{children:"- List item"})}),d.jsx("div",{className:"mb-2",children:d.jsx("code",{children:"> Quote"})}),d.jsxs("div",{className:"mb-2",children:[d.jsx("code",{children:"---"})," (horizontal rule)"]}),d.jsx("div",{className:"mb-2",children:d.jsx("code",{children:"``````"})})]})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(m==="edit"||m==="split")&&d.jsx("div",{className:"border-b border-gray-200 p-3",children:d.jsx("div",{className:"flex items-center gap-1",children:V.map((L,q)=>d.jsx("button",{onClick:L.action,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:L.title,children:d.jsx(L.icon,{className:"w-4 h-4"})},q))})}),d.jsxs("div",{className:"flex h-96",children:[(m==="edit"||m==="split")&&d.jsx("div",{className:`${m==="split"?"w-1/2 border-r border-gray-200":"w-full"}`,children:d.jsx("textarea",{id:"notes-textarea",value:e,onChange:L=>n(L.target.value),className:"w-full h-full p-6 border-none outline-none resize-none font-mono text-sm",placeholder:`Write your personal notes here, ${t.name}...

You can use Markdown syntax:
# Headings
**Bold** and *italic* text
[Links](https://example.com)
- Lists
> Quotes
\`code\`

Your notes are automatically saved as you type.`})}),(m==="preview"||m==="split")&&d.jsx("div",{className:`${m==="split"?"w-1/2":"w-full"} overflow-y-auto`,children:d.jsx("div",{className:"p-6 prose prose-sm max-w-none",children:e.trim()?d.jsx(Kl,{remarkPlugins:[Zl],components:{a:({href:L,children:q})=>d.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:q})},children:e}):d.jsxs("div",{className:"text-gray-500 italic",children:["Your notes will appear here as you type...",d.jsx("br",{}),d.jsx("br",{}),"Try writing some ",d.jsx("strong",{children:"Markdown"}),":",d.jsx("br",{}),"# This is a heading",d.jsx("br",{}),"**This is bold text**",d.jsx("br",{}),"[This is a link](https://example.com)"]})})})]})]}),d.jsx("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-200",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Vf,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:" Tips for better note-taking:"}),d.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[d.jsx("li",{children:" Your notes are private and only visible to you"}),d.jsx("li",{children:" Use headings (#) to organize your content"}),d.jsx("li",{children:" Add links to external resources for quick access"}),d.jsx("li",{children:" Notes are automatically saved as you type"}),d.jsx("li",{children:" Use the split view to see formatting in real-time"})]})]})]})})]}):d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Vf,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Student Selected"}),d.jsx("p",{className:"text-gray-600",children:"Please select a student to view their personal notes"})]})})}function XI({semester:t,setSemester:e,studentManagement:n}){const{students:i,selectedStudent:s,isAdmin:o,isLoading:u,createStudent:h,deleteStudent:m,selectStudent:g,authenticateStudent:x,updateStudentPassword:b,updateStudentRole:_}=n,[w,N]=ie.useState(!1),[V,P]=ie.useState({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1}),[L,q]=ie.useState(!1),[B,J]=ie.useState(!1),[F,U]=ie.useState(!1),[D,C]=ie.useState(null),[M,k]=ie.useState(null),[I,z]=ie.useState(""),[A,ae]=ie.useState(!1),[pe,X]=ie.useState(""),[ce,_e]=ie.useState(!1),[ke,S]=ie.useState(""),[se,ge]=ie.useState(!1),[j,Y]=ie.useState(""),[xe,ne]=ie.useState(""),[be,Te]=ie.useState(null),[pt,Nt]=ie.useState(!1),[Dt,Rn]=ie.useState(!1),[en,or]=ie.useState(null),[cn,Sr]=ie.useState({password:"",confirmPassword:""}),[fn,ui]=ie.useState(!1),[wn,Ar]=ie.useState({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",confirmColor:"red",icon:"warning",onConfirm:()=>{}}),ur=ie.useMemo(()=>{if(!I.trim())return i;const fe=I.toLowerCase();return i.filter(qe=>qe.name.toLowerCase().includes(fe)||qe.rollNo.toLowerCase().includes(fe))},[i,I]),ci=fe=>{Ar(fe),ui(!0)},Or=()=>{wn.onConfirm(),ui(!1)},fi=()=>{ui(!1)},$i=async fe=>{if(fe.rollNo===Ye.rollNo&&s?.rollNo!==Ye.rollNo){ae(!0),S("");return}if(fe.isProtected&&fe.rollNo!==s?.rollNo){Te(fe),Y(""),ne(""),ge(!0);return}g(fe)},te=async fe=>{if(fe.preventDefault(),!pe.trim()){S("Please enter admin password");return}_e(!0),S(""),setTimeout(async()=>{const qe=i.find(Yn=>Yn.rollNo===Ye.rollNo);await x(qe,pe)?(g(qe),ae(!1),X("")):(S("Incorrect admin password. Please try again."),X("")),_e(!1)},800)},de=async fe=>{if(fe.preventDefault(),!j.trim()){ne("Please enter password");return}Nt(!0),ne("");try{await x(be,j)?(g(be),ge(!1),Te(null),Y("")):(ne("Incorrect password. Please try again."),Y(""))}catch{ne("Authentication failed. Please try again.")}finally{Nt(!1)}},Ae=()=>{ge(!1),Te(null),Y(""),ne("")},De=()=>{ae(!1),X(""),S("")},Ze=async fe=>{if(fe.preventDefault(),!V.rollNo.trim()||!V.name.trim()){Ce.error("Please fill in both roll number and name");return}if(L&&!V.password.trim()){Ce.error("Please enter a password or uncheck password protection");return}try{U(!0);const qe=Number(V.admissionYear),_t=new Date().getFullYear();if(!Number.isInteger(qe)||qe<2e3||qe>_t){Ce.error("Please enter a valid admission year"),U(!1);return}await h(V.rollNo.trim(),V.name.trim(),L?V.password.trim():"",V.role,qe,V.isDSY),P({rollNo:"",name:"",password:"",role:"student",admissionYear:new Date().getFullYear(),isDSY:!1}),q(!1),N(!1),Ce.success(" Student created successfully!")}catch(qe){Ce.error(` Error creating student: ${qe.message}`)}finally{U(!1)}},hn=async(fe,qe)=>{if(fe===Ye.rollNo){Ce.error("Cannot delete admin student");return}ci({title:"Delete Student",message:`Are you sure you want to delete "${qe}" (${fe})?

This will permanently delete all their academic data and cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"red",icon:"danger",onConfirm:async()=>{try{C(fe),await m(fe),Ce.success(" Student deleted successfully!")}catch(_t){Ce.error(` Error deleting student: ${_t.message}`)}finally{C(null)}}})},tn=async(fe,qe)=>{if(fe.rollNo===Ye.rollNo){Ce.error("Cannot change admin role");return}const _t={student:"Student","co-leader":"Co-Leader"};ci({title:"Change Role",message:`Change ${fe.name}'s role to ${_t[qe]}?

${qe==="co-leader"?"Co-leaders can create and manage notices.":"Students have standard access only."}`,confirmText:"Change Role",cancelText:"Cancel",confirmColor:"blue",icon:"warning",onConfirm:async()=>{try{k(fe.rollNo),await _(fe.rollNo,qe),Ce.success(` ${fe.name}'s role updated to ${_t[qe]}!`)}catch(Yn){Ce.error(` Error updating role: ${Yn.message}`)}finally{k(null)}}})},Lt=fe=>{or(fe),Rn(!0),Sr({password:"",confirmPassword:""})},jn=async fe=>{if(fe.preventDefault(),cn.password!==cn.confirmPassword){Ce.error("Passwords do not match");return}if(!cn.password.trim()){Ce.error("Please enter a password");return}try{const qe=en?.isProtected;await b(en.rollNo,cn.password),Rn(!1),or(null),qe?Ce.success(" Password updated successfully!"):Ce.success(" Password added successfully!")}catch(qe){Ce.error(` Error updating password: ${qe.message}`)}},Yt=async fe=>{ci({title:"Remove Password Protection",message:`Remove password protection from ${fe.name}?

This will allow unrestricted access to their account.`,confirmText:"Remove",cancelText:"Cancel",confirmColor:"orange",icon:"warning",onConfirm:async()=>{try{await b(fe.rollNo,"",!0),Ce.success(" Password protection removed!")}catch(qe){Ce.error(` Error removing password: ${qe.message}`)}}})},Ct=()=>{z("")},It=fe=>{switch(fe){case"admin":return{name:"Admin",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:ei};case"co-leader":return{name:"Co-Leader",color:"text-purple-600",bgColor:"bg-purple-100",icon:Su};default:return{name:"Student",color:"text-blue-600",bgColor:"bg-blue-100",icon:ai}}};return u?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ir,{className:"w-6 h-6 animate-spin text-blue-600"}),d.jsx("span",{className:"text-lg text-gray-600",children:"Loading students..."})]})}):d.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[d.jsx(eE,{open:fn,title:wn.title,message:wn.message,confirmText:wn.confirmText,cancelText:wn.cancelText,confirmColor:wn.confirmColor,icon:wn.icon,onConfirm:Or,onCancel:fi}),A&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(ei,{className:"w-8 h-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Authentication"}),d.jsxs("p",{className:"text-gray-600",children:["Enter admin password to switch to ",Ye.name]})]}),d.jsxs("form",{onSubmit:te,className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:d.jsx(xn,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:"password",placeholder:"Admin password",value:pe,onChange:fe=>X(fe.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:ce,autoFocus:!0})]}),ke&&d.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:ke}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"submit",disabled:ce||!pe.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:ce?d.jsxs(d.Fragment,{children:[d.jsx(ir,{className:"w-4 h-4 animate-spin"}),d.jsx("span",{children:"Authenticating..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(ei,{className:"w-4 h-4"}),d.jsx("span",{children:"Switch to Admin"})]})}),d.jsx("button",{type:"button",onClick:De,disabled:ce,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),se&&be&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(xn,{className:"w-8 h-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Student Authentication"}),d.jsxs("p",{className:"text-gray-600",children:["Enter password to access ",be.name,"'s account"]})]}),d.jsxs("form",{onSubmit:de,className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:d.jsx(xn,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:"password",placeholder:"Enter password",value:j,onChange:fe=>Y(fe.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:pt,autoFocus:!0})]}),xe&&d.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:xe}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"submit",disabled:pt||!j.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:pt?d.jsxs(d.Fragment,{children:[d.jsx(ir,{className:"w-4 h-4 animate-spin"}),d.jsx("span",{children:"Authenticating..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(xn,{className:"w-4 h-4"}),d.jsx("span",{children:"Access Account"})]})}),d.jsx("button",{type:"button",onClick:Ae,disabled:pt,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all disabled:opacity-50",children:"Cancel"})]})]})]})}),Dt&&en&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(Af,{className:"w-8 h-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:en?.isProtected?"Change Password":"Add Password"}),d.jsxs("p",{className:"text-gray-600",children:["Set new password for ",en.name]})]}),d.jsxs("form",{onSubmit:jn,className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:d.jsx(xn,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:"password",placeholder:"New password",value:cn.password,onChange:fe=>Sr({...cn,password:fe.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,autoFocus:!0})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:d.jsx(xn,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:"password",placeholder:"Confirm password",value:cn.confirmPassword,onChange:fe=>Sr({...cn,confirmPassword:fe.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all font-medium",children:[d.jsx(Af,{className:"w-4 h-4"}),d.jsx("span",{children:en?.isProtected?"Update Password":"Set Password"})]}),d.jsx("button",{type:"button",onClick:()=>Rn(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]})]})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Student & Semester Management"}),d.jsx("p",{className:"text-gray-600",children:"Manage students, roles, and select current semester"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(ai,{className:"w-5 h-5"}),"Current Student",s?.rollNo===Ye.rollNo&&d.jsx(ei,{className:"w-4 h-4 text-yellow-500"})]}),s&&d.jsx("div",{className:`rounded-2xl p-4 border ${s.rollNo===Ye.rollNo?"bg-yellow-50 border-yellow-200":s.role==="co-leader"?"bg-purple-50 border-purple-200":(s.isProtected,"bg-blue-50 border-blue-200")}`,children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("p",{className:`font-bold ${s.rollNo===Ye.rollNo?"text-yellow-900":s.role==="co-leader"?"text-purple-900":"text-blue-900"}`,children:s.name}),d.jsxs("p",{className:`text-sm ${s.rollNo===Ye.rollNo?"text-yellow-700":s.role==="co-leader"?"text-purple-700":"text-blue-700"}`,children:["Roll No: ",s.rollNo]}),s.admissionYear&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Admission: ",s.admissionYear||"N/A"," ",s.isDSY?"(DSY)":""]}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsxs("div",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full ${It(s.role||"student").bgColor}`,children:[mt.createElement(It(s.role||"student").icon,{className:`w-3 h-3 ${It(s.role||"student").color}`}),d.jsx("span",{className:It(s.role||"student").color,children:It(s.role||"student").name})]}),s.isProtected&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(xn,{className:"w-3 h-3 text-blue-600"}),d.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Protected"})]})]})]})})})]}),d.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Semester"}),d.jsx("select",{className:"w-full p-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-lg font-medium bg-white",value:t,onChange:fe=>e(Number(fe.target.value)),children:(s?.isDSY?[3,4,5,6,7,8]:[1,2,3,4,5,6,7,8]).map(fe=>d.jsxs("option",{value:fe,children:["Semester ",fe," (",wa[fe].theory.length," theory + ",wa[fe].practical.length," practical)"]},fe))}),d.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Su,{className:"w-4 h-4 text-blue-600 mt-1"}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-medium text-blue-900 text-sm",children:["Semester ",t," Overview"]}),d.jsxs("p",{className:"text-xs text-blue-700",children:[wa[t].theory.length," theory subjects and ",wa[t].practical.length," practical labs"]})]})]})}),s?.isDSY&&d.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-xl border border-yellow-200 text-sm text-yellow-700",children:"Note: DSY students start from Semester 3  Semesters 1 & 2 are hidden for DSY students."})]})]}),d.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[d.jsx(zi,{className:"w-5 h-5"}),"Select Student (",i.length," total)"]}),o&&d.jsxs("button",{onClick:()=>N(!w),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:[d.jsx(Vi,{className:"w-4 h-4"}),"Add Student"]})]}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:d.jsx(s0,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search students by name or roll number...",value:I,onChange:fe=>z(fe.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),I&&d.jsx("button",{onClick:Ct,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.jsx(lr,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),w&&o&&d.jsxs("form",{onSubmit:Ze,className:"mb-6 p-4 bg-green-50 rounded-2xl border border-green-200",children:[d.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Create New Student"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[d.jsx("input",{type:"text",placeholder:"Roll Number (e.g., 2405226)",value:V.rollNo,onChange:fe=>P({...V,rollNo:fe.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),d.jsx("input",{type:"text",placeholder:"Full Name",value:V.name,onChange:fe=>P({...V,name:fe.target.value}),className:"p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Role"}),d.jsxs("select",{value:V.role,onChange:fe=>P({...V,role:fe.target.value}),className:"w-full p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"co-leader",children:"Co-Leader"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Admission Year"}),d.jsx("input",{type:"number",min:"2000",max:new Date().getFullYear(),value:V.admissionYear,onChange:fe=>P({...V,admissionYear:fe.target.value}),className:"w-full p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"Direct Second Year (DSY)"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{id:"is-dsy",type:"checkbox",checked:V.isDSY,onChange:fe=>P({...V,isDSY:fe.target.checked}),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),d.jsx("label",{htmlFor:"is-dsy",className:"text-sm text-gray-700",children:"Is DSY (Direct Second Year)"})]})]})]}),d.jsx("div",{className:"mb-3",children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:L,onChange:fe=>q(fe.target.checked),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"}),d.jsxs("span",{className:"text-sm font-medium text-green-900 flex items-center gap-1",children:[d.jsx(Tu,{className:"w-4 h-4"}),"Password protect this account"]})]})}),L&&d.jsxs("div",{className:"relative mb-3",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:d.jsx(xn,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:B?"text":"password",placeholder:"Password",value:V.password,onChange:fe=>P({...V,password:fe.target.value}),className:"w-full pl-10 pr-10 p-3 border border-green-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",required:L}),d.jsx("button",{type:"button",onClick:()=>J(!B),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:B?d.jsx(vs,{className:"w-4 h-4 text-gray-400"}):d.jsx(Dl,{className:"w-4 h-4 text-gray-400"})})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"submit",disabled:F,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all disabled:opacity-50",children:[F?d.jsx(ir,{className:"w-4 h-4 animate-spin"}):d.jsx(Vi,{className:"w-4 h-4"}),F?"Creating...":"Create Student"]}),d.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all",children:"Cancel"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:ur.length>0?ur.map(fe=>{const qe=It(fe.role||"student");return d.jsxs("div",{className:`
                    p-4 rounded-2xl border-2 transition-all cursor-pointer relative
                    ${s?.rollNo===fe.rollNo?fe.rollNo===Ye.rollNo?"border-yellow-500 bg-yellow-50":fe.role==="co-leader"?"border-purple-500 bg-purple-50":"border-blue-500 bg-blue-50":fe.rollNo===Ye.rollNo?"border-yellow-200 bg-yellow-50 hover:border-yellow-300":fe.role==="co-leader"?"border-purple-200 bg-purple-50 hover:border-purple-300":fe.isProtected?"border-blue-200 bg-blue-50 hover:border-blue-300":"border-gray-200 bg-gray-50 hover:border-blue-300"}
                  `,onClick:()=>$i(fe),children:[fe.isProtected&&d.jsx("div",{className:"absolute top-2 right-2",children:d.jsx(xn,{className:"w-4 h-4 text-blue-600"})}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h4",{className:"font-bold text-gray-900",children:fe.name}),mt.createElement(qe.icon,{className:`w-4 h-4 ${qe.color}`})]}),d.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Roll: ",fe.rollNo]}),d.jsx("div",{className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full ${qe.bgColor}`,children:d.jsx("span",{className:qe.color,children:qe.name})}),d.jsx("div",{className:"mt-2",children:s?.rollNo===fe.rollNo?d.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Currently Selected"}):fe.isProtected?d.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Password Protected"}):null})]}),o&&fe.rollNo!==Ye.rollNo&&d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex gap-1",children:[fe.role!=="co-leader"&&d.jsx("button",{onClick:_t=>{_t.stopPropagation(),tn(fe,"co-leader")},disabled:M===fe.rollNo,className:"p-1 text-purple-500 hover:bg-purple-100 rounded transition-all",title:"Make Co-Leader",children:d.jsx(lS,{className:"w-3 h-3"})}),fe.role==="co-leader"&&d.jsx("button",{onClick:_t=>{_t.stopPropagation(),tn(fe,"student")},disabled:M===fe.rollNo,className:"p-1 text-gray-500 hover:bg-gray-100 rounded transition-all",title:"Remove Co-Leader",children:d.jsx(uS,{className:"w-3 h-3"})})]}),fe.isProtected?d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:_t=>{_t.stopPropagation(),Lt(fe)},className:"p-1 text-blue-500 hover:bg-blue-100 rounded transition-all",title:"Change Password",children:d.jsx(Af,{className:"w-3 h-3"})}),d.jsx("button",{onClick:_t=>{_t.stopPropagation(),Yt(fe)},className:"p-1 text-orange-500 hover:bg-orange-100 rounded transition-all",title:"Remove Password",children:d.jsx(Tu,{className:"w-3 h-3"})})]}):d.jsx("div",{className:"flex gap-1",children:d.jsx("button",{onClick:_t=>{_t.stopPropagation(),Lt(fe)},className:"p-1 text-green-500 hover:bg-green-100 rounded transition-all",title:"Add Password",children:d.jsx(Af,{className:"w-3 h-3"})})}),d.jsx("button",{onClick:_t=>{_t.stopPropagation(),hn(fe.rollNo,fe.name)},disabled:D===fe.rollNo,className:"p-1 text-red-500 hover:bg-red-100 rounded transition-all disabled:opacity-50",title:"Delete Student",children:D===fe.rollNo?d.jsx(ir,{className:"w-3 h-3 animate-spin"}):d.jsx(Li,{className:"w-3 h-3"})})]})]})]},fe.rollNo)}):d.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[d.jsx(zi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),d.jsxs("p",{children:['No students found matching "',I,'"']})]})})]})]})}function KI({selectedStudent:t}){if(!t)return null;const e=Number(t.admissionYear)||null,n=e?e+4:null;return d.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx(wu,{className:"w-8 h-8 text-green-600"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Degree Completion"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Information about graduation eligibility for this student"})]})]}),d.jsxs("div",{className:"p-6 bg-green-50 border border-green-100 rounded-xl",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(wu,{className:"w-6 h-6 text-green-700"}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium text-green-900",children:[t.name," is eligible for degree completion"]}),d.jsxs("p",{className:"text-sm text-green-700",children:["Admission Year: ",e||"N/A"]}),n&&d.jsxs("p",{className:"text-sm text-green-700",children:["Expected Completion: ",n," (4 academic years)"]})]})]}),d.jsx("div",{className:"mt-6",children:d.jsx("p",{className:"text-sm text-gray-700",children:"You can use this page to display final degree details, add convocation information, or provide export options for transcripts and certificates."})})]})]})}function ZI(t,e){const[n,i]=ie.useState(()=>{try{const u=window.localStorage.getItem(t);return u?JSON.parse(u):e}catch(u){return console.error(`Error loading localStorage key "${t}":`,u),e}});return[n,u=>{try{i(u),window.localStorage.setItem(t,JSON.stringify(u))}catch(h){console.error(`Error setting localStorage key "${t}":`,h)}},()=>{try{i(e),window.localStorage.removeItem(t)}catch(u){console.error(`Error clearing localStorage key "${t}":`,u)}}]}function JI(t){const[e,n]=ie.useState(navigator.onLine),[i,s]=ie.useState(!1),[o,u]=ie.useState(null);return ie.useEffect(()=>{const g=()=>n(!0),x=()=>n(!1);return window.addEventListener("online",g),window.addEventListener("offline",x),()=>{window.removeEventListener("online",g),window.removeEventListener("offline",x)}},[]),{isOnline:e,isSyncing:i,lastSynced:o,saveToFirestore:async(g,x,b,_)=>{if(!t)return!1;try{s(!0);const w=rr(un,"academic-data",`${t}-${g}-${x}`);return await gs(w,{studentId:t,semester:g,subject:x,type:_,data:b,timestamp:Rl(),lastModified:new Date().toISOString()}),u(new Date),!0}catch(w){return console.error("Error saving to Firestore:",w),!1}finally{s(!1)}},loadAllData:async()=>{if(!t)return{};try{s(!0);const g=$0(Vu(un,"academic-data"),P2("studentId","==",t));return new Promise((x,b)=>U2(g,w=>{const N={};w.forEach(V=>{const P=V.data(),L=`${P.semester}-${P.subject}`;N[L]=P}),u(new Date),x(N)},w=>{console.error("Error loading all data:",w),b(w)}))}catch(g){return console.error("Error setting up real-time listener:",g),{}}finally{s(!1)}}}}function WI(){const[t,e]=ie.useState(0),[n,i]=ie.useState(5),[s,o]=ie.useState(!1),u=X2(),{students:h,selectedStudent:m,isLoading:g,hasInitialized:x,selectStudent:b}=u,_=m?`academic-data-${m.rollNo}`:"academic-data-temp",[w,N]=ZI(_,{}),V=m?.rollNo,{isOnline:P,isSyncing:L,lastSynced:q,saveToFirestore:B,loadAllData:J}=JI(V);ie.useEffect(()=>{let I=!1;if(!m){N({});return}return o(!0),N({}),setTimeout(async()=>{if(!I){if(P&&m)try{const z=await J();I||z&&Object.keys(z).length>0&&N(z)}catch{I||N({})}I||o(!1)}},50),()=>{I=!0}},[m,P]);const F=I=>{if(!I||!I.admissionYear)return!1;const z=new Date;return(z.getMonth()+1>=7?z.getFullYear():z.getFullYear()-1)-Number(I.admissionYear)>=4};ie.useEffect(()=>{if(m){const I=D(m);I?i(I):m.isDSY&&i(z=>z<3?3:z),F(m)&&e(5),!F(m)&&t===5&&e(0)}},[m]);const U=async(I,z,A="theory")=>{if(!m)return;const ae=`${n}-${I}`,pe={data:z,type:A,semester:n,subject:I},X={...w,[ae]:pe};if(N(X),P)try{await B(n,I,z,A)}catch(ce){console.error("Error syncing to Firestore:",ce)}},D=I=>{if(!I||!I.admissionYear)return null;const z=new Date,A=z.getMonth()+1,ae=A>=7?z.getFullYear():z.getFullYear()-1,pe=Number(I.admissionYear);let X=ae-pe;X<0&&(X=0);const ce=I.isDSY?3:1,_e=A>=7?0:1;let ke=ce+X*2+_e;return ke<ce&&(ke=ce),ke>8&&(ke=8),ke},C=I=>{N({});const z=D(I);z&&i(z),b(I)};if(!m||g||!x||s)return d.jsx(mS,{students:h,onStudentSelect:C,isLoading:g||!x||s,studentManagement:u});const M={isOnline:P,isSyncing:L,lastSynced:q},k=()=>{b(null),localStorage.removeItem("selected-student"),N({})};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[d.jsx(pS,{semester:n,syncStatus:M,selectedStudent:m,onStudentSwitch:k}),d.jsx(gS,{activeTab:t,onTabChange:e,showDegreeTab:F(m)}),d.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[d.jsx(xl,{value:t,index:0,children:d.jsx(xS,{semester:n,allData:w,handleDataChange:U})}),d.jsx(xl,{value:t,index:1,children:d.jsx(vS,{semester:n,allData:w,handleDataChange:U})}),d.jsx(xl,{value:t,index:2,children:d.jsx(GI,{selectedStudent:m})}),d.jsx(xl,{value:t,index:3,children:d.jsx(QI,{selectedStudent:m})}),d.jsx(xl,{value:t,index:4,children:d.jsx(XI,{semester:n,setSemester:i,studentManagement:u})}),d.jsx(xl,{value:t,index:5,children:d.jsx(KI,{selectedStudent:m})})]})]})}function e7({children:t}){return d.jsxs(d.Fragment,{children:[t,d.jsx($I,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastStyle:{fontSize:"14px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"}})]})}qT.createRoot(document.getElementById("root")).render(d.jsx(mt.StrictMode,{children:d.jsx(e7,{children:d.jsx(WI,{})})}));
